"use strict";(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[1167],{550:(k,E,s)=>{function u(){return[1,0,0,0,1,0,0,0,1]}function y(h,n){return new Float64Array(h,n,9)}s.d(E,{a:()=>y,c:()=>u}),Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:function g(h){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]]},fromValues:function c(h,n,p,f,P,V,F,A,w){return[h,n,p,f,P,V,F,A,w]},createView:y},Symbol.toStringTag,{value:"Module"}))},43703:(k,E,s)=>{function u(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function g(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]}function y(n,p){return new Float64Array(n,p,16)}s.d(E,{I:()=>d,a:()=>y,b:()=>g,c:()=>u});const d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:g,fromValues:function c(n,p,f,P,V,F,A,w,B,z,j,l,C,S,Y,W){return[n,p,f,P,V,F,A,w,B,z,j,l,C,S,Y,W]},createView:y,IDENTITY:d},Symbol.toStringTag,{value:"Module"}))},78451:(k,E,s)=>{function u(){return[0,0,0,1]}function g(n){return[n[0],n[1],n[2],n[3]]}function y(n,p){return new Float64Array(n,p,4)}s.d(E,{I:()=>d,a:()=>u,b:()=>g,c:()=>y});const d=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:u,clone:g,fromValues:function c(n,p,f,P){return[n,p,f,P]},createView:y,IDENTITY:d},Symbol.toStringTag,{value:"Module"}))},97535:(k,E,s)=>{s.d(E,{x:()=>g});var u=s(79682);class g{constructor(d){this.allocator=d,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,u.Y)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const d=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*c);this._items.length=Math.min(d,this._items.length),this._itemsPtr=0}_grow(){for(let d=0;d<Math.max(8,Math.min(this._items.length,c));d++)this._items.push(this.allocator())}}const c=1024},26242:(k,E,s)=>{s.d(E,{MP:()=>B,WM:()=>F});var u=s(27306),g=s(79682),c=s(550),y=s(43703),d=s(78451),h=s(99770),n=s(28093),p=s(4794);class f{constructor(l,C,S){this.itemByteSize=l,this.itemCreate=C,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(S/this.itemByteSize)}get(){0===this._itemsPtr&&(0,g.Y)(()=>this._reset());const l=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=l;){const C=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let S=0;S<this._itemsPerBuffer;++S)this._items.push(this.itemCreate(C,S*this.itemByteSize));this._buffers.push(C)}return this._items[this._itemsPtr++]}_reset(){const l=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>l;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(l=P){return new f(16,h.c,l)}static createVec3f64(l=P){return new f(24,n.b,l)}static createVec4f64(l=P){return new f(32,p.a,l)}static createMat3f64(l=P){return new f(72,c.a,l)}static createMat4f64(l=P){return new f(128,y.a,l)}static createQuatf64(l=P){return new f(32,d.c,l)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}const P=4*u.Y8.KILOBYTES,F=(f.createVec2f64(),f.createVec3f64()),B=(f.createVec4f64(),f.createMat3f64(),f.createMat4f64());f.createQuatf64()},83320:(k,E,s)=>{s.r(E),s.d(E,{destroyContext:()=>yt,dracoDecompressPointCloudData:()=>W,filterObbsForModifications:()=>ht,filterObbsForModificationsSync:()=>rt,initialize:()=>N,interpretObbModificationResults:()=>bt,process:()=>S,setLegacySchema:()=>mt,setModifications:()=>dt,setModificationsSync:()=>et,test:()=>_t});var y,d,t,u=s(15861),g=s(62208),c=s(55713);(t=y||(y={}))[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32",function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(d||(d={}));var h=s(54346);function p(t){return(0,h.V)(`esri/libs/i3s/${t}`)}let f;var A,w,B,z,j;function S(t){return Y.apply(this,arguments)}function Y(){return Y=(0,u.Z)(function*(t){yield N();const r=[t.geometryBuffer];return{result:nt(t,r),transferList:r}}),Y.apply(this,arguments)}function W(t){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)(function*(t){var D;yield N();const r=[t.geometryBuffer],{geometryBuffer:i}=t,_=i.byteLength,m=a._malloc(_),v=new Uint8Array(a.HEAPU8.buffer,m,_);v.set(new Uint8Array(i));const b=a.dracoDecompressPointCloudData(m,v.byteLength);if(a._free(m),b.error.length>0)throw`i3s.wasm: ${b.error}`;const U=(null==(D=b.featureIds)?void 0:D.length)>0?(0,c.tP)(b.featureIds):null,T=(0,c.tP)(b.positions);return U&&r.push(U.buffer),r.push(T.buffer),{result:{positions:T,featureIds:U},transferList:r}}),Z.apply(this,arguments)}function ht(t){return G.apply(this,arguments)}function G(){return G=(0,u.Z)(function*(t){yield N(),rt(t);const r={buffer:t.buffer};return{result:r,transferList:[r.buffer]}}),G.apply(this,arguments)}function dt(t){return $.apply(this,arguments)}function $(){return $=(0,u.Z)(function*(t){yield N(),et(t)}),$.apply(this,arguments)}function mt(t){return K.apply(this,arguments)}function K(){return K=(0,u.Z)(function*(t){yield N(),a.setLegacySchema(t.context,t.jsonSchema)}),K.apply(this,arguments)}function yt(t){st(t)}let H,a;function et(t){const r=t.modifications,i=a._malloc(8*r.length),_=new Float64Array(a.HEAPU8.buffer,i,r.length);for(let m=0;m<r.length;++m)_[m]=r[m];a.setModifications(t.context,i,r.length,t.isGeodetic),a._free(i)}function nt(t,r){if(!a)return null;const{context:i,localOrigin:_,globalTrafo:m,mbs:v,obb:b,elevationOffset:U,geometryBuffer:T,geometryDescriptor:D,indexToVertexProjector:Q,vertexToRenderProjector:gt}=t,J=a._malloc(T.byteLength),X=a._malloc(33*Float64Array.BYTES_PER_ELEMENT),ot=new Uint8Array(a.HEAPU8.buffer,J,T.byteLength);ot.set(new Uint8Array(T));const M=new Float64Array(a.HEAPU8.buffer,X,33);R(M,_);let L=M.byteOffset+3*M.BYTES_PER_ELEMENT,I=new Float64Array(M.buffer,L);R(I,m),L+=16*M.BYTES_PER_ELEMENT,I=new Float64Array(M.buffer,L),R(I,v),L+=4*M.BYTES_PER_ELEMENT,(0,g.pC)(b)&&(I=new Float64Array(M.buffer,L),R(I,b.center),L+=3*M.BYTES_PER_ELEMENT,I=new Float64Array(M.buffer,L),R(I,b.halfSize),L+=3*M.BYTES_PER_ELEMENT,I=new Float64Array(M.buffer,L),R(I,b.quaternion));const at=D,pt={isDraco:!1,isLegacy:!1,color:t.layouts.some(x=>x.some(O=>"color"===O.name)),normal:t.needNormals&&t.layouts.some(x=>x.some(O=>"normalCompressed"===O.name)),uv0:t.layouts.some(x=>x.some(O=>"uv0"===O.name)),uvRegion:t.layouts.some(x=>x.some(O=>"uvRegion"===O.name)),featureIndex:at.featureIndex},o=a.process(i,!!t.obb,J,ot.byteLength,at,pt,X,U,Q,gt,t.normalReferenceFrame);if(a._free(X),a._free(J),o.error.length>0)throw`i3s.wasm: ${o.error}`;if(o.discarded)return null;const q=o.componentOffsets.length>0?(0,c.tP)(o.componentOffsets):null,tt=o.featureIds.length>0?(0,c.tP)(o.featureIds):null,ft=(0,c.tP)(o.interleavedVertedData).buffer,ct=(0,c.tP)(o.indicesType===y.Int16?new Uint16Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/2):new Uint32Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/4)),ut=(0,c.tP)(o.positions),lt=(0,c.tP)(o.positionIndicesType===y.Int16?new Uint16Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/2):new Uint32Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/4)),Pt={layout:t.layouts[0],interleavedVertexData:ft,indices:ct,hasColors:o.hasColors,hasModifications:o.hasModifications,positionData:{data:ut,indices:lt}};return tt&&r.push(tt.buffer),q&&r.push(q.buffer),r.push(ft),r.push(ct.buffer),r.push(ut.buffer),r.push(lt.buffer),{componentOffsets:q,featureIds:tt,transformedGeometry:Pt,obb:o.obb}}function bt(t){return 0===t?w.Unmodified:1===t?w.PotentiallyModified:2===t?w.Culled:w.Unknown}function rt(t){const{context:r,buffer:i}=t,_=a._malloc(i.byteLength),m=i.byteLength/Float64Array.BYTES_PER_ELEMENT,v=new Float64Array(a.HEAPU8.buffer,_,m),b=new Float64Array(i);v.set(b),a.filterOBBs(r,_,m),b.set(v),a._free(_)}function st(t){a&&a.destroy(t)}function R(t,r){for(let i=0;i<r.length;++i)t[i]=r[i]}function N(){return a?Promise.resolve():(H||(H=function n(){return f||(f=new Promise(t=>s.e(5979).then(s.bind(s,85979)).then(r=>r.i).then(({default:r})=>{const i=r({locateFile:p,onRuntimeInitialized:()=>t(i)});delete i.then})).catch(t=>{throw t})),f}().then(t=>{a=t,H=null})),H)}s(2071),function(t){t[t.Unmodified=0]="Unmodified",t[t.Culled=1]="Culled",t[t.NotChecked=2]="NotChecked"}(A||(A={})),function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(w||(w={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(B||(B={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(z||(z={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(j||(j={}));const _t={transform:nt,destroy:st}}}]);