var KC=Object.defineProperty,GC=Object.defineProperties,HC=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,AE=Object.prototype.hasOwnProperty,xE=Object.prototype.propertyIsEnumerable,IE=(wt,Se,p)=>Se in wt?KC(wt,Se,{enumerable:!0,configurable:!0,writable:!0,value:p}):wt[Se]=p,Nn=(wt,Se)=>{for(var p in Se||(Se={}))AE.call(Se,p)&&IE(wt,p,Se[p]);if(Yy)for(var p of Yy(Se))xE.call(Se,p)&&IE(wt,p,Se[p]);return wt},Wi=(wt,Se)=>GC(wt,HC(Se)),k1=(wt,Se)=>{var p={};for(var d in wt)AE.call(wt,d)&&Se.indexOf(d)<0&&(p[d]=wt[d]);if(null!=wt&&Yy)for(var d of Yy(wt))Se.indexOf(d)<0&&xE.call(wt,d)&&(p[d]=wt[d]);return p};(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[179],{7568:(wt,Se,p)=>{"use strict";p.d(Se,{F:()=>d,f:()=>v});class d{}class v{}},89495:(wt,Se,p)=>{"use strict";p.d(Se,{M:()=>d});let d=(()=>{class v{}return v.FORM="form",v.NOTIFICATION="notification",v.PWA="pwa",v.USER="user",v})()},80076:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>d});let d=(()=>{class v{}return v.APP_REDIRECT_TO="login",v.AUTH_LOGIN="login",v.PWA_PATH="pwa",v.PWA_FORM_CHASSE="form",v.PWA_LIST_CHASSE="list",v.PWA_REDIRECT_TO="form",v})()},5454:(wt,Se,p)=>{"use strict";p.d(Se,{x:()=>d});let d=(()=>{class v{}return v.SM_BRAKEPOINT=576,v.MD_BRAKEPOINT=768,v.LG_BRAKEPOINT=992,v.XL_BRAKEPOINT=1200,v.XXL_BRAKEPOINT=1400,v})()},74616:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>Nd});var X,d=p(39294),v=p.n(d),G=new Uint8Array(16);function z(){if(!X&&!(X="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return X(G)}const Z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,k=function D(me){return"string"==typeof me&&Z.test(me)};for(var N=[],B=0;B<256;++B)N.push((B+256).toString(16).substr(1));const ae=function te(me,Pe,ke){var qe=(me=me||{}).random||(me.rng||z)();if(qe[6]=15&qe[6]|64,qe[8]=63&qe[8]|128,Pe){ke=ke||0;for(var Ot=0;Ot<16;++Ot)Pe[ke+Ot]=qe[Ot];return Pe}return function Q(me){var Pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ke=(N[me[Pe+0]]+N[me[Pe+1]]+N[me[Pe+2]]+N[me[Pe+3]]+"-"+N[me[Pe+4]]+N[me[Pe+5]]+"-"+N[me[Pe+6]]+N[me[Pe+7]]+"-"+N[me[Pe+8]]+N[me[Pe+9]]+"-"+N[me[Pe+10]]+N[me[Pe+11]]+N[me[Pe+12]]+N[me[Pe+13]]+N[me[Pe+14]]+N[me[Pe+15]]).toLowerCase();if(!k(ke))throw TypeError("Stringified UUID is invalid");return ke}(qe)};var ue,ie,re=p(51452),$=p.n(re),F=p(42899),R=p(21611),U=p.n(R),A=p(83894),V=p.n(A),J=p(59069),Y=p.n(J);function oe(me){return"$"+me}function se(me){return me.substring(1)}function le(){this._store={}}function de(me){if(this._store=new le,me&&Array.isArray(me))for(var Pe=0,ke=me.length;Pe<ke;Pe++)this.add(me[Pe])}le.prototype.get=function(me){var Pe=oe(me);return this._store[Pe]},le.prototype.set=function(me,Pe){var ke=oe(me);return this._store[ke]=Pe,!0},le.prototype.has=function(me){return oe(me)in this._store},le.prototype.keys=function(){return Object.keys(this._store).map(me=>se(me))},le.prototype.delete=function(me){var Pe=oe(me),ke=Pe in this._store;return delete this._store[Pe],ke},le.prototype.forEach=function(me){for(var Pe=Object.keys(this._store),ke=0,qe=Pe.length;ke<qe;ke++){var Ot=Pe[ke];me(this._store[Ot],Ot=se(Ot))}},Object.defineProperty(le.prototype,"size",{get:function(){return Object.keys(this._store).length}}),de.prototype.add=function(me){return this._store.set(me,!0)},de.prototype.has=function(me){return this._store.has(me)},de.prototype.forEach=function(me){this._store.forEach(function(Pe,ke){me(ke)})},Object.defineProperty(de.prototype,"size",{get:function(){return this._store.size}}),function q(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var me=Object.getOwnPropertyDescriptor(Map,Symbol.species);return me&&"get"in me&&Map[Symbol.species]===Map}()?(ue=Set,ie=Map):(ue=de,ie=le);var Fe,De=Function.prototype.toString,Me=De.call(Object);function Le(me){var Pe,ke,qe;if(!me||"object"!=typeof me)return me;if(Array.isArray(me)){for(Pe=[],ke=0,qe=me.length;ke<qe;ke++)Pe[ke]=Le(me[ke]);return Pe}if(me instanceof Date&&isFinite(me))return me.toISOString();if(function ye(me){return"undefined"!=typeof ArrayBuffer&&me instanceof ArrayBuffer||"undefined"!=typeof Blob&&me instanceof Blob}(me))return function Ce(me){if(me instanceof ArrayBuffer)return function pe(me){if("function"==typeof me.slice)return me.slice(0);var Pe=new ArrayBuffer(me.byteLength),ke=new Uint8Array(Pe),qe=new Uint8Array(me);return ke.set(qe),Pe}(me);var Pe=me.size,ke=me.type;return"function"==typeof me.slice?me.slice(0,Pe,ke):me.webkitSlice(0,Pe,ke)}(me);if(!function ve(me){var Pe=Object.getPrototypeOf(me);if(null===Pe)return!0;var ke=Pe.constructor;return"function"==typeof ke&&ke instanceof ke&&De.call(ke)==Me}(me))return me;for(ke in Pe={},me)if(Object.prototype.hasOwnProperty.call(me,ke)){var Ot=Le(me[ke]);void 0!==Ot&&(Pe[ke]=Ot)}return Pe}function je(me){var Pe=!1;return U()(function(ke){if(Pe)throw new Error("once called more than once");Pe=!0,me.apply(this,ke)})}function _e(me){return U()(function(Pe){Pe=Le(Pe);var ke=this,qe="function"==typeof Pe[Pe.length-1]&&Pe.pop(),Ot=new Promise(function(Gt,on){var On;try{var Ln=je(function(nr,br){nr?on(nr):Gt(br)});Pe.push(Ln),(On=me.apply(ke,Pe))&&"function"==typeof On.then&&Gt(On)}catch(nr){on(nr)}});return qe&&Ot.then(function(Gt){qe(null,Gt)},qe),Ot})}function nt(me,Pe){return _e(U()(function(ke){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var qe=this;return function Re(me,Pe,ke){if(me.constructor.listeners("debug").length){for(var qe=["api",me.name,Pe],Ot=0;Ot<ke.length-1;Ot++)qe.push(ke[Ot]);me.constructor.emit("debug",qe);var Gt=ke[ke.length-1];ke[ke.length-1]=function(on,On){var Ln=["api",me.name,Pe];Ln=Ln.concat(on?["error",on]:["success",On]),me.constructor.emit("debug",Ln),Gt(on,On)}}}(qe,me,ke),this.taskqueue.isReady?Pe.apply(this,ke):new Promise(function(Ot,Gt){qe.taskqueue.addTask(function(on){on?Gt(on):Ot(qe[me].apply(qe,ke))})})}))}function pt(me,Pe){for(var ke={},qe=0,Ot=Pe.length;qe<Ot;qe++){var Gt=Pe[qe];Gt in me&&(ke[Gt]=me[Gt])}return ke}function xe(me){return me}function Ye(me){return[{ok:me}]}function Ke(me,Pe,ke){var qe=Pe.docs,Ot=new ie;qe.forEach(function(Cr){Ot.has(Cr.id)?Ot.get(Cr.id).push(Cr):Ot.set(Cr.id,[Cr])});var Gt=Ot.size,on=0,On=new Array(Gt);var fn=[];Ot.forEach(function(Cr,cr){fn.push(cr)});var Gn=0;!function rr(){if(!(Gn>=fn.length)){var Cr=Math.min(Gn+6,fn.length),cr=fn.slice(Gn,Cr);(function tr(Cr,cr){Cr.forEach(function(ar,ur){var gr=cr+ur,Vr=Ot.get(ar),Ur=pt(Vr[0],["atts_since","attachments"]);Ur.open_revs=Vr.map(function(qr){return qr.rev}),Ur.open_revs=Ur.open_revs.filter(xe);var di=xe;0===Ur.open_revs.length&&(delete Ur.open_revs,di=Ye),["revs","attachments","binary","ajax","latest"].forEach(function(qr){qr in Pe&&(Ur[qr]=Pe[qr])}),me.get(ar,Ur,function(qr,Pi){var mi;mi=qr?[{error:qr}]:di(Pi),function br(Cr,cr,ar){On[Cr]={id:cr,docs:ar},function nr(){++on===Gt&&function Ln(){var Cr=[];On.forEach(function(cr){cr.docs.forEach(function(ar){Cr.push({id:cr.id,docs:[ar]})})}),ke(null,{results:Cr})}()}()}(gr,ar,mi),rr()})})})(cr,Gn),Gn+=cr.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),Fe=!!localStorage.getItem("_pouch_check_localstorage")}catch(me){Fe=!1}function Ze(){return Fe}function we(){Y().call(this),this._listeners={},function ct(me){Ze()&&addEventListener("storage",function(Pe){me.emit(Pe.key)})}(this)}function Be(me){if("undefined"!=typeof console&&"function"==typeof console[me]){var Pe=Array.prototype.slice.call(arguments,1);console[me].apply(console,Pe)}}function $e(me){var Pe=0;return me||(Pe=2e3),function Je(me,Pe){var ke=6e5;return me=parseInt(me,10)||0,(Pe=parseInt(Pe,10))!=Pe||Pe<=me?Pe=(me||1)<<1:Pe+=1,Pe>ke&&(me=ke>>1,Pe=ke),~~((Pe-me)*Math.random()+me)}(me,Pe)}function ot(me,Pe){Be("info","The above "+me+" is totally normal. "+Pe)}V()(we,Y()),we.prototype.addListener=function(me,Pe,ke,qe){if(!this._listeners[Pe]){var Ot=this,Gt=!1;this._listeners[Pe]=on,this.on(me,on)}function on(){if(Ot._listeners[Pe])if(Gt)Gt="waiting";else{Gt=!0;var On=pt(qe,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);ke.changes(On).on("change",function(nr){nr.seq>qe.since&&!qe.cancelled&&(qe.since=nr.seq,qe.onChange(nr))}).on("complete",function(){"waiting"===Gt&&v()(on),Gt=!1}).on("error",function Ln(){Gt=!1})}}},we.prototype.removeListener=function(me,Pe){Pe in this._listeners&&(Y().prototype.removeListener.call(this,me,this._listeners[Pe]),delete this._listeners[Pe])},we.prototype.notifyLocalWindows=function(me){Ze()&&(localStorage[me]="a"===localStorage[me]?"b":"a")},we.prototype.notify=function(me){this.emit(me),this.notifyLocalWindows(me)};var Tt="function"==typeof Object.assign?Object.assign:function(me){for(var Pe=Object(me),ke=1;ke<arguments.length;ke++){var qe=arguments[ke];if(null!=qe)for(var Ot in qe)Object.prototype.hasOwnProperty.call(qe,Ot)&&(Pe[Ot]=qe[Ot])}return Pe};function It(me,Pe,ke){Error.call(this,ke),this.status=me,this.name=Pe,this.message=ke,this.error=!0}V()(It,Error),It.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new It(401,"unauthorized","Name or password is incorrect.");var Rt=new It(400,"bad_request","Missing JSON list of 'docs'"),Xe=new It(404,"not_found","missing"),vt=new It(409,"conflict","Document update conflict"),Zt=new It(400,"bad_request","_id field must contain a string"),xt=new It(412,"missing_id","_id is required for puts"),Lt=new It(400,"bad_request","Only reserved document ids may start with underscore."),En=(new It(412,"precondition_failed","Database not open"),new It(500,"unknown_error","Database encountered an unknown error")),Dn=new It(500,"badarg","Some query argument is invalid"),pr=(new It(400,"invalid_request","Request was invalid"),new It(400,"query_parse_error","Some query parameter is invalid")),Tr=new It(500,"doc_validation","Bad special document member"),vr=new It(400,"bad_request","Something wrong with the request"),zn=new It(400,"bad_request","Document must be a JSON object"),sn=(new It(404,"not_found","Database not found"),new It(500,"indexed_db_went_bad","unknown")),jn=(new It(500,"web_sql_went_bad","unknown"),new It(500,"levelDB_went_went_bad","unknown"),new It(403,"forbidden","Forbidden by design doc validate_doc_update function"),new It(400,"bad_request","Invalid rev format")),Ht=(new It(412,"file_exists","The database could not be created, the file already exists."),new It(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Qn(me,Pe){function ke(qe){for(var Ot=Object.getOwnPropertyNames(me),Gt=0,on=Ot.length;Gt<on;Gt++)"function"!=typeof me[Ot[Gt]]&&(this[Ot[Gt]]=me[Ot[Gt]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==qe&&(this.reason=qe)}return ke.prototype=It.prototype,new ke(Pe)}function Ar(me){if("object"!=typeof me){var Pe=me;(me=En).data=Pe}return"error"in me&&"conflict"===me.error&&(me.name="conflict",me.status=409),"name"in me||(me.name=me.error||"unknown"),"status"in me||(me.status=500),"message"in me||(me.message=me.message||me.reason),"stack"in me||(me.stack=(new Error).stack),me}function an(me){var Pe={},ke=me.filter&&"function"==typeof me.filter;return Pe.query=me.query_params,function(Ot){Ot.doc||(Ot.doc={});var Gt=ke&&function Dr(me,Pe,ke){try{return!me(Pe,ke)}catch(Ot){var qe="Filter function threw: "+Ot.toString();return Qn(vr,qe)}}(me.filter,Ot.doc,Pe);if("object"==typeof Gt)return Gt;if(Gt)return!1;if(me.include_docs){if(!me.attachments)for(var on in Ot.doc._attachments)Object.prototype.hasOwnProperty.call(Ot.doc._attachments,on)&&(Ot.doc._attachments[on].stub=!0)}else delete Ot.doc;return!0}}function Mn(me){for(var Pe=[],ke=0,qe=me.length;ke<qe;ke++)Pe=Pe.concat(me[ke]);return Pe}function Hn(me){var Pe;if(me?"string"!=typeof me?Pe=Qn(Zt):/^_/.test(me)&&!/^_(design|local)/.test(me)&&(Pe=Qn(Lt)):Pe=Qn(xt),Pe)throw Pe}function Mt(me){return"boolean"==typeof me._remote?me._remote:"function"==typeof me.type&&(Be("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===me.type())}function wn(me){if(!me)return null;var Pe=me.split("/");return 2===Pe.length?Pe:1===Pe.length?[me,me]:null}function Ut(me){var Pe=wn(me);return Pe?Pe.join("/"):null}new It(413,"invalid_url","Provided URL is invalid");var Cn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Bn="queryKey",er=/(?:^|&)([^&=]*)=?([^&]*)/g,or=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Hr(me){for(var Pe=or.exec(me),ke={},qe=14;qe--;){var Ot=Cn[qe],Gt=Pe[qe]||"",on=-1!==["user","password"].indexOf(Ot);ke[Ot]=on?decodeURIComponent(Gt):Gt}return ke[Bn]={},ke[Cn[12]].replace(er,function(On,Ln,nr){Ln&&(ke[Bn][Ln]=nr)}),ke}function wi(me,Pe){var ke=[],qe=[];for(var Ot in Pe)Object.prototype.hasOwnProperty.call(Pe,Ot)&&(ke.push(Ot),qe.push(Pe[Ot]));return ke.push(me),Function.apply(null,ke).apply(null,qe)}function Ei(me,Pe,ke){return me.get(Pe).catch(function(qe){if(404!==qe.status)throw qe;return{}}).then(function(qe){var Ot=qe._rev,Gt=ke(qe);return Gt?(Gt._id=Pe,Gt._rev=Ot,function kr(me,Pe,ke){return me.put(Pe).then(function(qe){return{updated:!0,rev:qe.rev}},function(qe){if(409!==qe.status)throw qe;return Ei(me,Pe._id,ke)})}(me,Gt,ke)):{updated:!1,rev:Ot}})}var Fi=function(me){return atob(me)},rs=function(me){return btoa(me)};function Zr(me,Pe){me=me||[],Pe=Pe||{};try{return new Blob(me,Pe)}catch(Gt){if("TypeError"!==Gt.name)throw Gt;for(var qe=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),Ot=0;Ot<me.length;Ot+=1)qe.append(me[Ot]);return qe.getBlob(Pe.type)}}function fi(me){for(var Pe=me.length,ke=new ArrayBuffer(Pe),qe=new Uint8Array(ke),Ot=0;Ot<Pe;Ot++)qe[Ot]=me.charCodeAt(Ot);return ke}function Ui(me,Pe){return Zr([fi(me)],{type:Pe})}function hr(me,Pe){return Ui(Fi(me),Pe)}function Hi(me,Pe){var ke=new FileReader,qe="function"==typeof ke.readAsBinaryString;ke.onloadend=function(Ot){var Gt=Ot.target.result||"";if(qe)return Pe(Gt);Pe(function Ii(me){for(var Pe="",ke=new Uint8Array(me),qe=ke.byteLength,Ot=0;Ot<qe;Ot++)Pe+=String.fromCharCode(ke[Ot]);return Pe}(Gt))},qe?ke.readAsBinaryString(me):ke.readAsArrayBuffer(me)}function Hs(me,Pe){Hi(me,function(ke){Pe(ke)})}function gi(me,Pe){Hs(me,function(ke){Pe(rs(ke))})}var Ts=self.setImmediate||self.setTimeout;function Zn(me,Pe,ke,qe,Ot){(ke>0||qe<Pe.size)&&(Pe=function ut(me,Pe,ke){return me.webkitSlice?me.webkitSlice(Pe,ke):me.slice(Pe,ke)}(Pe,ke,qe)),function Bi(me,Pe){var ke=new FileReader;ke.onloadend=function(qe){var Ot=qe.target.result||new ArrayBuffer(0);Pe(Ot)},ke.readAsArrayBuffer(me)}(Pe,function(Gt){me.append(Gt),Ot()})}function Pn(me,Pe,ke,qe,Ot){(ke>0||qe<Pe.length)&&(Pe=Pe.substring(ke,qe)),me.appendBinary(Pe),Ot()}function yr(me,Pe){var ke="string"==typeof me,qe=ke?me.length:me.size,Ot=Math.min(32768,qe),Gt=Math.ceil(qe/Ot),on=0,On=ke?new($()):new($().ArrayBuffer),Ln=ke?Pn:Zn;function nr(){Ts(fn)}function br(){var rr=function ps(me){return rs(me)}(On.end(!0));Pe(rr),On.destroy()}function fn(){var Gn=on*Ot;on++,Ln(On,me,Gn,Gn+Ot,on<Gt?nr:br)}fn()}function Pr(me){return $().hash(me)}function ni(me,Pe){if(!Pe)return ae().replace(/-/g,"").toLowerCase();var ke=Tt({},me);return delete ke._rev_tree,Pr(JSON.stringify(ke))}var Yr=ae;function Lr(me){for(var Pe,ke,qe,Gt,Ot=me.rev_tree.slice();Gt=Ot.pop();){var on=Gt.ids,On=on[2],Ln=Gt.pos;if(On.length)for(var nr=0,br=On.length;nr<br;nr++)Ot.push({pos:Ln+1,ids:On[nr]});else{var fn=!!on[1].deleted,Gn=on[0];(!Pe||(qe!==fn?qe:ke!==Ln?ke<Ln:Pe<Gn))&&(Pe=Gn,ke=Ln,qe=fn)}}return ke+"-"+Pe}function Oi(me,Pe){for(var qe,ke=me.slice();qe=ke.pop();)for(var Ot=qe.pos,Gt=qe.ids,on=Gt[2],On=Pe(0===on.length,Ot,Gt[0],qe.ctx,Gt[1]),Ln=0,nr=on.length;Ln<nr;Ln++)ke.push({pos:Ot+1,ids:on[Ln],ctx:On})}function li(me,Pe){return me.pos-Pe.pos}function yi(me){var Pe=[];Oi(me,function(Ot,Gt,on,On,Ln){Ot&&Pe.push({rev:Gt+"-"+on,pos:Gt,opts:Ln})}),Pe.sort(li).reverse();for(var ke=0,qe=Pe.length;ke<qe;ke++)delete Pe[ke].pos;return Pe}function Un(me){for(var Pe=Lr(me),ke=yi(me.rev_tree),qe=[],Ot=0,Gt=ke.length;Ot<Gt;Ot++){var on=ke[Ot];on.rev!==Pe&&!on.opts.deleted&&qe.push(on.rev)}return qe}function cs(me){for(var qe,Pe=[],ke=me.slice();qe=ke.pop();){var Ot=qe.pos,Gt=qe.ids,on=Gt[0],On=Gt[1],Ln=Gt[2],nr=0===Ln.length,br=qe.history?qe.history.slice():[];br.push({id:on,opts:On}),nr&&Pe.push({pos:Ot+1-br.length,ids:br});for(var fn=0,Gn=Ln.length;fn<Gn;fn++)ke.push({pos:Ot+1,ids:Ln[fn],history:br})}return Pe.reverse()}function rn(me,Pe){return me.pos-Pe.pos}function kt(me,Pe,ke){var qe=function gn(me,Pe,ke){for(var Gt,qe=0,Ot=me.length;qe<Ot;)ke(me[Gt=qe+Ot>>>1],Pe)<0?qe=Gt+1:Ot=Gt;return qe}(me,Pe,ke);me.splice(qe,0,Pe)}function An(me,Pe){for(var ke,qe,Ot=Pe,Gt=me.length;Ot<Gt;Ot++){var on=me[Ot],On=[on.id,on.opts,[]];qe?(qe[2].push(On),qe=On):ke=qe=On}return ke}function fr(me,Pe){return me[0]<Pe[0]?-1:1}function wr(me,Pe){for(var ke=[{tree1:me,tree2:Pe}],qe=!1;ke.length>0;){var Ot=ke.pop(),Gt=Ot.tree1,on=Ot.tree2;(Gt[1].status||on[1].status)&&(Gt[1].status="available"===Gt[1].status||"available"===on[1].status?"available":"missing");for(var On=0;On<on[2].length;On++)if(Gt[2][0]){for(var Ln=!1,nr=0;nr<Gt[2].length;nr++)Gt[2][nr][0]===on[2][On][0]&&(ke.push({tree1:Gt[2][nr],tree2:on[2][On]}),Ln=!0);Ln||(qe="new_branch",kt(Gt[2],on[2][On],fr))}else qe="new_leaf",Gt[2][0]=on[2][On]}return{conflicts:qe,tree:me}}function Jr(me,Pe,ke){var on,qe=[],Ot=!1,Gt=!1;if(!me.length)return{tree:[Pe],conflicts:"new_leaf"};for(var On=0,Ln=me.length;On<Ln;On++){var nr=me[On];if(nr.pos===Pe.pos&&nr.ids[0]===Pe.ids[0])on=wr(nr.ids,Pe.ids),qe.push({pos:nr.pos,ids:on.tree}),Ot=Ot||on.conflicts,Gt=!0;else if(!0!==ke){var br=nr.pos<Pe.pos?nr:Pe,fn=nr.pos<Pe.pos?Pe:nr,rr=[],tr=[];for(tr.push({ids:br.ids,diff:fn.pos-br.pos,parent:null,parentIdx:null});tr.length>0;){var Cr=tr.pop();if(0!==Cr.diff)for(var cr=Cr.ids[2],ar=0,ur=cr.length;ar<ur;ar++)tr.push({ids:cr[ar],diff:Cr.diff-1,parent:Cr.ids,parentIdx:ar});else Cr.ids[0]===fn.ids[0]&&rr.push(Cr)}var gr=rr[0];gr?(on=wr(gr.ids,fn.ids),gr.parent[2][gr.parentIdx]=on.tree,qe.push({pos:br.pos,ids:br.ids}),Ot=Ot||on.conflicts,Gt=!0):qe.push(nr)}else qe.push(nr)}return Gt||qe.push(Pe),qe.sort(rn),{tree:qe,conflicts:Ot||"internal_node"}}function ti(me,Pe,ke){var qe=Jr(me,Pe),Ot=function Br(me,Pe){for(var qe,Ot,ke=cs(me),Gt=0,on=ke.length;Gt<on;Gt++){var nr,On=ke[Gt],Ln=On.ids;if(Ln.length>Pe){qe||(qe={});var br=Ln.length-Pe;nr={pos:On.pos+br,ids:An(Ln,br)};for(var fn=0;fn<br;fn++)qe[On.pos+fn+"-"+Ln[fn].id]=!0}else nr={pos:On.pos,ids:An(Ln,0)};Ot=Ot?Jr(Ot,nr,!0).tree:[nr]}return qe&&Oi(Ot,function(rr,tr,Cr){delete qe[tr+"-"+Cr]}),{tree:Ot,revs:qe?Object.keys(qe):[]}}(qe.tree,ke);return{tree:Ot.tree,stemmedRevs:Ot.revs,conflicts:qe.conflicts}}function Fr(me){return me.ids}function Ni(me,Pe){Pe||(Pe=Lr(me));for(var Ot,ke=Pe.substring(Pe.indexOf("-")+1),qe=me.rev_tree.map(Fr);Ot=qe.pop();){if(Ot[0]===ke)return!!Ot[1].deleted;qe=qe.concat(Ot[2])}}function Ji(me){return/^_local/.test(me)}function Rs(me,Pe,ke){Y().call(this);var qe=this;this.db=me;var Ot=(Pe=Pe?Le(Pe):{}).complete=je(function(On,Ln){On?function Bt(me,Pe){return"listenerCount"in me?me.listenerCount(Pe):Y().listenerCount(me,Pe)}(qe,"error")>0&&qe.emit("error",On):qe.emit("complete",Ln),qe.removeAllListeners(),me.removeListener("destroyed",Gt)});function Gt(){qe.cancel()}ke&&(qe.on("complete",function(On){ke(null,On)}),qe.on("error",ke)),me.once("destroyed",Gt),Pe.onChange=function(On,Ln,nr){qe.isCancelled||function Vi(me,Pe,ke,qe){try{me.emit("change",Pe,ke,qe)}catch(Ot){Be("error",'Error in .on("change", function):',Ot)}}(qe,On,Ln,nr)};var on=new Promise(function(On,Ln){Pe.complete=function(nr,br){nr?Ln(nr):On(br)}});qe.once("cancel",function(){me.removeListener("destroyed",Gt),Pe.complete(null,{status:"cancelled"})}),this.then=on.then.bind(on),this.catch=on.catch.bind(on),this.then(function(On){Ot(null,On)},Ot),me.taskqueue.isReady?qe.validateChanges(Pe):me.taskqueue.addTask(function(On){On?Pe.complete(On):qe.isCancelled?qe.emit("cancel"):qe.validateChanges(Pe)})}function Ps(me,Pe,ke){var qe=[{rev:me._rev}];"all_docs"===ke.style&&(qe=yi(Pe.rev_tree).map(function(Gt){return{rev:Gt.rev}}));var Ot={id:Pe.id,changes:qe,doc:me};return Ni(Pe,me._rev)&&(Ot.deleted=!0),ke.conflicts&&(Ot.doc._conflicts=Un(Pe),Ot.doc._conflicts.length||delete Ot.doc._conflicts),Ot}function Is(me,Pe){return me<Pe?-1:me>Pe?1:0}function Ds(me,Pe){return function(ke,qe){ke||qe[0]&&qe[0].error?((ke=ke||qe[0]).docId=Pe,me(ke)):me(null,qe.length?qe[0]:qe)}}function Oo(me,Pe){var ke=Is(me._id,Pe._id);return 0!==ke?ke:Is(me._revisions?me._revisions.start:0,Pe._revisions?Pe._revisions.start:0)}function po(me){var Pe=me._compactionQueue[0],ke=Pe.opts,qe=Pe.callback;me.get("_local/compaction").catch(function(){return!1}).then(function(Ot){Ot&&Ot.last_seq&&(ke.last_seq=Ot.last_seq),me._compact(ke,function(Gt,on){Gt?qe(Gt):qe(null,on),v()(function(){me._compactionQueue.shift(),me._compactionQueue.length&&po(me)})})})}function $i(){for(var me in Y().call(this),$i.prototype)"function"==typeof this[me]&&(this[me]=this[me].bind(this))}function gs(){this.isReady=!1,this.failed=!1,this.queue=[]}function cn(me,Pe){if(!(this instanceof cn))return new cn(me,Pe);var ke=this;if(Pe=Pe||{},me&&"object"==typeof me&&(me=(Pe=me).name,delete Pe.name),void 0===Pe.deterministic_revs&&(Pe.deterministic_revs=!0),this.__opts=Pe=Le(Pe),ke.auto_compaction=Pe.auto_compaction,ke.prefix=cn.prefix,"string"!=typeof me)throw new Error("Missing/invalid DB name");var Ot=function Ys(me,Pe){var ke=me.match(/([a-z-]*):\/\/(.*)/);if(ke)return{name:/https?/.test(ke[1])?ke[1]+"://"+ke[2]:ke[2],adapter:ke[1]};var qe=cn.adapters,Ot=cn.preferredAdapters,Gt=cn.prefix,on=Pe.adapter;if(!on)for(var On=0;On<Ot.length&&"idb"===(on=Ot[On])&&"websql"in qe&&Ze()&&localStorage["_pouch__websqldb_"+Gt+me];++On)Be("log",'PouchDB is downgrading "'+me+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var Ln=qe[on];return{name:Ln&&"use_prefix"in Ln&&!Ln.use_prefix?me:Gt+me,adapter:on}}((Pe.prefix||"")+me,Pe);if(Pe.name=Ot.name,Pe.adapter=Pe.adapter||Ot.adapter,ke.name=me,ke._adapter=Pe.adapter,cn.emit("debug",["adapter","Picked adapter: ",Pe.adapter]),!cn.adapters[Pe.adapter]||!cn.adapters[Pe.adapter].valid())throw new Error("Invalid Adapter: "+Pe.adapter);if(Pe.view_adapter&&(!cn.adapters[Pe.view_adapter]||!cn.adapters[Pe.view_adapter].valid()))throw new Error("Invalid View Adapter: "+Pe.view_adapter);$i.call(ke),ke.taskqueue=new gs,ke.adapter=Pe.adapter,cn.adapters[Pe.adapter].call(ke,Pe,function(Gt){if(Gt)return ke.taskqueue.fail(Gt);(function _o(me){function Pe(qe){me.removeListener("closed",ke),qe||me.constructor.emit("destroyed",me.name)}function ke(){me.removeListener("destroyed",Pe),me.constructor.emit("unref",me)}me.once("destroyed",Pe),me.once("closed",ke),me.constructor.emit("ref",me)})(ke),ke.emit("created",ke),cn.emit("created",ke.name),ke.taskqueue.ready(ke)})}V()(Rs,Y()),Rs.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Rs.prototype.validateChanges=function(me){var Pe=me.complete,ke=this;cn._changesFilterPlugin?cn._changesFilterPlugin.validate(me,function(qe){if(qe)return Pe(qe);ke.doChanges(me)}):ke.doChanges(me)},Rs.prototype.doChanges=function(me){var Pe=this,ke=me.complete;if("live"in(me=Le(me))&&!("continuous"in me)&&(me.continuous=me.live),me.processChange=Ps,"latest"===me.since&&(me.since="now"),me.since||(me.since=0),"now"!==me.since){if(cn._changesFilterPlugin){if(cn._changesFilterPlugin.normalize(me),cn._changesFilterPlugin.shouldFilter(this,me))return cn._changesFilterPlugin.filter(this,me)}else["doc_ids","filter","selector","view"].forEach(function(Gt){Gt in me&&Be("warn",'The "'+Gt+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in me||(me.descending=!1),me.limit=0===me.limit?1:me.limit,me.complete=ke;var qe=this.db._changes(me);if(qe&&"function"==typeof qe.cancel){var Ot=Pe.cancel;Pe.cancel=U()(function(Gt){qe.cancel(),Ot.apply(this,Gt)})}}else this.db.info().then(function(Gt){Pe.isCancelled?ke(null,{status:"cancelled"}):(me.since=Gt.update_seq,Pe.doChanges(me))},ke)},V()($i,Y()),$i.prototype.post=nt("post",function(me,Pe,ke){if("function"==typeof Pe&&(ke=Pe,Pe={}),"object"!=typeof me||Array.isArray(me))return ke(Qn(zn));this.bulkDocs({docs:[me]},Pe,Ds(ke,me._id))}),$i.prototype.put=nt("put",function(me,Pe,ke){if("function"==typeof Pe&&(ke=Pe,Pe={}),"object"!=typeof me||Array.isArray(me))return ke(Qn(zn));if(Hn(me._id),Ji(me._id)&&"function"==typeof this._putLocal)return me._deleted?this._removeLocal(me,ke):this._putLocal(me,ke);var qe=this;function Gt(on){"function"==typeof qe._put&&!1!==Pe.new_edits?qe._put(me,Pe,on):qe.bulkDocs({docs:[me]},Pe,Ds(on,me._id))}Pe.force&&me._rev?(function Ot(){var on=me._rev.split("-"),On=on[1],nr=parseInt(on[0],10)+1,br=ni();me._revisions={start:nr,ids:[br,On]},me._rev=nr+"-"+br,Pe.new_edits=!1}(),Gt(function(on){ke(on,on?null:{ok:!0,id:me._id,rev:me._rev})})):Gt(ke)}),$i.prototype.putAttachment=nt("putAttachment",function(me,Pe,ke,qe,Ot){var Gt=this;function on(On){var Ln="_rev"in On?parseInt(On._rev,10):0;return On._attachments=On._attachments||{},On._attachments[Pe]={content_type:Ot,data:qe,revpos:++Ln},Gt.put(On)}return"function"==typeof Ot&&(Ot=qe,qe=ke,ke=null),void 0===Ot&&(Ot=qe,qe=ke,ke=null),Ot||Be("warn","Attachment",Pe,"on document",me,"is missing content_type"),Gt.get(me).then(function(On){if(On._rev!==ke)throw Qn(vt);return on(On)},function(On){if(On.reason===Xe.message)return on({_id:me});throw On})}),$i.prototype.removeAttachment=nt("removeAttachment",function(me,Pe,ke,qe){var Ot=this;Ot.get(me,function(Gt,on){if(Gt)qe(Gt);else{if(on._rev===ke)return on._attachments?(delete on._attachments[Pe],0===Object.keys(on._attachments).length&&delete on._attachments,void Ot.put(on,qe)):qe();qe(Qn(vt))}})}),$i.prototype.remove=nt("remove",function(me,Pe,ke,qe){var Ot;"string"==typeof Pe?(Ot={_id:me,_rev:Pe},"function"==typeof ke&&(qe=ke,ke={})):(Ot=me,"function"==typeof Pe?(qe=Pe,ke={}):(qe=ke,ke=Pe)),(ke=ke||{}).was_delete=!0;var Gt={_id:Ot._id,_rev:Ot._rev||ke.rev,_deleted:!0};if(Ji(Gt._id)&&"function"==typeof this._removeLocal)return this._removeLocal(Ot,qe);this.bulkDocs({docs:[Gt]},ke,Ds(qe,Gt._id))}),$i.prototype.revsDiff=nt("revsDiff",function(me,Pe,ke){"function"==typeof Pe&&(ke=Pe,Pe={});var qe=Object.keys(me);if(!qe.length)return ke(null,{});var Ot=0,Gt=new ie;function on(Ln,nr){Gt.has(Ln)||Gt.set(Ln,{missing:[]}),Gt.get(Ln).missing.push(nr)}qe.map(function(Ln){this._getRevisionTree(Ln,function(nr,br){if(nr&&404===nr.status&&"missing"===nr.message)Gt.set(Ln,{missing:me[Ln]});else{if(nr)return ke(nr);!function On(Ln,nr){var br=me[Ln].slice(0);Oi(nr,function(fn,Gn,rr,tr,Cr){var cr=Gn+"-"+rr,ar=br.indexOf(cr);-1!==ar&&(br.splice(ar,1),"available"!==Cr.status&&on(Ln,cr))}),br.forEach(function(fn){on(Ln,fn)})}(Ln,br)}if(++Ot===qe.length){var fn={};return Gt.forEach(function(Gn,rr){fn[rr]=Gn}),ke(null,fn)}})},this)}),$i.prototype.bulkGet=nt("bulkGet",function(me,Pe){Ke(this,me,Pe)}),$i.prototype.compactDocument=nt("compactDocument",function(me,Pe,ke){var qe=this;this._getRevisionTree(me,function(Ot,Gt){if(Ot)return ke(Ot);var on=function oo(me){var Pe={},ke=[];return Oi(me,function(qe,Ot,Gt,on){var On=Ot+"-"+Gt;return qe&&(Pe[On]=0),void 0!==on&&ke.push({from:on,to:On}),On}),ke.reverse(),ke.forEach(function(qe){Pe[qe.from]=void 0===Pe[qe.from]?1+Pe[qe.to]:Math.min(Pe[qe.from],1+Pe[qe.to])}),Pe}(Gt),On=[],Ln=[];Object.keys(on).forEach(function(nr){on[nr]>Pe&&On.push(nr)}),Oi(Gt,function(nr,br,fn,Gn,rr){var tr=br+"-"+fn;"available"===rr.status&&-1!==On.indexOf(tr)&&Ln.push(tr)}),qe._doCompaction(me,Ln,ke)})}),$i.prototype.compact=nt("compact",function(me,Pe){"function"==typeof me&&(Pe=me,me={});var ke=this;me=me||{},ke._compactionQueue=ke._compactionQueue||[],ke._compactionQueue.push({opts:me,callback:Pe}),1===ke._compactionQueue.length&&po(ke)}),$i.prototype._compact=function(me,Pe){var ke=this,Ot=[];ke.changes({return_docs:!1,last_seq:me.last_seq||0}).on("change",function Gt(On){Ot.push(ke.compactDocument(On.id,0))}).on("complete",function on(On){var Ln=On.last_seq;Promise.all(Ot).then(function(){return Ei(ke,"_local/compaction",function(br){return(!br.last_seq||br.last_seq<Ln)&&(br.last_seq=Ln,br)})}).then(function(){Pe(null,{ok:!0})}).catch(Pe)}).on("error",Pe)},$i.prototype.get=nt("get",function(me,Pe,ke){if("function"==typeof Pe&&(ke=Pe,Pe={}),"string"!=typeof me)return ke(Qn(Zt));if(Ji(me)&&"function"==typeof this._getLocal)return this._getLocal(me,ke);var qe=[],Ot=this;function Gt(){var Ln=[],nr=qe.length;if(!nr)return ke(null,Ln);qe.forEach(function(br){Ot.get(me,{rev:br,revs:Pe.revs,latest:Pe.latest,attachments:Pe.attachments,binary:Pe.binary},function(fn,Gn){if(fn)Ln.push({missing:br});else{for(var rr,tr=0,Cr=Ln.length;tr<Cr;tr++)if(Ln[tr].ok&&Ln[tr].ok._rev===Gn._rev){rr=!0;break}rr||Ln.push({ok:Gn})}--nr||ke(null,Ln)})})}if(!Pe.open_revs)return this._get(me,Pe,function(Ln,nr){if(Ln)return Ln.docId=me,ke(Ln);var br=nr.doc,fn=nr.metadata,Gn=nr.ctx;if(Pe.conflicts){var rr=Un(fn);rr.length&&(br._conflicts=rr)}if(Ni(fn,br._rev)&&(br._deleted=!0),Pe.revs||Pe.revs_info){for(var tr=br._rev.split("-"),Cr=parseInt(tr[0],10),cr=tr[1],ar=cs(fn.rev_tree),ur=null,gr=0;gr<ar.length;gr++){var Vr=ar[gr],Ur=Vr.ids.map(function(Fs){return Fs.id}).indexOf(cr);(Ur===Cr-1||!ur&&-1!==Ur)&&(ur=Vr)}if(!ur)return(Ln=new Error("invalid rev tree")).docId=me,ke(Ln);var qr=ur.ids.map(function(Fs){return Fs.id}).indexOf(br._rev.split("-")[1])+1;if(ur.ids.splice(qr,ur.ids.length-qr),ur.ids.reverse(),Pe.revs&&(br._revisions={start:ur.pos+ur.ids.length-1,ids:ur.ids.map(function(Fs){return Fs.id})}),Pe.revs_info){var mi=ur.pos+ur.ids.length;br._revs_info=ur.ids.map(function(Fs){return{rev:--mi+"-"+Fs.id,status:Fs.opts.status}})}}if(Pe.attachments&&br._attachments){var vi=br._attachments,ts=Object.keys(vi).length;if(0===ts)return ke(null,br);Object.keys(vi).forEach(function(Fs){this._getAttachment(br._id,Fs,vi[Fs],{rev:br._rev,binary:Pe.binary,ctx:Gn},function(ns,Os){var Ri=br._attachments[Fs];Ri.data=Os,delete Ri.stub,delete Ri.length,--ts||ke(null,br)})},Ot)}else{if(br._attachments)for(var Zs in br._attachments)Object.prototype.hasOwnProperty.call(br._attachments,Zs)&&(br._attachments[Zs].stub=!0);ke(null,br)}});if("all"===Pe.open_revs)this._getRevisionTree(me,function(Ln,nr){if(Ln)return ke(Ln);qe=yi(nr).map(function(br){return br.rev}),Gt()});else{if(!Array.isArray(Pe.open_revs))return ke(Qn(En,"function_clause"));qe=Pe.open_revs;for(var on=0;on<qe.length;on++){var On=qe[on];if("string"!=typeof On||!/^\d+-/.test(On))return ke(Qn(jn))}Gt()}}),$i.prototype.getAttachment=nt("getAttachment",function(me,Pe,ke,qe){var Ot=this;ke instanceof Function&&(qe=ke,ke={}),this._get(me,ke,function(Gt,on){return Gt?qe(Gt):on.doc._attachments&&on.doc._attachments[Pe]?(ke.ctx=on.ctx,ke.binary=!0,void Ot._getAttachment(me,Pe,on.doc._attachments[Pe],ke,qe)):qe(Qn(Xe))})}),$i.prototype.allDocs=nt("allDocs",function(me,Pe){if("function"==typeof me&&(Pe=me,me={}),me.skip=void 0!==me.skip?me.skip:0,me.start_key&&(me.startkey=me.start_key),me.end_key&&(me.endkey=me.end_key),"keys"in me){if(!Array.isArray(me.keys))return Pe(new TypeError("options.keys must be an array"));var ke=["startkey","endkey","key"].filter(function(qe){return qe in me})[0];if(ke)return void Pe(Qn(pr,"Query parameter `"+ke+"` is not compatible with multi-get"));if(!Mt(this)&&(function ho(me){var Pe="limit"in me?me.keys.slice(me.skip,me.limit+me.skip):me.skip>0?me.keys.slice(me.skip):me.keys;me.keys=Pe,me.skip=0,delete me.limit,me.descending&&(Pe.reverse(),me.descending=!1)}(me),0===me.keys.length))return this._allDocs({limit:0},Pe)}return this._allDocs(me,Pe)}),$i.prototype.changes=function(me,Pe){return"function"==typeof me&&(Pe=me,me={}),(me=me||{}).return_docs="return_docs"in me?me.return_docs:!me.live,new Rs(this,me,Pe)},$i.prototype.close=nt("close",function(me){return this._closed=!0,this.emit("closed"),this._close(me)}),$i.prototype.info=nt("info",function(me){var Pe=this;this._info(function(ke,qe){if(ke)return me(ke);qe.db_name=qe.db_name||Pe.name,qe.auto_compaction=!(!Pe.auto_compaction||Mt(Pe)),qe.adapter=Pe.adapter,me(null,qe)})}),$i.prototype.id=nt("id",function(me){return this._id(me)}),$i.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},$i.prototype.bulkDocs=nt("bulkDocs",function(me,Pe,ke){if("function"==typeof Pe&&(ke=Pe,Pe={}),Pe=Pe||{},Array.isArray(me)&&(me={docs:me}),!me||!me.docs||!Array.isArray(me.docs))return ke(Qn(Rt));for(var qe=0;qe<me.docs.length;++qe)if("object"!=typeof me.docs[qe]||Array.isArray(me.docs[qe]))return ke(Qn(zn));var Ot;if(me.docs.forEach(function(On){On._attachments&&Object.keys(On._attachments).forEach(function(Ln){Ot=Ot||function qs(me){return"_"===me.charAt(0)&&me+" is not a valid attachment name, attachment names cannot start with '_'"}(Ln),On._attachments[Ln].content_type||Be("warn","Attachment",Ln,"on document",On._id,"is missing content_type")})}),Ot)return ke(Qn(vr,Ot));"new_edits"in Pe||(Pe.new_edits=!("new_edits"in me)||me.new_edits);var Gt=this;!Pe.new_edits&&!Mt(Gt)&&me.docs.sort(Oo),function yo(me){for(var Pe=0;Pe<me.length;Pe++){var ke=me[Pe];if(ke._deleted)delete ke._attachments;else if(ke._attachments)for(var qe=Object.keys(ke._attachments),Ot=0;Ot<qe.length;Ot++){var Gt=qe[Ot];ke._attachments[Gt]=pt(ke._attachments[Gt],["data","digest","content_type","length","revpos","stub"])}}}(me.docs);var on=me.docs.map(function(On){return On._id});return this._bulkDocs(me,Pe,function(On,Ln){if(On)return ke(On);if(Pe.new_edits||(Ln=Ln.filter(function(fn){return fn.error})),!Mt(Gt))for(var nr=0,br=Ln.length;nr<br;nr++)Ln[nr].id=Ln[nr].id||on[nr];ke(null,Ln)})}),$i.prototype.registerDependentDatabase=nt("registerDependentDatabase",function(me,Pe){var ke=Le(this.__opts);this.__opts.view_adapter&&(ke.adapter=this.__opts.view_adapter);var qe=new this.constructor(me,ke);Ei(this,"_local/_pouch_dependentDbs",function Ot(Gt){return Gt.dependentDbs=Gt.dependentDbs||{},!Gt.dependentDbs[me]&&(Gt.dependentDbs[me]=!0,Gt)}).then(function(){Pe(null,{db:qe})}).catch(Pe)}),$i.prototype.destroy=nt("destroy",function(me,Pe){"function"==typeof me&&(Pe=me,me={});var ke=this,qe=!("use_prefix"in ke)||ke.use_prefix;function Ot(){ke._destroy(me,function(Gt,on){if(Gt)return Pe(Gt);ke._destroyed=!0,ke.emit("destroyed"),Pe(null,on||{ok:!0})})}if(Mt(ke))return Ot();ke.get("_local/_pouch_dependentDbs",function(Gt,on){if(Gt)return 404!==Gt.status?Pe(Gt):Ot();var Ln=ke.constructor,nr=Object.keys(on.dependentDbs).map(function(br){var fn=qe?br.replace(new RegExp("^"+Ln.prefix),""):br;return new Ln(fn,ke.__opts).destroy()});Promise.all(nr).then(Ot,Pe)})}),gs.prototype.execute=function(){var me;if(this.failed)for(;me=this.queue.shift();)me(this.failed);else for(;me=this.queue.shift();)me()},gs.prototype.fail=function(me){this.failed=me,this.execute()},gs.prototype.ready=function(me){this.isReady=!0,this.db=me,this.execute()},gs.prototype.addTask=function(me){this.queue.push(me),this.failed&&this.execute()},V()(cn,$i);var _r="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},Er=fetch,Jt=Headers;cn.adapters={},cn.preferredAdapters=[],cn.prefix="_pouch_";var hn=new(Y());function yn(me,Pe){for(var ke=me,qe=0,Ot=Pe.length;qe<Ot&&(ke=ke[Pe[qe]]);qe++);return ke}function Pt(me){for(var Pe=[],ke="",qe=0,Ot=me.length;qe<Ot;qe++){var Gt=me[qe];qe>0&&"\\"===me[qe-1]&&("$"===Gt||"."===Gt)?ke=ke.substring(0,ke.length-1)+Gt:"."===Gt?(Pe.push(ke),ke=""):ke+=Gt}return Pe.push(ke),Pe}(function at(me){Object.keys(Y().prototype).forEach(function(ke){"function"==typeof Y().prototype[ke]&&(me[ke]=hn[ke].bind(hn))});var Pe=me._destructionListeners=new ie;me.on("ref",function(qe){Pe.has(qe.name)||Pe.set(qe.name,[]),Pe.get(qe.name).push(qe)}),me.on("unref",function(qe){if(Pe.has(qe.name)){var Ot=Pe.get(qe.name),Gt=Ot.indexOf(qe);Gt<0||(Ot.splice(Gt,1),Ot.length>1?Pe.set(qe.name,Ot):Pe.delete(qe.name))}}),me.on("destroyed",function(qe){if(Pe.has(qe)){var Ot=Pe.get(qe);Pe.delete(qe),Ot.forEach(function(Gt){Gt.emit("destroyed",!0)})}})})(cn),cn.adapter=function(me,Pe,ke){Pe.valid()&&(cn.adapters[me]=Pe,ke&&cn.preferredAdapters.push(me))},cn.plugin=function(me){if("function"==typeof me)me(cn);else{if("object"!=typeof me||0===Object.keys(me).length)throw new Error('Invalid plugin: got "'+me+'", expected an object or a function');Object.keys(me).forEach(function(Pe){cn.prototype[Pe]=me[Pe]})}return this.__defaults&&(cn.__defaults=Tt({},this.__defaults)),cn},cn.defaults=function(me){function Pe(ke,qe){if(!(this instanceof Pe))return new Pe(ke,qe);qe=qe||{},ke&&"object"==typeof ke&&(ke=(qe=ke).name,delete qe.name),qe=Tt({},Pe.__defaults,qe),cn.call(this,ke,qe)}return V()(Pe,cn),Pe.preferredAdapters=cn.preferredAdapters.slice(),Object.keys(cn).forEach(function(ke){ke in Pe||(Pe[ke]=cn[ke])}),Pe.__defaults=Tt({},this.__defaults,me),Pe},cn.fetch=function(me,Pe){return Er(me,Pe)};var tn=["$or","$nor","$not"];function un(me){return tn.indexOf(me)>-1}function qt(me){return Object.keys(me)[0]}function Kn(me){var Pe={},ke={$or:!0,$nor:!0};return me.forEach(function(qe){Object.keys(qe).forEach(function(Ot){var Gt=qe[Ot];if("object"!=typeof Gt&&(Gt={$eq:Gt}),un(Ot))if(Gt instanceof Array){if(ke[Ot])return ke[Ot]=!1,void(Pe[Ot]=Gt);var on=[];Pe[Ot].forEach(function(Ln){Object.keys(Gt).forEach(function(nr){var br=Gt[nr],fn=Math.max(Object.keys(Ln).length,Object.keys(br).length),Gn=Kn([Ln,br]);Object.keys(Gn).length<=fn||on.push(Gn)})}),Pe[Ot]=on}else Pe[Ot]=Kn([Gt]);else{var On=Pe[Ot]=Pe[Ot]||{};Object.keys(Gt).forEach(function(Ln){var nr=Gt[Ln];return"$gt"===Ln||"$gte"===Ln?function yt(me,Pe,ke){void 0===ke.$eq&&(void 0!==ke.$gte?"$gte"===me?Pe>ke.$gte&&(ke.$gte=Pe):Pe>=ke.$gte&&(delete ke.$gte,ke.$gt=Pe):void 0!==ke.$gt?"$gte"===me?Pe>ke.$gt&&(delete ke.$gt,ke.$gte=Pe):Pe>ke.$gt&&(ke.$gt=Pe):ke[me]=Pe)}(Ln,nr,On):"$lt"===Ln||"$lte"===Ln?function Ct(me,Pe,ke){void 0===ke.$eq&&(void 0!==ke.$lte?"$lte"===me?Pe<ke.$lte&&(ke.$lte=Pe):Pe<=ke.$lte&&(delete ke.$lte,ke.$lt=Pe):void 0!==ke.$lt?"$lte"===me?Pe<ke.$lt&&(delete ke.$lt,ke.$lte=Pe):Pe<ke.$lt&&(ke.$lt=Pe):ke[me]=Pe)}(Ln,nr,On):"$ne"===Ln?function nn(me,Pe){"$ne"in Pe?Pe.$ne.push(me):Pe.$ne=[me]}(nr,On):"$eq"===Ln?function et(me,Pe){delete Pe.$gt,delete Pe.$gte,delete Pe.$lt,delete Pe.$lte,delete Pe.$ne,Pe.$eq=me}(nr,On):"$regex"===Ln?function St(me,Pe){"$regex"in Pe?Pe.$regex.push(me):Pe.$regex=[me]}(nr,On):void(On[Ln]=nr)})}})}),Pe}function ht(me){for(var Pe in me){if(Array.isArray(me))for(var ke in me)me[ke].$and&&(me[ke]=Kn(me[ke].$and));var qe=me[Pe];"object"==typeof qe&&ht(qe)}return me}function Wt(me,Pe){for(var ke in me){"$and"===ke&&(Pe=!0);var qe=me[ke];"object"==typeof qe&&(Pe=Wt(qe,Pe))}return Pe}function Sn(me){var Pe=Le(me),ke=!1;Wt(Pe,!1)&&("$and"in(Pe=ht(Pe))&&(Pe=Kn(Pe.$and)),ke=!0),["$or","$nor"].forEach(function(On){On in Pe&&Pe[On].forEach(function(Ln){for(var nr=Object.keys(Ln),br=0;br<nr.length;br++){var fn=nr[br],Gn=Ln[fn];("object"!=typeof Gn||null===Gn)&&(Ln[fn]={$eq:Gn})}})}),"$not"in Pe&&(Pe.$not=Kn([Pe.$not]));for(var qe=Object.keys(Pe),Ot=0;Ot<qe.length;Ot++){var Gt=qe[Ot],on=Pe[Gt];"object"!=typeof on||null===on?on={$eq:on}:ke||("$ne"in on&&(on.$ne=[on.$ne]),"$regex"in on&&(on.$regex=[on.$regex])),Pe[Gt]=on}return Pe}function _i(me,Pe){if(me===Pe)return 0;me=os(me),Pe=os(Pe);var ke=Ci(me),qe=Ci(Pe);if(ke-qe!=0)return ke-qe;switch(typeof me){case"number":return me-Pe;case"boolean":return me<Pe?-1:1;case"string":return function Xt(me,Pe){return me===Pe?0:me>Pe?1:-1}(me,Pe)}return Array.isArray(me)?function dt(me,Pe){for(var ke=Math.min(me.length,Pe.length),qe=0;qe<ke;qe++){var Ot=_i(me[qe],Pe[qe]);if(0!==Ot)return Ot}return me.length===Pe.length?0:me.length>Pe.length?1:-1}(me,Pe):function Mr(me,Pe){for(var ke=Object.keys(me),qe=Object.keys(Pe),Ot=Math.min(ke.length,qe.length),Gt=0;Gt<Ot;Gt++){var on=_i(ke[Gt],qe[Gt]);if(0!==on||0!==(on=_i(me[ke[Gt]],Pe[qe[Gt]])))return on}return ke.length===qe.length?0:ke.length>qe.length?1:-1}(me,Pe)}function os(me){switch(typeof me){case"undefined":return null;case"number":return me===1/0||me===-1/0||isNaN(me)?null:me;case"object":var Pe=me;if(Array.isArray(me)){var ke=me.length;me=new Array(ke);for(var qe=0;qe<ke;qe++)me[qe]=os(Pe[qe])}else{if(me instanceof Date)return me.toJSON();if(null!==me)for(var Ot in me={},Pe)if(Object.prototype.hasOwnProperty.call(Pe,Ot)){var Gt=Pe[Ot];void 0!==Gt&&(me[Ot]=os(Gt))}}}return me}function fs(me){return Ci(me=os(me))+""+function vo(me){if(null!==me)switch(typeof me){case"boolean":return me?1:0;case"number":return function ro(me){if(0===me)return"1";var Pe=me.toExponential().split(/e\+?/),ke=parseInt(Pe[1],10),qe=me<0,Ot=qe?"0":"2",on=function mr(me,Pe,ke){var qe=function Jn(me,Pe,ke){for(var qe="",Ot=ke-me.length;qe.length<Ot;)qe+=Pe;return qe}(me,Pe,ke);return qe+me}(((qe?-ke:ke)- -324).toString(),"0",3);Ot+=""+on;var On=Math.abs(parseFloat(Pe[0]));qe&&(On=10-On);var Ln=On.toFixed(20);return Ot+""+Ln.replace(/\.?0+$/,"")}(me);case"string":return me.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var Pe=Array.isArray(me),ke=Pe?me:Object.keys(me),qe=-1,Ot=ke.length,Gt="";if(Pe)for(;++qe<Ot;)Gt+=fs(ke[qe]);else for(;++qe<Ot;){var on=ke[qe];Gt+=fs(on)+fs(me[on])}return Gt}return""}(me)+"\0"}function no(me,Pe){var qe,ke=Pe;if("1"===me[Pe])qe=0,Pe++;else{var Gt="0"===me[Pe];Pe++;var on="",On=me.substring(Pe,Pe+3),Ln=parseInt(On,10)+-324;for(Gt&&(Ln=-Ln),Pe+=3;;){var nr=me[Pe];if("\0"===nr)break;on+=nr,Pe++}qe=1===(on=on.split(".")).length?parseInt(on,10):parseFloat(on[0]+"."+on[1]),Gt&&(qe-=10),0!==Ln&&(qe=parseFloat(qe+"e"+Ln))}return{num:qe,length:Pe-ke}}function Dt(me,Pe){var ke=me.pop();if(Pe.length){var qe=Pe[Pe.length-1];ke===qe.element&&(Pe.pop(),qe=Pe[Pe.length-1]);var Ot=qe.element,Gt=qe.index;Array.isArray(Ot)?Ot.push(ke):Gt===me.length-2?Ot[me.pop()]=ke:me.push(ke)}}function Ci(me){var ke=["boolean","number","string","object"].indexOf(typeof me);return~ke?null===me?1:Array.isArray(me)?5:ke<3?ke+2:ke+3:Array.isArray(me)?5:void 0}function io(me,Pe,ke){return ke.every(function(qe){var Ot=Pe[qe],Gt=Pt(qe),on=yn(me,Gt);return un(qe)?function Kr(me,Pe,ke){return"$or"===me?Pe.some(function(qe){return io(ke,qe,Object.keys(qe))}):"$not"===me?!io(ke,Pe,Object.keys(Pe)):!Pe.find(function(qe){return io(ke,qe,Object.keys(qe))})}(qe,Ot,me):sa(Ot,me,Gt,on)})}function sa(me,Pe,ke,qe){return!me||("object"==typeof me?Object.keys(me).every(function(Ot){var Gt=me[Ot];if(0===Ot.indexOf("$"))return Ms(Ot,Pe,Gt,ke,qe);var on=Pt(Ot);if(void 0===qe&&"object"!=typeof Gt&&on.length>0)return!1;var On=yn(qe,on);return"object"==typeof Gt?sa(Gt,Pe,ke,On):Ms("$eq",Pe,Gt,on,On)}):me===qe)}function Ms(me,Pe,ke,qe,Ot){if(!vn[me])throw new Error('unknown operator "'+me+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return vn[me](Pe,ke,qe,Ot)}function ba(me){return null!=me}function ws(me){return void 0!==me}function da(me,Pe){return Pe.some(function(ke){return me instanceof Array?me.some(function(qe){return 0===_i(ke,qe)}):0===_i(ke,me)})}var vn={$elemMatch:function(me,Pe,ke,qe){return!(!Array.isArray(qe)||0===qe.length)&&qe.some("object"==typeof qe[0]?function(Ot){return io(Ot,Pe,Object.keys(Pe))}:function(Ot){return sa(Pe,me,ke,Ot)})},$allMatch:function(me,Pe,ke,qe){return!(!Array.isArray(qe)||0===qe.length)&&qe.every("object"==typeof qe[0]?function(Ot){return io(Ot,Pe,Object.keys(Pe))}:function(Ot){return sa(Pe,me,ke,Ot)})},$eq:function(me,Pe,ke,qe){return ws(qe)&&0===_i(qe,Pe)},$gte:function(me,Pe,ke,qe){return ws(qe)&&_i(qe,Pe)>=0},$gt:function(me,Pe,ke,qe){return ws(qe)&&_i(qe,Pe)>0},$lte:function(me,Pe,ke,qe){return ws(qe)&&_i(qe,Pe)<=0},$lt:function(me,Pe,ke,qe){return ws(qe)&&_i(qe,Pe)<0},$exists:function(me,Pe,ke,qe){return Pe?ws(qe):!ws(qe)},$mod:function(me,Pe,ke,qe){return ba(qe)&&function Aa(me,Pe){return"number"==typeof me&&parseInt(me,10)===me&&me%Pe[0]===Pe[1]}(qe,Pe)},$ne:function(me,Pe,ke,qe){return Pe.every(function(Ot){return 0!==_i(qe,Ot)})},$in:function(me,Pe,ke,qe){return ba(qe)&&da(qe,Pe)},$nin:function(me,Pe,ke,qe){return ba(qe)&&!da(qe,Pe)},$size:function(me,Pe,ke,qe){return ba(qe)&&Array.isArray(qe)&&function bo(me,Pe){return me.length===Pe}(qe,Pe)},$all:function(me,Pe,ke,qe){return Array.isArray(qe)&&function Ea(me,Pe){return Pe.every(function(ke){return me.some(function(qe){return 0===_i(ke,qe)})})}(qe,Pe)},$regex:function(me,Pe,ke,qe){return ba(qe)&&"string"==typeof qe&&Pe.every(function(Ot){return function eo(me,Pe){return new RegExp(Pe).test(me)}(qe,Ot)})},$type:function(me,Pe,ke,qe){return function ao(me,Pe){switch(Pe){case"null":return null===me;case"boolean":return"boolean"==typeof me;case"number":return"number"==typeof me;case"string":return"string"==typeof me;case"array":return me instanceof Array;case"object":return"[object Object]"==={}.toString.call(me)}}(qe,Pe)}};function lo(me,Pe){if(me.selector&&me.filter&&"_selector"!==me.filter)return Pe(new Error('selector invalid for filter "'+("string"==typeof me.filter?me.filter:"function")+'"'));Pe()}function dl(me){me.view&&!me.filter&&(me.filter="_view"),me.selector&&!me.filter&&(me.filter="_selector"),me.filter&&"string"==typeof me.filter&&("_view"===me.filter?me.view=Ut(me.view):me.filter=Ut(me.filter))}function ea(me,Pe){return Pe.filter&&"string"==typeof Pe.filter&&!Pe.doc_ids&&!Mt(me.db)}function $o(me,Pe){var ke=Pe.complete;if("_view"===Pe.filter){if(!Pe.view||"string"!=typeof Pe.view){var qe=Qn(vr,"`view` filter parameter not found or invalid.");return ke(qe)}var Ot=wn(Pe.view);me.db.get("_design/"+Ot[0],function(on,On){if(me.isCancelled)return ke(null,{status:"cancelled"});if(on)return ke(Ar(on));var Ln=On&&On.views&&On.views[Ot[1]]&&On.views[Ot[1]].map;if(!Ln)return ke(Qn(Xe,On.views?"missing json key: "+Ot[1]:"missing json key: views"));Pe.filter=function No(me){return wi(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+me+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(Ln),me.doChanges(Pe)})}else if(Pe.selector)Pe.filter=function(on){return function ul(me,Pe){if("object"!=typeof Pe)throw new Error("Selector error: expected a JSON object");var qe=function ja(me,Pe,ke){if(me=me.filter(function(on){return io(on.doc,Pe.selector,ke)}),Pe.sort){var qe=function Wo(me){function Pe(ke){return me.map(function(qe){var Gt=Pt(qt(qe));return yn(ke,Gt)})}return function(ke,qe){var on=_i(Pe(ke.doc),Pe(qe.doc));return 0!==on?on:function rt(me,Pe){return me<Pe?-1:me>Pe?1:0}(ke.doc._id,qe.doc._id)}}(Pe.sort);me=me.sort(qe),"string"!=typeof Pe.sort[0]&&"desc"===function xn(me){return me[qt(me)]}(Pe.sort[0])&&(me=me.reverse())}if("limit"in Pe||"skip"in Pe){var Ot=Pe.skip||0;me=me.slice(Ot,("limit"in Pe?Pe.limit:me.length)+Ot)}return me}([{doc:me}],{selector:Pe=Sn(Pe)},Object.keys(Pe));return qe&&1===qe.length}(on,Pe.selector)},me.doChanges(Pe);else{var Gt=wn(Pe.filter);me.db.get("_design/"+Gt[0],function(on,On){if(me.isCancelled)return ke(null,{status:"cancelled"});if(on)return ke(Ar(on));var Ln=On&&On.filters&&On.filters[Gt[1]];if(!Ln)return ke(Qn(Xe,On&&On.filters?"missing json key: "+Gt[1]:"missing json key: filters"));Pe.filter=function pi(me){return wi('"use strict";\nreturn '+me+";",{})}(Ln),me.doChanges(Pe)})}}function Vo(me){return me.reduce(function(Pe,ke){return Pe[ke]=!0,Pe},{})}cn.plugin(function gc(me){me._changesFilterPlugin={validate:lo,normalize:dl,shouldFilter:ea,filter:$o}}),cn.version="7.3.0";var Xl=Vo(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Js=Vo(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function $a(me){if(!/^\d+-/.test(me))return Qn(jn);var Pe=me.indexOf("-"),ke=me.substring(0,Pe),qe=me.substring(Pe+1);return{prefix:parseInt(ke,10),id:qe}}function Ka(me,Pe,ke){ke||(ke={deterministic_revs:!0});var qe,Ot,Gt,on={status:"available"};if(me._deleted&&(on.deleted=!0),Pe)if(me._id||(me._id=Yr()),Ot=ni(me,ke.deterministic_revs),me._rev){if((Gt=$a(me._rev)).error)return Gt;me._rev_tree=[{pos:Gt.prefix,ids:[Gt.id,{status:"missing"},[[Ot,on,[]]]]}],qe=Gt.prefix+1}else me._rev_tree=[{pos:1,ids:[Ot,on,[]]}],qe=1;else if(me._revisions&&(me._rev_tree=function Ca(me,Pe){for(var ke=me.start-me.ids.length+1,qe=me.ids,Ot=[qe[0],Pe,[]],Gt=1,on=qe.length;Gt<on;Gt++)Ot=[qe[Gt],{status:"missing"},[Ot]];return[{pos:ke,ids:Ot}]}(me._revisions,on),qe=me._revisions.start,Ot=me._revisions.ids[0]),!me._rev_tree){if((Gt=$a(me._rev)).error)return Gt;me._rev_tree=[{pos:qe=Gt.prefix,ids:[Ot=Gt.id,on,[]]}]}Hn(me._id),me._rev=qe+"-"+Ot;var On={metadata:{},data:{}};for(var Ln in me)if(Object.prototype.hasOwnProperty.call(me,Ln)){var nr="_"===Ln[0];if(nr&&!Xl[Ln]){var br=Qn(Tr,Ln);throw br.message=Tr.message+": "+Ln,br}nr&&!Js[Ln]?On.metadata[Ln.slice(1)]=me[Ln]:On.data[Ln]=me[Ln]}return On}function oa(me,Pe,ke){if(me.stub)return ke();"string"==typeof me.data?function Jo(me,Pe,ke){var qe=function hl(me){try{return Fi(me)}catch(ke){return{error:Qn(Dn,"Attachment is not a valid base64 string")}}}(me.data);if(qe.error)return ke(qe.error);me.length=qe.length,me.data="blob"===Pe?Ui(qe,me.content_type):"base64"===Pe?rs(qe):qe,yr(qe,function(Ot){me.digest="md5-"+Ot,ke()})}(me,Pe,ke):function Zo(me,Pe,ke){yr(me.data,function(qe){me.digest="md5-"+qe,me.length=me.data.size||me.data.length||0,"binary"===Pe?Hs(me.data,function(Ot){me.data=Ot,ke()}):"base64"===Pe?gi(me.data,function(Ot){me.data=Ot,ke()}):ke()})}(me,Pe,ke)}function Tl(me,Pe,ke,qe,Ot,Gt,on,On,Ln){me=me||1e3;var br=On.new_edits,fn=new ie,Gn=0,rr=Pe.length;function tr(){++Gn===rr&&Ln&&Ln()}Pe.forEach(function(Cr,cr){if(Cr._id&&Ji(Cr._id))ke[Cr._deleted?"_removeLocal":"_putLocal"](Cr,{ctx:Ot},function(gr,Vr){Gt[cr]=gr||Vr,tr()});else{var ur=Cr.metadata.id;fn.has(ur)?(rr--,fn.get(ur).push([Cr,cr])):fn.set(ur,[[Cr,cr]])}}),fn.forEach(function(Cr,cr){var ar=0;function ur(){++ar<Cr.length?gr():tr()}function gr(){var Vr=Cr[ar],Ur=Vr[0],di=Vr[1];if(qe.has(cr))!function pl(me,Pe,ke,qe,Ot,Gt,on,On){if(function Ai(me,Pe){for(var on,ke=me.slice(),qe=Pe.split("-"),Ot=parseInt(qe[0],10),Gt=qe[1];on=ke.pop();){if(on.pos===Ot&&on.ids[0]===Gt)return!0;for(var On=on.ids[2],Ln=0,nr=On.length;Ln<nr;Ln++)ke.push({pos:on.pos+1,ids:On[Ln]})}return!1}(Pe.rev_tree,ke.metadata.rev)&&!On)return qe[Ot]=ke,Gt();var Ln=Pe.winningRev||Lr(Pe),nr="deleted"in Pe?Pe.deleted:Ni(Pe,Ln),br="deleted"in ke.metadata?ke.metadata.deleted:Ni(ke.metadata),fn=/^1-/.test(ke.metadata.rev);if(nr&&!br&&On&&fn){var Gn=ke.data;Gn._rev=Ln,Gn._id=ke.metadata.id,ke=Ka(Gn,On)}var rr=ti(Pe.rev_tree,ke.metadata.rev_tree[0],me);if(On&&(nr&&br&&"new_leaf"!==rr.conflicts||!nr&&"new_leaf"!==rr.conflicts||nr&&!br&&"new_branch"===rr.conflicts)){var Cr=Qn(vt);return qe[Ot]=Cr,Gt()}var cr=ke.metadata.rev;ke.metadata.rev_tree=rr.tree,ke.stemmedRevs=rr.stemmedRevs||[],Pe.rev_map&&(ke.metadata.rev_map=Pe.rev_map);var ar=Lr(ke.metadata),ur=Ni(ke.metadata,ar),gr=nr===ur?0:nr<ur?-1:1;on(ke,ar,ur,cr===ar?ur:Ni(ke.metadata,cr),!0,gr,Ot,Gt)}(me,qe.get(cr),Ur,Gt,di,ur,on,br);else{var qr=ti([],Ur.metadata.rev_tree[0],me);Ur.metadata.rev_tree=qr.tree,Ur.stemmedRevs=qr.stemmedRevs||[],function nr(Cr,cr,ar){var ur=Lr(Cr.metadata),gr=Ni(Cr.metadata,ur);if("was_delete"in On&&gr)return Gt[cr]=Qn(Xe,"deleted"),ar();var Vr=br&&function Ma(me){return"missing"===me.metadata.rev_tree[0].ids[1].status}(Cr);if(Vr){var Ur=Qn(vt);return Gt[cr]=Ur,ar()}on(Cr,ur,gr,gr,!1,gr?0:1,cr,ar)}(Ur,di,ur)}}gr()})}var Zi="document-store",wo="by-sequence",Qs="attach-store",fo="attach-seq-store",Ls="meta-store",aa="local-store",Dl="detect-blob-support";function el(me){try{return JSON.stringify(me)}catch(Pe){return F.stringify(me)}}function So(me){return function(Pe){var ke="unknown_error";Pe.target&&Pe.target.error&&(ke=Pe.target.error.name||Pe.target.error.message),me(Qn(sn,ke))}}function fl(me,Pe,ke){return{data:el(me),winningRev:Pe,deletedOrLocal:ke?"1":"0",seq:me.seq,id:me.id}}function so(me){if(!me)return null;var Pe=function kl(me){try{return JSON.parse(me)}catch(Pe){return F.parse(me)}}(me.data);return Pe.winningRev=me.winningRev,Pe.deleted="1"===me.deletedOrLocal,Pe.seq=me.seq,Pe}function xa(me){if(!me)return me;var Pe=me._doc_id_rev.lastIndexOf(":");return me._id=me._doc_id_rev.substring(0,Pe-1),me._rev=me._doc_id_rev.substring(Pe+1),delete me._doc_id_rev,me}function Ga(me,Pe,ke,qe){ke?qe(me?"string"!=typeof me?me:hr(me,Pe):Zr([""],{type:Pe})):me?"string"!=typeof me?Hi(me,function(Ot){qe(rs(Ot))}):qe(me):qe("")}function Fo(me,Pe,ke,qe){var Ot=Object.keys(me._attachments||{});if(!Ot.length)return qe&&qe();var Gt=0;function on(){++Gt===Ot.length&&qe&&qe()}Ot.forEach(function(Ln){Pe.attachments&&Pe.include_docs?function On(Ln,nr){var br=Ln._attachments[nr],fn=br.digest;ke.objectStore(Qs).get(fn).onsuccess=function(rr){br.body=rr.target.result.body,on()}}(me,Ln):(me._attachments[Ln].stub=!0,on())})}function tl(me,Pe){return Promise.all(me.map(function(ke){if(ke.doc&&ke.doc._attachments){var qe=Object.keys(ke.doc._attachments);return Promise.all(qe.map(function(Ot){var Gt=ke.doc._attachments[Ot];if("body"in Gt){var on=Gt.body,On=Gt.content_type;return new Promise(function(Ln){Ga(on,On,Pe,function(nr){ke.doc._attachments[Ot]=Tt(pt(Gt,["digest","content_type"]),{data:nr}),Ln()})})}}))}}))}function ml(me,Pe,ke){var qe=[],Ot=ke.objectStore(wo),Gt=ke.objectStore(Qs),on=ke.objectStore(fo),On=me.length;function Ln(){--On||function nr(){!qe.length||qe.forEach(function(br){on.index("digestSeq").count(IDBKeyRange.bound(br+"::",br+"::\uffff",!1,!1)).onsuccess=function(Gn){Gn.target.result||Gt.delete(br)}})}()}me.forEach(function(br){Ot.index("_doc_id_rev").getKey(Pe+"::"+br).onsuccess=function(rr){var tr=rr.target.result;if("number"!=typeof tr)return Ln();Ot.delete(tr),on.index("seq").openCursor(IDBKeyRange.only(tr)).onsuccess=function(cr){var ar=cr.target.result;if(ar){var ur=ar.value.digestSeq.split("::")[0];qe.push(ur),on.delete(ar.primaryKey),ar.continue()}else Ln()}}})}function Ks(me,Pe,ke){try{return{txn:me.transaction(Pe,ke)}}catch(qe){return{error:qe}}}var jo=new we;function nl(me,Pe,ke,qe,Ot,Gt){for(var On,Ln,nr,br,fn,Gn,rr,tr,on=Pe.docs,Cr=0,cr=on.length;Cr<cr;Cr++){var ar=on[Cr];ar._id&&Ji(ar._id)||(ar=on[Cr]=Ka(ar,ke.new_edits,me)).error&&!rr&&(rr=ar)}if(rr)return Gt(rr);var ur=!1,gr=0,Vr=new Array(on.length),Ur=new ie,di=!1;function mi(){ur=!0,ts()}function ts(){!tr||!ur||(tr.docCount+=gr,Gn.put(tr))}function Fs(){di||(jo.notify(qe._meta.name),Gt(null,Vr))}function Ri(ii,Mi,Wr,ai,Ti,Gi,as,zr){ii.metadata.winningRev=Mi,ii.metadata.deleted=Wr;var Ss=ii.data;if(Ss._id=ii.metadata.id,Ss._rev=ii.metadata.rev,ai&&(Ss._deleted=!0),Ss._attachments&&Object.keys(Ss._attachments).length)return function dr(ii,Mi,Wr,ai,Ti,Gi){var zr=0,Ss=Object.keys(ii.data._attachments);function go(){zr===Ss.length&&sr(ii,Mi,Wr,ai,Ti,Gi)}function Po(){zr++,go()}Ss.forEach(function(zi){var vs=ii.data._attachments[zi];if(vs.stub)zr++,go();else{var ys=vs.data;delete vs.data,vs.revpos=parseInt(Mi,10),function ci(ii,Mi,Wr){br.count(ii).onsuccess=function(Ti){if(Ti.target.result)return Wr();br.put({digest:ii,body:Mi}).onsuccess=Wr}}(vs.digest,ys,Po)}})}(ii,Mi,Wr,Ti,as,zr);gr+=Gi,ts(),sr(ii,Mi,Wr,Ti,as,zr)}function sr(ii,Mi,Wr,ai,Ti,Gi){var as=ii.data,zr=ii.metadata;function Ss(vs){var ys=ii.stemmedRevs||[];ai&&qe.auto_compaction&&(ys=ys.concat(function Qr(me){var Pe=[];return Oi(me.rev_tree,function(ke,qe,Ot,Gt,on){"available"===on.status&&!ke&&(Pe.push(qe+"-"+Ot),on.status="missing")}),Pe}(ii.metadata))),ys&&ys.length&&ml(ys,ii.metadata.id,On),zr.seq=vs.target.result;var Eo=fl(zr,Mi,Wr);Ln.put(Eo).onsuccess=Po}function Po(){Vr[Ti]={ok:!0,id:zr.id,rev:zr.rev},Ur.set(ii.metadata.id,ii.metadata),function xr(ii,Mi,Wr){var ai=0,Ti=Object.keys(ii.data._attachments||{});if(!Ti.length)return Wr();function Gi(){++ai===Ti.length&&Wr()}function as(Ss){var Po=fn.put({seq:Mi,digestSeq:ii.data._attachments[Ss].digest+"::"+Mi});Po.onsuccess=Gi,Po.onerror=function(zi){zi.preventDefault(),zi.stopPropagation(),Gi()}}for(var zr=0;zr<Ti.length;zr++)as(Ti[zr])}(ii,zr.seq,Gi)}as._doc_id_rev=zr.id+"::"+zr.rev,delete as._id,delete as._rev;var zi=nr.put(as);zi.onsuccess=Ss,zi.onerror=function go(vs){vs.preventDefault(),vs.stopPropagation(),nr.index("_doc_id_rev").getKey(as._doc_id_rev).onsuccess=function(zo){nr.put(as,zo.target.result).onsuccess=Ss}}}!function ha(me,Pe,ke){if(!me.length)return ke();var Ot,qe=0;function Gt(){qe++,me.length===qe&&(Ot?ke(Ot):ke())}me.forEach(function(on){var On=on.data&&on.data._attachments?Object.keys(on.data._attachments):[],Ln=0;if(!On.length)return Gt();function nr(fn){Ot=fn,++Ln===On.length&&Gt()}for(var br in on.data._attachments)Object.prototype.hasOwnProperty.call(on.data._attachments,br)&&oa(on.data._attachments[br],Pe,nr)})}(on,qe._meta.blobSupport?"blob":"base64",function(ii){if(ii)return Gt(ii);!function Pi(){var Mi=Ks(Ot,[Zi,wo,Qs,aa,fo,Ls],"readwrite");if(Mi.error)return Gt(Mi.error);(On=Mi.txn).onabort=So(Gt),On.ontimeout=So(Gt),On.oncomplete=Fs,Ln=On.objectStore(Zi),nr=On.objectStore(wo),br=On.objectStore(Qs),fn=On.objectStore(fo),(Gn=On.objectStore(Ls)).get(Ls).onsuccess=function(Wr){tr=Wr.target.result,ts()},function Os(ii){var Mi=[];if(on.forEach(function(Gi){Gi.data&&Gi.data._attachments&&Object.keys(Gi.data._attachments).forEach(function(as){var zr=Gi.data._attachments[as];zr.stub&&Mi.push(zr.digest)})}),!Mi.length)return ii();var ai,Wr=0;Mi.forEach(function(Gi){!function ns(ii,Mi){br.get(ii).onsuccess=function(ai){if(ai.target.result)Mi();else{var Ti=Qn(Ht,"unknown stub attachment with digest "+ii);Ti.status=412,Mi(Ti)}}}(Gi,function(as){as&&!ai&&(ai=as),function Ti(){++Wr===Mi.length&&ii(ai)}()})})}(function(Wr){if(Wr)return di=!0,Gt(Wr);!function Zs(){if(on.length)for(var ii=0,ai=0,Ti=on.length;ai<Ti;ai++){var Gi=on[ai];Gi._id&&Ji(Gi._id)?Mi():Ln.get(Gi.metadata.id).onsuccess=Wr}function Mi(){++ii===on.length&&function vi(){Tl(me.revs_limit,on,qe,Ur,On,Vr,Ri,ke,mi)}()}function Wr(zr){var Ss=so(zr.target.result);Ss&&Ur.set(Ss.id,Ss),Mi()}}()})}()})}function Wl(me,Pe,ke,qe,Ot){var on,On,Ln;function nr(rr){On=rr.target.result,on&&Ot(on,On,Ln)}function br(rr){on=rr.target.result,On&&Ot(on,On,Ln)}function Gn(rr){var tr=rr.target.result;if(!tr)return Ot();Ot([tr.key],[tr.value],tr)}-1===qe&&(qe=1e3),"function"==typeof me.getAll&&"function"==typeof me.getAllKeys&&qe>1&&!ke?(Ln={continue:function fn(){if(!on.length)return Ot();var tr,rr=on[on.length-1];if(Pe&&Pe.upper)try{tr=IDBKeyRange.bound(rr,Pe.upper,!0,Pe.upperOpen)}catch(Cr){if("DataError"===Cr.name&&0===Cr.code)return Ot()}else tr=IDBKeyRange.lowerBound(rr,!0);on=null,On=null,me.getAll(Pe=tr,qe).onsuccess=nr,me.getAllKeys(Pe,qe).onsuccess=br}},me.getAll(Pe,qe).onsuccess=nr,me.getAllKeys(Pe,qe).onsuccess=br):ke?me.openCursor(Pe,"prev").onsuccess=Gn:me.openCursor(Pe).onsuccess=Gn}var it=!1,lt=[];function Tn(){it||!lt.length||(it=!0,lt.shift()())}var Yo,js=new ie,mo=new ie;function wa(me,Pe){var ke=this;!function Sr(me,Pe,ke){lt.push(function(){me(function(Gt,on){(function jt(me,Pe,ke,qe){try{me(Pe,ke)}catch(Ot){qe.emit("error",Ot)}})(Pe,Gt,on,ke),it=!1,v()(function(){Tn()})})}),Tn()}(function(qe){!function Ba(me,Pe,ke){var qe=Pe.name,Ot=null,Gt=null;function on(cr){return function(ar,ur){ar&&ar instanceof Error&&!ar.reason&&Gt&&(ar.reason=Gt),cr(ar,ur)}}function Ln(cr,ar){var ur=cr.objectStore(Zi);ur.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),ur.openCursor().onsuccess=function(gr){var Vr=gr.target.result;if(Vr){var Ur=Vr.value,di=Ni(Ur);Ur.deletedOrLocal=di?"1":"0",ur.put(Ur),Vr.continue()}else ar()}}function br(cr,ar){var ur=cr.objectStore(aa),gr=cr.objectStore(Zi),Vr=cr.objectStore(wo);gr.openCursor().onsuccess=function(di){var qr=di.target.result;if(qr){var Pi=qr.value,mi=Pi.id,vi=Ji(mi),ts=Lr(Pi);if(vi){var Zs=mi+"::"+ts,Fs=mi+"::",ns=mi+"::~",Os=Vr.index("_doc_id_rev"),Ri=IDBKeyRange.bound(Fs,ns,!1,!1),sr=Os.openCursor(Ri);sr.onsuccess=function(dr){if(sr=dr.target.result){var xr=sr.value;xr._doc_id_rev===Zs&&ur.put(xr),Vr.delete(sr.primaryKey),sr.continue()}else gr.delete(qr.primaryKey),qr.continue()}}else qr.continue()}else ar&&ar()}}function Gn(cr,ar){var ur=cr.objectStore(wo),gr=cr.objectStore(Qs),Vr=cr.objectStore(fo);gr.count().onsuccess=function(di){if(!di.target.result)return ar();ur.openCursor().onsuccess=function(Pi){var mi=Pi.target.result;if(!mi)return ar();for(var vi=mi.value,ts=mi.primaryKey,Zs=Object.keys(vi._attachments||{}),Fs={},ns=0;ns<Zs.length;ns++)Fs[vi._attachments[Zs[ns]].digest]=!0;var Ri=Object.keys(Fs);for(ns=0;ns<Ri.length;ns++)Vr.put({seq:ts,digestSeq:Ri[ns]+"::"+ts});mi.continue()}}}function rr(cr){var ur=cr.objectStore(wo),gr=cr.objectStore(Zi);gr.openCursor().onsuccess=function(Ur){var di=Ur.target.result;if(di){var qr=function ar(Ur){return Ur.data?so(Ur):(Ur.deleted="1"===Ur.deletedOrLocal,Ur)}(di.value);if(qr.winningRev=qr.winningRev||Lr(qr),qr.seq)return mi();!function Pi(){var vi=qr.id+"::",ts=qr.id+"::\uffff",Zs=ur.index("_doc_id_rev").openCursor(IDBKeyRange.bound(vi,ts)),Fs=0;Zs.onsuccess=function(ns){var Os=ns.target.result;if(!Os)return qr.seq=Fs,mi();var Ri=Os.primaryKey;Ri>Fs&&(Fs=Ri),Os.continue()}}()}function mi(){var vi=fl(qr,qr.winningRev,qr.deleted);gr.put(vi).onsuccess=function(){di.continue()}}}}me._meta=null,me._remote=!1,me.type=function(){return"idb"},me._id=_e(function(cr){cr(null,me._meta.instanceId)}),me._bulkDocs=function(ar,ur,gr){nl(Pe,ar,ur,me,Ot,on(gr))},me._get=function(ar,ur,gr){var Vr,Ur,di,qr=ur.ctx;if(!qr){var Pi=Ks(Ot,[Zi,wo,Qs],"readonly");if(Pi.error)return gr(Pi.error);qr=Pi.txn}function mi(){gr(di,{doc:Vr,metadata:Ur,ctx:qr})}qr.objectStore(Zi).get(ar).onsuccess=function(vi){if(!(Ur=so(vi.target.result)))return di=Qn(Xe,"missing"),mi();var ts;if(ur.rev)ts=ur.latest?function Gs(me,Pe){for(var qe,ke=Pe.rev_tree.slice();qe=ke.pop();){var Ot=qe.pos,Gt=qe.ids,on=Gt[0],On=Gt[1],Ln=Gt[2],nr=0===Ln.length,br=qe.history?qe.history.slice():[];if(br.push({id:on,pos:Ot,opts:On}),nr)for(var fn=0,Gn=br.length;fn<Gn;fn++){var rr=br[fn];if(rr.pos+"-"+rr.id===me)return Ot+"-"+on}for(var Cr=0,cr=Ln.length;Cr<cr;Cr++)ke.push({pos:Ot+1,ids:Ln[Cr],history:br})}throw new Error("Unable to resolve latest revision for id "+Pe.id+", rev "+me)}(ur.rev,Ur):ur.rev;else if(ts=Ur.winningRev,Ni(Ur))return di=Qn(Xe,"deleted"),mi();var Fs=qr.objectStore(wo),ns=Ur.id+"::"+ts;Fs.index("_doc_id_rev").get(ns).onsuccess=function(Os){if((Vr=Os.target.result)&&(Vr=xa(Vr)),!Vr)return di=Qn(Xe,"missing"),mi();mi()}}},me._getAttachment=function(cr,ar,ur,gr,Vr){var Ur;if(gr.ctx)Ur=gr.ctx;else{var di=Ks(Ot,[Zi,wo,Qs],"readonly");if(di.error)return Vr(di.error);Ur=di.txn}var qr=ur.digest,Pi=ur.content_type;Ur.objectStore(Qs).get(qr).onsuccess=function(mi){Ga(mi.target.result.body,Pi,gr.binary,function(ts){Vr(null,ts)})}},me._info=function(ar){var ur,gr,Vr=Ks(Ot,[Ls,wo],"readonly");if(Vr.error)return ar(Vr.error);var Ur=Vr.txn;Ur.objectStore(Ls).get(Ls).onsuccess=function(di){gr=di.target.result.docCount},Ur.objectStore(wo).openCursor(null,"prev").onsuccess=function(di){var qr=di.target.result;ur=qr?qr.key:0},Ur.oncomplete=function(){ar(null,{doc_count:gr,update_seq:ur,idb_attachment_format:me._meta.blobSupport?"binary":"base64"})}},me._allDocs=function(ar,ur){!function Vl(me,Pe,ke){var br,fn,on="keys"in me&&me.keys,On=me.skip||0,Ln="number"==typeof me.limit?me.limit:-1;if(!on&&(br=function ql(me,Pe,ke,qe,Ot){try{if(me&&Pe)return Ot?IDBKeyRange.bound(Pe,me,!ke,!1):IDBKeyRange.bound(me,Pe,!1,!ke);if(me)return Ot?IDBKeyRange.upperBound(me):IDBKeyRange.lowerBound(me);if(Pe)return Ot?IDBKeyRange.lowerBound(Pe,!ke):IDBKeyRange.upperBound(Pe,!ke);if(qe)return IDBKeyRange.only(qe)}catch(Gt){return{error:Gt}}return null}("startkey"in me&&me.startkey,"endkey"in me&&me.endkey,!1!==me.inclusive_end,"key"in me&&me.key,me.descending),(fn=br&&br.error)&&("DataError"!==fn.name||0!==fn.code)))return ke(Qn(sn,fn.name));var Gn=[Zi,wo,Ls];me.attachments&&Gn.push(Qs);var rr=Ks(Pe,Gn,"readonly");if(rr.error)return ke(rr.error);var tr=rr.txn;tr.oncomplete=function Fs(){me.attachments?tl(gr,me.binary).then(Zs):Zs()},tr.onabort=So(ke);var Vr,Ur,Cr=tr.objectStore(Zi),cr=tr.objectStore(wo),ar=tr.objectStore(Ls),ur=cr.index("_doc_id_rev"),gr=[];function Pi(ns,Os){var Ri={id:Os.id,key:Os.id,value:{rev:ns}};Os.deleted?on&&(gr.push(Ri),Ri.value.deleted=!0,Ri.doc=null):On--<=0&&(gr.push(Ri),me.include_docs&&function qr(ns,Os,Ri){ur.get(ns.id+"::"+Ri).onsuccess=function(xr){if(Os.doc=xa(xr.target.result)||{},me.conflicts){var ci=Un(ns);ci.length&&(Os.doc._conflicts=ci)}Fo(Os.doc,me,tr)}}(Os,Ri,ns))}function mi(ns){for(var Os=0,Ri=ns.length;Os<Ri&&gr.length!==Ln;Os++){var sr=ns[Os];if(sr.error&&on)gr.push(sr);else{var dr=so(sr);Pi(dr.winningRev,dr)}}}function vi(ns,Os,Ri){!Ri||(mi(Os),gr.length<Ln&&Ri.continue())}function Zs(){var ns={total_rows:Vr,offset:me.skip,rows:gr};me.update_seq&&void 0!==Ur&&(ns.update_seq=Ur),ke(null,ns)}if(ar.get(Ls).onsuccess=function(ns){Vr=ns.target.result.docCount},me.update_seq&&function di(ns,Os){ns.openCursor(null,"prev").onsuccess=function Ri(sr){var dr=sr.target.result,xr=void 0;return dr&&dr.key&&(xr=dr.key),Os({target:{result:[xr]}})}}(cr,function(ns){ns.target.result&&ns.target.result.length>0&&(Ur=ns.target.result[0])}),!fn&&0!==Ln){if(on)return function Ko(me,Pe,ke){var qe=new Array(me.length),Ot=0;me.forEach(function(Gt,on){Pe.get(Gt).onsuccess=function(On){qe[on]=On.target.result?On.target.result:{key:Gt,error:"not_found"},++Ot===me.length&&ke(me,qe,{})}})}(me.keys,Cr,vi);if(-1===Ln)return function gl(me,Pe,ke){if("function"!=typeof me.getAll){var qe=[];me.openCursor(Pe).onsuccess=function Ot(Gt){var on=Gt.target.result;on?(qe.push(on.value),on.continue()):ke({target:{result:qe}})}}else me.getAll(Pe).onsuccess=ke}(Cr,br,function ts(ns){var Os=ns.target.result;me.descending&&(Os=Os.reverse()),mi(Os)});Wl(Cr,br,me.descending,Ln+On,vi)}}(ar,Ot,on(ur))},me._changes=function(ar){return function xi(me,Pe,ke,qe){if((me=Le(me)).continuous){var Ot=ke+":"+Yr();return jo.addListener(ke,Ot,Pe,me),jo.notify(ke),{cancel:function(){jo.removeListener(ke,Ot)}}}var Gt=me.doc_ids&&new ue(me.doc_ids);me.since=me.since||0;var on=me.since,On="limit"in me?me.limit:-1;0===On&&(On=1);var Gn,rr,tr,Cr,Ln=[],nr=0,br=an(me),fn=new ie;function ar(Pi,mi,vi,ts){return vi.seq!==mi?ts():vi.winningRev===Pi._rev?ts(vi,Pi):void(Cr.get(Pi._id+"::"+vi.winningRev).onsuccess=function(ns){ts(vi,xa(ns.target.result))})}function gr(){me.complete(null,{results:Ln,last_seq:on})}var Ur=[Zi,wo];me.attachments&&Ur.push(Qs);var di=Ks(qe,Ur,"readonly");if(di.error)return me.complete(di.error);(Gn=di.txn).onabort=So(me.complete),Gn.oncomplete=function Vr(){!me.continuous&&me.attachments?tl(Ln).then(gr):gr()},rr=Gn.objectStore(wo),tr=Gn.objectStore(Zi),Cr=rr.index("_doc_id_rev"),Wl(rr,me.since&&!me.descending?IDBKeyRange.lowerBound(me.since,!0):null,me.descending,On,function cr(Pi,mi,vi){if(vi&&Pi.length){var ts=new Array(Pi.length),Zs=new Array(Pi.length),Os=0;mi.forEach(function(Ri,sr){!function ur(Pi,mi,vi){if(Gt&&!Gt.has(Pi._id))return vi();var ts=fn.get(Pi._id);if(ts)return ar(Pi,mi,ts,vi);tr.get(Pi._id).onsuccess=function(Zs){ts=so(Zs.target.result),fn.set(Pi._id,ts),ar(Pi,mi,ts,vi)}}(xa(Ri),Pi[sr],function(ci,ii){Zs[sr]=ci,ts[sr]=ii,++Os===Pi.length&&function ns(){for(var Ri=[],sr=0,dr=ts.length;sr<dr&&nr!==On;sr++){var xr=ts[sr];xr&&Ri.push(Fs(Zs[sr],xr))}Promise.all(Ri).then(function(ii){for(var Mi=0,Wr=ii.length;Mi<Wr;Mi++)ii[Mi]&&me.onChange(ii[Mi])}).catch(me.complete),nr!==On&&vi.continue()}()})})}function Fs(Ri,sr){var dr=me.processChange(sr,Ri,me);on=dr.seq=Ri.seq;var xr=br(dr);return"object"==typeof xr?Promise.reject(xr):xr?(nr++,me.return_docs&&Ln.push(dr),me.attachments&&me.include_docs?new Promise(function(ci){Fo(sr,me,Gn,function(){tl([dr],me.binary).then(function(){ci(dr)})})}):Promise.resolve(dr)):Promise.resolve()}})}(ar,me,qe,Ot)},me._close=function(cr){Ot.close(),js.delete(qe),cr()},me._getRevisionTree=function(cr,ar){var ur=Ks(Ot,[Zi],"readonly");if(ur.error)return ar(ur.error);ur.txn.objectStore(Zi).get(cr).onsuccess=function(Ur){var di=so(Ur.target.result);di?ar(null,di.rev_tree):ar(Qn(Xe))}},me._doCompaction=function(cr,ar,ur){var Vr=Ks(Ot,[Zi,wo,Qs,fo],"readwrite");if(Vr.error)return ur(Vr.error);var Ur=Vr.txn;Ur.objectStore(Zi).get(cr).onsuccess=function(qr){var Pi=so(qr.target.result);Oi(Pi.rev_tree,function(ts,Zs,Fs,ns,Os){-1!==ar.indexOf(Zs+"-"+Fs)&&(Os.status="missing")}),ml(ar,cr,Ur);var mi=Pi.winningRev,vi=Pi.deleted;Ur.objectStore(Zi).put(fl(Pi,mi,vi))},Ur.onabort=So(ur),Ur.oncomplete=function(){ur()}},me._getLocal=function(cr,ar){var ur=Ks(Ot,[aa],"readonly");if(ur.error)return ar(ur.error);var Vr=ur.txn.objectStore(aa).get(cr);Vr.onerror=So(ar),Vr.onsuccess=function(Ur){var di=Ur.target.result;di?(delete di._doc_id_rev,ar(null,di)):ar(Qn(Xe))}},me._putLocal=function(cr,ar,ur){"function"==typeof ar&&(ur=ar,ar={}),delete cr._revisions;var gr=cr._rev,Vr=cr._id;cr._rev=gr?"0-"+(parseInt(gr.split("-")[1],10)+1):"0-1";var di,Ur=ar.ctx;if(!Ur){var qr=Ks(Ot,[aa],"readwrite");if(qr.error)return ur(qr.error);(Ur=qr.txn).onerror=So(ur),Ur.oncomplete=function(){di&&ur(null,di)}}var mi,Pi=Ur.objectStore(aa);gr?(mi=Pi.get(Vr)).onsuccess=function(vi){var ts=vi.target.result;ts&&ts._rev===gr?Pi.put(cr).onsuccess=function(){di={ok:!0,id:cr._id,rev:cr._rev},ar.ctx&&ur(null,di)}:ur(Qn(vt))}:((mi=Pi.add(cr)).onerror=function(vi){ur(Qn(vt)),vi.preventDefault(),vi.stopPropagation()},mi.onsuccess=function(){di={ok:!0,id:cr._id,rev:cr._rev},ar.ctx&&ur(null,di)})},me._removeLocal=function(cr,ar,ur){"function"==typeof ar&&(ur=ar,ar={});var gr=ar.ctx;if(!gr){var Vr=Ks(Ot,[aa],"readwrite");if(Vr.error)return ur(Vr.error);(gr=Vr.txn).oncomplete=function(){Ur&&ur(null,Ur)}}var Ur,di=cr._id,qr=gr.objectStore(aa),Pi=qr.get(di);Pi.onerror=So(ur),Pi.onsuccess=function(mi){var vi=mi.target.result;vi&&vi._rev===cr._rev?(qr.delete(di),Ur={ok:!0,id:di,rev:"0-0"},ar.ctx&&ur(null,Ur)):ur(Qn(Xe))}},me._destroy=function(cr,ar){jo.removeAllListeners(qe);var ur=mo.get(qe);ur&&ur.result&&(ur.result.close(),js.delete(qe));var gr=indexedDB.deleteDatabase(qe);gr.onsuccess=function(){mo.delete(qe),Ze()&&qe in localStorage&&delete localStorage[qe],ar(null,{ok:!0})},gr.onerror=So(ar)};var tr=js.get(qe);if(tr)return Ot=tr.idb,me._meta=tr.global,v()(function(){ke(null,me)});var Cr=indexedDB.open(qe,5);mo.set(qe,Cr),Cr.onupgradeneeded=function(cr){var ar=cr.target.result;if(cr.oldVersion<1)return function On(cr){var ar=cr.createObjectStore(Zi,{keyPath:"id"});cr.createObjectStore(wo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),cr.createObjectStore(Qs,{keyPath:"digest"}),cr.createObjectStore(Ls,{keyPath:"id",autoIncrement:!1}),cr.createObjectStore(Dl),ar.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),cr.createObjectStore(aa,{keyPath:"_id"});var ur=cr.createObjectStore(fo,{autoIncrement:!0});ur.createIndex("seq","seq"),ur.createIndex("digestSeq","digestSeq",{unique:!0})}(ar);var ur=cr.currentTarget.transaction;cr.oldVersion<3&&function nr(cr){cr.createObjectStore(aa,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(ar),cr.oldVersion<4&&function fn(cr){var ar=cr.createObjectStore(fo,{autoIncrement:!0});ar.createIndex("seq","seq"),ar.createIndex("digestSeq","digestSeq",{unique:!0})}(ar);var gr=[Ln,br,Gn,rr],Vr=cr.oldVersion;!function Ur(){var di=gr[Vr-1];Vr++,di&&di(ur,Ur)}()},Cr.onsuccess=function(cr){(Ot=cr.target.result).onversionchange=function(){Ot.close(),js.delete(qe)},Ot.onabort=function(mi){Be("error","Database has a global failure",mi.target.error),Gt=mi.target.error,Ot.close(),js.delete(qe)};var gr,Vr,Ur,di,ar=Ot.transaction([Ls,Dl,Zi],"readwrite"),ur=!1;function qr(){void 0===Ur||!ur||(me._meta={name:qe,instanceId:di,blobSupport:Ur},js.set(qe,{idb:Ot,global:me._meta}),ke(null,me))}function Pi(){if(void 0!==Vr&&void 0!==gr){var mi=qe+"_id";mi in gr?di=gr[mi]:gr[mi]=di=Yr(),gr.docCount=Vr,ar.objectStore(Ls).put(gr)}}ar.objectStore(Ls).get(Ls).onsuccess=function(mi){gr=mi.target.result||{id:Ls},Pi()},function Ha(me,Pe){me.objectStore(Zi).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(qe){Pe(qe.target.result)}}(ar,function(mi){Vr=mi,Pi()}),Yo||(Yo=function Pl(me){return new Promise(function(Pe){var ke=Zr([""]),qe=me.objectStore(Dl).put(ke,"key");qe.onsuccess=function(){var Ot=navigator.userAgent.match(/Chrome\/(\d+)/),Gt=navigator.userAgent.match(/Edge\//);Pe(Gt||!Ot||parseInt(Ot[1],10)>=43)},qe.onerror=me.onabort=function(Ot){Ot.preventDefault(),Ot.stopPropagation(),Pe(!1)}}).catch(function(){return!1})}(ar)),Yo.then(function(mi){Ur=mi,qr()}),ar.oncomplete=function(){ur=!0,qr()},ar.onabort=So(ke)},Cr.onerror=function(cr){var ar=cr.target.error&&cr.target.error.message;ar?-1!==ar.indexOf("stored database is a higher version")&&(ar=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):ar="Failed to open indexedDB, are you in private browsing mode?",Be("error",ar),ke(Qn(sn,ar))}}(ke,me,qe)},Pe,ke.constructor)}wa.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(me){return!1}};var il={};function Go(me){var Pe=me.doc||me.ok,ke=Pe&&Pe._attachments;!ke||Object.keys(ke).forEach(function(qe){var Ot=ke[qe];Ot.data=hr(Ot.data,Ot.content_type)})}function st(me){return/^_design/.test(me)?"_design/"+encodeURIComponent(me.slice(8)):/^_local/.test(me)?"_local/"+encodeURIComponent(me.slice(7)):encodeURIComponent(me)}function Qe(me){return me._attachments&&Object.keys(me._attachments)?Promise.all(Object.keys(me._attachments).map(function(Pe){var ke=me._attachments[Pe];if(ke.data&&"string"!=typeof ke.data)return new Promise(function(qe){gi(ke.data,qe)}).then(function(qe){ke.data=qe})})):Promise.resolve()}function Te(me,Pe){return Ie(me,me.db+"/"+Pe)}function Ie(me,Pe){return me.protocol+"://"+me.host+(me.port?":"+me.port:"")+"/"+me.path+(me.path?"/":"")+Pe}function Oe(me){return"?"+Object.keys(me).map(function(Pe){return Pe+"="+encodeURIComponent(me[Pe])}).join("&")}function bt(me,Pe){var ke=this,qe=function fe(me,Pe){if(function ze(me){if(!me.prefix)return!1;var Pe=Hr(me.prefix).protocol;return"http"===Pe||"https"===Pe}(Pe)){var ke=Pe.name.substr(Pe.prefix.length);me=Pe.prefix.replace(/\/?$/,"/")+encodeURIComponent(ke)}var Ot=Hr(me);(Ot.user||Ot.password)&&(Ot.auth={username:Ot.user,password:Ot.password});var Gt=Ot.path.replace(/(^\/|\/$)/g,"").split("/");return Ot.db=Gt.pop(),-1===Ot.db.indexOf("%")&&(Ot.db=encodeURIComponent(Ot.db)),Ot.path=Gt.join("/"),Ot}(me.name,me),Ot=Te(qe,"");me=Le(me);var Ln,Gt=function(fn,Gn){if((Gn=Gn||{}).headers=Gn.headers||new Jt,Gn.credentials="include",me.auth||qe.auth){var rr=me.auth||qe.auth,Cr=rs(unescape(encodeURIComponent(rr.username+":"+rr.password)));Gn.headers.set("Authorization","Basic "+Cr)}var cr=me.headers||{};return Object.keys(cr).forEach(function(ur){Gn.headers.append(ur,cr[ur])}),function Ge(me){var Pe="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ke=-1!==Pe.indexOf("msie"),qe=-1!==Pe.indexOf("trident"),Ot=-1!==Pe.indexOf("edge");return(ke||qe||Ot)&&(!("method"in me)||"GET"===me.method)}(Gn)&&(fn+=(-1===fn.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(me.fetch||Er)(fn,Gn)};function on(fn,Gn){return nt(fn,U()(function(rr){nr().then(function(){return Gn.apply(this,rr)}).catch(function(tr){rr.pop()(tr)})})).bind(ke)}function On(fn,Gn,rr){var tr={};return(Gn=Gn||{}).headers=Gn.headers||new Jt,Gn.headers.get("Content-Type")||Gn.headers.set("Content-Type","application/json"),Gn.headers.get("Accept")||Gn.headers.set("Accept","application/json"),Gt(fn,Gn).then(function(Cr){return tr.ok=Cr.ok,tr.status=Cr.status,Cr.json()}).then(function(Cr){if(tr.data=Cr,!tr.ok){tr.data.status=tr.status;var cr=Ar(tr.data);if(rr)return rr(cr);throw cr}if(Array.isArray(tr.data)&&(tr.data=tr.data.map(function(ar){return ar.error||ar.missing?Ar(ar):ar})),!rr)return tr;rr(null,tr.data)})}function nr(){return me.skip_setup?Promise.resolve():Ln||((Ln=On(Ot).catch(function(fn){return fn&&fn.status&&404===fn.status?(ot(404,"PouchDB is just detecting if the remote exists."),On(Ot,{method:"PUT"})):Promise.reject(fn)}).catch(function(fn){return!(!fn||!fn.status||412!==fn.status)||Promise.reject(fn)})).catch(function(){Ln=null}),Ln)}function br(fn){return fn.split("/").map(encodeURIComponent).join("/")}v()(function(){Pe(null,ke)}),ke._remote=!0,ke.type=function(){return"http"},ke.id=on("id",function(fn){Gt(Ie(qe,"")).then(function(Gn){return Gn.json()}).catch(function(){return{}}).then(function(Gn){var rr=Gn&&Gn.uuid?Gn.uuid+qe.db:Te(qe,"");fn(null,rr)})}),ke.compact=on("compact",function(fn,Gn){"function"==typeof fn&&(Gn=fn,fn={}),fn=Le(fn),On(Te(qe,"_compact"),{method:"POST"}).then(function(){!function rr(){ke.info(function(tr,Cr){Cr&&!Cr.compact_running?Gn(null,{ok:!0}):setTimeout(rr,fn.interval||200)})}()})}),ke.bulkGet=nt("bulkGet",function(fn,Gn){var rr=this;function tr(ur){var gr={};fn.revs&&(gr.revs=!0),fn.attachments&&(gr.attachments=!0),fn.latest&&(gr.latest=!0),On(Te(qe,"_bulk_get"+Oe(gr)),{method:"POST",body:JSON.stringify({docs:fn.docs})}).then(function(Vr){fn.attachments&&fn.binary&&Vr.data.results.forEach(function(Ur){Ur.docs.forEach(Go)}),ur(null,Vr.data)}).catch(ur)}function Cr(){var gr=Math.ceil(fn.docs.length/50),Vr=0,Ur=new Array(gr);function di(mi){return function(vi,ts){Ur[mi]=ts.results,++Vr===gr&&Gn(null,{results:Mn(Ur)})}}for(var qr=0;qr<gr;qr++){var Pi=pt(fn,["revs","attachments","binary","latest"]);Pi.docs=fn.docs.slice(50*qr,Math.min(fn.docs.length,50*(qr+1))),Ke(rr,Pi,di(qr))}}var cr=Ie(qe,""),ar=il[cr];"boolean"!=typeof ar?tr(function(ur,gr){ur?(il[cr]=!1,ot(ur.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),Cr()):(il[cr]=!0,Gn(null,gr))}):ar?tr(Gn):Cr()}),ke._info=function(fn){nr().then(function(){return Gt(Te(qe,""))}).then(function(Gn){return Gn.json()}).then(function(Gn){Gn.host=Te(qe,""),fn(null,Gn)}).catch(fn)},ke.fetch=function(fn,Gn){return nr().then(function(){var rr="/"===fn.substring(0,1)?Ie(qe,fn.substring(1)):Te(qe,fn);return Gt(rr,Gn)})},ke.get=on("get",function(fn,Gn,rr){"function"==typeof Gn&&(rr=Gn,Gn={});var tr={};function Cr(ur){var gr=ur._attachments,Vr=gr&&Object.keys(gr);if(gr&&Vr.length)return function yl(me,Pe){return new Promise(function(ke,qe){var Ln,Ot=0,Gt=0,on=0,On=me.length;function br(){++on===On?Ln?qe(Ln):ke():rr()}function fn(){Ot--,br()}function Gn(tr){Ot--,Ln=Ln||tr,br()}function rr(){for(;Ot<Pe&&Gt<On;)Ot++,me[Gt++]().then(fn,Gn)}rr()})}(Vr.map(function(qr){return function(){return function Ur(qr){var Pi=gr[qr],mi=st(ur._id)+"/"+br(qr)+"?rev="+ur._rev;return Gt(Te(qe,mi)).then(function(vi){return"buffer"in vi?vi.buffer():vi.blob()}).then(function(vi){if(Gn.binary){var ts=Object.getOwnPropertyDescriptor(vi.__proto__,"type");return(!ts||ts.set)&&(vi.type=Pi.content_type),vi}return new Promise(function(Zs){gi(vi,Zs)})}).then(function(vi){delete Pi.stub,delete Pi.length,Pi.data=vi})}(qr)}}),5)}(Gn=Le(Gn)).revs&&(tr.revs=!0),Gn.revs_info&&(tr.revs_info=!0),Gn.latest&&(tr.latest=!0),Gn.open_revs&&("all"!==Gn.open_revs&&(Gn.open_revs=JSON.stringify(Gn.open_revs)),tr.open_revs=Gn.open_revs),Gn.rev&&(tr.rev=Gn.rev),Gn.conflicts&&(tr.conflicts=Gn.conflicts),Gn.update_seq&&(tr.update_seq=Gn.update_seq),fn=st(fn),On(Te(qe,fn+Oe(tr))).then(function(ur){return Promise.resolve().then(function(){if(Gn.attachments)return function cr(ur){return Array.isArray(ur)?Promise.all(ur.map(function(gr){if(gr.ok)return Cr(gr.ok)})):Cr(ur)}(ur.data)}).then(function(){rr(null,ur.data)})}).catch(function(ur){ur.docId=fn,rr(ur)})}),ke.remove=on("remove",function(fn,Gn,rr,tr){var Cr;"string"==typeof Gn?(Cr={_id:fn,_rev:Gn},"function"==typeof rr&&(tr=rr,rr={})):(Cr=fn,"function"==typeof Gn?(tr=Gn,rr={}):(tr=rr,rr=Gn));var cr=Cr._rev||rr.rev;On(Te(qe,st(Cr._id))+"?rev="+cr,{method:"DELETE"},tr).catch(tr)}),ke.getAttachment=on("getAttachment",function(fn,Gn,rr,tr){"function"==typeof rr&&(tr=rr,rr={});var ar,Cr=rr.rev?"?rev="+rr.rev:"",cr=Te(qe,st(fn))+"/"+br(Gn)+Cr;Gt(cr,{method:"GET"}).then(function(ur){if(ar=ur.headers.get("content-type"),ur.ok)return"undefined"==typeof process||process.browser||"function"!=typeof ur.buffer?ur.blob():ur.buffer();throw ur}).then(function(ur){"undefined"!=typeof process&&!process.browser&&(ur.type=ar),tr(null,ur)}).catch(function(ur){tr(ur)})}),ke.removeAttachment=on("removeAttachment",function(fn,Gn,rr,tr){On(Te(qe,st(fn)+"/"+br(Gn))+"?rev="+rr,{method:"DELETE"},tr).catch(tr)}),ke.putAttachment=on("putAttachment",function(fn,Gn,rr,tr,Cr,cr){"function"==typeof Cr&&(cr=Cr,Cr=tr,tr=rr,rr=null);var ar=st(fn)+"/"+br(Gn),ur=Te(qe,ar);if(rr&&(ur+="?rev="+rr),"string"==typeof tr){var gr;try{gr=Fi(tr)}catch(Vr){return cr(Qn(Dn,"Attachment is not a valid base64 string"))}tr=gr?Ui(gr,Cr):""}On(ur,{headers:new Jt({"Content-Type":Cr}),method:"PUT",body:tr},cr).catch(cr)}),ke._bulkDocs=function(fn,Gn,rr){fn.new_edits=Gn.new_edits,nr().then(function(){return Promise.all(fn.docs.map(Qe))}).then(function(){return On(Te(qe,"_bulk_docs"),{method:"POST",body:JSON.stringify(fn)},rr)}).catch(rr)},ke._put=function(fn,Gn,rr){nr().then(function(){return Qe(fn)}).then(function(){return On(Te(qe,st(fn._id)),{method:"PUT",body:JSON.stringify(fn)})}).then(function(tr){rr(null,tr.data)}).catch(function(tr){tr.docId=fn&&fn._id,rr(tr)})},ke.allDocs=on("allDocs",function(fn,Gn){"function"==typeof fn&&(Gn=fn,fn={});var tr,rr={},Cr="GET";(fn=Le(fn)).conflicts&&(rr.conflicts=!0),fn.update_seq&&(rr.update_seq=!0),fn.descending&&(rr.descending=!0),fn.include_docs&&(rr.include_docs=!0),fn.attachments&&(rr.attachments=!0),fn.key&&(rr.key=JSON.stringify(fn.key)),fn.start_key&&(fn.startkey=fn.start_key),fn.startkey&&(rr.startkey=JSON.stringify(fn.startkey)),fn.end_key&&(fn.endkey=fn.end_key),fn.endkey&&(rr.endkey=JSON.stringify(fn.endkey)),void 0!==fn.inclusive_end&&(rr.inclusive_end=!!fn.inclusive_end),void 0!==fn.limit&&(rr.limit=fn.limit),void 0!==fn.skip&&(rr.skip=fn.skip);var cr=Oe(rr);void 0!==fn.keys&&(Cr="POST",tr={keys:fn.keys}),On(Te(qe,"_all_docs"+cr),{method:Cr,body:JSON.stringify(tr)}).then(function(ar){fn.include_docs&&fn.attachments&&fn.binary&&ar.data.rows.forEach(Go),Gn(null,ar.data)}).catch(Gn)}),ke._changes=function(fn){var Gn="batch_size"in fn?fn.batch_size:25;(fn=Le(fn)).continuous&&!("heartbeat"in fn)&&(fn.heartbeat=1e4);var rr="timeout"in fn?fn.timeout:3e4;"timeout"in fn&&fn.timeout&&rr-fn.timeout<5e3&&(rr=fn.timeout+5e3),"heartbeat"in fn&&fn.heartbeat&&rr-fn.heartbeat<5e3&&(rr=fn.heartbeat+5e3);var tr={};"timeout"in fn&&fn.timeout&&(tr.timeout=fn.timeout);var Cr=void 0!==fn.limit&&fn.limit,cr=Cr;if(fn.style&&(tr.style=fn.style),(fn.include_docs||fn.filter&&"function"==typeof fn.filter)&&(tr.include_docs=!0),fn.attachments&&(tr.attachments=!0),fn.continuous&&(tr.feed="longpoll"),fn.seq_interval&&(tr.seq_interval=fn.seq_interval),fn.conflicts&&(tr.conflicts=!0),fn.descending&&(tr.descending=!0),fn.update_seq&&(tr.update_seq=!0),"heartbeat"in fn&&fn.heartbeat&&(tr.heartbeat=fn.heartbeat),fn.filter&&"string"==typeof fn.filter&&(tr.filter=fn.filter),fn.view&&"string"==typeof fn.view&&(tr.filter="_view",tr.view=fn.view),fn.query_params&&"object"==typeof fn.query_params)for(var ar in fn.query_params)Object.prototype.hasOwnProperty.call(fn.query_params,ar)&&(tr[ar]=fn.query_params[ar]);var gr,ur="GET";fn.doc_ids?(tr.filter="_doc_ids",ur="POST",gr={doc_ids:fn.doc_ids}):fn.selector&&(tr.filter="_selector",ur="POST",gr={selector:fn.selector});var Ur,Vr=new _r,di=function(mi,vi){if(!fn.aborted){tr.since=mi,"object"==typeof tr.since&&(tr.since=JSON.stringify(tr.since)),fn.descending?Cr&&(tr.limit=cr):tr.limit=!Cr||cr>Gn?Gn:cr;var ts=Te(qe,"_changes"+Oe(tr)),Zs={signal:Vr.signal,method:ur,body:JSON.stringify(gr)};Ur=mi,!fn.aborted&&nr().then(function(){return On(ts,Zs,vi)}).catch(vi)}},qr={results:[]},Pi=function(mi,vi){if(!fn.aborted){var ts=0;if(vi&&vi.results){ts=vi.results.length,qr.last_seq=vi.last_seq;var Zs=null,Fs=null;"number"==typeof vi.pending&&(Zs=vi.pending),("string"==typeof qr.last_seq||"number"==typeof qr.last_seq)&&(Fs=qr.last_seq),vi.results=vi.results.filter(function(Ri){cr--;var sr=an(fn)(Ri);return sr&&(fn.include_docs&&fn.attachments&&fn.binary&&Go(Ri),fn.return_docs&&qr.results.push(Ri),fn.onChange(Ri,Zs,Fs)),sr})}else if(mi)return fn.aborted=!0,void fn.complete(mi);vi&&vi.last_seq&&(Ur=vi.last_seq),(!fn.continuous||Cr&&cr<=0)&&(Cr&&cr<=0||vi&&ts<Gn||fn.descending)?fn.complete(null,qr):v()(function(){di(Ur,Pi)})}};return di(fn.since||0,Pi),{cancel:function(){fn.aborted=!0,Vr.abort()}}},ke.revsDiff=on("revsDiff",function(fn,Gn,rr){"function"==typeof Gn&&(rr=Gn,Gn={}),On(Te(qe,"_revs_diff"),{method:"POST",body:JSON.stringify(fn)},rr).catch(rr)}),ke._close=function(fn){fn()},ke._destroy=function(fn,Gn){On(Te(qe,""),{method:"DELETE"}).then(function(rr){Gn(null,rr)}).catch(function(rr){404===rr.status?Gn(null,{ok:!0}):Gn(rr)})}}function dn(me){this.status=400,this.name="query_parse_error",this.message=me,this.error=!0;try{Error.captureStackTrace(this,dn)}catch(Pe){}}function bn(me){this.status=404,this.name="not_found",this.message=me,this.error=!0;try{Error.captureStackTrace(this,bn)}catch(Pe){}}function qn(me){this.status=500,this.name="invalid_value",this.message=me,this.error=!0;try{Error.captureStackTrace(this,qn)}catch(Pe){}}function Ir(me,Pe){return Pe&&me.then(function(ke){v()(function(){Pe(null,ke)})},function(ke){v()(function(){Pe(ke)})}),me}function Si(me,Pe){return function(){var ke=arguments,qe=this;return me.add(function(){return Pe.apply(qe,ke)})}}function is(me){var Pe=new ue(me),ke=new Array(Pe.size),qe=-1;return Pe.forEach(function(Ot){ke[++qe]=Ot}),ke}function us(me){var Pe=new Array(me.size),ke=-1;return me.forEach(function(qe,Ot){Pe[++ke]=Ot}),Pe}function ms(me){return new qn("builtin "+me+" function requires map values to be numbers or number arrays")}function Ki(me){for(var Pe=0,ke=0,qe=me.length;ke<qe;ke++){var Ot=me[ke];if("number"!=typeof Ot){if(!Array.isArray(Ot))throw ms("_sum");Pe="number"==typeof Pe?[Pe]:Pe;for(var Gt=0,on=Ot.length;Gt<on;Gt++){var On=Ot[Gt];if("number"!=typeof On)throw ms("_sum");void 0===Pe[Gt]?Pe.push(On):Pe[Gt]+=On}}else"number"==typeof Pe?Pe+=Ot:Pe[0]+=Ot}return Pe}bt.valid=function(){return!0},V()(dn,Error),V()(bn,Error),V()(qn,Error);var To=Be.bind(null,"log"),pa=Array.isArray,Il=JSON.parse;function ec(me,Pe){return wi("return ("+me.replace(/;\s*$/,"")+");",{emit:Pe,sum:Ki,log:To,isArray:pa,toJSON:Il})}function Oa(){this.promise=new Promise(function(me){me()})}function xo(me){if(!me)return"undefined";switch(typeof me){case"function":case"string":return me.toString();default:return JSON.stringify(me)}}function Vc(me,Pe,ke,qe,Ot,Gt){var On,on=function mu(me,Pe){return xo(me)+xo(Pe)+"undefined"}(ke,qe);if(!Ot&&(On=me._cachedViews=me._cachedViews||{})[on])return On[on];var Ln=me.info().then(function(nr){var br=nr.db_name+"-mrview-"+(Ot?"temp":Pr(on));return Ei(me,"_local/"+Gt,function fn(Gn){Gn.views=Gn.views||{};var rr=Pe;-1===rr.indexOf("/")&&(rr=Pe+"/"+Pe);var tr=Gn.views[rr]=Gn.views[rr]||{};if(!tr[br])return tr[br]=!0,Gn}).then(function(){return me.registerDependentDatabase(br).then(function(Gn){var rr=Gn.db;rr.auto_compaction=!0;var tr={name:br,db:rr,sourceDB:me,adapter:me.adapter,mapFun:ke,reduceFun:qe};return tr.db.get("_local/lastSeq").catch(function(Cr){if(404!==Cr.status)throw Cr}).then(function(Cr){return tr.seq=Cr?Cr.seq:0,On&&tr.db.once("destroyed",function(){delete On[on]}),tr})})})});return On&&(On[on]=Ln),Ln}Oa.prototype.add=function(me){return this.promise=this.promise.catch(function(){}).then(function(){return me()}),this.promise},Oa.prototype.finish=function(){return this.promise};var Al={},gu=new Oa;function $u(me){return-1===me.indexOf("/")?[me,me]:me.split("/")}function Wa(me,Pe){try{me.emit("error",Pe)}catch(ke){Be("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Be("error",Pe)}}var Lo__sum=function(me,Pe){return Ki(Pe)},Lo__count=function(me,Pe){return Pe.length},Lo__stats=function(me,Pe){return{sum:Ki(Pe),min:Math.min.apply(null,Pe),max:Math.max.apply(null,Pe),count:Pe.length,sumsqr:function ke(qe){for(var Ot=0,Gt=0,on=qe.length;Gt<on;Gt++){var On=qe[Gt];Ot+=On*On}return Ot}(Pe)}},Ja=function yu(me,Pe,ke,qe){function Ot(sr,dr,xr){try{dr(xr)}catch(ci){Wa(sr,ci)}}function Gt(sr,dr,xr,ci,ii){try{return{output:dr(xr,ci,ii)}}catch(Mi){return Wa(sr,Mi),{error:Mi}}}function on(sr,dr){var xr=_i(sr.key,dr.key);return 0!==xr?xr:_i(sr.value,dr.value)}function On(sr,dr,xr){return xr=xr||0,"number"==typeof dr?sr.slice(xr,dr+xr):xr>0?sr.slice(xr):sr}function Ln(sr){var dr=sr.value;return dr&&"object"==typeof dr&&dr._id||sr.id}function br(sr){return function(dr){return sr.include_docs&&sr.attachments&&sr.binary&&function nr(sr){sr.rows.forEach(function(dr){var xr=dr.doc&&dr.doc._attachments;!xr||Object.keys(xr).forEach(function(ci){var ii=xr[ci];xr[ci].data=hr(ii.data,ii.content_type)})})}(dr),dr}}function fn(sr,dr,xr,ci){var ii=dr[sr];void 0!==ii&&(ci&&(ii=encodeURIComponent(JSON.stringify(ii))),xr.push(sr+"="+ii))}function Gn(sr){if(void 0!==sr){var dr=Number(sr);return isNaN(dr)||dr!==parseInt(sr,10)?sr:dr}}function Cr(sr,dr){var xr=sr.descending?"endkey":"startkey",ci=sr.descending?"startkey":"endkey";if(void 0!==sr[xr]&&void 0!==sr[ci]&&_i(sr[xr],sr[ci])>0)throw new dn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(dr.reduce&&!1!==sr.reduce){if(sr.include_docs)throw new dn("{include_docs:true} is invalid for reduce");if(sr.keys&&sr.keys.length>1&&!sr.group&&!sr.group_level)throw new dn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(ii){var Mi=function tr(sr){if(sr){if("number"!=typeof sr)return new dn('Invalid value for integer: "'+sr+'"');if(sr<0)return new dn('Invalid value for positive integer: "'+sr+'"')}}(sr[ii]);if(Mi)throw Mi})}function gr(sr){return function(dr){if(404===dr.status)return sr;throw dr}}function di(sr){var dr="string"==typeof sr?sr:sr.name,xr=Al[dr];return xr||(xr=Al[dr]=new Oa),xr}function qr(sr,dr){return Si(di(sr),function(){return function Pi(sr,dr){var xr,ci;var Mi=Pe(sr.mapFun,function ii(zi,vs){var ys={id:ci._id,key:os(zi)};null!=vs&&(ys.value=os(vs)),xr.push(ys)}),Wr=sr.seq||0;function ai(zi,vs){return function(){return function Ur(sr,dr,xr){var ci="_local/lastSeq";return sr.db.get(ci).catch(gr({_id:ci,seq:0})).then(function(ii){var Mi=us(dr);return Promise.all(Mi.map(function(Wr){return function Vr(sr,dr,xr){var ci="_local/doc_"+sr,ii={_id:ci,keys:[]},Mi=xr.get(sr),Wr=Mi[0],ai=Mi[1];return function Ti(){return function yc(me){return 1===me.length&&/^1-/.test(me[0].rev)}(ai)?Promise.resolve(ii):dr.db.get(ci).catch(gr(ii))}().then(function(zr){return function Gi(zr){return zr.keys.length?dr.db.allDocs({keys:zr.keys,include_docs:!0}):Promise.resolve({rows:[]})}(zr).then(function(Ss){return function as(zr,Ss){for(var go=[],Po=new ue,zi=0,vs=Ss.rows.length;zi<vs;zi++){var Eo=Ss.rows[zi].doc;if(Eo&&(go.push(Eo),Po.add(Eo._id),Eo._deleted=!Wr.has(Eo._id),!Eo._deleted)){var zo=Wr.get(Eo._id);"value"in zo&&(Eo.value=zo.value)}}var Bo=us(Wr);return Bo.forEach(function(Ra){if(!Po.has(Ra)){var sl={_id:Ra},jd=Wr.get(Ra);"value"in jd&&(sl.value=jd.value),go.push(sl)}}),zr.keys=is(Bo.concat(zr.keys)),go.push(zr),go}(zr,Ss)})})}(Wr,sr,dr)})).then(function(Wr){var ai=Mn(Wr);return ii.seq=xr,ai.push(ii),sr.db.bulkDocs({docs:ai})})})}(sr,zi,vs)}}let Ti=0;sr.sourceDB.emit("indexing",{view:sr.name,indexed_docs:Ti});var as=new Oa;function zr(){return sr.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:Wr,limit:dr.changes_batch_size}).then(Ss)}function Ss(zi){var vs=zi.results;if(vs.length){var ys=function go(zi){for(var vs=new ie,ys=0,Eo=zi.length;ys<Eo;ys++){var zo=zi[ys];if("_"!==zo.doc._id[0]){xr=[],(ci=zo.doc)._deleted||Ot(sr.sourceDB,Mi,ci),xr.sort(on);var Bo=Po(xr);vs.set(zo.doc._id,[Bo,zo.changes])}Wr=zo.seq}return vs}(vs);return as.add(ai(ys,Wr)),Ti+=vs.length,sr.sourceDB.emit("indexing",{view:sr.name,last_seq:zi.last_seq,results_count:vs.length,indexed_docs:Ti}),vs.length<dr.changes_batch_size?void 0:zr()}}function Po(zi){for(var ys,vs=new ie,Eo=0,zo=zi.length;Eo<zo;Eo++){var Bo=zi[Eo],Ra=[Bo.key,Bo.id];Eo>0&&0===_i(Bo.key,ys)&&Ra.push(Eo),vs.set(fs(Ra),Bo),ys=Bo.key}return vs}return zr().then(function(){return as.finish()}).then(function(){sr.seq=Wr})}(sr,dr)})()}function vi(sr,dr){return Si(di(sr),function(){return function ts(sr,dr){var xr,ci=sr.reduceFun&&!1!==dr.reduce,ii=dr.skip||0;function Mi(zi){return zi.include_docs=!0,sr.db.allDocs(zi).then(function(vs){return xr=vs.total_rows,vs.rows.map(function(ys){if("value"in ys.doc&&"object"==typeof ys.doc.value&&null!==ys.doc.value){var Eo=Object.keys(ys.doc.value).sort(),zo=["id","key","value"];if(!(Eo<zo||Eo>zo))return ys.doc.value}var Bo=function Et(me){for(var Pe=[],ke=[],qe=0;;){var Ot=me[qe++];if("\0"!==Ot)switch(Ot){case"1":Pe.push(null);break;case"2":Pe.push("1"===me[qe]),qe++;break;case"3":var Gt=no(me,qe);Pe.push(Gt.num),qe+=Gt.length;break;case"4":for(var on="";;){var On=me[qe];if("\0"===On)break;on+=On,qe++}on=on.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),Pe.push(on);break;case"5":var Ln={element:[],index:Pe.length};Pe.push(Ln.element),ke.push(Ln);break;case"6":var nr={element:{},index:Pe.length};Pe.push(nr.element),ke.push(nr);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+Ot)}else{if(1===Pe.length)return Pe.pop();Dt(Pe,ke)}}}(ys.doc._id);return{key:Bo[0],id:Bo[1],value:"value"in ys.doc?ys.doc.value:null}})})}function Wr(zi){var vs;if(vs=ci?function mi(sr,dr,xr){0===xr.group_level&&delete xr.group_level;var ci=xr.group||xr.group_level,ii=ke(sr.reduceFun),Mi=[],Wr=isNaN(xr.group_level)?Number.POSITIVE_INFINITY:xr.group_level;dr.forEach(function(zr){var Ss=Mi[Mi.length-1],go=ci?zr.key:null;if(ci&&Array.isArray(go)&&(go=go.slice(0,Wr)),Ss&&0===_i(Ss.groupKey,go))return Ss.keys.push([zr.key,zr.id]),void Ss.values.push(zr.value);Mi.push({keys:[[zr.key,zr.id]],values:[zr.value],groupKey:go})}),dr=[];for(var ai=0,Ti=Mi.length;ai<Ti;ai++){var Gi=Mi[ai],as=Gt(sr.sourceDB,ii,Gi.keys,Gi.values,!1);if(as.error&&as.error instanceof qn)throw as.error;dr.push({value:as.error?null:as.output,key:Gi.groupKey})}return{rows:On(dr,xr.limit,xr.skip)}}(sr,zi,dr):void 0===dr.keys?{total_rows:xr,offset:ii,rows:zi}:{total_rows:xr,offset:ii,rows:On(zi,dr.limit,dr.skip)},dr.update_seq&&(vs.update_seq=sr.seq),dr.include_docs){var ys=is(zi.map(Ln));return sr.sourceDB.allDocs({keys:ys,include_docs:!0,conflicts:dr.conflicts,attachments:dr.attachments,binary:dr.binary}).then(function(Eo){var zo=new ie;return Eo.rows.forEach(function(Bo){zo.set(Bo.id,Bo.doc)}),zi.forEach(function(Bo){var Ra=Ln(Bo),sl=zo.get(Ra);sl&&(Bo.doc=sl)}),vs})}return vs}if(void 0!==dr.keys&&!dr.keys.length&&(dr.limit=0,delete dr.keys),void 0!==dr.keys){var Ti=dr.keys.map(function(zi){var vs={startkey:fs([zi]),endkey:fs([zi,{}])};return dr.update_seq&&(vs.update_seq=!0),Mi(vs)});return Promise.all(Ti).then(Mn).then(Wr)}var as,zr,Gi={descending:dr.descending};if(dr.update_seq&&(Gi.update_seq=!0),"start_key"in dr&&(as=dr.start_key),"startkey"in dr&&(as=dr.startkey),"end_key"in dr&&(zr=dr.end_key),"endkey"in dr&&(zr=dr.endkey),void 0!==as&&(Gi.startkey=fs(dr.descending?[as,{}]:[as])),void 0!==zr){var Ss=!1!==dr.inclusive_end;dr.descending&&(Ss=!Ss),Gi.endkey=fs(Ss?[zr,{}]:[zr])}if(void 0!==dr.key){var go=fs([dr.key]),Po=fs([dr.key,{}]);Gi.descending?(Gi.endkey=go,Gi.startkey=Po):(Gi.startkey=go,Gi.endkey=Po)}return ci||("number"==typeof dr.limit&&(Gi.limit=dr.limit),Gi.skip=ii),Mi(Gi).then(Wr)}(sr,dr)})()}var Ri=function Nr(me){return U()(function(Pe){var ke=Pe.pop(),qe=me.apply(this,Pe);return"function"==typeof ke&&Ir(qe,ke),qe})}(function(){var sr=this;return"function"==typeof sr._viewCleanup?function ur(sr){return new Promise(function(dr,xr){sr._viewCleanup(function(ci,ii){if(ci)return xr(ci);dr(ii)})})}(sr):Mt(sr)?function Zs(sr){return sr.fetch("_view_cleanup",{headers:new Jt({"Content-Type":"application/json"}),method:"POST"}).then(function(dr){return dr.json()})}(sr):function Fs(sr){return sr.get("_local/"+me).then(function(dr){var xr=new ie;Object.keys(dr.views).forEach(function(ii){var Mi=$u(ii),Wr="_design/"+Mi[0],ai=Mi[1],Ti=xr.get(Wr);Ti||(Ti=new ue,xr.set(Wr,Ti)),Ti.add(ai)});var ci={keys:us(xr),include_docs:!0};return sr.allDocs(ci).then(function(ii){var Mi={};ii.rows.forEach(function(Ti){var Gi=Ti.key.substring(8);xr.get(Ti.key).forEach(function(as){var zr=Gi+"/"+as;dr.views[zr]||(zr=as);var Ss=Object.keys(dr.views[zr]),go=Ti.doc&&Ti.doc.views&&Ti.doc.views[as];Ss.forEach(function(Po){Mi[Po]=Mi[Po]||go})})});var ai=Object.keys(Mi).filter(function(Ti){return!Mi[Ti]}).map(function(Ti){return Si(di(Ti),function(){return new sr.constructor(Ti,sr.__opts).destroy()})()});return Promise.all(ai).then(function(){return{ok:!0}})})},gr({ok:!0}))}(sr)});return{query:function Os(sr,dr,xr){var ci=this;"function"==typeof dr&&(xr=dr,dr={}),dr=dr?function rr(sr){return sr.group_level=Gn(sr.group_level),sr.limit=Gn(sr.limit),sr.skip=Gn(sr.skip),sr}(dr):{},"function"==typeof sr&&(sr={map:sr});var ii=Promise.resolve().then(function(){return function ns(sr,dr,xr){if("function"==typeof sr._query)return function ar(sr,dr,xr){return new Promise(function(ci,ii){sr._query(dr,xr,function(Mi,Wr){if(Mi)return ii(Mi);ci(Wr)})})}(sr,dr,xr);if(Mt(sr))return function cr(sr,dr,xr){var ii,Wr,ai,ci=[],Mi="GET";if(fn("reduce",xr,ci),fn("include_docs",xr,ci),fn("attachments",xr,ci),fn("limit",xr,ci),fn("descending",xr,ci),fn("group",xr,ci),fn("group_level",xr,ci),fn("skip",xr,ci),fn("stale",xr,ci),fn("conflicts",xr,ci),fn("startkey",xr,ci,!0),fn("start_key",xr,ci,!0),fn("endkey",xr,ci,!0),fn("end_key",xr,ci,!0),fn("inclusive_end",xr,ci),fn("key",xr,ci,!0),fn("update_seq",xr,ci),ci=""===(ci=ci.join("&"))?"":"?"+ci,void 0!==xr.keys){var Gi="keys="+encodeURIComponent(JSON.stringify(xr.keys));Gi.length+ci.length+1<=2e3?ci+=("?"===ci[0]?"&":"?")+Gi:(Mi="POST","string"==typeof dr?ii={keys:xr.keys}:dr.keys=xr.keys)}if("string"==typeof dr){var as=$u(dr);return sr.fetch("_design/"+as[0]+"/_view/"+as[1]+ci,{headers:new Jt({"Content-Type":"application/json"}),method:Mi,body:JSON.stringify(ii)}).then(function(zr){return Wr=zr.ok,ai=zr.status,zr.json()}).then(function(zr){if(!Wr)throw zr.status=ai,Ar(zr);return zr.rows.forEach(function(Ss){if(Ss.value&&Ss.value.error&&"builtin_reduce_error"===Ss.value.error)throw new Error(Ss.reason)}),zr}).then(br(xr))}return ii=ii||{},Object.keys(dr).forEach(function(zr){ii[zr]=Array.isArray(dr[zr])?dr[zr]:dr[zr].toString()}),sr.fetch("_temp_view"+ci,{headers:new Jt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(ii)}).then(function(zr){return Wr=zr.ok,ai=zr.status,zr.json()}).then(function(zr){if(!Wr)throw zr.status=ai,Ar(zr);return zr}).then(br(xr))}(sr,dr,xr);var ci={changes_batch_size:sr.__opts.view_update_changes_batch_size||50};if("string"!=typeof dr)return Cr(xr,dr),gu.add(function(){return Vc(sr,"temp_view/temp_view",dr.map,dr.reduce,!0,me).then(function(Gi){return function Gr(me,Pe){return me.then(function(ke){return Pe().then(function(){return ke})},function(ke){return Pe().then(function(){throw ke})})}(qr(Gi,ci).then(function(){return vi(Gi,xr)}),function(){return Gi.db.destroy()})})}),gu.finish();var ii=dr,Mi=$u(ii),ai=Mi[1];return sr.get("_design/"+Mi[0]).then(function(Ti){var Gi=Ti.views&&Ti.views[ai];if(!Gi)throw new bn("ddoc "+Ti._id+" has no view named "+ai);return qe(Ti,ai),Cr(xr,Gi),Vc(sr,ii,Gi.map,Gi.reduce,!1,me).then(function(zr){return"ok"===xr.stale||"update_after"===xr.stale?("update_after"===xr.stale&&v()(function(){qr(zr,ci)}),vi(zr,xr)):qr(zr,ci).then(function(){return vi(zr,xr)})})})}(ci,sr,dr)});return Ir(ii,xr),ii},viewCleanup:Ri}}("mrviews",function _c(me,Pe){if("function"==typeof me&&2===me.length){var ke=me;return function(qe){return ke(qe,Pe)}}return ec(me.toString(),Pe)},function Jh(me){var Pe=me.toString(),ke=function oh(me){if(/^_sum/.test(me))return Lo__sum;if(/^_count/.test(me))return Lo__count;if(/^_stats/.test(me))return Lo__stats;if(/^_/.test(me))throw new Error(me+" is not a supported reduce function.")}(Pe);return ke||ec(Pe)},function _u(me,Pe){var ke=me.views&&me.views[Pe];if("string"!=typeof ke.map)throw new bn("ddoc "+me._id+" has no string view named "+Pe+", instead found object of type: "+typeof ke.map)}),vu={query:function Ku(me,Pe,ke){return Ja.query.call(this,me,Pe,ke)},viewCleanup:function Gu(me){return Ja.viewCleanup.call(this,me)}};function Ad(me){return/^1-/.test(me)}function xd(me,Pe){var ke=Object.keys(Pe._attachments);return Promise.all(ke.map(function(qe){return me.getAttachment(Pe._id,qe,{rev:Pe._rev})}))}function Hu(me,Pe,ke,qe){ke=Le(ke);var Ot=[],Gt=!0;return Promise.resolve().then(function br(){var Gn=Object.keys(ke).filter(function(rr){var tr=ke[rr].missing;return 1===tr.length&&Ad(tr[0])});if(Gn.length>0)return function nr(Gn){return me.allDocs({keys:Gn,include_docs:!0,conflicts:!0}).then(function(rr){if(qe.cancelled)throw new Error("cancelled");rr.rows.forEach(function(tr){tr.deleted||!tr.doc||!Ad(tr.value.rev)||function On(Gn){return Gn._attachments&&Object.keys(Gn._attachments).length>0}(tr.doc)||function Ln(Gn){return Gn._conflicts&&Gn._conflicts.length>0}(tr.doc)||(tr.doc._conflicts&&delete tr.doc._conflicts,Ot.push(tr.doc),delete ke[tr.id])})})}(Gn)}).then(function on(){var Gn=function Ld(me){var Pe=[];return Object.keys(me).forEach(function(ke){me[ke].missing.forEach(function(Ot){Pe.push({id:ke,rev:Ot})})}),{docs:Pe,revs:!0,latest:!0}}(ke);if(Gn.docs.length)return me.bulkGet(Gn).then(function(rr){if(qe.cancelled)throw new Error("cancelled");return Promise.all(rr.results.map(function(tr){return Promise.all(tr.docs.map(function(Cr){var cr=Cr.ok;return Cr.error&&(Gt=!1),cr&&cr._attachments?function Rd(me,Pe,ke){var qe=Mt(Pe)&&!Mt(me),Ot=Object.keys(ke._attachments);return qe?me.get(ke._id).then(function(Gt){return Promise.all(Ot.map(function(on){return function Ya(me,Pe,ke){return!me._attachments||!me._attachments[ke]||me._attachments[ke].digest!==Pe._attachments[ke].digest}(Gt,ke,on)?Pe.getAttachment(ke._id,on):me.getAttachment(Gt._id,on)}))}).catch(function(Gt){if(404!==Gt.status)throw Gt;return xd(Pe,ke)}):xd(Pe,ke)}(Pe,me,cr).then(function(ar){var ur=Object.keys(cr._attachments);return ar.forEach(function(gr,Vr){var Ur=cr._attachments[ur[Vr]];delete Ur.stub,delete Ur.length,Ur.data=gr}),cr}):cr}))})).then(function(tr){Ot=Ot.concat(Mn(tr).filter(Boolean))})})}).then(function fn(){return{ok:Gt,docs:Ot}})}var Ju="pouchdb";function vc(me,Pe,ke,qe,Ot){return me.get(Pe).catch(function(Gt){if(404===Gt.status)return("http"===me.adapter||"https"===me.adapter)&&ot(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:qe,_id:Pe,history:[],replicator:Ju,version:1};throw Gt}).then(function(Gt){if(!Ot.cancelled&&Gt.last_seq!==ke)return Gt.history=(Gt.history||[]).filter(function(on){return on.session_id!==qe}),Gt.history.unshift({last_seq:ke,session_id:qe}),Gt.history=Gt.history.slice(0,5),Gt.version=1,Gt.replicator=Ju,Gt.session_id=qe,Gt.last_seq=ke,me.put(Gt).catch(function(on){if(409===on.status)return vc(me,Pe,ke,qe,Ot);throw on})})}function Zc(me,Pe,ke,qe,Ot){this.src=me,this.target=Pe,this.id=ke,this.returnValue=qe,this.opts=Ot||{}}Zc.prototype.writeCheckpoint=function(me,Pe){var ke=this;return this.updateTarget(me,Pe).then(function(){return ke.updateSource(me,Pe)})},Zc.prototype.updateTarget=function(me,Pe){return this.opts.writeTargetCheckpoint?vc(this.target,this.id,me,Pe,this.returnValue):Promise.resolve(!0)},Zc.prototype.updateSource=function(me,Pe){if(this.opts.writeSourceCheckpoint){var ke=this;return vc(this.src,this.id,me,Pe,this.returnValue).catch(function(qe){if(Yu(qe))return ke.opts.writeSourceCheckpoint=!1,!0;throw qe})}return Promise.resolve(!0)};var Qo={undefined:function(me,Pe){return 0===_i(me.last_seq,Pe.last_seq)?Pe.last_seq:0},1:function(me,Pe){return function bc(me,Pe){return me.session_id===Pe.session_id?{last_seq:me.last_seq,history:me.history}:zc(me.history,Pe.history)}(Pe,me).last_seq}};function zc(me,Pe){var ke=me[0],qe=me.slice(1),Ot=Pe[0],Gt=Pe.slice(1);return ke&&0!==Pe.length?$c(ke.session_id,Pe)?{last_seq:ke.last_seq,history:me}:$c(Ot.session_id,qe)?{last_seq:Ot.last_seq,history:Gt}:zc(qe,Gt):{last_seq:0,history:[]}}function $c(me,Pe){var ke=Pe[0],qe=Pe.slice(1);return!(!me||0===Pe.length)&&(me===ke.session_id||$c(me,qe))}function Yu(me){return"number"==typeof me.status&&4===Math.floor(me.status/100)}function Kc(me,Pe,ke,qe,Ot){var on,Vr,Gt=[],On={seq:0,changes:[],docs:[]},Ln=!1,nr=!1,br=!1,fn=0,Gn=ke.continuous||ke.live||!1,rr=ke.batch_size||100,tr=ke.batches_limit||10,Cr=ke.style||"all_docs",cr=!1,ar=ke.doc_ids,ur=ke.selector,Ur=[],di=Yr();Ot=Ot||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var qr={};function Pi(){return Vr?Promise.resolve():function Ec(me,Pe,ke){var qe=ke.doc_ids?ke.doc_ids.sort(_i):"",Ot=ke.filter?ke.filter.toString():"",Gt="",on="",On="";return ke.selector&&(On=JSON.stringify(ke.selector)),ke.filter&&ke.query_params&&(Gt=JSON.stringify(function Xu(me){return Object.keys(me).sort(_i).reduce(function(Pe,ke){return Pe[ke]=me[ke],Pe},{})}(ke.query_params))),ke.filter&&"_view"===ke.filter&&(on=ke.view.toString()),Promise.all([me.id(),Pe.id()]).then(function(Ln){var nr=Ln[0]+Ln[1]+Ot+on+Gt+qe+On;return new Promise(function(br){yr(nr,br)})}).then(function(Ln){return"_local/"+Ln.replace(/\//g,".").replace(/\+/g,"_")})}(me,Pe,ke).then(function(Wr){Vr=new Zc(me,Pe,Wr,qe,!1===ke.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===ke.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===ke.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function mi(){if(Ur=[],0!==on.docs.length){var Wr=on.docs;return Pe.bulkDocs({docs:Wr,new_edits:!1},{timeout:ke.timeout}).then(function(Ti){if(qe.cancelled)throw Ri(),new Error("cancelled");var Gi=Object.create(null);Ti.forEach(function(zr){zr.error&&(Gi[zr.id]=zr)});var as=Object.keys(Gi).length;Ot.doc_write_failures+=as,Ot.docs_written+=Wr.length-as,Wr.forEach(function(zr){var Ss=Gi[zr._id];if(Ss){Ot.errors.push(Ss);var go=(Ss.name||"").toLowerCase();if("unauthorized"!==go&&"forbidden"!==go)throw Ss;qe.emit("denied",Le(Ss))}else Ur.push(zr)})},function(Ti){throw Ot.doc_write_failures+=Wr.length,Ti})}}function vi(){if(on.error)throw new Error("There was a problem getting docs.");Ot.last_seq=fn=on.seq;var Wr=Le(Ot);return Ur.length&&(Wr.docs=Ur,"number"==typeof on.pending&&(Wr.pending=on.pending,delete on.pending),qe.emit("change",Wr)),Ln=!0,Vr.writeCheckpoint(on.seq,di).then(function(){if(qe.emit("checkpoint",{checkpoint:on.seq}),Ln=!1,qe.cancelled)throw Ri(),new Error("cancelled");on=void 0,ci()}).catch(function(ai){throw Mi(ai),ai})}function Zs(){return Hu(me,Pe,on.diffs,qe).then(function(Wr){on.error=!Wr.ok,Wr.docs.forEach(function(ai){delete on.diffs[ai._id],Ot.docs_read++,on.docs.push(ai)})})}function Fs(){if(!qe.cancelled&&!on){if(0===Gt.length)return void ns(!0);on=Gt.shift(),qe.emit("checkpoint",{start_next_batch:on.seq}),function ts(){var Wr={};return on.changes.forEach(function(ai){qe.emit("checkpoint",{revs_diff:ai}),"_user/"!==ai.id&&(Wr[ai.id]=ai.changes.map(function(Ti){return Ti.rev}))}),Pe.revsDiff(Wr).then(function(ai){if(qe.cancelled)throw Ri(),new Error("cancelled");on.diffs=ai})}().then(Zs).then(mi).then(vi).then(Fs).catch(function(Wr){Os("batch processing terminated with error",Wr)})}}function ns(Wr){0!==On.changes.length?(Wr||nr||On.changes.length>=rr)&&(Gt.push(On),On={seq:0,changes:[],docs:[]},("pending"===qe.state||"stopped"===qe.state)&&(qe.state="active",qe.emit("active")),Fs()):0===Gt.length&&!on&&((Gn&&qr.live||nr)&&(qe.state="pending",qe.emit("paused")),nr&&Ri())}function Os(Wr,ai){br||(ai.message||(ai.message=Wr),Ot.ok=!1,Ot.status="aborting",Gt=[],On={seq:0,changes:[],docs:[]},Ri(ai))}function Ri(Wr){if(!(br||qe.cancelled&&(Ot.status="cancelled",Ln)))if(Ot.status=Ot.status||"complete",Ot.end_time=(new Date).toISOString(),Ot.last_seq=fn,br=!0,Wr){(Wr=Qn(Wr)).result=Ot;var ai=(Wr.name||"").toLowerCase();"unauthorized"===ai||"forbidden"===ai?(qe.emit("error",Wr),qe.removeAllListeners()):function Fd(me,Pe,ke,qe){if(!1===me.retry)return Pe.emit("error",ke),void Pe.removeAllListeners();if("function"!=typeof me.back_off_function&&(me.back_off_function=$e),Pe.emit("requestError",ke),"active"===Pe.state||"pending"===Pe.state){Pe.emit("paused",ke),Pe.state="stopped";var Ot=function(){me.current_back_off=0};Pe.once("paused",function(){Pe.removeListener("active",Ot)}),Pe.once("active",Ot)}me.current_back_off=me.current_back_off||0,me.current_back_off=me.back_off_function(me.current_back_off),setTimeout(qe,me.current_back_off)}(ke,qe,Wr,function(){Kc(me,Pe,ke,qe)})}else qe.emit("complete",Ot),qe.removeAllListeners()}function sr(Wr,ai,Ti){if(qe.cancelled)return Ri();"number"==typeof ai&&(On.pending=ai),!an(ke)(Wr)||(On.seq=Wr.seq||Ti,On.changes.push(Wr),qe.emit("checkpoint",{pending_batch:On.seq}),v()(function(){ns(0===Gt.length&&qr.live)}))}function dr(Wr){if(cr=!1,qe.cancelled)return Ri();if(Wr.results.length>0)qr.since=Wr.results[Wr.results.length-1].seq,ci(),ns(!0);else{var ai=function(){Gn?(qr.live=!0,ci()):nr=!0,ns(!0)};on||0!==Wr.results.length?ai():(Ln=!0,Vr.writeCheckpoint(Wr.last_seq,di).then(function(){Ln=!1,Ot.last_seq=fn=Wr.last_seq,ai()}).catch(Mi))}}function xr(Wr){if(cr=!1,qe.cancelled)return Ri();Os("changes rejected",Wr)}function ci(){if(!cr&&!nr&&Gt.length<tr){cr=!0,qe._changes&&(qe.removeListener("cancel",qe._abortChanges),qe._changes.cancel()),qe.once("cancel",Wr);var Ti=me.changes(qr).on("change",sr);Ti.then(ai,ai),Ti.then(dr).catch(xr),ke.retry&&(qe._changes=Ti,qe._abortChanges=Wr)}function Wr(){Ti.cancel()}function ai(){qe.removeListener("cancel",Wr)}}function ii(){Pi().then(function(){if(!qe.cancelled)return Vr.getCheckpoint().then(function(Wr){qr={since:fn=Wr,limit:rr,batch_size:rr,style:Cr,doc_ids:ar,selector:ur,return_docs:!0},ke.filter&&("string"!=typeof ke.filter?qr.include_docs=!0:qr.filter=ke.filter),"heartbeat"in ke&&(qr.heartbeat=ke.heartbeat),"timeout"in ke&&(qr.timeout=ke.timeout),ke.query_params&&(qr.query_params=ke.query_params),ke.view&&(qr.view=ke.view),ci()});Ri()}).catch(function(Wr){Os("getCheckpoint rejected with ",Wr)})}function Mi(Wr){Ln=!1,Os("writeCheckpoint completed with error",Wr)}qe.ready(me,Pe),qe.cancelled?Ri():(qe._addedListeners||(qe.once("cancel",Ri),"function"==typeof ke.complete&&(qe.once("error",ke.complete),qe.once("complete",function(Wr){ke.complete(null,Wr)})),qe._addedListeners=!0),void 0===ke.since?ii():Pi().then(function(){return Ln=!0,Vr.writeCheckpoint(ke.since,di)}).then(function(){Ln=!1,qe.cancelled?Ri():(fn=ke.since,ii())}).catch(Mi))}function Cc(){Y().call(this),this.cancelled=!1,this.state="pending";var me=this,Pe=new Promise(function(ke,qe){me.once("complete",ke),me.once("error",qe)});me.then=function(ke,qe){return Pe.then(ke,qe)},me.catch=function(ke){return Pe.catch(ke)},me.catch(function(){})}function qu(me,Pe){return"string"==typeof me?new(0,Pe.PouchConstructor)(me,Pe):me}function rc(me,Pe,ke,qe){if("function"==typeof ke&&(qe=ke,ke={}),void 0===ke&&(ke={}),ke.doc_ids&&!Array.isArray(ke.doc_ids))throw Qn(vr,"`doc_ids` filter parameter is not a list.");ke.complete=qe,(ke=Le(ke)).continuous=ke.continuous||ke.live,ke.retry="retry"in ke&&ke.retry,ke.PouchConstructor=ke.PouchConstructor||this;var Ot=new Cc(ke);return Kc(qu(me,ke),qu(Pe,ke),ke,Ot),Ot}function Eu(me,Pe,ke,qe){return"function"==typeof ke&&(qe=ke,ke={}),void 0===ke&&(ke={}),(ke=Le(ke)).PouchConstructor=ke.PouchConstructor||this,new Mc(me=qu(me,ke),Pe=qu(Pe,ke),ke,qe)}function Mc(me,Pe,ke,qe){var Ot=this;this.canceled=!1;var Gt=ke.push?Tt({},ke,ke.push):ke,on=ke.pull?Tt({},ke,ke.pull):ke;function On(gr){Ot.emit("change",{direction:"pull",change:gr})}function Ln(gr){Ot.emit("change",{direction:"push",change:gr})}function nr(gr){Ot.emit("denied",{direction:"push",doc:gr})}function br(gr){Ot.emit("denied",{direction:"pull",doc:gr})}function fn(){Ot.pushPaused=!0,Ot.pullPaused&&Ot.emit("paused")}function Gn(){Ot.pullPaused=!0,Ot.pushPaused&&Ot.emit("paused")}function rr(){Ot.pushPaused=!1,Ot.pullPaused&&Ot.emit("active",{direction:"push"})}function tr(){Ot.pullPaused=!1,Ot.pushPaused&&Ot.emit("active",{direction:"pull"})}this.push=rc(me,Pe,Gt),this.pull=rc(Pe,me,on),this.pushPaused=!0,this.pullPaused=!0;var Cr={};function cr(gr){return function(Vr,Ur){("change"===Vr&&(Ur===On||Ur===Ln)||"denied"===Vr&&(Ur===br||Ur===nr)||"paused"===Vr&&(Ur===Gn||Ur===fn)||"active"===Vr&&(Ur===tr||Ur===rr))&&(Vr in Cr||(Cr[Vr]={}),Cr[Vr][gr]=!0,2===Object.keys(Cr[Vr]).length&&Ot.removeAllListeners(Vr))}}function ar(gr,Vr,Ur){-1==gr.listeners(Vr).indexOf(Ur)&&gr.on(Vr,Ur)}ke.live&&(this.push.on("complete",Ot.pull.cancel.bind(Ot.pull)),this.pull.on("complete",Ot.push.cancel.bind(Ot.push))),this.on("newListener",function(gr){"change"===gr?(ar(Ot.pull,"change",On),ar(Ot.push,"change",Ln)):"denied"===gr?(ar(Ot.pull,"denied",br),ar(Ot.push,"denied",nr)):"active"===gr?(ar(Ot.pull,"active",tr),ar(Ot.push,"active",rr)):"paused"===gr&&(ar(Ot.pull,"paused",Gn),ar(Ot.push,"paused",fn))}),this.on("removeListener",function(gr){"change"===gr?(Ot.pull.removeListener("change",On),Ot.push.removeListener("change",Ln)):"denied"===gr?(Ot.pull.removeListener("denied",br),Ot.push.removeListener("denied",nr)):"active"===gr?(Ot.pull.removeListener("active",tr),Ot.push.removeListener("active",rr)):"paused"===gr&&(Ot.pull.removeListener("paused",Gn),Ot.push.removeListener("paused",fn))}),this.pull.on("removeListener",cr("pull")),this.push.on("removeListener",cr("push"));var ur=Promise.all([this.push,this.pull]).then(function(gr){var Vr={push:gr[0],pull:gr[1]};return Ot.emit("complete",Vr),qe&&qe(null,Vr),Ot.removeAllListeners(),Vr},function(gr){if(Ot.cancel(),qe?qe(gr):Ot.emit("error",gr),Ot.removeAllListeners(),qe)throw gr});this.then=function(gr,Vr){return ur.then(gr,Vr)},this.catch=function(gr){return ur.catch(gr)}}Zc.prototype.getCheckpoint=function(){var me=this;return me.opts&&me.opts.writeSourceCheckpoint&&!me.opts.writeTargetCheckpoint?me.src.get(me.id).then(function(Pe){return Pe.last_seq||0}).catch(function(Pe){if(404!==Pe.status)throw Pe;return 0}):me.target.get(me.id).then(function(Pe){return me.opts&&me.opts.writeTargetCheckpoint&&!me.opts.writeSourceCheckpoint?Pe.last_seq||0:me.src.get(me.id).then(function(ke){return Pe.version!==ke.version?0:(qe=Pe.version?Pe.version.toString():"undefined")in Qo?Qo[qe](Pe,ke):0;var qe},function(ke){if(404===ke.status&&Pe.last_seq)return me.src.put({_id:me.id,last_seq:0}).then(function(){return 0},function(qe){return Yu(qe)?(me.opts.writeSourceCheckpoint=!1,Pe.last_seq):0});throw ke})}).catch(function(Pe){if(404!==Pe.status)throw Pe;return 0})},V()(Cc,Y()),Cc.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Cc.prototype.ready=function(me,Pe){var ke=this;function qe(){ke.cancel()}function Ot(){me.removeListener("destroyed",qe),Pe.removeListener("destroyed",qe)}ke._readyCalled||(ke._readyCalled=!0,me.once("destroyed",qe),Pe.once("destroyed",qe),ke.once("complete",Ot),ke.once("error",Ot))},V()(Mc,Y()),Mc.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},cn.plugin(function zu(me){me.adapter("idb",wa,!0)}).plugin(function Kt(me){me.adapter("http",bt,!1),me.adapter("https",bt,!1)}).plugin(vu).plugin(function Ud(me){me.replicate=rc,me.sync=Eu,Object.defineProperty(me.prototype,"replicate",{get:function(){var Pe=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(ke,qe,Ot){return Pe.constructor.replicate(ke,Pe,qe,Ot)},to:function(ke,qe,Ot){return Pe.constructor.replicate(Pe,ke,qe,Ot)}}),this.replicateMethods}}),me.prototype.sync=function(Pe,ke,qe){return this.constructor.sync(this,Pe,ke,qe)}});const vl=cn;var Cu=p(77579),Mu=p(32076),Ho=p(95577),ah=p(4128),lh=p(54004),ed=p(5e3),Do=p(29168);let Nd=(()=>{class me{constructor(ke){this.chasseService=ke,this.savedAllFormsOffline$=new Cu.x,this.chassedb=new vl("chassedb")}getListOffline(){return(0,Mu.D)(this.chassedb.allDocs({include_docs:!0}))}saveFormOffline(ke){const qe=Object.assign({},ke);return qe.date=(new Date).getTime(),qe._id=(new Date).getTime().toString(),(0,Mu.D)(this.chassedb.put(qe))}saveAllFormsOffline(){return(0,Mu.D)(this.chassedb.allDocs({include_docs:!0})).pipe((0,Ho.z)(qe=>{const Ot=[];return qe.rows.forEach(Gt=>{Ot.push(this.chasseService.saveForm(Gt.doc))}),(0,ah.D)(Ot).pipe((0,lh.U)(Gt=>{Gt.map(on=>this.chassedb.remove(on.registre)),this.savedAllFormsOffline$.next(!0)}))}))}}return me.\u0275fac=function(ke){return new(ke||me)(ed.LFG(Do.W))},me.\u0275prov=ed.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},35810:(wt,Se,p)=>{"use strict";p.d(Se,{K:()=>D});var d=p(54004),v=p(89495);class X{deserialize(N){return Object.assign(this,N)}}var G=p(5e3),z=p(40520),Z=p(7568);let D=(()=>{class k{constructor(B,Q){this.http=B,this.urlConfig=Q,this.user=null}get currentUser(){return this.user}set currentUser(B){this.user=(new X).deserialize(B)}updateUser(B){return this.http.post(`${this.urlConfig.url}/${v.M.USER}/update`,B).pipe((0,d.U)(ne=>ne.userUpdate))}}return k.\u0275fac=function(B){return new(B||k)(G.LFG(z.eN),G.LFG(Z.F))},k.\u0275prov=G.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},99650:(wt,Se,p)=>{"use strict";p.d(Se,{Dm:()=>y0,bs:()=>_0});var q,d=p(5e3),v=p(73386),X=p(2004),G=p(88879),z=p(32258),Z=p(28678),D=p(17626),k=p(15861),N=p(91558),B=p(74333),Q=p(89726),ne=p(94573),te=p(26584),ae=p(86810),re=p(58817),$=p(47996),F=p(47877),R=p(63290),U=p(10699),A=p(77712),V=p(90912),J=p(76898),Y=p(99433),oe=p(85931),se=p(8314),de=(p(82255),p(55342));let ue=q=class extends ae.wq{constructor(g){super(g),this.type="none"}clone(){return new q({type:this.type})}};(0,D._)([(0,de.J)({none:"none",stayAbove:"stay-above"})],ue.prototype,"type",void 0),ue=q=(0,D._)([(0,J.j)("esri.ground.NavigationConstraint")],ue);var ye,ie=p(92236);const pe=R.Z.getLogger("esri.Ground");let Ce=ye=class extends((0,ae.eC)($.Z)){constructor(g){super(g),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new B.Z;const E=W=>{W.parent&&W.parent!==this&&"remove"in W.parent&&W.parent.remove(W),W.parent=this,"elevation"!==W.type&&"base-elevation"!==W.type&&pe.error(`Layer '${W.title}, id:${W.id}' of type '${W.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",W=>E(W.item)),this.layers.on("after-remove",W=>(W=>{W.parent=null})(W.item))}initialize(){this.when().catch(g=>{pe.error("#load()","Failed to load ground",g)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const g=this.layers.removeAll();for(const E of g)E.destroy();this.layers.destroy()}normalizeCtorArgs(g){return g&&"resourceInfo"in g&&(this._set("resourceInfo",g.resourceInfo),delete(g=Nn({},g)).resourceInfo),g}set layers(g){this._set("layers",(0,Q.Z)(g,this._get("layers")))}writeLayers(g,E,I,W){const ee=[];g&&(W=Wi(Nn({},W),{layerContainerType:"ground"}),g.forEach(ge=>{if("write"in ge){const Ae={};(0,ne.sM)(ge)().write(Ae,W)&&ee.push(Ae)}else W&&W.messages&&W.messages.push(new te.Z("layer:unsupported",`Layers (${ge.title}, ${ge.id}) of type '${ge.declaredClass}' cannot be persisted in the ground`,{layer:ge}))})),E.layers=ee}load(g){return this.addResolvingPromise(this._loadFromSource(g)),Promise.resolve(this)}loadAll(){return(0,F.G)(this,g=>{g(this.layers)})}queryElevation(g,E){var I=this;return(0,k.Z)(function*(){yield I.load({signal:null==E?void 0:E.signal});const{ElevationQuery:W}=yield p.e(1991).then(p.bind(p,1991));(0,U.k_)(E);const ee=new W,ge=I.layers.filter(Me).toArray();return ee.queryAll(ge,g,E)})()}createElevationSampler(g,E){var I=this;return(0,k.Z)(function*(){yield I.load({signal:null==E?void 0:E.signal});const{ElevationQuery:W}=yield p.e(1991).then(p.bind(p,1991));(0,U.k_)(E);const ee=new W,ge=I.layers.filter(Me).toArray();return ee.createSamplerAll(ge,g,E)})()}clone(){const g={opacity:this.opacity,surfaceColor:(0,re.d9)(this.surfaceColor),navigationConstraint:(0,re.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(g.loadStatus="loaded"),new ye({resourceInfo:this.resourceInfo}).set(g)}read(g,E){this.resourceInfo||this._set("resourceInfo",{data:g,context:E}),super.read(g,E)}_loadFromSource(g){const E=this.resourceInfo;return E?this._loadLayersFromJSON(E.data,E.context,g):Promise.resolve(null)}_loadLayersFromJSON(g,E,I){const W=E&&E.origin||"web-scene",ee=E&&E.portal||null,ge=E&&E.url||null;return Promise.all([p.e(7534),p.e(1074)]).then(p.bind(p,71074)).then(({populateOperationalLayers:Ae})=>{(0,U.k_)(I);const He=[];return g.layers&&Array.isArray(g.layers)&&He.push(Ae(this.layers,g.layers,{context:{origin:W,url:ge,portal:ee,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),(0,U.as)(He)}).then(()=>{})}};function Me(g){return"elevation"===g.type||function De(g){return g&&"createElevationSampler"in g}(g)}(0,D._)([(0,A.Cb)({json:{read:!1}})],Ce.prototype,"layers",null),(0,D._)([(0,Y.c)("layers")],Ce.prototype,"writeLayers",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Ce.prototype,"resourceInfo",void 0),(0,D._)([(0,A.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:V.z8,read:{reader:ie.b,source:"transparency"},write:{writer:(g,E)=>{E.transparency=(0,ie.a)(g)},target:"transparency"}}})],Ce.prototype,"opacity",void 0),(0,D._)([(0,A.Cb)({type:N.Z,json:{type:[V.z8],write:(g,E)=>{E.surfaceColor=g.toJSON().slice(0,3)}}})],Ce.prototype,"surfaceColor",void 0),(0,D._)([(0,A.Cb)({type:ue,json:{write:!0}})],Ce.prototype,"navigationConstraint",void 0),Ce=ye=(0,D._)([(0,J.j)("esri.Ground")],Ce);const ve=Ce;var Le=p(14517),je=p(46882),_e=p(61885),Re=p(62208),nt=p(66656);function pt(g){var E;return!(!(g&&g.loaded&&"capabilities"in g&&(null==(E=null==g?void 0:g.capabilities)?void 0:E.operations)&&"supportsEditing"in g.capabilities.operations&&!0===g.capabilities.operations.supportsEditing)||"editingEnabled"in g&&!g.editingEnabled)}var Ne=p(59318),xe=p(21726),Ye=p(33954);const Ke=R.Z.getLogger("esri.support.basemapUtils");function Ze(g){for(const E in g){const I=g[E];!1===(null==I?void 0:I.destroyed)&&I.destroy(),delete g[E]}}function ct(g,E){let I;if("string"==typeof g){if(!(g in Ye.s)){const W=Object.entries(Ye.s).filter(([ee,ge])=>Ne.Z.apiKey&&!ge.classic||!Ne.Z.apiKey&&ge.classic&&!ge.deprecated).map(([ee])=>`"${ee}"`).join(", ");return Ke.warn(`Unable to find basemap definition for: ${g}. Try one of these: ${W}`),null}E&&(I=E[g]),I||(I=v.default.fromId(g),E&&(E[g]=I))}else I=(0,V.se)(v.default,g);return(null==I?void 0:I.destroyed)&&(Ke.warn("The provided basemap is already destroyed",{basemap:I}),I=null),I}function Tt(g,E){var ee,ge,Ae;if((0,Re.Wi)(E)||(0,Re.Wi)(g))return{spatialReference:null,updating:!1};if("not-loaded"===E.loadStatus)return E.load(),{spatialReference:null,updating:!0};if(E.spatialReference)return{spatialReference:E.spatialReference,updating:!1};if(0===E.baseLayers.length)return{spatialReference:null,updating:!1};const I=E.baseLayers.getItemAt(0);switch(I.loadStatus){case"not-loaded":I.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const W=(("supportedSpatialReferences"in I?I.supportedSpatialReferences:null)||["tileInfo"in I?null==(ee=I.tileInfo)?void 0:ee.spatialReference:I.spatialReference]).filter(Boolean);return g.spatialReference?{spatialReference:null!=(Ae=null!=(ge=W.find(He=>g.spatialReference.equals(He)))?ge:W[0])?Ae:null,updating:!1}:{spatialReference:W[0],updating:!1}}function Rt(g){return g?!g.loaded&&g.resourceInfo?Zt(g.resourceInfo.data):{baseLayers:Xe(g.baseLayers),referenceLayers:Xe(g.referenceLayers)}:null}function Xe(g){return(B.Z.isCollection(g)?g.toArray():g).map(vt)}function vt(g){var E,I;return{type:g.type,url:Xn("urlTemplate"in g&&g.urlTemplate||g.url||"styleUrl"in g&&g.styleUrl),minScale:"minScale"in g&&null!=g.minScale?g.minScale:0,maxScale:"maxScale"in g&&null!=g.maxScale?g.maxScale:0,opacity:null!=g.opacity?g.opacity:1,visible:null==g.visible||!!g.visible,sublayers:"map-image"!==g.type&&"wms"!==g.type||!(0,Re.pC)(g.sublayers)||null==(E=g.sublayers)?void 0:E.map(W=>({id:W.id,visible:W.visible})),activeLayerId:"wmts"===g.type?null==(I=g.activeLayer)?void 0:I.id:void 0}}function Zt(g){return g?{baseLayers:xt(g.baseMapLayers.filter(E=>!E.isReference)),referenceLayers:xt(g.baseMapLayers.filter(E=>E.isReference))}:null}function xt(g){return g.map(E=>function Lt(g){let E;switch(g.layerType){case"VectorTileLayer":E="vector-tile";break;case"ArcGISTiledMapServiceLayer":E="tile";break;default:E="unknown"}return{type:E,url:Xn(g.templateUrl||g.urlTemplate||g.styleUrl||g.url),minScale:null!=g.minScale?g.minScale:0,maxScale:null!=g.maxScale?g.maxScale:0,opacity:null!=g.opacity?g.opacity:1,visible:null==g.visibility||!!g.visibility,sublayers:void 0,activeLayerId:void 0}}(E))}function en(g,E,I){return null!=g!=(null!=E)?"not-equal":g?En(g.baseLayers,E.baseLayers)?En(g.referenceLayers,E.referenceLayers)?"equal":I.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function En(g,E){if(g.length!==E.length)return!1;for(let I=0;I<g.length;I++)if(!Dn(g[I],E[I]))return!1;return!0}function Dn(g,E){if(g.type!==E.type||g.url!==E.url||g.minScale!==E.minScale||g.maxScale!==E.maxScale||g.visible!==E.visible||g.opacity!==E.opacity)return!1;if((0,Re.pC)(g.activeLayerId)||(0,Re.pC)(E.activeLayerId))return g.activeLayerId===E.activeLayerId;if((0,Re.pC)(g.sublayers)||(0,Re.pC)(E.sublayers)){if((0,Re.Wi)(g.sublayers)||(0,Re.Wi)(E.sublayers)||g.sublayers.length!==E.sublayers.length)return!1;for(let I=0;I<g.sublayers.length;I++){const W=g.sublayers.at(I),ee=E.sublayers.at(I);if(W.id!==ee.id||W.visible!==ee.visible)return!1}}return!0}function Xn(g){return g?(0,xe.Fv)(g).replace(/^\s*https?:/i,"").toLowerCase():""}var pr=p(38953);const Tr=R.Z.getLogger("esri.support.groundUtils"),vr={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var zt=p(6432),sn=p(6119);let pn=class extends((0,sn.Q)((0,zt.K)(_e.Z.EventedMixin(Le.Z)))){constructor(g){super(g),this.allLayers=new je.Z({getCollections:()=>{var E,I,W;return[null==(E=this.basemap)?void 0:E.baseLayers,null==(I=this.ground)?void 0:I.layers,this.layers,null==(W=this.basemap)?void 0:W.referenceLayers]},getChildrenFunction:E=>"layers"in E?E.layers:null}),this.allTables=(0,pr.a)(this),this.basemap=null,this.editableLayers=new je.Z({getCollections:()=>[this.allLayers],itemFilterFunction:pt}),this.ground=new ve,this._basemapCache={}}destroy(){var g,E;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(g=this.ground)||g.destroy(),null==(E=this.basemap)||E.destroy(),Ze(this._basemapCache),this._basemapCache=null}castBasemap(g){return ct(g,this._basemapCache)}castGround(g){const E=function zn(g){let E=null;return"string"==typeof g?g in vr?E=new ve({resourceInfo:{data:{layers:[vr[g]]}}}):Tr.warn(`Unable to find ground definition for: ${g}. Try "world-elevation"`):E=(0,V.se)(ve,g),E}(g);return(0,Re.Wi)(E)?this._get("ground"):E}findLayerById(g){return this.allLayers.find(E=>E.id===g)}findTableById(g){return this.allTables.find(E=>E.id===g)}};(0,D._)([(0,A.Cb)({readOnly:!0,dependsOn:[]})],pn.prototype,"allLayers",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],pn.prototype,"allTables",void 0),(0,D._)([(0,A.Cb)({type:v.default})],pn.prototype,"basemap",void 0),(0,D._)([(0,nt.p)("basemap")],pn.prototype,"castBasemap",null),(0,D._)([(0,A.Cb)({readOnly:!0})],pn.prototype,"editableLayers",void 0),(0,D._)([(0,A.Cb)({type:ve,nonNullable:!0})],pn.prototype,"ground",void 0),(0,D._)([(0,nt.p)("ground")],pn.prototype,"castGround",null),pn=(0,D._)([(0,J.j)("esri.Map")],pn);const In=pn;var Wn=p(33474),jn=p(85807),$n=p(56354),Ht=p(32917),ir=p(23841),Qn=p(14889),Ar=p(59289),Dr=p(49672),an=p(55915),Mn=p(37053),Hn=p(2584),Mt=p(35575),Bt=p(72392);const wn={widthBreakpoint:{getValue(g){const E=g.viewSize[0],I=g.breakpoints,W=this.values;return E<=I.xsmall?W.xsmall:E<=I.small?W.small:E<=I.medium?W.medium:E<=I.large?W.large:W.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(g){const E=g.viewSize[1],I=g.breakpoints,W=this.values;return E<=I.xsmall?W.xsmall:E<=I.small?W.small:E<=I.medium?W.medium:E<=I.large?W.large:W.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(g){const E=g.viewSize,ee=this.values;return E[1]>=E[0]?ee.portrait:ee.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},Ut={xsmall:544,small:768,medium:992,large:1200};function Bn(g,E){return E?wn[g].valueToClassName[E].split(" "):[]}const er=g=>{let E=class extends g{constructor(...I){super(...I),this._breakpointsHandles=new Bt.Z,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=Ut}initialize(){this._breakpointsHandles.add((0,Ht.YP)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ht.nn))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,Re.SC)(this._breakpointsHandles))}set breakpoints(I){if(I===this._get("breakpoints"))return;const W=function Cn(g){return g&&g.xsmall<g.small&&g.small<g.medium&&g.medium<g.large}(I);if(!W){const ee=JSON.stringify(Ut,null,2);console.warn("provided breakpoints are not valid, using defaults:"+ee)}this._set("breakpoints",Nn({},I=W?I:Ut))}_updateClassNames(){if(!this.container)return;const I=Mt.Z.acquire(),W=Mt.Z.acquire();let ee,ge=!1;for(ee in wn){const Ae=this[ee],He=wn[ee].getValue({viewSize:this.size,breakpoints:this.breakpoints});Ae!==He&&(ge=!0,this[ee]=He,Bn(ee,Ae).forEach(gt=>W.push(gt)),Bn(ee,He).forEach(gt=>I.push(gt)))}ge&&(this._applyClassNameChanges(I,W),Mt.Z.release(I),Mt.Z.release(W))}_applyClassNameChanges(I,W){const ee=this.container;ee&&(W.forEach(ge=>ee.classList.remove(ge)),I.forEach(ge=>ee.classList.add(ge)))}_removeActiveClassNames(){const I=this.container;if(!I)return;let W;for(W in wn)Bn(W,this[W]).forEach(ee=>I.classList.remove(ee))}};return(0,D._)([(0,A.Cb)()],E.prototype,"breakpoints",null),(0,D._)([(0,A.Cb)()],E.prototype,"orientation",void 0),(0,D._)([(0,A.Cb)()],E.prototype,"widthBreakpoint",void 0),(0,D._)([(0,A.Cb)()],E.prototype,"heightBreakpoint",void 0),E=(0,D._)([(0,J.j)("esri.views.BreakpointsOwner")],E),E};var or=p(40764),Hr=p(50618),wi=p(17760),kr=(p(50645),p(62996));let Fi=class extends Le.Z{constructor(){super(...arguments),this.items=new B.Z,this._watchUpdatingTracking=new wi.t,this._callbacks=new Map,this._projector=(0,kr.E)(),this._hiddenProjector=(0,kr.E)()}get needsRender(){return this.items.length>0}initialize(){const g=document.createElement("div");g.className="esri-overlay-surface",this._set("surface",g),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),g.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,E=>{for(const I of E.added){const W=()=>I.render();this._callbacks.set(I,W),this._projector.append(this.surface,W)}for(const I of E.removed){const W=this._projector.detach(this._callbacks.get(I));this.surface.removeChild(W.domNode),this._callbacks.delete(I)}})}addItem(g){this.items.add(g)}removeItem(g){this.items.remove(g)}destroy(){this.items.removeAll(),this._callbacks.forEach(g=>this._projector.detach(g)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(g){const E=this._hiddenSurface,I=this._hiddenProjector;let W=null;const ee=()=>(W=g.render(),W);I.append(E,ee),I.renderNow();const ge={left:0,top:0,right:0,bottom:0};if(W&&W.domNode){const Ae=W.domNode.getBoundingClientRect();ge.left=Ae.left,ge.top=Ae.top,ge.right=Ae.right,ge.bottom=Ae.bottom}for(I.detach(ee);E.firstChild;)E.removeChild(E.firstChild);return ge}overlaps(g,E){const I=this.computeBoundingRect(g),W=this.computeBoundingRect(E);return Math.max(I.left,W.left)<=Math.min(I.right,W.right)&&Math.max(I.top,W.top)<=Math.min(I.bottom,W.bottom)}get hasVisibleItems(){return this.items.some(g=>g.visible)}renderCanvas(g){if(!this.items.some(I=>I.visible))return;const E=g.getContext("2d");E.save(),E.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(I=>{E.save(),I.renderCanvas(E),E.restore()}),E.restore()}};(0,D._)([(0,A.Cb)({readOnly:!0})],Fi.prototype,"surface",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Fi.prototype,"items",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Fi.prototype,"needsRender",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Fi.prototype,"_watchUpdatingTracking",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],Fi.prototype,"updating",void 0),Fi=(0,D._)([(0,J.j)("esri.views.overlay.ViewOverlay")],Fi);const rs=Fi;p(52515);var fi=p(17770),Ui=p(7074),hr=p(83960),Ii=p(10391),Hi=p(27306),gi=(p(23719),p(21286)),Bi=p(77275),Ts=p(16730),Li=p(15348);const fr=["B","kB","MB","GB","TB"];var Jr=p(87183),Br=p(67736),ti=p(88411),Ai=p(36630),Fr=p(66845),Ni=p(46679);const Gs=R.Z.getLogger("esri.widgets.Feature.support.featureUtils"),Vi=/href=(""|'')/gi,Rs=/(\{([^\{\r\n]+)\})/g,Ps=/\'/g,Is=/^\s*expression\//i,Ds=/(\n)/gi,yo=/[\u00A0-\u9999<>\&]/gim,Oo=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,oo=/^(?:mailto:|tel:)/,ho="relationships/",po=(0,ti.Ze)("short-date-short-time");function qs(g){if(!(0,Re.Wi)(g))return g.get("sourceLayer")||g.get("layer")}function $i(g,E){return gs.apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(g,E){return"function"==typeof g?g.call(null,E):g})).apply(this,arguments)}function Ys(g=""){if(g)return!oo.test(g.trim().toLowerCase())}function _o(g){return!!g&&Is.test(g)}function _r(g,E){const I=function cn(g,E){if(!_o(E)||!g)return null;const I=E.replace(Is,"").toLowerCase();let W;return g.some(ee=>ee.name.toLowerCase()===I&&(W=ee,!0)),W}(E,null==g?void 0:g.fieldName);return I?I.title||null:g?g.label||g.fieldName:null}function hn(g,E){const I=Vt(E,g);return I?I.name:g}function Vt(g,E){return g&&"function"==typeof g.getField?g.getField(E):null}function yn(g){return`${g}`.trim()}function rt({attributes:g,globalAttributes:E,layer:I,text:W,expressionAttributes:ee,fieldInfoMap:ge}){return W?Pt({formattedAttributes:E,template:Kn(W,Nn(Nn(Nn({},E),ee),g),I),fieldInfoMap:ge}):""}function Pt({formattedAttributes:g,template:E,fieldInfoMap:I}){return yn(function Jt(g){return g.replace(Vi,"")}((0,Bi.gx)((0,Bi.gx)(E,W=>function Er(g,E){const I=E.get(g.toLowerCase());return`{${I&&I.fieldName||g}}`}(W,I)),g)))}function xn(g,E){return g.replace(Rs,(I,W,ee)=>{const ge=Vt(E,ee);return ge?`{${ge.name}}`:W})}function Kn(g,E,I){const W=xn(g,I);return W&&W.replace(Oo,(ee,ge,Ae)=>function qt(g,E,I){const W=(E=yn(E))&&"{"!==E[0];return(0,Bi.gx)(g,function un(g,E=!1){const I=Nn({},g);return Object.keys(I).forEach(W=>function tn(g,E,I=!1){const W=E[g];if("string"==typeof W){const ee="%27",ge=(I?encodeURIComponent(W):W).replace(Ps,ee);E[g]=ge}}(W,I,E)),I}(I,W))}(ee,ge||Ae,E))}function nn(g){return!!(null==g?void 0:g.layer)}function ht(g,E){if(!g||!g.length||!E)return;const I=E.toLowerCase();let W;return g.some(ee=>!(!ee.fieldName||ee.fieldName.toLowerCase()!==I||(W=ee,0))),W}function ri(g){const E=[];if(!g)return E;const{fieldInfos:I,content:W}=g;return I&&E.push(...I),W&&Array.isArray(W)&&W.forEach(ee=>{if("fields"===ee.type){const ge=ee&&ee.fieldInfos;ge&&E.push(...ge)}}),E}function ji(g){return g.replace(yo,E=>`&#${E.charCodeAt(0)};`)}function ki(g){return"string"==typeof g?g.replace(Ds,'<br class="esri-text-new-line" />'):g}function _i(g){const{value:E,fieldName:I,fieldInfos:W,fieldInfoMap:ee,layer:ge,graphic:Ae}=g;if(null==E)return"";const He=function Sn({fieldName:g,value:E,graphic:I,layer:W}){if(Xt(g)||!W||"function"!=typeof W.getFieldDomain)return null;const ee=W.getFieldDomain(g,{feature:I});return ee&&"coded-value"===ee.type?ee.getName(E):null}({fieldName:I,value:E,graphic:Ae,layer:ge});if(He)return He;const gt=function Wt({fieldName:g,graphic:E,layer:I}){if(Xt(g)||!I||"function"!=typeof I.getFeatureType)return null;const{typeIdField:W}=I;if(!W||g!==W)return null;const ee=I.getFeatureType(E);return ee?ee.name:null}({fieldName:I,graphic:Ae,layer:ge});if(gt)return gt;if(ee.get(I.toLowerCase()))return function St(g,E){var At;const W=E.fieldName,ee=null==(At=ht(E.fieldInfos,W))?void 0:At.clone(),ge=E.preventPlacesFormatting,Ae=E.layer,He=Vt(Ae,W);if(ee&&"date"===(null==He?void 0:He.type)){const Yt=ee.format||new Fr.Z;Yt.dateFormat=Yt.dateFormat||"short-date-short-time",Yt.dateTimeFormatOptions=!nn(Ae)&&function Ct(g){return"feature"===(null==g?void 0:g.type)}(Ae)&&Ae.datesInUnknownTimezone||nn(Ae)&&function et(g){return"map-image"===(null==g?void 0:g.type)}(Ae.layer)&&Ae.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,ee.format=Yt}const gt=ee&&ee.format;return"string"==typeof g&&(0,Ai.Ec)(W)&&gt?gt.formatRasterPixelValue(g):"string"==typeof(g=function yt(g,E){if("string"==typeof g&&E&&null==E.dateFormat&&(null!=E.places||null!=E.digitSeparator)){const I=Number(g);if(!isNaN(I))return I}return g}(g,gt))||null==g||null==gt?ki(g):ge?(0,Li.uf)(g,Wi(Nn({},(0,Li.sh)(gt)),{minimumFractionDigits:0,maximumFractionDigits:20})):gt.format(g)}(E,{fieldInfos:W||Array.from(ee.values()),fieldName:I,layer:ge});const At=ge&&ge.fieldsIndex;return At&&At.isDateField(I)?(0,ti.p6)(E,po):ki(E)}function os({fieldInfos:g,attributes:E,layer:I,graphic:W,fieldInfoMap:ee,relatedInfos:ge}){const Ae={};return null==ge||ge.forEach(He=>function ro({attributes:g,relatedInfo:E,fieldInfoMap:I,fieldInfos:W,layer:ee}){g&&E&&(E.relatedFeatures&&E.relatedFeatures&&E.relatedFeatures.forEach(ge=>Ci({attributes:g,graphic:ge,relatedInfo:E,fieldInfoMap:I,fieldInfos:W,layer:ee})),E.relatedStatsFeatures&&E.relatedStatsFeatures&&E.relatedStatsFeatures.forEach(ge=>Ci({attributes:g,graphic:ge,relatedInfo:E,fieldInfoMap:I,fieldInfos:W,layer:ee})))}({attributes:Ae,relatedInfo:He,fieldInfoMap:ee,fieldInfos:g,layer:I})),Object.keys(E).forEach(He=>{Ae[He]=_i({fieldName:He,fieldInfos:g,fieldInfoMap:ee,layer:I,value:E[He],graphic:W})}),Ae}function vo(g,E){return fs.apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(g,E){var Yt,ln;const{layer:I,graphic:W,outFields:ee,objectIds:ge,returnGeometry:Ae,spatialReference:He}=g,gt=ge[0];if("number"!=typeof gt&&"string"!=typeof gt)return Gs.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",{layer:I,graphic:W,objectId:gt,requiredFields:ee}),null;if(!(null==(ln=null==(Yt=I.capabilities)?void 0:Yt.operations)?void 0:ln.supportsQuery))return Gs.warn("The specified layer cannot be queried. The following fields will not be available.",{layer:I,graphic:W,requiredFields:ee,returnGeometry:Ae}),null;const At=I.createQuery();return At.objectIds=ge,At.outFields=(null==ee?void 0:ee.length)?ee:[I.objectIdField],At.returnGeometry=!!Ae,At.returnZ=!!Ae,At.returnM=!!Ae,At.outSpatialReference=He,(yield I.queryFeatures(At,E)).features[0]})).apply(this,arguments)}function no(g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,k.Z)(function*(g){var W;if(!(null==(W=g.expressionInfos)?void 0:W.length))return!1;const E=yield(0,Ni.LC)(),{arcadeUtils:{hasGeometryFunctions:I}}=E;return I(g)})).apply(this,arguments)}function dt(){return(dt=(0,k.Z)(function*({graphic:g,popupTemplate:E,layer:I,spatialReference:W},ee){if(!I||!E||("function"==typeof I.load&&(yield I.load(ee)),!g.attributes))return;const ge=g.attributes[I.objectIdField];if(null==ge)return;const Ae=[ge],He=yield E.getRequiredFields(I.fieldsIndex),gt=(0,Ai.R9)(He,g),At=gt?[]:He,Yt=E.returnGeometry||(yield no(E));if(gt&&!Yt)return;const ln=yield vo({layer:I,graphic:g,outFields:At,objectIds:Ae,returnGeometry:Yt,spatialReference:W},ee);ln&&(ln.geometry&&(g.geometry=ln.geometry),ln.attributes&&(g.attributes=Nn(Nn({},g.attributes),ln.attributes)))})).apply(this,arguments)}function Xt(g=""){return!!g&&g.includes(ho)}function Ci({attributes:g,graphic:E,relatedInfo:I,fieldInfos:W,fieldInfoMap:ee,layer:ge}){g&&E&&I&&Object.keys(E.attributes).forEach(Ae=>{const He=function Mr(g){return g?`${ho}${g.layerId}/${g.fieldName}`:""}({layerId:I.relation.id.toString(),fieldName:Ae});g[He]=_i({fieldName:He,fieldInfos:W,fieldInfoMap:ee,layer:ge,value:E.attributes[Ae],graphic:E})})}const Wo=g=>{if(!g)return!1;const E=g.toUpperCase();return E.includes("CURRENT_TIMESTAMP")||E.includes("CURRENT_DATE")||E.includes("CURRENT_TIME")},ja=({layer:g,method:E,query:I,definitionExpression:W})=>{var Ae,He;if(!(null==(He=null==(Ae=g.capabilities)?void 0:Ae.query)?void 0:He.supportsCacheHint)||"attachments"===E)return;const ee=(0,Re.pC)(I.where)&&I.where,ge=(0,Re.pC)(I.geometry)&&I.geometry;Wo(W)||Wo(ee)||"extent"===(null==ge?void 0:ge.type)||"tile"===I.resultType||(I.cacheHint=!0)},Kr={editing:!1,operations:{add:!0,update:!0,delete:!0}},Ms=B.Z.ofType(Jr.Z);let ws=class extends Le.Z{constructor(g){super(g),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=Nn({},Kr),this.activeAttachmentInfo=null,this.attachmentInfos=new Ms,this.graphic=null,this.mode="view",this.own((0,Ht.YP)(()=>this.graphic,()=>this._graphicChanged(),Ht.nn))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(g){return Nn(Nn({},Kr),g)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}getAttachments(){var g=this;return(0,k.Z)(function*(){const{_attachmentLayer:E,attachmentInfos:I}=g;if(!E||"function"!=typeof E.queryAttachments)throw new te.Z("invalid-layer","getAttachments(): A valid layer is required.");const W=g._getFeatureId(),ee=new Br.Z({objectIds:[W],returnMetadata:!0}),ge=[],Ae=E.queryAttachments(ee).then(gt=>gt[W]||ge).catch(()=>ge);g._getAttachmentsPromise=Ae,g.notifyChange("state");const He=yield Ae;return I.removeAll(),He.length&&I.addMany(He),g._getAttachmentsPromise=null,g.notifyChange("state"),He})()}addAttachment(g){var E=this;return(0,k.Z)(function*(){const{_attachmentLayer:I,attachmentInfos:W,graphic:ee,abilities:ge}=E;if(!g)throw new te.Z("invalid-attachment","addAttachment(): An attachment is required.",{attachment:g});if(!ge.operations.add)throw new te.Z("invalid-abilities","addAttachment(): add abilities are required.");if(!I||"function"!=typeof I.addAttachment)throw new te.Z("invalid-layer","addAttachment(): A valid layer is required.");const Ae=I.addAttachment(ee,g).then(gt=>E._queryAttachment(gt.objectId)),He=yield Ae;return W.add(He),He})()}deleteAttachment(g){var E=this;return(0,k.Z)(function*(){const{_attachmentLayer:I,attachmentInfos:W,graphic:ee,abilities:ge}=E;if(!g)throw new te.Z("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:g});if(!ge.operations.delete)throw new te.Z("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!I||"function"!=typeof I.deleteAttachments)throw new te.Z("invalid-layer","deleteAttachment(): A valid layer is required.");const Ae=I.deleteAttachments(ee,[g.id]).then(()=>g),He=yield Ae;return W.remove(He),He})()}updateAttachment(g,E=this.activeAttachmentInfo){var I=this;return(0,k.Z)(function*(){const{_attachmentLayer:W,attachmentInfos:ee,graphic:ge,abilities:Ae}=I;if(!g)throw new te.Z("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:g});if(!E)throw new te.Z("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:E});if(!Ae.operations.update)throw new te.Z("invalid-abilities","updateAttachment(): Update abilities are required.");const He=ee.findIndex(Yt=>Yt===E);if(!W||"function"!=typeof W.updateAttachment)throw new te.Z("invalid-layer","updateAttachment(): A valid layer is required.");const gt=W.updateAttachment(ge,E.id,g).then(Yt=>I._queryAttachment(Yt.objectId)),At=yield gt;return ee.splice(He,1,At),At})()}_queryAttachment(g){var E=this;return(0,k.Z)(function*(){if(!g)throw new te.Z("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:I}=E,W=E._getFeatureId(),ee=new Br.Z({objectIds:[W],attachmentsWhere:`AttachmentId=${g}`,returnMetadata:!0});return I.queryAttachments(ee).then(ge=>ge[W][0])})()}_getFeatureId(){const{_attachmentLayer:g,graphic:E}=this;if(!g||!E)return null;const{objectIdField:I}=g,{attributes:W}=E;return W&&W[I]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:g}=this,E=qs(g);this._attachmentLayer=E?"scene"===E.type&&(0,Re.pC)(E.associatedLayer)?E.associatedLayer:E:null}};(0,D._)([(0,A.Cb)()],ws.prototype,"abilities",void 0),(0,D._)([(0,nt.p)("abilities")],ws.prototype,"castAbilities",null),(0,D._)([(0,A.Cb)()],ws.prototype,"activeAttachmentInfo",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,type:Ms})],ws.prototype,"attachmentInfos",void 0),(0,D._)([(0,A.Cb)({type:G.Z})],ws.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)()],ws.prototype,"mode",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ws.prototype,"state",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ws.prototype,"supportsResizeAttachments",null),ws=(0,D._)([(0,J.j)("esri.widgets.Attachments.AttachmentsViewModel")],ws);const Aa=ws;var da=p(54346),eo=p(38570),ao=p(25552),vn=p(94450);const ul={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},No=window.CSS;let lo=class extends Ii.Z{constructor(g,E){super(g,E),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new Aa,this.visibleElements=Nn({},ul),this._supportsImageOrientation=No&&No.supports&&No.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own([(0,Ht.on)(()=>{var g;return null==(g=this.viewModel)?void 0:g.attachmentInfos},"change",()=>this.scheduleRender()),(0,Ht.YP)(()=>{var g;return null==(g=this.viewModel)?void 0:g.mode},()=>this._modeChanged(),Ht.nn)])}get effectiveDisplayType(){const{displayType:g}=this;return g&&"auto"!==g?g:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(g){return Nn(Nn({},ul),g)}addAttachment(){const{_addAttachmentForm:g,viewModel:E}=this;return this._set("submitting",!0),this._set("error",null),E.addAttachment(g).then(I=>(this._set("submitting",!1),this._set("error",null),E.mode="view",I)).catch(I=>{throw this._set("submitting",!1),this._set("error",new te.Z("attachments:add-attachment",this.messages.addErrorMessage,I)),I})}deleteAttachment(g){const{viewModel:E}=this;return this._set("submitting",!0),this._set("error",null),E.deleteAttachment(g).then(I=>(this._set("submitting",!1),this._set("error",null),E.mode="view",I)).catch(I=>{throw this._set("submitting",!1),this._set("error",new te.Z("attachments:delete-attachment",this.messages.deleteErrorMessage,I)),I})}updateAttachment(){const{viewModel:g}=this,{_updateAttachmentForm:E}=this;return this._set("submitting",!0),this._set("error",null),g.updateAttachment(E).then(I=>(this._set("submitting",!1),this._set("error",null),g.mode="view",I)).catch(I=>{throw this._set("submitting",!1),this._set("error",new te.Z("attachments:update-attachment",this.messages.updateErrorMessage,I)),I})}render(){const{submitting:g,viewModel:E}=this,{state:I}=E;return(0,vn.u)("div",{class:this.classes("esri-attachments","esri-widget")},g?this.renderProgressBar():null,"loading"===I?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:g,visibleElements:E}=this;return g&&E.errorMessage?(0,vn.u)("div",{key:"error-message",class:"esri-attachments__error-message"},g.message):null}renderAttachments(){const{mode:g,activeAttachmentInfo:E}=this.viewModel;return"add"===g?this.renderAddForm():"edit"===g?this.renderDetailsForm(E):this.renderAttachmentContainer()}renderLoading(){return(0,vn.u)("div",{class:"esri-attachments__loader-container",key:"loader"},(0,vn.u)("div",{class:"esri-attachments__loader"}))}renderProgressBar(){return this.visibleElements.progressBar?(0,vn.u)("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null}renderAddForm(){const{submitting:g,selectedFile:E}=this,I=g||!E,W=this.visibleElements.cancelAddButton?(0,vn.u)("button",{type:"button",bind:this,disabled:g,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",g&&"esri-button--disabled")},this.messages.cancel):null,ee=this.visibleElements.addSubmitButton?(0,vn.u)("button",{type:"submit",disabled:I,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{"esri-button--disabled":I})},this.messages.add):null,ge=E?(0,vn.u)("span",{key:"file-name",class:"esri-attachments__file-name"},E.name):null,Ae=(0,vn.u)("form",{bind:this,afterCreate:eo.Yo,afterRemoved:eo.pV,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,vn.u)("fieldset",{class:"esri-attachments__file-fieldset"},ge,(0,vn.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},E?this.messages.changeFile:this.messages.selectFile,(0,vn.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),ee,W);return(0,vn.u)("div",{key:"add-form-container",class:"esri-attachments__form-node"},Ae)}renderDetailsForm(g){const{visibleElements:E,viewModel:I,selectedFile:W,submitting:ee}=this,{contentType:ge,size:Ae,url:He}=g,{abilities:gt}=I,At=ee||!W,Yt=gt.editing&&gt.operations.delete&&E.deleteButton?(0,vn.u)("button",{key:"delete-button",type:"button",disabled:ee,bind:this,onclick:qi=>this._submitDeleteAttachment(qi,g),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",{"esri-button--disabled":ee})},this.messages.delete):null,ln=gt.editing&&gt.operations.update&&E.updateButton?(0,vn.u)("button",{disabled:At,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{"esri-button--disabled":At})},this.messages.update):null,kn=this.visibleElements.cancelUpdateButton?(0,vn.u)("button",{disabled:ee,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-button--third",{"esri-button--disabled":ee})},this.messages.cancel):null,Fn=W?(0,vn.u)("span",{key:"file-name",class:"esri-attachments__file-name"},W.name):null,Or=gt.editing&&gt.operations.update?(0,vn.u)("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},Fn,(0,vn.u)("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,(0,vn.u)("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,$r=(0,vn.u)("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},(0,vn.u)("label",null,function wr(g,E){let I=0===E?0:Math.floor(Math.log(E)/Math.log(Hi.Y8.KILOBYTES));I=(0,gi.uZ)(I,0,fr.length-1);const W=(0,Li.uf)(E/Hi.Y8.KILOBYTES**I,{maximumFractionDigits:2});return(0,Bi.gx)(g.units.bytes[fr[I]],{fileSize:W})}(this.messagesUnits,Ae))),ui=(0,vn.u)("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},(0,vn.u)("label",null,ge)),oi=(0,vn.u)("form",{bind:this,afterCreate:eo.Yo,afterRemoved:eo.pV,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,vn.u)("div",{class:"esri-attachments__metadata"},$r,ui),Or,(0,vn.u)("div",{class:"esri-attachments__actions"},Yt,kn,ln));return(0,vn.u)("div",{key:"edit-form-container",class:"esri-attachments__form-node"},(0,vn.u)("a",{class:"esri-attachments__item-link",href:He,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:g,size:400}),(0,vn.u)("div",{class:"esri-attachments__item-link-overlay"},(0,vn.u)("span",{class:"esri-attachments__item-link-overlay-icon"},(0,vn.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,vn.u)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,vn.u)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),oi)}renderImageMask({attachmentInfo:g,size:E}){const{supportsResizeAttachments:I}=this.viewModel,{contentType:W,name:ee,url:ge}=g,Ae=I&&function Ea(g){const E=g.toLowerCase();return"image/bmp"===E||"image/emf"===E||"image/exif"===E||"image/gif"===E||"image/x-icon"===E||"image/jpeg"===E||"image/png"===E||"image/tiff"===E||"image/x-wmf"===E}(W),He=this._getCSSTransform(g,Ae),gt=He?{transform:He,"image-orientation":"none"}:{},At=ge.includes("?")?"&":"?",Yt=Ae?`${ge}${At}w=${E}`:function bo(g){const E=(0,da.V)("esri/themes/base/images/files/");return g?"text/plain"===g?`${E}text-32.svg`:"application/pdf"===g?`${E}pdf-32.svg`:"text/csv"===g?`${E}csv-32.svg`:"application/gpx+xml"===g?`${E}gpx-32.svg`:"application/x-dwf"===g?`${E}cad-32.svg`:"application/postscript"===g||"application/json"===g||"text/xml"===g||"model/vrml"===g?`${E}code-32.svg`:"application/x-zip-compressed"===g||"application/x-7z-compressed"===g||"application/x-gzip"===g||"application/x-tar"===g||"application/x-gtar"===g||"application/x-bzip2"===g||"application/gzip"===g||"application/x-compress"===g||"application/x-apple-diskimage"===g||"application/x-rar-compressed"===g||"application/zip"===g?`${E}zip-32.svg`:g.includes("image/")?`${E}image-32.svg`:g.includes("audio/")?`${E}sound-32.svg`:g.includes("video/")?`${E}video-32.svg`:g.includes("msexcel")||g.includes("ms-excel")||g.includes("spreadsheetml")?`${E}excel-32.svg`:g.includes("msword")||g.includes("ms-word")||g.includes("wordprocessingml")?`${E}word-32.svg`:g.includes("powerpoint")||g.includes("presentationml")?`${E}report-32.svg`:`${E}generic-32.svg`:`${E}generic-32.svg`}(W),kn={"esri-attachments__image--resizable":I};return(0,vn.u)("div",{class:this.classes({"esri-attachments__item-mask--icon":!Ae},"esri-attachments__item-mask")},(0,vn.u)("img",{styles:gt,alt:ee,src:Yt,class:this.classes(kn,"esri-attachments__image")}))}renderAttachmentInfo({attachmentInfo:g,displayType:E}){const{viewModel:I}=this,{abilities:W}=I,{name:ee,url:ge}=g,Ae=this.renderImageMask({attachmentInfo:g,size:"list"===E?48:400}),He=W.editing?(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",(0,eo.dZ)(this.container)?"esri-icon-left":"esri-icon-right")}):null,gt=[Ae,(0,vn.u)("label",{class:"esri-attachments__label"},(0,vn.u)("span",{class:"esri-attachments__filename"},ee||this.messages.noTitle),He)],At=W.editing?(0,vn.u)("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":g.id,onclick:()=>this._startEditAttachment(g),type:"button"},gt):(0,vn.u)("a",{key:"details-link",class:"esri-attachments__item-button",href:ge,target:"_blank"},gt);return(0,vn.u)("li",{class:"esri-attachments__item",key:g},At)}renderAttachmentContainer(){const{effectiveDisplayType:g,viewModel:E,visibleElements:I}=this,{attachmentInfos:W,abilities:ee}=E,ge=W&&W.length,Ae={"esri-attachments__container--list":"preview"!==g,"esri-attachments__container--preview":"preview"===g},He=ee.editing&&ee.operations.add&&I.addButton?(0,vn.u)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary","esri-attachments__add-attachment-button"),type:"button"},(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null,gt=ge?(0,vn.u)("ul",{class:"esri-attachments__items"},W.toArray().map(At=>this.renderAttachmentInfo({attachmentInfo:At,displayType:g}))):(0,vn.u)("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return(0,vn.u)("div",{key:"attachments-container",class:this.classes("esri-attachments__container",Ae)},gt,He)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(g){const E=g.target,I=E&&E.files&&E.files.item(0);this._set("selectedFile",I)}_submitDeleteAttachment(g,E){g.preventDefault(),this.deleteAttachment(E)}_submitAddAttachment(g){g.preventDefault(),this.addAttachment()}_submitUpdateAttachment(g){g.preventDefault(),this.updateAttachment()}_startEditAttachment(g){const{viewModel:E}=this;E.activeAttachmentInfo=g,E.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(g){g.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(g,E){const{orientationInfo:I}=g;return!this._supportsImageOrientation&&E&&I?[I.rotation?`rotate(${I.rotation}deg)`:"",I.mirrored?"scaleX(-1)":""].join(" "):""}};(0,D._)([(0,hr.B)("viewModel.abilities")],lo.prototype,"abilities",void 0),(0,D._)([(0,A.Cb)()],lo.prototype,"displayType",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],lo.prototype,"effectiveDisplayType",null),(0,D._)([(0,hr.B)("viewModel.graphic")],lo.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],lo.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Attachments/t9n/Attachments")],lo.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/core/t9n/Units")],lo.prototype,"messagesUnits",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],lo.prototype,"selectedFile",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],lo.prototype,"submitting",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],lo.prototype,"error",void 0),(0,D._)([(0,A.Cb)({type:Aa})],lo.prototype,"viewModel",void 0),(0,D._)([(0,A.Cb)()],lo.prototype,"visibleElements",void 0),(0,D._)([(0,nt.p)("visibleElements")],lo.prototype,"castVisibleElements",null),lo=(0,D._)([(0,J.j)("esri.widgets.Attachments")],lo);const dl=lo;let ea=class extends Aa{constructor(g){super(g),this.description=null,this.title=null}};(0,D._)([(0,A.Cb)()],ea.prototype,"description",void 0),(0,D._)([(0,A.Cb)()],ea.prototype,"title",void 0),ea=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],ea);const $o=ea;function Vo(g,E){const I=function Xl(g){return(0,gi.uZ)(Math.ceil(g),1,6)}(g.level),W=`h${I}`;return delete g.level,(0,vn.u)(W,Wi(Nn({},g),{class:(0,eo.Sh)("esri-widget__heading",g.class),role:"heading","aria-level":String(I)}),E)}let Ca=class extends Ii.Z{constructor(g,E){super(g,E),this.description=null,this.headingLevel=2,this.title=null}render(){return(0,vn.u)("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:g}=this;return g?(0,vn.u)(Vo,{level:this.headingLevel,class:"esri-feature-element-info__title"},g):null}renderDescription(){const{description:g}=this;return g?(0,vn.u)("div",{key:"description",class:"esri-feature-element-info__description"},g):null}};(0,D._)([(0,A.Cb)()],Ca.prototype,"description",void 0),(0,D._)([(0,A.Cb)()],Ca.prototype,"headingLevel",void 0),(0,D._)([(0,A.Cb)()],Ca.prototype,"title",void 0),Ca=(0,D._)([(0,J.j)("esri.widgets.Feature.support.FeatureElementInfo")],Ca);const Ka=Ca;let Jo=class extends Ii.Z{constructor(g,E){super(g,E),this._featureElementInfo=null,this.attachmentsWidget=new dl,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new $o}initialize(){this._featureElementInfo=new Ka,this.own([(0,Ht.YP)(()=>{var g,E;return[null==(g=this.viewModel)?void 0:g.description,null==(E=this.viewModel)?void 0:E.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),Ht.nn),(0,Ht.YP)(()=>{var g;return null==(g=this.viewModel)?void 0:g.graphic},g=>this.attachmentsWidget.graphic=g,Ht.nn)])}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var E;const{attachmentsWidget:g}=this;return(0,vn.u)("div",{class:"esri-feature-attachments"},null==(E=this._featureElementInfo)?void 0:E.render(),null==g?void 0:g.render())}_setupFeatureElementInfo(){const{description:g,title:E,headingLevel:I}=this;this._featureElementInfo.set({description:g,title:E,headingLevel:I})}};(0,D._)([(0,A.Cb)({readOnly:!0})],Jo.prototype,"attachmentsWidget",void 0),(0,D._)([(0,hr.B)("viewModel.description")],Jo.prototype,"description",void 0),(0,D._)([(0,hr.B)("attachmentsWidget.displayType")],Jo.prototype,"displayType",void 0),(0,D._)([(0,hr.B)("viewModel.graphic")],Jo.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)()],Jo.prototype,"headingLevel",void 0),(0,D._)([(0,hr.B)("viewModel.title")],Jo.prototype,"title",void 0),(0,D._)([(0,A.Cb)({type:$o})],Jo.prototype,"viewModel",void 0),Jo=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureAttachments")],Jo);const Zo=Jo;var oa=p(80542);let ha=class extends((0,oa.p)(Le.Z)){constructor(g){super(g),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add((0,Ht.YP)(()=>this.creator,E=>{this._destroyContent(),this._createContent(E)},Ht.nn))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:g,graphic:E,destroyer:I}=this;g&&($i(I,{graphic:E}).catch(()=>null),this._set("created",null))}_createContent(g){var E=this;return(0,k.Z)(function*(){const{graphic:I}=E,W=$i(g,{graphic:I}).catch(()=>null);E._loadingPromise=W,E.notifyChange("state");const ee=yield W;W===E._loadingPromise&&(E._loadingPromise=null,E.notifyChange("state"),E._set("created",ee))})()}};(0,D._)([(0,A.Cb)({readOnly:!0})],ha.prototype,"created",void 0),(0,D._)([(0,A.Cb)()],ha.prototype,"creator",void 0),(0,D._)([(0,A.Cb)()],ha.prototype,"destroyer",void 0),(0,D._)([(0,A.Cb)({type:G.Z})],ha.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ha.prototype,"state",null),ha=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],ha);const pl=ha;var Ma=p(13777);let Bs=class extends Ii.Z{constructor(g,E){super(g,E),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=I=>{Array.from(I.querySelectorAll("a")).forEach(W=>{Ys(W.href)&&!W.hasAttribute("target")&&W.setAttribute("target","_blank")})}}renderLoading(){return(0,vn.u)("div",{class:"esri-feature-content__loader-container",key:"loader"},(0,vn.u)("div",{class:"esri-feature-content__loader"}))}renderCreated(){var E;const g=null==(E=this.viewModel)?void 0:E.created;return g?g instanceof HTMLElement?(0,vn.u)("div",{key:g,bind:g,afterCreate:this._attachToNode}):(0,Ma.Qd)(g)?(0,vn.u)("div",{key:g},!g.destroyed&&g.render()):(0,vn.u)("div",{key:g,innerHTML:g,afterCreate:this._addTargetToAnchors}):null}render(){var E;const g=null==(E=this.viewModel)?void 0:E.state;return(0,vn.u)("div",{class:"esri-feature-content"},"loading"===g?this.renderLoading():this.renderCreated())}_attachToNode(g){g.appendChild(this)}};(0,D._)([(0,hr.B)("viewModel.creator")],Bs.prototype,"creator",void 0),(0,D._)([(0,hr.B)("viewModel.graphic")],Bs.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)({type:pl})],Bs.prototype,"viewModel",void 0),Bs=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureContent")],Bs);const Zi=Bs;var wo=p(38439),Qs=p(25621);let fo=class extends Le.Z{constructor(g){super(g),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:g,fieldInfos:E}=this,I=[];return null==E||E.forEach(W=>{if(W.hasOwnProperty("visible")&&!W.visible)return;const ee=W.clone();ee.label=_r(ee,g),I.push(ee)}),I}};(0,D._)([(0,A.Cb)()],fo.prototype,"attributes",void 0),(0,D._)([(0,A.Cb)({type:[wo.Z]})],fo.prototype,"expressionInfos",void 0),(0,D._)([(0,A.Cb)()],fo.prototype,"description",void 0),(0,D._)([(0,A.Cb)({type:[Qs.Z]})],fo.prototype,"fieldInfos",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],fo.prototype,"formattedFieldInfos",null),(0,D._)([(0,A.Cb)()],fo.prototype,"title",void 0),fo=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],fo);const Ls=fo,aa=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];let So=class extends Ii.Z{constructor(g,E){super(g,E),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new Ls,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new Ka,this.own((0,Ht.YP)(()=>{var g,E;return[null==(g=this.viewModel)?void 0:g.description,null==(E=this.viewModel)?void 0:E.title]},()=>this._setupFeatureElementInfo(),Ht.nn))}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(g,E){const{attributes:I}=this.viewModel,W=g.fieldName,ee=g.label||W,ge=I?null==I[W]?"":I[W]:"",Ae=!(!g.format||!g.format.dateFormat),He="number"!=typeof ge||Ae?function kl(g,E){if("string"!=typeof E||!E)return E;const I=function Dl(g){let E=null;return aa.some(I=>(I.pattern.test(g)&&(E=I),!!E)),E}(E);if(!I)return E;const W=E.match(I.pattern),ge=(0,Bi.gx)((0,Bi.gx)(I.label,{messages:g,hierPart:W&&W[2]}),{appName:I.appName});return E.replace(I.pattern,`<a${I.target?` target="${I.target}"`:""} href="$1"${"_blank"===I.target?' rel="noreferrer"':""}>${ge}</a>`)}(this.messagesURIUtils,ge):this._forceLTR(ge),gt={"esri-feature-fields__field-data--date":Ae};return(0,vn.u)("tr",{key:`fields-element-info-row-${W}-${E}`},(0,vn.u)("th",{key:`fields-element-info-row-header-${W}-${E}`,class:"esri-feature-fields__field-header",innerHTML:ee}),(0,vn.u)("td",{key:`fields-element-info-row-data-${W}-${E}`,class:this.classes("esri-feature-fields__field-data",gt),innerHTML:He}))}renderFields(){const{formattedFieldInfos:g}=this.viewModel;return(null==g?void 0:g.length)?(0,vn.u)("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},(0,vn.u)("tbody",null,g.map((E,I)=>this.renderFieldInfo(E,I)))):null}render(){var g;return(0,vn.u)("div",{class:"esri-feature-fields"},null==(g=this._featureElementInfo)?void 0:g.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:g,title:E}=this;this._featureElementInfo.set({description:g,title:E})}_forceLTR(g){return`&lrm;${g}`}};(0,D._)([(0,hr.B)("viewModel.attributes")],So.prototype,"attributes",void 0),(0,D._)([(0,hr.B)("viewModel.description")],So.prototype,"description",void 0),(0,D._)([(0,hr.B)("viewModel.expressionInfos")],So.prototype,"expressionInfos",void 0),(0,D._)([(0,hr.B)("viewModel.fieldInfos")],So.prototype,"fieldInfos",void 0),(0,D._)([(0,hr.B)("viewModel.title")],So.prototype,"title",void 0),(0,D._)([(0,A.Cb)({type:Ls})],So.prototype,"viewModel",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Feature/t9n/Feature")],So.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/support/t9n/uriUtils")],So.prototype,"messagesURIUtils",void 0),So=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureFields")],So);const fl=So;var so=p(88159);const nl={maximumFractionDigits:20};p(8029);var Ko=p(86606),Vl=(p(65787),p(52068));const it=(0,ti.Ze)("short-date");const Yo=new N.Z([64,64,64]);function mo(g,E){const I=[],W=g.length-1;return 5===g.length?I.push(0,2,4):I.push(0,W),g.map((ee,ge)=>I.includes(ge)?function lt(g,E,I,W){let ee="";0===E?ee="< ":E===I&&(ee="> ");let ge=null;return ge=W?(0,ti.p6)(g,it):function Wl(g){return(0,Li.uf)(g,nl)}(g),ee+ge}(ee,ge,W,E):null)}function wa(g,E,I){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,k.Z)(function*(g,E,I){let W=!1,ee=[],ge=[];if(g.stops){const At=g.stops;ee=At.map(Yt=>Yt.value),W=At.some(Yt=>!!Yt.label),W&&(ge=At.map(Yt=>Yt.label))}if(null==ee[0]&&null==ee[ee.length-1])return null;const gt=W?null:mo(ee,I);return(yield Promise.all(ee.map(function(){var At=(0,k.Z)(function*(Yt,ln){return{value:Yt,color:"opacity"===g.type?yield zu(Yt,g,E):(yield Promise.resolve().then(p.bind(p,81808))).getColor(g,Yt),label:W?ge[ln]:gt[ln]}});return function(Yt,ln){return At.apply(this,arguments)}}()))).reverse()}),Ba.apply(this,arguments)}function zu(g,E){return yl.apply(this,arguments)}function yl(){return(yl=(0,k.Z)(function*(g,E,I=Yo){const W=new N.Z(I),ee=(yield Promise.resolve().then(p.bind(p,81808))).getOpacity(E,g);return null!=ee&&(W.a=ee),W})).apply(this,arguments)}var il=p(52372);function Go(g){if(!g.colorStops)return[];const E=[...g.colorStops].filter(W=>{var ee;return(null==(ee=W.color)?void 0:ee.a)>0});let I=E.length-1;if(E&&E[0]){const W=E[I];W&&1!==W.ratio&&(E.push(new il.Z({ratio:1,color:W.color})),I++)}return E.map((W,ee)=>{var Ae,He;let ge="";return 0===ee?ge=(null==(Ae=g.legendOptions)?void 0:Ae.minLabel)||"low":ee===I&&(ge=(null==(He=g.legendOptions)?void 0:He.maxLabel)||"high"),{color:W.color,label:ge,ratio:W.ratio}}).reverse()}function Ie(g,E,I){(0,so.s1)(g,E,()=>[]).push(...I)}function Ge(){return(Ge=(0,k.Z)(function*(g){var I,W;const E=new Map;if("visualVariables"in g&&g.visualVariables){const ee=g.visualVariables.filter(ge=>"color"===ge.type);for(const ge of ee){const Ae=ge.field||ge.valueExpression,He=(yield wa(ge)).map(gt=>gt.color);Ie(E,Ae,He)}}if("heatmap"===g.type){const ee=Go(g).map(ge=>ge.color);Ie(E,g.field,ee)}else if("pie-chart"===g.type){for(const ee of g.attributes)Ie(E,ee.field,[ee.color]);Ie(E,null,[null==(I=null==g?void 0:g.othersCategory)?void 0:I.color,(0,Ko._h)(g.backgroundFillSymbol,null)])}else if("dot-density"===g.type){for(const ee of g.attributes)Ie(E,ee.field,[ee.color]);Ie(E,null,[g.backgroundColor])}else if("unique-value"===g.type)if("predominance"===(null==(W=g.authoringInfo)?void 0:W.type))for(const ee of g.uniqueValueInfos)Ie(E,ee.value.toString(),[(0,Ko._h)(ee.symbol,null)]);else{const ee=g.uniqueValueInfos.map(At=>(0,Ko._h)(At.symbol,null)),{field:ge,field2:Ae,field3:He,valueExpression:gt}=g;(ge||gt)&&Ie(E,ge||gt,ee),Ae&&Ie(E,Ae,ee),He&&Ie(E,He,ee)}else if("class-breaks"===g.type){const ee=g.classBreakInfos.map(ge=>(0,Ko._h)(ge.symbol,null));Ie(E,g.field||g.valueExpression,ee)}else"simple"===g.type&&Ie(E,null,[(0,Ko._h)(g.symbol,null)]);return"defaultSymbol"in g&&g.defaultSymbol&&Ie(E,null,[(0,Ko._h)(g.defaultSymbol,null)]),E.forEach((ee,ge)=>{const Ae=(0,oe.Tw)(ee.filter(Boolean),(He,gt)=>JSON.stringify(He)===JSON.stringify(gt));E.set(ge,Ae)}),E})).apply(this,arguments)}R.Z.getLogger("esri.renderers.support.utils"),(0,ti.Ze)("short-date");var To=p(77891),pa=p(84792),ec=(p(15283),p(2865)),Vc=(p(82054),p(21674),p(72854),p(37118)),Al=p(55214),gu=p(13924),yc=(p(24192),p(17253),p(84952)),Lo=(p(24263),p(29132),p(67010)),_c=(p(6871),p(60776));const _u=R.Z.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),Sa=new Map;function Ja(g){if(!Xt(g))return null;const[E,I]=g.split("/").slice(1);return{layerId:E,fieldName:I}}function Gu({originRelationship:g,relationships:E,layerId:I}){let W;return E&&E.some(ee=>(`${ee.relatedTableId}`===I&&ee.id===g.id&&(W=ee),!!W)),W}function vu(g,E){const I=E.toLowerCase();for(const W in g)if(W.toLowerCase()===I)return g[W];return null}function xd(g,E,I,W){const ee=new Lo.Z;return ee.outFields=["*"],ee.relationshipId="number"==typeof E.id?E.id:parseInt(E.id,10),ee.objectIds=[g.attributes[I.objectIdField]],I.queryRelatedFeatures(ee,W)}function Rd(g,E,I){let W=0;const ee=[];for(;W<E.length;)ee.push(`${g} IN (${E.slice(W,I+W)})`),W+=I;return ee.join(" OR ")}function Hu(){return(Hu=(0,k.Z)(function*(g,E,I,W){const ee=I.layerId.toString(),{layerInfo:ge,relation:Ae,relatedFields:He,outStatistics:gt,url:At,sourceSpatialReference:Yt}=E,ln=Gu({originRelationship:Ae,relationships:ge.relationships,layerId:ee});if(ln.relationshipTableId&&ln.keyFieldInRelationshipTable){const Fn=(yield xd(g,ln,I,W))[g.attributes[I.objectIdField]];if(!Fn)return null;const Or=Fn.features.map($r=>$r.attributes[ge.objectIdField]);if((null==gt?void 0:gt.length)>0&&ge.supportsStatistics){const $r=new yc.Z;$r.where=Rd(ge.objectIdField,Or,1e3),$r.outFields=He,$r.outStatistics=gt,$r.sourceSpatialReference=Yt;const ui={features:Promise.resolve(Fn),statsFeatures:(0,ec.e)(At,$r)};return(0,U.as)(ui)}}const kn=null==ln?void 0:ln.keyField;if(kn){const Fn=(0,Ai.H7)(vc(ge.fields,kn)),Or=vu(g.attributes,Ae.keyField),$r=Fn?`${kn}=${Or}`:`${kn}='${Or}'`,ui=(0,ec.e)(At,new yc.Z({where:$r,outFields:E.relatedFields,sourceSpatialReference:Yt}),W),oi=E.outStatistics&&E.outStatistics.length>0&&ge.supportsStatistics?(0,ec.e)(At,new yc.Z({where:$r,outFields:E.relatedFields,outStatistics:E.outStatistics,sourceSpatialReference:Yt}),W):null,qi={features:ui};return oi&&(qi.statsFeatures=oi),(0,U.as)(qi)}return null})).apply(this,arguments)}function vc(g,E){if(null!=g){E=E.toLowerCase();for(const I of g)if(I&&I.name.toLowerCase()===E)return I}return null}const Zc={chartAnimation:!0};let Qo=class extends Le.Z{constructor(g){super(g),this.abilities=Nn({},Zc),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(g){return Nn(Nn({},Zc),g)}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(g){this._setContentElementMedia(g)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(g){const{formattedMediaInfoCount:E}=this;this.activeMediaInfoIndex=(g+E)%E}_pageContentElementMedia(g){const{activeMediaInfoIndex:E}=this;this._setContentElementMedia(E+g)}_formatMediaInfos(){const{attributes:g,mediaInfos:E,formattedAttributes:I,expressionAttributes:W,fieldInfoMap:ee,layer:ge}=this;return null==E?void 0:E.map(Ae=>{const He=null==Ae?void 0:Ae.clone();if(!He)return null;if(He.title=rt({attributes:g,fieldInfoMap:ee,globalAttributes:I,expressionAttributes:W,layer:ge,text:He.title}),He.caption=rt({attributes:g,fieldInfoMap:ee,globalAttributes:I,expressionAttributes:W,layer:ge,text:He.caption}),He.altText=rt({attributes:g,fieldInfoMap:ee,globalAttributes:I,expressionAttributes:W,layer:ge,text:He.altText}),"image"===He.type){const{value:gt}=He;return this._setImageValue({value:gt,formattedAttributes:I,layer:ge}),He.value.sourceURL?He:void 0}if("pie-chart"===He.type||"line-chart"===He.type||"column-chart"===He.type||"bar-chart"===He.type){const{value:gt}=He;return this._setChartValue({value:gt,chartType:He.type,attributes:g,formattedAttributes:I,layer:ge}),He}return null}).filter(Boolean)}_setImageValue(g){const{fieldInfoMap:E}=this,{value:I,formattedAttributes:W,layer:ee}=g,{linkURL:ge,sourceURL:Ae}=I;if(Ae){const He=xn(Ae,ee);I.sourceURL=Pt({formattedAttributes:W,template:He,fieldInfoMap:E})}if(ge){const He=xn(ge,ee);I.linkURL=Pt({formattedAttributes:W,template:He,fieldInfoMap:E})}}_setChartValue(g){const{value:E,attributes:I,formattedAttributes:W,chartType:ee,layer:ge}=g,{popupTemplate:Ae,relatedInfos:He}=this,{fields:gt,normalizeField:At}=E;if(E.fields=function at(g,E){return g&&g.map(I=>hn(I,E))}(gt,ge),At&&(E.normalizeField=hn(At,ge)),!gt.some(ln=>!!(null!=W[ln]||Xt(ln)&&He.size)))return;const Yt=null==Ae?void 0:Ae.fieldInfos;gt.forEach(ln=>{if(Xt(ln))return void(E.series=[...E.series,...this._getRelatedChartInfos({fieldInfos:Yt,fieldName:ln,formattedAttributes:W,chartType:ee,value:E})]);const kn=this._getChartOption({value:E,attributes:I,chartType:ee,formattedAttributes:W,fieldName:ln,fieldInfos:Yt});E.series.push(kn)})}_getRelatedChartInfos(g){var Or;const{fieldInfos:E,fieldName:I,formattedAttributes:W,chartType:ee,value:ge}=g,Ae=[],He=Ja(I),{layerId:gt,fieldName:At}=He,Yt=null==(Or=this.relatedInfos)?void 0:Or.get(gt.toString());if(!Yt)return Ae;const{relatedFeatures:ln,relation:kn}=Yt;if(!kn||!ln)return Ae;const{cardinality:Fn}=kn;return ln.forEach($r=>{const{attributes:ui}=$r;ui&&Object.keys(ui).forEach(oi=>{oi===At&&Ae.push(this._getChartOption({value:ge,attributes:ui,formattedAttributes:W,fieldName:I,chartType:ee,relatedFieldName:oi,fieldInfos:E}))})}),"one-to-many"===Fn||"many-to-many"===Fn?Ae:[Ae[0]]}_getTooltip({label:g,value:E,chartType:I}){return"pie-chart"===I?`${g}`:`${g}: ${E}`}_getChartOption(g){var es,Ns,xs,Us,to,Na;const{value:E,attributes:I,formattedAttributes:W,fieldName:ee,relatedFieldName:ge,fieldInfos:Ae,chartType:He}=g,{layer:gt,fieldInfoMap:At}=this,{normalizeField:Yt,tooltipField:ln}=E,kn=Yt?Xt(Yt)?I[Ja(Yt).fieldName]:I[Yt]:null,Fn=ge&&void 0!==I[ge]?I[ge]:void 0!==I[ee]?I[ee]:W[ee],Or=new To.Z({fieldName:ee,value:void 0===Fn?null:Fn&&kn?Fn/kn:Fn});if(Xt(ee)){const Ao=At.get(ee.toLowerCase()),Pa=At.get(ln.toLowerCase()),va=null!=(es=null==Ao?void 0:Ao.fieldName)?es:ee,Bl=null!=(to=null!=(Us=null!=(xs=W[null!=(Ns=null==Pa?void 0:Pa.fieldName)?Ns:ln])?xs:null==Ao?void 0:Ao.label)?Us:null==Ao?void 0:Ao.fieldName)?to:ge;return Or.tooltip=this._getTooltip({label:Bl,value:W[va],chartType:He}),Or}const $r=ht(Ae,ee),ui=hn(ee,gt),oi=ln&&void 0!==W[ln]?W[ln]:_r($r||new Qs.Z({fieldName:ui}),null==(Na=this.popupTemplate)?void 0:Na.expressionInfos);return Or.tooltip=this._getTooltip({label:oi,value:W[ui],chartType:He}),Or}};(0,D._)([(0,A.Cb)()],Qo.prototype,"abilities",void 0),(0,D._)([(0,nt.p)("abilities")],Qo.prototype,"castAbilities",null),(0,D._)([(0,A.Cb)()],Qo.prototype,"activeMediaInfoIndex",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Qo.prototype,"activeMediaInfo",null),(0,D._)([(0,A.Cb)()],Qo.prototype,"attributes",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"description",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"fieldInfoMap",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"formattedAttributes",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"expressionAttributes",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Qo.prototype,"formattedMediaInfos",null),(0,D._)([(0,A.Cb)()],Qo.prototype,"layer",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Qo.prototype,"formattedMediaInfoCount",null),(0,D._)([(0,A.Cb)()],Qo.prototype,"mediaInfos",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"popupTemplate",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"relatedInfos",void 0),(0,D._)([(0,A.Cb)()],Qo.prototype,"title",void 0),Qo=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Qo);const bc=Qo;var zc=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],Yu=[{name:"default",colors:[].concat(zc.slice(30,39),zc.slice(28,30).reverse())},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],Xu=p(56683);const Kc=new Map([["ar",()=>p.e(3309).then(p.bind(p,93309)).then(g=>g.a)],["bg-bg",()=>p.e(2504).then(p.bind(p,82504)).then(g=>g.b)],["bs-ba",()=>p.e(88).then(p.bind(p,88)).then(g=>g.b)],["ca-es",()=>p.e(2371).then(p.bind(p,32371)).then(g=>g.c)],["cs-cz",()=>p.e(3690).then(p.bind(p,93690)).then(g=>g.c)],["da-dk",()=>p.e(2125).then(p.bind(p,42125)).then(g=>g.d)],["de-de",()=>p.e(7396).then(p.bind(p,7396)).then(g=>g.d)],["de-ch",()=>p.e(2479).then(p.bind(p,62479)).then(g=>g.d)],["el-gr",()=>p.e(9548).then(p.bind(p,39548)).then(g=>g.e)],["en-us",()=>p.e(700).then(p.bind(p,20700)).then(g=>g.e)],["en-ca",()=>p.e(7028).then(p.bind(p,37028)).then(g=>g.e)],["es-es",()=>p.e(4824).then(p.bind(p,54824)).then(g=>g.e)],["et-ee",()=>p.e(3914).then(p.bind(p,23914)).then(g=>g.e)],["fi-fi",()=>p.e(1299).then(p.bind(p,1299)).then(g=>g.f)],["fr-fr",()=>p.e(9856).then(p.bind(p,39856)).then(g=>g.f)],["he-il",()=>p.e(4609).then(p.bind(p,24609)).then(g=>g.h)],["hr-hr",()=>p.e(7731).then(p.bind(p,87731)).then(g=>g.h)],["hu-hu",()=>p.e(7127).then(p.bind(p,57127)).then(g=>g.h)],["id-id",()=>p.e(6560).then(p.bind(p,36560)).then(g=>g.i)],["it-it",()=>p.e(7708).then(p.bind(p,67708)).then(g=>g.i)],["ja-jp",()=>p.e(6651).then(p.bind(p,36651)).then(g=>g.j)],["ko-kr",()=>p.e(7016).then(p.bind(p,7016)).then(g=>g.k)],["lt-lt",()=>p.e(5010).then(p.bind(p,5010)).then(g=>g.l)],["lv-lv",()=>p.e(2620).then(p.bind(p,92620)).then(g=>g.l)],["nb-no",()=>p.e(5237).then(p.bind(p,55237)).then(g=>g.n)],["nl-nl",()=>p.e(948).then(p.bind(p,948)).then(g=>g.n)],["pl-pl",()=>p.e(8351).then(p.bind(p,58351)).then(g=>g.p)],["pt-br",()=>p.e(6681).then(p.bind(p,86681)).then(g=>g.p)],["pt-pt",()=>p.e(8110).then(p.bind(p,48110)).then(g=>g.p)],["ro-ro",()=>p.e(8372).then(p.bind(p,78372)).then(g=>g.r)],["ru-ru",()=>p.e(8073).then(p.bind(p,88073)).then(g=>g.r)],["sk-sk",()=>p.e(7419).then(p.bind(p,7419)).then(g=>g.s)],["sl-sl",()=>p.e(1218).then(p.bind(p,11218)).then(g=>g.s)],["sr-rs",()=>p.e(5302).then(p.bind(p,85302)).then(g=>g.s)],["sv-se",()=>p.e(6079).then(p.bind(p,86079)).then(g=>g.s)],["th-th",()=>p.e(5508).then(p.bind(p,55508)).then(g=>g.t)],["tr-tr",()=>p.e(6844).then(p.bind(p,56844)).then(g=>g.t)],["uk-ua",()=>p.e(4978).then(p.bind(p,4978)).then(g=>g.u)],["vi-vn",()=>p.e(9202).then(p.bind(p,29202)).then(g=>g.v)],["zh-cn",()=>p.e(865).then(p.bind(p,70865)).then(g=>g.z)],["zh-hk",()=>p.e(3207).then(p.bind(p,3207)).then(g=>g.z)],["zh-tw",()=>p.e(3207).then(p.bind(p,3207)).then(g=>g.z)]]);function qu(g){return g?Kc.has(g.toLowerCase())?g.toLowerCase():function Cc(g){const E=g.split("-")[0].toLowerCase();let I=null;for(const W of Kc.keys())if(W.startsWith(E)){I=W;break}return I}(g)||"en-us":"en-us"}let rc,Eu;function Ud(){return(Ud=(0,k.Z)(function*(g=(0,Xu.Kd)()){if(g=qu(g),rc&&g===Eu)return rc;rc=p.e(4430).then(p.bind(p,4430)).then(E=>E.i),Eu=g;try{const[E,I]=yield Promise.all([rc,Kc.get(Eu)()]);Eu===g&&(E.am4core.options.defaultLocale=I.default),E.am4core.options.suppressWarnings=!0,E.am4core.options.autoDispose=!0}catch(E){return rc=null,Eu=null,null}return rc})).apply(this,arguments)}const Cu="calcite-theme-";function Ho(){return function Mu(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}().startsWith("dark")}const Do_mediaIcon="esri-feature-media__icon",ke="color",qe="tooltip",Ot="value",Gt="default-line-value";let on=class extends Ii.Z{constructor(g,E){var I;super(g,E),I=this,this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new bc,this.messages=null,this._getChartDependencies=function(){var W=(0,k.Z)(function*(ee){const ge=yield function Mc(){return Ud.apply(this,arguments)}(),{destroyed:Ae,viewModel:He}=I;if(Ae||!He||!ee)return;const{activeMediaInfo:gt}=He,At=yield I._getRendererColors(ge);I._renderChart({chartDiv:ee,mediaInfo:gt,chartsModule:ge,colorMap:At})});return function(ee){return W.apply(this,arguments)}}()}initialize(){this._featureElementInfo=new Ka,this.own([(0,Ht.YP)(()=>{var g,E;return[null==(g=this.viewModel)?void 0:g.activeMediaInfo,null==(E=this.viewModel)?void 0:E.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),Ht.nn),(0,Ht.YP)(()=>{var g,E;return[null==(g=this.viewModel)?void 0:g.description,null==(E=this.viewModel)?void 0:E.title]},()=>this._setupFeatureElementInfo(),Ht.nn)])}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var g;return(0,vn.u)("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(g=this._featureElementInfo)?void 0:g.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:g}=this.viewModel;return g?(0,vn.u)("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(g){const{_refreshIntervalInfo:E}=this,{activeMediaInfoIndex:I,formattedMediaInfoCount:W}=this.viewModel,{value:ee,refreshInterval:ge,altText:Ae,title:He,type:gt}=g,{sourceURL:At,linkURL:Yt}=ee,ln=Ys(Yt)?"_blank":"_self",kn="_blank"===ln?"noreferrer":"",Fn=ge?E:null,ui=(0,vn.u)("img",{alt:Ae||He,key:`media-${gt}-${I}-${W}-${Fn?Fn.timestamp:0}`,src:Fn?Fn.sourceURL:At});return(Yt?(0,vn.u)("a",{title:He,href:Yt,rel:kn,target:ln},ui):null)||ui}renderChartMediaInfo(g){const{activeMediaInfoIndex:E,formattedMediaInfoCount:I}=this.viewModel;return(0,vn.u)("div",{key:`media-${g.type}-${E}-${I}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:g}=this.viewModel;return g?"image"===g.type?this.renderImageMediaInfo(g):g.type.includes("chart")?this.renderChartMediaInfo(g):null:null}renderMediaInfo(){const{activeMediaInfo:g}=this.viewModel;if(!g)return null;const E=g.title?(0,vn.u)("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:g.title}):null,I=g.caption?(0,vn.u)("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:g.caption}):null;return(0,vn.u)("div",{key:"media-container",class:"esri-feature-media__item-container"},(0,vn.u)("div",{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),E,I)}renderMediaPageButton(g){if(this.viewModel.formattedMediaInfoCount<2)return null;const E="previous"===g,I=E?this.messages.previous:this.messages.next,W=this.classes("esri-feature-media__button",E?"esri-feature-media__previous":"esri-feature-media__next"),ee=E?this.classes(Do_mediaIcon,"esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):this.classes(Do_mediaIcon,"esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),ge=E?this.classes(Do_mediaIcon,"esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes(Do_mediaIcon,"esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return(0,vn.u)("button",{type:"button",key:E?"media-previous":"media-next",title:I,"aria-label":I,tabIndex:0,class:W,bind:this,onclick:E?this._previous:this._next},(0,vn.u)("span",{"aria-hidden":"true",class:ee}),(0,vn.u)("span",{"aria-hidden":"true",class:ge}))}_setupFeatureElementInfo(){const{description:g,title:E}=this;this._featureElementInfo.set({description:g,title:E})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRendererColors(g){var E=this;return(0,k.Z)(function*(){var Ae;const{am4core:I}=g,W=null==(Ae=E.viewModel)?void 0:Ae.layer,ee=new Map;if(!W)return ee;const ge=yield function Oe(g){return Ge.apply(this,arguments)}(W.renderer);return ge.delete(null),Array.from(ge.values()).every(He=>1===(null==He?void 0:He.length))&&(ee.set(Gt,I.color({r:50,g:50,b:50,a:1})),Array.from(ge.keys()).forEach(He=>{He&&ee.set(He,I.color(ge.get(He)[0].toCss(!0)))})),ee})()}_handleMediaKeyup(g){const E=(0,fi.kK)(g);"ArrowLeft"===E&&(g.stopPropagation(),this.viewModel.previous()),"ArrowRight"===E&&(g.stopPropagation(),this.viewModel.next())}_renderChart(g){const{abilities:E}=this.viewModel,{chartsModule:I,chartDiv:W,mediaInfo:ee,colorMap:ge}=g,{value:Ae,type:He}=ee,{am4core:gt}=I,At=function vl(g,E="default"){const I=Yu.find(W=>W.name===E);return I?I.colors.map(W=>g.color(W)):null}(gt);Ho()&&gt.useTheme(I.am4themes_dark);const ln=window.matchMedia("(prefers-reduced-motion: reduce)");E.chartAnimation&&!ln.matches?gt.useTheme(I.am4themes_animated):gt.unuseTheme(I.am4themes_animated),gt.useTheme(function Yt(Fn){Fn instanceof gt.ColorSet&&At&&(Fn.list=At)});const kn="pie-chart"===He?this._createPieChart(g):this._createXYChart(g);W.setAttribute("aria-label",ee.altText||ee.title),kn.data=Ae.series.map(Fn=>({[qe]:Fn.tooltip,[Ot]:Fn.value,[ke]:ge.get(Fn.fieldName)})).filter(Fn=>"pie-chart"!==He||Fn.value>0)}_customizeChartTooltip(g,E){g.label.wrap=!0,g.label.maxWidth=200,g.autoTextColor=!1,g.getFillFromObject=!1,g.label.fill=E.color("#ffffff"),g.background.fill=E.color({r:0,g:0,b:0,a:.7})}_createPieChart(g){const{chartDiv:E,chartsModule:I}=g,{am4core:W,am4charts:ee}=I,ge=W.create(E,ee.PieChart);ge.rtl=(0,eo.dZ)(this.container);const Ae=ge.series.push(new ee.PieSeries);return Ae.labels.template.disabled=!0,Ae.ticks.template.disabled=!0,Ae.dataFields.value=Ot,Ae.dataFields.category=qe,this._customizeChartTooltip(Ae.tooltip,W),Ae.slices.template.tooltipText=ge.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",Ae.slices.template.propertyFields.fill=ke,Ae.slices.template.propertyFields.stroke=ke,ge}_getMinSeriesValue(g){let E=0;return g.forEach(I=>E=Math.min(I.value,E)),E}_createColumnChart(g,E){const{chartsModule:I,mediaInfo:W}=E,{value:ee}=W,{am4core:ge,am4charts:Ae}=I,He=g.xAxes.push(new Ae.CategoryAxis);He.dataFields.category=qe,He.renderer.labels.template.disabled=!0,this._customizeChartTooltip(He.tooltip,ge),He.tooltip.events.on("sizechanged",()=>{He.tooltip.dy=-He.tooltip.contentHeight});const gt=g.yAxes.push(new Ae.ValueAxis),At=gt.renderer.labels.template;gt.renderer.minLabelPosition=.05,gt.renderer.maxLabelPosition=.95,gt.min=this._getMinSeriesValue(ee.series),this._customizeChartTooltip(gt.tooltip,ge),At.wrap=!0;const Yt=g.series.push(new Ae.ColumnSeries);Yt.dataFields.valueY=Ot,Yt.dataFields.categoryX=qe,Yt.columns.template.propertyFields.fill=ke,Yt.columns.template.propertyFields.stroke=ke,g.cursor=new Ae.XYCursor,ee.series.length>15&&(g.scrollbarX=new ge.Scrollbar)}_createBarChart(g,E){const{chartsModule:I,mediaInfo:W}=E,{value:ee}=W,{am4core:ge,am4charts:Ae}=I,He=g.yAxes.push(new Ae.CategoryAxis);He.dataFields.category=qe,He.renderer.inversed=!0,He.renderer.labels.template.disabled=!0,this._customizeChartTooltip(He.tooltip,ge),He.tooltip.events.on("sizechanged",()=>{He.tooltip.dx=He.tooltip.contentWidth});const gt=g.xAxes.push(new Ae.ValueAxis),At=gt.renderer.labels.template;gt.renderer.minLabelPosition=.05,gt.renderer.maxLabelPosition=.95,gt.min=this._getMinSeriesValue(ee.series),this._customizeChartTooltip(gt.tooltip,ge),At.wrap=!0;const Yt=g.series.push(new Ae.ColumnSeries);Yt.dataFields.valueX=Ot,Yt.dataFields.categoryY=qe,Yt.columns.template.propertyFields.fill=ke,Yt.columns.template.propertyFields.stroke=ke,g.cursor=new Ae.XYCursor,ee.series.length>15&&(g.scrollbarY=new ge.Scrollbar)}_createLineChart(g,E){const{chartsModule:I,mediaInfo:W,colorMap:ee}=E,{value:ge}=W,{am4core:Ae,am4charts:He}=I,gt=g.xAxes.push(new He.CategoryAxis);gt.dataFields.category=qe,gt.renderer.labels.template.disabled=!0,this._customizeChartTooltip(gt.tooltip,Ae),gt.tooltip.events.on("sizechanged",()=>{gt.tooltip.dy=-gt.tooltip.contentHeight});const At=g.yAxes.push(new He.ValueAxis),Yt=At.renderer.labels.template;At.renderer.minLabelPosition=.05,At.renderer.maxLabelPosition=.95,At.min=this._getMinSeriesValue(ge.series),this._customizeChartTooltip(At.tooltip,Ae),Yt.wrap=!0;const ln=g.series.push(new He.LineSeries);ln.dataFields.categoryX=qe,ln.dataFields.valueY=Ot,ln.strokeWidth=1;const kn=ee.get(Gt);kn&&(ln.stroke=kn);const Fn=ln.bullets.push(new He.CircleBullet);Fn.propertyFields.fill=ke,Fn.propertyFields.stroke=ke,g.cursor=new He.XYCursor,ge.series.length>15&&(g.scrollbarX=new Ae.Scrollbar)}_createXYChart(g){const{chartDiv:E,chartsModule:I,mediaInfo:W}=g,{type:ee}=W,{am4core:ge,am4charts:Ae}=I,He=ge.create(E,Ae.XYChart);return He.rtl=(0,eo.dZ)(this.container),"column-chart"===ee&&this._createColumnChart(He,g),"bar-chart"===ee&&this._createBarChart(He,g),"line-chart"===ee&&this._createLineChart(He,g),He}_clearMediaRefreshTimer(){const{_refreshTimer:g}=this;g&&(clearTimeout(g),this._refreshTimer=null)}_updateMediaInfoTimestamp(g){const E=Date.now();this._refreshIntervalInfo={timestamp:E,sourceURL:this._getImageSource(g,E)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:g}=this.viewModel;g&&"image"===g.type&&g.refreshInterval&&this._setRefreshTimeout(g)}_setRefreshTimeout(g){const{refreshInterval:E,value:I}=g;if(!E)return;const W=6e4*E;this._updateMediaInfoTimestamp(I.sourceURL);const ee=setInterval(()=>{this._updateMediaInfoTimestamp(I.sourceURL)},W);this._refreshTimer=ee}_getImageSource(g,E){const I=g.includes("?")?"&":"?",[W,ee=""]=g.split("#");return`${W}${I}timestamp=${E}${ee?"#":""}${ee}`}};(0,D._)([(0,hr.B)("viewModel.attributes")],on.prototype,"attributes",void 0),(0,D._)([(0,hr.B)("viewModel.activeMediaInfoIndex")],on.prototype,"activeMediaInfoIndex",void 0),(0,D._)([(0,hr.B)("viewModel.description")],on.prototype,"description",void 0),(0,D._)([(0,hr.B)("viewModel.fieldInfoMap")],on.prototype,"fieldInfoMap",void 0),(0,D._)([(0,hr.B)("viewModel.layer")],on.prototype,"layer",void 0),(0,D._)([(0,hr.B)("viewModel.mediaInfos")],on.prototype,"mediaInfos",void 0),(0,D._)([(0,hr.B)("viewModel.popupTemplate")],on.prototype,"popupTemplate",void 0),(0,D._)([(0,hr.B)("viewModel.relatedInfos")],on.prototype,"relatedInfos",void 0),(0,D._)([(0,hr.B)("viewModel.title")],on.prototype,"title",void 0),(0,D._)([(0,A.Cb)({type:bc})],on.prototype,"viewModel",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Feature/t9n/Feature")],on.prototype,"messages",void 0),on=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureMedia")],on);const On=on;var Ln=p(47562),rr=(p(55664),p(55013),p(16615),p(82561),p(75484)),tr=p(64531),Cr=p(501),cr=p(38159);const ar=["$datastore","$map","$layer","$aggregatedfeatures"],gr=R.Z.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function Vr(g){return"string"==typeof g?ki(ji(g)):Array.isArray(g)?function Ur(g){return`<ul class="esri-widget__list">${g.map(E=>`<li>${"string"==typeof E?ki(ji(E)):E}</li>`).join("")}</ul>`}(g):"esri.arcade.Dictionary"===(null==g?void 0:g.declaredClass)?function di(g){return`<table class="esri-widget__table">${g.keys().map(E=>{const I=g.field(E);return`<tr><th>${E}</th><td>${"string"==typeof I?ki(ji(I)):I}</td></tr>`}).join("")}</table>`}(g):g}function qr({aggregatedFeatures:g,arcadeUtils:E,featureSetVars:I,context:W,viewInfo:ee,map:ge,graphic:Ae,interceptor:He}){I.forEach(gt=>{const At=gt.toLowerCase();if("$map"===At&&(W.vars[At]=E.convertMapToFeatureSetCollection({map:ge,spatialReference:ee.sr,interceptor:He})),"$layer"===At&&(W.vars[At]=E.convertFeatureLayerToFeatureSet({layer:Ae.sourceLayer,spatialReference:ee.sr,interceptor:He})),"$datastore"===At&&(W.vars[At]=E.convertServiceUrlToWorkspace({url:Ae.sourceLayer.url,spatialReference:ee.sr,interceptor:He})),"$aggregatedfeatures"===At){const ln=Ae.layer,{fields:kn,objectIdField:Fn,geometryType:Or,spatialReference:$r,displayField:ui}=ln,oi=new z.default(Wi(Nn({fields:kn,objectIdField:Fn,geometryType:Or,spatialReference:$r,displayField:ui},"feature"===ln.type?{templates:ln.templates,typeIdField:ln.typeIdField,types:ln.types}:null),{source:g}));W.vars[At]=E.convertFeatureLayerToFeatureSet({layer:oi,spatialReference:ee.sr,interceptor:He})}})}function Pi(){return p.e(5068).then(p.bind(p,75068))}function mi(g){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*({graphic:g,view:E}){const{isAggregate:I,layer:W}=g;if(!I||!W||"2d"!==(null==E?void 0:E.type))return[];const ee=yield E.whenLayerView(W);if(!ee.createQuery||!ee.queryFeatures)return[];const ge=ee.createQuery();ge.aggregateIds=[g.getObjectId()];const{features:Ae}=yield ee.queryFeatures(ge);return Ae})).apply(this,arguments)}function ts(g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,k.Z)(function*({expressionInfo:g,arcadeUtils:E,interceptor:I,spatialReference:W,map:ee,graphic:ge,view:Ae}){if(!g||!g.expression)return null;const He=E.createSyntaxTree(g.expression),gt=ar.filter(Fn=>E.hasVariable(He,Fn)),[At]=yield Promise.all([mi({graphic:ge,view:Ae}),E.loadScriptDependencies(He,!0,gt)]),Yt=E.getViewInfo({spatialReference:W}),ln=E.createExecContext(ge,Yt);ln.interceptor=I,ln.useAsync=!0,qr({aggregatedFeatures:At,arcadeUtils:E,featureSetVars:gt,context:ln,viewInfo:Yt,map:ee,graphic:ge,interceptor:I});const kn=E.createFunction(He,ln);return E.executeAsyncFunction(kn,ln).catch(Fn=>gr.error("arcade-execution-error",{error:Fn,graphic:ge,expressionInfo:g}))})).apply(this,arguments)}function Fs(g){return ns.apply(this,arguments)}function ns(){return(ns=(0,k.Z)(function*({expressionInfos:g,spatialReference:E,graphic:I,interceptor:W,map:ee,view:ge}){if(!g||!g.length)return{};const Ae=yield Pi(),He={};for(const Yt of g)He[`expression/${Yt.name}`]=ts({expressionInfo:Yt,arcadeUtils:Ae,interceptor:W,spatialReference:E,map:ee,graphic:I,view:ge});const gt=yield(0,U.as)(He),At={};for(const Yt in gt)At[Yt]=Vr(gt[Yt].value);return At})).apply(this,arguments)}let Ri=class extends((0,oa.p)(Le.Z)){constructor(g){var E;super(g),E=this,this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:I}=this;I&&I.abort(),this._abortController=null},this._createVM=()=>{var ee,ge;const I=null==(ee=this.contentElement)?void 0:ee.type;null==(ge=this.contentElementViewModel)||ge.destroy();const W="fields"===I?new Ls:"media"===I?new bc:"text"===I?new pl:null;this._set("contentElementViewModel",W)},this._compile=(0,k.Z)(function*(){E._cancelQuery();const I=new AbortController;E._abortController=I,yield E._compileExpression(),E._abortController===I&&(E._abortController=null)}),this._compileThrottled=(0,Ui.P)(this._compile,1,this),this._compileExpression=(0,k.Z)(function*(){const{expressionInfo:I,graphic:W,interceptor:ee,spatialReference:ge,map:Ae,view:He,_abortController:gt}=E;if(!(I&&W&&ge&&Ae))return void E._set("contentElement",null);const At=yield Pi();if(gt!==E._abortController)return;const Yt=yield ts({arcadeUtils:At,expressionInfo:I,graphic:W,interceptor:ee,map:Ae,spatialReference:ge,view:He});if(!Yt||"esri.arcade.Dictionary"!==Yt.declaredClass)return void E._set("contentElement",null);const ln=yield(0,Ln.d)(Yt,gt.signal),kn=null==ln?void 0:ln.type,Fn="media"===kn?tr.Z.fromJSON(ln):"text"===kn?Cr.Z.fromJSON(ln):"fields"===kn?rr.Z.fromJSON(ln):null;E._set("contentElement",Fn)}),this.handles.add([(0,Ht.YP)(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),Ht.nn),(0,Ht.YP)(()=>[this.contentElement],()=>this._createVM(),Ht.nn)])}destroy(){var g;this._cancelQuery(),null==(g=this.contentElementViewModel)||g.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var g;return(null==(g=this.view)?void 0:g.spatialReference)||null}set spatialReference(g){void 0!==g?this._override("spatialReference",g):this._clearOverride("spatialReference")}get state(){const{_abortController:g,contentElement:E,contentElementViewModel:I}=this;return g?"loading":E||I?"ready":"disabled"}get map(){var g;return(null==(g=this.view)?void 0:g.map)||null}set map(g){void 0!==g?this._override("map",g):this._clearOverride("map")}};(0,D._)([(0,A.Cb)()],Ri.prototype,"_abortController",void 0),(0,D._)([(0,A.Cb)({type:cr.Z})],Ri.prototype,"expressionInfo",void 0),(0,D._)([(0,A.Cb)({type:G.Z})],Ri.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Ri.prototype,"contentElement",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Ri.prototype,"contentElementViewModel",void 0),(0,D._)([(0,A.Cb)()],Ri.prototype,"interceptor",void 0),(0,D._)([(0,A.Cb)()],Ri.prototype,"spatialReference",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Ri.prototype,"state",null),(0,D._)([(0,A.Cb)()],Ri.prototype,"map",null),(0,D._)([(0,A.Cb)()],Ri.prototype,"view",void 0),Ri=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Ri);const sr=Ri;let xr=class extends Ii.Z{constructor(g,E){super(g,E),this.viewModel=new sr}initialize(){this.own((0,Ht.YP)(()=>{var g;return null==(g=this.viewModel)?void 0:g.contentElementViewModel},()=>this._setupExpressionWidget(),Ht.nn))}destroy(){this._destroyContentWidget()}renderLoading(){return(0,vn.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,vn.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){var E;const{state:g}=this.viewModel;return(0,vn.u)("div",{class:"esri-feature-expression"},"loading"===g?this.renderLoading():"disabled"===g?null:null==(E=this._contentWidget)?void 0:E.render())}_destroyContentWidget(){const{_contentWidget:g}=this;g&&(g.viewModel=null,g.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:g,contentElement:E}=this.viewModel,I=null==E?void 0:E.type;this._destroyContentWidget();const W=g?"fields"===I?new fl({viewModel:g}):"media"===I?new On({viewModel:g}):"text"===I?new Zi({viewModel:g}):null:null;this._contentWidget=W,this.scheduleRender()}};(0,D._)([(0,A.Cb)({type:sr})],xr.prototype,"viewModel",void 0),xr=(0,D._)([(0,J.j)("esri.widgets.Feature.FeatureExpression")],xr);const ci=xr;var Mi;const ai="content-view-models",Ti="esri.widgets.FeatureViewModel",Gi=R.Z.getLogger(Ti),as={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let zr=Mi=class extends Le.Z{constructor(g){super(g),this._handles=new Bt.Z,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=(0,Ui.P)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=Nn({},as),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=E=>{const{abilities:I}=this;return"attachments"===E.type&&I.attachmentsContent||"custom"===E.type&&I.customContent||"fields"===E.type&&I.fieldsContent||"media"===E.type&&I.mediaContent||"text"===E.type&&I.textContent||"expression"===E.type&&I.expressionContent},this._handles.add((0,Ht.YP)(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this.graphicChangedThrottled(),Ht.nn))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return(0,Re.pC)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function mr(g,E){const I=new Map;return g&&g.forEach(W=>{const ee=hn(W.fieldName,E);W.fieldName=ee,I.set(ee.toLowerCase(),W)}),I}(ri(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return qs(this.graphic)}castAbilities(g){return Nn(Nn({},as),g)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(g){this._set("graphic",g?g.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(g){void 0!==g?this._override("spatialReference",g):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(g){void 0!==g?this._override("map",g):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(g,E){const I=this.contentViewModels[g];I instanceof bc&&I.setActiveMedia(E)}nextMedia(g){const E=this.contentViewModels[g];E instanceof bc&&E.next()}previousMedia(g){const E=this.contentViewModels[g];E instanceof bc&&E.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){var g=this;return(0,k.Z)(function*(){g._cancelFeatureQuery(),g._error=null,g._clear();const{graphic:E}=g;if(!E)return;const I=new AbortController;g._featureAbortController=I;try{yield g._queryFeature({signal:I.signal})}catch(W){(0,U.D_)(W)||(g._error=W,Gi.error("error","The popupTemplate could not be displayed for this feature.",{error:W,graphic:E,popupTemplate:g._effectivePopupTemplate}))}g._featureAbortController===I&&(g._featureAbortController=null)})()}_cancelFeatureQuery(){const{_featureAbortController:g}=this;g&&g.abort(),this._featureAbortController=null}_compileContentElement(g,E){return"attachments"===g.type?this._compileAttachments(g,E):"custom"===g.type?this._compileCustom(g,E):"fields"===g.type?this._compileFields(g,E):"media"===g.type?this._compileMedia(g,E):"text"===g.type?this._compileText(g,E):"expression"===g.type?this._compileExpression(g,E):void 0}_compileContent(g){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(g)?g.filter(this._isAllowedContentType).map((E,I)=>this._compileContentElement(E,I)):"string"==typeof g?this._compileText(new Cr.Z({text:g}),0).text:g}_destroyContentViewModels(){var g;null==(g=this._handles)||g.remove(ai),this.contentViewModels.forEach(E=>E&&!E.destroyed&&E.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(g,E){const{formattedAttributes:I}=this,{contentElement:W,contentElementViewModel:ee}=g,ge=null==W?void 0:W.type;ee&&ge&&("fields"===ge&&(this._createFieldsFormattedAttributes({contentElement:W,contentElementIndex:E,formattedAttributes:I}),ee.set(this._createFieldsVMParams(W,E))),"media"===ge&&(this._createMediaFormattedAttributes({contentElement:W,contentElementIndex:E,formattedAttributes:I}),ee.set(this._createMediaVMParams(W,E))),"text"===ge&&ee.set(this._createTextVMParams(W)))}_compileExpression(g,E){const{expressionInfo:I}=g,{graphic:W,map:ee,spatialReference:ge,view:Ae}=this,He=new sr({expressionInfo:I,graphic:W,interceptor:Mi.interceptor,map:ee,spatialReference:ge,view:Ae});return this.contentViewModels[E]=He,this._handles.add((0,Ht.YP)(()=>He.contentElementViewModel,()=>this._setExpressionContentVM(He,E),Ht.nn),ai),g}_compileAttachments(g,E){const{graphic:I}=this,{description:W,title:ee}=g;return this.contentViewModels[E]=new $o(Nn({graphic:I},this._compileTitleAndDesc({title:ee,description:W}))),g}_compileCustom(g,E){const{graphic:I}=this,{creator:W,destroyer:ee}=g;return this.contentViewModels[E]=new pl({graphic:I,creator:W,destroyer:ee}),g}_compileTitleAndDesc({title:g,description:E}){const{_fieldInfoMap:I,_sourceLayer:W,graphic:ee,formattedAttributes:ge,_expressionAttributes:Ae}=this,{attributes:He}=ee,gt=ge.global;return{title:rt({attributes:He,fieldInfoMap:I,globalAttributes:gt,expressionAttributes:Ae,layer:W,text:g}),description:rt({attributes:He,fieldInfoMap:I,globalAttributes:gt,expressionAttributes:Ae,layer:W,text:E})}}_createFieldsVMParams(g,E){var At;const{_effectivePopupTemplate:I,formattedAttributes:W}=this,ee=Nn(Nn({},W.global),W.content[E]),ge=null==(At=(null==g?void 0:g.fieldInfos)||(null==I?void 0:I.fieldInfos))?void 0:At.filter(({fieldName:Yt})=>_o(Yt)||Xt(Yt)||ee.hasOwnProperty(Yt)),Ae=null==I?void 0:I.expressionInfos,{description:He,title:gt}=g;return Nn({attributes:ee,expressionInfos:Ae,fieldInfos:ge},this._compileTitleAndDesc({title:gt,description:He}))}_compileFields(g,E){const I=g.clone(),W=new Ls(this._createFieldsVMParams(g,E));return this.contentViewModels[E]=W,I.fieldInfos=W.formattedFieldInfos.slice(0),I}_createMediaVMParams(g,E){const{abilities:I,graphic:W,_fieldInfoMap:ee,formattedAttributes:ge,_effectivePopupTemplate:Ae,relatedInfos:He,_sourceLayer:gt,_expressionAttributes:At}=this,{attributes:Yt}=W,{description:ln,mediaInfos:kn,title:Fn}=g;return Nn({abilities:{chartAnimation:I.chartAnimation},activeMediaInfoIndex:g.activeMediaInfoIndex||0,attributes:Yt,layer:gt,fieldInfoMap:ee,formattedAttributes:Nn(Nn({},ge.global),ge.content[E]),expressionAttributes:At,mediaInfos:kn,popupTemplate:Ae,relatedInfos:He},this._compileTitleAndDesc({title:Fn,description:ln}))}_compileMedia(g,E){const I=g.clone(),W=new bc(this._createMediaVMParams(g,E));return I.mediaInfos=W.formattedMediaInfos.slice(0),this.contentViewModels[E]=W,I}_createTextVMParams(g){const{graphic:E,_fieldInfoMap:I,_sourceLayer:W,_expressionAttributes:ee}=this;if(g&&g.text){const{attributes:ge}=E;g.text=rt({attributes:ge,fieldInfoMap:I,globalAttributes:this.formattedAttributes.global,expressionAttributes:ee,layer:W,text:g.text})}return{graphic:E,creator:g.text}}_compileText(g,E){const I=g.clone();return this.contentViewModels[E]=new pl(this._createTextVMParams(I)),I}_compileLastEditInfo(){const{_effectivePopupTemplate:g,_sourceLayer:E,graphic:I}=this;if(!g)return;const{lastEditInfoEnabled:W}=g,ee=null==E?void 0:E.editFieldsInfo;return W&&ee?function Jn(g,E){const{creatorField:I,creationDateField:W,editorField:ee,editDateField:ge}=g;if(!E)return;const Ae=E[ge];if("number"==typeof Ae){const gt=E[ee];return{type:"edit",date:(0,ti.p6)(Ae,po),user:gt}}const He=E[W];if("number"==typeof He){const gt=E[I];return{type:"create",date:(0,ti.p6)(He,po),user:gt}}return null}(ee,I.attributes):void 0}_compileTitle(g){const{_fieldInfoMap:E,_sourceLayer:I,graphic:W,_expressionAttributes:ee}=this,{attributes:ge}=W;return rt({attributes:ge,fieldInfoMap:E,globalAttributes:this.formattedAttributes.global,expressionAttributes:ee,layer:I,text:g})}_getTitle(){var g=this;return(0,k.Z)(function*(){const{_effectivePopupTemplate:E,graphic:I}=g;return $i(null==E?void 0:E.title,{graphic:I})})()}_getContent(){var g=this;return(0,k.Z)(function*(){const{_effectivePopupTemplate:E,graphic:I}=g;return $i(null==E?void 0:E.content,{graphic:I})})()}_queryFeature(g){var E=this;return(0,k.Z)(function*(){const{_featureAbortController:I,_sourceLayer:W,graphic:ee,_effectivePopupTemplate:ge,spatialReference:Ae,map:He,view:gt}=E,{content:{value:At},title:{value:Yt}}=yield(0,U.as)({content:E._getContent(),title:E._getTitle()});if(I!==E._featureAbortController||!ee)return;yield function Et(g,E){return dt.apply(this,arguments)}({graphic:ee,popupTemplate:ge,layer:W,spatialReference:Ae},g);const{expressionAttributes:{value:ln}}=yield(0,U.as)({checkForRelatedFeatures:E._checkForRelatedFeatures(g),expressionAttributes:Fs({expressionInfos:null==ge?void 0:ge.expressionInfos,spatialReference:Ae,graphic:ee,map:He,interceptor:Mi.interceptor,view:gt})});I===E._featureAbortController&&ee&&(E._expressionAttributes=ln,E._graphicExpressionAttributes=Nn(Nn({},ee.attributes),ln),E._set("formattedAttributes",E._createFormattedAttributes(At)),E._set("title",E._compileTitle(Yt)),E._set("lastEditInfo",E._compileLastEditInfo()||null),E._set("content",E._compileContent(At)||null))})()}_createMediaFormattedAttributes({contentElement:g,contentElementIndex:E,formattedAttributes:I}){const{_effectivePopupTemplate:W,graphic:ee,relatedInfos:ge,_sourceLayer:Ae,_fieldInfoMap:He,_graphicExpressionAttributes:gt}=this;I.content[E]=os({fieldInfos:null==W?void 0:W.fieldInfos,graphic:ee,attributes:Nn(Nn({},gt),g.attributes),layer:Ae,fieldInfoMap:He,relatedInfos:ge})}_createFieldsFormattedAttributes({contentElement:g,contentElementIndex:E,formattedAttributes:I}){if(g.fieldInfos){const{graphic:W,relatedInfos:ee,_sourceLayer:ge,_fieldInfoMap:Ae,_graphicExpressionAttributes:He}=this;I.content[E]=os({fieldInfos:g.fieldInfos,graphic:W,attributes:Nn(Nn({},He),g.attributes),layer:ge,fieldInfoMap:Ae,relatedInfos:ee})}}_createFormattedAttributes(g){const{_effectivePopupTemplate:E,graphic:I,relatedInfos:W,_sourceLayer:ee,_fieldInfoMap:ge,_graphicExpressionAttributes:Ae}=this,gt={global:os({fieldInfos:null==E?void 0:E.fieldInfos,graphic:I,attributes:Ae,layer:ee,fieldInfoMap:ge,relatedInfos:W}),content:[]};return Array.isArray(g)&&g.forEach((At,Yt)=>{"fields"===At.type&&this._createFieldsFormattedAttributes({contentElement:At,contentElementIndex:Yt,formattedAttributes:gt}),"media"===At.type&&this._createMediaFormattedAttributes({contentElement:At,contentElementIndex:Yt,formattedAttributes:gt})}),gt}_checkForRelatedFeatures(g){const{graphic:E,_effectivePopupTemplate:I}=this;return this._queryRelatedInfos(E,ri(I),g)}_queryRelatedInfos(g,E,I){var W=this;return(0,k.Z)(function*(){const{relatedInfos:ee,_sourceLayer:ge}=W;ee.clear();const Ae=(0,Re.pC)(ge.associatedLayer)?yield ge.associatedLayer.load(I):ge;if(!Ae)return;const He=E.filter(Yt=>Yt&&Xt(Yt.fieldName));if(!He||!He.length)return;E.forEach(Yt=>W._configureRelatedInfo(Yt,Ae));const gt=yield function Ju({relatedInfos:g,layer:E},I){const W={};return g.forEach((ee,ge)=>{const{relation:Ae}=ee;if(!Ae){const ln=new te.Z("relation-required","A relation is required on a layer to retrieve related records.");throw _u.error(ln),ln}const{relatedTableId:He}=Ae;if("number"!=typeof He){const ln=new te.Z("A related table ID is required on a layer to retrieve related records.");throw _u.error(ln),ln}const gt=`${E.url}/${He}`,At=Sa.get(gt),Yt=At||function Va(g,E){return(0,pa.default)(g,{query:{f:"json"},signal:E&&E.signal})}(gt,I);At||Sa.set(gt,Yt),W[ge]=Yt}),(0,U.as)(W)}({relatedInfos:ee,layer:Ae},I);Object.keys(gt).forEach(Yt=>{var Fn;const ln=ee.get(Yt.toString()),kn=null==(Fn=gt[Yt])?void 0:Fn.value;ln&&kn&&(ln.layerInfo=kn.data)});const At=yield function bu({graphic:g,relatedInfos:E,layer:I},W){const ee={};return E.forEach((ge,Ae)=>{ge.layerInfo&&(ee[Ae]=function Ld(g,E,I,W){return Hu.apply(this,arguments)}(g,ge,I,W))}),(0,U.as)(ee)}({graphic:g,relatedInfos:ee,layer:Ae},I);Object.keys(At).forEach(Yt=>{var ln;!function Ya(g,E){if(!E||!g)return;const{features:I,statsFeatures:W}=g,ee=I&&I.value;E.relatedFeatures=ee?ee.features:[];const ge=W&&W.value;E.relatedStatsFeatures=ge?ge.features:[]}(null==(ln=At[Yt])?void 0:ln.value,ee.get(Yt.toString()))})})()}_configureRelatedInfo(g,E){const{relatedInfos:I}=this,W=Ja(g.fieldName);if(!W)return;const{layerId:ee,fieldName:ge}=W;if(!ee)return;const Ae=I.get(ee.toString())||function Ad(g,E){const I=function Ku(g,E){if(!E.relationships)return null;let I=null;const{relationships:W}=E;return W.some(ee=>ee.id===parseInt(g,10)&&(I=ee,!0)),I}(g,E);if(I)return{url:`${E.url}/${I.relatedTableId}`,sourceSpatialReference:E.spatialReference,relation:I,relatedFields:[],outStatistics:[]}}(ee,E);Ae&&(function nc({relatedInfo:g,fieldName:E,fieldInfo:I}){if(g.relatedFields.push(E),I.statisticType){const W=new _c.Z({statisticType:I.statisticType,onStatisticField:E,outStatisticFieldName:E});g.outStatistics.push(W)}}({relatedInfo:Ae,fieldName:ge,fieldInfo:g}),this.relatedInfos.set(ee,Ae))}};zr.interceptor=new class ii{constructor(E,I){this.preLayerQueryCallback=E,this.preRequestCallback=I,this.preLayerQueryCallback||(this.preLayerQueryCallback=W=>{}),this.preRequestCallback||(this.preLayerQueryCallback=W=>{})}}(({query:g,layer:E,method:I})=>{ja({layer:E,method:I,query:g,definitionExpression:`${E.definitionExpression} ${E.serviceDefinitionExpression}`})},({queryPayload:g,layer:E,method:I})=>{ja({layer:E,method:I,query:g,definitionExpression:`${E.definitionExpression} ${E.serviceDefinitionExpression}`})}),(0,D._)([(0,A.Cb)()],zr.prototype,"_error",void 0),(0,D._)([(0,A.Cb)()],zr.prototype,"_featureAbortController",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"_effectivePopupTemplate",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"_fieldInfoMap",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"_sourceLayer",null),(0,D._)([(0,A.Cb)()],zr.prototype,"abilities",void 0),(0,D._)([(0,nt.p)("abilities")],zr.prototype,"castAbilities",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"content",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"contentViewModels",void 0),(0,D._)([(0,A.Cb)({type:Boolean})],zr.prototype,"defaultPopupTemplateEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"state",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"formattedAttributes",void 0),(0,D._)([(0,A.Cb)({type:G.Z,value:null})],zr.prototype,"graphic",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"lastEditInfo",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"relatedInfos",void 0),(0,D._)([(0,A.Cb)()],zr.prototype,"spatialReference",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"title",void 0),(0,D._)([(0,A.Cb)()],zr.prototype,"map",null),(0,D._)([(0,A.Cb)({readOnly:!0})],zr.prototype,"waitingForContent",null),(0,D._)([(0,A.Cb)()],zr.prototype,"view",void 0),zr=Mi=(0,D._)([(0,J.j)(Ti)],zr);const Ss=zr,go=g=>{let E=class extends g{constructor(){super(...arguments),this.renderNodeContent=I=>(0,Ma.Qd)(I)&&!I.destroyed?(0,vn.u)("div",{key:I},I.render()):I instanceof HTMLElement?(0,vn.u)("div",{key:I,bind:I,afterCreate:this._attachToNode}):(0,Ma.o)(I)?(0,vn.u)("div",{key:I,bind:I.domNode,afterCreate:this._attachToNode}):null}_attachToNode(I){I.appendChild(this)}};return E=(0,D._)([(0,J.j)("esri.widgets.Feature.ContentMixin")],E),E};var Po=p(97059);const zi_contentElement="esri-feature__content-element",vs={title:!0,content:!0,lastEditedInfo:!0};let ys=class extends(go(Ii.Z)){constructor(g,E){super(g,E),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=Nn({},vs),this.map=null,this.view=null,this.viewModel=new Ss}initialize(){this.own((0,Ht.YP)(()=>{var g;return null==(g=this.viewModel)?void 0:g.contentViewModels},()=>this._setupContentWidgets(),Ht.nn))}loadDependencies(){return Promise.all([p.e(8592),p.e(3056)]).then(p.bind(p,83056))}destroy(){this._destroyContentWidgets()}castVisibleElements(g){return Nn(Nn({},vs),g)}render(){const{state:g}=this.viewModel,E=(0,vn.u)("div",{class:"esri-feature__size-container",key:"container"},this.renderTitle(),"error"===g?this.renderError():"loading"===g?this.renderLoading():this.renderContentContainer());return(0,vn.u)("div",{class:this.classes("esri-feature","esri-widget")},E)}setActiveMedia(g,E){this.viewModel.setActiveMedia(g,E)}nextMedia(g){this.viewModel.nextMedia(g)}previousMedia(g){this.viewModel.previousMedia(g)}renderError(){const{messagesCommon:g,messages:E,visibleElements:I}=this;return(0,vn.u)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},I.title?(0,vn.u)("div",{key:"error-title",slot:"title"},g.errorMessage):null,(0,vn.u)("div",{key:"error-message",slot:"message"},E.loadingError))}renderLoading(){return(0,vn.u)("div",{key:"loading-container",class:"esri-feature__loading-container"},(0,vn.u)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}renderContentContainer(){const{visibleElements:g}=this;return g.content?(0,vn.u)("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:g,title:E}=this;return g.title?(0,vn.u)(Vo,{level:this.headingLevel,class:"esri-feature__title",innerHTML:E}):null}renderContent(){const g=this.viewModel.content,E="content";if(!g)return null;if(Array.isArray(g))return g.length?(0,vn.u)("div",{key:`${E}-content-elements`},g.map(this.renderContentElement,this)):null;if("string"==typeof g){const I=this._contentWidgets[0];return!I||I.destroyed?null:(0,vn.u)("div",{key:`${E}-content`},I.render())}return this.renderNodeContent(g)}renderContentElement(g,E){const{visibleElements:I}=this;if("boolean"!=typeof I.content&&!I.content[g.type])return null;switch(g.type){case"attachments":return this.renderAttachments(E);case"custom":return this.renderCustom(g,E);case"fields":return this.renderFields(E);case"media":return this.renderMedia(E);case"text":return this.renderText(g,E);case"expression":return this.renderExpression(E);default:return null}}renderAttachments(g){const E=this._contentWidgets[g];if(!E||E.destroyed)return null;const{state:I,attachmentInfos:W}=E.viewModel;return"loading"===I||W.length>0?(0,vn.u)("div",{key:this._buildKey("attachments-element",g),class:this.classes(zi_contentElement)},E.render()):null}renderExpression(g){const E=this._contentWidgets[g];return!E||E.destroyed?null:(0,vn.u)("div",{key:this._buildKey("expression-element",g),class:zi_contentElement},E.render())}renderCustom(g,E){const{creator:I}=g,W=this._contentWidgets[E];return!W||W.destroyed?null:I?(0,vn.u)("div",{key:this._buildKey("custom-element",E),class:zi_contentElement},W.render()):null}renderFields(g){const E=this._contentWidgets[g];return!E||E.destroyed?null:(0,vn.u)("div",{key:this._buildKey("fields-element",g),class:zi_contentElement},E.render())}renderMedia(g){const E=this._contentWidgets[g];return!E||E.destroyed?null:(0,vn.u)("div",{key:this._buildKey("media-element",g),class:zi_contentElement},E.render())}renderLastEditInfo(){const{visibleElements:g,messages:E}=this,{lastEditInfo:I}=this.viewModel;if(!I||!g.lastEditedInfo)return null;const{date:W,user:ee}=I,Ae=(0,Po.n)("edit"===I.type?ee?E.lastEditedByUser:E.lastEdited:ee?E.lastCreatedByUser:E.lastCreated,{date:W,user:ee});return(0,vn.u)("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",zi_contentElement)},Ae)}renderText(g,E){const W=this._contentWidgets[E];return!W||W.destroyed?null:g.text?(0,vn.u)("div",{key:this._buildKey("text-element",E),class:this.classes(zi_contentElement,"esri-feature__text")},W.render()):null}_buildKey(g,...E){return`${g}__${this.get("viewModel.graphic.uid")||"0"}-${E.join("-")}`}_destroyContentWidget(g){g&&(g.viewModel=null,!g.destroyed&&g.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(g=>this._destroyContentWidget(g)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:g,visibleElements:E}=this,I=this.get("viewModel.content"),{contentViewModels:W}=this.viewModel;if(Array.isArray(I))I.forEach((ee,ge)=>{"attachments"===ee.type&&(this._contentWidgets[ge]=new Zo({displayType:ee.displayType,headingLevel:E.title?g+1:g,viewModel:W[ge]})),"fields"===ee.type&&(this._contentWidgets[ge]=new fl({viewModel:W[ge]})),"media"===ee.type&&(this._contentWidgets[ge]=new On({viewModel:W[ge]})),"text"===ee.type&&(this._contentWidgets[ge]=new Zi({viewModel:W[ge]})),"custom"===ee.type&&(this._contentWidgets[ge]=new Zi({viewModel:W[ge]})),"expression"===ee.type&&(this._contentWidgets[ge]=new ci({viewModel:W[ge]}))},this);else{const ee=W[0];ee&&!ee.destroyed&&(this._contentWidgets[0]=new Zi({viewModel:ee}))}this.scheduleRender()}};(0,D._)([(0,hr.B)("viewModel.graphic")],ys.prototype,"graphic",void 0),(0,D._)([(0,hr.B)("viewModel.defaultPopupTemplateEnabled")],ys.prototype,"defaultPopupTemplateEnabled",void 0),(0,D._)([(0,A.Cb)()],ys.prototype,"headingLevel",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ys.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Feature/t9n/Feature")],ys.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],ys.prototype,"messagesCommon",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/support/t9n/uriUtils")],ys.prototype,"messagesURIUtils",void 0),(0,D._)([(0,hr.B)("viewModel.spatialReference")],ys.prototype,"spatialReference",void 0),(0,D._)([(0,hr.B)("viewModel.title")],ys.prototype,"title",void 0),(0,D._)([(0,A.Cb)()],ys.prototype,"visibleElements",void 0),(0,D._)([(0,nt.p)("visibleElements")],ys.prototype,"castVisibleElements",null),(0,D._)([(0,hr.B)("viewModel.map")],ys.prototype,"map",void 0),(0,D._)([(0,hr.B)("viewModel.view")],ys.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:Ss})],ys.prototype,"viewModel",void 0),ys=(0,D._)([(0,J.j)("esri.widgets.Feature")],ys);const Eo=ys;var zo;const Bo=Symbol("anchorHandles");let Ra=class extends _e.Z.EventedAccessor{constructor(g){super(g),this[zo]=new Bt.Z,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[Bo].add([(0,Ht.gx)(()=>(0,Re.yw)(this.screenLocationEnabled?this.view:null,E=>[E.size,"3d"===E.type?E.camera:E.viewpoint]),()=>this.notifyChange("screenLocation")),(0,Ht.YP)(()=>this.screenLocation,(E,I)=>{(0,Re.pC)(E)&&(0,Re.pC)(I)&&this.emit("view-change")})])}destroy(){this.view=null,this[Bo]=(0,Re.SC)(this[Bo])}get screenLocation(){const{location:g,view:E,screenLocationEnabled:I}=this;return I&&(0,Re.pC)(g)&&(0,Re.pC)(E)&&E.ready?E.toScreen(g):null}};zo=Bo,(0,D._)([(0,A.Cb)()],Ra.prototype,"location",void 0),(0,D._)([(0,A.Cb)()],Ra.prototype,"screenLocation",null),(0,D._)([(0,A.Cb)()],Ra.prototype,"screenLocationEnabled",void 0),(0,D._)([(0,A.Cb)()],Ra.prototype,"view",void 0),Ra=(0,D._)([(0,J.j)("esri.widgets.support.AnchorElementViewModel")],Ra);const sl=Ra;let bl=class extends sl{constructor(g){super(g),this.visible=!1}};(0,D._)([(0,A.Cb)()],bl.prototype,"visible",void 0),bl=(0,D._)([(0,J.j)("esri.widgets.CompassViewModel")],bl);const Gc=bl;let wc=class extends Ii.Z{constructor(g,E){super(g,E),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new Gc,this.visible=!1}initialize(){this.own([(0,Ht.YP)(()=>this.visible,g=>this._visibleChange(g))])}destroy(){this._animationPromise=null}show(g){const{location:E,promise:I}=g;E&&(this.viewModel.location=E),this.visible=!0,I&&I.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:g}=this,{screenLocation:E}=this.viewModel,I=!!E,ge={"esri-spinner--start":g&&I,"esri-spinner--finish":!g&&I},Ae=this._getPositionStyles();return(0,vn.u)("div",{class:this.classes("esri-spinner",ge),styles:Ae})}_visibleChange(g){if(g)return void(this.viewModel.screenLocationEnabled=!0);const E=(0,U.e4)(this._animationDelay);this._animationPromise=E,E.catch(()=>{}).then(()=>{this._animationPromise===E&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:g,view:E}=this.viewModel;if((0,Re.Wi)(E)||(0,Re.Wi)(g))return{};const{padding:I}=E;return{left:g.x-I.left+"px",top:g.y-I.top+"px"}}};(0,D._)([(0,hr.B)("viewModel.location")],wc.prototype,"location",void 0),(0,D._)([(0,hr.B)("viewModel.view")],wc.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:Gc})],wc.prototype,"viewModel",void 0),(0,D._)([(0,hr.B)("viewModel.visible")],wc.prototype,"visible",void 0),wc=(0,D._)([(0,J.j)("esri.widgets.Spinner")],wc);const Lp=wc;var Hc=p(46367),zf=p(44917),E0=p(59397),Jc=p(48753),td=p(10671);function Qh(g){return g&&"opacity"in g?g.opacity*Qh(g.parent):1}function Xh(){return(Xh=(0,k.Z)(function*(g,E){var ui;if(!g)return;const I=g.sourceLayer,W=null!=(ui=(0,Re.pC)(E)&&E.useSourceLayer?I:g.layer)?ui:I,ee=Qh(W);if((0,Re.pC)(g.symbol)&&(!(0,Re.pC)(E)||!0!==E.ignoreGraphicSymbol)){const oi="web-style"===g.symbol.type?yield g.symbol.fetchSymbol(Wi(Nn({},E),{cache:(0,Re.pC)(E)?E.webStyleCache:null})):g.symbol.clone();return(0,Ko.tb)(oi,null,ee),oi}const ge=(0,Re.pC)(E)&&E.renderer||W&&"renderer"in W&&W.renderer;let Ae=ge&&"getSymbolAsync"in ge?yield ge.getSymbolAsync(g,E):null;if(!Ae)return;if(Ae="web-style"===Ae.type?yield Ae.fetchSymbol(Wi(Nn({},E),{cache:(0,Re.pC)(E)?E.webStyleCache:null})):Ae.clone(),!("visualVariables"in ge)||!ge.visualVariables||!ge.visualVariables.length)return(0,Ko.tb)(Ae,null,ee),Ae;if("arcadeRequiredForVisualVariables"in ge&&ge.arcadeRequiredForVisualVariables&&((0,Re.Wi)(E)||(0,Re.Wi)(E.arcade))){const oi=Nn({},(0,Re.Wg)(E));oi.arcade=yield(0,Ni.LC)(),E=oi}const He=yield Promise.resolve().then(p.bind(p,81808)),gt=[],At=[],Yt=[],ln=[];for(const oi of ge.visualVariables)switch(oi.type){case"color":gt.push(oi);break;case"opacity":At.push(oi);break;case"rotation":ln.push(oi);break;case"size":oi.target||Yt.push(oi)}const kn=!!gt.length&&gt[gt.length-1],Fn=kn?He.getColor(kn,g,E):null,Or=!!At.length&&At[At.length-1];let $r=Or?He.getOpacity(Or,g,E):null;if(null!=ee&&($r=null!=$r?$r*ee:ee),(0,Ko.tb)(Ae,Fn,$r),Yt.length){const oi=He.getAllSizes(Yt,g,E);yield(0,Ko.e3)(Ae,oi)}for(const oi of ln)(0,Ko.BR)(Ae,He.getRotationAngle(oi,g,E),oi.axis);return Ae})).apply(this,arguments)}p(74741),p(71131),p(6172);var Yc=p(94663);function uh(g){return g&&"function"==typeof g.highlight}const kd_iconZoom="esri-icon-zoom-in-magnifying-glass",Ou=new Jc.Z({id:"zoom-to-feature",title:"{messages.zoom}",className:kd_iconZoom}),Oc=new Jc.Z({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),ta=new Jc.Z({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:kd_iconZoom}),Qc=new Jc.Z({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"}),na=R.Z.getLogger("esri.widgets.Popup.PopupViewModel"),Wd=g=>{const{event:E,view:I}=g,{action:W}=E,ee=I&&I.popup;if(!W)return Promise.reject(new te.Z("trigger-action:missing-arguments","Event has no action"));if(!ee)return Promise.reject(new te.Z("trigger-action:missing-arguments","view.popup is missing"));const{disabled:ge,id:Ae}=W;if(!Ae)return Promise.reject(new te.Z("trigger-action:invalid-action","action.id is missing"));if(ge)return Promise.reject(new te.Z("trigger-action:invalid-action","Action is disabled"));if(Ae===Ou.id)return function be(g){return he.apply(this,arguments)}(ee.viewModel).catch(U.H9);if(Ae===ta.id)return function Ue(g){return _t.apply(this,arguments)}(ee.viewModel);if(Ae===Qc.id)return ee.featureMenuOpen=!ee.featureMenuOpen,ee.viewModel.browseClusterEnabled=!ee.viewModel.browseClusterEnabled,Promise.resolve();if(ee.viewModel.browseClusterEnabled=!1,Ae===Oc.id){ee.close();const{selectedFeature:He}=ee;if(!He)return Promise.reject(new te.Z(`trigger-action:${Oc.id}`,"selectedFeature is required",{selectedFeature:He}));const{sourceLayer:gt}=He;return gt?gt.remove(He):I.graphics.remove(He),Promise.resolve()}return Promise.resolve()};function dh(g){const{selectedFeature:E,location:I,view:W}=g;return W?"3d"===W.type?E||I:g.get("selectedFeature.geometry")||I:null}function Su(g){var E,I;return(null==g?void 0:g.isAggregate)&&"cluster"===(null==(I=null==(E=null==g?void 0:g.sourceLayer)?void 0:E.featureReduction)?void 0:I.type)}function Ve(g,E){if("3d"!==(null==E?void 0:E.type)||!g||"esri.Graphic"!==g.declaredClass)return!0;const I=E.getViewForGraphic(g);if(I&&"whenGraphicBounds"in I){let W=!1;return I.whenGraphicBounds(g,{useViewElevation:!0}).then(ee=>{W=!ee||!ee.boundingBox||ee.boundingBox[0]===ee.boundingBox[3]&&ee.boundingBox[1]===ee.boundingBox[4]&&ee.boundingBox[2]===ee.boundingBox[5]}).catch(()=>{const ee=new te.Z("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:g});na.error(ee)}),W}return!0}function he(){return(he=(0,k.Z)(function*(g){const{location:E,selectedFeature:I,view:W,zoomFactor:ee}=g,ge=dh(g);if(!ge){const At=new te.Z("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:ge,view:W});throw na.error(At),At}const Ae=W.scale/ee,He=g.get("selectedFeature.geometry")||E,gt=He&&"point"===He.type&&Ve(I,W);Ou.active=!0,Ou.disabled=!0;try{yield g.view.goTo({target:ge,scale:gt?Ae:void 0})}finally{Ou.active=!1,Ou.disabled=!1,g.zoomToLocation=null,gt&&(g.location=He)}})).apply(this,arguments)}function _t(){return(_t=(0,k.Z)(function*(g){const{selectedFeature:E,view:I}=g;if("2d"!==(null==I?void 0:I.type)){const He=new te.Z("zoomToCluster:invalid-view","View must be 2d MapView.",{view:I});throw na.error(He),He}if(!Su(E)){const He=new te.Z("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:E});throw na.error(He),He}const W=E.sourceLayer,ee=yield I.whenLayerView(W),ge=ee.createQuery();ge.aggregateIds=[E.getObjectId()],ta.active=!0,ta.disabled=!0;const{extent:Ae}=yield ee.queryExtent(ge);yield I.goTo({target:Ae}),ta.active=!1,ta.disabled=!1})).apply(this,arguments)}function mn(){return(mn=(0,k.Z)(function*(g){const{selectedFeature:E,view:I}=g,W=E.sourceLayer,ee=yield I.whenLayerView(W),ge=ee.createQuery();ge.aggregateIds=[E.getObjectId()];const{extent:Ae}=yield ee.queryExtent(ge);g.selectedClusterBoundaryFeature.geometry=Ae,I.graphics.add(g.selectedClusterBoundaryFeature)})).apply(this,arguments)}function Yn(){return(Yn=(0,k.Z)(function*(g){const{selectedFeature:E,view:I}=g,W=E.sourceLayer,ee=yield I.whenLayerView(W),ge=ee.createQuery();ge.aggregateIds=[E.getObjectId()],Qc.active=!0,Qc.disabled=!0;const{features:Ae}=yield ee.queryFeatures(ge);Qc.active=!1,Qc.disabled=!1,I.popup.open({features:[E].concat(Ae),featureMenuOpen:!0})})).apply(this,arguments)}const bi=g=>{let E=class extends g{constructor(...I){super(...I),this.goToOverride=null,this.view=null}callGoTo(I){const{view:W}=this;return this.goToOverride?this.goToOverride(W,I):W.goTo(I.target,I.options)}};return(0,D._)([(0,A.Cb)()],E.prototype,"goToOverride",void 0),(0,D._)([(0,A.Cb)()],E.prototype,"view",void 0),E=(0,D._)([(0,J.j)("esri.widgets.support.GoTo")],E),E};var Xi=p(88493);const As=B.Z.ofType({key:"type",defaultKeyValue:"button",base:E0.Z,typeMap:{button:Jc.Z,toggle:td.Z}}),Ws="esri.widgets.Popup.PopupViewModel",Co=R.Z.getLogger(Ws);let ss=class extends(bi(sl)){constructor(g){super(g),this._handles=new Bt.Z,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new As,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new G.Z({symbol:new Xi.Z({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(g=>g.waitingForContent)}initialize(){this._handles.add([(0,Ht.YP)(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),(0,Ht.YP)(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),(0,Ht.YP)(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),(0,Ht.YP)(()=>{var g,E;return null==(E=null==(g=this.view)?void 0:g.animation)?void 0:E.state},g=>this._animationStateChange(g)),(0,Ht.YP)(()=>this.location,g=>this._locationChange(g)),(0,Ht.YP)(()=>this.selectedFeature,g=>this._selectedFeatureChange(g)),(0,Ht.YP)(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),(0,Ht.YP)(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),(0,Ht.YP)(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",g=>Wd({event:g,view:this.view})),(0,Ht.gx)(()=>!this.waitingForResult,()=>this._waitingForResultChange(),Ht.Z_),(0,Ht.YP)(()=>{var g,E;return[this.features,null==(g=this.view)?void 0:g.map,null==(E=this.view)?void 0:E.spatialReference]},()=>this._updateFeatureVMs()),(0,Ht.YP)(()=>{var g;return null==(g=this.view)?void 0:g.scale},()=>this._viewScaleChange()),(0,Ht.gx)(()=>!this.visible,()=>this.browseClusterEnabled=!1),(0,Ht.YP)(()=>this.browseClusterEnabled,g=>g?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const g=this._get("allActions")||new As;g.removeAll();const{actions:E,defaultActions:I,defaultPopupTemplateEnabled:W,includeDefaultActions:ee,selectedFeature:ge}=this,Ae=ee?I.concat(E):E,He=ge&&("function"==typeof ge.getEffectivePopupTemplate&&ge.getEffectivePopupTemplate(W)||ge.popupTemplate),gt=He&&He.actions,At=He&&He.overwriteActions?gt:gt?gt.concat(Ae):Ae;return At&&At.filter(Boolean).forEach(Yt=>g.add(Yt)),g}get defaultActions(){const g=this._get("defaultActions")||new As;return g.removeAll(),g.addMany(Su(this.selectedFeature)?[ta.clone(),Qc.clone()]:[Ou.clone()]),g}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(g){const E=g||[];this._set("features",E);const{pendingPromisesCount:I,promiseCount:W,selectedFeatureIndex:ee}=this,ge=W&&E.length;ge&&I&&-1===ee?this.selectedFeatureIndex=0:ge&&-1!==ee||(this.selectedFeatureIndex=E.length?0:-1)}get location(){return this._get("location")||null}set location(g){const E=this.get("view.spatialReference.isWebMercator");g&&g.get("spatialReference.isWGS84")&&E&&(g=(0,Hc.$)(g)),this._set("location",g)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(g){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(g)||!g.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",g),(g=g.slice(0)).forEach(E=>{this._pendingPromises.add(E),E.then(ee=>{this._pendingPromises.has(E)&&this._updateFeatures(ee),this._updatePendingPromises(E)},()=>this._updatePendingPromises(E))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:g,selectedFeatureIndex:E}=this;return-1===E?null:g[E]||null}get selectedFeatureIndex(){const g=this._get("selectedFeatureIndex");return"number"==typeof g?g:-1}set selectedFeatureIndex(g){const{featureCount:E}=this;g=isNaN(g)||g<-1||!E?-1:(g+E)%E,this.activeFeature=null,this._set("selectedFeatureIndex",g)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:g}=this,E=dh(this);if(!E){const I=new te.Z("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:E,view:g});return Co.error(I),Promise.reject(I)}return this.callGoTo({target:{target:E,scale:g.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(g,E){const{view:I}=this;if(!I||!g){const W=new te.Z("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:g,view:I});return Co.error(W),Promise.reject(W)}return I.fetchPopupFeatures(g,{event:E&&E.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:E&&E.signal})}open(g){const E=Wi(Nn({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},g),{visible:!0}),{fetchFeatures:I}=E;delete E.fetchFeatures,I&&this._setFetchFeaturesPromises(E.location);const W=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const ee of W)delete E[ee];this.set(E)}triggerAction(g){const E=this.allActions.getItemAt(g);E&&!E.disabled&&this.emit("trigger-action",{action:E})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function Rr(g){const E=g.features.filter(I=>Su(I));E.length&&(g.features=E)})(this),this._clearBrowsedClusterGraphics()}enableClusterBrowsing(){var g=this;return(0,k.Z)(function*(){const{view:E,selectedFeature:I}=g;"2d"===(null==E?void 0:E.type)?Su(I)?(yield function $t(g){return mn.apply(this,arguments)}(g),yield function Rn(g){return Yn.apply(this,arguments)}(g)):Co.warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",I):Co.warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",I)})()}_animationStateChange(g){this.zoomToLocation||(Ou.disabled="waiting-for-target"===g)}_clearBrowsedClusterGraphics(){var E;const g=null==(E=this.view)?void 0:E.graphics;g&&(g.remove(this.selectedClusterBoundaryFeature),g.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(Su(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=[this.selectedFeature])}_locationChange(g){const{selectedFeature:E,updateLocationEnabled:I}=this;I&&g&&(!E||E.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:g,featureCount:E,featurePage:I,featuresPerPage:W,featureViewModels:ee}=this;if(null===I)return;const ge=((I-1)*W+E)%E;ee.slice(ge,ge+W).forEach((He,gt)=>{He&&!He.graphic&&(He.graphic=g[ge+gt])})}_selectedFeatureChange(g){var E=this;return(0,k.Z)(function*(){if(!g)return;const{location:I,updateLocationEnabled:W,view:ee}=E;if(E.browseClusterEnabled)return E._selectedClusterFeature&&(ee.graphics.remove(E._selectedClusterFeature),E._selectedClusterFeature=null),Su(g)?void 0:(g.symbol=yield function la(g,E){return Xh.apply(this,arguments)}(g),E._selectedClusterFeature=g,void ee.graphics.add(E._selectedClusterFeature));!W&&I||!g.geometry?W&&!g.geometry&&E.centerAtLocation().then(()=>{E.location=ee.center.clone()}):E.location=(0,Re.Wg)(E._getPointFromGeometry(g.geometry))})()}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(g){return this._fetchFeaturesWithController(this._getScreenPoint(g||this.location)).then(E=>{const{clientOnlyGraphics:I,promisesPerLayerView:W}=E,ee=Promise.resolve(I),ge=W.map(Ae=>Ae.promise);this.promises=[ee,...ge]})}_destroyFeatureVMs(){this.featureViewModels.forEach(g=>g&&!g.destroyed&&g.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:g,features:E,featureViewModels:I}=this;if(Su(g)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!E||!E.length)return;const W=I.slice(0),ee=[];E.forEach((ge,Ae)=>{var gt,At;if(!ge)return;let He=null;if(W.some((Yt,ln)=>(Yt&&Yt.graphic===ge&&(He=Yt,W.splice(ln,1)),!!He)),He)ee[Ae]=He;else{const Yt=new Ss({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(gt=this.view)?void 0:gt.spatialReference,graphic:ge===g?ge:null,map:null==(At=this.view)?void 0:At.map,view:this.view});ee[Ae]=Yt}}),W.forEach(ge=>ge&&!ge.destroyed&&ge.destroy()),this._set("featureViewModels",ee)}_getScreenPoint(g){const{view:E}=this;return E&&g&&"function"==typeof E.toScreen?E.toScreen(g):null}_autoOpenEnabledChange(){const g="auto-fetch-features",{_handles:E,autoOpenEnabled:I}=this;if(E.remove(g),I&&this.view){const W=this.view.on("click",ee=>{"mouse"===ee.pointerType&&0!==ee.button||this._fetchFeaturesAndOpen(ee)},Yc.f.WIDGET);E.add(W,g)}}_cancelFetchingFeatures(){const g=this._fetchFeaturesController;g&&g.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(g,E){this._cancelFetchingFeatures();const I=new AbortController,{signal:W}=I;this._fetchFeaturesController=I,this.notifyChange("waitingForResult");const ee=this.fetchFeatures(g,{signal:W,event:E});return ee.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),ee}_fetchFeaturesAndOpen(g){const{screenPoint:E,mapPoint:I}=g,{view:W}=this;this._fetchFeaturesWithController(E,g).then(ee=>{const{clientOnlyGraphics:ge,promisesPerLayerView:Ae,location:He}=ee,gt=[Promise.resolve(ge),...Ae.map(At=>At.promise)];return W.popup.open({location:He||I,promises:gt}),ee})}_updatePendingPromises(g){g&&this._pendingPromises.has(g)&&(this._pendingPromises.delete(g),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(g){return(0,Re.Wi)(g)?null:"point"===g.type?g:"extent"===g.type?g.center:"polygon"===g.type?g.centroid:"multipoint"===g.type||"polyline"===g.type?g.extent.center:null}_getLayerView(g,E){return(0,k.Z)(function*(){return yield g.when(),g.whenLayerView(E)})()}_getHighlightLayer(g){const{layer:E,sourceLayer:I}=g;return"map-notes"===(null==I?void 0:I.type)||"subtype-group"===(null==I?void 0:I.type)?I:E}_getHighlightTarget(g,E){const I="imagery"===E.type?void 0:"objectIdField"in E&&E.objectIdField,W=g.attributes;return W&&I&&W[I]||g}_highlightActiveFeature(){var g=this;return(0,k.Z)(function*(){const E="highlight-active-feature";g._handles.remove(E);const{highlightEnabled:I,view:W,activeFeature:ee,visible:ge}=g;if(!(ee&&W&&I&&ge))return;const Ae=g._getHighlightLayer(ee);if(!(Ae&&Ae instanceof zf.Z))return;const He=g._getLayerView(W,Ae);g._highlightActiveFeaturePromise=He;const gt=yield He;if(!(gt&&uh(gt)&&g._highlightActiveFeaturePromise===He&&g.activeFeature&&g.highlightEnabled))return;const At=gt.highlight(g._getHighlightTarget(ee,Ae));g._handles.add(At,E)})()}_highlightSelectedFeature(){var g=this;return(0,k.Z)(function*(){const E="highlight-selected-feature";g._handles.remove(E);const{selectedFeature:I,highlightEnabled:W,view:ee,visible:ge}=g;if(!(I&&ee&&W&&ge))return;const Ae=g._getHighlightLayer(I);if(!(Ae&&Ae instanceof zf.Z))return;const He=g._getLayerView(ee,Ae);g._highlightSelectedFeaturePromise=He;const gt=yield He;if(!(gt&&uh(gt)&&g._highlightSelectedFeaturePromise===He&&g.selectedFeature&&g.highlightEnabled&&g.visible))return;const At=gt.highlight(g._getHighlightTarget(I,Ae));g._handles.add(At,E)})()}_updateFeatures(g){const{features:E}=this;if(!g||!g.length)return;if(!E.length)return void(this.features=g);const I=g.filter(W=>!E.includes(W));this.features=E.concat(I)}};(0,D._)([(0,A.Cb)()],ss.prototype,"featurePage",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"isLoadingFeature",null),(0,D._)([(0,A.Cb)({type:As})],ss.prototype,"actions",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"active",null),(0,D._)([(0,A.Cb)()],ss.prototype,"activeFeature",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"allActions",null),(0,D._)([(0,A.Cb)({type:Boolean})],ss.prototype,"defaultPopupTemplateEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"autoCloseEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"autoOpenEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"browseClusterEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"content",void 0),(0,D._)([(0,A.Cb)({type:As,readOnly:!0})],ss.prototype,"defaultActions",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"featureCount",null),(0,D._)([(0,A.Cb)()],ss.prototype,"features",null),(0,D._)([(0,A.Cb)()],ss.prototype,"featuresPerPage",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"featureViewModelAbilities",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"featureViewModels",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"highlightEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"includeDefaultActions",void 0),(0,D._)([(0,A.Cb)({type:Dr.Z})],ss.prototype,"location",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"pendingPromisesCount",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"selectedClusterBoundaryFeature",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"waitingForResult",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"promiseCount",null),(0,D._)([(0,A.Cb)()],ss.prototype,"promises",null),(0,D._)([(0,A.Cb)({value:null,readOnly:!0})],ss.prototype,"selectedFeature",null),(0,D._)([(0,A.Cb)({value:-1})],ss.prototype,"selectedFeatureIndex",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"selectedFeatureViewModel",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ss.prototype,"state",null),(0,D._)([(0,A.Cb)()],ss.prototype,"title",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"updateLocationEnabled",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"visible",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"zoomFactor",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"zoomToLocation",void 0),(0,D._)([(0,A.Cb)()],ss.prototype,"centerAtLocation",null),ss=(0,D._)([(0,J.j)(Ws)],ss);const fa=ss;var co=p(24940);function ma(g){return E=>{E.hasOwnProperty("_delegatedEventNames")||(E._delegatedEventNames=E._delegatedEventNames?E._delegatedEventNames.slice():[]);const I=E._delegatedEventNames,W=Array.isArray(g)?g:function Ta(g){return g.split(",").map(E=>E.trim())}(g);I.push(...W)}}const sc="selected-index",Zl="popup-spinner",si_shadow="esri-popup--shadow",si_button="esri-popup__button",si_icon="esri-popup__icon",id={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},El="esri-popup";function ga(g,E){return void 0===E?`${El}__${g}`:`${El}__${g}-${E}`}const Bp="esri.widgets.Popup",Yi=R.Z.getLogger(Bp),ds={closeButton:!0,featureNavigation:!0};let ei=class extends(go(Ii.Z)){constructor(g,E){super(g,E),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new Bt.Z,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([I])=>{(null==I?void 0:I.isIntersecting)&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=(0,Ui.P)(()=>this._displaySpinner(),0),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new fa,this.visible=null,this.visibleElements=Nn({},ds),this._addSelectedFeatureIndexHandle(),this.own([(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.screenLocation},()=>this._positionContainer()),(0,Ht.YP)(()=>{var I;return[null==(I=this.viewModel)?void 0:I.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.screenLocation},(I,W)=>{!!I!=!!W&&this.reposition()}),(0,Ht.YP)(()=>{var I,W,ee,ge,Ae,He;return[null==(W=null==(I=this.viewModel)?void 0:I.view)?void 0:W.padding,null==(ge=null==(ee=this.viewModel)?void 0:ee.view)?void 0:ge.size,null==(Ae=this.viewModel)?void 0:Ae.active,null==(He=this.viewModel)?void 0:He.location,this.alignment]},()=>this.reposition()),(0,Ht.YP)(()=>this.spinnerEnabled,I=>this._spinnerEnabledChange(I)),(0,Ht.YP)(()=>{var I,W;return null==(W=null==(I=this.viewModel)?void 0:I.view)?void 0:W.size},(I,W)=>this._updateDockEnabledForViewSize(I,W)),(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.view},(I,W)=>this._viewChange(I,W)),(0,Ht.YP)(()=>{var I,W;return null==(W=null==(I=this.viewModel)?void 0:I.view)?void 0:W.ready},(I,W)=>this._viewReadyChange(I,W)),(0,Ht.YP)(()=>{var I,W;return[null==(I=this.viewModel)?void 0:I.waitingForResult,null==(W=this.viewModel)?void 0:W.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),(0,Ht.YP)(()=>{var I,W,ee,ge;return[null==(W=null==(I=this.selectedFeatureWidget)?void 0:I.viewModel)?void 0:W.title,null==(ge=null==(ee=this.selectedFeatureWidget)?void 0:ee.viewModel)?void 0:ge.state]},()=>this._setTitleFromFeatureWidget()),(0,Ht.YP)(()=>{var I,W,ee,ge;return[null==(W=null==(I=this.selectedFeatureWidget)?void 0:I.viewModel)?void 0:W.content,null==(ge=null==(ee=this.selectedFeatureWidget)?void 0:ee.viewModel)?void 0:ge.state]},()=>this._setContentFromFeatureWidget()),(0,Ht.gx)(()=>!this.collapsed,()=>{var I,W;"xsmall"===(null==(W=null==(I=this.viewModel)?void 0:I.view)?void 0:W.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),(0,Ht.on)(()=>{var I;return null==(I=this.viewModel)?void 0:I.allActions},"change",()=>this._watchActions()),(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.allActions},()=>this._watchActions(),Ht.nn),(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.featureViewModels},()=>this._featureMenuViewportScrollTop())])}destroy(){var g,E;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(g=this._handles)||g.destroy(),this._unobserveFeatureMenuObserver(),null==(E=this._featureMenuIntersectionObserver)||E.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var g,E,I,W,ee,ge,Ae;return!!(this.selectedFeatureWidget?(null==(E=null==(g=this.selectedFeatureWidget)?void 0:g.viewModel)?void 0:E.waitingForContent)||"error"===(null==(W=null==(I=this.selectedFeatureWidget)?void 0:I.viewModel)?void 0:W.state)||(null==(ge=null==(ee=this.selectedFeatureWidget)?void 0:ee.viewModel)?void 0:ge.content):null==(Ae=this.viewModel)?void 0:Ae.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(g){this._set("actionsMenuOpen",!!g)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||id}set dockOptions(g){const E=Nn({},id),I=this.get("viewModel.view.breakpoints"),W={};I&&(W.width=I.xsmall,W.height=I.xsmall);const ee=Nn(Nn({},E),g),ge=Nn(Nn({},E.breakpoint),W),{breakpoint:Ae}=ee;!0===Ae?ee.breakpoint=ge:"object"==typeof Ae&&(ee.breakpoint=Nn(Nn({},ge),Ae)),this._set("dockOptions",ee),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:g,visibleElements:E,headingLevel:I}=this,{selectedFeatureViewModel:W}=this.viewModel,ee=Wi(Nn({},E),{title:!1});return W?(g?(g.viewModel=W,g.visibleElements=ee):this._feature=new Eo({headingLevel:I+1,viewModel:W,visibleElements:ee}),this._feature):null}castVisibleElements(g){return Nn(Nn({},ds),g)}blur(){const{active:g}=this.viewModel;g||Yi.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(g,E){return this.viewModel.fetchFeatures(g,E)}focus(){const{active:g}=this.viewModel;g||Yi.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(g){var ee,ge;this._handles.remove(sc);const W={collapsed:!!g&&!!g.collapsed,actionsMenuOpen:!!g&&!!g.actionsMenuOpen,featureMenuOpen:!!g&&!!g.featureMenuOpen};"xsmall"===(null==(ge=null==(ee=this.viewModel)?void 0:ee.view)?void 0:ge.widthBreakpoint)&&(W.collapsed=!0),this.set(W),this.viewModel.open(g),this._shouldFocus(g),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(g){this.viewModel.triggerAction(g)}render(){var Or,$r,ui,oi;const{actionsMenuOpen:g,dockEnabled:E,featureMenuVisible:I,dividedActions:W,currentAlignment:ee,currentDockPosition:ge}=this,{active:Ae}=this.viewModel,{menuActions:He}=W,ln=null==($r=null==(Or=this.selectedFeature)?void 0:Or.layer)?void 0:$r.title,kn=null==(oi=null==(ui=this.selectedFeature)?void 0:ui.layer)?void 0:oi.id;return(0,vn.u)("div",{class:this.classes("esri-popup",{"esri-popup--aligned-top-center":"top-center"===ee,"esri-popup--aligned-bottom-center":"bottom-center"===ee,"esri-popup--aligned-top-left":"top-left"===ee,"esri-popup--aligned-bottom-left":"bottom-left"===ee,"esri-popup--aligned-top-right":"top-right"===ee,"esri-popup--aligned-bottom-right":"bottom-right"===ee,"esri-popup--is-docked":Ae&&E,[si_shadow]:Ae&&!E,"esri-popup--is-docked-top-left":"top-left"===ge,"esri-popup--is-docked-top-center":"top-center"===ge,"esri-popup--is-docked-top-right":"top-right"===ge,"esri-popup--is-docked-bottom-left":"bottom-left"===ge,"esri-popup--is-docked-bottom-center":"bottom-center"===ge,"esri-popup--is-docked-bottom-right":"bottom-right"===ge,"esri-popup--feature-menu-open":I,"esri-popup--actions-menu-open":Ae&&He.length>1&&g}),role:"presentation","data-layer-title":ln,"data-layer-id":kn,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},Ae?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes(si_icon,"esri-icon-loading-indicator","esri-rotating")})}renderNavigationLoading(){const{messagesCommon:g}=this;return this.viewModel.pendingPromisesCount?(0,vn.u)("div",{key:ga("loading-container"),role:"presentation",class:"esri-popup__loading-container","aria-label":g.loading,title:g.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const g=(0,eo.dZ)(this.container);return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes(si_icon,{"esri-icon-right-triangle-arrow":g,"esri-popup__pagination-previous-icon--rtl":g,"esri-icon-left-triangle-arrow":!g,"esri-popup__pagination-previous-icon":!g})})}renderPreviousButton(){const{messages:g}=this;return(0,vn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(si_button,"esri-popup__pagination-previous"),"aria-label":g.previous,title:g.previous},this.renderPreviousIcon())}renderNextIcon(){const g=(0,eo.dZ)(this.container);return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes(si_icon,{"esri-icon-left-triangle-arrow":g,"esri-popup__pagination-next-icon--rtl":g,"esri-icon-right-triangle-arrow":!g,"esri-popup__pagination-next-icon":!g})})}renderNextButton(){const{messages:g}=this;return(0,vn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(si_button,"esri-popup__pagination-next"),"aria-label":g.next,title:g.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:g,featureMenuId:E,messagesCommon:I}=this,{featureCount:W,selectedFeatureIndex:ee}=this.viewModel;return(0,vn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(si_button,"esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":E,"aria-expanded":g.toString(),"aria-label":I.menu,title:I.menu},this._getPageText(W,ee))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:g}=this,E=this._wouldDockTo();return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes({"esri-icon-minimize":g,"esri-popup__icon--dock-icon":!g,"esri-icon-dock-right":!g&&("top-right"===E||"bottom-right"===E),"esri-icon-dock-left":!g&&("top-left"===E||"bottom-left"===E),"esri-icon-maximize":!g&&"top-center"===E,"esri-icon-dock-bottom":!g&&"bottom-center"===E},si_icon)})}renderDockButton(){var ee,ge,Ae;const{dockEnabled:g,messages:E}=this,I=null==(ge=null==(ee=this.viewModel)?void 0:ee.view)?void 0:ge.widthBreakpoint,W=g?E.undock:E.dock;return"xsmall"!==I&&(null==(Ae=this.dockOptions)?void 0:Ae.buttonEnabled)?(0,vn.u)("div",{role:"button","aria-label":W,title:W,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(si_button,"esri-popup__button--dock")},this.renderDockIcon()):null}renderTitle(){const{title:g}=this.viewModel,{titleId:E,collapsible:I,contentCollapsed:W,messagesCommon:ee}=this,ge={"esri-popup__header-container--button":I},Ae=(0,vn.u)(Vo,{level:this.headingLevel,class:"esri-popup__header-title",innerHTML:g}),He=I?(0,vn.u)("button",{key:`${g}--collapsible`,id:E,title:W?ee.expand:ee.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",ge),"aria-expanded":W?"false":"true",onclick:this._toggleCollapsed,type:"button"},Ae):(0,vn.u)("div",{key:g,id:E,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",ge)},Ae);return g?He:null}renderCloseIcon(){return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes(si_icon,"esri-icon-close")})}renderCloseButton(){const{visibleElements:g,messagesCommon:E}=this;return g.closeButton?(0,vn.u)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:si_button,"aria-label":E.close,title:E.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return(0,vn.u)("header",{class:"esri-popup__header"},this.renderTitle(),(0,vn.u)("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:g,hasContent:E,contentCollapsed:I}=this,{content:W}=this.viewModel;return E&&!I?(0,vn.u)("article",{key:W,enterAnimation:this._createFeatureUpdatedAnimation(),id:g,class:"esri-popup__content"},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:g,actionsMenuButtonId:E,actionsMenuOpen:I,dividedActions:W,messagesCommon:ee}=this,ge=I?ee.close:ee.open,{menuActions:Ae}=W;return Ae.length?(0,vn.u)("div",{key:ga("actions-menu-button"),class:this.classes(si_button,"esri-popup__actions-menu-button"),role:"button",id:E,"aria-haspopup":"true","aria-controls":I?g:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":ge,title:ge},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null}renderMenuActions(){const{actionsMenuId:g,actionsMenuButtonId:E,actionsMenuOpen:I,dividedActions:W}=this,{menuActions:ee}=W;return ee.length&&I?(0,vn.u)("ul",{id:g,role:"menu","aria-labelledby":E,key:ga("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},ee.toArray().map(ge=>this.renderAction({action:ge,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:g}=this.dividedActions;return!!g.length&&g.toArray().map(E=>this.renderAction({action:E,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:g,menuActions:E}=this.dividedActions,I=!!g.length,W=!!E.length;return I||W?(0,vn.u)("div",{key:"inline-actions-container","data-inline-actions":I.toString(),"data-menu-actions":W.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?(0,vn.u)("section",{key:ga("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:g,dividedActions:E}=this,{inlineActions:I,menuActions:W}=E,ee=!!I.length,Ae={"esri-popup__footer--has-pagination":g,"esri-popup__footer--has-actions":ee,"esri-popup__footer--has-actions-menu":!!W.length};return g||ee?(0,vn.u)("div",{key:ga("feature-buttons"),class:this.classes("esri-popup__footer",Ae)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:g}=this,{featureViewModels:E,isLoadingFeature:I}=this.viewModel,W=(0,Po.n)(g.selectedFeatures,{total:E.length});return(0,vn.u)("section",{key:ga("menu"),class:"esri-popup__feature-menu"},(0,vn.u)("strong",{class:"esri-popup__feature-menu-header"},W),(0,vn.u)("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:eo.Yo},this.renderFeatureMenu(),(0,vn.u)("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),I?(0,vn.u)("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:(0,vn.u)("div",{key:ga("pointer"),class:"esri-popup__pointer",role:"presentation"},(0,vn.u)("div",{class:this.classes("esri-popup__pointer-direction",si_shadow)}))}renderMainContainer(){const{dockEnabled:g,currentAlignment:E,currentDockPosition:I,titleId:W,contentId:ee,collapsible:ge,hasContent:Ae,contentCollapsed:He,visibleElements:gt}=this,{title:At}=this.viewModel,Yt="bottom-left"===E||"bottom-center"===E||"bottom-right"===E||"top-left"===I||"top-center"===I||"top-right"===I,ln="top-left"===E||"top-center"===E||"top-right"===E||"bottom-left"===I||"bottom-center"===I||"bottom-right"===I;return(0,vn.u)("div",{class:this.classes("esri-popup__main-container","esri-widget",{[si_shadow]:g,"esri-popup--is-collapsible":ge,"esri-popup--is-collapsed":He}),tabIndex:gt.closeButton?null:-1,role:"dialog","aria-labelledby":At?W:"","aria-describedby":Ae&&!He?ee:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},Yt?this.renderFooter():null,Yt?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),ln?this.renderFooter():null,ln?this.renderFeatureMenuContainer():null)}renderContent(){var E;const g=null==(E=this.viewModel)?void 0:E.content;return g?"string"==typeof g?(0,vn.u)("div",{key:g,innerHTML:g}):this.renderNodeContent(g):null}renderActionText(g){return(0,vn.u)("span",{key:"text",class:"esri-popup__action-text"},g)}renderActionIcon(g){const E=this._getActionClass(g),I=this._getActionImage(g),W={"esri-icon-loading-indicator":g.active,"esri-rotating":g.active,[si_icon]:!!E,"esri-popup__action-image":!g.active&&!!I};return E&&(W[E]=!g.active),(0,vn.u)("span",{key:"icon","aria-hidden":"true",class:this.classes(si_icon,W),styles:this._getIconStyles(I)})}renderAction(g){const{action:E,type:I}=g,W=this._getActionTitle(E),ee={"esri-popup__action":"toggle"!==E.type,"esri-popup__action-toggle":"toggle"===E.type,"esri-popup__action-toggle--on":"toggle"===E.type&&E.value,"esri-popup__button--disabled":E.disabled},ge=[this.renderActionIcon(E),this.renderActionText(W)],Ae="menu-item"===I?(0,vn.u)("li",{key:E.uid,role:"menuitem",tabIndex:0,title:W,"aria-label":W,class:this.classes(si_button,ee),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":E.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},ge):(0,vn.u)("div",{key:E.uid,role:"button",tabIndex:0,title:W,"aria-label":W,class:this.classes(si_button,ee),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":E.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},ge);return E.visible?Ae:null}renderFeatureMenuItem(g,E){const{messages:I,messagesCommon:W}=this,{selectedFeatureIndex:ee,selectedFeatureViewModel:ge}=this.viewModel,Ae=g===ge,He={"esri-popup__feature-menu-item--selected":Ae},gt=Ae?(0,vn.u)("span",{key:ga(`feature-menu-selected-feature-${ee}`),title:I.selectedFeature,"aria-label":I.selectedFeature,class:"esri-icon-check-mark"}):null,At=(0,vn.u)("span",{innerHTML:g.title||W.untitled});return(0,vn.u)("li",{role:"menuitem",tabIndex:-1,key:ga(`feature-menu-feature-${ee}`),class:this.classes(He,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":E,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},(0,vn.u)("span",{class:"esri-popup__feature-menu-title"},At,gt))}renderFeatureMenu(){const{featureMenuId:g}=this,{featureViewModels:E}=this.viewModel;return E.length>1?(0,vn.u)("ol",{class:"esri-popup__feature-menu-list",id:g,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},E.filter(I=>!!I.graphic).map((I,W)=>this.renderFeatureMenuItem(I,W))):null}_getActionTitle(g){const{messages:E,selectedFeature:I,messagesCommon:W}=this,{id:ee}=g,ge=null==I?void 0:I.attributes,Ae="zoom-to-feature"===ee?(0,Po.n)(g.title,{messages:E}):"remove-selected-feature"===ee?(0,Po.n)(g.title,{messages:W}):"zoom-to-clustered-features"===ee||"browse-clustered-features"===ee?(0,Po.n)(g.title,{messages:E}):g.title;return Ae&&ge?(0,Po.n)(Ae,ge):Ae}_getActionClass(g){const{selectedFeature:E}=this,I=null==E?void 0:E.attributes,{className:W,image:ee}=g,ge=ee||W?W:"esri-icon-default-action";return ge&&I?(0,Po.n)(ge,I):ge}_getActionImage(g){const{selectedFeature:E}=this,I=null==E?void 0:E.attributes,{image:W}=g;return W&&I?(0,Po.n)(W,I):W}_createFeatureUpdatedAnimation(){return(0,eo.vU)("enter","esri-popup--feature-updated")}_getInlineActionCount(){const{maxInlineActions:g,featureNavigationVisible:E}=this;if("number"!=typeof g)return null;const I=Math.round(g);return Math.max(E?I-1:I,0)}_watchActions(){const{allActions:g}=this.viewModel;this.notifyChange("dividedActions");const E="actions";this._handles.remove(E),g&&g.forEach(I=>{this._handles.add((0,Ht.YP)(()=>[I.uid,I.active,I.className,I.disabled,I.id,I.title,I.image,I.visible],()=>this.scheduleRender()),E)})}_divideActions(){const{allActions:g}=this.viewModel,E=g.filter(ge=>ge.visible),I=this._getInlineActionCount(),W=null===I,ee=0===I;return{inlineActions:W?E.slice(0):ee?new B.Z:E.slice(0,I),menuActions:W?new B.Z:E.slice(ee?0:I)}}_featureMenuOpenChanged(g){g?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(g){g?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var I,W;const{selectedFeatureWidget:g,messagesCommon:E}=this;g&&(this.viewModel.title="error"===(null==(I=g.viewModel)?void 0:I.state)?E.errorMessage:(null==(W=g.viewModel)?void 0:W.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:g}=this;g&&(this.viewModel.content=g)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(g){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(g),this._featureMenuIntersectionObserverNode=g}_handleFeatureMenuKeyup(g){"Escape"===(0,fi.kK)(g)&&(g.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(g){"Escape"===(0,fi.kK)(g)&&(g.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(g){const{viewModel:E}=this;E.activeFeature=E.features[g.currentTarget["data-feature-index"]]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(g){const E=(0,fi.kK)(g),{_featureMenuNode:I}=this,W=g.currentTarget["data-feature-index"];if(!I)return;const ee=I.querySelectorAll("li"),ge=ee.length;"ArrowUp"!==E?"ArrowDown"!==E?"Home"!==E?"End"!==E||(g.stopPropagation(),ee[ee.length-1].focus()):(g.stopPropagation(),ee[0].focus()):(g.stopPropagation(),ee[(W+1+ge)%ge].focus()):(g.stopPropagation(),ee[(W-1+ge)%ge].focus())}_handleActionMenuItemKeyup(g){const E=(0,fi.kK)(g),{_actionsMenuNode:I}=this,W=g.currentTarget.dataset.actionUid,{menuActions:ee}=this.dividedActions,ge=ee.findIndex(gt=>gt.uid===W);if(!I)return;const Ae=I.querySelectorAll("li"),He=Ae.length;"ArrowUp"!==E?"ArrowDown"!==E?"Home"!==E?"End"!==E||(g.stopPropagation(),Ae[Ae.length-1].focus()):(g.stopPropagation(),Ae[0].focus()):(g.stopPropagation(),Ae[(ge+1+He)%He].focus()):(g.stopPropagation(),Ae[(ge-1+He)%He].focus())}_handleMainKeyup(g){const E=(0,fi.kK)(g);"ArrowLeft"===E&&(g.stopPropagation(),this.previous()),"ArrowRight"===E&&(g.stopPropagation(),this.next())}_spinnerEnabledChange(g){if(this._destroySpinner(),!g)return;const E=this.get("viewModel.view");this._createSpinner(E)}_hideSpinner(){const{_spinner:g}=this;g&&(g.location=null,g.hide())}_displaySpinner(){const{_spinner:g}=this;if(!g)return;const{location:E,waitingForResult:I}=this.viewModel;I?g.show({location:E}):g.hide()}_getIconStyles(g){return{"background-image":g?`url(${g})`:""}}_shouldFocus(g){var E=this;return(0,k.Z)(function*(){g.shouldFocus&&(yield(0,Ht.N1)(()=>{var I;return!0===(null==(I=E.viewModel)?void 0:I.active)}),E.focus())})()}_addSelectedFeatureIndexHandle(){const g=(0,Ht.YP)(()=>{var E;return null==(E=this.viewModel)?void 0:E.selectedFeatureIndex},(E,I)=>this._selectedFeatureIndexUpdated(E,I));this._handles.add(g,sc)}_selectedFeatureIndexUpdated(g,E){const{featureCount:I}=this;I&&g!==E&&-1!==g&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:g}=this;g&&(g.viewModel=null,g&&!g.destroyed&&g.destroy()),this._feature=null}_isScreenLocationWithinView(g,E){return g.x>-1&&g.y>-1&&g.x<=E.width&&g.y<=E.height}_isOutsideView(g){const{popupHeight:E,popupWidth:I,screenLocation:W,side:ee,view:ge}=g;if(isNaN(I)||isNaN(E)||!ge||!W)return!1;const Ae=ge.padding;return"right"===ee&&W.x+I/2>ge.width-Ae.right||"left"===ee&&W.x-I/2<Ae.left||"top"===ee&&W.y-E<Ae.top||"bottom"===ee&&W.y+E>ge.height-Ae.bottom}_calculateAutoAlignment(g){if("auto"!==g)return g;const{_pointerOffsetInPx:E,_containerNode:I,_mainContainerNode:W,viewModel:ee}=this,{screenLocation:ge,view:Ae}=ee;if((0,Re.Wi)(ge)||!Ae||!I)return"top-center";if(!this._isScreenLocationWithinView(ge,Ae))return this._get("currentAlignment")||"top-center";function He(es){return parseInt(es.replace(/[^-\d\.]/g,""),10)}const gt=W?window.getComputedStyle(W,null):null,At=gt?He(gt.getPropertyValue("max-height")):0,Yt=gt?He(gt.getPropertyValue("height")):0,{height:ln,width:kn}=I.getBoundingClientRect(),Fn=kn+E,Or=Math.max(ln,At,Yt)+E,$r=this._isOutsideView({popupHeight:Or,popupWidth:Fn,screenLocation:ge,side:"right",view:Ae}),ui=this._isOutsideView({popupHeight:Or,popupWidth:Fn,screenLocation:ge,side:"left",view:Ae}),oi=this._isOutsideView({popupHeight:Or,popupWidth:Fn,screenLocation:ge,side:"top",view:Ae}),qi=this._isOutsideView({popupHeight:Or,popupWidth:Fn,screenLocation:ge,side:"bottom",view:Ae});return ui?oi?"bottom-right":"top-right":$r?oi?"bottom-left":"top-left":oi?qi?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(g){return"function"==typeof g?g.call(this):g}_getCurrentAlignment(){const{alignment:g,dockEnabled:E}=this;return E||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(g)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(g){const E=["left","right"];return(0,eo.dZ)(this.container)&&E.reverse(),g.replace(/leading/gi,E[0]).replace(/trailing/gi,E[1])}_callDockPosition(g){return"function"==typeof g?g.call(this):g}_getDockPosition(){var g;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(g=this.dockOptions)?void 0:g.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(g){var Ae;if("auto"!==g)return g;const E=null==(Ae=this.viewModel)?void 0:Ae.view,I=(0,eo.dZ)(this.container)?"top-left":"top-right";if(!E)return I;const W=E.padding||{left:0,right:0,top:0,bottom:0},ee=E.width-W.left-W.right,{breakpoints:ge}=E;return ge&&ee<=ge.xsmall?"bottom-center":I}_positionContainer(g=this._containerNode){if(g&&(this._containerNode=g),!g)return;const{screenLocation:E}=this.viewModel,{width:I}=g.getBoundingClientRect(),W=this._calculatePositionStyle(E,I);W&&(g.style.top=W.top,g.style.left=W.left,g.style.bottom=W.bottom,g.style.right=W.right)}_calculateFullWidth(g){const{currentAlignment:E,_pointerOffsetInPx:I}=this;return"top-left"===E||"bottom-left"===E||"top-right"===E||"bottom-right"===E?g+I:g}_calculateAlignmentPosition(g,E,I,W){const{currentAlignment:ee,_pointerOffsetInPx:ge}=this,Ae=W/2,He=I.height-E,gt=I.width-g,{padding:At}=this.view;return"bottom-center"===ee?{top:E+ge-At.top,left:g-Ae-At.left}:"top-left"===ee?{bottom:He+ge-At.bottom,right:gt+ge-At.right}:"bottom-left"===ee?{top:E+ge-At.top,right:gt+ge-At.right}:"top-right"===ee?{bottom:He+ge-At.bottom,left:g+ge-At.left}:"bottom-right"===ee?{top:E+ge-At.top,left:g+ge-At.left}:"top-center"===ee?{bottom:He+ge-At.bottom,left:g-Ae-At.left}:void 0}_calculatePositionStyle(g,E){const{dockEnabled:I,view:W}=this;if(!W)return;if(I)return{left:"",top:"",right:"",bottom:""};if((0,Re.Wi)(g)||!E)return;const ee=this._calculateFullWidth(E),ge=this._calculateAlignmentPosition(g.x,g.y,W,ee);return ge?{top:void 0!==ge.top?`${ge.top}px`:"auto",left:void 0!==ge.left?`${ge.left}px`:"auto",bottom:void 0!==ge.bottom?`${ge.bottom}px`:"auto",right:void 0!==ge.right?`${ge.right}px`:"auto"}:void 0}_viewChange(g,E){g&&E&&(this.close(),this.clear())}_viewReadyChange(g,E){if(g){const I=this.get("viewModel.view");this._wireUpView(I)}else E&&(this.close(),this.clear())}_wireUpView(g){if(this._destroySpinner(),!g)return;const{spinnerEnabled:E}=this;E&&this._createSpinner(g),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(g,E,I){const[W,ee]=g,[ge,Ae]=E,{width:He,height:gt}=I;return W<=He&&ge>He||W>He&&ge<=He||ee<=gt&&Ae>gt||ee>gt&&Ae<=gt}_updateDockEnabledForViewSize(g,E){if(!g||!E)return;const I=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},W=I.left+I.right,ee=I.top+I.bottom,ge=[],Ae=[];ge[0]=g[0]-W,ge[1]=g[1]-ee,Ae[0]=E[0]-W,Ae[1]=E[1]-ee;const{dockOptions:He}=this;this._dockingThresholdCrossed(ge,Ae,He.breakpoint)&&this._setDockEnabledForViewSize(He),this._setCurrentDockPosition()}_focusDockButtonNode(g){this._focusDockButton&&(this._focusDockButton=!1,g.focus())}_closeButtonNodeUpdated(g){return this._focusClose?(this._focusClose=!1,void g.focus()):this._blurClose?(this._blurClose=!1,void g.blur()):void 0}_mainContainerNodeUpdated(g){return this._mainContainerNode=g,this._focusContainer?(this._focusContainer=!1,void g.focus()):this._blurContainer?(this._blurContainer=!1,void g.blur()):void 0}_featureMenuNodeUpdated(g){if(this._featureMenuNode=g,!g||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const E=g.querySelectorAll("li");E.length&&E[0].focus()}_actionsMenuNodeUpdated(g){if(this._actionsMenuNode=g,!g||!this._focusFirstAction)return;this._focusFirstAction=!1;const E=g.querySelectorAll("li");E.length&&E[0].focus()}_focusFeatureMenuButtonNode(g){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,g.focus())}_focusActionsMenuButtonNode(g){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,g.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:g,viewModel:E}=this;E&&(E.screenLocationEnabled=E.active&&!g)}_shouldDockAtCurrentViewSize(g){var He,gt;const E=g.breakpoint,I=null==(gt=null==(He=this.viewModel)?void 0:He.view)?void 0:gt.ui;if(!I)return!1;const{width:W,height:ee}=I;if(isNaN(W)||isNaN(ee))return!1;const ge=E.hasOwnProperty("width")&&W<=E.width,Ae=E.hasOwnProperty("height")&&ee<=E.height;return ge||Ae}_setDockEnabledForViewSize(g){g.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(g))}_getPageText(g,E){return this.featureNavigationVisible?(0,Po.n)(this.messages.pageText,{index:E+1,total:g}):null}_destroySpinner(){const{_spinner:g,view:E}=this;g&&(E&&E.ui&&E.ui.remove(this._spinner,Zl),g.destroy(),this._spinner=null)}_createSpinner(g){g&&(this._spinner=new Lp({view:g}),g.ui.add(this._spinner,{key:Zl,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const g=!this.featureMenuOpen;this._featureMenuOpenChanged(g),this.actionsMenuOpen=!1,this.featureMenuOpen=g}_toggleActionsMenu(){const g=!this.actionsMenuOpen;this._actionsMenuOpenChanged(g),this.featureMenuOpen=!1,this.actionsMenuOpen=g}_triggerAction(g){const E=g.currentTarget.dataset.actionUid,{allActions:I}=this.viewModel,W=I.findIndex(ge=>ge.uid===E),ee=I.getItemAt(W);ee&&"toggle"===ee.type&&(ee.value=!ee.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(W)}_selectFeature(g){const E=g.currentTarget["data-feature-index"];isNaN(E)||(this.viewModel.selectedFeatureIndex=E),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"actionsMenuId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"actionsMenuButtonId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"featureMenuId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"titleId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"contentId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"hasContent",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"featureNavigationVisible",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"collapsible",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"featureMenuVisible",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"contentCollapsed",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"dividedActions",null),(0,D._)([(0,hr.B)("viewModel.actions")],ei.prototype,"actions",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"actionsMenuOpen",null),(0,D._)([(0,A.Cb)()],ei.prototype,"alignment",void 0),(0,D._)([(0,hr.B)("viewModel.autoCloseEnabled")],ei.prototype,"autoCloseEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.autoOpenEnabled")],ei.prototype,"autoOpenEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.defaultPopupTemplateEnabled")],ei.prototype,"defaultPopupTemplateEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.content")],ei.prototype,"content",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"collapsed",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"collapseEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"currentAlignment",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"currentDockPosition",null),(0,D._)([(0,A.Cb)()],ei.prototype,"dockOptions",null),(0,D._)([(0,A.Cb)()],ei.prototype,"dockEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.featureCount")],ei.prototype,"featureCount",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"featureMenuOpen",void 0),(0,D._)([(0,hr.B)("viewModel.features")],ei.prototype,"features",void 0),(0,D._)([(0,hr.B)("viewModel.goToOverride")],ei.prototype,"goToOverride",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"headingLevel",void 0),(0,D._)([(0,hr.B)("viewModel.highlightEnabled")],ei.prototype,"highlightEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.location")],ei.prototype,"location",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ei.prototype,"label",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"maxInlineActions",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Popup/t9n/Popup")],ei.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],ei.prototype,"messagesCommon",void 0),(0,D._)([(0,hr.B)("viewModel.promises")],ei.prototype,"promises",void 0),(0,D._)([(0,hr.B)("viewModel.selectedFeature")],ei.prototype,"selectedFeature",void 0),(0,D._)([(0,hr.B)("viewModel.selectedFeatureIndex")],ei.prototype,"selectedFeatureIndex",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ei.prototype,"selectedFeatureWidget",null),(0,D._)([(0,A.Cb)()],ei.prototype,"spinnerEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.title")],ei.prototype,"title",void 0),(0,D._)([(0,hr.B)("viewModel.updateLocationEnabled")],ei.prototype,"updateLocationEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.view")],ei.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:fa}),ma(["triggerAction","trigger-action"])],ei.prototype,"viewModel",void 0),(0,D._)([(0,hr.B)("viewModel.visible")],ei.prototype,"visible",void 0),(0,D._)([(0,A.Cb)()],ei.prototype,"visibleElements",void 0),(0,D._)([(0,nt.p)("visibleElements")],ei.prototype,"castVisibleElements",null),(0,D._)([(0,co.h)()],ei.prototype,"_close",null),(0,D._)([(0,co.h)()],ei.prototype,"_toggleDockEnabled",null),(0,D._)([(0,co.h)()],ei.prototype,"_toggleFeatureMenu",null),(0,D._)([(0,co.h)()],ei.prototype,"_toggleActionsMenu",null),(0,D._)([(0,co.h)()],ei.prototype,"_triggerAction",null),(0,D._)([(0,co.h)()],ei.prototype,"_selectFeature",null),(0,D._)([(0,co.h)()],ei.prototype,"_next",null),(0,D._)([(0,co.h)()],ei.prototype,"_previous",null),ei=(0,D._)([(0,J.j)(Bp)],ei);const ks=ei,Xo=[0,0];function ol(g){g&&((0,or.cS)(g),g.parentNode&&g.parentNode.removeChild(g))}const Dc=g=>{let E=class extends g{constructor(...I){super(...I),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([(0,Ht.YP)(()=>this.cursor,W=>{const{surface:ee}=this;ee&&ee.setAttribute("data-cursor",W)}),(0,Ht.YP)(()=>this.interacting,W=>{const{surface:ee}=this;ee&&ee.setAttribute("data-interacting",W.toString())})])}initialize(){this.handles.add((0,Ht.YP)(()=>this.ui,(I,W)=>this._handleUIChange(I,W))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(I){const W=this._get("container");if(W===I)return;const ee="dom-size";if(this.handles.remove(ee),this._stopMeasuring(),W&&(W.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),ol(this.root),this._set("root",null),(0,or.YD)(this.userContent,W),ol(this.userContent),this._set("userContent",null)),I){I.classList.add("esri-view");const ge=document.createElement("div");ge.className="esri-view-user-storage",(0,or.YD)(I,ge),I.appendChild(ge),this._set("userContent",ge);const Ae=document.createElement("div");Ae.className="esri-view-root",I.insertBefore(Ae,I.firstChild),this._set("root",Ae);const He=document.createElement("div");He.className="esri-view-surface",He.setAttribute("role","application"),He.tabIndex=0,Ae.appendChild(He),this._set("surface",He);const gt=new rs;Ae.appendChild(gt.surface),this._set("overlay",gt),(0,Ht.YP)(()=>gt.needsRender,At=>{At&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,Hr.A)({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add((0,Ht.YP)(()=>this.size,At=>{const[Yt,ln]=At,kn="esri-view-surface--inset-outline";Yt>=document.body.clientWidth||ln>=document.body.clientHeight?He.classList.add(kn):He.classList.remove(kn)},Ht.nn),ee),this._set("container",I),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const I=document.activeElement===this.surface;return document.hasFocus()&&I}get popup(){return this._get("popup")||new ks({view:this})}set popup(I){const W=this._get("popup");W&&W!==I&&W.destroy(),this._set("popup",I)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(I,W,ee){const ge=this.position;return I-=ge[0],W-=ge[1],ee?(ee[0]=I,ee[1]=W):ee=[I,W],ee}containerToPage(I,W,ee){const ge=this.position;return I+=ge[0],W+=ge[1],ee?(ee[0]=I,ee[1]=W):ee=[I,W],ee}_handleUIChange(I,W){W&&(this.handles.remove("ui"),W.destroy()),I&&this._wireUI(I),this._set("ui",I)}_wireUI(I){this.handles.remove("ui"),I&&(I.view=this,this.handles.add([(0,Ht.YP)(()=>this.root,W=>{I.container=W?function Tc(g){const E=document.createElement("div");return g.appendChild(E),E}(W):null},Ht.nn),(0,Ht.YP)(()=>this.popup,(W,ee)=>{ee&&I.remove(ee,"popup"),W&&(W.view=I.view,I.add(W,{key:"popup",position:"manual"}))},Ht.nn)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const I=this._freqInfo;I.freq=16,I.time=750,this.handles.add([(()=>{const W=()=>{I.freq=16,I.time=750};return window.addEventListener("resize",W),{remove(){window.removeEventListener("resize",W)}}})(),(0,Hr.A)({prepare:W=>{const ee=this._measure(),ge=this._freqInfo;if(ge.time+=W.deltaTime,ee&&(ge.freq=16,this._get("resizing")||this._set("resizing",!0)),ge.time<ge.freq)return;ge.time=0;const Ae=this._position();ge.freq=Ae||ee?16:Math.min(750,2*ge.freq),!ee&&ge.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const I=this.container,W=I?I.clientWidth:0,ee=I?I.clientHeight:0;if(0===W||0===ee)return this.suspended||this._set("suspended",!0),!1;const ge=this.width,Ae=this.height;return W===ge&&ee===Ae?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",W),this._set("height",ee),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:ge,oldHeight:Ae,width:W,height:ee}),!0)}_position(){const W=this.position,ee=function xl(g){const E=(g.ownerDocument||window.document).defaultView,I=g.getBoundingClientRect();return Xo[0]=I.left+E.pageXOffset,Xo[1]=I.top+E.pageYOffset,Xo}(this.container);return!(W&&ee[0]===W[0]&&ee[1]===W[1]||(this._set("position",[ee[0],ee[1]]),0))}forceDOMReadyCycle(){}};return(0,D._)([(0,A.Cb)({value:null,cast:I=>(0,or.L7)(I)})],E.prototype,"container",null),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"focused",null),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"height",void 0),(0,D._)([(0,A.Cb)({type:ks})],E.prototype,"popup",null),(0,D._)([(0,A.Cb)({type:rs})],E.prototype,"overlay",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"position",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"resizing",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"root",void 0),(0,D._)([(0,A.Cb)({value:null,readOnly:!0})],E.prototype,"size",null),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"surface",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"suspended",void 0),(0,D._)([(0,A.Cb)()],E.prototype,"ui",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"userContent",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],E.prototype,"width",void 0),(0,D._)([(0,A.Cb)()],E.prototype,"widthBreakpoint",void 0),E=(0,D._)([(0,J.j)("esri.views.DOMContainer")],E),E},od=g=>{let E=class extends g{fetchPopupFeatures(I,W){var ee=this;return(0,k.Z)(function*(){yield ee.when();const{location:ge,queryArea:Ae,layerViewsAndGraphics:He,clientOnlyGraphics:gt}=yield ee._prepareFetchPopupFeatures(I,W),At=Promise.resolve(gt),Yt=ee._queryLayerPopupFeatures(Ae,He,W),ln=Yt.map(kn=>kn.promise);return{location:ge,clientOnlyGraphics:gt,allGraphicsPromise:(0,U.WW)([At,...ln]).then(kn=>Array.from(new Set(kn.flat()))),promisesPerLayerView:Yt}})()}_queryLayerPopupFeatures(I,W,ee){return W.map(({layerView:ge,graphics:Ae})=>{const He={clientGraphics:Ae,event:(0,Re.pC)(ee)?ee.event:null,signal:(0,Re.pC)(ee)?ee.signal:null,defaultPopupTemplateEnabled:!!(0,Re.pC)(ee)&&!!ee.defaultPopupTemplateEnabled},gt=ge.fetchPopupFeatures(I,He);return{layerView:ge,promise:gt}})}_isValidPopupGraphic(I,W){return I&&!!I.getEffectivePopupTemplate((0,Re.pC)(W)&&W.defaultPopupTemplateEnabled)}_prepareFetchPopupFeatures(I,W){var ee=this;return(0,k.Z)(function*(){const{clientGraphics:ge,queryArea:Ae,location:He}=yield ee._popupHitTestGraphics(I,W),gt=ee._getFetchPopupLayerViews(),{layerViewsAndGraphics:At,clientOnlyGraphics:Yt}=ee._graphicsPerFetchPopupLayerView(ge,gt);return{clientOnlyGraphics:Yt,layerViewsAndGraphics:At,queryArea:Ae,location:He}})()}_popupHitTestGraphics(I,W){var ee=this;return(0,k.Z)(function*(){const{results:ge,mapPoint:Ae}=yield ee.popupHitTest(I),He=ge.filter(At=>"graphic"===At.type&&ee._isValidPopupGraphic(At.graphic,W)),gt=He.length?He[0].mapPoint:null;return{clientGraphics:He.map(At=>At.graphic),queryArea:Ae,location:Ae||gt}})()}_getFetchPopupLayerViews(){const I=[];return this.allLayerViews.forEach(W=>{this._isValidPopupLayerView(W)&&I.push(W)}),(0,Re.pC)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&I.push(this.graphicsView),I.reverse()}_isValidPopupLayerView(I){return(0,Re.pC)(I)&&(!("layer"in I)||!I.suspended)&&"fetchPopupFeatures"in I}_graphicsPerFetchPopupLayerView(I,W){const ee=[],ge=new Map,Ae=W.map(He=>{const gt=[];return ge.set("layer"in He?He.layer:He.graphics,gt),{layerView:He,graphics:gt}});for(const He of I){const gt=ge.get(He.layer)||ge.get(He.sourceLayer)||null;gt?gt.push(He):ee.push(He)}return{layerViewsAndGraphics:Ae,clientOnlyGraphics:ee}}};return E=(0,D._)([(0,J.j)("esri.views.PopupView")],E),E};var qc=p(97478),Wp=p(54024),Vp=p(60330),Qf=p(28705),qh=p(79334),eu=p(65234);const Xy=R.Z.getLogger("esri.support.AnalysesCollection");let Zp=class extends Qf.a{constructor(g){super(g),this.handles.add(this.on("before-add",E=>{(0,Re.Wi)(E.item)||E.item.parent===this.owner&&(Xy.warn("Analysis inside the collection must be unique. Not adding this element again."),E.preventDefault())}))}_own(g){g.parent=this.owner}_release(g){g.parent=null}};Zp=(0,D._)([(0,J.j)("esri.support.AnalysesCollection")],Zp);var S0=p(51815);let ad=class extends Le.Z{constructor(g){super(g),this.view=null,this.baseLayerViews=new B.Z,this.referenceLayerViews=new B.Z,this._loadingHandle=(0,Ht.YP)(()=>{var E,I;return null==(I=null==(E=this.view)?void 0:E.map)?void 0:I.basemap},E=>{E&&E.load().catch(()=>{})},Ht.nn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var E,I;if(this.view&&this.view.suspended)return!1;const g=null==(I=null==(E=this.view)?void 0:E.map)?void 0:I.basemap;return!!g&&!!g.loaded&&(this.baseLayerViews.some(W=>W.updating)||this.referenceLayerViews.some(W=>W.updating))}};(0,D._)([(0,A.Cb)({constructOnly:!0})],ad.prototype,"view",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ad.prototype,"baseLayerViews",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ad.prototype,"referenceLayerViews",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ad.prototype,"suspended",null),(0,D._)([(0,A.Cb)({type:Boolean,readOnly:!0})],ad.prototype,"updating",null),ad=(0,D._)([(0,J.j)("esri.views.BasemapView")],ad);const qy=R.Z.getLogger("esri.views.LayerViewManager");class T0{constructor(E,I,W){this.layer=E,this.view=I,this.layerViewImporter=W,this._controller=new AbortController,this._deferred=(0,U.dD)(),this._started=!1,this.done=!1,(0,U.fu)(this._controller.signal,()=>{const ee=new te.Z("cancelled:layerview-create","layerview creation cancelled",{layer:E});this._deferred.reject(ee)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:E}=this;if(!E)return;const{layer:I,view:W}=this;I.emit("layerview-destroy",{view:W,layerView:E}),W.emit("layerview-destroy",{layer:I,layerView:E}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}start(){var E=this;return(0,k.Z)(function*(){var ge,Ae;if(E._started)return;E._started=!0;const{_controller:{signal:I},layer:W,view:ee}=E;E._map=ee.map;try{let He,gt;if(yield W.load({signal:I}),"prefetchResources"in W&&(yield W.prefetchResources({signal:I})),W.createLayerView)He=yield W.createLayerView(ee,{signal:I});else{if(!E.layerViewImporter.hasLayerViewModule(W))throw new te.Z("layer:view-not-supported","No layerview implementation was found");const ln=yield E.layerViewImporter.importLayerView(W);(0,U.k_)(I),He="default"in ln?new ln.default({layer:W,view:ee}):new ln({layer:W,view:ee})}const At=()=>{gt=(0,Re.hw)(gt),He.destroyed||He.destroy(),He.layer=null,He.parent=null,He.view=null,E.done=!0};gt=(0,U.fu)(I,At),(0,U.k_)(I);try{yield He.when()}catch(ln){throw At(),ln}if(!(null==(Ae=null==(ge=E._map)?void 0:ge.allLayers)?void 0:Ae.includes(W)))return At(),void E._deferred.reject(new te.Z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:W}));E.layerView=He,W.emit("layerview-create",{view:ee,layerView:He}),ee.emit("layerview-create",{layer:W,layerView:He}),E.done=!0,E._deferred.resolve(He)}catch(He){W.emit("layerview-create-error",{view:ee,error:He}),ee.emit("layerview-create-error",{layer:W,error:He}),E.done=!0,E._deferred.reject(new te.Z("layerview:create-error","layerview creation failed",{layer:W,error:He}))}})()}}let Rl=class extends oa.r{constructor(g){super(g),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new wi.t,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var I;const E=null==(I=this.view.map)?void 0:I.allLayers;if(E)for(const W of E)this.layerViewImporter.hasLayerViewModule(W)&&this.layerViewImporter.importLayerView(W)},this._reschedule=()=>((0,Re.Wi)(this._workPromise)&&(this._workPromise=(0,U.dD)()),this.handles.remove("reschedule"),this.handles.add((0,Hr.Os)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var ge,Ae,He;const E=this.view.map;if(this._map!==E&&(this.clear(),this._map=E),(0,Re.Wi)(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const I=new je.Z({getCollections:()=>this._rootCollectionNames.map(gt=>this.get(gt)),getChildrenFunction:gt=>gt&&"layers"in gt?gt.layers:null});if(!I)return this._workPromise.resolve(),void(this._workPromise=null);for(const gt of I)this._createLayerView(gt);this._refreshCollections();for(const[gt,At]of this._layerLayerViewInfoMap)I.includes(gt)||(this._layerLayerViewInfoMap.delete(At.layer),At.destroy());const W=I.filter(gt=>"group"===gt.type).map(gt=>gt.layers),ee=[null==(ge=null==E?void 0:E.ground)?void 0:ge.layers,null==(Ae=null==E?void 0:E.basemap)?void 0:Ae.baseLayers,null==(He=null==E?void 0:E.basemap)?void 0:He.referenceLayers,null==E?void 0:E.layers,...W].filter(gt=>!!gt);this.handles.add(ee.map(gt=>this._watchUpdatingTracking.addOnCollectionChange(()=>gt,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([(0,Ht.on)(()=>{var g,E;return null==(E=null==(g=this.view)?void 0:g.map)?void 0:E.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,Ht.YP)(()=>{const g=this.view,E=null==g?void 0:g.map;return[null==E?void 0:E.basemap,null==E?void 0:E.ground,null==E?void 0:E.layers,null==g?void 0:g.ready]},()=>this._reschedule(),Ht.tX)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const g=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&g.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(g)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return(0,Re.pC)(this._workPromise)||this._watchUpdatingTracking.updating||(0,so.oE)(this._layerLayerViewInfoMap,g=>!g.done)}get updatingRemaining(){let g=0;for(const E of this._layerLayerViewInfoMap.values())E.done||++g;return g}clear(){if(!this.destroyed){for(const g of this._layerLayerViewInfoMap.values())g.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}whenLayerView(g){var E=this;return(0,k.Z)(function*(){if(yield E._reschedule(),!E._layerLayerViewInfoMap.has(g))throw new te.Z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:g});return E._layerLayerViewInfoMap.get(g).promise})()}_refreshCollections(){for(const[g,E]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(g),this.get(E),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(g,E,I){if(!g||!E)return void(E&&E.removeAll());let W=0;for(const ee of g){const ge=this._layerLayerViewInfoMap.get(ee);if(!ge||!ge.layerView)continue;const Ae=ge.layerView;Ae.layer=ee,Ae.parent=I,E.getItemAt(W)!==Ae&&E.splice(W,0,Ae),ee.layers&&this._populateLayerViewsOwners(ee.layers,Ae.layerViews,Ae),W+=1}W<E.length&&E.splice(W,E.length)}_createLayerView(g){if(this._layerLayerViewInfoMap.has(g))return this.view.ready&&this._layerLayerViewInfoMap.get(g).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");g.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(g)&&this.layerViewImporter.importLayerView(g);const E=new T0(g,this.view,this.layerViewImporter);E.promise.then(()=>this._refreshCollections(),I=>{var W,ee;I&&((0,U.D_)(I)||"cancelled:layerview-create"===I.name)||qy.error(`Failed to create layerview for layer title:'${null!=(W=g.title)?W:"no title"}', id:'${null!=(ee=g.id)?ee:"no id"}' of type '${g.type}'.`,{layer:g,error:I}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(g,E),this.view.ready&&E.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,D._)([(0,A.Cb)()],Rl.prototype,"_workPromise",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Rl.prototype,"_watchUpdatingTracking",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Rl.prototype,"_layersToLayerViews",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Rl.prototype,"_rootCollectionNames",null),(0,D._)([(0,A.Cb)()],Rl.prototype,"layerViewImporter",void 0),(0,D._)([(0,A.Cb)()],Rl.prototype,"supportsGround",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Rl.prototype,"updating",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Rl.prototype,"updatingRemaining",null),(0,D._)([(0,A.Cb)({constructOnly:!0})],Rl.prototype,"view",void 0),Rl=(0,D._)([(0,J.j)("esri.views.LayerViewManager")],Rl);const D0=Rl;let Cl=class extends Le.Z{constructor(g){super(g),this.factor=1.5,this.offset=(0,ir.vW)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,D._)([(0,A.Cb)({type:Number})],Cl.prototype,"factor",void 0),(0,D._)([(0,A.Cb)({nonNullable:!0})],Cl.prototype,"offset",void 0),(0,D._)([(0,A.Cb)()],Cl.prototype,"position",void 0),(0,D._)([(0,A.Cb)({type:Number,range:{min:0}})],Cl.prototype,"size",void 0),(0,D._)([(0,A.Cb)()],Cl.prototype,"maskUrl",void 0),(0,D._)([(0,A.Cb)()],Cl.prototype,"maskEnabled",void 0),(0,D._)([(0,A.Cb)()],Cl.prototype,"overlayUrl",void 0),(0,D._)([(0,A.Cb)()],Cl.prototype,"overlayEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Cl.prototype,"version",null),(0,D._)([(0,A.Cb)({type:Boolean})],Cl.prototype,"visible",void 0),Cl=(0,D._)([(0,J.j)("esri.views.Magnifier")],Cl);const P0=Cl;var Xf=p(74447);let hh=class extends Le.Z{constructor(g,E){var I;super({}),this._stage=g,this._textureRequests=new Map,this._frameTask=null!=(I=null==E?void 0:E.registerTask(Xf.T8.TEXTURE_UNLOAD))?I:Xf.sq}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(g=>this._releaseTextureRequest(g)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(g,E,I){const W=this.makeUid(g);let ee=this._textureRequests.get(W);return ee||(ee={referenceCount:0,texture:E(),textureAsync:null,abortController:null,onRemove:I},this._stage&&(this._stage.add(ee.texture),this._stage.loadImmediate(ee.texture)),this._textureRequests.set(W,ee)),ee.referenceCount++,{uid:W,texture:ee.texture,release:()=>this._release(W)}}_release(g){const E=this._textureRequests.get(g);E?(E.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+g),E.referenceCount--,E.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(g))):console.warn(`TextureCollection: texture doesn't exist: '${g}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(g){if(!this._textureRequests)return;const E=this._textureRequests.get(g);!E||E.referenceCount>0||(this._releaseTextureRequest(E),this._textureRequests.delete(g))}_releaseTextureRequest(g){var E;g.onRemove&&g.onRemove(),g.texture?null==(E=this._stage)||E.remove(g.texture):g.abortController&&(g.abortController.abort(),g.abortController=null)}makeUid(g,E=null){return(0,Re.pC)(E)?`${g}.${E}px`:g}};(0,D._)([(0,A.Cb)()],hh.prototype,"_frameTask",void 0),(0,D._)([(0,A.Cb)()],hh.prototype,"updating",null),hh=(0,D._)([(0,J.j)("esri.views.3d.support.TextureCollection")],hh);var ld,g,Za=p(35216);(g=ld||(ld={}))[g.Left=0]="Left",g[g.Middle=1]="Middle",g[g.Right=2]="Right";const qf=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],em={};function I0(g){return!!em[g]}qf.forEach(g=>{em[g]=!0});class e_{constructor(E){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=E,this.inputManager=null}connect(E){E&&this.disconnect(),this.inputManager=E,this.handlers.forEach(({handler:I,priority:W},ee)=>this.inputManager.installHandlers(ee,[I],W))}disconnect(){this.inputManager&&this.handlers.forEach((E,I)=>this.inputManager.uninstallHandlers(I)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(E,I,W,ee){const ge=Array.isArray(E)?E:E.split(",");if(!function zp(g){for(const E of g)if(!I0(E))return!1;return!0}(ge))return ge.some(I0)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let Ae,He;Array.isArray(I)?He=I:(Ae=I,He=[]),"function"==typeof W?Ae=W:ee=W,ee=null!=ee?ee:Yc.f.DEFAULT;const gt=this._createUniqueGroupName(),At=new A0(this.view,ge,He,Ae);this.handlers.set(gt,{handler:At,priority:ee});for(const Yt of ge){const ln=this.handlerCounts.get(Yt)||0;this.handlerCounts.set(Yt,ln+1)}return this.inputManager&&this.inputManager.installHandlers(gt,[At],ee),{remove:()=>this._removeHandler(gt,ge)}}hasHandler(E){return!!this.handlerCounts.get(E)}_removeHandler(E,I){if(this.handlers.has(E)){this.handlers.delete(E);for(const W of I){const ee=this.handlerCounts.get(W);void 0===ee?console.error("Trying to remove handler for event that has no handlers registered: ",W):1===ee?this.handlerCounts.delete(W):this.handlerCounts.set(W,ee-1)}}this.inputManager&&this.inputManager.uninstallHandlers(E)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class A0 extends Za.a{constructor(E,I,W,ee){super(!0),this.view=E;for(const ge of I)switch(ge){case"click":this.registerIncoming("click",W,Ae=>ee(this._wrapClick(Ae)));break;case"double-click":this.registerIncoming("double-click",W,Ae=>ee(this._wrapDoubleClick(Ae)));break;case"immediate-click":this.registerIncoming("immediate-click",W,Ae=>ee(this._wrapImmediateClick(Ae)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",W,Ae=>ee(this._wrapImmediateDoubleClick(Ae)));break;case"hold":this.registerIncoming("hold",W,Ae=>ee(this._wrapHold(Ae)));break;case"drag":this.registerIncoming("drag",W,Ae=>{const He=this._wrapDrag(Ae);He&&ee(He)});break;case"key-down":this.registerIncoming("key-down",W,Ae=>ee(this._wrapKeyDown(Ae)));break;case"key-up":this.registerIncoming("key-up",W,Ae=>ee(this._wrapKeyUp(Ae)));break;case"pointer-down":this.registerIncoming("pointer-down",W,Ae=>ee(this._wrapPointer(Ae,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",W,Ae=>ee(this._wrapPointer(Ae,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",W,Ae=>ee(this._wrapPointer(Ae,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",W,Ae=>ee(this._wrapPointerDrag(Ae)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",W,Ae=>ee(this._wrapMouseWheel(Ae)));break;case"pointer-enter":this.registerIncoming("pointer-enter",W,Ae=>ee(this._wrapPointer(Ae,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",W,Ae=>ee(this._wrapPointer(Ae,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",W,Ae=>{ee(this._wrapGamepad(Ae))});break;case"focus":this.registerIncoming("focus",W,Ae=>{ee(this._wrapFocus(Ae))});break;case"blur":this.registerIncoming("blur",W,Ae=>{ee(this._wrapBlur(Ae))})}}_wrapFocus(E){return{type:"focus",timestamp:E.timestamp,native:E.data.native,cancelable:E.cancelable,stopPropagation:()=>E.stopPropagation(),async:I=>E.async(I),preventDefault:()=>E.preventDefault()}}_wrapBlur(E){return{type:"blur",timestamp:E.timestamp,native:E.data.native,cancelable:E.cancelable,stopPropagation:()=>E.stopPropagation(),async:I=>E.async(I),preventDefault:()=>E.preventDefault()}}_wrapClick(E){const{pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,eventId:gt}=E.data,{cancelable:At,timestamp:Yt}=E;return{type:"click",pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,timestamp:Yt,screenPoint:(0,ir.vW)(ge,Ae),mapPoint:this._getMapPoint(ge,Ae),eventId:gt,cancelable:At,stopPropagation:()=>E.stopPropagation(),async:ln=>E.async(ln),preventDefault:()=>E.preventDefault()}}_wrapDoubleClick(E){const{pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,eventId:gt}=E.data,{cancelable:At,timestamp:Yt}=E;return{type:"double-click",pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,timestamp:Yt,mapPoint:this._getMapPoint(ge,Ae),eventId:gt,cancelable:At,stopPropagation:()=>E.stopPropagation(),async:ln=>E.async(ln),preventDefault:()=>E.preventDefault()}}_wrapImmediateClick(E){const{pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,eventId:gt}=E.data,At=He.pointerId,{cancelable:Yt,timestamp:ln}=E;return{type:"immediate-click",pointerId:At,pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,timestamp:ln,mapPoint:this._getMapPoint(ge,Ae),eventId:gt,cancelable:Yt,stopPropagation:()=>E.stopPropagation(),async:kn=>E.async(kn),preventDefault:()=>E.preventDefault()}}_wrapImmediateDoubleClick(E){const{pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,eventId:gt}=E.data,At=He.pointerId,{cancelable:Yt,timestamp:ln}=E;return{type:"immediate-double-click",pointerId:At,pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,timestamp:ln,mapPoint:this._getMapPoint(ge,Ae),eventId:gt,cancelable:Yt,stopPropagation:()=>E.stopPropagation(),async:kn=>E.async(kn),preventDefault:()=>E.preventDefault()}}_wrapHold(E){const{pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He}=E.data,{cancelable:gt,timestamp:At}=E;return{type:"hold",pointerType:I,button:W,buttons:ee,x:ge,y:Ae,native:He,timestamp:At,mapPoint:this._getMapPoint(ge,Ae),cancelable:gt,stopPropagation:()=>E.stopPropagation(),async:Yt=>E.async(Yt),preventDefault:()=>E.preventDefault()}}_getMapPoint(E,I){return this.view.toMap((0,ir.vW)(E,I),{exclude:[]})}_wrapDrag(E){const I=E.data,{x:W,y:ee}=I.center,{action:ge,pointerType:Ae,button:He}=I;if("start"===ge&&(this.latestDragStart=I),!this.latestDragStart)return;const gt=I.pointer.native,At=I.buttons,{cancelable:Yt,timestamp:ln}=E,kn={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===ge&&(this.latestDragStart=void 0),{type:"drag",action:ge,x:W,y:ee,origin:kn,pointerType:Ae,button:He,buttons:At,radius:I.radius,angle:(0,gi.BV)(I.angle),native:gt,timestamp:ln,cancelable:Yt,stopPropagation:()=>E.stopPropagation(),async:Fn=>E.async(Fn),preventDefault:()=>E.preventDefault()}}_wrapKeyDown(E){const{key:I,repeat:W,native:ee}=E.data,{cancelable:ge,timestamp:Ae}=E;return{type:"key-down",key:I,repeat:W,native:ee,timestamp:Ae,cancelable:ge,stopPropagation:()=>E.stopPropagation(),async:He=>E.async(He),preventDefault:()=>E.preventDefault()}}_wrapKeyUp(E){const{key:I,native:W}=E.data,{cancelable:ee,timestamp:ge}=E;return{type:"key-up",key:I,native:W,timestamp:ge,cancelable:ee,stopPropagation:()=>E.stopPropagation(),async:Ae=>E.async(Ae),preventDefault:()=>E.preventDefault()}}_wrapPointer(E,I){const{x:W,y:ee,button:ge,buttons:Ae,native:He,eventId:gt}=E.data,At=He.pointerId,Yt=He.pointerType,{cancelable:ln,timestamp:kn}=E;return{type:I,x:W,y:ee,pointerId:At,pointerType:Yt,button:ge,buttons:Ae,native:He,timestamp:kn,eventId:gt,cancelable:ln,stopPropagation:()=>E.stopPropagation(),async:Fn=>E.async(Fn),preventDefault:()=>E.preventDefault()}}_wrapPointerDrag(E){const{x:I,y:W,buttons:ee,native:ge,eventId:Ae}=E.data.currentEvent,{button:He}=E.data.startEvent,gt=E.data.startEvent.native.pointerId,At=E.data.startEvent.native.pointerType,Yt=E.data.action,ln={x:E.data.startEvent.x,y:E.data.startEvent.y},{cancelable:kn,timestamp:Fn}=E;return{type:"pointer-drag",x:I,y:W,pointerId:gt,pointerType:At,button:He,buttons:ee,action:Yt,origin:ln,native:ge,timestamp:Fn,eventId:Ae,cancelable:kn,stopPropagation:()=>E.stopPropagation(),async:Or=>E.async(Or),preventDefault:()=>E.preventDefault()}}_wrapMouseWheel(E){const{cancelable:I,data:W,timestamp:ee}=E,{x:ge,y:Ae,deltaY:He,native:gt}=W;return{type:"mouse-wheel",x:ge,y:Ae,deltaY:He,native:gt,timestamp:ee,cancelable:I,stopPropagation:()=>E.stopPropagation(),async:At=>E.async(At),preventDefault:()=>E.preventDefault()}}_wrapGamepad(E){const{action:I,state:W,device:ee}=E.data,{cancelable:ge,timestamp:Ae}=E,{buttons:He,axes:gt}=W;return{type:"gamepad",device:ee,timestamp:Ae,action:I,buttons:He,axes:gt,cancelable:ge,stopPropagation:()=>E.stopPropagation(),async:At=>E.async(At),preventDefault:()=>E.preventDefault()}}}var ph,tm,$p;(function(g){g[g.USER=0]="USER",g[g.MANAGER=1]="MANAGER"})(ph||(ph={})),function(g){g[g.None=0]="None",g[g.Unfocused=1]="Unfocused",g[g.Focused=2]="Focused",g[g.Unselected=4]="Unselected",g[g.Selected=8]="Selected",g[g.All=15]="All"}(tm||(tm={})),function(g){g[g.None=0]="None",g[g.Custom1=16]="Custom1",g[g.Custom2=32]="Custom2",g[g.Custom3=64]="Custom3",g[g.Custom4=128]="Custom4",g[g.Custom5=256]="Custom5",g[g.Custom6=512]="Custom6",g[g.Custom7=1024]="Custom7",g[g.Custom8=2048]="Custom8",g[g.Custom9=4096]="Custom9",g[g.Custom10=8192]="Custom10",g[g.Custom11=16384]="Custom11",g[g.Custom12=32768]="Custom12",g[g.All=65520]="All"}($p||($p={}));const x0=R.Z.getLogger("esri.views.interactive.interactiveToolUtils");function Kp(g){return[g.on("before-add",E=>{const I=E.item;if(null==I||g.includes(I))return x0.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void E.preventDefault();I.onAdd()}),g.on("after-remove",E=>{const I=E.item;I.visible=!1,I.active&&(I.view.activeTool=null),I.destroy()})]}function Zd(g){return g.visible&&g.getEditableFlag(ph.USER)&&g.getEditableFlag(ph.MANAGER)}function Pc(g){return(0,ir.vW)(g.x,g.y)}function nm(g,E){const I=(g instanceof HTMLElement?g:g.surface).getBoundingClientRect();return(0,ir.vW)(E.clientX-I.left,E.clientY-I.top)}function Gp(g,E){return E instanceof Event?nm(g,E):Pc(E)}function fh(g){if(g instanceof Event)return!0;if("object"==typeof g&&"type"in g)switch(g.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class t_{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(E,I){const W=()=>E.stopPropagation();switch(E.type){case"pointer-move":rm(E.pointerType)&&this._pointerLocations.set(E.pointerId,{x:E.x,y:E.y,pointerType:E.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(W(),"end"===E.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!L0(E))break;const ee=Pc(E),ge=this._intersect(ee,E.pointerType,I.forEachTool);if((0,Re.Wi)(ge))break;const Ae=this._findToolAndManipulatorByKey(ge,I.forEachTool,ep),He=(0,Re.yw)(Ae,At=>At.manipulator),gt=(0,Re.yw)(Ae,At=>At.tool);!((0,Re.pC)(He)&&(0,Re.pC)(gt)&&He.interactive)||He.grabbable&&He.grabbableForEvent(E)||!He.grabbing||He.dragging||this._ungrabManipulatorBeforeDragging(He,gt,E),(0,Re.pC)(He)&&He.interactive&&He.grabbable&&He.grabbableForEvent(E)&&!He.grabbing&&(this._grabbedManipulators.set(E.pointerId,{key:ge,start:ee,pointerType:E.pointerType}),1===this._grabbedManipulators.size&&I.activeTool!==ge.tool&&(this._currentlyActiveTool=I.activeTool,this._revertToActiveTool=!0,I.setActiveTool(ge.tool)),He.grabbing=!0,He.events.emit("grab-changed",{action:"start",pointerType:E.pointerType,screenPoint:ee}),W());break}case"pointer-up":this._handlePointerEnd(E,I);break;case"pointer-drag":{if(!L0(E))break;const ee=this._grabbedManipulators.get(E.pointerId),ge=this._draggedManipulators.get(E.pointerId),Ae=(0,Re.yw)(ee||ge,({key:Yt})=>Yt),He=this._findManipulatorByKey(Ae,I.forEachTool);if((0,Re.Wi)(He))break;const gt=Pc(E);gt.x=(0,gi.uZ)(gt.x,0,I.view.width),gt.y=(0,gi.uZ)(gt.y,0,I.view.height);const At=(0,Re.Wg)(ee||ge).start;switch(E.action){case"start":case"update":"update"!==E.action&&1!==this._grabbedManipulators.size||(He.dragging=!0,He.events.emit("drag",ge?{action:"update",start:At,screenPoint:gt}:{action:"start",start:At,screenPoint:gt,pointerType:E.pointerType}),this._draggedManipulators.set(E.pointerId,{key:(0,Re.Wg)(Ae),start:At}));break;case"end":He.dragging=!1,ge&&He.events.emit("drag",{action:"end",start:At,screenPoint:gt}),this._draggedManipulators.delete(E.pointerId),this._handlePointerEnd(E,I)}W();break}case"immediate-click":{const ee=Pc(E),ge=this._intersect(ee,E.pointerType,I.forEachTool),Ae=this._findToolAndManipulatorByKey(ge,I.forEachTool,ep);if(function n_(g){return!!g.native.shiftKey}(E)||I.forEachTool(Yt=>{if((!(0,Re.pC)(Ae)||Ae.tool!==Yt||Yt.automaticManipulatorSelection)&&Yt.manipulators){let ln=!1;Yt.manipulators.forEach(({manipulator:kn})=>{kn.selected&&(kn.selected=!1,ln=!0)}),ln&&Yt.manipulatorSelectionChanged&&Yt.manipulatorSelectionChanged()}}),(0,Re.Wi)(Ae))break;const{manipulator:He,tool:gt}=Ae;if(!He.interactive)break;He.selectable&&gt.automaticManipulatorSelection&&(He.selected=!He.selected,gt.manipulatorSelectionChanged&&gt.manipulatorSelectionChanged()),He.events.emit("immediate-click",{screenPoint:ee,button:E.button,pointerType:E.pointerType,shiftKey:E.native.shiftKey,stopPropagation:W});break}case"click":{const ee=Pc(E),ge=this._intersect(ee,E.pointerType,I.forEachTool),Ae=this._findManipulatorByKey(ge,I.forEachTool);if((0,Re.Wi)(Ae)||!Ae.interactive)break;Ae.events.emit(E.type,{screenPoint:ee,button:E.button,pointerType:E.pointerType,shiftKey:E.native.shiftKey}),W();break}case"double-click":{const ee=Pc(E),ge=this._intersect(ee,E.pointerType,I.forEachTool),Ae=this._findManipulatorByKey(ge,I.forEachTool);if((0,Re.Wi)(Ae)||!Ae.interactive)break;Ae.events.emit("double-click",{screenPoint:ee,button:E.button,pointerType:E.pointerType,shiftKey:E.native.shiftKey,stopPropagation:W});break}case"immediate-double-click":{const ee=Pc(E),ge=this._intersect(ee,E.pointerType,I.forEachTool),Ae=this._findManipulatorByKey(ge,I.forEachTool);if((0,Re.Wi)(Ae)||!Ae.interactive)break;Ae.events.emit("immediate-double-click",{screenPoint:ee,button:E.button,pointerType:E.pointerType,shiftKey:E.native.shiftKey,stopPropagation:W});break}}this._onFocusChange(I.forEachTool)}_ungrabManipulatorBeforeDragging(E,I,W){E.grabbing=!1,E.events.emit("grab-changed",{action:"end",pointerType:W.pointerType,screenPoint:Pc(W)}),this._grabbedManipulators.forEach(({key:ee},ge)=>{ee.tool===I&&I.manipulators.findById(ee.manipulatorId)===E&&this._grabbedManipulators.delete(ge)})}_handlePointerEnd(E,I){const W=(0,Re.yw)(this._grabbedManipulators.get(E.pointerId),({key:ge})=>ge),ee=this._findManipulatorByKey(W,I.forEachTool);(0,Re.pC)(ee)&&!ee.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(I.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),ee.grabbing&&(ee.grabbing=!1,ee.events.emit("grab-changed",{action:"end",pointerType:E.pointerType,screenPoint:Pc(E)})),this._grabbedManipulators.delete(E.pointerId))}_cursorFromMap(E,I){let W=null;return(0,so.oE)(E,({key:ee})=>{const ge=this._findManipulatorByKey(ee,I);return!!((0,Re.pC)(ge)&&ge.interactive&&"cursor"in ge&&ge.cursor)&&(W=ge.cursor,!0)}),W}_onFocusChange(E){this._updateCursor(E),this._updateFocusedManipulatorTools(E)}_updateCursor(E){this._cursor=this._grabbedManipulators.size>0?this._cursorFromMap(this._grabbedManipulators,E)||"grabbing":this._hoveredManipulators.size>0?this._cursorFromMap(this._hoveredManipulators,E)||"pointer":null}_updateFocusedManipulatorTools(E){const I=new Set;this._grabbedManipulators.forEach(({key:{tool:W}})=>{I.add(W)}),this._hoveredManipulators.forEach(({key:{tool:W}})=>{I.add(W)}),E(W=>{W.hasFocusedManipulators=I.has(W)})}clearPointers(E,I,W=!0,ee){const ge=Ae=>Ae.tool===E&&((0,Re.Wi)(ee)||Ae.manipulatorId===ee);this._grabbedManipulators.forEach(({key:Ae,pointerType:He},gt)=>{if(ge(Ae)){this._grabbedManipulators.delete(gt);const At=this._findManipulatorByKey(Ae,I);(0,Re.pC)(At)&&(At.grabbing=!1,At.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:He}))}}),this._draggedManipulators.forEach(({key:Ae},He)=>{if(ge(Ae)){this._draggedManipulators.delete(He);const gt=this._findManipulatorByKey(Ae,I);(0,Re.pC)(gt)&&(gt.dragging=!1,gt.events.emit("drag",{action:"cancel"}))}}),W&&this._hoveredManipulators.forEach(({key:Ae},He)=>{if(ge(Ae)){this._hoveredManipulators.delete(He);const gt=this._findManipulatorByKey(Ae,I);(0,Re.pC)(gt)&&(gt.hovering=!1)}}),this._onFocusChange(I)}_intersect(E,I,W){let ee=null;return W(ge=>{if(null==ge.manipulators||!Zd(ge))return!1;const Ae=ge.manipulators.intersect(E,I);return!(0,Re.Wi)(Ae)&&(ee={manipulatorId:Ae.id,tool:ge},!0)}),ee}updateHoveredStateFromKnownPointers(E){this._pointerLocations.forEach((I,W)=>{this._updateHoveredStateForPointerAtScreenPosition((0,ir.vW)(I.x,I.y),W,I.pointerType,E)})}handleHoverEvent(E,I){"pointer-up"!==E.type&&"immediate-click"!==E.type&&"pointer-move"!==E.type||!rm(E.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Pc(E),E.pointerId,E.pointerType,I)}_updateHoveredStateForPointerAtScreenPosition(E,I,W,ee){const ge=this._intersect(E,W,ee);let Ae=this._findManipulatorByKey(ge,ee);const He=(0,Re.yw)(this._hoveredManipulators.get(I),({key:At})=>At),gt=this._findManipulatorByKey(He,ee);(0,Re.pC)(Ae)&&!Ae.interactive&&(Ae=null),gt!==Ae&&((0,Re.pC)(gt)&&(gt.hovering=!1),(0,Re.pC)(Ae)?(Ae.hovering=!0,this._hoveredManipulators.set(I,{key:(0,Re.Wg)(ge)})):this._hoveredManipulators.delete(I),this._onFocusChange(ee))}_findManipulatorByKey(E,I){return this._findToolAndManipulatorByKey(E,I,ep)?ep.manipulator:null}_findToolAndManipulatorByKey(E,I,W){return(0,Re.Wi)(E)?null:(W.tool=null,W.manipulator=null,I(ee=>{if(ee!==E.tool||null==ee.manipulators||!Zd(ee))return!1;const ge=ee.manipulators.findById(E.manipulatorId);return!!(0,Re.pC)(ge)&&(W.manipulator=ge,W.tool=ee,!0)}),W.manipulator?W:null)}}function rm(g){return"mouse"===g}function L0(g){return"mouse"!==g.pointerType||0===g.button}const ep={manipulator:null,tool:null},im=R.Z.getLogger("esri.views.ToolViewManager"),sm="attached",F0="tools";let tu=class extends oa.r{constructor(g){super(g),this._manipulatorState=new t_,this.tools=new B.Z,this.cursor=null,this._forEachTool=E=>{for(const I of this.tools.items)if(E(I))return}}initialize(){this.handles.add([this.view.on(qf,g=>{this._handleInputEvent(g)},Yc.f.TOOL),...Kp(this.tools),this.tools.on("before-remove",({item:g})=>{this._manipulatorState.clearPointers(g,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(g){if((0,Re.pC)(g)&&!this.view.ready)return void im.error("Cannot set active tool while view is not ready.");if(g===this.activeTool)return;const E=this.activeTool;this._set("activeTool",g),(0,Re.pC)(E)&&E.deactivate(),(0,Re.pC)(g)&&g.activate(),this._removeIncompleteTools(g);const I=(0,Re.Wi)(this.activeTool);for(const W of this.tools){W.setEditableFlag(ph.MANAGER,I||W===this.activeTool);const ee=Zd(W);!I&&ee||this._manipulatorState.clearPointers(W,this._forEachTool,!ee)}this._updateCursor()}get updating(){var g,E;return this.updatingHandles.updating||this.tools.some(I=>I.updating)||null!=(E=null==(g=this.textures)?void 0:g.updating)&&E}attach(){"3d"===this.view.type?(this._set("textures",new hh(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([(0,Ht.YP)(()=>{const{state:g}=this.view;return"camera"in g&&g.camera},()=>{this._forEachManipulator(g=>{null!=g.onViewChange&&g.onViewChange()})}),this.view.elevationProvider.on("elevation-change",g=>{this._forEachManipulator(E=>{null!=E.onElevationChange&&E.onElevationChange(g)})}),(0,Wp.kB)(()=>this._set("textures",(0,Re.SC)(this.textures)))],sm)):this.handles.add((0,Ht.YP)(()=>this.view.extent,()=>{this._forEachManipulator(g=>{null!=g.onViewChange&&g.onViewChange()})}))}detach(){(0,Re.pC)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(sm)}_forEachManipulator(g){this._forEachTool(E=>{E.manipulators&&E.manipulators.forEach(({manipulator:I})=>g(I,E))})}_handleInputEvent(g){let E=!1;const I=Wi(Nn({},g),{stopPropagation:()=>{E=!0,g.stopPropagation()}});(0,Re.pC)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(I):this._forEachTool(W=>{!E&&W.visible&&W.handleInputEvent(I)}),!E&&"key-down"===g.type&&"Escape"===g.key&&this.activeTool&&(g.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(I,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:W=>{this.activeTool=W},view:this.view}),!E&&(0,Re.pC)(this.activeTool)&&this.activeTool.handleInputEventAfter(I),this._manipulatorState.handleHoverEvent(I,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(F0),this._forEachTool(g=>{if(g instanceof Le.Z){const E=(0,Ht.YP)(()=>[g.cursor,g.visible,g.editable],()=>{Zd(g)||this._manipulatorState.clearPointers(g,this._forEachTool),this._updateCursor()});this.handles.add(E,F0)}g.manipulators&&this.handles.add(g.manipulators.on("change",E=>{E.removed.forEach(({id:I})=>{this._manipulatorState.clearPointers(g,this._forEachTool,!0,I)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),F0)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){const g=this._manipulatorState.cursor;let E=g;this._forEachTool(I=>!(!(0,Re.pC)(I.cursor)||!I.visible||!(0,Re.Wi)(g)&&I.preferManipulatorCursor||(E=I.cursor,0))),this._get("cursor")!==E&&this._set("cursor",E)}_removeIncompleteTools(g){this.tools.filter(E=>((0,Re.Wi)(g)||E!==g)&&!E.created&&E.removeIncompleteOnCancel).forEach(E=>{this.tools.remove(E)})}};(0,D._)([(0,A.Cb)({constructOnly:!0,nonNullable:!0})],tu.prototype,"view",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,nonNullable:!0})],tu.prototype,"textures",void 0),(0,D._)([(0,A.Cb)({value:null})],tu.prototype,"activeTool",null),(0,D._)([(0,A.Cb)({readOnly:!0,type:B.Z})],tu.prototype,"tools",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],tu.prototype,"cursor",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],tu.prototype,"updating",null),tu=(0,D._)([(0,J.j)("esri.views.ToolViewManager")],tu);const r_=tu;let zd=class extends Le.Z{constructor(g){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===g.mapping?"standard":i_.test(g.id)?"spacemouse":"unknown",this.nativeIndex=g.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return s_[this.deviceType]}};(0,D._)([(0,A.Cb)({nonNullable:!0,readOnly:!0})],zd.prototype,"nativeIndex",void 0),(0,D._)([(0,A.Cb)({type:String,readOnly:!0})],zd.prototype,"deviceType",null),(0,D._)([(0,A.Cb)({type:Number,readOnly:!0})],zd.prototype,"axisThreshold",null),zd=(0,D._)([(0,J.j)("esri.views.input.gamepad.GamepadInputDevice")],zd);const i_=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),s_={standard:.15,spacemouse:.025,unknown:0},zl=zd;let tp=class extends Le.Z{constructor(...g){super(...g),this.devices=new B.Z,this.enabledFocusMode="document"}};(0,D._)([(0,A.Cb)({type:B.Z.ofType(zl),readOnly:!0})],tp.prototype,"devices",void 0),(0,D._)([(0,A.Cb)({type:["document","view","none"]})],tp.prototype,"enabledFocusMode",void 0),tp=(0,D._)([(0,J.j)("esri.views.input.gamepad.GamepadSettings")],tp);const U0=tp;let Hp=class extends Le.Z{constructor(){super(...arguments),this.gamepad=new U0}};(0,D._)([(0,A.Cb)({readOnly:!0})],Hp.prototype,"gamepad",void 0),Hp=(0,D._)([(0,J.j)("esri.views.input.Input")],Hp);const o_=Hp;let cd=class extends Le.Z{constructor(g){super(g),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,D._)([(0,A.Cb)({type:Boolean,nonNullable:!0})],cd.prototype,"enabled",void 0),(0,D._)([(0,A.Cb)({type:zl})],cd.prototype,"device",void 0),(0,D._)([(0,A.Cb)({type:["pan","zoom"],nonNullable:!0})],cd.prototype,"mode",void 0),(0,D._)([(0,A.Cb)({type:["forward-down","forward-up"],nonNullable:!0})],cd.prototype,"tiltDirection",void 0),(0,D._)([(0,A.Cb)({type:Number,nonNullable:!0})],cd.prototype,"velocityFactor",void 0),cd=(0,D._)([(0,J.j)("esri.views.navigation.gamepad.GamepadSettings")],cd);const N0=cd;let ud=class extends Le.Z{constructor(g){super(g),this.browserTouchPanEnabled=!0,this.gamepad=new N0,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};(0,D._)([(0,A.Cb)({type:Boolean})],ud.prototype,"browserTouchPanEnabled",void 0),(0,D._)([(0,A.Cb)({type:N0,nonNullable:!0})],ud.prototype,"gamepad",void 0),(0,D._)([(0,A.Cb)({type:Boolean})],ud.prototype,"momentumEnabled",void 0),(0,D._)([(0,A.Cb)({type:Boolean})],ud.prototype,"mouseWheelZoomEnabled",void 0),ud=(0,D._)([(0,J.j)("esri.views.navigation.Navigation")],ud);const j0=ud;var Ml,a_=p(38305);function oc(g){const E=g.url&&(0,a_.Qc)(g.url);return null==(g.spatialReference&&g.spatialReference.vcsWkid)&&(0,Re.pC)(E)&&"ImageServer"===E.serverType||!om(g)||!g.heightModelInfo?function Qp(g){return k0(g)?!!(g.capabilities&&g.capabilities.data&&g.capabilities.data.supportsZ):Xp(g)}(g)?qh.Z.deriveUnitFromSR(W0,g.spatialReference):null:g.heightModelInfo}function om(g){return"heightModelInfo"in g}function k0(g){if("unknown"===g.type||!("capabilities"in g))return!1;switch(g.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function Tu(g){return null!=g.layers||Xp(g)||k0(g)||om(g)}function Xp(g){switch(g.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"line-of-sight":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(g){g[g.Ok=0]="Ok",g[g.Units=1]="Units",g[g.HeightModel=2]="HeightModel",g[g.CRS=3]="CRS",g[g.Unsupported=4]="Unsupported"}(Ml||(Ml={}));const W0=new qh.Z({heightModel:"gravity-related-height"});var nu=p(59617);let V0,qp=null;function V1(g){return mh.apply(this,arguments)}function mh(){return mh=(0,k.Z)(function*(g){qp||(qp=p.e(5082).then(p.bind(p,35082)).then(E=>V0=E)),yield qp,(0,U.k_)(g)}),mh.apply(this,arguments)}function np(g,E,I,W){return rp.apply(this,arguments)}function rp(){return rp=(0,k.Z)(function*(g,E,I,W){if(!g)return null;const ee=g.spatialReference;return(0,an.kR)()||(0,an.Up)(ee,E)?(0,an.iV)(g,E):V0?V0.projectGeometry(g,E,I,W):(yield Promise.race([V1(W),(0,an.zD)(W)]),np(g,E,I,W))}),rp.apply(this,arguments)}let Io=class extends Le.Z{constructor(g){super(g),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Re.IM)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return(0,Re.pC)(this.userSpatialReference)?this.userSpatialReference:(0,Re.Wg)(this._spatialReferenceTask.spatialReference)}get extent(){return(0,Re.Wg)(this._extentTask.extent)}get heightModelInfo(){return(0,Re.Wg)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return(0,Re.Wg)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return(0,Re.Wg)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return(0,Re.Wi)(this.userSpatialReference)||this.userSpatialReference.equals((0,Re.Wg)(this._spatialReferenceTask.spatialReference))?(0,Re.Wg)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return(0,Re.Wg)(this._tileInfoTask.tileInfo)}get mapCollections(){var I,W,ee,ge;const g=null==(I=this.map)?void 0:I.call(this),E=[];return(0,Re.pC)(this.priorityCollection)&&E.push(this.priorityCollection),E.push({parent:null==g?void 0:g.basemap,layers:null==(W=null==g?void 0:g.basemap)?void 0:W.baseLayers},{layers:null==g?void 0:g.layers},{parent:null==g?void 0:g.ground,layers:null==(ee=null==g?void 0:g.ground)?void 0:ee.layers},{parent:null==g?void 0:g.basemap,layers:null==(ge=null==g?void 0:g.basemap)?void 0:ge.referenceLayers}),E}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){var ee;if(this.suspended)return null!=(ee=this._get("_spatialReferenceTask"))?ee:{updating:!1};const{layers:g,updating:E}=this._allLayers;let I=null;for(const ge of g){const Ae=this._getSupportedSpatialReferences(ge);if(Ae.length>0){const He=this._narrowDownSpatialReferenceCandidates(I,Ae);(0,Re.pC)(He)&&(I=He)}if((0,Re.pC)(I)&&1===I.length)break}if(E&&((0,Re.Wi)(I)||1!==I.length))return{updating:!0};const W=this._pickSpatialReferenceCandidate(I);return{spatialReference:(0,Re.pC)(W)?W.spatialReference:null,viewingMode:(0,Re.pC)(W)?W.viewingMode:null,updating:!1}}get _tileInfoTask(){var I,W,ee,ge,Ae,He,gt,At;if(!this.required.tileInfo)return null!=(I=this._get("_tileInfoTask"))?I:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:g,updating:E}=this._collectLayers([{parent:null==(ee=null==(W=this.map)?void 0:W.call(this))?void 0:ee.basemap,layers:null==(He=null==(Ae=null==(ge=this.map)?void 0:ge.call(this))?void 0:Ae.basemap)?void 0:He.baseLayers},{layers:null==(At=null==(gt=this.map)?void 0:gt.call(this))?void 0:At.layers}]);if(g&&g.length>0&&"tileInfo"in g[0]){const Yt=g[0].tileInfo;return{tileInfo:Yt&&Yt.spatialReference.equals(this.spatialReference)?Yt:null,updating:!1}}return{updating:E}}get _heightModelInfoTask(){var I,W,ee,ge;if(!this.required.heightModelInfo||this.suspended&&(null==(I=this._get("_heightModelInfoTask"))?void 0:I.heightModelInfo))return null!=(W=this._get("_heightModelInfoTask"))?W:{updating:!1};const{layers:g,updating:E}=this._allLayers;for(const Ae of g)if(Tu(Ae)){const He=oc(Ae);if(He)return{heightModelInfo:He,vcsWkid:null==(ee=Ae.spatialReference)?void 0:ee.vcsWkid,latestVcsWkid:null==(ge=Ae.spatialReference)?void 0:ge.latestVcsWkid,updating:!1}}return{updating:E}}get _extentCandidatesTask(){var W,ee;if(this.suspended||!this.required.extent)return null!=(W=this._get("_extentCandidatesTask"))?W:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const g=this._allLayers,E=g.updating,I=[];for(const ge of g.layers){const Ae="fullExtents"in ge&&ge.fullExtents||((0,Re.pC)(ge.fullExtent)?[ge.fullExtent]:[]),He=this.requiresExtentInSpatialReference?null:Ae[0],gt=null!=(ee=Ae.find(At=>At.spatialReference.equals(this.spatialReference)))?ee:He;if(gt)return{candidates:[{extent:gt,layer:ge}],updating:!1};if(this._getSupportedSpatialReferences(ge).length>0)for(const At of Ae)I.push({extent:At,layer:ge})}return{candidates:I,updating:E}}get _extentTask(){var g=this;const{candidates:E,updating:I}=this._extentCandidatesTask;if(I)return{updating:I};if((0,Re.Wi)(E)||0===E.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const W=this._pickExtentCandidate(E),ee=this.spatialReference;return W.extent.equals(this._projectExtentTask.input)&&ee.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,Re.pC)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,Re.pC)(this._projectExtentTask.task)&&(this._projectExtentTask.task=(0,Re.IM)(this._projectExtentTask.task)),this._projectExtentTask={input:W.extent.clone(),output:null,spatialReference:ee.clone(),task:(0,U.vr)(function(){var ge=(0,k.Z)(function*(Ae){try{const He=yield np(W.extent,ee,W.layer.portalItem,Ae);g._projectExtentTask=Wi(Nn({},g._projectExtentTask),{task:null,output:He})}catch(He){if((0,U.Hc)(Ae))return;g._projectExtentTask=Wi(Nn({},g._projectExtentTask),{task:null})}});return function(Ae){return ge.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(g,E){if((0,Re.Wi)(g))return E;const I=[],W=(ee,ge)=>(0,Re.pC)(ee)?(0,Re.pC)(ge)?ee===ge&&ee:ee:ge;for(const ee of g)for(const ge of E){if(!ee.spatialReference.equals(ge.spatialReference))continue;const Ae=W(ee.viewingMode,ge.viewingMode);if(!1!==Ae){I.push({spatialReference:ee.spatialReference,viewingMode:Ae});break}}return I.length>0?I:null}_pickSpatialReferenceCandidate(g){const E=this.defaultSpatialReference;return(0,Re.Wi)(g)||g.length<1?(0,Re.pC)(E)?{spatialReference:E,viewingMode:null}:null:((0,Re.pC)(E)&&g.length>1&&g.some(({spatialReference:I})=>I.equals(E))&&(g=g.filter(({spatialReference:I})=>I.equals(E))),g.length>1&&g.some(({viewingMode:I})=>I!==nu.JY.Local)&&(g=g.filter(({viewingMode:I})=>I!==nu.JY.Local)),g[0])}_getSupportedSpatialReferences(g){const E="supportedSpatialReferences"in g&&g.supportedSpatialReferences||(g.spatialReference?[g.spatialReference]:[]);if(0===E.length)return[];const I=[];for(const W of E){const ee=this.getSpatialReferenceSupport({spatialReference:W,layer:g});if((0,Re.pC)(ee)){const ge=(0,Re.pC)(ee.constraints)?ee.constraints:[{spatialReference:W,viewingMode:null}];for(const{spatialReference:Ae,viewingMode:He}of ge)(!this.requiresExtentInSpatialReference||(0,Re.Wi)(this.userSpatialReference)||Ae.equals(this.userSpatialReference))&&I.push({spatialReference:Ae,viewingMode:He})}}return I}_pickExtentCandidate(g){const E=this.spatialReference;return g.find(({extent:I})=>E.equals(I.spatialReference))||g[0]}_collectLayers(g){var I;if("loaded"!==this._loadMaybe(null==(I=this.map)?void 0:I.call(this)))return{layers:[],updating:!0};const E={layers:[],preloading:-1,updating:!1};for(const W of g)if(this._collectCollection(W,E),E.preloading===this.sourcePreloadCount)break;return{layers:E.layers,updating:E.updating}}_collectCollection(g,E){if(g.layers){switch(this._loadMaybe(g.parent)){case"loading":return E.updating=!0,void++E.preloading;case"failed":return}for(const I of g.layers){switch(this._loadMaybe(I)){case"failed":continue;case"loading":E.updating=!0,++E.preloading;break;case"loaded":E.updating||E.layers.push(I),"layers"in I&&this._collectCollection({layers:I.layers},E)}if(E.preloading===this.sourcePreloadCount)break}}}_loadMaybe(g){return g&&"loadStatus"in g?"not-loaded"===g.loadStatus?(g.load(),"loading"):g.loadStatus:"loaded"}};var gh;(0,D._)([(0,A.Cb)()],Io.prototype,"required",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],Io.prototype,"map",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],Io.prototype,"getSpatialReferenceSupport",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"defaultSpatialReference",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"userSpatialReference",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"sourcePreloadCount",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"priorityCollection",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"requiresExtentInSpatialReference",void 0),(0,D._)([(0,A.Cb)()],Io.prototype,"suspended",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"ready",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"heightModelInfoReady",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"spatialReference",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"extent",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"heightModelInfo",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"vcsWkid",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"latestVcsWkid",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"viewingMode",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"tileInfo",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"mapCollections",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"_allLayers",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"_spatialReferenceTask",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"_tileInfoTask",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"_heightModelInfoTask",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Io.prototype,"_extentCandidatesTask",null),(0,D._)([(0,A.Cb)()],Io.prototype,"_extentTask",null),(0,D._)([(0,A.Cb)()],Io.prototype,"_projectExtentTask",void 0),Io=(0,D._)([(0,J.j)("esri.views.support.DefaultsFromMap")],Io);const am=R.Z.getLogger("esri.views.View");let bs=gh=class extends((0,oa.p)(_e.Z.EventedMixin((0,Vp.v)(Le.Z)))){constructor(g){super(g),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new je.Z({getCollections:()=>{var E,I,W;return[null==(E=this.basemapView)?void 0:E.baseLayerViews,null==(I=this.groundView)?void 0:I.layerViews,this.layerViews,null==(W=this.basemapView)?void 0:W.referenceLayerViews]},getChildrenFunction:E=>E.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new S0.J,this.analyses=new Zp,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new B.Z,this.magnifier=new P0,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new o_,this.navigation=new j0,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new e_(this),this.persistableViewModels=new B.Z,this._isValid=!1,this._readyCycleForced=!1,this.handles.add((0,Ht.YP)(()=>this.preconditionsReady,E=>{var I,W;E?(this._currentSpatialReference=this.spatialReference,gh.views.add(this)):(this._currentSpatialReference=null,gh.views.remove(this)),this.notifyChange("spatialReference"),!E&&this.ready?(null==(I=this.layerViewManager)||I.clear(),null==(W=this.toolViewManager)||W.detach(),(0,Re.pC)(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):E&&!this.ready&&(this._startup(),(0,Re.pC)(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},Ht.Z_))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,(0,Ht.N1)(()=>this.ready)))),this.basemapView=new ad({view:this}),this.layerViewManager=new D0({view:this,layerViewImporter:{importLayerView:g=>this.importLayerView(g),hasLayerViewModule:g=>this.hasLayerViewModule(g)},supportsGround:this.supportsGround}),this.toolViewManager=new r_({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,Ht.YP)(()=>this.initialExtentRequired,g=>this.defaultsFromMap.required=Wi(Nn({},this.defaultsFromMap.required),{extent:g}),{sync:!0,initial:!0}),(0,Ht.YP)(()=>this.ready,g=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=g,this.defaultsFromMap.userSpatialReference=g?this.spatialReference:this._userSpatialReference)},{sync:!0}),(0,Ht.YP)(()=>this._userSpatialReference,g=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=g)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){var g=this;let E=null;this.handles.add([(0,Ht.YP)(()=>{var I;return null==(I=this.defaultsFromMap)?void 0:I.ready},I=>{var ee;const W=(null==(ee=this.map)?void 0:ee.allLayers.length)>0;if(I&&!this.spatialReference&&W){if((0,Re.pC)(E))return;const ge=(0,Wp.kB)(()=>E=(0,Re.IM)(E));E=(0,U.vr)(function(){var Ae=(0,k.Z)(function*(He){try{yield(0,U.e4)(g.spatialReferenceWarningDelay,null,He)}catch(gt){return}finally{E=null}am.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(He){return Ae.apply(this,arguments)}}()),this.handles.add(ge,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Re.SC)(this.graphics),this.analyses=(0,Re.SC)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,Re.SC)(this.analysisViewManager),this.toolViewManager=(0,Re.SC)(this.toolViewManager),this.layerViewManager=(0,Re.SC)(this.layerViewManager),this.basemapView=(0,Re.SC)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const g=this.map;this.map=null,null==g||g.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return am.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Io(Nn({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:g=>this.getSpatialReferenceSupport(g)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var g;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||$.Z.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!(null==(g=this.defaultsFromMap)?void 0:g.ready)||!this.typeSpecificPreconditionsReady)}set map(g){g!==this._get("map")&&((null==g?void 0:g.destroyed)&&(am.warn("#map","The provided map is already destroyed",{map:g}),g=null),$.Z.isLoadable(g)&&g.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",g))}get spatialReference(){var E,I;let g=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return g&&(null==(I=null==(E=this.defaultsFromMap)?void 0:E.required)?void 0:I.heightModelInfo)&&(g=g.clone(),g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),g}set spatialReference(g){const E=!(0,Mn.fS)(g,this._get("spatialReference"));this._set("_userSpatialReference",g),E&&(this._set("spatialReference",g),this._spatialReferenceChanged(g))}_spatialReferenceChanged(g){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var g;return null==(g=this.defaultsFromMap)?void 0:g.extent}get cursor(){const g=this.toolViewManager?this.toolViewManager.cursor:null;return(0,Re.pC)(g)?g:this._cursor||"default"}set cursor(g){this._cursor=g,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(g){return this.layerViewManager.whenLayerView(g)}getDefaultSpatialReference(){var g;return null==(g=this.defaultsFromMap)?void 0:g.spatialReference}getDefaultHeightModelInfo(){var g,E,I;return null!=(I=null!=(E=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?E:null==(g=this.defaultsFromMap)?void 0:g.heightModelInfo)?I:null}importLayerView(g){throw new te.Z("importLayerView() not implemented")}hasLayerViewModule(g){return!1}validate(){return(0,k.Z)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(g){return(0,Re.pC)(this.getSpatialReferenceSupport({spatialReference:g}))}when(g,E){return this.isResolved()&&!this.ready&&am.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(g,E)}forceReadyCycle(){this.ready&&((0,Ht.gx)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(g){this.toolViewManager.tools.add(g),this.activeTool=g}tryFatalErrorRecovery(){this.fatalError=null}};bs.views=new B.Z,(0,D._)([(0,A.Cb)()],bs.prototype,"_userSpatialReference",void 0),(0,D._)([(0,hr.B)("toolViewManager.activeTool")],bs.prototype,"activeTool",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"allLayerViews",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"groundView",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"animation",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"basemapView",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"_defaultsFromMapSettings",null),(0,D._)([(0,A.Cb)()],bs.prototype,"defaultsFromMap",null),(0,D._)([(0,A.Cb)()],bs.prototype,"fatalError",void 0),(0,D._)([(0,A.Cb)({type:X.Z})],bs.prototype,"extent",void 0),(0,D._)([(0,A.Cb)((0,Qf.z)(S0.J,"graphics"))],bs.prototype,"graphics",void 0),(0,D._)([(0,A.Cb)((0,Qf.z)(Zp,"analyses"))],bs.prototype,"analyses",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,type:qh.Z})],bs.prototype,"heightModelInfo",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"interacting",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"navigating",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],bs.prototype,"preconditionsReady",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"typeSpecificPreconditionsReady",void 0),(0,D._)([(0,A.Cb)({type:B.Z,readOnly:!0})],bs.prototype,"layerViews",void 0),(0,D._)([(0,A.Cb)({type:P0})],bs.prototype,"magnifier",void 0),(0,D._)([(0,A.Cb)({value:null,type:In})],bs.prototype,"map",null),(0,D._)([(0,A.Cb)()],bs.prototype,"padding",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"ready",void 0),(0,D._)([(0,A.Cb)({type:eu.Z})],bs.prototype,"spatialReference",null),(0,D._)([(0,A.Cb)()],bs.prototype,"spatialReferenceWarningDelay",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"stationary",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"supportsGround",void 0),(0,D._)([(0,A.Cb)({type:qc.Z})],bs.prototype,"timeExtent",void 0),(0,D._)([(0,hr.B)("toolViewManager.tools")],bs.prototype,"tools",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"toolViewManager",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"type",void 0),(0,D._)([(0,A.Cb)({type:Number})],bs.prototype,"scale",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"updating",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"initialExtentRequired",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"initialExtent",null),(0,D._)([(0,A.Cb)()],bs.prototype,"cursor",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"input",void 0),(0,D._)([(0,A.Cb)({type:j0,nonNullable:!0})],bs.prototype,"navigation",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"layerViewManager",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"analysisViewManager",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"width",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"height",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"resizing",void 0),(0,D._)([(0,A.Cb)({value:null,readOnly:!0})],bs.prototype,"size",null),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"suspended",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"viewEvents",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],bs.prototype,"persistableViewModels",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"_isValid",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"_readyCycleForced",void 0),(0,D._)([(0,A.Cb)()],bs.prototype,"_currentSpatialReference",void 0),bs=gh=(0,D._)([(0,J.j)("esri.views.View")],bs);const l_=bs;let dd=class extends Vp.D{constructor(g){super(g),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((g,E)=>this._dfd={resolve:g,reject:E}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new te.Z("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(g,E){E||(E=(0,U.y8)(g)?"waiting-for-target":"running"),this._set("target",g),this._set("state",E)}};(0,D._)([(0,A.Cb)({readOnly:!0})],dd.prototype,"done",null),(0,D._)([(0,A.Cb)({readOnly:!0,type:String})],dd.prototype,"state",void 0),(0,D._)([(0,A.Cb)()],dd.prototype,"target",void 0),dd=(0,D._)([(0,J.j)("esri.views.ViewAnimation")],dd),function(g){g.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(dd||(dd={}));const lm=dd;var ip=p(78041),ya=p(24926);class c_{constructor(E,I,W,ee){const ge=E.targetGeometry,Ae=I.targetGeometry;ee?"string"==typeof ee&&(ee=(0,ip.Qc)(ee)||ip.LI.ease):ee=ip.LI.ease,this.easing=ee,this.duration=W,this.sCenterX=ge.x,this.sCenterY=ge.y,this.sScale=E.scale,this.sRotation=E.rotation,this.tCenterX=Ae.x,this.tCenterY=Ae.y,this.tScale=I.scale,this.tRotation=I.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(E,I){const W=this.easing(I);let ee,ge,Ae,He;I>=1?(ee=this.tCenterX,ge=this.tCenterY,Ae=this.tRotation,He=this.tScale):(ee=this.sCenterX+W*this.dCenterX,ge=this.sCenterY+W*this.dCenterY,Ae=this.sRotation+W*this.dRotation,He=this.sScale+W*this.dScale),E.targetGeometry.x=ee,E.targetGeometry.y=ge,E.scale=He,E.rotation=Ae}}let hd=class extends Le.Z{constructor(g){super(g),this.duration=200,this.transition=null,this.easing=ip.LI.ease,this.view=null,this.viewpoint=null,this.viewpoint=new jn.Z({targetGeometry:new Dr.Z,scale:0,rotation:0}),this._updateTask=(0,Hr.A)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(g,E,I){this.stop(),(0,ya.JG)(this.viewpoint,E),this.transition=new c_(this.viewpoint,g.target,I&&I.duration||this.duration,I&&I.easing||this.easing);const ee=()=>{this.animation===g&&this._updateTask&&("finished"===g.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return g.when(ee,ee),this._startTime=performance.now(),this._updateTask.resume(),this.animation=g,g}animateContinous(g,E){this.stop(),this.updateFunction=E,this.viewpoint=g;const I=new lm({target:g.clone()}),W=()=>{this.animation===I&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return I.when(W,W),this._startTime=performance.now(),this._updateTask.resume(),this.animation=I,I}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(g){const E=this.animation;if(E&&E.state!==lm.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,g.deltaTime);else{const I=(performance.now()-this._startTime)/this.transition.duration,W=I>=1;this.transition.applyRatio(this.viewpoint,I),W&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,D._)([(0,A.Cb)()],hd.prototype,"animation",void 0),(0,D._)([(0,A.Cb)()],hd.prototype,"duration",void 0),(0,D._)([(0,A.Cb)()],hd.prototype,"transition",void 0),(0,D._)([(0,A.Cb)()],hd.prototype,"easing",void 0),(0,D._)([(0,A.Cb)()],hd.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],hd.prototype,"viewpoint",void 0),hd=(0,D._)([(0,J.j)("esri.views.2d.AnimationManager")],hd);const Z0=hd;class z0{constructor(E){this.view=E,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:I,graphicsView:W,labelManager:ee,layerViews:ge,state:{id:Ae}}=this.view;I.baseLayerViews.forEach(this._updateLayerView,this),ge.forEach(this._updateLayerView,this),I.referenceLayerViews.forEach(this._updateLayerView,this),(0,Re.pC)(ee)&&(ee.lastUpdateId!==Ae&&(ee.viewChange(),ee.lastUpdateId=Ae),ee.updateRequested&&ee.processUpdate(this._updateParameters)),(0,Re.pC)(W)&&(W.lastUpdateId!==Ae&&(W.viewChange(),W.lastUpdateId=Ae),W.updateRequested&&W.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const E=this.view;this.stationary=E.stationary,this._updateParameters={state:E.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:E.renderingOptions},this._stationaryHandle=(0,Ht.YP)(()=>E.stationary,I=>{this.stationary=I,this.requestFrame()}),this._frameTaskHandle=(0,Hr.A)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(E){const I=this.view.state,W=E.lastUpdateId;null!=W&&(this.stationary||E.moving)||(E.moving=!0,E.moveStart()),W!==I.id&&E.viewChange(),this.stationary&&E.moving&&(E.moving=!1,E.moveEnd()),E.lastUpdateId=I.id,E.updateRequested&&E.processUpdate(this._updateParameters),"layerViews"in E&&E.layerViews.forEach(this._updateLayerView,this)}}function Da(){return Promise.all([Promise.all([p.e(5086),p.e(5314),p.e(5506),p.e(8592),p.e(4376)]).then(p.bind(p,34376)),Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(4916)]).then(p.bind(p,54916))])}const $d=()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(9516),p.e(8592),p.e(5391)]).then(p.bind(p,55391))),cm=()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(205),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(1607)]).then(p.bind(p,1607))),u_={"base-dynamic":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(5207),p.e(4126)]).then(p.bind(p,54126))),"base-tile":$d,"bing-maps":$d,csv:cm,"geo-rss":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(5072)]).then(p.bind(p,5072))),feature:cm,geojson:cm,graphics:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(3375)]).then(p.bind(p,63375))),group:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(408)]).then(p.bind(p,60408))),imagery:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(6926),p.e(5207),p.e(8594),p.e(4851),p.e(8592),p.e(3825)]).then(p.bind(p,53825))),"imagery-tile":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(6926),p.e(8594),p.e(4851),p.e(8592),p.e(1795)]).then(p.bind(p,51795))),kml:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(5868)]).then(p.bind(p,85868))),"map-image":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(5207),p.e(8592),p.e(3442)]).then(p.bind(p,63442))),"map-notes":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(6899)]).then(p.bind(p,36899))),media:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(992)]).then(p.bind(p,992))),"ogc-feature":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(205),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(1607),p.e(6829)]).then(p.bind(p,96829))),"open-street-map":$d,route:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(403),p.e(8592),p.e(9066)]).then(p.bind(p,9066))),stream:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(205),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(1607),p.e(9051)]).then(p.bind(p,39051))),"subtype-group":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(205),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(1607),p.e(5876)]).then(p.bind(p,65876))),tile:$d,"vector-tile":()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(8364),p.e(2039)]).then(p.bind(p,1651))),wcs:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(6926),p.e(8594),p.e(4851),p.e(8592),p.e(1795)]).then(p.bind(p,51795))),"web-tile":$d,wfs:cm,wms:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(5207),p.e(8592),p.e(6053)]).then(p.bind(p,6053))),wmts:()=>Da().then(()=>Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(9516),p.e(9300)]).then(p.bind(p,49300))),"line-of-sight":null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var K0,z1=p(72258),$0=p(33190),Ic=p(67831),$1=p(25748);const pd=R.Z.getLogger("esri.views.MapView");let Du=K0=class extends Le.Z{constructor(g){super(g),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if((0,Re.Wi)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,an.iV)(this.geometry,this.spatialReference)}catch(g){return pd.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:g}),null}return this.geometry}constrain(g,E){if((0,Re.Wi)(this.normalizedGeometry))return g;const I=g.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,$0.aV)(this.normalizedGeometry,I):(0,$0.CI)(this.normalizedGeometry,I))return g;const{coordinate:W}=function K1(g,E){const{spatialReference:I}=E,W=[E.x,E.y];let ee=Number.POSITIVE_INFINITY,ge=0,Ae=0;const He=[0,0],gt="extent"===g.type?[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]:g.rings;for(const At of gt)for(let Yt=0;Yt<At.length-1;Yt++){(0,$1.Tx)(He,W,At,Yt);const ln=(0,Ic.j)(W,He);ln<ee&&(ee=ln,ge=He[0],Ae=He[1])}return{coordinate:new Dr.Z({x:ge,y:Ae,spatialReference:I}),distance:ee}}(this.normalizedGeometry,I);return W&&(g.targetGeometry=W),g}clone(){var g,E;return new K0({geometry:null==(g=this.geometry)?void 0:g.clone(),spatialReference:null==(E=this.spatialReference)?void 0:E.clone()})}};var um;(0,D._)([(0,A.Cb)({constructOnly:!0})],Du.prototype,"geometry",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Du.prototype,"normalizedGeometry",null),(0,D._)([(0,A.Cb)({constructOnly:!0})],Du.prototype,"spatialReference",void 0),Du=K0=(0,D._)([(0,J.j)("esri.views.2d.constraints.GeometryConstraint")],Du);let yh=um=class extends Le.Z{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(g,E){return this.enabled&&E&&(this.rotationEnabled||(g.rotation=E.rotation)),g}clone(){return new um({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,D._)([(0,A.Cb)()],yh.prototype,"enabled",void 0),(0,D._)([(0,A.Cb)()],yh.prototype,"rotationEnabled",void 0),yh=um=(0,D._)([(0,J.j)("esri.views.2d.constraints.RotationConstraint")],yh);const ef=yh;var tf;let al=tf=class extends Le.Z{constructor(g){super(g),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let g,{lods:E,minScale:I,maxScale:W,minZoom:ee,maxZoom:ge}=this,Ae=-1,He=-1,gt=!1,At=!1;if(0!==I&&0!==W&&I<W&&([I,W]=[W,I]),!E||!E.length)return this._set("effectiveMinScale",I),void this._set("effectiveMaxScale",W);E=E.map(Yt=>Yt.clone()),E.sort((Yt,ln)=>ln.scale-Yt.scale),E.forEach((Yt,ln)=>Yt.level=ln);for(const Yt of E)!gt&&I>0&&I>=Yt.scale&&(Ae=Yt.level,gt=!0),!At&&W>0&&W>=Yt.scale&&(He=g?g.level:-1,At=!0),g=Yt;-1===ee&&(ee=0===I?0:Ae),-1===ge&&(ge=0===W?E.length-1:He),ee=Math.max(ee,0),ee=Math.min(ee,E.length-1),ge=Math.max(ge,0),ge=Math.min(ge,E.length-1),ee>ge&&([ee,ge]=[ge,ee]),I=E[ee].scale,W=E[ge].scale,E.splice(0,ee),E.splice(ge-ee+1,E.length),E.forEach((Yt,ln)=>{this._lodByScale[Yt.scale]=Yt,this._scales[ln]=Yt.scale}),this._set("effectiveLODs",E),this._set("effectiveMinZoom",ee),this._set("effectiveMaxZoom",ge),this._set("effectiveMinScale",I),this._set("effectiveMaxScale",W)}constrain(g,E){if(E&&g.scale===E.scale)return g;const I=this.effectiveMinScale,W=this.effectiveMaxScale,ee=g.targetGeometry,ge=E&&E.targetGeometry,He=0!==I&&g.scale>I;if(0!==W&&g.scale<W||He){const gt=He?I:W;if(ge){const At=(gt-E.scale)/(g.scale-E.scale);ee.x=ge.x+(ee.x-ge.x)*At,ee.y=ge.y+(ee.y-ge.y)*At}g.scale=gt}return this.snapToZoom&&this.effectiveLODs&&(g.scale=this._getClosestScale(g.scale)),g}fit(g){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(g,null);const E=this.scaleToZoom(g.scale),I=Math.abs(E-Math.floor(E));return g.scale=this.zoomToScale(I>.99?Math.round(E):Math.floor(E)),g}zoomToScale(g){if(!this.effectiveLODs)return 0;g-=this.effectiveMinZoom,g=Math.max(0,g);const E=this._scales;if(g<=0)return E[0];if(g>=E.length)return E[E.length-1];const I=Math.round(g-.5),W=Math.round(g);return E[W]+(W-g)*(E[I]-E[W])}scaleToZoom(g){if(!this.effectiveLODs)return-1;const E=this._scales;let I,W;if(g>=E[0])return this.effectiveMinZoom;if(g<=E[E.length-1])return this.effectiveMaxZoom;for(let ee=0;ee<E.length-1;ee++){if(I=E[ee],W=E[ee+1],W===g)return ee+this.effectiveMinZoom+1;if(I>g&&W<g)return ee+this.effectiveMinZoom+1-(g-W)/(I-W)}}snapToClosestScale(g){if(!this.effectiveLODs)return g;const E=this.scaleToZoom(g);return this.zoomToScale(Math.round(E))}snapToNextScale(g,E=.5){if(!this.effectiveLODs)return g*E;const I=Math.round(this.scaleToZoom(g));return this.zoomToScale(I+1)}snapToPreviousScale(g,E=2){if(!this.effectiveLODs)return g*E;const I=Math.round(this.scaleToZoom(g));return this.zoomToScale(I-1)}clone(){return new tf({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(g){return this._lodByScale[g]||(g=this._scales.reduce((E,I)=>Math.abs(I-g)<=Math.abs(E-g)?I:E,this._scales[0])),this._lodByScale[g].scale}};(0,D._)([(0,A.Cb)({readOnly:!0})],al.prototype,"effectiveLODs",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],al.prototype,"effectiveMinZoom",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],al.prototype,"effectiveMaxZoom",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],al.prototype,"effectiveMinScale",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],al.prototype,"effectiveMaxScale",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"lods",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"minZoom",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"maxZoom",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"minScale",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"maxScale",void 0),(0,D._)([(0,A.Cb)()],al.prototype,"snapToZoom",void 0),al=tf=(0,D._)([(0,J.j)("esri.views.2d.constraints.ZoomConstraint")],al);const G0=al,fd={base:null,key:"type",typeMap:{extent:X.Z,polygon:Vc.Z}};let ra=class extends Le.Z{constructor(g){super(g),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(g){this._set("geometry",g||null)}get version(){var g;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),(null!=(g=this._get("version"))?g:0)+1}get _defaultLODs(){var I,W,ee;const g=null==(W=null==(I=this.view)?void 0:I.defaultsFromMap)?void 0:W.tileInfo,E=null==(ee=this.view)?void 0:ee.spatialReference;return g&&E&&g.spatialReference.equals(E)?g.lods:null}get _geometry(){var g;return new Du({geometry:this.geometry,spatialReference:null==(g=this.view)?void 0:g.spatialReference})}get _rotation(){return new ef({rotationEnabled:this.rotationEnabled})}get _zoom(){const g=this._get("_zoom"),E=this.lods||this._defaultLODs,I=this.minZoom,W=this.maxZoom,ee=this.minScale,ge=this.maxScale,Ae=this.snapToZoom;return g&&g.lods===E&&g.minZoom===I&&g.maxZoom===W&&g.minScale===ee&&g.maxScale===ge&&g.snapToZoom===Ae?g:new G0({lods:E,minZoom:I,maxZoom:W,minScale:ee,maxScale:ge,snapToZoom:Ae})}canZoomInTo(g){const E=this.effectiveMaxScale;return 0===E||g>=E}canZoomOutTo(g){const E=this.effectiveMinScale;return 0===E||g<=E}constrain(g,E){return this._zoom.constrain(g,E),this._rotation.constrain(g,E),this._geometry.constrain(g,E),g}constrainByGeometry(g){return this._geometry.constrain(g)}fit(g){return this._zoom.fit(g)}zoomToScale(g){return this._zoom.zoomToScale(g)}scaleToZoom(g){return this._zoom.scaleToZoom(g)}snapScale(g){return this._zoom.snapToClosestScale(g)}snapToNextScale(g){return this._zoom.snapToNextScale(g)}snapToPreviousScale(g){return this._zoom.snapToPreviousScale(g)}};(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],ra.prototype,"effectiveLODs",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],ra.prototype,"effectiveMinScale",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],ra.prototype,"effectiveMaxScale",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],ra.prototype,"effectiveMinZoom",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],ra.prototype,"effectiveMaxZoom",void 0),(0,D._)([(0,A.Cb)({types:fd,value:null})],ra.prototype,"geometry",null),(0,D._)([(0,A.Cb)({type:[z1.Z]})],ra.prototype,"lods",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"minScale",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"maxScale",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"minZoom",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"maxZoom",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"rotationEnabled",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"snapToZoom",void 0),(0,D._)([(0,A.Cb)()],ra.prototype,"view",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ra.prototype,"version",null),(0,D._)([(0,A.Cb)()],ra.prototype,"_defaultLODs",null),(0,D._)([(0,A.Cb)({type:Du})],ra.prototype,"_geometry",null),(0,D._)([(0,A.Cb)({type:ef})],ra.prototype,"_rotation",null),(0,D._)([(0,A.Cb)({readOnly:!0,type:G0})],ra.prototype,"_zoom",null),ra=(0,D._)([(0,J.j)("esri.views.2d.MapViewConstraints")],ra);const H0=ra;var hm,nf=p(99770),h_=p(39863),sp=p(31478),p_=p(12225),dm=p(46342),ru=p(30217),md=p(49966),rf=p(9545);function gd(g){return function _h(g){return g instanceof Float32Array&&g.length>=2}(g)||function op(g){return Array.isArray(g)&&g.length>=2}(g)}const iu=[0,0];let Pu=hm=class extends ae.wq{constructor(g){super(g),this._viewpoint2D={center:(0,nf.a)(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new X.Z,this.id=0,this.inverseTransform=(0,dm.c)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,dm.c)(),this.transformNoRotation=(0,dm.c)(),this.displayMat3=(0,md.c)(),this.displayViewMat3=(0,md.c)(),this.viewMat3=(0,md.c)(),this.viewMat2d=(0,p_.c)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(g){this._set("pixelRatio",g),this._update()}set size(g){this._set("size",g),this._update()}set viewpoint(g){if(g){const E=this._viewpoint2D,I=g.targetGeometry;E.center[0]=I.x,E.center[1]=I.y,E.rotation=g.rotation,E.scale=g.scale,E.spatialReference=I.spatialReference}this._update()}copy(g){const E=this.size,I=this.viewpoint;return I&&E?(this.viewpoint=(0,ya.JG)(I,g.viewpoint),this._set("size",(0,Ic.c)(E,g.size))):(this.viewpoint=g.viewpoint.clone(),this._set("size",[g.size[0],g.size[1]])),this._set("pixelRatio",g.pixelRatio),this}clone(){return new hm({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(g,E,I){return gd(E)?(0,Ic.t)(g,E,this.inverseTransform):(iu[0]=E,iu[1]=I,(0,Ic.t)(g,iu,this.inverseTransform))}toScreen(g,E,I){return gd(E)?(0,Ic.t)(g,E,this.transform):(iu[0]=E,iu[1]=I,(0,Ic.t)(g,iu,this.transform))}toScreenNoRotation(g,E,I){return gd(E)?(0,Ic.t)(g,E,this.transformNoRotation):(iu[0]=E,iu[1]=I,(0,Ic.t)(g,iu,this.transformNoRotation))}getScreenTransform(g,E){const{center:I}=this._viewpoint2D,W=this._get("pixelRatio")||1,ee=this._get("size");return(0,ya.Rb)(g,I,ee,E,0,W),g}_update(){const{center:g,spatialReference:E,scale:I,rotation:W}=this._viewpoint2D,ee=this._get("pixelRatio")||1,ge=this._get("size"),Ae=new jn.Z({targetGeometry:new Dr.Z(g[0],g[1],E),scale:I,rotation:W});if(this._set("viewpoint",Ae),!ge||!E||!I)return;this.resolution=(0,ya.uG)(Ae),this.rotation=W,this.scale=I,this.spatialReference=E,(0,Ic.c)(this.center,g),(0,ru.s)(this.displayMat3,0!==ge[0]?2/ge[0]:0,0,0,0,0!==ge[1]?-2/ge[1]:0,0,-1,1,1);const At=(0,ru.b)(this.viewMat3),Yt=(0,rf.f)(ge[0]/2,ge[1]/2),ln=(0,rf.f)(-ge[0]/2,-ge[1]/2),kn=(0,h_.t)(W);(0,ru.c)(At,At,Yt),(0,ru.r)(At,At,kn),(0,ru.c)(At,At,ln),(0,ru.m)(this.displayViewMat3,this.displayMat3,At);const Fn=(0,sp.a)(this.viewMat2d,Yt);return(0,sp.r)(Fn,Fn,kn),(0,sp.t)(Fn,Fn,ln),(0,ya.bk)(this.extent,Ae,ge),(0,ya.Ck)(this.transform,Ae,ge,ee),(0,sp.b)(this.inverseTransform,this.transform),(0,ya.Jp)(this.transformNoRotation,Ae,ge,ee),this.worldScreenWidth=(0,ya.L2)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,D._)([(0,A.Cb)({readOnly:!0})],Pu.prototype,"id",void 0),(0,D._)([(0,A.Cb)({value:1,json:{write:!0}})],Pu.prototype,"pixelRatio",null),(0,D._)([(0,A.Cb)({json:{write:!0}})],Pu.prototype,"size",null),(0,D._)([(0,A.Cb)()],Pu.prototype,"spatialReference",void 0),(0,D._)([(0,A.Cb)({type:jn.Z,json:{write:!0}})],Pu.prototype,"viewpoint",null),Pu=hm=(0,D._)([(0,J.j)("esri.views.2d.ViewState")],Pu);const sf=Pu;var ap,of;let ac=ap=class extends Le.Z{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new ap({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,D._)([(0,A.Cb)()],ac.prototype,"left",void 0),(0,D._)([(0,A.Cb)()],ac.prototype,"top",void 0),(0,D._)([(0,A.Cb)()],ac.prototype,"right",void 0),(0,D._)([(0,A.Cb)()],ac.prototype,"bottom",void 0),ac=ap=(0,D._)([(0,J.j)("esri.views.2d.PaddedViewState.Padding")],ac);let vh=of=class extends sf{constructor(...g){super(...g),this.paddedViewState=new sf,this._updateContent=(()=>{const E=(0,nf.a)();return()=>{const I=this._get("size"),W=this._get("padding");if(!I||!W)return;const ee=this.paddedViewState;(0,Ic.a)(E,W.left+W.right,W.top+W.bottom),(0,Ic.g)(E,I,E),(0,Ic.c)(ee.size,E);const ge=ee.viewpoint;ge&&(this.viewpoint=ge)}})(),this.own((0,Ht.YP)(()=>[this.size,this.padding],()=>this._updateContent(),Ht.Z_)),this.padding=new ac,this.size=[0,0]}set padding(g){this._set("padding",g||new ac)}set viewpoint(g){if(g){const E=g.clone();this.paddedViewState.viewpoint=g,(0,ya.H4)(E,g,this._get("size"),this._get("padding"));const I=this._viewpoint2D,W=E.targetGeometry;I.center[0]=W.x,I.center[1]=W.y,I.rotation=E.rotation,I.scale=E.scale,I.spatialReference=W.spatialReference,this._update()}}clone(){return new of({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,D._)([(0,A.Cb)()],vh.prototype,"paddedViewState",void 0),(0,D._)([(0,A.Cb)({type:ac})],vh.prototype,"padding",null),(0,D._)([(0,A.Cb)()],vh.prototype,"viewpoint",null),vh=of=(0,D._)([(0,J.j)("esri.views.2d.PaddedViewState")],vh);const J0=vh;p(17083);var Y0=p(9598);function pm(g,E){switch(E){case"primary":return"touch"===g.pointerType||0===g.button;case"secondary":return"touch"!==g.pointerType&&2===g.button;case"tertiary":return"touch"!==g.pointerType&&1===g.button}}p(58098),p(8480),p(79527);class Ll extends Za.a{constructor(E,I){super(!0),this.view=E,this.registerIncoming("double-click",I,W=>this._handleDoubleClick(W,I))}_handleDoubleClick(E,I){pm(E.data,"primary")&&(E.stopPropagation(),I?this.view.mapViewNavigation.zoomOut([E.data.x,E.data.y]):this.view.mapViewNavigation.zoomIn([E.data.x,E.data.y]))}}class g_ extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.pointerType=I,this.registerIncoming("double-tap-drag",W,ee=>this._handleDoubleTapDrag(ee))}_handleDoubleTapDrag(E){const{data:I}=E,{pointerType:W}=I;if(W!==this.pointerType)return;E.stopPropagation();const{action:ee,delta:ge}=I,{view:Ae}=this,{mapViewNavigation:He}=Ae;switch(ee){case"begin":{const{scale:gt}=Ae;this._startScale=gt,this._currentScale=gt,this._previousDelta=ge,He.begin();break}case"update":{if(this._previousDelta.y===ge.y)return;this._previousDelta=ge;const At=this._startScale*1.015**ge.y;He.setViewpointImmediate(At/this._currentScale),this._currentScale=At;break}case"end":{const{constraints:gt}=Ae,{effectiveLODs:At,snapToZoom:Yt}=gt;if(!Yt||!At)return void He.end();const ln=gt.snapScale(this._currentScale),kn=(ge.y>0?Math.max(ln,gt.snapToPreviousScale(this._startScale)):Math.min(ln,gt.snapToNextScale(this._startScale)))/this._currentScale;He.zoom(kn);break}}}}class af{constructor(E){this.callbacks=E,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(E){const I=E.data,W=I.pointers.size;switch(I.action){case"start":this.currentCount=W,this._emitStart(E);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=W,this._emitStart(E);break;case"update":this._emitUpdate(E);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=W,this._emitStart(E);break;case"end":this._emitEnd(E),this.currentCount=0}this.previousEvent=E}_emitStart(E){this.startEvent=E,this.callbacks.condition(this.currentCount,E)&&this.callbacks.start(this.currentCount,E,this.startEvent)}_emitUpdate(E){this.callbacks.condition(this.currentCount,E)&&this.callbacks.update(this.currentCount,E,this.startEvent)}_emitEnd(E){this.callbacks.condition(this.currentCount,E)&&this.callbacks.end(this.currentCount,E,this.startEvent),this.startEvent=null}}class J1 extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.pointerAction=I,this.registerIncoming("drag",W,ee=>this._handleDrag(ee)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(E){super.onInstall(E),this.dragEventSeparator=new af({start:(I,W)=>{this.view.mapViewNavigation.pan.begin(this.view,W.data),W.stopPropagation()},update:(I,W)=>{this.view.mapViewNavigation.pan.update(this.view,W.data),W.stopPropagation()},end:(I,W)=>{this.view.mapViewNavigation.pan.end(this.view,W.data),W.stopPropagation()},condition:(I,W)=>1===I&&pm(W.data,this.pointerAction)})}_handleDrag(E){const I=this.view.mapViewNavigation;I.pinch.zoomMomentum||I.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(E)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class Y1 extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.pointerAction=I;const ee=this.view.mapViewNavigation;this.dragEventSeparator=new af({start:(ge,Ae)=>{ee.rotate.begin(this.view,Ae.data),Ae.stopPropagation()},update:(ge,Ae)=>{ee.rotate.update(this.view,Ae.data),Ae.stopPropagation()},end:(ge,Ae)=>{ee.rotate.end(),Ae.stopPropagation()},condition:(ge,Ae)=>1===ge&&pm(Ae.data,this.pointerAction)}),this.registerIncoming("drag",W,ge=>this.dragEventSeparator.handle(ge))}}var su=p(84161);function ou(g){let E=g*g;return g<0&&(E*=-1),E}class b_ extends Za.a{constructor(E){super(!0),this.view=E,this.frameTask=null,this.watchHandles=new Bt.Z,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",I=>this._handleGamePadEvent(I)),this.handle.pause()}onInstall(E){super.onInstall(E),this.watchHandles.add([(0,Ht.YP)(()=>{var I;return null==(I=this.view.navigation.gamepad)?void 0:I.enabled},I=>{I?(this.handle.resume(),this.frameTask||(this.frameTask=(0,Hr.A)({update:W=>this._frameUpdate(W.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))},Ht.nn)])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(E){const I=this.view.navigation.gamepad.device;I&&E.data.device!==I||this.currentDevice&&this.currentDevice!==E.data.device||("end"===E.data.action?(this.currentDevice=null,function y_(g){g.translation[0]=0,g.translation[1]=0,g.translation[2]=0,g.heading=0,g.tilt=0}(this.transformation)):(this.currentDevice=E.data.device,function fm(g,E,I){const W=I,ee=g.state,ge=g.device,Ae="forward-down"===E.tiltDirection?1:-1;"standard"===ge.deviceType?(W.translation[0]=ou(ee.axes[0]),W.translation[1]=ou(ee.axes[1]),W.translation[2]=ou(ee.buttons[7])-ou(ee.buttons[6]),W.heading=ou(ee.axes[2]),W.tilt=ou(ee.axes[3])):"spacemouse"===ge.deviceType&&(W.translation[0]=1.2*ou(ee.axes[0]),W.translation[1]=1.2*ou(ee.axes[1]),W.translation[2]=2*-ou(ee.axes[2]),W.heading=1.2*ou(ee.axes[5]),W.tilt=1.2*ou(ee.axes[3])),W.tilt*=Ae,(0,su.g)(W.translation,W.translation,1)}(E.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(E){const I=this.transformation;if(function v_(g){return 0===g.translation[0]&&0===g.translation[1]&&0===g.translation[2]&&0===g.heading&&0===g.tilt&&0===g.zoom}(I))return;const W=this.view.viewpoint.clone(),ge=Q0*this.view.navigation.gamepad.velocityFactor*E;(0,ya.Rx)(W,W,[I.translation[0]*ge,-I.translation[1]*ge]);const gt=this.view.size;(0,ya.UZ)(W,W,1+I.translation[2]*C_*E,this.view.constraints.rotationEnabled?-I.heading*E_*E:0,[gt[0]/2,gt[1]],gt);const Yt=this.view.constraints.constrain(W,this.view.viewpoint);this.view.viewpoint=Yt}}const E_=.06,Q0=.7,C_=6e-4;class X0 extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.keys=I,this._pressed=!1,this._keyMap={[I.left]:"left",[I.right]:"right",[I.up]:"up",[I.down]:"down"},this.registerIncoming("key-down",W,ee=>this._handleKeyDown(ee)),this.registerIncoming("key-up",W,ee=>this._handleKeyUp(ee)),this.registerIncoming("blur",W,()=>this._handleBlur())}_handleKeyDown(E){E.data.repeat||this._handleKey(E,!0)}_handleKeyUp(E){this._handleKey(E,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(E,I){const W=this._keyMap[E.data.key];if(this._pressed=null!=W,this._pressed){if(I)switch(this.view.mapViewNavigation.begin(),W){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();E.stopPropagation()}}}class M_ extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.keys=I,this._pressed=!1,this._keyToDirection={[I.clockwiseOption1]:"clockwise",[I.clockwiseOption2]:"clockwise",[I.counterClockwiseOption1]:"counterClockwise",[I.counterClockwiseOption2]:"counterClockwise",[I.resetOption1]:"reset",[I.resetOption2]:"reset"},this.registerIncoming("key-down",W,ee=>this._handleKeyDown(ee)),this.registerIncoming("key-up",W,ee=>this._handleKeyUp(ee)),this.registerIncoming("blur",W,()=>this._handleBlur())}_handleKeyDown(E){E.data.repeat||this._handleKey(E,!0)}_handleKeyUp(E){this._handleKey(E,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(E,I){const W=E.modifiers;if(W.size>0&&!W.has("Shift")||!this.view.constraints.rotationEnabled)return;const ee=this._keyToDirection[E.data.key];if(this._pressed=null!=ee,this._pressed){if(I)switch(this.view.mapViewNavigation.begin(),ee){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();E.stopPropagation()}}}var bh;!function(g){g[g.IN=0]="IN",g[g.OUT=1]="OUT"}(bh||(bh={}));class q0 extends Za.a{constructor(E,I,W){super(!0),this.view=E,this.keys=I,this._keysToZoomAction={},this.registerIncoming("key-down",W,ee=>this._handleKeyDown(ee)),I.zoomIn.forEach(ee=>this._keysToZoomAction[ee]=bh.IN),I.zoomOut.forEach(ee=>this._keysToZoomAction[ee]=bh.OUT)}_handleKeyDown(E){this._handleKey(E)}_handleKey(E){const I=E.modifiers;if(I.size>0&&!I.has("Shift"))return;const{key:W}=E.data;if(!(W in this._keysToZoomAction))return;const ee=this._keysToZoomAction[W],{mapViewNavigation:ge}=this.view;let Ae=null;switch(ee){case bh.IN:Ae=ge.zoomIn();break;case bh.OUT:Ae=ge.zoomOut();break;default:return}ge.begin(),Ae.then(()=>ge.end()),E.stopPropagation()}}class w_ extends Za.a{constructor(E,I){super(!0),this.view=E,this._canZoom=!0,this.registerIncoming("mouse-wheel",I,W=>this._handleMouseWheel(W))}_handleMouseWheel(E){if(!this.view.navigation.mouseWheelZoomEnabled||(E.preventDefault(),E.stopPropagation(),!this._canZoom))return;const I=this.view.mapViewNavigation,{x:W,y:ee,deltaY:ge}=E.data,He=I.zoom(1/.6**(1/60*ge),[W,ee]);He&&(this._canZoom=!1,He.catch(()=>{}).then(()=>{this._canZoom=!0,I.end()}))}}class au extends Za.a{constructor(E){super(!0),this.view=E,this.registerIncoming("drag",W=>this._handleDrag(W)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const I=this.view.mapViewNavigation;this.dragEventSeparator=new af({start:(W,ee)=>{I.pinch.begin(this.view,ee.data),ee.stopPropagation()},update:(W,ee)=>{I.pinch.update(this.view,ee.data),ee.stopPropagation()},end:(W,ee)=>{I.pinch.end(this.view),ee.stopPropagation()},condition:W=>W>=2})}_handleDrag(E){this.dragEventSeparator.handle(E)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var mm=p(25441);function tg(g){const E=g.native;return E?{buttons:E.buttons.map(I=>I.pressed?I.value?I.value:1:0),axes:E.axes.map(I=>function ng(g,E){const I=Math.abs(g);return I<E?0:Math.sign(g)*(I-E)/(1-E)}(I,g.axisThreshold))}:{buttons:[],axes:[]}}class S_{constructor(E,I){this.element=E,this.input=I,this._hasEventListeners=!1,this._onConnectGamepad=ge=>{this._connectGamepad(ge.gamepad)},this._onDisconnectGamepad=ge=>{const Ae=ge.gamepad,He=Ae.index,gt=this.inputDevices[He];gt&&(this._emitGamepadEvent(Ae,tg(gt),!1),this.inputDevices.splice(He,1),this.latestUpdate.splice(He,1),this.input.gamepad.devices.remove(gt),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const W="getGamepads"in window.navigator,ee=window.isSecureContext;this.supported=W&&ee,this.supported&&(this._forEachGamepad(ge=>this._connectGamepad(ge)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(E){this._hasEventListeners!==E&&(this._hasEventListeners=E,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(E){this.callback=E}_connectGamepad(E){const I=new zl(E);"unknown"!==I.deviceType&&(this.inputDevices[E.index]=I,this.input.gamepad.devices.add(I)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this.frameTask&&(this.frameTask=(0,Hr.A)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const E=document.hasFocus(),I=this.element.contains(document.activeElement),W="document"===this.input.gamepad.enabledFocusMode&&!E||"view"===this.input.gamepad.enabledFocusMode&&!I;this._forEachGamepad(ee=>{const ge=this.inputDevices[ee.index];if(!ge)return;const Ae=this.latestUpdate[ee.index],He=tg(ge),gt=W||function Q1(g){for(let E=0;E<g.axes.length;E++)if(0!==g.axes[E])return!1;for(let E=0;E<g.buttons.length;E++)if(0!==g.buttons[E])return!1;return!0}(He);Ae&&(Ae.timestamp===ee.timestamp||!Ae.active&&gt||function O_(g,E){if(g.axes.length!==E.axes.length||g.buttons.length!==E.buttons.length)return!1;for(let I=0;I<g.axes.length;I++)if(g.axes[I]!==E.axes[I])return!1;for(let I=0;I<g.buttons.length;I++)if(g.buttons[I]!==E.buttons[I])return!1;return!0}(Ae.state,He))||this._emitGamepadEvent(ee,He,!gt)})}_forEachGamepad(E){const I=window.navigator.getGamepads();for(let W=0;W<I.length;W++){const ee=I[W];this._validate(ee)&&E(ee)}}_emitGamepadEvent(E,I,W){const ee=this.latestUpdate[E.index],ge=ee&&ee.active;if(!ge&&!W)return;const Ae=!ge&&W?"start":ge&&W?"update":"end";this.latestUpdate[E.index]={timestamp:E.timestamp,state:I,active:W},this.callback&&this.callback({device:this.inputDevices[E.index],state:I,action:Ae})}_validate(E){if(!E||!E.connected)return!1;for(let I=0;I<E.axes.length;I++)if(isNaN(E.axes[I]))return!1;return!0}}const rg=(0,se.Z)("trident"),ig=(0,se.Z)("edge"),gm=(0,se.Z)("chrome"),T_=(0,se.Z)("ff"),D_=(0,se.Z)("safari"),Iu_touchNone="esri-view-surface--touch-none",Iu_touchPan="esri-view-surface--touch-pan";let ym=(()=>{class g{constructor(I,W){this.input=W,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=I,I.getAttribute("tabindex")||I.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new S_(I,this.input),this._gamepadSource.onEvent=ee=>this._callback("gamepad",ee)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(I=>{this._releasePointerCaptureSafe(I)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(I){this._browserTouchPanningEnabled=I,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(I){this._callback=I}set activeEvents(I){for(const W in this._active)I&&I.has(W)||(this._element.removeEventListener(_m[W],this._active[W]),delete this._active[W]);I&&I.forEach(W=>{if(!this._active[W]&&_m[W]){const ee=(this._eventHandlers[W]||this._handleDefault).bind(this,W);this._element.addEventListener(_m[W],ee),this._active[W]=ee}}),this._gamepadSource.hasEventListeners=I&&I.has("gamepad")}setPointerCapture(I,W){W?(this._element.setPointerCapture(I.pointerId),this._activePointerCaptures.add(I.pointerId)):(this._releasePointerCaptureSafe(I.pointerId),this._activePointerCaptures.delete(I.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Iu_touchNone:Iu_touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Iu_touchPan:Iu_touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Iu_touchNone),this._element.classList.remove(Iu_touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(I){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(I))return;this._element.releasePointerCapture(I)}catch(W){}}_updateNormalizedPointerLikeEvent(I,W){const ee=nm(this._element,I);return g.test.disableSubpixelCoordinates&&(ee.x=Math.round(ee.x),ee.y=Math.round(ee.y)),W.x=ee.x,W.y=ee.y,W}_handleKey(I,W){const ee=(0,mm.kK)(W);ee&&"key-up"===I&&this._keyDownState.delete(ee);const ge={native:W,key:ee,repeat:ee&&this._keyDownState.has(ee)};ee&&"key-down"===I&&this._keyDownState.add(ge.key),this._callback(I,ge)}_handlePointer(I,W){const ee=this._updateNormalizedPointerLikeEvent(W,{native:W,x:0,y:0,pointerType:W.pointerType,button:W.button,buttons:W.buttons,eventId:this._eventId++});this._callback(I,ee)}_handlePointerPreventDefault(I,W){const ee=this._updateNormalizedPointerLikeEvent(W,{native:W,x:0,y:0,pointerType:W.pointerType,button:W.button,buttons:W.buttons,eventId:this._eventId++});W.preventDefault(),this._callback(I,ee)}_handleMouseWheel(I,W){let ee=W.deltaY;switch(W.deltaMode){case 0:(rg||ig)&&(ee=ee/document.documentElement.clientHeight*600);break;case 1:ee*=30;break;case 2:ee*=900}rg||ig?ee*=.7:gm||D_?ee*=.6:T_&&(ee*=1.375);const Ae=Math.abs(ee);Ae>100&&(ee=ee/Ae*200/(1+Math.exp(-.02*(Ae-100))));const He=this._updateNormalizedPointerLikeEvent(W,{native:W,x:0,y:0,deltaY:ee});this._callback(I,He)}_handlePointerCaptureLost(I,W){this._activePointerCaptures.delete(W.pointerId),this._handleDefault(I,W)}_handleDefault(I,W){const ee={native:W};W.preventDefault(),this._callback(I,ee)}_preventAltKeyDefault(I){"Alt"===I.key&&I.preventDefault()}_preventMultiTouchPanning(I){I.touches.length>1&&I.preventDefault()}}return g.test={disableSubpixelCoordinates:!1},g})();const _m={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class vm extends Za.a{constructor(){super(!0),this.registerIncoming("context-menu",E=>{E.data.native.preventDefault()})}}var Eh=p(84244);function lf(g,E){return Math.abs(E.x-g.x)+Math.abs(E.y-g.y)}class eb extends Za.a{constructor(E=250,I=10,W=350,ee=35,ge=Eh.m){super(!1),this.maximumDoubleClickDelay=E,this.maximumDoubleClickDistance=I,this.maximumDoubleTouchDelay=W,this.maximumDoubleTouchDistance=ee,this._clock=ge,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(E=>E.doubleClickTimeout=(0,Re.hw)(E.doubleClickTimeout))}get hasPendingInputs(){return(0,so.oE)(this._pointerState,E=>null!=E.doubleClickTimeout)}_pointerId(E){const I=E.native;return"mouse"===I.pointerType?`${I.pointerId}:${I.button}`:`${I.pointerType}`}_handleImmediateClick(E){const I=E.data,W=this._pointerId(I),ee=this._pointerState.get(W);if(ee){const ge="touch"===I.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;lf(ee.event.data,I)>ge?(this._clearDoubleClickTimeout(W,!0),this._startClick(E)):(this._clearDoubleClickTimeout(W,!1),this._doubleClick.emit(ee.event.data,void 0,ee.event.modifiers))}else this._startClick(E)}_startClick(E){const I=this._pointerId(E.data);this._pointerState.set(I,{event:E,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(I),"touch"===E.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}),this.refreshHasPendingInputs()}_handlePointerDrag(E){const I=this._pointerId(E.data.currentEvent);this._clearDoubleClickTimeout(I,!0)}_handleDrag(E){const I=this._pointerId(E.data.pointer);this._clearDoubleClickTimeout(I,!0)}_clearDoubleClickTimeout(E,I){const W=this._pointerState.get(E);W&&(W.doubleClickTimeout.remove(),W.doubleClickTimeout=null,I&&this._doubleClickTimeoutExceeded(E),this._pointerState.delete(E),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(E){const I=this._pointerState.get(E);this._click.emit(I.event.data,void 0,I.event.modifiers),I.doubleClickTimeout=null,this._pointerState.delete(E),this.refreshHasPendingInputs()}}class P_ extends Za.a{constructor(E=250,I=10,W=350,ee=35,ge=Eh.m){super(!1),this.maximumDoubleClickDelay=E,this.maximumDoubleClickDistance=I,this.maximumDoubleTouchDelay=W,this.maximumDoubleTouchDistance=ee,this._clock=ge,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,ir.vW)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new af({start:(Ae,He)=>this._dragStart(Ae,He),update:(Ae,He)=>this._dragUpdate(He),end:(Ae,He)=>this._dragEnd(He)}),this.registerIncoming("drag",Ae=>this._dragEventSeparator.handle(Ae)),this.registerIncoming("pointer-down",Ae=>this._handlePointerDown(Ae)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(E=>{null!=E.doubleTapTimeout&&(E.doubleTapTimeout.remove(),E.doubleTapTimeout=null)})}get hasPendingInputs(){return(0,so.oE)(this._pointerState,E=>null!=E.doubleTapTimeout)}_clearPointerDown(E){const I=this._pointerState.get(E);I&&(I.doubleTapTimeout.remove(),I.doubleTapTimeout=null,this._pointerState.delete(E),this.refreshHasPendingInputs())}_createDoubleTapDragData(E,I,W){const{button:ee,buttons:ge,pointer:Ae,pointers:He,pointerType:gt,timestamp:At}=W;return{action:E,delta:I,button:ee,buttons:ge,pointer:Ae,pointers:He,pointerType:gt,timestamp:At}}_dragStart(E,I){if(!this._doubleTapDragReady||1!==E)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:W,modifiers:ee}=I,{center:ge}=W;this._dragStartCenter=ge;const Ae=this._createDoubleTapDragData("begin",(0,ir.vW)(0,0),W);this._doubleTapDrag.emit(Ae,void 0,ee),I.stopPropagation()}_dragUpdate(E){if(!this._doubleTapDragActive)return;const{data:I,modifiers:W}=E,{center:ee}=I,ge=(0,ir.vW)(ee.x-this._dragStartCenter.x,ee.y-this._dragStartCenter.y),Ae=this._createDoubleTapDragData("update",ge,I);this._doubleTapDrag.emit(Ae,void 0,W),E.stopPropagation()}_dragEnd(E){if(!this._doubleTapDragActive)return;const{data:I,modifiers:W}=E,{center:ee}=I,ge=(0,ir.vW)(ee.x-this._dragStartCenter.x,ee.y-this._dragStartCenter.y),Ae=this._createDoubleTapDragData("end",ge,I);this._doubleTapDrag.emit(Ae,void 0,W),this._doubleTapDragActive=!1,E.stopPropagation()}_handlePointerDown(E){const{data:I}=E,W=this._pointerId(I),ee=this._pointerState.get(W),{pointerType:ge}=I.native;if(ee){const Ae="touch"===ge?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(W),lf(ee.event.data,I)>Ae?this._storePointerDown(E):this._doubleTapDragReady=!0}else this._storePointerDown(E)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(E){const{native:I}=E,{pointerId:W,button:ee,pointerType:ge}=I;return"mouse"===ge?`${W}:${ee}`:`${ge}`}_storePointerDown(E){const{data:I}=E,{pointerType:W}=I.native,ee=this._pointerId(I),Ae=this._clock.setTimeout(()=>this._clearPointerDown(ee),"touch"===W?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay);this._pointerState.set(ee,{event:E,doubleTapTimeout:Ae}),this.refreshHasPendingInputs()}}var cp,cf=p(27422);class sg extends Za.a{constructor(E){super(!1),this.navigationTouch=E,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(E,I,W,ee){return{action:E,pointerType:this.pointerType,button:this.mouseButton,buttons:I.buttons,timestamp:ee,pointers:og(this.activePointerMap),pointer:I,angle:W.angle,radius:W.radius,center:W.center}}_addPointer(E){const I=E.native.pointerId,W=lp(this.activePointerMap).angle,ee={event:E,initialAngle:0,lastAngle:0};this.activePointerMap.set(I,ee);const ge=lc(ee,bm(this.activePointerMap));ee.initialAngle=ge,ee.lastAngle=ge,this._updatePointerAngles(W)}_updatePointer(E){if(E&&null==E.x&&null==E.y)return;const W=this.activePointerMap.get(E.native.pointerId);W?W.event=E:this._addPointer(E)}_removePointer(E){const I=lp(this.activePointerMap).angle;this.activePointerMap.delete(E),this._updatePointerAngles(I)}_updatePointerAngles(E){const I=lp(this.activePointerMap);this.activePointerMap.forEach(W=>{W.initialAngle=lc(W,I)-E,W.lastAngle=lc(W,I)-E})}_emitEvent(E,I,W){const ee=lp(this.activePointerMap);this.drag.emit(this._createPayload(E,I,ee,W),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(E){const I=E.data.native.pointerId,W=(0,cf.HA)(E.timestamp);this.activePointerMap.get(I)&&(1===this.activePointerMap.size?(this._updatePointer(E.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",E.data,W),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(I)):(this._removePointer(I),this._emitEvent("removed",E.data,(0,cf.HA)(E.timestamp))))}_handlePointerDrag(E){const I=E.data,W=I.currentEvent,ee=(0,cf.HA)(E.timestamp);switch(I.action){case"start":case"update":this.isDragging?this.activePointerMap.has(W.native.pointerId)?(this._updatePointer(W),!this.isCurrentDragSuppressed&&this._emitEvent("update",W,ee)):(this._addPointer(W),this._emitEvent("added",W,ee),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(W),this.pointerType=E.data.startEvent.pointerType,this.mouseButton=E.data.startEvent.button,this.startStateModifiers=E.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",W,ee))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function bm(g){const E=[];return g.forEach(I=>{E.push((0,ir.vW)(I.event.x,I.event.y))}),function q1(g,E){if(E?(E.radius=0,E.center.x=0,E.center.y=0):E={radius:0,center:(0,ir.vW)()},0===g.length)return E;if(1===g.length)return E.center.x=g[0].x,E.center.y=g[0].y,E;if(2===g.length){const[es,Ns]=g,[xs,Us]=[Ns.x-es.x,Ns.y-es.y];return E.radius=Math.sqrt(xs*xs+Us*Us)/2,E.center.x=(es.x+Ns.x)/2,E.center.y=(es.y+Ns.y)/2,E}let I=0,W=0;for(let es=0;es<g.length;es++)I+=g[es].x,W+=g[es].y;I/=g.length,W/=g.length;const ee=g.map(es=>es.x-I),ge=g.map(es=>es.y-W);let Ae=0,He=0,gt=0,At=0,Yt=0,ln=0,kn=0;for(let es=0;es<ee.length;es++){const Ns=ee[es],xs=ge[es],Us=Ns*Ns,to=xs*xs;Ae+=Us,He+=to,gt+=Ns*xs,At+=Us*Ns,Yt+=to*xs,ln+=Ns*to,kn+=xs*Us}const Fn=.5*(At+ln),Or=.5*(Yt+kn),$r=Ae*He-gt*gt,ui=(Fn*He-Or*gt)/$r,oi=(Ae*Or-gt*Fn)/$r,qi=(0,ir.vW)(ui+I,oi+W);return{radius:Math.sqrt(ui*ui+oi*oi+(Ae+He)/g.length),center:qi}}(E)}function lp(g){const E=bm(g);let I=0;return g.forEach(W=>{let ee=lc(W,E),ge=ee-W.lastAngle;for(;ge>Math.PI;)ge-=2*Math.PI;for(;ge<-Math.PI;)ge+=2*Math.PI;ee=W.lastAngle+ge,W.lastAngle=ee,I+=ee-W.initialAngle}),I/=g.size||1,{angle:I,radius:E.radius,center:E.center}}function og(g){const E=new Map;return g.forEach((I,W)=>E.set(W,I.event)),E}function lc(g,E){const I=g.event;return Math.atan2(I.y-E.center.y,I.x-E.center.x)}!function(g){g[g.Left=0]="Left",g[g.Middle=1]="Middle",g[g.Right=2]="Right",g[g.Back=3]="Back",g[g.Forward=4]="Forward",g[g.Undefined=-1]="Undefined"}(cp||(cp={}));class I_ extends Za.a{constructor(E=250,I=10,W=350,ee=35,ge=Eh.m){super(!1),this.maximumDoubleClickDelay=E,this.maximumDoubleClickDistance=I,this.maximumDoubleTouchDelay=W,this.maximumDoubleTouchDistance=ee,this._clock=ge,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",Ae=>{this._handlePointerLoss(Ae,"pointer-up")}),this.registerIncoming("pointer-capture-lost",Ae=>{this._handlePointerLoss(Ae,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",Ae=>{this._handlePointerLoss(Ae,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(E=>{E.immediateDoubleClick&&E.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(E){const I=E.data,W=this._pointerId(I);this._pointerState.has(W)||(this._pointerState.set(W,{downButton:I.native.button,immediateDoubleClick:null}),this.startCapturingPointer(I.native))}_handlePointerLoss(E,I){const W=E.data,ee=this._pointerId(W),ge=this._pointerState.get(ee);if(ge&&"pointer-up"===I&&ge.downButton===W.native.button){const Ae=ge.immediateDoubleClick;if(Ae){Ae.timeoutHandle.remove();const He="touch"===E.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;lf(Ae,E.data)>He?this._startImmediateDoubleClick(E,ge):(this._immediateDoubleClick.emit(E.data,void 0,Ae.modifiers),this._removeState(W))}else this._startImmediateDoubleClick(E,ge)}}_startImmediateDoubleClick(E,I){I.immediateDoubleClick={x:E.data.x,y:E.data.y,modifiers:E.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(E.data),"touch"===E.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)}}_pointerId(E){const I=E.native;return"mouse"===I.pointerType?`${I.pointerId}:${I.button}`:`${I.pointerType}`}_removeState(E){const I=this._pointerId(E);this._pointerState.delete(I),this.stopCapturingPointer(E.native),this.refreshHasPendingInputs()}}class tb extends Za.a{constructor(E=300,I=1.5,W=6,ee=6,ge=500,Ae=Eh.m){super(!1),this.maximumClickDelay=E,this.movementUntilMouseDrag=I,this.movementUntilPenDrag=W,this.movementUntilTouchDrag=ee,this.holdDelay=ge,this._clock=Ae,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",He=>{this._handlePointerLoss(He,"pointer-up")}),this.registerIncoming("pointer-capture-lost",He=>{this._handlePointerLoss(He,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",He=>{this._handlePointerLoss(He,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(E=>{null!=E.holdTimeout&&(E.holdTimeout.remove(),E.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(E){const I=E.data,W=I.native.pointerId;let ee=null;0===this._pointerState.size&&(ee=this._clock.setTimeout(()=>{const Ae=this._pointerState.get(W);Ae&&(Ae.isDragging||(this._pointerHold.emit(Ae.previousEvent,void 0,E.modifiers),Ae.holdEmitted=!0),Ae.holdTimeout=null)},this.holdDelay)),this._pointerState.set(W,{startEvent:I,previousEvent:I,startTimestamp:E.timestamp,isDragging:!1,downButton:I.native.button,holdTimeout:ee,modifiers:new Set}),this.startCapturingPointer(I.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(E)}_createPointerDragData(E,I,W){return{action:E,startEvent:I.startEvent,previousEvent:I.previousEvent,currentEvent:W}}_handlePointerMove(E){const I=E.data,ee=this._pointerState.get(I.native.pointerId);ee&&(ee.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",ee,I),void 0,ee.modifiers):function X1(g,E){const I=E.x-g.x,W=E.y-g.y;return Math.sqrt(I*I+W*W)}(I,ee.startEvent)>this._getDragThreshold(I.native.pointerType)&&this._startDragging(E),ee.previousEvent=I)}_getDragThreshold(E){switch(E){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(E){const I=E.data,W=I.native.pointerId;this._pointerState.forEach(ee=>{null!=ee.holdTimeout&&(ee.holdTimeout.remove(),ee.holdTimeout=null),ee.isDragging||(ee.modifiers=E.modifiers,ee.isDragging=!0,W===ee.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",ee,I)):this._pointerDrag.emit(this._createPointerDragData("start",ee,ee.previousEvent),E.timestamp))})}_handlePointerLoss(E,I){const W=E.data,ee=W.native.pointerId,ge=this._pointerState.get(ee);ge&&(null!=ge.holdTimeout&&(ge.holdTimeout.remove(),ge.holdTimeout=null),ge.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",ge,"pointer-up"===I?W:ge.previousEvent),void 0,ge.modifiers):"pointer-up"===I&&ge.downButton===W.native.button&&E.timestamp-ge.startTimestamp<=this.maximumClickDelay&&!ge.holdEmitted&&this._immediateClick.emit(W),this._pointerState.delete(ee),this.stopCapturingPointer(W.native),0===this._pointerState.size&&this._moveHandle.pause())}}const Ch_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Ch_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Ch_rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Kd=class extends Le.Z{constructor(){super(...arguments),this._handles=new Bt.Z}initialize(){const g=()=>{var E;return null==(E=this.view)?void 0:E.ready};this._handles.add([(0,Ht.gx)(()=>!g(),()=>this._disconnect()),(0,Ht.gx)(g,()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}get latestPointerType(){var g;return null==(g=this._inputManager)?void 0:g.latestPointerType}get latestPointerLocation(){var g;return null==(g=this._inputManager)?void 0:g.latestPointerLocation}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const E=new ym(this.view.surface,this.view.input),I=[new I_,new tb,new eb,new sg(this.view.navigation),new P_],W=new Yc.$({eventSource:E,recognizers:I});W.installHandlers("prevent-context-menu",[new vm],Yc.f.INTERNAL),W.installHandlers("navigation",[new au(this.view),new b_(this.view),new w_(this.view),new Ll(this.view),new Ll(this.view,["Ctrl"]),new J1(this.view,"primary"),new X0(this.view,Ch_pan),new q0(this.view,Ch_zoom),new M_(this.view,Ch_rotate),new Y1(this.view,"secondary"),new g_(this.view,"touch")],Yc.f.INTERNAL),this.view.viewEvents.connect(W),this._source=E,this._inputManager=W,(0,Ht.YP)(()=>{var ee,ge;return null==(ge=null==(ee=this.view)?void 0:ee.navigation)?void 0:ge.browserTouchPanEnabled},ee=>{this._source&&(this._source.browserTouchPanningEnabled=!ee)},Ht.nn)}get test(){return{inputManager:this._inputManager}}};(0,D._)([(0,A.Cb)()],Kd.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],Kd.prototype,"latestPointerType",null),(0,D._)([(0,A.Cb)()],Kd.prototype,"latestPointerLocation",null),Kd=(0,D._)([(0,J.j)("esri.views.2d.input.MapViewInputManager")],Kd);const Em=Kd;var dp=p(56656);let A_=0,lu=class extends Le.Z{constructor(){super(...arguments),this.color=new N.Z([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return A_++}};(0,D._)([(0,A.Cb)({readOnly:!0})],lu.prototype,"version",null),(0,D._)([(0,A.Cb)({type:N.Z})],lu.prototype,"color",void 0),(0,D._)([(0,A.Cb)({type:N.Z})],lu.prototype,"haloColor",void 0),(0,D._)([(0,A.Cb)()],lu.prototype,"haloOpacity",void 0),(0,D._)([(0,A.Cb)()],lu.prototype,"fillOpacity",void 0),lu=(0,D._)([(0,J.j)("esri.views.2d.support.HighlightOptions")],lu);const Cm=lu;var Mm=p(33412),uf=p(18605),wm=p(31637),x_=p(57596);let Gd=class extends Le.Z{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(g){const E=this._get("node");g!==E&&(g&&g.classList.add("esri-component"),E&&E.classList.remove("esri-component"),this._set("node",g))}castNode(g){return g?"string"==typeof g||function lg(g){return g&&"nodeType"in g}(g)?(this._set("widget",null),(0,or.L7)(g)):(function Mh(g){return g&&"function"==typeof g.render}(g)&&!g.domNode&&(g.domNode=document.createElement("div")),this._set("widget",g),g.domNode):(this._set("widget",null),null)}};(0,D._)([(0,A.Cb)({dependsOn:[]})],Gd.prototype,"id",null),(0,D._)([(0,A.Cb)()],Gd.prototype,"node",null),(0,D._)([(0,nt.p)("node")],Gd.prototype,"castNode",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Gd.prototype,"widget",void 0),Gd=(0,D._)([(0,J.j)("esri.views.ui.Component")],Gd);const df=Gd,wh={left:0,top:0,bottom:0,right:0},cg={bottom:30,top:15,right:15,left:15},Sm="manual",wl_corner="esri-ui-corner";function cc(g){const E=g,I="object"==typeof E&&null!==E&&Object.getPrototypeOf(E);return null!==I&&I!==Object.prototype||!("component"in E||"index"in E||"position"in E)?null:g}function hp(g,{top:E,bottom:I,left:W,right:ee}){g.style.top=E,g.style.bottom=I,g.style.left=W,g.style.right=ee}let cu=class extends _e.Z.EventedAccessor{constructor(g){super(g),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new Bt.Z,this.view=null,this._applyViewPadding=()=>{const E=this.container;E&&hp(E,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const E=this._innerContainer;E&&hp(E,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([(0,Ht.YP)(()=>{var g;return[null==(g=this.view)?void 0:g.padding,this.container]},this._applyViewPadding,Ht.nn),(0,Ht.YP)(()=>this.padding,this._applyUIPadding,Ht.nn)])}destroy(){this.container=null;for(const g of this._components)g.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(g){const E=this._get("container");g!==E&&(g&&(g.classList.add("esri-ui"),function lh(g){(function ed(g){Array.from(g.classList).forEach(E=>{E.startsWith(Cu)&&g.classList.remove(E)})})(g),g.classList.add(function ah(){return`${Cu}${Ho()?"dark":"light"}`}())}(g),this._attachContainers(g)),E&&(E.classList.remove("esri-ui"),hp(E,{top:"",bottom:"",left:"",right:""}),(0,or.cS)(E)),this._set("container",g))}get height(){const g=this.get("view.height")||0;if(0===g)return g;const E=this._getViewPadding();return Math.max(g-(E.top+E.bottom),0)}get padding(){return this._get("padding")}set padding(g){g?this._override("padding",g):this._clearOverride("padding")}castPadding(g){return"number"==typeof g?{bottom:g,top:g,right:g,left:g}:Nn(Nn({},cg),g)}get width(){const g=this.get("view.width")||0;if(0===g)return g;const E=this._getViewPadding();return Math.max(g-(E.left+E.right),0)}add(g,E){let I,W;if(Array.isArray(g))return void g.forEach(ge=>this.add(ge,E));const ee=cc(g);ee&&({index:I,position:E,component:g,key:W}=ee),E&&"object"==typeof E&&({index:I,key:W,position:E}=E),!g||E&&!this._isValidPosition(E)||this._add(g,E,I,W)}remove(g,E){if(!g)return;if(Array.isArray(g))return g.map(W=>this.remove(W,E));const I=this._find(g);if(I){const W=this._componentToKey;if(W.has(g)&&W.get(g)!==E)return;const ee=this._components.indexOf(I);return I.node.parentNode&&I.node.parentNode.removeChild(I.node),this._componentToKey.delete(g),this._components.splice(ee,1)[0]}}empty(g){return Array.isArray(g)?g.map(E=>this.empty(E)).reduce((E,I)=>E.concat(I)):(g=g||Sm)===Sm?Array.prototype.slice.call(this._manualContainer.children).filter(E=>!E.classList.contains(wl_corner)).map(E=>this.remove(E)):this._isValidPosition(g)?Array.prototype.slice.call(this._cornerNameToContainerLookup[g].children).map(this.remove,this):null}move(g,E){if(Array.isArray(g)&&g.forEach(ge=>this.move(ge,E)),!g)return;let I;const W=cc(g)||cc(E);if(W&&(I=W.index,E=W.position,g=W.component||g),E&&!this._isValidPosition(E))return;const ee=this.remove(g);ee&&this.add(ee,{position:E,index:I})}find(g){if(!g)return null;const E=this._findById(g);return E&&(E.widget||E.node)}getPosition(g){for(const E in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[E].contains(g))return E;return null}_add(g,E,I,W){g instanceof df||(g=new df({node:g})),this._place({component:g,position:E,index:I}),this._components.push(g),W&&this._componentToKey.set(g,W)}_find(g){return g?g instanceof df?this._findByComponent(g):"string"==typeof g?this._findById(g):this._findByNode(g.domNode||g):null}_getViewPadding(){return this.get("view.padding")||wh}_attachContainers(g){g.appendChild(this._innerContainer),g.appendChild(this._manualContainer)}_initContainers(){const g=document.createElement("div");g.classList.add("esri-ui-inner-container"),g.classList.add("esri-ui-corner-container");const E=document.createElement("div");E.classList.add("esri-ui-inner-container"),E.classList.add("esri-ui-manual-container");const I=document.createElement("div");I.classList.add("esri-ui-top-left"),I.classList.add(wl_corner),g.appendChild(I);const W=document.createElement("div");W.classList.add("esri-ui-top-right"),W.classList.add(wl_corner),g.appendChild(W);const ee=document.createElement("div");ee.classList.add("esri-ui-bottom-left"),ee.classList.add(wl_corner),g.appendChild(ee);const ge=document.createElement("div");ge.classList.add("esri-ui-bottom-right"),ge.classList.add(wl_corner),g.appendChild(ge),this._innerContainer=g,this._manualContainer=E;const Ae=(0,eo.dZ)();this._cornerNameToContainerLookup={"top-left":I,"top-right":W,"bottom-left":ee,"bottom-right":ge,"top-leading":Ae?W:I,"top-trailing":Ae?I:W,"bottom-leading":Ae?ge:ee,"bottom-trailing":Ae?ee:ge},this._positionNameToContainerLookup=Nn({manual:E},this._cornerNameToContainerLookup)}_isValidPosition(g){return!!this._positionNameToContainerLookup[g]}_place(g){const E=g.component,W=g.index,ee=this._positionNameToContainerLookup[g.position||Sm],ge=W>-1;if(function L_(g){return g&&!g._started&&"function"==typeof g.postMixInProperties&&"function"==typeof g.buildRendering&&"function"==typeof g.postCreate&&"function"==typeof g.startup}(E.widget)&&E.widget.startup(),!ge)return void ee.appendChild(E.node);const Ae=Array.prototype.slice.call(ee.children);0!==W?W>=Ae.length?ee.appendChild(E.node):(0,or.Vt)(E.node,Ae[W]):ee.firstChild?(0,or.Vt)(E.node,ee.firstChild):ee.appendChild(E.node)}_toPxPosition(g){return{top:this._toPxUnit(g.top),left:this._toPxUnit(g.left),right:this._toPxUnit(g.right),bottom:this._toPxUnit(g.bottom)}}_toPxUnit(g){return 0===g?"0":g+"px"}_findByComponent(g){let E,I=null;return this._components.some(W=>(E=W===g,E&&(I=W),E)),I}_findById(g){let E,I=null;return this._components.some(W=>(E=W.id===g,E&&(I=W),E)),I}_findByNode(g){let E,I=null;return this._components.some(W=>(E=W.node===g,E&&(I=W),E)),I}};(0,D._)([(0,A.Cb)()],cu.prototype,"container",null),(0,D._)([(0,A.Cb)()],cu.prototype,"height",null),(0,D._)([(0,A.Cb)({value:cg})],cu.prototype,"padding",null),(0,D._)([(0,nt.p)("padding")],cu.prototype,"castPadding",null),(0,D._)([(0,A.Cb)()],cu.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],cu.prototype,"width",null),cu=(0,D._)([(0,J.j)("esri.views.ui.UI")],cu);const ug=cu;var dg=p(59213);function Tm(g,E){return g&&"copyright"in g&&(!E||"function"==typeof g.originOf&&"user"===g.originOf("copyright"))}function hf(g,E,I){!I||!E||g.find(W=>W.layerView===E&&W.text===I)||g.push({text:I,layerView:E})}const yd=[];let Hd=class extends oa.r{constructor(g){super(g),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new B.Z,this.view=null,this._allLayerViewsChange=E=>{this.handles.remove("suspension");const I=this.get("view.allLayerViews");I&&this.handles.add(I.map(W=>(0,Ht.YP)(()=>{var ee;return[W.suspended,null==(ee=W.layer)?void 0:ee.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),E&&E.removed&&E.removed.forEach(W=>{this._pendingAttributions.delete(W),this._fetchedAttributionData.delete(W)}),this._updateAttributionItems()},this.handles.add([(0,Ht.on)(()=>{var E;return null==(E=this.view)?void 0:E.allLayerViews},"change",E=>this._allLayerViewsChange(E),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,Ht.gx)(()=>{var E;return!0===(null==(E=this.view)?void 0:E.stationary)},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const g=this.get("view.allLayerViews");yd.length=0,g?(g.forEach(E=>{var ee;if(E.suspended||!(null==(ee=E.layer)?void 0:ee.attributionVisible))return;const I=E.layer;if(Tm(I,"user"))return void hf(yd,E,I.copyright);if(I.hasAttributionData){if(this._fetchedAttributionData.has(E)){const ge=this._fetchedAttributionData.get(E);return void(ge?hf(yd,E,this._getDynamicAttribution(ge,this.view,I)):Tm(I)&&hf(yd,E,I.copyright))}return void this._fetchAttributionData(E)}const W=I.get("portalItem.accessInformation");hf(yd,E,W||I.copyright)}),function F_(g,E){return g.length!==E.length||g.some((I,W)=>I.text!==E[W].text)}(this.items,yd)&&(this.items.removeAll(),this.items.addMany(yd)),yd.length=0,this.notifyChange("state")):this._clear()}_fetchAttributionData(g){var E=this;return(0,k.Z)(function*(){if(E._pendingAttributions.has(g))return;E._pendingAttributions.add(g);const I=yield(0,dg.q6)(g.layer.fetchAttributionData());if(E._pendingAttributions.has(g)){const W=I.ok?E._createContributionIndex(I.value,function U_(g){return"bing-maps"===g.type}(g.layer)):null;E._pendingAttributions.delete(g),E._fetchedAttributionData.set(g,W)}E._updateAttributionItems()})()}_createContributionIndex(g,E){const I=g.contributors,W={};if(!I)return W;for(let ee=0;ee<I.length;ee++){const ge=I[ee],Ae=ge.coverageAreas;if(!Ae)return;for(const He of Ae){const gt=He.bbox,At=He.zoomMin-(E&&He.zoomMin?1:0),Yt=He.zoomMax-(E&&He.zoomMax?1:0),kn={extent:(0,Hc.$)({xmin:gt[1],ymin:gt[0],xmax:gt[3],ymax:gt[2],spatialReference:eu.Z.WGS84}),attribution:ge.attribution||"",score:null!=He.score?He.score:100,id:ee};for(let Fn=At;Fn<=Yt;Fn++)W[Fn]=W[Fn]||[],W[Fn].push(kn)}}return W.maxKey=Math.max.apply(null,Object.keys(W)),W}_getDynamicAttribution(g,E,I){const{extent:W,scale:ee}=E;let ge=I.tileInfo.scaleToZoom(ee);if(ge=Math.min(g.maxKey,Math.round(ge)),!W||null==ge||ge<=-1)return"";const Ae=g[ge],He=(0,Hc.iV)(W.center.clone().normalize(),E.spatialReference),gt={};return Ae?Ae.filter(At=>{const Yt=!gt[At.id]&&He&&(0,$0.aV)(At.extent,He);return Yt&&(gt[At.id]=!0),Yt}).sort((At,Yt)=>Yt.score-At.score||At.objectId-Yt.objectId).map(At=>At.attribution).join(", "):""}};(0,D._)([(0,A.Cb)({readOnly:!0,type:B.Z})],Hd.prototype,"items",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Hd.prototype,"state",null),(0,D._)([(0,A.Cb)()],Hd.prototype,"view",void 0),Hd=(0,D._)([(0,J.j)("esri.widgets.Attribution.AttributionViewModel")],Hd);const N_=Hd;let Ol=class extends Ii.Z{constructor(g,E){super(g,E),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(I=>I.forEach(({target:W})=>this._checkSourceTextOverflow(W))),this.iconClass="esri-icon-description",this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new N_}initialize(){this.own((0,Ht.on)(()=>{var g;return null==(g=this.viewModel)?void 0:g.items},"change",()=>this.scheduleRender()))}destroy(){var g;null==(g=this._resizeObserver)||g.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((g,E)=>(g.includes(E.text)||g.push(E.text),g),[]).join(this.itemDelimiter)}render(){return(0,vn.u)("div",{bind:this,class:this.classes("esri-attribution esri-widget",{"esri-attribution--open":this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return(0,vn.u)("div",{class:"esri-attribution__powered-by"},"Powered by"," ",(0,vn.u)("a",{class:"esri-attribution__link",href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const g=this._isOpen,E=this._isInteractive,I=E?"0":"",{attributionText:W}=this;return(0,vn.u)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes("esri-attribution__sources",{"esri-attribution__sources--open":g,"esri-interactive":E}),innerHTML:W,tabindex:I})}_afterSourcesNodeCreate(g){this._prevSourceNodeHeight=g.clientWidth,this._resizeObserver.observe(g)}_checkSourceTextOverflow(g){let E=!1;const{clientHeight:I,clientWidth:W,scrollWidth:ee}=g,ge=ee>W,Ae=this._attributionTextOverflowed!==ge;if(this._attributionTextOverflowed=ge,Ae&&(E=!0),this._isOpen){const He=I<this._prevSourceNodeHeight;this._prevSourceNodeHeight=I,He&&(this._isOpen=!1,E=!0)}E&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,D._)([(0,A.Cb)()],Ol.prototype,"_isOpen",void 0),(0,D._)([(0,A.Cb)()],Ol.prototype,"_isInteractive",null),(0,D._)([(0,A.Cb)()],Ol.prototype,"_attributionTextOverflowed",void 0),(0,D._)([(0,A.Cb)()],Ol.prototype,"_prevSourceNodeHeight",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Ol.prototype,"attributionText",null),(0,D._)([(0,A.Cb)()],Ol.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)()],Ol.prototype,"itemDelimiter",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ol.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Attribution/t9n/Attribution")],Ol.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.view")],Ol.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:N_})],Ol.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],Ol.prototype,"_toggleState",null),Ol=(0,D._)([(0,J.j)("esri.widgets.Attribution")],Ol);const j_=Ol;let Oh=class extends(bi(Le.Z)){constructor(g){super(g),this._handles=new Bt.Z,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add((0,Ht.YP)(()=>this.view,this._updateRotationWatcher,Ht.nn))}destroy(){this._handles=(0,Re.hw)(this._handles),this.view=null}get canShowNorth(){const g=this.get("view.spatialReference");return!(!g||!g.isWebMercator&&!g.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const g={};"2d"===this.view.type?g.rotation=0:g.heading=0,this.callGoTo({target:g})}_updateForRotation(g){null!=g&&(this.orientation={z:g})}_updateForCamera(g){g&&(this.orientation={x:0,y:0,z:-g.heading})}_updateRotationWatcher(g){this._handles.removeAll(),g&&this._handles.add("2d"===g.type?(0,Ht.YP)(()=>null==g?void 0:g.rotation,this._updateForRotation,Ht.nn):(0,Ht.YP)(()=>null==g?void 0:g.camera,this._updateForCamera,Ht.nn))}};(0,D._)([(0,A.Cb)({readOnly:!0})],Oh.prototype,"canShowNorth",null),(0,D._)([(0,A.Cb)()],Oh.prototype,"orientation",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Oh.prototype,"state",null),(0,D._)([(0,A.Cb)()],Oh.prototype,"view",void 0),Oh=(0,D._)([(0,J.j)("esri.widgets.CompassViewModel")],Oh);const pf=Oh;let Ac=class extends Ii.Z{constructor(g,E){super(g,E),this.goToOverride=null,this.iconClass="esri-icon-locate-circled",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new pf}reset(){return this.viewModel.reset()}render(){const{orientation:g,state:E}=this.viewModel,I="disabled"===E,W="compass"==("rotation"===E?"rotation":"compass"),ee=I?-1:0,ge={"esri-disabled":I,"esri-interactive":!I},Ae={"esri-icon-compass":W,"esri-icon-dial":!W},{messages:He}=this;return(0,vn.u)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",ge),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:ee,"aria-label":He.reset,title:He.reset},(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",Ae),styles:this._toRotationTransform(g)}),(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},He.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(g){return{transform:`rotateZ(${g.z}deg)`}}};(0,D._)([(0,hr.B)("viewModel.goToOverride")],Ac.prototype,"goToOverride",void 0),(0,D._)([(0,A.Cb)()],Ac.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ac.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Compass/t9n/Compass")],Ac.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.view")],Ac.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:pf})],Ac.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],Ac.prototype,"_reset",null),Ac=(0,D._)([(0,J.j)("esri.widgets.Compass")],Ac);const hg=Ac;let pp=class extends Le.Z{constructor(g){super(g),this._handles=new Bt.Z,this.navigationMode="pan",this.view=null}initialize(){this._handles.add((0,Ht.gx)(()=>{var g;return null==(g=this.view)?void 0:g.inputManager},()=>this._setNavigationMode()))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};(0,D._)([(0,A.Cb)({readOnly:!0})],pp.prototype,"state",null),(0,D._)([(0,A.Cb)()],pp.prototype,"navigationMode",void 0),(0,D._)([(0,A.Cb)()],pp.prototype,"view",void 0),pp=(0,D._)([(0,J.j)("esri.widgets.NavigationToggleViewModel")],pp);const uc=pp,xc_button="esri-navigation-toggle__button esri-widget--button";let xu=class extends Ii.Z{constructor(g,E){super(g,E),this.iconClass="esri-icon-pan2",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new uc}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}toggle(){return this.viewModel.toggle()}render(){const g="disabled"===this.get("viewModel.state"),E="pan"===this.get("viewModel.navigationMode"),W={"esri-navigation-toggle__button--active":E},ee={"esri-navigation-toggle__button--active":!E},ge=g?-1:0,Ae=this.messages.toggle;return(0,vn.u)("div",{bind:this,class:this.classes("esri-navigation-toggle esri-widget",{"esri-disabled":g,"esri-navigation-toggle--horizontal":"horizontal"===this.layout}),onclick:this._toggle,onkeydown:this._toggle,tabIndex:ge,"aria-label":Ae,title:Ae},(0,vn.u)("div",{class:this.classes(xc_button,"esri-navigation-toggle__button--pan",W)},(0,vn.u)("span",{class:"esri-icon-pan"})),(0,vn.u)("div",{class:this.classes(xc_button,"esri-navigation-toggle__button--rotate",ee)},(0,vn.u)("span",{class:"esri-icon-rotate"})))}_toggle(){this.toggle()}};(0,D._)([(0,A.Cb)()],xu.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],xu.prototype,"label",void 0),(0,D._)([(0,A.Cb)({value:"vertical"})],xu.prototype,"layout",null),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],xu.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.view")],xu.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:uc})],xu.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],xu.prototype,"_toggle",null),xu=(0,D._)([(0,J.j)("esri.widgets.NavigationToggle")],xu);const pg=xu;let Ru=class extends Ii.Z{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const g=this.enabled?0:-1,I={[this.iconClass]:!!this.iconClass};return(0,vn.u)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",{"esri-disabled":!this.enabled,"esri-interactive":this.enabled}),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:g,title:this.title},(0,vn.u)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",I)}),(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}};(0,D._)([(0,A.Cb)()],Ru.prototype,"action",void 0),(0,D._)([(0,A.Cb)()],Ru.prototype,"enabled",void 0),(0,D._)([(0,A.Cb)()],Ru.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)()],Ru.prototype,"title",void 0),(0,D._)([(0,co.h)()],Ru.prototype,"_triggerAction",null),Ru=(0,D._)([(0,J.j)("esri.widgets.IconButton")],Ru);const fg=Ru;let fp=class extends Le.Z{get canZoomIn(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),E=this.get("view.constraints.effectiveMaxScale");return 0===E||g>E}get canZoomOut(){if(!this.get("view.ready"))return!1;const g=this.get("view.animation.target.scale")||this.get("view.scale"),E=this.get("view.constraints.effectiveMinScale");return 0===E||g<E}};(0,D._)([(0,A.Cb)({readOnly:!0})],fp.prototype,"canZoomIn",null),(0,D._)([(0,A.Cb)({readOnly:!0})],fp.prototype,"canZoomOut",null),(0,D._)([(0,A.Cb)()],fp.prototype,"view",void 0),fp=(0,D._)([(0,J.j)("esri.widgets.Zoom.ZoomConditions2D")],fp);const mg=fp;let vd=class extends Le.Z{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};(0,D._)([(0,A.Cb)({readOnly:!0})],vd.prototype,"canZoomIn",null),(0,D._)([(0,A.Cb)({readOnly:!0})],vd.prototype,"canZoomOut",null),(0,D._)([(0,A.Cb)()],vd.prototype,"view",void 0),vd=(0,D._)([(0,J.j)("esri.widgets.Zoom.ZoomConditions3D")],vd);const B_=vd;let uu=class extends Le.Z{constructor(g){super(g),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(g){g?"2d"===g.type?this._zoomConditions=new mg({view:g}):"3d"===g.type&&(this._zoomConditions=new B_({view:g})):this._zoomConditions=null,this._set("view",g)}zoomIn(){if(!this.canZoomIn)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomIn():(0,U.R8)(g.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const g=this.view;"2d"===g.type?g.mapViewNavigation.zoomOut():(0,U.R8)(g.goTo({zoomFactor:.5}))}};(0,D._)([(0,A.Cb)()],uu.prototype,"_zoomConditions",void 0),(0,D._)([(0,A.Cb)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],uu.prototype,"canZoomIn",void 0),(0,D._)([(0,A.Cb)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],uu.prototype,"canZoomOut",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],uu.prototype,"state",null),(0,D._)([(0,A.Cb)()],uu.prototype,"view",null),uu=(0,D._)([(0,J.j)("esri.widgets.Zoom.ZoomViewModel")],uu);const gg=uu;let Lu=class extends Ii.Z{constructor(g,E){super(g,E),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new gg}initialize(){this._zoomInButton=new fg({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new fg({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(g){"horizontal"!==g&&(g="vertical"),this._set("layout",g)}render(){const g=this.viewModel,E={"esri-zoom--horizontal":"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===g.state&&g.canZoomIn,this._zoomOutButton.enabled="ready"===g.state&&g.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,vn.u)("div",{class:this.classes("esri-zoom esri-widget",E)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};(0,D._)([(0,A.Cb)()],Lu.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Lu.prototype,"label",void 0),(0,D._)([(0,A.Cb)({value:"vertical"})],Lu.prototype,"layout",null),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Zoom/t9n/Zoom")],Lu.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.view")],Lu.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:gg})],Lu.prototype,"viewModel",void 0),Lu=(0,D._)([(0,J.j)("esri.widgets.Zoom")],Lu);const k_=Lu,yg="esri.views.ui.DefaultUI";R.Z.getLogger(yg);let Jd=class extends ug{constructor(g){super(g),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this._handles.add([(0,Ht.YP)(()=>this.components,this._componentsWatcher.bind(this),Ht.nn),(0,Ht.YP)(()=>this.view,this._updateViewAwareWidgets.bind(this),Ht.nn)])}_add(g,E,I,W){if("string"==typeof g&&this._defaultPositionLookup[g]){if(this._find(g))return;g=this._createComponent(g)}super._add(g,E,I,W)}_removeComponents(g){g.forEach(E=>{const I=this._find(E);I&&(this.remove(I),I.destroy())})}_updateViewAwareWidgets(g){this.components.forEach(E=>{const I=this._find(E),W=I&&I.widget;(function W_(g){return g&&void 0!==g.view})(W)&&(W.view=g)})}_componentsWatcher(g,E){this._removeComponents(E),this._addComponents(g),this._adjustPadding(g)}_adjustPadding(g){if(!g.includes("attribution")&&!this._isOverridden("padding")){const{top:E}=this.padding;this.padding=E}}_addComponents(g){this.initialized&&g.forEach(E=>this.add(this._createComponent(E),this._defaultPositionLookup[E]))}_createComponent(g){const E=this._createWidget(g);if(E)return new df({id:g,node:E})}_createWidget(g){return"attribution"===g?this._createAttribution():"compass"===g?this._createCompass():"navigation-toggle"===g?this._createNavigationToggle():"zoom"===g?this._createZoom():void 0}_createAttribution(){return new j_({view:this.view})}_createCompass(){return new hg({view:this.view})}_createNavigationToggle(){return new pg({view:this.view})}_createZoom(){return new k_({view:this.view})}};(0,D._)([(0,A.Cb)()],Jd.prototype,"components",void 0),Jd=(0,D._)([(0,J.j)(yg)],Jd);const Th=Jd;let ff=class extends Th{constructor(g){super(g),this.components=["attribution","zoom"]}};(0,D._)([(0,A.Cb)()],ff.prototype,"components",void 0),ff=(0,D._)([(0,J.j)("esri.views.ui.2d.DefaultUI2D")],ff);const Dh=ff;var Dm;let mf=Dm=class extends ae.wq{constructor(g){super(g),this.color=new N.Z([0,0,0,1])}clone(){return new Dm((0,re.d9)({color:this.color}))}};(0,D._)([(0,A.Cb)({type:N.Z,json:{write:!0}})],mf.prototype,"color",void 0),mf=Dm=(0,D._)([(0,J.j)("esri.webmap.background.ColorBackground")],mf);const Pm=mf,za=R.Z.getLogger("esri.views.MapView");let Ph,Qa,bd,gp,$l,gf;function Ed(){return Ed=(0,k.Z)(function*(){const[,{GraphicsView2D:g,GraphicContainer:E,LabelManager:I,MapViewNavigation:W,MagnifierView2D:ee,Stage:ge}]=yield Promise.all([Promise.all([p.e(5086),p.e(5314),p.e(5506),p.e(8592),p.e(4376)]).then(p.bind(p,34376)),Promise.all([p.e(5086),p.e(3755),p.e(7692),p.e(205),p.e(5314),p.e(5506),p.e(4821),p.e(4589),p.e(3751),p.e(5909),p.e(4175),p.e(2408),p.e(4522),p.e(1619),p.e(9091),p.e(4056),p.e(2322),p.e(8592),p.e(4916)]).then(p.bind(p,54916))]);Qa=g,bd=E,gp=I,$l=W,gf=ee,Ph=ge}),Ed.apply(this,arguments)}let _s=class extends(er(Dc(od(l_)))){constructor(g){super(g),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new je.Z({getCollections:()=>{var E,I;return[null==(E=this.basemapView)?void 0:E.baseLayerViews,this.layerViews,null==(I=this.basemapView)?void 0:I.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new z0(this),this._pePromise=null,this.floors=new B.Z,this.highlightOptions=new Cm,this.inputManager=new Em({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new Mm.T,this.type="2d",this.ui=new Dh,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new H0,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([(0,Ht.YP)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},Ht.Z_),this.on("resize",E=>this._resizeHandler(E)),(0,Ht.YP)(()=>{var E;return null==(E=this.animationManager)?void 0:E.animation},E=>{this.animation=E})]),(0,Ar.j2)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new dp.Z(this.featuresTilingScheme)}get initialExtentRequired(){var Ae;const{scale:g,constraints:E,center:I,viewpoint:W,extent:ee}=this;let ge=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&(null==(Ae=this.map.initialViewProperties)?void 0:Ae.viewpoint)||ee||((null==E?void 0:E.effectiveLODs)||(ge=-1),I&&(0!==g||-1!==ge)||W&&(0,Re.pC)(W.targetGeometry)&&("extent"===W.targetGeometry.type||W.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!(0,an.kR)()||(this._pePromise||(this._pePromise=(0,an.zD)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const g=this._getDefaultViewpoint();if(!g)return!1;const E=this.spatialReference,I=(0,Re.Wg)(g.targetGeometry);return!!(0,an.Up)(I.spatialReference,E)||this._projectionEngineLoaded}set animation(g){const E=this._get("animation");if(g===E)return;if(E&&E.stop(),!g||g.isFulfilled())return void this._set("animation",null);this._set("animation",g),this.frameTask.animationInProgress=!0;const I=()=>{g===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};g.when(I,I)}get background(){return this.get("map.initialViewProperties.background")||null}set background(g){void 0===g?this._clearOverride("background"):this._override("background",g)}get center(){if(!this.ready)return this._get("center");const{center:g,spatialReference:E}=this.state.paddedViewState;return new Dr.Z({x:g[0],y:g[1],spatialReference:E})}set center(g){if(null==g)return;if(!this.ready)return this._set("center",g),void this.notifyChange("initialExtentRequired");let E;try{E=this._project(g,this.spatialReference)}catch(W){return void za.error(new te.Z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:g,error:W}))}const I=this.viewpoint;(0,ya.o2)(I,I,E),this.viewpoint=I}set constraints(g){const E=this._get("constraints");E&&(this.handles.remove("map-view-constraints"),E.destroy()),this._set("constraints",g),g&&(g.view=this,this.ready&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,Ht.YP)(()=>g.version,()=>{this.ready&&this.state&&(this.state.viewpoint=g.fit(this.state.paddedViewState.viewpoint))},Ht.Z_),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(g){if(null==g)return;if(!g.width||!g.height)return void za.error(new te.Z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",g),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let E;try{E=this._project(g,this.spatialReference)}catch(W){return void za.error(new te.Z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:W}))}const I=this.viewpoint;(0,ya.qf)(I,I,E,this.size,{constraints:this.constraints}),this.viewpoint=I}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(g){this.ready?(this.state.padding=g,this._set("padding",this.state.padding)):this._set("padding",g)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(g){if(isNaN(g))return;if(!this.ready)return void this._set("rotation",g);const E=this.viewpoint;(0,ya.YQ)(E,E,g),this.viewpoint=E}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(g){if(!g||isNaN(g))return;if(!this.ready){this._set("scale",g),this._set("zoom",-1);const I=this._get("extent");return I&&(this._set("extent",null),this._set("center",I.center)),void this.notifyChange("initialExtentRequired")}const E=this.viewpoint;(0,ya.Hy)(E,E,g),this.viewpoint=E}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(g=>!g.destroyed&&!("layerViews"in g)&&!0===g.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const g=this.state.paddedViewState;return g&&g.viewpoint.clone()}set viewpoint(g){if(null==g)return;if(!this.ready)return this._set("viewpoint",g),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let E,I;try{E=this._project(g,this.spatialReference),!g.scale||isNaN(g.scale)?I=new te.Z("mapview:invalid-viewpoint",`invalid scale value of ${g.scale}`):(0,Re.Wi)(g.targetGeometry)&&(I=new te.Z("mapview:invalid-viewpoint","geometry not defined"))}catch(ee){I=new te.Z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:ee})}if(I)return void za.error(I);this._scaleBeforeChangingSpatialReference=null;const W=new jn.Z({targetGeometry:new Dr.Z,scale:0,rotation:0});(0,ya.JG)(W,E),this.constraints.constrain(W,this.state.paddedViewState.viewpoint),this.state.viewpoint=W,this.frameTask.requestFrame(),this._set("viewpoint",W)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(g){if(null==g)return;if(!this.ready){this._set("zoom",g),this._set("scale",0);const I=this._get("extent");return I&&(this._set("extent",null),this._set("center",I.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const E=this.viewpoint;(0,ya.Hy)(E,E,this.constraints.zoomToScale(g)),this.viewpoint=E,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(g,E){if(g)return this.animation&&(this.animation=null),this._createAnimation(),(0,Ht.N1)(()=>this.ready,E).then(()=>{const I=Nn({animate:!0},E),W=(0,ya.Ue)(g,this);return this.animation.update(W),this._gotoTask={},I.animate?this._gotoAnimated(W,I):this._gotoImmediate(W,I)});za.error("#goTo()","target cannot be null or undefined")}hitTest(g,E){var I=this;return(0,k.Z)(function*(){const W=fh(g)?Gp(I,g):g;if(!I.ready||isNaN(W.x)||isNaN(W.y))return{screenPoint:W,results:[]};let ee=new Set,ge=!1,Ae=null,He=null;(null==E?void 0:E.include)?Xd(E.include,Qd(I,ln=>ee.add(ln),ln=>{Ae||(Ae=new Set),Ae.add(ln)},ln=>ee.add(ln),()=>ge=!0)):(ge=!0,ee=new Set(I.allLayerViews)),(null==E?void 0:E.exclude)&&Xd(E.exclude,Qd(I,ln=>ee.delete(ln),ln=>{He||(He=new Set),He.add(ln)}));const gt=I.allLayerViews.filter(ln=>!ln.suspended&&ee.has(ln)).reverse(),At=I.toMap(W);let Yt=[...ge?I.graphicsView.hitTest(At).map(ln=>({type:"graphic",graphic:ln,layer:null,mapPoint:At})):[],...yield Promise.all(gt.map(ln=>ln.hitTest(At,W)).toArray())].filter(Re.pC).flat().filter(Re.pC);return Ae&&(Yt=Yt.filter(ln=>!("graphic"in ln)||!ln.graphic||Ae.has(Cd(ln.graphic)))),He&&(Yt=Yt.filter(ln=>!("graphic"in ln)||!ln.graphic||He.has(Cd(ln.graphic)))),{screenPoint:W,results:Yt}})()}takeScreenshot(g){var E=this;return(0,k.Z)(function*(){const I=E._createScreenshotPlan(g),W=yield E._stage.takeScreenshot(I);return(0,uf.cv)(W,{format:I.format,quality:I.quality,rotation:0,disableDecorations:!1},E._pixelFormat)})()}_takeScreenshot(g){var E=this;return(0,k.Z)(function*(){const I=E._createScreenshotPlan(g),W=yield E._stage.takeScreenshot(I);return(0,uf.v8)(W,E._pixelFormat)})()}_createScreenshotPlan(g){g=g||{};const E=this.supersampleScreenshotsEnabled?Math.min(4,(0,uf.RZ)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let I;g.layers?(I=[],g.layers.forEach(ge=>{const Ae=this.allLayerViews.find(He=>He.layer.id===ge.id);Ae&&"container"in Ae&&Ae.container&&I.push(Ae.container)})):I=this._stage.children;const{format:W,quality:ee}=(0,uf.LI)(g.format,g.quality);return function ag(g,E,I,W,ee,ge,Ae,He){let gt;g.ignorePadding&&(W={left:0,right:0,top:0,bottom:0}),null!=g.width&&null!=g.height?gt=[g.width,g.height]:null==g.width&&null!=g.height?gt=[g.height,g.height]:null!=g.width&&null==g.height?gt=[g.width,g.width]:null==g.width&&null==g.height&&(gt=null);const At=I[0]-(W.left+W.right),Yt=I[1]-(W.top+W.bottom);let ln,kn,Fn=g.area||{x:0,y:0,width:At,height:Yt};if(gt){const $r=gt[0]/gt[1];if($r>At/Yt){const ui=Fn.width/$r;Fn={x:Fn.x,y:Math.round(Fn.y+(Fn.height-ui)/2),width:Fn.width,height:Math.round(ui)}}else{const ui=Fn.height*$r;Fn={x:Math.round(Fn.x+(Fn.width-ui)/2),y:Fn.y,width:Math.round(ui),height:Fn.height}}}else gt=[Fn.width,Fn.height];return gt[0]>Fn.width?(ln=Math.min(gt[0]/Fn.width,E),kn=gt[0]/Fn.width/ln):(ln=1,kn=gt[0]/Fn.width),{resolutionScale:ln,cropArea:{x:Math.round((Fn.x+W.left)*ln),y:Math.round((Fn.y+W.top)*ln),width:Math.round(Fn.width*ln),height:Math.round(Fn.height*ln)},outputScale:kn,format:ee,quality:ge,children:Ae,rotation:He}}(g,E,this.size,this.padding,W,ee,I,g.rotation)}get test(){return{takeScreenshot:g=>this._takeScreenshot(g)}}toMap(g){if(!this.ready)return null;const E=fh(g)?Gp(this,g):g,[W,ee]=this.state.toMap([0,0],[E.x,E.y]);return new Dr.Z({x:W,y:ee,spatialReference:this.spatialReference})}toScreen(g){if(!this.ready)return null;const E=this._project(g,this.spatialReference),I=[E.x,E.y];return this.state.toScreen(I,I),(0,ir.vW)(I[0],I[1])}on(g,E,I,W){return this.inputManager&&this.viewEvents.on(g,E,I,W)||super.on(g,E)}hasEventListener(g){return super.hasEventListener(g)||this.viewEvents.hasHandler(g)}whenLayerView(g){return super.whenLayerView(g)}graphicChanged(g){this.graphicsView&&this.graphicsView.graphicUpdateHandler(g)}whenReady(){return new Promise(g=>{this.ready?g(this):this._resolveWhenReady.push(g)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var g,E,I;return this.map&&"initialViewProperties"in this.map&&(null==(E=null==(g=this.map)?void 0:g.initialViewProperties)?void 0:E.spatialReference)||(null==(I=this.defaultsFromMap)?void 0:I.spatialReference)||null}hasLayerViewModule(g){return(g=>(0,Re.pC)(u_[g.type]))(g)}importLayerView(g){return(g=>{const E=u_[g.type];if((0,Re.Wi)(E))throw function Z1(g){const E=g.declaredClass?g.declaredClass.slice(g.declaredClass.lastIndexOf(".")+1):"Unknown",I=E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new te.Z(`${I}:view-not-supported`,`${E} is not supported in 2D`)}(g);return E(g)})(g)}pixelSizeAt(){return this.ready?this.state.resolution:(za.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(g){return this.hitTest(g).then(E=>Wi(Nn({},E),{mapPoint:this.toMap(g)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let g=function R_(g){const E=(0,wm.hc)(g);if(!E.available)return new te.Z("webgl:required","WebGL is required but not supported.");if("3d"===g&&E.majorPerformanceCaveat)return new te.Z("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!E.supportsHighPrecisionFragment)return new te.Z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!E.supportsVertexShaderSamplers)return new te.Z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(E.type===x_.zO.WEBGL1){if(!E.supportsElementIndexUint)return new te.Z("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!E.supportsStandardDerivatives)return new te.Z("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!E.supportsInstancedArrays)return new te.Z("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}(this.type);return(0,se.Z)("safari")&&(0,se.Z)("safari")<9&&(g=new te.Z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,se.Z)("safari")})),(0,Re.pC)(g)?(za.warn("#validate()",g.message),Promise.reject(g)):function Ih(){return Ed.apply(this,arguments)}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new lm),this.animation}_cancellableGoTo(g,E,I){const W=()=>g===this._gotoTask,ee=I.then(()=>{W()&&(this.animation=null)}).catch(Ae=>{throw W()&&(this.animation=null,E.done||(E.stop(),this.frameTask.animationInProgress=!1)),Ae}),ge=new Promise(Ae=>Ae(ee));return E.when().catch(()=>{W()&&ge.cancel&&ge.cancel()}),ge}_gotoImmediate(g,E){const I=this._gotoTask,W=this.animation,ee=g.then(ge=>{if((0,U.k_)(E),I!==this._gotoTask)throw new te.Z("view:goto-interrupted","Goto was interrupted");this.viewpoint=W.target=ge,W.finish()});return this._cancellableGoTo(I,W,ee)}_flipStationary(g){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const E=performance.now()-this._lastStationaryEventTimestamp;E<160&&(this._stationaryTimer=this._flipStationary(E))},g)),this._stationaryTimer}_getDefaultViewpoint(){var ui,oi,qi,es;const{constraints:g,initialExtent:E,map:I,padding:W,size:ee}=this;if(!g)return null;const ge=I&&"initialViewProperties"in I&&I.initialViewProperties,Ae={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};g.effectiveLODs?-1!==Ae.zoom&&(Ae.scale=g.zoomToScale(Ae.zoom)):Ae.zoom=-1;let He=null,gt=null,At=0;const Yt=Ae.viewpoint&&Ae.viewpoint.rotation,ln=Ae.viewpoint&&Ae.viewpoint.targetGeometry;(0,Re.pC)(ln)&&("extent"===ln.type?He=ln:"point"===ln.type&&(gt=ln,At=Ae.viewpoint.scale));const kn=Ae.extent||He||(null==(oi=(0,Re.Wg)(null==(ui=null==ge?void 0:ge.viewpoint)?void 0:ui.targetGeometry))?void 0:oi.extent)||E,Fn=Ae.center||gt||(null==kn?void 0:kn.center),Or=Ae.scale||At||(null==(qi=null==ge?void 0:ge.viewpoint)?void 0:qi.scale)||kn&&(0,ya.EK)(kn,[ee[0]-W.left-W.right,ee[1]-W.top-W.bottom]),$r=Ae.rotation||Yt||(null==(es=null==ge?void 0:ge.viewpoint)?void 0:es.rotation)||0;return Fn&&Or?new jn.Z({targetGeometry:Fn,scale:Or,rotation:$r}):null}_gotoAnimated(g,E){const I=this._gotoTask,W=this.animation,ee=g.then(ge=>{if((0,U.k_)(E),I!==this._gotoTask)throw new te.Z("view:goto-interrupted","Goto was interrupted");return W.update(ge),this.animationManager.animate(W,this.viewpoint,E),W.when().then(()=>{},()=>{})});return this._cancellableGoTo(I,W,ee)}_project(g,E){var ee;const I=g&&g.targetGeometry||g;if(!E)return g;if(!I)return null;if(E.imageCoordinateSystem||(null==(ee=I.spatialReference)?void 0:ee.imageCoordinateSystem)||(0,Mn.fS)(E,I.spatialReference))return g;const W=(0,an.iV)(I,E);if(!W)throw new te.Z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:I,spatialReference:E});return function Ah(g){return g&&"esri.Viewpoint"===g.declaredClass}(g)?(g.targetGeometry=W,g):W}_resizeHandler(g){if(!this.ready)return;const E=this.state;let I=this.state.paddedViewState.viewpoint;const W=this.state.paddedViewState.size.concat();E.size=[g.width,g.height],(0,ya.SI)(I,I,W,this.state.paddedViewState.size,this.resizeAlign),I=this.constraints.constrain(I,null),this.state.viewpoint=I}_startup(){var He,gt;this.timeline.begin("MapView Startup");const g=this._getDefaultViewpoint(),E=g.targetGeometry;try{this._project(g,this.spatialReference)}catch(At){za.warn(new Qn.Z("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:E.toJSON(),spatialReference:this.spatialReference,error:At})),g.targetGeometry=(null==(He=this.defaultsFromMap.extent)?void 0:He.center)||new Dr.Z({x:0,y:0,spatialReference:this.spatialReference})}null==(gt=this.constraints)||gt.fit(g),this._set("state",new J0({padding:this._get("padding"),size:this.size,viewpoint:g})),this.graphics.owner=this;const I=new Ph(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=I,this._magnifierView=new gf,this._magnifierView.magnifier=this.magnifier;const W=new gp({view:this});this._set("labelManager",W);const ee=new Z0({view:this});this._set("animationManager",ee);const ge=new $l({view:this,animationManager:ee});this._set("mapViewNavigation",ge),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),I.on("post-render",()=>this._set("rendering",I.renderRequested)),I.on("will-render",()=>this._set("rendering",I.renderRequested)),I.on("webgl-error",At=>this.fatalError=At.error),(0,Ht.YP)(()=>this.stationary,At=>I.stationary=At,Ht.tX),(0,Ht.YP)(()=>this.background,At=>{I.background=At,this._magnifierView.background=At},Ht.tX),(0,Ht.YP)(()=>this.magnifier,At=>this._magnifierView.magnifier=At,Ht.tX),(0,Ht.YP)(()=>this.renderingOptions,At=>I.renderingOptions=At,Ht.tX),(0,Ht.YP)(()=>this.highlightOptions,At=>I.highlightOptions=At,Ht.tX),(0,Ht.YP)(()=>this.state.id,()=>I.state=this.state,Ht.tX)],"map-view"),this._updateStageChildren();const Ae=this._resolveWhenReady;this._resolveWhenReady=[],Ae.forEach(At=>At(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[g,E],spatialReference:I,rotation:W,scale:ee}=this.state.paddedViewState,ge=new Dr.Z({x:g,y:E,spatialReference:I});this._set("viewpoint",null),this._set("extent",null),this._set("center",ge),this._set("zoom",-1),this._set("rotation",W),this._set("scale",ee),this._set("spatialReference",I),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(E=>{this._stage.addChild(E.container)}),this._stage.addChild(this.graphicsView.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const g=new Y0.Z(Hn.Z.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",g);const E=new Qa({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new bd(g)});this.frameTask.graphicsView=E,this._set("graphicsView",E)}_destroySpatialReferenceDependentProperties(){const g=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,g.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(g){if(!this.ready)return;this.frameTask.stop();for(const He of this.allLayerViews)He.processDetach();this._destroySpatialReferenceDependentProperties();const E=this.state.paddedViewState.clone();if((0,Re.Wi)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=E.scale;else{const He=E.viewpoint.clone();He.scale=this._scaleBeforeChangingSpatialReference,E.viewpoint=He}const I=E.clone(),[W,ee]=E.center;let ge=null;try{ge=this._project(new Dr.Z({x:W,y:ee,spatialReference:E.spatialReference}),g)}catch(He){(0,an.kR)()||za.warn(new Qn.Z("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:ge.toJSON(),spatialReference:g,error:He}))}ge||(ge=new Dr.Z({x:0,y:0,spatialReference:g}));const Ae=(0,ya.o2)(new jn.Z({targetGeometry:new Dr.Z,scale:0,rotation:0}),E.viewpoint,ge);I.viewpoint=Ae;try{const gt=[E.size[0]/2,E.size[1]/2],At=[gt[0]+20,gt[1]],Yt=E.toMap([0,0],At),{x:ln,y:kn}=this._project(new Dr.Z({x:Yt[0],y:Yt[1],spatialReference:E.spatialReference}),g);Yt[0]=ln,Yt[1]=kn,I.toScreen(Yt,Yt);const Fn=(0,ya.dI)(gt,Yt,At),Or=Math.hypot(Yt[0]-gt[0],Yt[1]-gt[1])/20;!Number.isFinite(Or)||Math.abs(Or)>4?(Ae.rotation=0,Ae.targetGeometry=new Dr.Z({x:0,y:0,spatialReference:g})):(Ae.scale*=Or,Ae.scale>(0,se.Z)("mapview-srswitch-adjust-rotation-scale-threshold")?Ae.rotation=0:Ae.rotation+=Number.isFinite(Fn)?Fn:0)}catch(He){}this._get("constraints").constrain(Ae,null),this._get("state").viewpoint=Ae,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const He of this.allLayerViews)He.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};_s.type="2d",(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"animationManager",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],_s.prototype,"deactivatedWebGLExtensions",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],_s.prototype,"debugWebGLExtensions",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"featuresTilingScheme",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"fullOpacity",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"graphicsTileStore",null),(0,D._)([(0,A.Cb)()],_s.prototype,"graphicsView",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"state",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"initialExtentRequired",null),(0,D._)([(0,A.Cb)()],_s.prototype,"labelManager",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"resourceManager",null),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"textureManager",null),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"mapViewNavigation",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],_s.prototype,"renderCanvas",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"renderingOptions",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"rendering",void 0),(0,D._)([(0,A.Cb)({constructOnly:!0})],_s.prototype,"supersampleScreenshotsEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"supportsGround",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"_stationaryTimer",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"_defaultsFromMapSettings",null),(0,D._)([(0,A.Cb)()],_s.prototype,"_pePromise",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"typeSpecificPreconditionsReady",null),(0,D._)([(0,A.Cb)()],_s.prototype,"animation",null),(0,D._)([(0,A.Cb)({type:Pm})],_s.prototype,"background",null),(0,D._)([(0,A.Cb)({value:null,type:Dr.Z,dependsOn:["state.id","ready"]})],_s.prototype,"center",null),(0,D._)([(0,A.Cb)({type:H0})],_s.prototype,"constraints",null),(0,D._)([(0,A.Cb)({value:null,type:X.Z,dependsOn:["state.id","ready"]})],_s.prototype,"extent",null),(0,D._)([(0,A.Cb)()],_s.prototype,"floors",void 0),(0,D._)([(0,A.Cb)({type:Cm})],_s.prototype,"highlightOptions",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"inputManager",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"map",void 0),(0,D._)([(0,A.Cb)({value:{top:0,right:0,bottom:0,left:0},cast:g=>Nn({top:0,right:0,bottom:0,left:0},g)})],_s.prototype,"padding",null),(0,D._)([(0,A.Cb)()],_s.prototype,"resizeAlign",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,dependsOn:["state.id"]})],_s.prototype,"resolution",null),(0,D._)([(0,A.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],_s.prototype,"rotation",null),(0,D._)([(0,A.Cb)({value:0,type:Number,dependsOn:["state.id","ready"]})],_s.prototype,"scale",null),(0,D._)([(0,A.Cb)({constructOnly:!0})],_s.prototype,"spatialReferenceLocked",void 0),(0,D._)([(0,A.Cb)()],_s.prototype,"stationary",null),(0,D._)([(0,A.Cb)({type:Mm.T,readOnly:!0})],_s.prototype,"timeline",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"type",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],_s.prototype,"updating",null),(0,D._)([(0,A.Cb)({value:null,type:jn.Z,dependsOn:["state.id","ready"]})],_s.prototype,"viewpoint",null),(0,D._)([(0,A.Cb)({value:-1,dependsOn:["state.id","ready"]})],_s.prototype,"zoom",null),(0,D._)([(0,A.Cb)({type:Boolean})],_s.prototype,"navigating",null),(0,D._)([(0,A.Cb)({type:Dh})],_s.prototype,"ui",void 0),_s=(0,D._)([(0,J.j)("esri.views.MapView")],_s);const xh=_s;function Cd(g){var I,W,ee,ge;const E=g.getObjectId();return E?`${null!=(ge=null!=(ee=null==(I=g.layer)?void 0:I.uid)?ee:null==(W=g.sourceLayer)?void 0:W.uid)?ge:"MapView"}/${E}`:`"MapView/${g.uid}`}function Qd(g,E,I,W,ee){return ge=>{if(ge instanceof G.Z){if(ge.layer===g)null==ee||ee();else{const Ae=g.allLayerViews.find(He=>He.layer===ge.layer);Ae&&(null==W||W(Ae))}I(Cd(ge))}else{const Ae=g.allLayerViews.find(He=>He.layer===ge);Ae&&E(Ae)}}}function Xd(g,E){if(g)if((0,$n.TW)(g))for(const I of g)if((0,$n.TW)(I))for(const W of I)E(W);else E(I);else E(g)}var yp=p(72469),Im=p(2282);class vg{constructor(E){this.typeWorkerQuota=E,this.tasks=new Array,this.numWorkers=0,this.statistics=new bg}}class bg{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class Eg{constructor(E,I,W,ee){this._workerFunc=E,this._callbackFunc=I,this._maxTotalNumWorkers=W,this._totalNumWorkers=0,this._clients=ee.map(ge=>new vg(ge))}hasQuota(E){const I=this._clients[E];return!!I&&(this._totalNumWorkers<this._maxTotalNumWorkers||I.numWorkers+I.tasks.length<I.typeWorkerQuota)}push(E){const I=this._clients[E.client];I&&(this._totalNumWorkers<this._maxTotalNumWorkers?(I.numWorkers++,this._totalNumWorkers++,this._workerFunc(E,(W,ee)=>this._taskCallback(W,ee))):I.tasks.push(E))}cancel(E){this._taskFinished(E),E._cancelled=!0}destroy(){this._clients.length=0}_taskFinished(E){const I=this._clients[E.client];this._totalNumWorkers--,I.numWorkers--,I.statistics.requests++,I.statistics.size+=E.size||0,I.statistics.duration+=E.duration||0,I.statistics.speed=I.statistics.duration>0?I.statistics.size/I.statistics.duration:0,(0,Im.hu)(I.numWorkers>=0),this._next()}_next(){for(const E of this._clients)if(E&&E.numWorkers<E.typeWorkerQuota&&this._processQueue(E))return;for(const E of this._clients)if(E&&this._processQueue(E))return}_processQueue(E){for(;E.tasks.length>0;)if(this._workerFunc(E.tasks.shift(),(I,W)=>this._taskCallback(I,W)))return E.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(E,I){E._cancelled||(this._callbackFunc(E,I),this._taskFinished(E))}getStatsForType(E){const I=this._clients[E];return I?{quota:I.typeWorkerQuota,workers:I.numWorkers,queueSize:I.tasks.length,requestStats:I.statistics}:null}get test(){const E=this;return{set workerFunc(I){E._workerFunc=I}}}}let yf=class extends Le.Z{constructor(){super(...arguments),this._tasks=new Map,this._onLoadQueue=new Array,this._doneQueue=new Array,this.updating=!1}setup(g,E,I){this._loadQueue=new Eg((W,ee)=>this._startLoading(W,ee),(W,ee)=>this._doneLoadingCB(W,ee),g,E),I&&(this._frameTask=I.registerTask(Xf.T8.STREAM_DATA_LOADER,this))}destroy(){this._frameTask=(0,Re.hw)(this._frameTask),this._tasks.forEach(g=>(0,Re.IM)(g.abortController)),this._loadQueue=(0,Re.SC)(this._loadQueue),this._onLoadQueue=null,this._doneQueue=null,this._tasks=null}hasDownloadSlots(g){return this._loadQueue.hasQuota(g)}request(g,E,I,W={}){const ee=(0,U.hh)();ee.__signal=(0,Re.pC)(W)?W.signal:null;const ge=this._createOrUpdateTask(g,E,I,W,ee);return(0,U.fu)(W,()=>this._cancelRequest(ge,ee)),ee.promise}_createTask(g,E,I,W,ee,ge){const Ae=new wg(g,E,I,W,ee);return this._updateTask(Ae,ge),this._tasks.set(ee,Ae),1===this._tasks.size&&this._set("updating",!0),this._loadQueue.push(Ae),Ae}_cancelRequest(g,E){(0,oe.e$)(g.resolvers,E),E.reject((0,U.zE)()),0===g.resolvers.length&&(g.status===Kl.DOWNLOADING&&(g.status=Kl.CANCELLED,this._loadQueue.cancel(g),g.abortController.abort(),g.request=null,g.abortController=null),g.status=Kl.CANCELLED,this._tasks.delete(g.key),0===this._tasks.size&&this._set("updating",!1))}_updateTask(g,E){g.resolvers.push(E)}_createOrUpdateTask(g,E,I,W,ee){const ge=function Z_(g,E,I){return`${g}:${E}:${I}`}((0,Re.pC)(W)&&W.uid||g,E,I),Ae=this._tasks.get(ge);return Ae?(this._updateTask(Ae,ee),Ae):this._createTask(g,W,E,I,ge,ee)}_doneLoadingCB(g,E){this._loadQueue&&((0,Im.hu)(g.status===Kl.DOWNLOADING),g.status=Kl.DOWNLOADED,this._frameTask?this._doneQueue.push({task:g,err:E}):this._doneLoading(g,E))}get running(){return this._doneQueue.length>0||this._onLoadQueue.length>0}runTask(g){for(;!g.done&&this._onLoadQueue.length>0;){const E=this._onLoadQueue.shift();(0,U.k_)(E.task.abortController),E.task.abortController=null,E.callback(E.task),g.madeProgress()}for(;!g.done&&this._doneQueue.length>0;){const E=this._doneQueue.shift();E.task.status!==Kl.DOWNLOADED&&(E.err=E.err||(0,U.zE)()),this._doneLoading(E.task,E.err),g.madeProgress()}}_doneLoading(g,E){if(E&&!(0,U.D_)(E)&&g.numRetries>0)return--g.numRetries,void this._loadQueue.push(g);let I=g.result instanceof HTMLImageElement?0:g.resolvers.length;for(const W of g.resolvers)if(E)(0,U.D_)(E)?W.reject(E):W.reject(new te.Z("stream-data-loader:request-error",`Failed to request resource at '${g.url}'. ${E}`,{url:g.url,error:E}));else{--I;const ee=I<=0?g.result:(0,re.d9)(g.result);W.resolve(ee)}this._tasks.delete(g.key),0===this._tasks.size&&this._set("updating",!1)}_startLoading(g,E){if(g.status===Kl.CANCELLED)return!1;let I,W;switch(g.startTime=performance.now(),g.status=Kl.DOWNLOADING,g.docType){case"binary":W="array-buffer",I=0;break;case"image":W="image";break;case"image+type":W="array-buffer";break;default:W="json"}g.abortController=new AbortController;const ee=g.abortController.signal;g.request=(0,pa.default)(g.url,Wi(Nn({},g.options),{responseType:W,timeout:I,signal:ee}));let ge=()=>{};const Ae=gt=>{g.duration=performance.now()-g.startTime,g.size=gt instanceof ArrayBuffer?gt.byteLength:g.size||0,g.result=gt,this._frameTask?this._onLoadQueue.push({callback:E,task:g}):(g.abortController=null,E(g))},He=gt=>{g.status===Kl.DOWNLOADING&&E(g,gt),ge()};return"image+type"!==g.docType?(g.request.then(gt=>Ae(gt.data),He),!0):(g.request.then(gt=>{const At=gt.data,Yt=function Mg(g){if(g.byteLength<2)return"unknown";const E=new Uint8Array(g,0,g.byteLength);return 137===E[0]&&80===E[1]?"image/png":71===E[0]&&73===E[1]?"image/gif":66===E[0]&&77===E[1]?"image/bmp":255===E[0]&&216===E[1]?"image/jpeg":"unknown"}(At);if(W="image",g.size=At.byteLength,"unknown"===Yt)return g.request=(0,pa.default)(g.url,{responseType:W,timeout:I,signal:ee}),void g.request.then(Fn=>Ae(Fn.data),He);const ln=new Blob([At],{type:Yt}),kn=window.URL.createObjectURL(ln);ge=()=>window.URL.revokeObjectURL(kn),g.request=(0,pa.default)(kn,{responseType:W,timeout:I,signal:ee}),g.request.then(Fn=>Ae(new V_(Fn.data,Yt,ge)),He)},He),!0)}get test(){return{loadQueue:this._loadQueue}}};(0,D._)([(0,A.Cb)({readOnly:!0})],yf.prototype,"updating",void 0),yf=(0,D._)([(0,J.j)("esri.views.3d.support.StreamDataLoader")],yf);class V_{constructor(E,I,W){this.image=E,this.type=I,this.release=W}get isOpaque(){return"image/jpeg"===this.type}}class wg extends class _g{constructor(E){this.client=E,this._cancelled=!1,this.size=0,this.duration=0}}{constructor(E,I,W,ee,ge){super(ee),this.url=E,this.options=I,this.docType=W,this.key=ge,this.result=null,this.status=Kl.QUEUED,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0,this.numRetries=0}}var Kl,Am,Og,du,xm,Sg,Rm;!function(g){g[g.QUEUED=1]="QUEUED",g[g.DOWNLOADING=2]="DOWNLOADING",g[g.DOWNLOADED=3]="DOWNLOADED",g[g.CANCELLED=4]="CANCELLED"}(Kl||(Kl={})),function(g){g[g.INNER=0]="INNER",g[g.OUTER=1]="OUTER"}(Am||(Am={})),function(g){g[g.REGULAR=0]="REGULAR",g[g.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",g[g.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",g[g.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(Og||(Og={})),function(g){g[g.NORTH=0]="NORTH",g[g.NORTH_EAST=1]="NORTH_EAST",g[g.EAST=2]="EAST",g[g.SOUTH_EAST=3]="SOUTH_EAST",g[g.SOUTH=4]="SOUTH",g[g.SOUTH_WEST=5]="SOUTH_WEST",g[g.WEST=6]="WEST",g[g.NORTH_WEST=7]="NORTH_WEST"}(du||(du={})),function(g){g[g.OFF=0]="OFF",g[g.ON=1]="ON"}(xm||(xm={})),function(g){g[g.Color=0]="Color",g[g.ColorNoRasterImage=1]="ColorNoRasterImage",g[g.Highlight=2]="Highlight",g[g.Water=3]="Water",g[g.Occluded=4]="Occluded"}(Sg||(Sg={})),function(g){g[g.FADING=0]="FADING",g[g.IMMEDIATE=1]="IMMEDIATE",g[g.UNFADED=2]="UNFADED"}(Rm||(Rm={}));var _f=p(28093),qd=p(65401);class qo{constructor(E){const I=qo.checkUnsupported(E);if((0,Re.pC)(I))throw I;const W=(0,Re.Wg)(E);this.spatialReference=W.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=(0,an.jF)(this.spatialReference)||(0,Mn.BZ)(this.spatialReference)||(0,Mn.V2)(this.spatialReference),this.origin=[W.origin.x,W.origin.y],this.pixelSize=W.size[0],this.dpi=W.dpi;const ee=W.lods.reduce((At,Yt,ln)=>(Yt.level<At.min&&(At.min=Yt.level,At.minIndex=ln),At.max=Math.max(At.max,Yt.level),At),{min:1/0,minIndex:0,max:-1/0}),ge=W.lods[ee.minIndex],Ae=2**ge.level;let He=ge.resolution*Ae,gt=ge.scale*Ae;this.levels=new Array(ee.max+1);for(let At=0;At<this.levels.length;At++)this.levels[At]={resolution:He,scale:gt,tileSize:[He*W.size[0],He*W.size[1]]},He/=2,gt/=2}clone(){return new qo(this.toTileInfo())}toTileInfo(){return new Hn.Z({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((E,I)=>({level:I,scale:E.scale,resolution:E.resolution}))})}getExtent(E,I,W,ee){const ge=this.levels[E],Ae=ge.tileSize[0],He=ge.tileSize[1];ee[0]=this.origin[0]+W*Ae,ee[2]=this.origin[0]+(W+1)*Ae,ee[3]=this.origin[1]-I*He,ee[1]=this.origin[1]-(I+1)*He}convertExtentToRadians(E,I){this._isWebMercator?(I[0]=(0,Hc.tp)(E[0]),I[1]=(0,Hc.mZ)(E[1]),I[2]=(0,Hc.tp)(E[2]),I[3]=(0,Hc.mZ)(E[3])):this._isGCS&&(I[0]=(0,gi.Vl)(E[0]),I[1]=(0,gi.Vl)(E[1]),I[2]=(0,gi.Vl)(E[2]),I[3]=(0,gi.Vl)(E[3]))}getExtentGeometry(E,I,W,ee=new X.Z){return this.getExtent(E,I,W,dc),ee.spatialReference=this.spatialReference,ee.xmin=dc[0],ee.ymin=dc[1],ee.xmax=dc[2],ee.ymax=dc[3],ee.zmin=void 0,ee.zmax=void 0,ee}ensureMaxLod(E){if(null==E)return!1;let I=!1;for(;this.levels.length<=E;){const W=this.levels[this.levels.length-1],ee=W.resolution/2;this.levels.push({resolution:ee,scale:W.scale/2,tileSize:[ee*this.pixelSize,ee*this.pixelSize]}),I=!0}return I}capMaxLod(E){this.levels.length>E+1&&(this.levels.length=E+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(E){return this.levels[0].scale/2**E}levelAtScale(E){const I=this.levels[0].scale;return E>=I?0:Math.log(I/E)*Math.LOG2E}resolutionAtLevel(E){return this.levels[0].resolution/2**E}compatibleWith(E){if(!(E instanceof qo)){if(qo.checkUnsupported(E))return!1;E=new qo(E)}if(!E.spatialReference.equals(this.spatialReference)||E.pixelSize!==this.pixelSize)return!1;const I=Math.min(this.levels.length,E.levels.length)-1,W=this.levels[I].resolution;let ee=.5*W;return!(!(0,gi.W8)(E.origin[0],this.origin[0],ee)||!(0,gi.W8)(E.origin[1],this.origin[1],ee))&&(ee=.5*W/2**I/this.pixelSize*12,(0,gi.W8)(W,E.levels[I].resolution,ee))}rootTilesInExtent(E,I=null,W=1/0){const ee=new Array,ge=this.levels[0].tileSize;if((0,Re.Wi)(E)||0===ge[0]||0===ge[1])return ee;qo.computeRowColExtent(E,ge,this.origin,dc);let Ae=dc[1],He=dc[3],gt=dc[0],At=dc[2];const Yt=At-gt,ln=He-Ae;if(Yt*ln>W){const kn=Math.floor(Math.sqrt(W));ln>kn&&(Ae=Ae+Math.floor(.5*ln)-Math.floor(.5*kn),He=Ae+kn),Yt>kn&&(gt=gt+Math.floor(.5*Yt)-Math.floor(.5*kn),At=gt+kn)}for(let kn=Ae;kn<He;kn++)for(let Fn=gt;Fn<At;Fn++)ee.push([0,kn,Fn]);return(0,Re.pC)(I)&&(I[0]=this.origin[0]+gt*ge[0],I[1]=this.origin[1]-He*ge[1],I[2]=this.origin[0]+At*ge[0],I[3]=this.origin[1]-Ae*ge[1]),ee}static computeRowColExtent(E,I,W,ee){const ge=.001*(E[2]-E[0]+(E[3]-E[1]));ee[0]=Math.max(0,Math.floor((E[0]+ge-W[0])/I[0])),ee[2]=Math.max(0,Math.ceil((E[2]-ge-W[0])/I[0])),ee[1]=Math.max(0,Math.floor((W[1]-E[3]+ge)/I[1])),ee[3]=Math.max(0,Math.ceil((W[1]-E[1]-ge)/I[1]))}static isPowerOfTwo(E){const I=E.lods,W=I[0].resolution*2**I[0].level;return!I.some(ee=>!(0,gi.Y8)(ee.resolution,W/2**ee.level))}static hasGapInLevels(E){const I=E.lods.map(W=>W.level);I.sort((W,ee)=>W-ee);for(let W=1;W<I.length;W++)if(I[W]!==I[0]+W)return!0;return!1}static tileSizeSupported(E){const I=E.size[1];return I===E.size[0]&&0==(I&I-1)&&I>=128&&I<=512}static hasOriginPerLODs(E){const I=E.origin;return E.lods.some(W=>null!=W.origin&&(W.origin[0]!==I.x||W.origin[1]!==I.y))}static getMissingTileInfoError(){return new te.Z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(E){return(0,Re.Wi)(E)?_p():E.lods.length<1?new te.Z("tilingscheme:generic","Tiling scheme must have at least one level"):qo.isPowerOfTwo(E)?qo.hasGapInLevels(E)?new te.Z("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):qo.tileSizeSupported(E)?qo.hasOriginPerLODs(E)?new te.Z("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new te.Z("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new te.Z("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(E,I){const W=E[2]-E[0],ee=E[3]-E[1],ge=(0,Ts.c9)(I),Ae=1.2*Math.max(W,ee),Yt=new qo(new Hn.Z({size:[256,256],origin:{x:E[0]-.5*(Ae-W),y:E[3]+.5*(Ae-ee)},lods:[{level:0,resolution:Ae/256,scale:1/(256/96*.0254/(Ae*ge))}],spatialReference:I}));return Yt.ensureMaxLod(20),Yt}static makeWebMercatorAuxiliarySphere(E){const I=new qo(qo.WebMercatorAuxiliarySphereTileInfo);return I.ensureMaxLod(E),I}static makeGCSWithTileSize(E,I=256,W=16){const ee=256/I,ge=new qo(new Hn.Z({size:[I,I],origin:{x:-180,y:90,spatialReference:E},spatialReference:E,lods:[{level:0,resolution:.703125*ee,scale:295497598.570834*ee}]}));return ge.ensureMaxLod(W),ge}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}function _p(){return new te.Z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}qo.WebMercatorAuxiliarySphereTileInfo=new Hn.Z({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:eu.Z.WebMercator},spatialReference:eu.Z.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),qo.WebMercatorAuxiliarySphere=qo.makeWebMercatorAuxiliarySphere(19);const dc=(0,qd.Ue)(),Rh=((0,gi.oK)(gi._3/10),(0,qd.Ue)());qo.WebMercatorAuxiliarySphere.getExtent(0,0,0,Rh),(0,qd.Ue)([-180,-90,180,90]);const Lh=(0,_f.c)(),Tg=(0,_f.c)(),Fu=(0,_f.c)(),Uu=(0,_f.c)();function vf(g,E,I,W){(0,su.c)(Lh,I),Lh[W]=E[W];const ee=(0,su.b)(Lh,Lh,E),ge=(0,su.b)(Tg,g,E),Ae=(0,su.e)(ge,ee),He=(0,su.e)(ee,ee);let gt;gt=Ae<=0?E:He<=Ae?I:(0,su.a)(Lh,E,(0,su.g)(ee,ee,Ae/He));const At=(0,su.b)(Lh,g,gt);return Math.PI/2-Math.atan(At[2]/Math.sqrt(At[0]*At[0]+At[1]*At[1]))}const Pg=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:function H_(g,E,I=0){const W=g.extent;if((0,Re.Wi)(W))return!1;if(0===I)return(0,qd.BD)(W,E);const ee=Math.min(W[2]-W[0],W[3]-W[1]);return(0,qd.Zm)(W,E,I*ee)},tiltToExtentEdge:function J_(g,E,I){const W=g.extent;if((0,Re.Wi)(W))return 0;Fu[0]=W[0],Fu[1]=W[1],Fu[2]=I,Uu[0]=W[2],Uu[1]=W[3],Uu[2]=I;let ee=1/0,ge=1/0;return E[0]<Fu[0]?ee=vf(E,Fu,Uu,0):E[0]>Uu[0]&&(ee=vf(E,Uu,Fu,0)),E[1]<Fu[1]?ge=vf(E,Fu,Uu,1):E[1]>Uu[1]&&(ge=vf(E,Uu,Fu,1)),Math.min(ee,ge)},checkIfTileInfoSupportedForViewSR:function Dg(g,E,I){if((0,Re.Wi)(g))return _p();if(g.spatialReference.isGeographic&&!(0,an.jF)(g.spatialReference))return new te.Z("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const W=qo.checkUnsupported(g);if((0,Re.pC)(W))return W;if((0,Re.Wi)(I))return new te.Z("tilingscheme:extent-not-exist","The layer does not provide a layer extent.");const ee=function Y_(g,E){const I=g.lods,W=I[0].resolution*2**I[0].level,ee=[W*g.size[0],W*g.size[1]],ge=[g.origin.x,g.origin.y],Ae=(0,qd.oJ)(E),He=(0,qd.Ue)();qo.computeRowColExtent(Ae,ee,ge,He);const gt=(He[2]-He[0])*(He[3]-He[1]);if(gt>64){const At=I[0].scale*2**I[0].level;let Yt=Math.max((Ae[3]-Ae[1])/g.size[1],(Ae[2]-Ae[0])/g.size[0])*At/W;const ln=Math.floor(Math.log(Yt)/Math.log(10));return Yt=Math.ceil(Yt/10**ln)*10**ln,new te.Z("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(At).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+Yt.toLocaleString()+".",{level0Scale:At,suggestedLevel0Scale:Yt,requiredNumRootTiles:gt,allowedNumRootTiles:64})}return null}(g,I);if(ee)return ee;const ge=g.spatialReference;return(0,Re.pC)(E)&&!(ge.equals(E)||E.isWGS84&&ge.isWebMercator)?new te.Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene"):null}},Symbol.toStringTag,{value:"Module"})),Um=Object.freeze(Object.defineProperty({__proto__:null,isInsideExtent:function Ig(){return!0},tiltToExtentEdge:function Fm(){return 0},checkIfTileInfoSupportedForViewSR:function ub(g,E){if((0,Re.Wi)(g))return _p();const I=g.lods.length-1,W=g.spatialReference,ee=(0,an.jF)(W)||(0,Mn.BZ)(W)||(0,Mn.V2)(W);if(W.isWebMercator){if(!qo.makeWebMercatorAuxiliarySphere(I).compatibleWith(g))return new te.Z("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!ee)return new te.Z("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!qo.makeGCSWithTileSize(g.spatialReference,g.size[0],I).compatibleWith(g))return g.spatialReference.isWGS84?new te.Z("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new te.Z("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return(0,Re.pC)(E)&&!g.spatialReference.equals(E)?new te.Z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene"):void 0}},Symbol.toStringTag,{value:"Module"})),Q_={[nu.JY.Global]:Um,[nu.JY.Local]:Pg};function Uh(g,E,I,W){return Q_[W].checkIfTileInfoSupportedForViewSR(g,I,E)}var bp=p(6178);function zg(g){return jm.apply(this,arguments)}function jm(){return jm=(0,k.Z)(function*(g,E={}){yield Kg(g,E),(0,U.k_)(E)}),jm.apply(this,arguments)}function fv(g){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,k.Z)(function*(g,E={}){const{basemap:I,view:W}=g;if((0,U.k_)(E),"spatialReferenceLocked"in W&&!W.spatialReferenceLocked||(yield I.load(E),(0,U.k_)(E),0===I.baseLayers.length))return;const ee=I.baseLayers.getItemAt(0);if(!(0,yp.iC)(ee))return;if(I.spatialReference){if(W.spatialReference.equals(I.spatialReference))return;$g()}yield ee.load(E),(0,U.k_)(E);const ge=(("supportedSpatialReferences"in ee?ee.supportedSpatialReferences:null)||["tileInfo"in ee?ee.tileInfo.spatialReference:null]).filter(Boolean);0!==ge.length&&ge.every(Ae=>!W.spatialReference.equals(Ae))&&$g()}),Mf.apply(this,arguments)}function $g(){throw new te.Z("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function Kg(g,E){return wf.apply(this,arguments)}function wf(){return wf=(0,k.Z)(function*(g,E){const{basemap:I,view:W}=g;if(yield I.load(E),0===I.baseLayers.length)return;const ee=I.baseLayers.concat(I.referenceLayers).toArray().filter(Ae=>!(0,yp.qq)(Ae)).map(Ae=>new te.Z("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:Ae,operationalLayerType:Ae.operationalLayerType||"unknown"}));if(ee.length)throw ee[0];const ge=I.baseLayers.getItemAt(0);if((0,yp.qq)(ge)){try{yield ge.load(E)}catch(Ae){const He="basemap-compatibility:unknown-error",gt="Unknown basemap compatibility error",{name:At=He,message:Yt=gt,details:ln}=Ae;throw new te.Z(At,Yt,ln)}Nh(ge,W)}}),wf.apply(this,arguments)}function Nh(g,E){const I=E.state.viewingMode;if(!I)return;let W,ee;if("wmts"===(null==g?void 0:g.type)){const gt=function Bg(g,E,I){const W=(0,yp.mt)(g);if((0,Re.pC)(W)){if(!B.Z.isCollection(W))return{tileInfo:W.tileInfo,fullExtent:W.fullExtent};{const ee=W.find(ge=>null==Uh(ge.tileInfo,ge.fullExtent,E,I));if(ee)return{tileInfo:ee.tileInfo,fullExtent:ee.fullExtent}}}return{tileInfo:null,fullExtent:null}}(g,E.spatialReference,I);if((0,Re.Wi)(gt.tileInfo))throw new te.Z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");W=gt.tileInfo,ee=gt.fullExtent}else W=g.tileInfo,ee=g.fullExtent;if((0,Re.Wi)(W))return;if(!function Fa(g,E){return null!=g&&(null==E||(E===nu.JY.Local?!g.isGeographic||g.isWGS84||g.wkid===bp.W.CGCS2000:g.isWebMercator||g.isWGS84||g.wkid===bp.W.CGCS2000||g.wkid===bp.W.GCSMARS2000||g.wkid===bp.W.GCSMARS2000_SPHERE||g.wkid===bp.W.GCSMOON2000))}(W.spatialReference,I))throw new te.Z(`basemapgalleryitem:spatial-reference-unsupported-${(0,nu.M7)(I)}`,`Basemap spatial reference is unsupported in ${(0,nu.M7)(I)} mode`);const Ae="vector-tile"===(null==g?void 0:g.type)?W.getOrCreateCompatible(256,W.spatialReference.isGeographic?1:2):null;if(I===nu.JY.Global){let gt=Uh(W,ee,null,I);if(gt&&"vector-tile"===(null==g?void 0:g.type)&&(0,Re.pC)(ee)&&Ae&&!Uh(Ae,ee,null,I)&&(gt=null),gt)throw new te.Z(`basemapgalleryitem:tiling-scheme-unsupported-${W.spatialReference.isWebMercator?"web-mercator":"wgs84"}-global`,"Basemap tiling scheme is unsupported in global mode",{error:gt})}else if(qo.checkUnsupported(W))throw new te.Z("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const He=E.get("basemapTerrain.tilingScheme");if(He&&!He.compatibleWith(W)&&("vector-tile"!==(null==g?void 0:g.type)||!Ae||!He.compatibleWith(Ae)))throw new te.Z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let hu=class extends((0,oa.p)(Le.Z)){constructor(g){super(g),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const g=()=>this.refresh();this.handles.add([(0,Ht.YP)(()=>{var E;return null==(E=this.basemap)?void 0:E.loadStatus},g),(0,Ht.YP)(()=>this.compatibilityFunction,g),(0,Ht.YP)(()=>{var E;return this.view&&"basemapTerrain"in this.view&&(null==(E=this.view.basemapTerrain)?void 0:E.tilingScheme)},g),(0,Ht.YP)(()=>{var E;return null==(E=this.view)?void 0:E.ready},g),(0,Ht.YP)(()=>{var E;return null==(E=this.view)?void 0:E.spatialReference},g)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return Tt(this.view,this.basemap)}set basemap(g){const E=this._get("basemap");E&&E.cancelLoad(),g&&g.load().catch(()=>{}),this._set("basemap",g)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var W;this._cancelRefresh(),this._set("state","loading");const g=null==(W=this.basemap)?void 0:W.loadStatus;if("loaded"!==g&&"failed"!==g)return;if(!this.compatibilityFunction)return void("loaded"===g?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const E=new AbortController,{signal:I}=E;this.compatibilityFunction(this,{signal:I}).then(()=>(0,Ht.N1)(()=>!this._spatialReferenceTask.updating,I)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(ee=>{(0,U.D_)(ee)||(this._set("state","error"),this._set("error",ee))}),this._refreshController=E}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};(0,D._)([(0,A.Cb)({readOnly:!0})],hu.prototype,"_spatialReferenceTask",null),(0,D._)([(0,A.Cb)()],hu.prototype,"basemap",null),(0,D._)([(0,A.Cb)()],hu.prototype,"compatibilityFunction",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],hu.prototype,"error",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],hu.prototype,"spatialReference",null),(0,D._)([(0,A.Cb)({readOnly:!0})],hu.prototype,"state",void 0),(0,D._)([(0,A.Cb)()],hu.prototype,"view",void 0),hu=(0,D._)([(0,J.j)("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],hu);const Gg=hu,Bm=B.Z.ofType(v.default);let Ep=class extends Le.Z{constructor(g){super(g),this.basemaps=new Bm}get state(){return"ready"}refresh(){}};(0,D._)([(0,A.Cb)({type:Bm})],Ep.prototype,"basemaps",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Ep.prototype,"state",null),Ep=(0,D._)([(0,J.j)("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],Ep);const km=Ep;var Of=p(84687);const Sf=B.Z.ofType(v.default),Tf="esri.widgets.BasemapGallery.support.PortalBasemapsSource",Rc=R.Z.getLogger(Tf);let Nu=class extends($.Z.LoadableMixin((0,Vp.v)(km))){constructor(g){super(g),this._handles=new Bt.Z,this.basemaps=new Sf,this.filterFunction=null,this.portal=Of.Z.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([(0,Ht.YP)(()=>{var g,E;return[this.filterFunction,this.loadStatus,null==(g=this.portal)?void 0:g.basemapGalleryGroupQuery,null==(E=this.portal)?void 0:E.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),Ht.nn)])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return"not-loaded"===this.loadStatus?"not-loaded":"loading"===this.loadStatus||this._lastPortalBasemapFetchController?"loading":"ready"}load(g){return this.addResolvingPromise(this.portal.load(g)),this.notifyChange("state"),Promise.resolve(this)}refresh(){var g=this;return(0,k.Z)(function*(){if("ready"!==g.state)return;g._lastPortalBasemapFetchController&&(g._lastPortalBasemapFetchController.abort(),g._lastPortalBasemapFetchController=null);const E=g.portal,I=new AbortController;g._lastPortalBasemapFetchController=I,g.notifyChange("state");try{const W=yield E.fetchBasemaps(g._toQueryString(g.query),I);g._updateBasemaps(W)}catch(W){if((0,U.D_)(W))throw W;Rc.warn(new te.Z("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:W})),g._updateBasemaps()}g._lastPortalBasemapFetchController=null,g.notifyChange("state")})()}_toQueryString(g){return g&&"string"!=typeof g?Object.keys(g).map(E=>`${E}:${g[E]}`).join(" AND "):g}_updateBasemaps(g=[]){let E=this.filterFunction?g.filter(this.filterFunction):g;E=this.updateBasemapsCallback?this.updateBasemapsCallback(E):E,this.basemaps.removeAll(),this.basemaps.addMany(E)}};(0,D._)([(0,A.Cb)({readOnly:!0,type:Sf})],Nu.prototype,"basemaps",void 0),(0,D._)([(0,A.Cb)()],Nu.prototype,"filterFunction",void 0),(0,D._)([(0,A.Cb)({type:Of.Z})],Nu.prototype,"portal",void 0),(0,D._)([(0,A.Cb)()],Nu.prototype,"query",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Nu.prototype,"state",null),(0,D._)([(0,A.Cb)()],Nu.prototype,"updateBasemapsCallback",void 0),Nu=(0,D._)([(0,J.j)(Tf)],Nu);const Cp=Nu,Lc=B.Z.ofType(Gg);let hc=class extends((0,oa.p)($.Z)){constructor(g){super(g),this._loadingProjectionEngine=!1,this.items=new Lc,this.source=new Cp,this.view=null}initialize(){const g=()=>this._recreateItems();this.handles.add([(0,Ht.YP)(()=>"ready"===this.state?this.compatibilityFunction:null,()=>this._updateItems()),(0,Ht.on)(()=>{var E;return null==(E=this.source)?void 0:E.basemaps},"change",g,{onListenerAdd:g})])}get activeBasemap(){var g,E,I;return null!=(I=null==(E=null==(g=this.view)?void 0:g.map)?void 0:E.basemap)?I:null}set activeBasemap(g){var W,ee;if(!this.view.map)return;const E="string"==typeof g?v.default.fromId(g):g;if(!E||!this.view.ready)return this.view.map.basemap=E,void this._clearOverride("activeBasemap");const I=E.spatialReference||(null==(ee=null==(W=this.items)?void 0:W.find(ge=>this.basemapEquals(E,ge.basemap)))?void 0:ee.spatialReference);if(I&&"spatialReferenceLocked"in this.view&&!this.view.spatialReferenceLocked){const ge=this.view.spatialReference;if((0,Re.pC)(I)&&!(0,Mn.fS)(ge,I)&&!(0,an.Up)(this.view.spatialReference,I)&&!(0,an.kR)())return this._override("activeBasemap",E),this._loadingProjectionEngine=!0,void(0,an.zD)().then(()=>{this._get("activeBasemap")===g&&(this.view.map.basemap=g,this.view.spatialReference=I,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});this.view.map.basemap=E,this._clearOverride("activeBasemap"),(0,Re.pC)(I)&&!(0,Mn.fS)(this.view.spatialReference,I)&&(this.view.spatialReference=I)}else this.view.map.basemap=E,this._clearOverride("activeBasemap")}get compatibilityFunction(){var g;return"3d"===(null==(g=this.view)?void 0:g.type)?zg:fv}set compatibilityFunction(g){(0,Re.pC)(g)?this._override("compatibilityFunction",g):this._clearOverride("compatibilityFunction")}castSource(g){return Array.isArray(g)||B.Z.isCollection(g)?new km({basemaps:g}):function Fc(g){return g&&"esri.portal.Portal"===g.declaredClass}(g)?new Cp({portal:g}):function Uc(g){return g&&!(g instanceof Cp)&&(!!g.portal||!!g.query)}(g)?new Cp(g):function Hg(g){return g&&"basemaps"in g&&"state"in g&&"refresh"in g}(g)?g:null}get state(){var g;return(null==(g=this.view)?void 0:g.ready)&&this.source?this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(g,E){return function Je(g,E){return g===E||"equal"===en(Rt(g),Rt(E),{mustMatchReferences:!0})}(g,E)}refresh(){this._recreateItems()}load(g){return this.addResolvingPromise($.Z.isLoadable(this.source)?this.source.load(g):null),Promise.resolve(this)}_recreateItems(){var W;const g=null==(W=this.source)?void 0:W.basemaps,{view:E,compatibilityFunction:I}=this;this.items.removeAll().forEach(ee=>ee.destroy()),g&&this.items.addMany(g.map(ee=>new Gg({basemap:ee,compatibilityFunction:I,view:E})))}_updateItems(){for(const g of this.items)g.compatibilityFunction=this.compatibilityFunction,g.view=this.view}};(0,D._)([(0,A.Cb)()],hc.prototype,"_loadingProjectionEngine",void 0),(0,D._)([(0,A.Cb)()],hc.prototype,"activeBasemap",null),(0,D._)([(0,A.Cb)()],hc.prototype,"compatibilityFunction",null),(0,D._)([(0,A.Cb)({readOnly:!0,type:Lc})],hc.prototype,"items",void 0),(0,D._)([(0,A.Cb)()],hc.prototype,"source",void 0),(0,D._)([(0,nt.p)("source")],hc.prototype,"castSource",null),(0,D._)([(0,A.Cb)({readOnly:!0})],hc.prototype,"state",null),(0,D._)([(0,A.Cb)()],hc.prototype,"view",void 0),hc=(0,D._)([(0,J.j)("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],hc);const mv=hc;let Hl=class extends Ii.Z{constructor(g,E){super(g,E),this._handles=new Bt.Z,this.activeBasemap=null,this.disabled=!1,this.headingLevel=2,this.iconClass="esri-icon-basemap",this.label=void 0,this.messages=null,this.source=null,this.view=null,this.viewModel=new mv}initialize(){const g=this._handles;this.own([(0,Ht.on)(()=>this.viewModel.items,"change",E=>{const I="basemap-gallery-item-changes",{added:W,moved:ee}=E;g.remove(I),g.add([...W,...ee].map(ge=>(0,Ht.YP)(()=>ge.state,()=>this.scheduleRender())),I),this.scheduleRender()}),g,(0,Ht.gx)(()=>this.source,()=>this.viewModel.load(),{initial:!0,once:!0})])}destroy(){this._handles.destroy()}loadDependencies(){return p.e(2191).then(p.bind(p,52191))}render(){const g="loading"===this.get("source.state"),E=this.disabled||"disabled"===this.get("viewModel.state"),I=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this),W={"esri-basemap-gallery--source-loading":g,"esri-disabled":E},ee=g?(0,vn.u)("div",{class:"esri-basemap-gallery__loader",key:"esri-basemap-gallery__loader"}):null,ge=g?null:I.length>0?(0,vn.u)("ul",{class:"esri-basemap-gallery__item-container",key:"esri-basemap-gallery__item-container",role:"menu"},I):(0,vn.u)("div",{class:"esri-widget__content--empty",key:"esri-basemap-gallery__empty-message"},(0,vn.u)(Vo,{level:this.headingLevel},this.messages.noBasemaps));return(0,vn.u)("div",{class:this.classes("esri-basemap-gallery esri-widget esri-widget--panel-height-only",W)},ee,ge)}_handleClick(g){const E=g.currentTarget["data-item"];"ready"===E.state&&(this.viewModel.activeBasemap=E.basemap)}_renderBasemapGalleryItem(g){const E=g.get("basemap.thumbnailUrl")||(0,da.V)("esri/themes/base/images/basemap-toggle-64.svg"),I=g.get("basemap.title"),W=g.get("basemap.portalItem.snippet"),ee=g.get("error.message")||W||I,{viewModel:ge}=this,Ae=this.disabled||"disabled"===ge.state||"ready"!==g.state?-1:0,He=ge.basemapEquals(g.basemap,this.activeBasemap),gt="loading"===ge.state,At={"esri-basemap-gallery__item--selected":He,"esri-basemap-gallery__item--error":"error"===g.state};return(0,vn.u)("li",{"aria-selected":He.toString(),bind:this,class:this.classes("esri-basemap-gallery__item",At),"data-item":g,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:Ae,title:ee},(0,vn.u)("img",{alt:"",class:"esri-basemap-gallery__item-thumbnail",src:E}),(0,vn.u)("div",{class:"esri-basemap-gallery__item-title"},I),"loading"===g.state||He&&gt?(0,vn.u)("calcite-scrim",null,(0,vn.u)("span",{"aria-hidden":"true",role:"presentation",class:"esri-widget__loader-animation"})):null)}};(0,D._)([(0,hr.B)("viewModel.activeBasemap")],Hl.prototype,"activeBasemap",void 0),(0,D._)([(0,A.Cb)()],Hl.prototype,"disabled",void 0),(0,D._)([(0,A.Cb)()],Hl.prototype,"headingLevel",void 0),(0,D._)([(0,A.Cb)()],Hl.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Hl.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/BasemapGallery/t9n/BasemapGallery")],Hl.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.source")],Hl.prototype,"source",void 0),(0,D._)([(0,hr.B)("viewModel.view")],Hl.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],Hl.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],Hl.prototype,"_handleClick",null),Hl=(0,D._)([(0,J.j)("esri.widgets.BasemapGallery")],Hl);const gv=Hl;let Ul=class extends _e.Z.EventedAccessor{constructor(g){super(g),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=ct("hybrid",this._basemapCache),this.view=null,this.toggle=this.toggle.bind(this)}initialize(){(0,Ht.YP)(()=>this.nextBasemap,g=>{g&&!g.loaded&&g.load().catch(()=>{})},Ht.nn)}destroy(){this.view=null,Ze(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return Tt(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){return!("spatialReferenceLocked"in this.view)||this.view.spatialReferenceLocked}get activeBasemap(){var g,E,I;return ct(null!=(I=null==(E=null==(g=this.view)?void 0:g.map)?void 0:E.basemap)?I:"topo",this._basemapCache)}castNextBasemap(g){return ct(g,this._basemapCache)}get state(){const{view:g}=this;if(!(null==g?void 0:g.ready)||this._nextBasemapSpatialReferenceTask.updating)return"disabled";const{spatialReference:E}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&(0,Re.pC)(E)&&!g.spatialReference.equals(E)?"incompatible-next-basemap":this._loadingProjectionEngine?"loading":"ready"}toggle(){var g=this;return(0,k.Z)(function*(){if("disabled"===g.state||"incompatible-next-basemap"===g.state)return;const{activeBasemap:E,nextBasemap:I}=g,W=g._viewSpatialReferenceLocked;if(!W){if(yield(0,Ht.N1)(()=>!g._nextBasemapSpatialReferenceTask.updating),I!==g.nextBasemap||E!==g.activeBasemap)return;const{spatialReference:ee}=g._nextBasemapSpatialReferenceTask;if(!(0,Re.pC)(ee)||(0,Mn.fS)(g.view.spatialReference,ee)||(0,an.kR)()||(0,an.Up)(g.view.spatialReference,ee)||(g._loadingProjectionEngine=!0,yield(0,an.zD)(),g._loadingProjectionEngine=!1),I!==g.nextBasemap||E!==g.activeBasemap)return}g.view.map.basemap=I,W||!(0,Re.pC)(g._nextBasemapSpatialReferenceTask.spatialReference)||(0,Mn.fS)(g.view.spatialReference,g._nextBasemapSpatialReferenceTask.spatialReference)||(g.view.spatialReference=g._nextBasemapSpatialReferenceTask.spatialReference),g.nextBasemap=E,g.emit("toggle",{previous:E,current:I})})()}static getThumbnailUrl(g){if(!g)return null;const{thumbnailUrl:E}=g;if(E)return E;const I=function Be(g){let E=null;const I=Rt(g),W=!I.baseLayers.length;for(const ee in Ye.s){const ge=en(I,Zt(Ye.s[ee]),{mustMatchReferences:W});if("equal"===ge){E=ee;break}"base-layers-equal"===ge&&(E=ee)}return E}(g);if(I)return Ye.s[I].thumbnailUrl;const W=g.baseLayers.find(ee=>!!(0,ne.sM)(ee)().get("portalItem.thumbnailUrl"));return W?(0,ne.sM)(W)().get("portalItem.thumbnailUrl"):null}};(0,D._)([(0,A.Cb)()],Ul.prototype,"_loadingProjectionEngine",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Ul.prototype,"_nextBasemapSpatialReferenceTask",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Ul.prototype,"_viewSpatialReferenceLocked",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Ul.prototype,"activeBasemap",null),(0,D._)([(0,A.Cb)()],Ul.prototype,"nextBasemap",void 0),(0,D._)([(0,nt.p)("nextBasemap")],Ul.prototype,"castNextBasemap",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Ul.prototype,"state",null),(0,D._)([(0,A.Cb)()],Ul.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],Ul.prototype,"toggle",null),Ul=(0,D._)([(0,J.j)("esri.widgets.BasemapToggle.BasemapToggleViewModel")],Ul);const eh=Ul,pc_container="esri-basemap-thumbnail esri-basemap-toggle__container",pc_image="esri-basemap-thumbnail__image esri-basemap-toggle__image";function Wm(g){const E=eh.getThumbnailUrl(g);return E?{backgroundImage:"url("+E+")"}:{backgroundImage:""}}const Jg={title:!1};let Nl=class extends Ii.Z{constructor(g,E){super(g,E),this.activeBasemap=null,this.label=void 0,this.messages=null,this.nextBasemap=null,this.view=null,this.viewModel=new eh,this.visibleElements=Nn({},Jg)}loadDependencies(){return Promise.all([Promise.all([p.e(8592),p.e(6794)]).then(p.bind(p,46794)),p.e(2191).then(p.bind(p,52191))])}castVisibleElements(g){return Nn(Nn({},Jg),g)}toggle(){return null}render(){const g=this.viewModel,E="disabled"===g.state?null:g.activeBasemap,I="disabled"===g.state?null:g.nextBasemap,W="loading"===g.state,ee="incompatible-next-basemap"===g.state,ge=I?I.title:"",Ae=I&&"loaded"!==I.loadStatus;let He;const gt=this.visibleElements.title&&ge,At=ee;return(gt||At)&&(He=(0,vn.u)("div",{class:"esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",key:"overlay"},gt?(0,vn.u)("span",{class:"esri-basemap-thumbnail__title esri-basemap-toggle__title",title:ge},ge):null,At?(0,vn.u)("calcite-scrim",{class:"esri-basemap-thumbnail__overlay-scrim",title:this.messages.incompatibleSpatialReference},(0,vn.u)("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),(0,vn.u)("div",{class:this.classes("esri-basemap-toggle esri-widget",ee?"esri-disabled":null),role:"button","data-basemap-id":I?I.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:ee?-1:0,title:this.label},(0,vn.u)("div",{class:this.classes(pc_container,"esri-basemap-toggle__image--secondary")},(0,vn.u)("div",{class:pc_image,styles:Wm(E)})),(0,vn.u)("div",{class:pc_container},(0,vn.u)("div",{class:this.classes(pc_image,Ae?"esri-basemap-toggle__image--loading":null),styles:Wm(I)},Ae||W?(0,vn.u)("calcite-scrim",null,(0,vn.u)("span",{"aria-hidden":"true",role:"presentation",class:"esri-widget__loader-animation"})):null),He))}_toggle(){this.toggle()}};(0,D._)([(0,hr.B)("viewModel.activeBasemap")],Nl.prototype,"activeBasemap",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Nl.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/BasemapToggle/t9n/BasemapToggle")],Nl.prototype,"messages",void 0),(0,D._)([(0,hr.B)("viewModel.nextBasemap")],Nl.prototype,"nextBasemap",void 0),(0,D._)([(0,hr.B)("viewModel.view")],Nl.prototype,"view",void 0),(0,D._)([ma("toggle"),(0,A.Cb)({type:eh})],Nl.prototype,"viewModel",void 0),(0,D._)([(0,A.Cb)()],Nl.prototype,"visibleElements",void 0),(0,D._)([(0,nt.p)("visibleElements")],Nl.prototype,"castVisibleElements",null),(0,D._)([(0,hr.B)("viewModel.toggle")],Nl.prototype,"toggle",null),(0,D._)([(0,co.h)()],Nl.prototype,"_toggle",null),Nl=(0,D._)([(0,J.j)("esri.widgets.BasemapToggle")],Nl);const Yg=Nl;let Nc=class extends Le.Z{constructor(g){super(g),this._viewpointHandle=null,this._handles=new Bt.Z,this.group=null}initialize(){this._handles.add((0,Ht.on)(()=>{var g;return null==(g=this.view)?void 0:g.ui},"expand",g=>{const{target:E}=g;E&&E!==this&&E.expanded&&E.group&&E.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}set autoCollapse(g){this._set("autoCollapse",g),this._watchViewpoint()}set expanded(g){const E=!!g;this._set("expanded",E);const I=this.get("view.ui");I&&I.emit("expand",{target:this}),this._viewpointHandleChange(E)}get state(){return this.get("view.ready")?"ready":"disabled"}set view(g){this._get("view")!==g&&(this._set("view",g),g&&(0,Ht.gx)(()=>g.ready,()=>{this.view===g&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(g){this._viewpointHandle&&(g?(0,Ht.gx)(()=>this.view.stationary,()=>this._viewpointHandle.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const g="viewpoint";this._handles.remove(g),this._viewpointHandle=null;const{autoCollapse:E,view:I}=this;if(I&&E){const W=(0,Ht.Wy)(()=>"3d"===I.type?I.camera:I.viewpoint,()=>this._collapse());this._handles.add(W,g),this._viewpointHandle=W}}_collapse(){this.expanded=!1}};(0,D._)([(0,A.Cb)({value:!1})],Nc.prototype,"autoCollapse",null),(0,D._)([(0,A.Cb)({value:!1})],Nc.prototype,"expanded",null),(0,D._)([(0,A.Cb)()],Nc.prototype,"group",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Nc.prototype,"state",null),(0,D._)([(0,A.Cb)({value:null})],Nc.prototype,"view",null),Nc=(0,D._)([(0,J.j)("esri.widgets.Expand.ExpandViewModel")],Nc);const Qg=Nc;let ia=class extends Ii.Z{constructor(g,E){super(g,E),this.autoCollapse=null,this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expanded=null,this.expandTooltip="",this.group=null,this.iconNumber=0,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.view=null,this.viewModel=new Qg,this._handleKeyDown=I=>{const{closeOnEsc:W,_toggleButtonEl:ee,expanded:ge}=this;!ge||!W||I.target===ee||"Escape"!==I.key||("function"==typeof W?W(I):W)&&(this.expanded=!1,null==ee||ee.focus())}}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:g,messagesCommon:E,collapseTooltip:I,expandTooltip:W}=this;return g?I||E.collapse:W||E.expand}get collapseIconClass(){return"esri-icon-collapse"}set collapseIconClass(g){g?this._override("collapseIconClass",g):this._clearOverride("collapseIconClass")}get expandIconClass(){return(0,Ma.Qd)(this.content)?this.content.iconClass:"esri-icon-expand"}set expandIconClass(g){g?this._override("expandIconClass",g):this._clearOverride("expandIconClass")}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:g}=this;return(0,vn.u)("div",{class:this.classes("esri-expand esri-widget",{"esri-expand--auto":"auto"===g,"esri-expand--drawer":"drawer"===g,"esri-expand--floating":"floating"===g}),onkeydown:this._handleKeyDown},this.renderMask(),this.renderContainer())}renderContainer(){const{expanded:g}=this;return(0,vn.u)("div",{class:this.classes("esri-expand__container",{"esri-expand__container--expanded":g})},this.renderPanel(),this.renderContent())}renderMask(){const{expanded:g}=this;return(0,vn.u)("div",{bind:this,onclick:this._toggle,class:this.classes("esri-expand__mask",{"esri-expand__mask--expanded":g})})}renderBadgeNumber(){const{expanded:g,iconNumber:E}=this;return E&&!g?(0,vn.u)("span",{key:"expand__icon-number",class:"esri-expand__icon-number"},E):null}renderPanelNumber(){const{iconNumber:g,expanded:E}=this;return g&&E?(0,vn.u)("span",{key:"expand__expand-icon-number",class:this.classes("esri-expand__icon-number","esri-expand__icon-number--expanded")},g):null}renderIcon(){const{collapseIconClass:g,expandIconClass:E,expanded:I}=this,W={"esri-expand__icon--expanded":I,[g]:I,[E]:!I};return g===E&&(W[g]=!0),(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-collapse__icon",W)})}renderTitle(){return(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},this.expandTitle)}renderExpandButton(){const{expanded:g,expandTitle:E,contentId:I}=this;return(0,vn.u)("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":I,"aria-expanded":g?"true":"false",bind:this,class:"esri-widget--button",onclick:this._toggle,onkeydown:this._toggle,role:"button",tabindex:"0",title:E},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}renderPanel(){return(0,vn.u)("div",{class:"esri-expand__panel"},this.renderExpandButton(),this.renderPanelNumber())}renderContent(){const{expanded:g,contentId:E,content:I}=this,ee={id:E,role:"region",class:this.classes("esri-expand__content",{"esri-expand__content--expanded":g})};return"string"==typeof I?(0,vn.u)("div",Nn({key:"content__string",innerHTML:I},ee)):(0,Ma.Qd)(I)?(0,vn.u)("div",Nn({key:"content__widget"},ee),I.render()):I instanceof HTMLElement?(0,vn.u)("div",Nn({key:"content__html-element",bind:I,afterCreate:this._attachToNode},ee)):(0,Ma.o)(I)?(0,vn.u)("div",Nn({key:"content__node",bind:I.domNode,afterCreate:this._attachToNode},ee)):null}_toggle(){this.toggle()}_attachToNode(g){g.appendChild(this)}_storeToggleButtonEl(g){this._toggleButtonEl=g}};(0,D._)([(0,A.Cb)({readOnly:!0})],ia.prototype,"contentId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],ia.prototype,"expandTitle",null),(0,D._)([(0,hr.B)("viewModel.autoCollapse")],ia.prototype,"autoCollapse",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"closeOnEsc",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"collapseIconClass",null),(0,D._)([(0,A.Cb)()],ia.prototype,"collapseTooltip",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"content",void 0),(0,D._)([(0,hr.B)("viewModel.expanded")],ia.prototype,"expanded",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"expandIconClass",null),(0,D._)([(0,A.Cb)()],ia.prototype,"expandTooltip",void 0),(0,D._)([(0,hr.B)("viewModel.group")],ia.prototype,"group",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"iconNumber",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ia.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Expand/t9n/Expand")],ia.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],ia.prototype,"messagesCommon",void 0),(0,D._)([(0,A.Cb)()],ia.prototype,"mode",void 0),(0,D._)([(0,hr.B)("viewModel.view")],ia.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:Qg})],ia.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],ia.prototype,"_toggle",null),ia=(0,D._)([(0,J.j)("esri.widgets.Expand")],ia);const Df=ia;let fc=class extends(bi(_e.Z.EventedAccessor)){constructor(g){super(g),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(g){this._initialViewpoint=null,this._set("view",g),g&&g.when().then(()=>{this.view===g&&(this._initialViewpoint=g.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(g){this._set("viewpoint",g)}go(){var g=this;return(0,k.Z)(function*(){if(!g.get("view.ready"))throw new te.Z("home:disabled-state","Cannot go when disabled.");g._cancelGo(),g.emit("go");const E=new AbortController;g._goingHomeController=E;try{yield g.view.when(),yield g.callGoTo({target:g.viewpoint,options:{signal:E.signal}})}catch(I){}g._goingHomeController=null})()}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:g}=this;g&&g.abort(),this._goingHomeController=null}};(0,D._)([(0,A.Cb)()],fc.prototype,"_goingHomeController",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],fc.prototype,"state",null),(0,D._)([(0,A.Cb)()],fc.prototype,"view",null),(0,D._)([(0,A.Cb)({type:jn.Z})],fc.prototype,"viewpoint",null),(0,D._)([(0,A.Cb)()],fc.prototype,"go",null),(0,D._)([(0,A.Cb)()],fc.prototype,"cancelGo",null),fc=(0,D._)([(0,J.j)("esri.widgets.Home.HomeViewModel")],fc);const Pf=fc;let ll=class extends Ii.Z{constructor(g,E){super(g,E),this.goToOverride=null,this.iconClass="esri-icon-home",this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new Pf,this.viewpoint=null}get homeTitle(){var W;const g=null==(W=this.viewModel)?void 0:W.state,{messagesCommon:E,messages:I}=this;return"going-home"===g?E.cancel:I.title}cancelGo(){return null}go(){return null}render(){var W;const g=null==(W=this.viewModel)?void 0:W.state,{homeTitle:E}=this;return(0,vn.u)("div",{bind:this,class:this.classes("esri-home esri-widget--button esri-widget",{"esri-disabled":"disabled"===g}),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":E,title:E},this.renderIcon(),this.renderText())}renderIcon(){var I;const g=null==(I=this.viewModel)?void 0:I.state;return(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-icon esri-icon-home",{"esri-icon-loading-indicator":"going-home"===g,"esri-rotating":"going-home"===g})})}renderText(){const{messages:g}=this;return(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},g.button)}_go(){const{viewModel:g}=this;"going-home"===g.state?g.cancelGo():g.go()}};(0,D._)([(0,hr.B)("viewModel.goToOverride")],ll.prototype,"goToOverride",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],ll.prototype,"homeTitle",null),(0,D._)([(0,A.Cb)()],ll.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ll.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Home/t9n/Home")],ll.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],ll.prototype,"messagesCommon",void 0),(0,D._)([(0,hr.B)("viewModel.view")],ll.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:Pf}),ma("go")],ll.prototype,"viewModel",void 0),(0,D._)([(0,hr.B)("viewModel.viewpoint")],ll.prototype,"viewpoint",void 0),(0,D._)([(0,hr.B)("viewModel.cancelGo")],ll.prototype,"cancelGo",null),(0,D._)([(0,hr.B)("viewModel.go")],ll.prototype,"go",null),(0,D._)([(0,co.h)()],ll.prototype,"_go",null),ll=(0,D._)([(0,J.j)("esri.widgets.Home")],ll);const Xg=ll;var If=p(73281),Vm=p(13546),wd=p(2076);new wd.X({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"});var th=p(91179);new wd.X({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});let nh=class extends ae.wq{constructor(g){super(g),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],nh.prototype,"deviationUnit",void 0),(0,D._)([(0,A.Cb)({json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.geometries=g.map(I=>I.toJSON())}}}})],nh.prototype,"geometries",void 0),(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],nh.prototype,"maxDeviation",void 0),nh=(0,D._)([(0,J.j)("esri.rest.support.GeneralizeParameters")],nh),nh.from=(0,V.se)(nh),new wd.X({preserveShape:"preserve-shape"});let Od=class extends ae.wq{constructor(g){super(g),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Od.prototype,"calculationType",void 0),(0,D._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],Od.prototype,"geodesic",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],Od.prototype,"lengthUnit",void 0),(0,D._)([(0,A.Cb)({type:[Al.Z],json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.polylines=g.map(I=>I.toJSON())}}}})],Od.prototype,"polylines",void 0),Od=(0,D._)([(0,J.j)("esri.rest.support.LengthsParameters")],Od),Od.from=(0,V.se)(Od),new wd.X({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),new wd.X({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});let ju=class extends ae.wq{constructor(g){super(g),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],ju.prototype,"bevelRatio",void 0),(0,D._)([(0,A.Cb)({json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.geometries=g.map(I=>I.toJSON())}}}})],ju.prototype,"geometries",void 0),(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],ju.prototype,"offsetDistance",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],ju.prototype,"offsetHow",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],ju.prototype,"offsetUnit",void 0),ju=(0,D._)([(0,J.j)("esri.rest.support.OffsetParameters")],ju),ju.from=(0,V.se)(ju);var Cv=p(68886);new wd.X({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});let Bu=class extends ae.wq{constructor(g){super(g),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};(0,D._)([(0,A.Cb)({json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.geometries1=g.map(I=>I.toJSON())}}}})],Bu.prototype,"geometries1",void 0),(0,D._)([(0,A.Cb)({json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.geometries2=g.map(I=>I.toJSON())}}}})],Bu.prototype,"geometries2",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Bu.prototype,"relation",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Bu.prototype,"relationParameter",void 0),Bu=(0,D._)([(0,J.j)("esri.rest.support.RelationParameters")],Bu),Bu.from=(0,V.se)(Bu),new wd.X({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});let Sd=class extends ae.wq{constructor(g){super(g),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Sd.prototype,"extendHow",void 0),(0,D._)([(0,A.Cb)({type:[Al.Z],json:{read:{reader:g=>g?g.map(E=>(0,th.im)(E)):null},write:{writer:(g,E)=>{E.polylines=g.map(I=>I.toJSON())}}}})],Sd.prototype,"polylines",void 0),(0,D._)([(0,A.Cb)({json:{read:{reader:g=>g?(0,th.im)(g):null},write:{writer:(g,E)=>{E.trimExtendTo=g.toJSON()}}}})],Sd.prototype,"trimExtendTo",void 0),Sd=(0,D._)([(0,J.j)("esri.rest.support.TrimExtendParameters")],Sd),Sd.from=(0,V.se)(Sd);var ey=p(77294);const Zm=R.Z.getLogger("esri.widgets.support.geolocationUtils"),ty={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function ku(){return function ny(){const g=(0,se.Z)("esri-geolocation");return g||Zm.warn("geolocation-unsupported","Geolocation unsupported."),g}()&&function ry(){const g=window.isSecureContext;return g||Zm.warn("insecure-context","Geolocation requires a secure origin."),g}()}function iy(g){return g||(g=ty),new Promise((I,W)=>{setTimeout(()=>W(new te.Z("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(I,W,g)})}function sy(g,E){const{position:I,view:W}=g;return function zm(g,E,I){if(!E)return Promise.resolve(g);const W=E.spatialReference;return W.isWGS84?Promise.resolve(g):W.isWebMercator?Promise.resolve((0,Hc.$)(g)):function wb(g){if(Ne.Z.geometryServiceUrl)return Promise.resolve(Ne.Z.geometryServiceUrl);const E=Of.Z.getDefault();return E.load(g).catch(()=>{}).then(()=>E.get("helperServices.geometry.url"))}(I).then(ee=>{if(!ee)throw new te.Z("geometry-service:missing-url","Geometry service URL is missing");const ge=new ey.Z({geometries:[g],outSpatialReference:W});return(0,Cv.i)(ee,ge,I).then(Ae=>Ae[0])})}(function Mb(g){const E=g&&g.coords;return E?new Dr.Z({longitude:E.longitude,latitude:E.latitude,z:E.altitude||null,spatialReference:{wkid:4326}}):null}(function jh(g){const E=g&&g.coords||{};return g&&{coords:{accuracy:E.accuracy,altitude:E.altitude,altitudeAccuracy:E.altitudeAccuracy,heading:E.heading,latitude:E.latitude,longitude:E.longitude,speed:E.speed},timestamp:g.timestamp}}(I)),W,E)}let jc=class extends(bi(_e.Z.EventedMixin(Le.Z))){constructor(){super(...arguments),this._geolocationUsable=!0,this._iconPath=(0,da.V)("esri/images/support/sdk_gps_location.png"),this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new G.Z({symbol:new Vm.Z({url:this._iconPath,width:21,height:21})}),this.scale=null,this.useHeadingEnabled=!0,this.view=null}initialize(){ku()||(this._geolocationUsable=!1)}destroy(){this._clear(),this.view=null}_clear(){this.view&&this.view.graphics.remove(this.graphic)}_getScaleWithinConstraints(g,E){if(!E)return g;if("2d"===E.type){const{effectiveMaxScale:I,effectiveMinScale:W}=E.constraints;return Math.min(W,Math.max(I,g))}return g}_getScale(g){const{scale:E}=this;return this._getScaleWithinConstraints("number"==typeof E?E:2500,g)}_getHeading(g,E){const I=E&&E.spatialReference,ee=g.coords&&g.coords.heading;if(!(!I||!I.isWebMercator&&!I.isGeographic||"number"!=typeof ee||isNaN(ee)||ee<0||ee>360))return ee}_addHeading(g){const{heading:E,target:I,view:W}=g;W&&"number"==typeof E&&!isNaN(E)&&("3d"!==W.type?"2d"===W.type&&(I.rotation=360-E):I.heading=E)}_animatePoint(g,E,I,W){const{view:ee}=this;if(!this.goToLocationEnabled||!ee)return Promise.resolve(E);const ge=this.useHeadingEnabled?this._getHeading(E,ee):void 0,Ae={target:g,scale:I};return this._addHeading({heading:ge,target:Ae,view:ee}),this.callGoTo({target:Ae,options:W}).then(()=>E)}_setPosition(g,E){var I=this;return(0,k.Z)(function*(){try{const W=yield sy({position:g,view:I.view},E),{graphic:ee}=I,{timestamp:ge}=g,{coords:Ae}=g,{accuracy:He,altitude:gt,altitudeAccuracy:At,heading:Yt,latitude:ln,longitude:kn,speed:Fn}=Ae,Or={timestamp:ge,accuracy:He,altitude:gt,altitudeAccuracy:At,heading:Yt,latitude:ln,longitude:kn,speed:Fn};ee&&(ee.geometry=W,ee.attributes=Or);const $r=I._getScale(I.view);return I._animatePoint(W,g,$r,E)}catch(W){throw new te.Z("positioning:invalid-point","Cannot position invalid point",{error:W})}})()}};(0,D._)([(0,A.Cb)()],jc.prototype,"_geolocationUsable",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"geolocationOptions",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"goToLocationEnabled",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"scale",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"useHeadingEnabled",void 0),(0,D._)([(0,A.Cb)()],jc.prototype,"view",void 0),jc=(0,D._)([(0,J.j)("esri.widgets.support.GeolocationPositioning")],jc);const Ob=jc;var Es=p(41840);function $m(){return $m=(0,k.Z)(function*(){const g=yield(0,Es.ME)("esri/widgets/Locate/t9n/Locate");return new If.Z({title:g.currentLocation,fieldInfos:[{fieldName:"timestamp",label:g.timestamp,format:{dateFormat:"short-date-short-time"}},{fieldName:"latitude",label:g.latitude,format:{places:4,digitSeparator:!0}},{fieldName:"longitude",label:g.longitude,format:{places:4,digitSeparator:!0}},{fieldName:"accuracy",label:g.accuracy,format:{places:0,digitSeparator:!0}},{fieldName:"altitude",label:g.altitude,format:{places:0,digitSeparator:!0}},{fieldName:"altitudeAccuracy",label:g.altitudeAccuracy,format:{places:0,digitSeparator:!0}},{fieldName:"heading",label:g.heading,format:{places:0,digitSeparator:!0}},{fieldName:"speed",label:g.speed,format:{places:0,digitSeparator:!0}}],actions:[Oc.clone()],content:[{type:"fields"}]})}),$m.apply(this,arguments)}let Td=class extends Ob{constructor(g){super(g),this._locateController=null,this._handles=new Bt.Z,this.popupEnabled=!0,this.locate=this.locate.bind(this)}initialize(){this._handles.add([(0,Xu.qe)(()=>{var W;const{graphic:g,view:E}=this;(null==(W=null==E?void 0:E.graphics)?void 0:W.includes(g))&&this._updatePopupTemplate(g)})])}destroy(){this.cancelLocate(),this._handles.destroy(),this._handles=null}get state(){return this._geolocationUsable?this.get("view.ready")?this._locateController?"locating":"ready":"disabled":"feature-unsupported"}locate(){var g=this;return(0,k.Z)(function*(){if(g.cancelLocate(),"disabled"===g.state)throw new te.Z("locate:disabled-state","Cannot locate when disabled.");if("feature-unsupported"===g.state)throw new te.Z("locate:feature-unsupported-state","Cannot locate in unsecure domain.");const E=new AbortController;g._locateController=E;try{let I=yield iy(g.geolocationOptions);return I=yield g._setPosition(I,{signal:E.signal}),g._locateController!==E?null:(g.graphic&&(g.graphic=g.graphic.clone(),yield g._updatePopupTemplate(g.graphic),g.view.graphics.push(g.graphic)),g.emit("locate",{position:I}),g._locateController=null,I)}catch(I){throw g._locateController=null,g.emit("locate-error",{error:I}),I}})()}cancelLocate(){this._clear(),this._locateController&&this._locateController.abort(),this._locateController=null}_updatePopupTemplate(g){var E=this;return(0,k.Z)(function*(){if(!E.popupEnabled)return;const I=yield function Tv(){return $m.apply(this,arguments)}();E.destroyed||g!==E.graphic||(g.popupTemplate=I)})()}};(0,D._)([(0,A.Cb)()],Td.prototype,"_locateController",void 0),(0,D._)([(0,A.Cb)()],Td.prototype,"popupEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Td.prototype,"state",null),(0,D._)([(0,A.Cb)()],Td.prototype,"locate",null),(0,D._)([(0,A.Cb)()],Td.prototype,"cancelLocate",null),Td=(0,D._)([(0,J.j)("esri.widgets.Locate.LocateViewModel")],Td);const Mp=Td;let ca=class extends Ii.Z{constructor(g,E){super(g,E),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass="esri-icon-north-navigation",this.label=void 0,this.messages=null,this.messagesCommon=null,this.popupEnabled=null,this.scale=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new Mp}cancelLocate(){}locate(){}render(){const g=this.get("viewModel.state"),E="locating"===g,W={"esri-icon-loading-indicator":E,"esri-rotating":E,"esri-icon-locate":!E},ee="locating"===g?this.messagesCommon.cancel:this.messages.title;return(0,vn.u)("div",{bind:this,class:this.classes("esri-locate esri-widget--button esri-widget",{"esri-disabled":"disabled"===g,"esri-hidden":"feature-unsupported"===g}),hidden:"feature-unsupported"===g,onclick:this._locate,onkeydown:this._locate,role:"button",tabIndex:0,"aria-label":ee,title:ee},(0,vn.u)("span",{"aria-hidden":"true",class:this.classes("esri-icon",W)}),(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},this.messages.title))}_locate(){const{viewModel:g}=this;"locating"===g.state?g.cancelLocate():g.locate()}};(0,D._)([(0,hr.B)("viewModel.geolocationOptions")],ca.prototype,"geolocationOptions",void 0),(0,D._)([(0,hr.B)("viewModel.goToLocationEnabled")],ca.prototype,"goToLocationEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.goToOverride")],ca.prototype,"goToOverride",void 0),(0,D._)([(0,hr.B)("viewModel.graphic")],ca.prototype,"graphic",void 0),(0,D._)([(0,A.Cb)()],ca.prototype,"iconClass",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ca.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Locate/t9n/Locate")],ca.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],ca.prototype,"messagesCommon",void 0),(0,D._)([(0,hr.B)("viewModel.popupEnabled")],ca.prototype,"popupEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.scale")],ca.prototype,"scale",void 0),(0,D._)([(0,hr.B)("viewModel.useHeadingEnabled")],ca.prototype,"useHeadingEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.view")],ca.prototype,"view",void 0),(0,D._)([(0,A.Cb)({type:Mp}),ma(["locate","locate-error"])],ca.prototype,"viewModel",void 0),(0,D._)([(0,hr.B)("viewModel.cancelLocate")],ca.prototype,"cancelLocate",null),(0,D._)([(0,hr.B)("viewModel.locate")],ca.prototype,"locate",null),(0,D._)([(0,co.h)()],ca.prototype,"_locate",null),ca=(0,D._)([(0,J.j)("esri.widgets.Locate")],ca);const Af=ca;var Ro=p(37299);function Dv(g){if(!g)return null;if((0,Mn.sT)(g)&&g.wkid){const E=Ro.Dg[g.wkid];if(E)return E}if(g.wkt){const E=function ay(g){const E=Ro.yB.exec(g);if(!E||2!==E.length)return null;const I=E[1].split(",");if(!I||I.length<3)return null;const W=parseFloat(I[1]),ee=parseFloat(I[2]);return isNaN(W)||isNaN(ee)?null:{a:W,f:0===ee?0:1/ee}}(g.wkt);if(E)return E}return null}function rh(g){return null!==Dv(g)}function ih(g,E,I,W){const ee=E[0]*Ro.Yr,ge=E[1]*Ro.Yr,Ae=I[0]*Ro.Yr,He=I[1]*Ro.Yr,{a:gt,b:At,f:Yt,radius:ln}=function xf(g){const E=Dv(g||eu.Z.WGS84);if(function Pv(g){return"b"in g&&"eSq"in g&&"radius"in g}(E))return E;const I=E.a*(1-E.f);return Object.assign(E,{b:I,eSq:1-(I/E.a)**2,radius:(2*E.a+I)/3,densificationRatio:1e4/((2*E.a+I)/3)})}(W),kn=Ae-ee,Fn=Math.atan((1-Yt)*Math.tan(ge)),Or=Math.atan((1-Yt)*Math.tan(He)),$r=Math.sin(Fn),ui=Math.cos(Fn),oi=Math.sin(Or),qi=Math.cos(Or);let es,Ns,xs,Us,to,Na,Ao,Pa,va,Bl,cl=1e3,Ia=kn;do{if(Ao=Math.sin(Ia),Pa=Math.cos(Ia),xs=Math.sqrt(qi*Ao*(qi*Ao)+(ui*oi-$r*qi*Pa)*(ui*oi-$r*qi*Pa)),0===xs)return g.distance=0,g.azimuth=void 0,g.reverseAzimuth=void 0,g;to=$r*oi+ui*qi*Pa,Na=Math.atan2(xs,to),va=ui*qi*Ao/xs,Ns=1-va*va,Us=to-2*$r*oi/Ns,isNaN(Us)&&(Us=0),Bl=Yt/16*Ns*(4+Yt*(4-3*Ns)),es=Ia,Ia=kn+(1-Bl)*Yt*va*(Na+Bl*xs*(Us+Bl*to*(2*Us*Us-1)))}while(Math.abs(Ia-es)>1e-12&&--cl>0);if(0===cl){const Ip=ln,v0=Math.acos(Math.sin(ge)*Math.sin(He)+Math.cos(ge)*Math.cos(He)*Math.cos(Ae-ee))*Ip,zy=Ae-ee,o1=Math.sin(zy)*Math.cos(He),a1=Math.cos(ge)*Math.sin(He)-Math.sin(ge)*Math.cos(He)*Math.cos(zy),l1=Math.atan2(o1,a1);return g.azimuth=l1/Ro.Yr,g.distance=v0,g.reverseAzimuth=void 0,g}const Yl=Ns*(gt*gt-At*At)/(At*At),Hh=Yl/1024*(256+Yl*(Yl*(74-47*Yl)-128)),Id=At*(1+Yl/16384*(4096+Yl*(Yl*(320-175*Yl)-768)))*(Na-Hh*xs*(Us+Hh/4*(to*(2*Us*Us-1)-Hh/6*Us*(4*xs*xs-3)*(4*Us*Us-3)))),sh=Math.atan2(qi*Math.sin(Ia),ui*oi-$r*qi*Math.cos(Ia)),Vf=Math.atan2(ui*Math.sin(Ia),ui*oi*Math.cos(Ia)-$r*qi);return g.azimuth=sh/Ro.Yr,g.distance=Id,g.reverseAzimuth=Vf/Ro.Yr,g}var Lf=p(84029);function Gm(g,E){return g&&g.includes(E)}function Hm(g,E){const{x:I,y:W}="decimal-degrees"===g?(0,Hc.Sx)(E,!0):E;return[I,W]}function Jm({state:{paddedViewState:g},spatialReference:E,width:I}){return E.isWrappable&&g.worldScreenWidth<I}let Bh=class extends Le.Z{constructor(g){super(g),this.scaleComputedFrom=(0,ir.vW)(),this.view=null}get state(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}getScaleBarProperties(g,E){if("disabled"===this.state||isNaN(g)||!E)return null;const I=this._getDistanceInKm(this.view,this.scaleComputedFrom);return(0,Re.Wi)(I)?null:"metric"===E?this._getScaleBarProps(g,I,"metric"):this._getScaleBarProps(g,I/1.609,"non-metric")}_getLocationUnit(){const g=this.get("view.spatialReference"),{isWebMercator:E,wkid:I,wkt:W}=g;return E||Gm(W,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=Lf.Z[I]||Gm(W,"PROJCS")?"linear-unit":"unknown"}_getDistanceInKm(g,E){const{state:I,spatialReference:W}=g,ee=this._getLocationUnit();if("linear-unit"===ee)return I.extent.width*function Ff(g){const{wkid:E}=g;if(null!=Lf.Z[E])return Lf.Z.values[Lf.Z[E]];const{wkt:I}=g,W=I.lastIndexOf(",")+1,ee=I.lastIndexOf("]]");return parseFloat(I.substring(W,ee))}(W)/1e3;const[ge,Ae]=this._getScaleMeasuringPoints(g,E),He="decimal-degrees"===ee||W.isGeographic&&!rh(W)?eu.Z.WGS84:W,gt=new Al.Z({paths:[[Hm(ee,ge),Hm(ee,Ae)]],spatialReference:He}),At=(0,gu.hR)(gt,10);let Yt;try{[Yt]=function Av(g,E="meters"){if(!g)throw new te.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(g.some(W=>!rh(W.spatialReference)))throw new te.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const I=[];for(let W=0;W<g.length;W++){const ee=g[W],{spatialReference:ge}=ee,Ae="polyline"===ee.type?ee.paths:ee.rings;let He=0;for(let gt=0;gt<Ae.length;gt++){const At=Ae[gt];let Yt=0;for(let ln=1;ln<At.length;ln++){const kn=At[ln-1][0],Fn=At[ln][0],Or=At[ln-1][1],$r=At[ln][1];if(Or!==$r||kn!==Fn){const ui={distance:null};ih(ui,[kn,Or],[Fn,$r],ge),Yt+=ui.distance}}He+=Yt}He=(0,Ts.En)(He,"meters",E),I.push(He)}return I}([At],"kilometers")}catch(ln){return null}return Yt}_getScaleMeasuringPoints(g,E){const{width:I,height:W,position:ee,spatialReference:ge}=g;if(Jm(g)){const{valid:At}=(0,Mn.C5)(ge);return[new Dr.Z(At[0],0,ge),new Dr.Z(At[1],0,ge)]}let Ae=E.y-ee[1];Ae>W?Ae=W:Ae<0&&(Ae=0);const He=(0,ir.vW)(0,Ae),gt=(0,ir.vW)(I,Ae);return[g.toMap(He),g.toMap(gt)]}_getScaleBarProps(g,E,I){const{view:W}=this;let ee=g*E/(Jm(W)?W.state.paddedViewState.worldScreenWidth:W.width),ge="metric"===I?"km":"mi";ee<.1&&("mi"===ge?(ee*=5280,ge="ft"):"km"===ge&&(ee*=1e3,ge="m"));let Ae=0;for(;ee>=1;)ee/=10,Ae++;const He=this._getConstraints(ee);if(!He)return null;const{min:gt,max:At}=He,Yt=At/ee>=ee/gt?gt:At;return{length:g*(Yt/ee),value:10**Ae*Yt,unit:ge}}_getConstraints(g){return g>.5?{min:.5,max:1}:g>.3?{min:.3,max:.5}:g>.2?{min:.2,max:.3}:g>.15?{min:.15,max:.2}:g>=.1?{min:.15,max:.1}:void 0}};(0,D._)([(0,A.Cb)()],Bh.prototype,"scaleComputedFrom",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Bh.prototype,"state",null),(0,D._)([(0,A.Cb)()],Bh.prototype,"view",void 0),Bh=(0,D._)([(0,J.j)("esri.widgets.Scalebar.ScaleBarViewModel")],Bh);const Op=Bh,ko_label="esri-scale-bar__label",ko_rulerBlock="esri-scale-bar__ruler-block";function Uf(g){return 2*g}let Bc=class extends Ii.Z{constructor(g,E){super(g,E),this.label=void 0,this.messages=null,this.unit="non-metric",this.view=null,this.viewModel=new Op}initialize(){this.own([(0,Ht.YP)(()=>{const{view:g}=this;return[null==g?void 0:g.stationary,null==g?void 0:g.center,null==g?void 0:g.scale,null==g?void 0:g.zoom]},([g])=>{g&&this.scheduleRender()})])}set style(g){this._set("style","dual"===this.unit?"line":g)}castStyle(g){return"line"===g?g:"ruler"}castUnit(g){return"metric"===g||"dual"===g?g:"non-metric"}render(){const g="disabled"===this.get("viewModel.state"),E={"esri-disabled":g};let I,W;if(!g){const{unit:ee,style:ge}=this,Ae="metric"===ee||"dual"===ee,He=50;if("non-metric"===ee||"dual"===ee){const gt=this.viewModel.getScaleBarProperties(He,"non-metric");gt&&(W="ruler"===ge?this._renderRuler(gt):this._renderLine(gt,"bottom"))}if(Ae){const gt=this.viewModel.getScaleBarProperties(He,"metric");gt&&(I="ruler"===ge?this._renderRuler(gt):this._renderLine(gt,"top"))}}return(0,vn.u)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes("esri-scale-bar esri-widget",E)},I,W)}_renderRuler(g){const E=Uf(Math.round(g.length)),{messages:I}=this,W=I[g.unit]||I.unknownUnit,ee=`${Uf(g.value)} ${W}`;return(0,vn.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--ruler"),key:"esri-scale-bar__ruler"},(0,vn.u)("div",{class:"esri-scale-bar__ruler",styles:{width:`${E}px`}},(0,vn.u)("div",{class:ko_rulerBlock}),(0,vn.u)("div",{class:ko_rulerBlock}),(0,vn.u)("div",{class:ko_rulerBlock}),(0,vn.u)("div",{class:ko_rulerBlock})),(0,vn.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--ruler")},(0,vn.u)("div",{class:ko_label},"0"),(0,vn.u)("div",{class:ko_label},ee)))}_renderLine(g,E){const{messages:I}=this,W=I[g.unit]||I.unknownUnit,ee=`${Uf(g.value)} ${W}`,Ae=(0,vn.u)("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--line",{"esri-scale-bar__label-container--top":"top"===E,"esri-scale-bar__label-container--bottom":"bottom"===E}),key:"esri-scale-bar__label"},(0,vn.u)("div",{class:ko_label},ee)),He={"esri-scale-bar__line--top":"top"===E,"esri-scale-bar__line--bottom":"bottom"===E},gt=Uf(Math.round(g.length)),At=(0,vn.u)("div",{class:this.classes("esri-scale-bar__line",He),key:"esri-scale-bar__line",styles:{width:`${gt}px`}});return(0,vn.u)("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--line"),key:"esri-scale-bar__line-container"},[At,Ae])}_handleRootCreateOrUpdate(g){const E=this.viewModel;if(!E)return;const I=g.getBoundingClientRect(),W=I.left+window.pageXOffset,ee=I.top+window.pageYOffset,ge=(0,ir.vW)(W,ee);(ge.x!==E.scaleComputedFrom.x||ge.y!==E.scaleComputedFrom.y)&&(E.scaleComputedFrom=ge)}};(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Bc.prototype,"label",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/ScaleBar/t9n/ScaleBar")],Bc.prototype,"messages",void 0),(0,D._)([(0,A.Cb)()],Bc.prototype,"style",null),(0,D._)([(0,nt.p)("style")],Bc.prototype,"castStyle",null),(0,D._)([(0,A.Cb)()],Bc.prototype,"unit",void 0),(0,D._)([(0,nt.p)("unit")],Bc.prototype,"castUnit",null),(0,D._)([(0,hr.B)("viewModel.view")],Bc.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],Bc.prototype,"viewModel",void 0),Bc=(0,D._)([(0,J.j)("esri.widgets.ScaleBar")],Bc);const Rv=Bc;var Ym=p(55538),ly=p(61996);let ua=class extends((0,ly.IG)(ae.wq)){constructor(g){super(g),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};(0,D._)([(0,A.Cb)()],ua.prototype,"autoNavigate",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"filter",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"getResults",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"getSuggestions",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"maxResults",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"maxSuggestions",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"minSuggestCharacters",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"outFields",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"placeholder",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"popupEnabled",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"popupTemplate",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"prefix",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"resultGraphicEnabled",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"resultSymbol",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"suggestionsEnabled",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"suffix",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"withinViewEnabled",void 0),(0,D._)([(0,A.Cb)()],ua.prototype,"zoomScale",void 0),ua=(0,D._)([(0,J.j)("esri.widgets.Search.SearchSource")],ua);const Qm=ua;var cy=p(83137);const uy=R.Z.getLogger("esri.widgets.Search.support.geometryUtils");function Lv(g,E){var W,ee;if(!E)return uy.error("missing-parameter: view is missing."),Promise.reject(new te.Z("searchgeometryutils:missing-parameter","view is missing."));if(!g)return uy.error("missing-parameter: point is missing."),Promise.reject(new te.Z("searchgeometryutils:missing-parameter","point is missing."));if(g.hasZ||"2d"===E.type)return Promise.resolve(g);const I=null==(W=null==E?void 0:E.map)?void 0:W.ground;return I&&I.layers.length?I.queryElevation(g,{cache:null==(ee=E.basemapTerrain)?void 0:ee.elevationQueryCache}).then(ge=>ge.geometry):Promise.resolve(g)}function Fv(g){if((0,Re.Wi)(g))return null;switch(g.type){case"point":return g;case"extent":return g.center;case"polygon":return g.centroid;case"multipoint":return g.getPoint(0);case"polyline":return g.getPoint(0,0)}return null}function dy(g,E,I){return(0,Re.Wi)(g)?null:"extent"===g.type?g:"multipoint"===g.type||"polygon"===g.type||"polyline"===g.type?g.extent:"point"===g.type?Uv(g,E,I):void 0}function hy(g,E,I){return(0,Re.Wi)(g)||(0,Re.Wi)(E)?null:Uv(g.center,E,I)}function Uv(g,E,I){const W=g.hasZ?g.z:void 0;return E&&E.map?(I?(0,cy.D9)(E,I):E.extent).clone().centerAt(g).set({zmax:W,zmin:W}):new X.Z({xmin:g.x-.25,ymin:g.y-.25,xmax:g.x+.25,ymax:g.y+.25,spatialReference:g.spatialReference,zmin:W,zmax:W})}const py=/https?:\/\/services.*\.arcgis\.com/i,Nf=/(?:\{([^}]+)\})/g,kh=R.Z.getLogger("esri.widgets.Search.support.layerSearchUtils");function Wh(g,E){const{filter:I,withinViewEnabled:W}=g,ee=E&&E.extent;return I&&I.geometry||(W&&ee?ee:void 0)}function my(g){return g&&g.includes("*")}function gy(g){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,k.Z)(function*(g){g&&(yield g.load())}),Xm.apply(this,arguments)}function yy(g){var E,I,W;return null!=(W=null==(I=null==(E=null==g?void 0:g.capabilities)?void 0:E.query)?void 0:I.supportsPagination)&&W}function qm(g){return g.displayField||g.layer.displayField||function jv(g){var E,I,W,ee;return null!=(ee=null==(W=null==(I=null==(E=null==g?void 0:g.fieldsIndex)?void 0:E.fields)?void 0:I.find(ge=>"string"===ge.type))?void 0:W.name)?ee:""}(g.layer)}function jf(g,E){return!(!g||!E)&&E.every(I=>e0(g,I))}function e0(g,E){return!!g.getField(E)}function t0(g){return g.replace(/\'/g,"''")}function Bf(g,E){const I=E&&E.where;return I?`(${g}) AND (${I})`:g}function n0({searchTerm:g,layer:E,searchFields:I,filter:W,exactMatch:ee,type:ge}){const{definitionExpression:Ae,url:He}=E;let gt="";return g&&I&&I.forEach(At=>{const Yt=E.getField(At),ln="function"==typeof E.getFieldDomain&&E.getFieldDomain(At),kn=(ln&&"coded-value"===ln.type?function Bv(g,E,I){let W=null;const{codedValues:ee}=g;return ee&&ee.some(ge=>{const Ae=ge.name,He=I?Ae:Ae.toLowerCase();return(I?E:E.toLowerCase())===He&&(W=ge.code.toString(),!0)}),W}(ln,g,ee):null)||g||null;if(null!==kn){const Fn=function _y({currentTerm:g,field:E,filter:I,exactMatch:W,url:ee,type:ge}){const Ae=E.type,He=E.name;if("string"===Ae||"date"===Ae||"global-id"===Ae){const gt=py.test(ee),At=gt&&function Vh(g){for(let E=0;E<g.length;E++)if(g.charCodeAt(E)>255)return!0;return!1}(g)?"N":"";if(W&&"search"===ge)return Bf(`${He} = ${At}'${g}'`,I);const Yt=gt?He:`UPPER(${He})`,ln=gt?g:g.toUpperCase();return Bf(`${Yt} LIKE ${At}${W?`'${ln}%'`:`'%${ln}%'`}`,I)}if("oid"===Ae||"small-integer"===Ae||"integer"===Ae||"single"===Ae||"double"===Ae){const gt=Number(g);return isNaN(gt)?null:Bf(`${He} = ${gt}`,I)}return Bf(`${He} = ${g}`,I)}({currentTerm:kn,field:Yt,filter:W,exactMatch:ee,url:He,type:ge});Fn&&(gt+=function kv(g,E){return g?` OR (${E})`:`(${E})`}(gt,Fn))}}),Ae?`(${Ae}) AND (${gt})`:gt}function vy(g,E,I){const W=g.sourceLayer,{attributes:ee}=g,ge="function"==typeof W.getFieldDomain&&W.getFieldDomain(I);if(E)return(0,Po.n)(E,ee);if(I&&ee){const Ae=W.getField(I),He=function r0(g,E){return g[Object.keys(g).find(I=>I.toLowerCase()===E.toLowerCase())]}(ee,I);return null==He?"":ge&&"coded-value"===ge.type?function Wv(g,E){let I=null;const{codedValues:W}=g;return W&&W.length&&W.some(ee=>ee.code===E&&(I=ee.name,!0)),I}(ge,He):"date"===(null==Ae?void 0:Ae.type)?(0,ti.p6)(new Date(He)):"number"==typeof He?He.toString():"string"!=typeof He?"":He.trim()}return""}var s0;let Jl=s0=class extends Qm{constructor(g){super(g),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(E,I)=>function Nv(g,E){const{exactMatch:I=!1,location:W,maxResults:ee,spatialReference:ge,source:Ae,sourceIndex:He,suggestResult:gt,view:At}=g,{layer:Yt,filter:ln,zoomScale:kn}=Ae,Fn=At&&At.scale,Or=Wh(Ae,At),$r=E&&E.signal;return gy(Yt).then(()=>{const ui=Yt.popupTemplate;return ui?ui.getRequiredFields(Yt.fieldsIndex):null}).then(ui=>{var va,Bl,cl;const{objectIdField:oi,returnZ:qi}=Yt,es=qm(Ae);if(!e0(Yt,es))throw kh.error("invalid-field: displayField is invalid."),new te.Z("getResults():invalid-field","displayField is invalid.");const xs=Ae.outFields||(ui&&ui.length?ui:[es]),Us=my(xs);if(xs.includes(oi)||Us||xs.push(oi),(null==(va=Yt.floorInfo)?void 0:va.floorField)&&xs.push(Yt.floorInfo.floorField),!Us&&!jf(Yt,xs))throw kh.error("invalid-field: outField is invalid."),new te.Z("getResults():invalid-field","outField is invalid.");const to=Yt.createQuery(),{orderByFields:Na}=Ae;if(Na&&(to.orderByFields=Na),ge){to.outSpatialReference=ge;const Ia=1/(0,Ts.c9)(ge);Ia&&(to.maxAllowableOffset=Ia)}const Ao="mesh"===Yt.geometryType||"multipatch"===Yt.geometryType,Pa=(null==(cl=null==(Bl=Yt.capabilities)?void 0:Bl.data)?void 0:cl.supportsZ)&&!Ao;if(to.returnZ=Pa&&!1!==qi,to.returnGeometry=!0,to.multipatchOption=Ao?"xyFootprint":null,xs&&(to.outFields=xs),W)to.geometry=W;else if(gt.key)to.objectIds=[gt.key];else{const Ia=Ae.searchFields||[es];if(!jf(Yt,Ia))throw kh.error("invalid-field: search field is invalid."),new te.Z("getResults():invalid-field","search field is invalid.");if(yy(Yt)&&(to.num=ee),Or&&(to.geometry=Or),!gt.text.trim())return[];const{prefix:Yl="",suffix:Hh=""}=Ae,Id=n0({searchTerm:t0(`${Yl}${gt.text}${Hh}`),layer:Yt,searchFields:Ia,filter:ln,exactMatch:I,type:"search"});if(!Id)return[];to.where=Id}return Yt.queryFeatures(to,{signal:$r}).then(Ia=>function Zv(g,E,I,W,ee,ge,Ae){return g.features.map(He=>function Vv(g,E,I,W,ee,ge,Ae){const He=g.clone(),gt=g.sourceLayer,At=gt&&gt.objectIdField,Yt=At&&g.attributes[At],ln=vy(g,I.searchTemplate,ee),kn=dy(He.geometry,E,ge),Fn="number"==typeof Ae?hy((0,re.d9)(kn),E,Ae):kn,Or=g.clone();return(0,Re.pC)(Fn)&&(Or.geometry=Vc.Z.fromExtent(Fn)),{extent:Fn,target:Or,feature:He,key:Yt,name:ln,sourceIndex:W}}(He,E,I,W,ee,ge,Ae))}(Ia,At,Ae,He,es,Fn,kn))})}(Nn({source:this},E),I),this.getSuggestions=(E,I)=>function fy(g,E){const{source:I,spatialReference:W,view:ee,suggestTerm:ge,maxSuggestions:Ae,sourceIndex:He,exactMatch:gt}=g,{layer:At,filter:Yt}=I,ln=E&&E.signal,kn=Wh(I,ee);return gy(At).then(()=>{if(!yy(At))return[];const Fn=qm(I),Or=I.searchFields||[Fn],$r=[];I.suggestionTemplate?I.suggestionTemplate.replace(Nf,(Ao,Pa)=>($r.push(Pa),Ao)):$r.push(Fn);const ui=my($r);$r.includes(At.objectIdField)||ui||$r.push(At.objectIdField);const oi=e0(At,Fn),qi=ui||jf(At,$r),es=jf(At,Or);if(!oi)throw kh.error("invalid-field: displayField is invalid."),new te.Z("getSuggestions():invalid-field","displayField is invalid.");if(!qi)throw kh.error("invalid-field: outField is invalid."),new te.Z("getSuggestions():invalid-field","outField is invalid.");if(!es)throw kh.error("invalid-field: search field is invalid."),new te.Z("getSuggestions():invalid-field","search field is invalid.");const Ns=At.createQuery(),{orderByFields:xs}=I;if(xs&&(Ns.orderByFields=xs),Ns.outSpatialReference=W,Ns.returnGeometry=!1,Ns.num=Ae,Ns.outFields=$r,kn&&(Ns.geometry=kn),!ge.trim())return[];const{prefix:Us="",suffix:to=""}=I,Na=n0({searchTerm:t0(`${Us}${ge}${to}`),layer:At,searchFields:Or,filter:Yt,exactMatch:gt,type:"suggest"});return Na?(Ns.where=Na,At.queryFeatures(Ns,{signal:ln}).then(Ao=>function Ey(g,E,I,W){return g.features.map(ee=>function by(g,E,I,W){const ee=g.sourceLayer,{attributes:ge}=g,{objectIdField:Ae}=ee,He=ge[Ae];return{text:vy(g,E.suggestionTemplate,W),key:He,sourceIndex:I}}(ee,E,I,W))}(Ao,I,He,Fn))):[]})}(Nn({source:this},E),I)}set layer(g){this._set("layer",g),g&&g.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(g){void 0!==g?this._override("name",g):this._clearOverride("name")}clone(){return new s0({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,re.d9)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?(0,re.d9)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var g,E;return null!=(E=null==(g=this.layer.fieldsIndex.fields.find(I=>"string"===I.type))?void 0:g.name)?E:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:g,searchFields:E}=this;return g.loaded?`: ${(E||[this._getDisplayField()]).map(I=>{const W=g.getField(I);return W&&W.alias||I}).join(", ")}`:""}_getLayerTitle(){const{layer:g}=this;if(!g)return;const{title:E}=g;return E?`${E}${this._getSearchFieldsString()}`:void 0}};(0,D._)([(0,A.Cb)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Jl.prototype,"displayField",void 0),(0,D._)([(0,A.Cb)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Jl.prototype,"exactMatch",void 0),(0,D._)([(0,A.Cb)({value:null})],Jl.prototype,"layer",null),(0,D._)([(0,A.Cb)()],Jl.prototype,"name",null),(0,D._)([(0,A.Cb)({type:[String],json:{write:!0}})],Jl.prototype,"orderByFields",void 0),(0,D._)([(0,A.Cb)()],Jl.prototype,"searchFields",void 0),(0,D._)([(0,A.Cb)()],Jl.prototype,"searchTemplate",void 0),(0,D._)([(0,A.Cb)()],Jl.prototype,"suggestionTemplate",void 0),Jl=s0=(0,D._)([(0,J.j)("esri.widgets.Search.LayerSearchSource")],Jl);const Zh=Jl;var pu=p(2618);let Dd=class extends ae.wq{constructor(g){super(g),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Dd.prototype,"address",void 0),(0,D._)([(0,A.Cb)({type:Object,json:{write:!0}})],Dd.prototype,"attributes",void 0),(0,D._)([(0,A.Cb)({type:X.Z,json:{write:!0}})],Dd.prototype,"extent",void 0),(0,D._)([(0,A.Cb)({type:Dr.Z,json:{write:!0}})],Dd.prototype,"location",void 0),(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],Dd.prototype,"score",void 0),Dd=(0,D._)([(0,J.j)("esri.rest.support.AddressCandidate")],Dd);const Cy=Dd;var o0=p(74722);let Xa=class extends ae.wq{constructor(g){super(g),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};(0,D._)([(0,A.Cb)({type:Object,json:{write:!0}})],Xa.prototype,"address",void 0),(0,D._)([(0,A.Cb)(o0.q)],Xa.prototype,"apiKey",void 0),(0,D._)([(0,A.Cb)({type:[String],json:{read:{source:"category",reader:g=>g?g.split(","):null},write:{target:"category",writer:(g,E)=>{E.category=g?g.join(","):null}}}})],Xa.prototype,"categories",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Xa.prototype,"countryCode",void 0),(0,D._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],Xa.prototype,"forStorage",void 0),(0,D._)([(0,A.Cb)({type:Dr.Z,json:{write:{writer:(g,E)=>{E.location=g?g.clone().normalize():null}}}})],Xa.prototype,"location",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Xa.prototype,"locationType",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Xa.prototype,"magicKey",void 0),(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],Xa.prototype,"maxLocations",void 0),(0,D._)([(0,A.Cb)({type:[String],json:{write:{writer:(g,E)=>{E.outFields=g?g.join(","):null}}}})],Xa.prototype,"outFields",void 0),(0,D._)([(0,A.Cb)({type:eu.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Xa.prototype,"outSpatialReference",void 0),(0,D._)([(0,A.Cb)({type:X.Z,json:{write:{writer:(g,E)=>{const I=g?g.shiftCentralMeridian():null;E.searchExtent=I}}}})],Xa.prototype,"searchExtent",void 0),Xa=(0,D._)([(0,J.j)("esri.rest.support.AddressToLocationsParameters")],Xa),Xa.from=(0,V.se)(Xa);const a0=Xa;function l0(){return l0=(0,k.Z)(function*(g,E,I){E=a0.from(E);const W=(0,pu.en)(g),Yt=E.toJSON(),{address:ee}=Yt,ge=k1(Yt,["address"]),Ae=Wi(Nn(Nn({},ee),ge),{f:"json"}),He=(0,pu.cv)(Nn(Nn({},W.query),Ae)),gt=(0,pu.lA)(He,I);return(0,pa.default)(`${W.path}/findAddressCandidates`,gt).then(Kv)}),l0.apply(this,arguments)}function Kv({data:g}){if(!g)return[];const{candidates:E,spatialReference:I}=g;return E?E.map(W=>{if(!W)return;const{extent:ee,location:ge}=W,Ae=!ee||function $v(g){return g&&"number"==typeof g.xmin&&"number"==typeof g.ymin&&"number"==typeof g.xmax&&"number"==typeof g.ymax}(ee);return function zv(g){return g&&"number"==typeof g.x&&"number"==typeof g.y}(ge)&&Ae?(ee&&(ee.spatialReference=I),ge.spatialReference=I,Cy.fromJSON(W)):void 0}):[]}let fu=class extends ae.wq{constructor(g){super(g),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};(0,D._)([(0,A.Cb)(o0.q)],fu.prototype,"apiKey",void 0),(0,D._)([(0,A.Cb)({type:Dr.Z,json:{write:{writer:(g,E)=>{const I=g?g.clone().normalize():null;E.location=void 0!==I?I:null}}}})],fu.prototype,"location",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],fu.prototype,"locationType",void 0),(0,D._)([(0,A.Cb)({type:eu.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],fu.prototype,"outSpatialReference",void 0),fu=(0,D._)([(0,J.j)("esri.rest.support.LocationToAddressParameters")],fu),fu.from=(0,V.se)(fu);const wy=fu;function c0(){return c0=(0,k.Z)(function*(g,E,I){E=wy.from(E);const W=(0,pu.en)(g),ee=Wi(Nn({},E.toJSON()),{f:"json"}),ge=(0,pu.cv)(Nn(Nn({},W.query),ee)),Ae=(0,pu.lA)(ge,I);return(0,pa.default)(`${W.path}/reverseGeocode`,Ae).then(u0)}),c0.apply(this,arguments)}function u0({data:g}){if(!g)return;const{address:E,location:I}=g;return Cy.fromJSON({address:E&&E.Match_addr||"",attributes:E||{},location:I,score:100})}let Pd=class extends ae.wq{constructor(g){super(g),this.isCollection=null,this.magicKey=null,this.text=null}};(0,D._)([(0,A.Cb)({type:Boolean,json:{write:!0}})],Pd.prototype,"isCollection",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Pd.prototype,"magicKey",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Pd.prototype,"text",void 0),Pd=(0,D._)([(0,J.j)("esri.rest.support.SuggestionCandidate")],Pd);const Oy=Pd;let Sl=class extends ae.wq{constructor(g){super(g),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};(0,D._)([(0,A.Cb)(o0.q)],Sl.prototype,"apiKey",void 0),(0,D._)([(0,A.Cb)({type:[String],json:{read:{source:"category",reader:g=>g?g.split(","):null},write:{target:"category",writer:(g,E)=>{E.category=g?g.join(","):null}}}})],Sl.prototype,"categories",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Sl.prototype,"countryCode",void 0),(0,D._)([(0,A.Cb)({type:Dr.Z,json:{write:{writer:(g,E)=>{E.location=g?g.clone().normalize():null}}}})],Sl.prototype,"location",void 0),(0,D._)([(0,A.Cb)({type:Number,json:{write:!0}})],Sl.prototype,"maxSuggestions",void 0),(0,D._)([(0,A.Cb)({type:eu.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Sl.prototype,"outSpatialReference",void 0),(0,D._)([(0,A.Cb)({type:X.Z,json:{write:{writer:(g,E)=>{const I=g?g.shiftCentralMeridian():null;E.searchExtent=JSON.stringify(I)}}}})],Sl.prototype,"searchExtent",void 0),(0,D._)([(0,A.Cb)({type:String,json:{write:!0}})],Sl.prototype,"text",void 0),Sl=(0,D._)([(0,J.j)("esri.rest.support.SuggestLocationsParameters")],Sl),Sl.from=(0,V.se)(Sl);const Sy=Sl;function Sp(){return Sp=(0,k.Z)(function*(g,E,I){const W=(0,pu.en)(g),ee=Wi(Nn({},(E=Sy.from(E)).toJSON()),{f:"json"}),ge=(0,pu.cv)(Nn(Nn({},W.query),ee)),Ae=(0,pu.lA)(ge,I);return(0,pa.default)(`${W.path}/suggest`,Ae).then(Jv)}),Sp.apply(this,arguments)}function Jv(g){const{data:E}=g;if(!E)return[];const{suggestions:I}=E;return I?I.map(W=>new Oy(W)):[]}function Py(g,E){if(E.localSearchDisabled)return null;const I=null==g?void 0:g.scale;return"number"==typeof I&&I<=3e5?g.get("extent.center"):null}function Tp(g){return!!g&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(g)}function $h(g,E){const{filter:I,withinViewEnabled:W}=g,ge=E&&E.extent;return dy(I&&I.geometry,E,E&&E.scale)||(W&&ge?ge:void 0)}function xy(g,E){return g.filter(Boolean).map(I=>function e1(g,E){const{key:I,scale:W,sourceIndex:ee,view:ge,zoomScale:Ae,defaultZoomScale:He}=E,{attributes:gt,extent:At,location:Yt,address:ln}=g,kn=new G.Z({geometry:Yt,attributes:gt}),Fn=At||Yt,Or=dy(Fn,ge,W),$r="number"==typeof Ae?hy(Or,ge,Ae):"number"==typeof He&&"point"===Fn.type?hy(Or,ge,He):Or,oi=ln||(Yt?`${Yt.x},${Yt.y}`:""),qi=kn.clone();return(0,Re.pC)($r)&&(qi.geometry=Vc.Z.fromExtent($r)),{extent:$r,feature:kn,target:qi,key:I,name:oi,sourceIndex:ee}}(I,E))}var d0;let qa=d0=class extends Qm{constructor(g){super(g),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(E,I)=>function Dy(g,E){return g.location?function zh(g,E){const{source:I,spatialReference:W,location:ee,sourceIndex:ge,view:Ae}=g,{apiKey:He,url:gt,zoomScale:At,defaultZoomScale:Yt}=I,ln=Ae&&Ae.scale,kn=E&&E.signal,Fn=new wy;return Fn.location=ee,He&&(Fn.apiKey=He),W&&(Fn.outSpatialReference=W),function Gv(g,E,I){return c0.apply(this,arguments)}(gt,Fn,{signal:kn}).then(Or=>xy([Or],{sourceIndex:ge,scale:ln,view:Ae,zoomScale:At,defaultZoomScale:Yt})).catch(()=>[])}(g,E):function qv(g,E){const{source:I,suggestResult:W,spatialReference:ee,view:ge,maxResults:Ae,sourceIndex:He}=g,gt=I&&I.zoomScale,At=I&&I.defaultZoomScale;if(!W.text.trim())return Promise.resolve(null);const kn=`${!W.key&&I.prefix?I.prefix:""}${W.text}${!W.key&&I.suffix?I.suffix:""}`,Fn=new a0,{apiKey:Or,url:$r}=I,ui=ge&&ge.scale,oi=$h(I,ge),qi=E&&E.signal;if(Or&&(Fn.apiKey=Or),!$r)return Promise.resolve(null);I.categories&&(Fn.categories=I.categories),I.locationType&&(Fn.locationType=I.locationType),ee&&(Fn.outSpatialReference=ee);const es=Py(ge,I);es&&(Fn.location=es),Fn.maxLocations=Ae,oi&&(Fn.searchExtent=(0,Re.Wg)(oi)),I.countryCode&&(Fn.countryCode=I.countryCode);const{key:Ns}=W,xs=`${Ns}`;return Ns&&(Fn.magicKey=xs),Fn.address={},Fn.address[I.singleLineFieldName||"Single Line Input"]=kn,I.outFields&&(Fn.outFields=I.outFields),function My(g,E,I){return l0.apply(this,arguments)}($r,Fn,{signal:qi}).then(Us=>xy(Us,{key:xs,scale:ui,sourceIndex:He,view:ge,zoomScale:gt,defaultZoomScale:At}))}(g,E)}(Nn({source:this},E),I),this.getSuggestions=(E,I)=>function Iy(g,E){const{source:I,spatialReference:W,view:ee,suggestTerm:ge,maxSuggestions:Ae,sourceIndex:He}=g,gt=new Sy,{apiKey:At,url:Yt}=I,ln=$h(I,ee),kn=E&&E.signal;if(!Yt)return Promise.resolve(null);At&&(gt.apiKey=At),I.categories&&(gt.categories=I.categories),W&&(gt.outSpatialReference=W);const Fn=Py(ee,I);if(Fn&&(gt.location=Fn),!ge.trim())return Promise.resolve(null);const{prefix:Or="",suffix:$r=""}=I;return gt.text=`${Or}${ge}${$r}`,ln&&(gt.searchExtent=(0,Re.Wg)(ln)),gt.maxSuggestions=Ae,I.countryCode&&(gt.countryCode=I.countryCode),function Hv(g,E,I){return Sp.apply(this,arguments)}(Yt,gt,{signal:kn}).then(oi=>function Ay(g,E){return g.map(I=>function Ab(g,E){return{text:g.text,key:g.magicKey,sourceIndex:E}}(I,E))}(oi,He))}(Nn({source:this},E),I)}clone(){return new d0({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?(0,re.d9)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?(0,re.d9)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};(0,D._)([(0,A.Cb)()],qa.prototype,"apiKey",void 0),(0,D._)([(0,A.Cb)()],qa.prototype,"categories",void 0),(0,D._)([(0,A.Cb)()],qa.prototype,"countryCode",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"defaultZoomScale",void 0),(0,D._)([(0,A.Cb)()],qa.prototype,"localSearchDisabled",void 0),(0,D._)([(0,A.Cb)()],qa.prototype,"locationType",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"name",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"placeholder",void 0),(0,D._)([(0,A.Cb)()],qa.prototype,"searchTemplate",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"singleLineFieldName",void 0),(0,D._)([(0,A.Cb)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],qa.prototype,"suggestionsEnabled",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"url",void 0),(0,D._)([(0,A.Cb)({json:{write:!0}})],qa.prototype,"zoomScale",void 0),qa=d0=(0,D._)([(0,J.j)("esri.widgets.Search.LocatorSearchSource")],qa);const Ry=qa;var h0=p(35540);function Ua(g,E){return g.hasOwnProperty(E)&&null!=g[E]&&""!==g[E]}const Ly="esri.widgets.Search.SearchViewModel",mc=R.Z.getLogger(Ly),p0="highlight",kf=B.Z.ofType({key:g=>g.layer?"layer":"locator",base:Qm,typeMap:{layer:Zh,locator:Ry}}),Fy=eu.Z.WGS84,n1=/<(?:.|\s)*?>/g;let Vs=class extends(bi(_e.Z.EventedMixin(Le.Z))){constructor(g){super(g),this._handles=new Bt.Z,this._gotoController=null,this._searching=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new kf,this.defaultSymbols={point:new Vm.Z({url:(0,da.V)("esri/images/search/search-symbol-32.png"),size:24,width:24,height:24}),polyline:new Vl.Z({color:[130,130,130,1],width:2}),polygon:new Xi.Z({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=Of.Z.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new kf,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){var g=this;const E=function(){var I=(0,k.Z)(function*(){const W=yield(0,Es.ME)("esri/widgets/Search/t9n/Search");g.messages=W,g.defaultPopupTemplate=new If.Z({title:W.searchResult,content:"{Match_addr}"})});return function(){return I.apply(this,arguments)}}();E(),this._handles.add([(0,Ht.YP)(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),Ht.nn),(0,Xu.qe)(E)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?-1:0}set activeSourceIndex(g){void 0!==g?this._override("activeSourceIndex",g):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var g;return null==(g=this.messages)?void 0:g.allPlaceholder}set allPlaceholder(g){g?this._override("allPlaceholder",g):this._clearOverride("allPlaceholder")}get allSources(){const{sources:g,defaultSources:E,includeDefaultSources:I}=this,W="function"==typeof I?I.call(null,{sources:g,defaultSources:E}):I?E.concat(g):g,ee=this._get("allSources")||new kf;return ee.removeAll(),ee.addMany(W.filter(Boolean)),ee}get defaultSymbol(){return(0,Ym.Mr)(mc,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(g){(0,Ym.Mr)(mc,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",g)}get locationEnabled(){return this._get("locationEnabled")||ku()}set locationEnabled(g){if(void 0===g)return void this._clearOverride("locationEnabled");const E=ku();if(g&&!E){const I=new te.Z("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});mc.error(I)}this._override("locationEnabled",g&&E)}get placeholder(){const{allSources:g,activeSourceIndex:E,allPlaceholder:I}=this;if(-1===E)return I;const W=g.getItemAt(E);return W?W.placeholder:""}set searchTerm(g){this._set("searchTerm",g||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==g&&this._set("selectedSuggestion",null),""===g&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(g,E){this.emit("search-start"),this.clearGraphics();const I=this._createSuggestionForSearch(g),W=this.when().then(()=>this._getResultsFromSources(I,E).then(ee=>{var gt;if(null==(gt=(0,Re.Wg)(null==E?void 0:E.signal))?void 0:gt.aborted)return null;const ge={activeSourceIndex:this.activeSourceIndex,searchTerm:I.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(ge,ee,I);const Ae=this._getFirstResult(ge.results),He=(I.location&&Ae?Ae.name:I.text).replace(n1,"");return this._set("searchTerm",He),(I.key&&"number"==typeof I.sourceIndex||I.location)&&this._set("selectedSuggestion",I),this._set("results",ge.results),this._set("resultCount",ge.results.reduce((At,Yt)=>At+Yt.results.length,0)),this.emit("search-complete",ge),this._selectFirstResult(Ae).then(()=>ge)})).then(ee=>(this._clearSearching(),ee),ee=>{throw this._clearSearching(),ee});return this._searching=W,W}searchNearby(g){if(!this.locationEnabled){const I=new te.Z("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return mc.error(I),Promise.reject(I)}const E=iy().then(I=>sy({position:I,view:this.view},g)).then(I=>this.search(I,g));return this._searching=E,E.catch(()=>{}).then(()=>this._clearSearching()),E}select(g){if(this.clearGraphics(),!g){const oi=new te.Z("select:missing-parameter","Cannot select without a searchResult.",{searchResult:g});return mc.error(oi),Promise.reject(oi)}const{view:E}=this,I=Ua(g,"sourceIndex")?g.sourceIndex:this._getSourceIndexOfResult(g),W=this.allSources.getItemAt(I);if(!W){const oi=new te.Z("select:missing-source","Cannot select without a source.",{source:W});return mc.error(oi),Promise.reject(oi)}const ee=W instanceof Zh?this._getLayerSourcePopupTemplate(W):W.popupTemplate,ge=W.resultSymbol||this._getDefaultSymbol(g),Ae=Ua(W,"resultGraphicEnabled")?W.resultGraphicEnabled:this.resultGraphicEnabled,He=Ua(W,"autoNavigate")?W.autoNavigate:this.autoNavigate,gt=Ua(W,"popupEnabled")?W.popupEnabled:this.popupEnabled,At=gt?ee||this.popupTemplate||this.defaultPopupTemplate:null,{feature:Yt}=g;if(!Yt){const oi=new te.Z("select:missing-feature","Cannot select without a feature.",{feature:Yt});return mc.error(oi),Promise.reject(oi)}const{attributes:ln,geometry:kn,layer:Fn,sourceLayer:Or}=Yt,$r=Fv(kn),ui={layerViewQuery:this._getLayerView(Yt),elevationQuery:E&&(0,Re.pC)($r)?Lv($r,E).catch(()=>$r):Promise.resolve($r)};return(0,U.as)(ui).then(oi=>{const qi=oi.layerViewQuery.value,es=oi.elevationQuery.value;ge instanceof h0.Z&&(ge.text=g.name);const Ns=E&&He?g.target||g.extent:null;return((0,Re.pC)(Ns)?this._goToSearchResult(Ns):Promise.resolve()).then(()=>{var Na;const xs=qi?Yt:new G.Z({geometry:kn,symbol:ge,attributes:ln,layer:Fn,sourceLayer:Or,popupTemplate:At}),Us=gt&&(null==(Na=this.view)?void 0:Na.popup),to=Us&&xs.getEffectivePopupTemplate(Us.defaultPopupTemplateEnabled);return to&&E.popup.open({features:[xs],location:es}),qi&&uh(qi)&&!to&&this._highlightFeature({graphic:xs,layerView:qi}),!qi&&Ae&&E&&E.graphics.push(xs),this._setResultFloor(g),this._set("selectedResult",g),this._set("resultGraphic",xs),this.emit("select-result",{result:g,source:W,sourceIndex:I}),g})})}suggest(g,E,I){const W=g||this.searchTerm;return this.emit("suggest-start",{searchTerm:W}),this._suggestTimer(E,I).then(()=>this._suggestImmediate(W,I).then(ee=>(this._set("suggestions",ee.results),this._set("suggestionCount",ee.results.reduce((ge,Ae)=>ge+Ae.results.length,0)),this.emit("suggest-complete",ee),ee)))}when(){var g=this;return(0,k.Z)(function*(){yield(0,Ht.N1)(()=>!g.updating)})()}_update(){var g=this;return(0,k.Z)(function*(){const{portal:E,view:I}=g;if(g.includeDefaultSources){const W=g._updatingPromise=(0,U.as)([null==E?void 0:E.load(),null==I?void 0:I.when()]);if(g.destroyed||(yield W,W!==g._updatingPromise))return}yield(0,Ht.N1)(()=>g.messages),g.destroyed||g._updateDefaultSources(),g._updatingPromise=null})()}_clearSearching(){this._searching=null}_convertHelperServices(){var E,I;const g=null==(I=null==(E=this.portal)?void 0:E.helperServices)?void 0:I.geocode;return g?g.map(W=>{if(!1===W.placefinding)return;const ee=Ne.Z.apiKey&&Tp(W.url)?{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer"}:null,ge=Ry.fromJSON(Nn(Nn({},W),ee)),Ae=ge.url;return(Tp(Ae)||function Qv(g){return!!g&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/i.test(g)}(Ae)||function Ib(g){return!!g&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(g)}(Ae))&&ge.set({singleLineFieldName:"SingleLine",outFields:ge.outFields||["Addr_type","Match_addr","StAddr","City"],placeholder:ge.placeholder||this.messages.placeholder,defaultZoomScale:"number"==typeof ge.defaultZoomScale?ge.defaultZoomScale:2500}),ge.singleLineFieldName?ge:void 0}).filter(Boolean):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(g=>null==g?void 0:g.destroy()),this._createdFeatureLayers=[]}_getLayerSources(g,E){var W;const I=null==(W=this.view)?void 0:W.map;return g.map(ee=>{const ge=I.findLayerById(ee.id);if(!ge)return;const Ae=this._getLayerJSON(ee),He=Zh.fromJSON(Ae);return He.placeholder=E,this._getLayer(ge,Ae).then(gt=>{He.layer=gt}),He}).filter(Boolean).toArray()}_getTableSources(g,E){var W;const I=null==(W=this.view)?void 0:W.map;return g.map(ee=>{const ge=I.findTableById(ee.id);if(!ge)return;const Ae=this._getLayerJSON(ee),He=Zh.fromJSON(Ae);return He.placeholder=E,this._getLayer(ge,Ae).then(gt=>{He.layer=gt}),He}).filter(Boolean).toArray()}_convertApplicationProperties(){var Ae,He,gt;const g=null==(Ae=this.view)?void 0:Ae.map,E=null==(gt=null==(He=null==g?void 0:g.applicationProperties)?void 0:He.viewing)?void 0:gt.search;if(!E)return[];const{enabled:I,hintText:W,layers:ee,tables:ge}=E;return I?[...this._getLayerSources(ee,W),...this._getTableSources(ge,W)]:[]}_getSubLayer(g,E){var I=this;return(0,k.Z)(function*(){if(yield g.load(),!g.allSublayers)throw new Error;const W=g.allSublayers.find(ge=>ge.id===E.subLayer);if(!W)throw new Error;const ee=yield W.createFeatureLayer();return I._createdFeatureLayers.push(ee),ee})()}_getBuildingSubLayer(g,E){return(0,k.Z)(function*(){yield g.load();const I=g.allSublayers.find(W=>W.id===E.subLayer);if("building-component"!==(null==I?void 0:I.type))throw new Error;if(yield I.load(),null==I.associatedLayer)throw new Error;return yield I.associatedLayer.load(),I})()}_getLayer(g,E){return"feature"===g.type||"scene"===g.type||"csv"===g.type||"geojson"===g.type||"ogc-feature"===g.type?Promise.resolve(g):"map-image"===g.type?this._getSubLayer(g,E).catch(()=>{const I=new te.Z("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:g});return mc.error(I),null}):"building-scene"===g.type?this._getBuildingSubLayer(g,E):Promise.resolve(null)}_getLayerJSON(g){return"function"==typeof g.toJSON?g.toJSON():g}_updateDefaultSources(){const{defaultSources:g,includeDefaultSources:E}=this;this._destroyFeatureLayers(),g.removeAll(),E&&g.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var W;const g=null==(W=this.view)?void 0:W.popup,{resultGraphic:E}=this;if(!g||!E)return;const{selectedFeature:I}=g;I&&I===E&&g.close()}_suggestTimer(g,E){return(0,U.e4)(null!=g?g:this.suggestionDelay,null,E&&E.signal)}_createLocationForSearch(g){return g instanceof G.Z?Fv(g.geometry):g instanceof Dr.Z?g:Array.isArray(g)&&2===g.length?new Dr.Z({longitude:g[0],latitude:g[1]}):null}_createSuggestionForSearch(g){if(g&&Ua(g,"key")&&Ua(g,"text")&&Ua(g,"sourceIndex"))return g;const E=this._createLocationForSearch(g),I="string"==typeof g?g:this.searchTerm,{selectedSuggestion:W,selectedResult:ee}=this,ge=!g&&W&&ee;return ge&&W.key===ee.key&&W.sourceIndex===ee.sourceIndex||ge&&W.location?W:{location:(0,Re.Wg)(E),text:E?"":I,sourceIndex:null,key:null}}_getFirstResult(g){let E=null;return g&&g.some(I=>{const{results:W}=I,ee=W[0],ge=!!ee;return ge&&(E=ee),ge}),E}_selectFirstResult(g){return this.autoSelect&&g?this.select(g):Promise.resolve(null)}_suggestImmediate(g,E){return this.when().then(()=>this._getSuggestionsFromSources(g,E)).then(I=>{var ee;if(null==(ee=(0,Re.Wg)(null==E?void 0:E.signal))?void 0:ee.aborted)return null;const W={activeSourceIndex:this.activeSourceIndex,searchTerm:g,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(W,I),W})}_formatSourceResponse(g,E,I){const W=E&&E.value||[],ee=E&&E.error,ge=this.allSources.getItemAt(I);ee?(g.errors.push({sourceIndex:I,source:ge,error:ee}),mc.error(ee),g.numErrors++):(g.results.push({sourceIndex:I,source:ge,results:W}),g.numResults+=W.length)}_formatResponse(g,E,I){if(E)if(-1===g.activeSourceIndex){const W=I&&Ua(I,"sourceIndex")&&-1!==I.sourceIndex?I.sourceIndex:void 0;E.forEach((ee,ge)=>{this._formatSourceResponse(g,ee,void 0!==W?W:ge)})}else this._formatSourceResponse(g,E[0],g.activeSourceIndex)}_getResultsFromSources(g,E){const{allSources:I}=this,W=!g.location&&Ua(g,"sourceIndex")?g.sourceIndex:this.activeSourceIndex,ee=[];if(!I.length){const ge=new te.Z("search:no-sources-defined","At least one source is required.",{allSources:I});return mc.error(ge),Promise.reject(ge)}return-1===W?I.forEach((ge,Ae)=>{ee.push(this._getResultsFromSource(g,Ae,E))}):ee.push(this._getResultsFromSource(g,W,E)),(0,U.as)(ee)}_getSuggestionsFromSources(g,E){const{allSources:I,activeSourceIndex:W}=this,ee=[];if(!I.length){const ge=new te.Z("suggest:no-sources-defined","At least one source is required.",{allSources:I});return mc.error(ge),Promise.reject(ge)}return-1===W?I.forEach((ge,Ae)=>{ee.push(this._getSuggestionsFromSource(g,Ae,E))}):ee.push(this._getSuggestionsFromSource(g,W,E)),(0,U.as)(ee)}_getResultsFromSource(g,E,I){var At;const W=this.allSources.getItemAt(E),{location:ee=null}=g,ge=(null==(At=this.view)?void 0:At.spatialReference)||Fy,Ae=Ua(W,"maxResults")?W.maxResults:this.maxResults,He=!!(W instanceof Zh&&Ua(W,"exactMatch"))&&W.exactMatch,{view:gt}=this;return W.getResults({view:gt,sourceIndex:E,location:ee,suggestResult:g,spatialReference:ge,exactMatch:He,maxResults:Ae},I)}_getSuggestionsFromSource(g,E,I){var He;const W=this.allSources.getItemAt(E),ee=Ua(W,"suggestionsEnabled")?W.suggestionsEnabled:this.suggestionsEnabled,ge=g.length,Ae=Ua(W,"minSuggestCharacters")?W.minSuggestCharacters:this.minSuggestCharacters;if(ee&&g.trim()&&ge>=Ae){const gt=(null==(He=this.view)?void 0:He.spatialReference)||Fy,At=Ua(W,"maxSuggestions")?W.maxSuggestions:this.maxSuggestions,{view:Yt}=this,ln=!!(W instanceof Zh&&Ua(W,"exactMatch"))&&W.exactMatch;return W.getSuggestions({view:Yt,sourceIndex:E,suggestTerm:g,spatialReference:gt,maxSuggestions:At,exactMatch:ln},I)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(g){const{layer:E}=g;if(E)return Ua(g,"popupTemplate")?g.popupTemplate:E.popupTemplate}_getSourceIndexOfResult(g){let I=null;return this.results.some(W=>W.results.some(ee=>ee===g&&(I=W.sourceIndex,!0))),I}_goToSearchResult(g){var E=this;return(0,k.Z)(function*(){const I=!!g;E._abortGoTo();const W=new AbortController;E._gotoController=W;const ee={target:{target:g},options:{animate:I,signal:W.signal}};yield E.callGoTo(ee),E._gotoController=null})()}_getDefaultSymbol(g){var ee;const{defaultSymbols:E}=this,I=null==(ee=g.feature)?void 0:ee.geometry;if((0,Re.Wi)(I))return null;const W=this._get("defaultSymbol");if(W&&("point"===I.type||"multipoint"===I.type))return W;switch(I.type){case"point":case"multipoint":return E.point;case"polyline":return E.polyline;case"extent":case"polygon":return E.polygon;default:return null}}_removeHighlight(){this._handles.remove(p0)}_getLayerView(g){var E=this;return(0,k.Z)(function*(){const{view:I}=E;if(!g||!I||"building-component"===g.layer.type||"subtype-sublayer"===g.layer.type)return null;const{layer:W}=g;return yield I.when(),I.whenLayerView(W)})()}_highlightFeature(g){const{graphic:E,layerView:I}=g,{attributes:W,layer:ee}=E,{objectIdField:ge}=ee,He=I.highlight(W&&W[ge]||E);this._handles.add(He,p0)}_setResultFloor(g){var ee,ge,Ae;const{view:E}=this,I=null==(ee=g.feature)?void 0:ee.attributes,W=null==(ge=g.feature)?void 0:ge.sourceLayer;W&&"floorInfo"in W&&(null==(Ae=null==W?void 0:W.floorInfo)?void 0:Ae.floorField)&&I&&E.emit("select-result-floor",I[W.floorInfo.floorField])}};Vs.ALL_INDEX=-1,(0,D._)([(0,A.Cb)()],Vs.prototype,"_searching",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"_updatingPromise",void 0),(0,D._)([(0,A.Cb)({readOnly:!0,value:null})],Vs.prototype,"activeSource",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"activeSourceIndex",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"allPlaceholder",null),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"allSources",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"autoNavigate",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"autoSelect",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"defaultPopupTemplate",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"defaultSources",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"defaultSymbol",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"defaultSymbols",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"includeDefaultSources",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"locationEnabled",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"maxInputLength",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"maxResults",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"maxSuggestions",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"messages",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"minSuggestCharacters",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"placeholder",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"popupEnabled",void 0),(0,D._)([(0,A.Cb)({type:If.Z})],Vs.prototype,"popupTemplate",void 0),(0,D._)([(0,A.Cb)({type:Of.Z})],Vs.prototype,"portal",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"resultCount",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"resultGraphicEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"resultGraphic",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"results",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"selectedSuggestion",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"searchAllEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"selectedResult",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"searchTerm",null),(0,D._)([(0,A.Cb)({type:kf})],Vs.prototype,"sources",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"state",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"suggestionDelay",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"suggestionCount",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"suggestions",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"suggestionsEnabled",void 0),(0,D._)([(0,A.Cb)({readOnly:!0})],Vs.prototype,"updating",null),(0,D._)([(0,A.Cb)()],Vs.prototype,"view",void 0),(0,D._)([(0,A.Cb)()],Vs.prototype,"clear",null),Vs=(0,D._)([(0,J.j)(Ly)],Vs);const Kh=Vs;let Vu=class extends Ii.Z{constructor(g,E){super(g,E),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){return(0,vn.u)("div",{class:"esri-search-result-renderer esri-widget"},(0,vn.u)("div",{key:"esri-search-renderer__container",class:this.classes("esri-search-result-renderer__more-results",{"esri-search-result-renderer__more-results--show-more-results":this.showMoreResultsOpen})},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return(0,vn.u)("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var I;const g=null==(I=this.viewModel)?void 0:I.selectedResult;return(0,vn.u)("div",{key:"esri-search-renderer__result-name",class:"esri-search-result-renderer__more-results-item"},g&&g.name||"")}renderMoreResultsLists(){var W;const g=null==(W=this.viewModel)?void 0:W.results,{resultCount:E}=this.viewModel;if(E<2)return null;const I=g.map(ee=>this.renderMoreResultsList(ee));return(0,vn.u)("div",{key:"esri-search-renderer__more-results-container",class:"esri-search-result-renderer__more-results-list"},I)}renderMoreResultsButton(){const{messages:g}=this,{resultCount:E}=this.viewModel;return E<2?null:(0,vn.u)("div",{key:"esri-search-renderer__more-results-button",class:"esri-search-result-renderer__more-results-item"},(0,vn.u)("a",{class:"esri-widget__anchor",href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?g.hideMoreResults:g.showMoreResults))}renderMoreResultsHeader(g,E){return(0,vn.u)("div",{key:`esri-search-result-renderer__header-${E}`,class:"esri-search-result-renderer__more-results-list-header"},g)}renderMoreResultsList(g){var Yt,ln;const{results:E}=g,I=E.length,W=!!I,ee=null==(Yt=this.viewModel)?void 0:Yt.selectedResult,ge=1===I&&E[0]===ee,Ae=this._getSourceName(g.source,g.sourceIndex),He=(null==(ln=this.viewModel)?void 0:ln.results.length)>1&&!ge?this.renderMoreResultsHeader(Ae,g.sourceIndex):null,gt=W&&E.map((kn,Fn)=>this.renderMoreResultsListItem(kn,Fn)),At=W&&!ge?(0,vn.u)("ul",{key:`esri-search-result-renderer__list-${g.sourceIndex}`},gt):null;return W?(0,vn.u)("div",{key:`esri-search-result-renderer__results-${g.sourceIndex}`},He,At):null}renderMoreResultsListItem(g,E){return g!==this.get("viewModel.selectedResult")?(0,vn.u)("li",{key:`esri-search-result-renderer__list-item-${E}`},(0,vn.u)("a",{class:"esri-widget__anchor",href:"#",tabindex:"0",bind:this,"data-result":g,onclick:this._selectResultClick,onkeydown:this._selectResultClick},g.name)):null}_showMoreResultsClick(g){g.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const E=this.get("viewModel.view.popup");E&&E.reposition()}_selectResultClick(g){g.preventDefault(),this.viewModel&&this.viewModel.select(g.currentTarget["data-result"])}_getSourceName(g,E){return E===Kh.ALL_INDEX?this.messages.all:g.name}};(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Search/t9n/Search")],Vu.prototype,"messages",void 0),(0,D._)([(0,A.Cb)()],Vu.prototype,"showMoreResultsOpen",void 0),(0,D._)([(0,A.Cb)()],Vu.prototype,"viewModel",void 0),(0,D._)([(0,co.h)()],Vu.prototype,"_showMoreResultsClick",null),(0,D._)([(0,co.h)()],Vu.prototype,"_selectResultClick",null),Vu=(0,D._)([(0,J.j)("esri.widgets.Search.SearchResultRenderer")],Vu);const Gh=Vu,ls_button="esri-widget--button",Uy=/<[a-z/][\s\S]*>/i;let $s=class extends Ii.Z{constructor(g,E){super(g,E),this._activeMenuItemIndex=-1,this._handles=new Bt.Z,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new Gh,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass="esri-icon-search",this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new Kh,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=I=>{var ee;const W=I.relatedTarget;W&&(null==(ee=this._container)?void 0:ee.contains(W))||this._clearActiveMenu()},this.own([(0,Ht.YP)(()=>this.searchTerm,I=>{(I&&"warning"===this.activeMenu||!I&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),(0,Ht.on)(()=>{var I;return null==(I=this.viewModel)?void 0:I.allSources},"change",()=>this._watchSourceChanges()),(0,Ht.YP)(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),Ht.nn),(0,Ht.YP)(()=>{var I;return null==(I=this.viewModel)?void 0:I.defaultPopupTemplate},I=>{I&&(I.content=this._renderSearchResultsContent.bind(this))},Ht.nn)])}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var g;null==(g=this._inputNode)||g.focus(),this.emit("search-focus")}blur(){var g;null==(g=this._inputNode)||g.blur(),this.emit("search-blur")}search(g){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const E=new AbortController,{signal:I}=E;return this._searchController=E,this.viewModel.search(g,{signal:I}).catch(W=>{if(this._searchController===E)return this._clearActiveMenu(),this._searchController=null,W}).then(W=>{if(this._searchController===E)return this.activeMenu=W.numResults?"none":"warning",this._searchController=null,W})}suggest(g){this._cancelSuggest();const E=new AbortController,{signal:I}=E;return this._suggestController=E,this.viewModel.suggest(g,null,{signal:I}).then(W=>{if(this._suggestController===E)return this._suggestController=null,W.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),W}).catch(()=>{if(this._suggestController===E)return this._suggestController=null,null})}render(){const{state:g}=this.viewModel;return(0,vn.u)("div",{class:this.classes("esri-search esri-widget",{"esri-disabled":"disabled"===g,"esri-widget--disabled":this.disabled})},"loading"===g?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:g,disabled:E}=this;return(0,vn.u)("button",{"aria-label":g.searchButtonTitle,bind:this,disabled:E,class:this.classes("esri-search__submit-button",ls_button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:g.searchButtonTitle,type:"button"},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-search"}))}renderWarningMenu(){return(0,vn.u)("div",{key:"esri-search__error-menu",class:this.classes("esri-menu","esri-search__warning-menu")},(0,vn.u)("div",{class:"esri-search__warning-body"},this.renderWarning()))}renderSourceMenuButton(){const{messages:g,activeMenu:E,sourceMenuId:I,sourceMenuButtonId:W,disabled:ee}=this,{activeSourceIndex:ge,allSources:Ae}=this.viewModel;return Ae.length>1?(0,vn.u)("button",{id:W,key:"esri-search__source-menu-button",bind:this,disabled:ee,"aria-label":g.searchIn,title:g.searchIn,"aria-haspopup":"true","aria-expanded":("source"===E).toString(),"aria-controls":I,class:this.classes("esri-search__sources-button",ls_button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:eo.Yo,"data-node-ref":"_sourceMenuButtonNode",type:"button"},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-down-arrow esri-search__sources-button--down"}),(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-up-arrow esri-search__sources-button--up"}),(0,vn.u)("span",{class:"esri-search__source-name"},this._getSourceName(ge))):null}renderSourcesList(){const{allSources:g,searchAllEnabled:E}=this.viewModel,{_activeMenuItemIndex:I,activeMenu:W,sourceMenuId:ee,sourceMenuButtonId:ge}=this,Ae="source"===W&&I>-1?this._buildId("source-item",I):null;return g.length>1?(0,vn.u)("ul",{"aria-activedescendant":Ae,"aria-labelledby":ge,id:ee,role:"menu",bind:this,afterCreate:eo.Yo,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:"esri-menu__list",tabIndex:-1},E?this.renderSource(Kh.ALL_INDEX):null,g.map((He,gt)=>this.renderSource(gt)).toArray()):null}renderSourcesMenu(){const{allSources:g}=this.viewModel;return g.length>1?(0,vn.u)("div",{key:"esri-search__source-menu",class:this.classes("esri-menu","esri-search__sources-menu")},this.renderSourcesList()):null}renderLoader(){const{messages:g,messagesCommon:E,disabled:I}=this;return(0,vn.u)("div",{class:"esri-widget__loader",key:"base-loader",tabIndex:I?-1:null},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-widget__loader-animation"}),(0,vn.u)("span",{class:"esri-icon-font-fallback-text"},g.searchButtonTitle),(0,vn.u)("span",{class:"esri-widget__loader-text"},E.loading))}renderContainer(){const{allSources:g,state:E}=this.viewModel,{activeMenu:I}=this;return(0,vn.u)("div",{tabIndex:-1,afterCreate:ee=>{this._container=ee,ee.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:ee=>{ee.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes({"esri-search--multiple-sources":g.length>1,"esri-search--loading":"loading"===E,"esri-search--searching":"searching"===E,"esri-search--warning":"warning"===I,"esri-search--sources":"source"===I,"esri-search--show-suggestions":"suggestion"===I},"esri-search__container"),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?(0,vn.u)("button",{bind:this,disabled:this.disabled,class:this.classes("esri-search__clear-button",ls_button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-close"})):null}renderLocationGroup(){const{messages:g,locationEnabled:E,displayedSearchTerm:I}=this,ee="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return E&&!I?(0,vn.u)("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes("esri-menu__list","esri-search__suggestions-list","esri-search__suggestions-list--current-location")},(0,vn.u)("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes("esri-menu__list-item",ee?"esri-menu__list-item--focus":null)},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-locate-circled"})," ",g.useCurrentLocation)):null}renderInput(){const{activeMenu:g,locationEnabled:E,displayedSearchTerm:I,messages:W,suggestionsMenuId:ee,inputId:ge,_activeMenuItemIndex:Ae,disabled:He}=this,{maxInputLength:gt,placeholder:At,searchTerm:Yt,suggestionCount:ln}=this.viewModel,kn=!((!E||I)&&!ln),Fn="suggestion"===g&&Ae>-1?this._buildId("suggestion-item",Ae):null;return(0,vn.u)("input",{"aria-activedescendant":Fn,"aria-autocomplete":"list","aria-expanded":(kn&&"suggestion"===g).toString(),"aria-controls":kn?ee:null,"aria-haspopup":"listbox","aria-label":W.searchButtonTitle,bind:this,disabled:He,placeholder:At,maxlength:gt,autocomplete:"off",type:"text",class:this.classes("esri-input","esri-search__input"),value:Yt,id:ge,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:eo.Yo,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:Yt?"":At})}renderForm(){return(0,vn.u)("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(g){const{sourceIndex:E}=g,W=g.results;return g.results.length?(0,vn.u)("ul",{role:"group",key:`esri-search__suggestion-list-${E}`,class:this.classes("esri-menu__list","esri-search__suggestions-list")},W.map(ee=>this.renderSuggestion(ee,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:g}=this.viewModel;return g?g.map(E=>[this.renderSuggestionHeader(E),this.renderSuggestList(E)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:g,locationEnabled:E,suggestionsMenuId:I,inputId:W}=this,{suggestionCount:ee}=this.viewModel,ge=E&&!g||ee;return this._menuItemCount=0,ge?(0,vn.u)("div",{id:I,key:"esri-search__suggestions-menu",class:this.classes("esri-menu","esri-search__suggestions-menu"),role:"listbox","aria-labelledby":W,bind:this,afterCreate:eo.Yo,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return(0,vn.u)("div",{key:"esri-search__input-container",class:"esri-search__input-container"},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(g){const{allSources:E,activeSourceIndex:I}=this.viewModel,{sourceIndex:W}=g;return g.results.length&&E.length>1&&I===Kh.ALL_INDEX?(0,vn.u)("div",{key:`esri-search__suggestion-header-${W}`,class:"esri-menu__header"},this._getSourceName(W)):null}renderSuggestion(g,E){const{_activeMenuItemIndex:I,messages:W}=this,{searchTerm:ee}=this.viewModel;if(ee){const{text:ge}=g,Ae=ge||W.untitledResult,He=Uy.test(Ae),gt=[];if(He)gt.push((0,vn.u)("div",{innerHTML:Ae}));else{const Yt=this._splitResult(Ae,ee),ln=ee.toLowerCase();Yt.forEach((kn,Fn)=>{kn&&kn.length&&(kn.toLowerCase()===ln?gt.push((0,vn.u)("strong",{key:Fn},kn)):gt.push(kn))})}const At="suggestion"===this.activeMenu&&I===E;return(0,vn.u)("li",{bind:this,id:this._buildId("suggestion-item",E),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===E).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${E}`,"data-suggestion":g,role:"option",class:this.classes("esri-menu__list-item",At?"esri-menu__list-item--focus":null)},gt)}}renderSource(g){const{activeSourceIndex:E,searchAllEnabled:I}=this.viewModel,W={"esri-menu__list-item--active":g===E,"esri-menu__list-item--focus":"source"===this.activeMenu&&g===(I?this._activeMenuItemIndex-1:this._activeMenuItemIndex)};return(0,vn.u)("li",{bind:this,key:`esri-search__source-${g}`,id:this._buildId("source-item",I?g+1:g),"aria-checked":(g===E).toString(),onclick:this._handleSourceClick,"data-source-index":g,role:"menuitemradio",class:this.classes("esri-search__source","esri-menu__list-item",W)},this._getSourceName(g))}renderNoResultsWarning(g){const{messages:E}=this,I=g?(0,Po.n)(E.noResultsFoundForValue,{value:`"${g}"`}):E.noResultsFound;return(0,vn.u)("div",{key:"esri-search__no_results"},(0,vn.u)("div",{class:"esri-search__warning-header"},E.noResults),(0,vn.u)("div",{class:"esri-search__warning-text"},I))}renderEmptySearchWarning(){const{messages:g}=this;return(0,vn.u)("div",{key:"esri-search__empty-search"},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),(0,vn.u)("span",{class:"esri-search__no-value-text"},g.emptyValue))}renderLocateWarning(){const{messages:g}=this;return(0,vn.u)("div",{key:"esri-search__locate-error"},(0,vn.u)("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),(0,vn.u)("span",{class:"esri-search__no-value-text"},g.locateError))}renderWarning(){var W;const{displayedSearchTerm:g,_locateFailed:E}=this,{viewModel:I}=this;return E?this.renderLocateWarning():(null==(W=I.selectedSuggestion)?void 0:W.location)||g?this.renderNoResultsWarning(g):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(g,E){return`${this.id}-${g}${void 0===E?"":`-${E}`}`}_watchSourceChanges(){const{_handles:g,viewModel:{allSources:E}}=this,I="sources";g.remove(I),E.forEach(W=>g.add((0,Ht.YP)(()=>W.name,()=>this.scheduleRender()),I))}_handleSourcesMenuToggleFocus(){"source"!==this.activeMenu&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var E;this.activeMenu="source"===this.activeMenu?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(E=this._sourceListNode)||E.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(g){const E=g.currentTarget["data-suggestion"];E&&(this._focus(),this.search(E))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const g=new AbortController,{signal:E}=g;this._searchController=g,this.viewModel.searchNearby({signal:E}).then(I=>{this.activeMenu=I.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(g){this._setSourceFromMenuItem(g.currentTarget)}_setSourceFromMenuItem(g){var I;g&&(this.viewModel.activeSourceIndex=g["data-source-index"],this._clearActiveMenu(),null==(I=this._sourceMenuButtonNode)||I.focus())}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(g){var ee;const E=(0,fi.kK)(g);if(g.ctrlKey||g.metaKey||"Copy"===E||"ArrowLeft"===E||"ArrowRight"===E||"Shift"===E)return;if("Tab"===E||"Escape"===E||g.shiftKey&&"Tab"===E)return this._cancelSuggest(),void("Escape"===E&&this._clearActiveMenu());const I="Home"===E||"End"===E||"ArrowUp"===E||"ArrowDown"===E;if("Enter"===E&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const W=null==(ee=this._suggestionListNode)?void 0:ee.getElementsByTagName("li");if(null==W?void 0:W.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),I)return g.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(E,W,this._suggestionListNode);const ge=W[this._activeMenuItemIndex];if("Enter"===E&&ge){const Ae=ge["data-suggestion"];return void(Ae?(this._focus(),this.search(Ae)):ge["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(g,E,I){const W=this._activeMenuItemIndex;"Home"===g&&(this._activeMenuItemIndex=0),"End"===g&&(this._activeMenuItemIndex=E.length-1),"ArrowUp"===g&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?E.length-1:this._activeMenuItemIndex-1),"ArrowDown"===g&&(this._activeMenuItemIndex=this._activeMenuItemIndex===E.length-1?0:this._activeMenuItemIndex+1),W!==this._activeMenuItemIndex&&(0,eo._q)(E[this._activeMenuItemIndex],I)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(g){const E=g.target;this.viewModel.searchTerm!==E.value&&(this.viewModel.searchTerm=E.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(g){const E=(0,fi.kK)(g);if((0,eo.pf)(E)){g.preventDefault();const I=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(I)}else"ArrowUp"!==E&&"ArrowDown"!==E&&"End"!==E&&"Home"!==E||g.preventDefault()}_handleSourceMenuKeyup(g){var ee,ge;const E=(0,fi.kK)(g),I="ArrowUp"===E||"ArrowDown"===E||"End"===E||"Home"===E;if(I&&g.preventDefault(),"Escape"===E)return this._clearActiveMenu(),void(null==(ee=this._sourceMenuButtonNode)||ee.focus());const W=null==(ge=this._sourceListNode)?void 0:ge.getElementsByTagName("li");return W&&0!==W.length&&I?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(E,W,this._sourceListNode.parentElement)):void 0}_focus(g){this.focus(),g&&(this.activeMenu=g)}_formSubmit(g){g.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(g){const{messages:E}=this,I=this.viewModel,{allSources:W}=I,ee=W.getItemAt(g);return g===Kh.ALL_INDEX?E.all:ee&&ee.name||E.untitledSource}_splitResult(g,E){const I=(0,Bi.Qs)(E);return g.replace(new RegExp(`(^|)(${I})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};(0,D._)([(0,A.Cb)()],$s.prototype,"_activeMenuItemIndex",void 0),(0,D._)([(0,A.Cb)()],$s.prototype,"displayedSearchTerm",null),(0,D._)([(0,A.Cb)({readOnly:!0})],$s.prototype,"inputId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],$s.prototype,"suggestionsMenuId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],$s.prototype,"sourceMenuId",null),(0,D._)([(0,A.Cb)({readOnly:!0})],$s.prototype,"sourceMenuButtonId",null),(0,D._)([(0,A.Cb)()],$s.prototype,"activeMenu",void 0),(0,D._)([(0,hr.B)("viewModel.activeSource")],$s.prototype,"activeSource",void 0),(0,D._)([(0,hr.B)("viewModel.activeSourceIndex")],$s.prototype,"activeSourceIndex",void 0),(0,D._)([(0,hr.B)("viewModel.allPlaceholder")],$s.prototype,"allPlaceholder",void 0),(0,D._)([(0,hr.B)("viewModel.allSources")],$s.prototype,"allSources",void 0),(0,D._)([(0,hr.B)("viewModel.autoNavigate")],$s.prototype,"autoNavigate",void 0),(0,D._)([(0,hr.B)("viewModel.autoSelect")],$s.prototype,"autoSelect",void 0),(0,D._)([(0,hr.B)("viewModel.defaultSources")],$s.prototype,"defaultSources",void 0),(0,D._)([(0,A.Cb)()],$s.prototype,"disabled",void 0),(0,D._)([(0,hr.B)("viewModel.goToOverride")],$s.prototype,"goToOverride",void 0),(0,D._)([(0,A.Cb)()],$s.prototype,"iconClass",void 0),(0,D._)([(0,hr.B)("viewModel.includeDefaultSources")],$s.prototype,"includeDefaultSources",void 0),(0,D._)([(0,A.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],$s.prototype,"label",void 0),(0,D._)([(0,hr.B)("viewModel.locationEnabled")],$s.prototype,"locationEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.maxResults")],$s.prototype,"maxResults",void 0),(0,D._)([(0,hr.B)("viewModel.maxSuggestions")],$s.prototype,"maxSuggestions",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/widgets/Search/t9n/Search")],$s.prototype,"messages",void 0),(0,D._)([(0,A.Cb)(),(0,ao.H)("esri/t9n/common")],$s.prototype,"messagesCommon",void 0),(0,D._)([(0,hr.B)("viewModel.minSuggestCharacters")],$s.prototype,"minSuggestCharacters",void 0),(0,D._)([(0,hr.B)("viewModel.popupEnabled")],$s.prototype,"popupEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.popupTemplate")],$s.prototype,"popupTemplate",void 0),(0,D._)([(0,hr.B)("viewModel.portal")],$s.prototype,"portal",void 0),(0,D._)([(0,hr.B)("viewModel.resultGraphic")],$s.prototype,"resultGraphic",void 0),(0,D._)([(0,hr.B)("viewModel.resultGraphicEnabled")],$s.prototype,"resultGraphicEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.results")],$s.prototype,"results",void 0),(0,D._)([(0,hr.B)("viewModel.searchAllEnabled")],$s.prototype,"searchAllEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.searchTerm")],$s.prototype,"searchTerm",void 0),(0,D._)([(0,hr.B)("viewModel.selectedResult")],$s.prototype,"selectedResult",void 0),(0,D._)([(0,hr.B)("viewModel.sources")],$s.prototype,"sources",void 0),(0,D._)([(0,hr.B)("viewModel.suggestions")],$s.prototype,"suggestions",void 0),(0,D._)([(0,hr.B)("viewModel.suggestionsEnabled")],$s.prototype,"suggestionsEnabled",void 0),(0,D._)([(0,hr.B)("viewModel.view")],$s.prototype,"view",void 0),(0,D._)([ma(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),(0,A.Cb)({type:Kh})],$s.prototype,"viewModel",void 0),(0,D._)([(0,hr.B)("viewModel.clear")],$s.prototype,"clear",null),$s=(0,D._)([(0,J.j)("esri.widgets.Search")],$s);const xb=$s;var Ny=p(77579),Rb=p(34986),jy=p(54482),m0=p(25403),ky=p(71884),Wy=p(5454),g0=p(37968);const Vy=["MapViewNode"];let y0=(()=>{class g{constructor(I){this.logger=I,this.onMapLoad=new d.vpe,this.onMapClick=new d.vpe,this.onMapZoom=new d.vpe,this.onSearchByGraphic=new d.vpe,this.onSearchByQuery=new d.vpe,this.screenBrakepoint=!1}ngOnInit(){this.screenBrakepoint=!(window.innerWidth<=Wy.x.LG_BRAKEPOINT)}loadMap(I){var W;this.logger.debug("EsriMapComponent.loadMap.");const{id:ee,spatialReference:ge,title:Ae,thumbnailUrl:He}=I.baseMap.properties,{copyright:gt,id:At,urlTemplate:Yt,visible:ln}=I.baseMap.layer,{center:kn,constraints:Fn,extent:Or,zoom:$r}=I.mapView.properties,ui=[new Z.default({copyright:gt,id:At,urlTemplate:Yt,visible:ln})],oi=new v.default({baseLayers:ui,id:ee,spatialReference:ge,title:Ae,thumbnailUrl:He});this.map=new In({basemap:oi}),this.view=new xh({map:this.map,container:null===(W=this.mapViewNode)||void 0===W?void 0:W.nativeElement,extent:new X.Z(Or),center:kn,zoom:$r,constraints:Fn});const qi=new Ny.x;this.view.watch("zoom",es=>{qi.next(es)}),qi.pipe(function By(g,E=Rb.z){return(0,jy.e)((I,W)=>{let ee=null,ge=null,Ae=null;const He=()=>{if(ee){ee.unsubscribe(),ee=null;const At=ge;ge=null,W.next(At)}};function gt(){const At=Ae+g,Yt=E.now();if(Yt<At)return ee=this.schedule(void 0,At-Yt),void W.add(ee);He()}I.subscribe((0,m0.x)(W,At=>{ge=At,Ae=E.now(),ee||(ee=E.schedule(gt,g),W.add(ee))},()=>{He(),W.complete()},void 0,()=>{ge=ee=null}))})}(700),(0,ky.x)()).subscribe(es=>this.onMapZoom.emit(es)),this.view.on("click",es=>{this.onMapClick.emit(es)}),this.view.when(()=>{this.logger.debug("EsriMapComponent.loadMap: map initialized."),this.onMapLoad.emit(!0)})}drawPinMarker(I,W){this.logger.debug("EsriMapComponent.drawPinMarker."),this.view.graphics.remove(this.pinMarker),this.pinMarker=new G.Z({geometry:W,symbol:I}),this.view.graphics.add(this.pinMarker)}addFeatureLayer(I){this.logger.debug("EsriMapComponent.addFeatureLayer.");const{id:W,renderer:ee,url:ge,visible:Ae,outFields:He,spatialReference:gt}=I,At=Wn.i(ee),Yt=new z.default({id:W,renderer:At,url:ge,visible:Ae,outFields:He,spatialReference:gt});this.map.add(Yt)}changeSymbolLayer(I,W){this.logger.debug("EsriMapComponent.changeSymbolLayer.");const ee=this.map.findLayerById(I),ge=Wn.i(W);ee.renderer=ge}addHome(I){this.logger.debug("EsriMapComponent.addHome.");const{index:W,position:ee}=I.config,{visible:ge}=I.properties,Ae=new Xg({visible:ge,view:this.view});this.view.ui.add(Ae,{index:W,position:ee})}addLocate(I){this.logger.debug("EsriMapComponent.addLocate.");const{index:W,position:ee}=I.config,{visible:ge}=I.properties,{properties:Ae}=I.pinMarker,He=new Af({graphic:void 0,visible:ge,view:this.view});this.view.ui.add(He,{index:W,position:ee}),He.on("locate",gt=>{const{longitude:At,latitude:Yt}=gt.position.coords;this.drawPinMarker(Ae,{type:"point",longitude:At,latitude:Yt})})}addSearch(I){this.logger.debug("EsriMapComponent.addSearch.");const{index:W,position:ee}=I.config,{includeDefaultSources:ge,suggestionsEnabled:Ae,locationEnabled:He,sources:gt}=I.properties;let{allPlaceholder:At}=I.properties;const{properties:Yt}=I.pinMarker,ln=[];for(const Fn of gt){const Or=Object.assign({},Fn);Or.layer=this.map.findLayerById(Fn.layer),Or.placeholder="Rechercher",ln.push(Or)}At="Rechercher";const kn=new xb({allPlaceholder:At,includeDefaultSources:ge,suggestionsEnabled:Ae,locationEnabled:He,sources:ln,view:this.view});if(this.screenBrakepoint)this.view.ui.add(kn,{index:W,position:ee});else{const Fn=new Df({content:kn,label:At,visible:!0,view:this.view});this.view.ui.add(Fn,{index:W,position:ee})}kn.on("select-result",Fn=>{this.drawPinMarker(Yt,Fn.result.target.geometry)})}addBasemapGallery(I){this.logger.debug("EsriMapComponent.addBasemapGallery.");const{expand:W,index:ee,position:ge}=I.config,{label:Ae,disabled:He,visible:gt}=I.properties,{baseLayers:At}=I,Yt=[];for(const kn of At){const{id:Fn,spatialReference:Or,title:$r,thumbnailUrl:ui}=kn.properties,{copyright:oi,id:qi,urlTemplate:es}=kn.layer,Ns=[new Z.default({copyright:oi,id:qi,urlTemplate:es})];Yt.push(new v.default({baseLayers:Ns,id:Fn,spatialReference:Or,title:$r,thumbnailUrl:ui}))}const ln=new gv({disabled:He,source:Yt,visible:gt,view:this.view});if(W){const kn=new Df({content:ln,label:Ae,visible:gt,view:this.view});this.view.ui.add(kn,{index:ee,position:ge})}else this.view.ui.add(ln,{index:ee,position:ge})}addBasemapToggle(I){this.logger.debug("EsriMapComponent.addBasemapToggle.");const{index:W,position:ee}=I.config,{nextBasemap:ge,layer:Ae,label:He,visible:gt,visibleElements:At}=I.properties,{id:Yt,spatialReference:ln,title:kn,thumbnailUrl:Fn}=ge,{copyright:Or,id:$r,urlTemplate:ui}=Ae,oi=[new Z.default({copyright:Or,id:$r,urlTemplate:ui})],qi=new v.default({baseLayers:oi,id:Yt,spatialReference:ln,title:kn,thumbnailUrl:Fn}),es=new Yg({label:He,nextBasemap:qi,visibleElements:At,visible:gt,view:this.view});this.view.ui.add(es,{index:W,position:ee})}addScaleBar(I){this.logger.debug("EsriMapComponent.addScaleBar.");const{index:W,position:ee}=I.config,{unit:ge,style:Ae,visible:He}=I.properties,gt=new Rv({style:Ae,unit:ge,visible:He,view:this.view});this.view.ui.add(gt,{index:W,position:ee})}goTo(I,W){return this.logger.debug("EsriMapComponent.mapPoint."),this.view.goTo({target:I,zoom:W})}searchByGraphics(I,W){this.logger.debug("EsriMapComponent.searchByGraphics.");const ee=[];for(const Ae of W){const He=this.map.findLayerById(Ae);ee.push(He)}this.view.hitTest(I,{include:ee}).then(Ae=>{this.onSearchByGraphic.emit(Ae.results)})}searchByQuery(I,W){this.logger.debug("EsriMapComponent.searchByQuery.");const ee=[];for(const ge of I){const{id:Ae,queryLayer:{outFields:He,where:gt,returnQueryGeometry:At,distance:Yt,units:ln}}=ge,kn=this.map.findLayerById(Ae),Fn=kn.createQuery();Fn.outFields=He,Fn.where=gt,Fn.returnQueryGeometry=At,Fn.distance=Yt,Fn.units=ln,W&&(Fn.geometry=W),ee.push(kn.queryFeatures(Fn))}Promise.all(ee).then(ge=>{this.onSearchByQuery.emit(ge)})}destroyMap(){var I;this.logger.debug("EsriMapComponent.destroyMap: map destroyed."),null===(I=this.view)||void 0===I||I.destroy()}}return g.\u0275fac=function(I){return new(I||g)(d.Y36(g0.Kf))},g.\u0275cmp=d.Xpm({type:g,selectors:[["app-esri-map"]],viewQuery:function(I,W){if(1&I&&d.Gf(Vy,7),2&I){let ee;d.iGM(ee=d.CRH())&&(W.mapViewNode=ee.first)}},outputs:{onMapLoad:"onMapLoad",onMapClick:"onMapClick",onMapZoom:"onMapZoom",onSearchByGraphic:"onSearchByGraphic",onSearchByQuery:"onSearchByQuery"},decls:2,vars:0,consts:[[3,"screenBrakepoint"],["MapViewNode",""]],template:function(I,W){1&I&&(d.TgZ(0,"div",0,1),d.NdJ("screenBrakepoint",function(ge){return W.screenBrakepoint=ge}),d.qZA())},styles:['@import"https://js.arcgis.com/4.19/@arcgis/core/assets/esri/themes/light/main.css";.esri-view[_ngcontent-%COMP%]{padding:0;margin:0;height:700px;width:100%}']}),g})(),r1=(()=>{class g{}return g.CONFIG={version:"4.24",map:{baseMap:{properties:{id:"pixelkarte-farbe-basemap",spatialReference:{wkid:102100},title:"Color-pixel",thumbnailUrl:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/10/532/363.jpeg"},layer:{id:"ch.swisstopo.pixelkarte-farbe",copyright:"\xa9 swisstopo, \xa9 MapTiler, \xa9 OpenStreetMap contributors",urlTemplate:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{level}/{col}/{row}.jpeg",visible:!0}},mapView:{properties:{center:[843930.94,5820199.75],constraints:{minZoom:9,maxZoom:19},extent:{xmin:753697.43,ymin:5757652.33,xmax:943824.37,ymax:5885787.45,spatialReference:{wkid:102100}},zoom:9},goTo:{zoom:16}},pinMarker:{properties:{type:"picture-marker",url:"../../../assets/img/map/pin-marker.png",width:"25.5px",height:"34px",yoffset:"16.5px"}}},operationalLayers:{municipalities:{properties:{id:"Communes_978",url:"https://services1.arcgis.com/rMlsWo8szOzlrpCq/arcgis/rest/services/Communes/FeatureServer/1",title:"Communes",visible:!0,layerDefinition:{drawingInfo:{renderer:{type:"simple",label:"",description:"",symbol:{color:[76,129,205,70],outline:{color:[0,0,0,255],width:1.4,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"}}},searchable:!0,outFields:["NOM","NO_CANT"],spatialReference:{wkid:102100},query:{outFields:["NOM","NO_CANT"],returnQueryGeometry:!0},queryByCoord:{outFields:["NOM","NO_CANT"],f:"json",geometryType:"esriGeometryPoint",inSR:2056,returnQueryGeometry:!0,outSR:2056}}},symbolOnZoomChange:{change:!0,changeAtZoomGtr:16,drawingInfo:{renderer:{type:"simple",label:"",description:"",symbol:{color:[76,129,205,0],outline:{color:[0,0,0,255],width:1.4,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"}}}}},frontiers:{properties:{id:"CantonValais_919",url:"https://services1.arcgis.com/rMlsWo8szOzlrpCq/arcgis/rest/services/CantonValais/FeatureServer/0",title:"Fronti\xe8re cantonale du Valais",visible:!0,layerDefinition:{drawingInfo:{renderer:{type:"simple",label:"",description:"",symbol:{color:[0,0,0,0],outline:{color:[0,0,0,255],width:1.35,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"}}},searchable:!1,outFields:null,spatialReference:{wkid:102100},query:null,queryByCoord:null}}},locations:{properties:{id:"localSurface_121",url:"https://sit.vs.ch/arcgis/rest/services/MO/MapServer/121",title:"Nom local surface",visible:!1,layerDefinition:{drawingInfo:{renderer:{type:"simple",label:"",description:"",symbol:{color:[252,196,233,0],outline:{color:[255,0,0,0],width:2,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"}},labelingInfo:{symbol:{fontFamily:"Arial Unicode MS",style:"regular"}}},searchable:!0,outFields:["OBJECTID","NOM"],spatialReference:{wkid:2056},query:{outFields:["OBJECTID","NOM"]},queryByCoord:{outFields:["NOM"],f:"json",geometryType:"esriGeometryPoint",inSR:2056}}}}},widgets:{basemapGallery:{config:{index:1,position:"top-right",expand:!0},properties:{visible:!0,disabled:!1,label:null},baseLayers:[{properties:{id:"pixelkarte-farbe-baselayer",spatialReference:{wkid:102100},title:"Color-pixel",thumbnailUrl:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/10/532/363.jpeg"},layer:{id:"ch.swisstopo.pixelkarte-farbe",copyright:"\xa9 swisstopo, \xa9 MapTiler, \xa9 OpenStreetMap contributors",urlTemplate:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/{level}/{col}/{row}.jpeg"}},{properties:{id:"pixelkarte-grau-baselayer",spatialReference:{wkid:102100},title:"Grey-pixel",thumbnailUrl:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-grau/default/current/3857/10/532/363.jpeg"},layer:{id:"ch.swisstopo.pixelkarte-grau",copyright:"\xa9 swisstopo, \xa9 MapTiler, \xa9 OpenStreetMap contributors",urlTemplate:"https://wmts.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-grau/default/current/3857/{level}/{col}/{row}.jpeg"}},{properties:{id:"swissimage-baselayer",spatialReference:{wkid:102100},title:"Orthophoto",thumbnailUrl:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/17/46476/68280.jpeg"},layer:{id:"ch.swisstopo.swissimage",copyright:"\xa9 swisstopo, \xa9 Planet, Earthstar Geographics",urlTemplate:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{level}/{row}/{col}.jpeg"}}]},basemapToggle:{config:{index:0,position:"bottom-right"},properties:{visible:!0,label:null,visibleElements:{title:!1},nextBasemap:{id:"World_Imagery_2017",spatialReference:{wkid:102100},title:"Orthophoto",thumbnailUrl:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/17/46476/68280.jpeg"},layer:{id:"World_Imagery_2017",copyright:"\xa9 swisstopo, \xa9 Planet, Earthstar Geographics",urlTemplate:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{level}/{row}/{col}.jpeg"}}},home:{config:{index:1,position:"top-left"},properties:{visible:!0}},locate:{config:{index:2,position:"top-left"},properties:{visible:!0},pinMarker:{properties:{type:"picture-marker",url:"../../../assets/img/map/pin-marker.png",width:"25.5px",height:"34px",yoffset:"16.5px"}}},search:{config:{index:0,position:"top-right"},properties:{allPlaceholder:"map.widget.search.allPlaceholder",includeDefaultSources:!1,suggestionsEnabled:!0,locationEnabled:!1,sources:[{layer:"Communes_978",name:"Parcelle (Commune ou code postal)",placeholder:"map.widget.search.sources.commune.placeholder",searchFields:["NOM"],displayField:"NOM",exactMatch:!1,searchInCurrentMapExtent:!1,zoomScale:5e3,maxSuggestions:6,maxResults:6,popupEnabled:!1}]},pinMarker:{properties:{type:"picture-marker",url:"../../../assets/img/map/pin-marker.png",width:"25.5px",height:"34px",yoffset:"16.5px"}}},scaleBar:{config:{index:0,position:"bottom-left"},properties:{visible:!0,unit:"metric",style:"ruler"}}}},g})();var Zy=p(70824);const s1=["EsriMapComponent"];let _0=(()=>{class g{constructor(I){this.logger=I,this.latitude=0,this.longitude=0,this.openModalMap=!1,this.onMunicipalityInfo=new d.vpe,this.configuration=r1.CONFIG,this.communesLayerId="Communes_978",this.localSurfaceLayerId="localSurface_121"}ngOnInit(){this.logger.debug("MapContainerComponent: ngOnInit()")}ngOnChanges(I){var W;(null===(W=I.openModalMap)||void 0===W?void 0:W.currentValue)?this.loadMap():this.mapComponent.destroyMap()}loadMap(){const{baseMap:I,mapView:W}=this.configuration.map;this.mapComponent.loadMap({baseMap:I,mapView:W})}addFeatureLayers(){const I=this.configuration.operationalLayers;for(const W in I){const ee=I[W],{id:ge,url:Ae,layerDefinition:He,visible:gt}=ee.properties,{drawingInfo:{renderer:At},spatialReference:Yt,outFields:ln}=He;this.mapComponent.addFeatureLayer({id:ge,renderer:At,url:Ae,visible:gt,outFields:ln,spatialReference:Yt})}}addWidgets(){const{basemapToggle:I,home:W,locate:ee,search:ge,scaleBar:Ae}=this.configuration.widgets;this.mapComponent.addHome(W),this.mapComponent.addLocate(ee),this.mapComponent.addSearch(ge),this.mapComponent.addBasemapToggle(I),this.mapComponent.addScaleBar(Ae)}goTo(){if(this.latitude&&this.longitude){const I=this.configuration.map.mapView.goTo.zoom,W=new Dr.Z({latitude:this.latitude,longitude:this.longitude});this.mapComponent.goTo(W,I).then(()=>this.drawPinMarker(W))}}drawPinMarker(I){const{pinMarker:{properties:W}}=this.configuration.map;this.mapComponent.drawPinMarker(W,I)}initMap(){this.addFeatureLayers(),this.addWidgets(),this.goTo()}changeSymbolLayer(I){var W;const ee=this.configuration.operationalLayers;for(const ge in ee){const Ae=ee[ge];if(!(null===(W=null==Ae?void 0:Ae.symbolOnZoomChange)||void 0===W?void 0:W.change))continue;const{id:He,layerDefinition:gt}=Ae.properties,{renderer:At}=gt.drawingInfo,{change:Yt,changeAtZoomGtr:ln,drawingInfo:kn}=Ae.symbolOnZoomChange,{renderer:Fn}=kn;this.mapComponent.changeSymbolLayer(He,Yt&&I>=ln?Fn:At)}}searchMunicipality(I){const W=[],ee=this.configuration.operationalLayers;for(const ge in ee){const Ae=ee[ge],{id:He,layerDefinition:{searchable:gt,query:At}}=Ae.properties;gt&&W.push({id:He,queryLayer:At})}this.mapComponent.searchByQuery(W,I.mapPoint),this.drawPinMarker(I.mapPoint)}getMunicipalityInfo(I){const W=[],ee=I.find(kn=>{var Fn;return(null===(Fn=kn.features[0])||void 0===Fn?void 0:Fn.layer.id)===this.communesLayerId});if(!ee)return;const ge=I.find(kn=>{var Fn;return(null===(Fn=kn.features[0])||void 0===Fn?void 0:Fn.layer.id)===this.localSurfaceLayerId}),{features:Ae,queryGeometry:He}=ee,gt=He.latitude||He.centroid.latitude,At=He.longitude||He.centroid.longitude,Yt=Math.round(Zy.k.wgsToCHy(gt,At)),ln=Math.round(Zy.k.wgsToCHx(gt,At));for(const kn of Ae){const{attributes:{NOM:Fn,NO_CANT:Or}}=kn,$r=[];if(ge){const{features:ui}=ge;ui.map(oi=>{const{OBJECTID:qi,NOM:es}=oi.attributes;$r.push({OBJECTID:qi,NOM:es})})}W.push({NOM:Fn,NO_CANT:Or,latitude:gt,longitude:At,x:Yt,y:ln,locations:$r})}this.onMunicipalityInfo.emit(W)}}return g.\u0275fac=function(I){return new(I||g)(d.Y36(g0.Kf))},g.\u0275cmp=d.Xpm({type:g,selectors:[["app-map-container"]],viewQuery:function(I,W){if(1&I&&d.Gf(s1,7),2&I){let ee;d.iGM(ee=d.CRH())&&(W.mapComponent=ee.first)}},inputs:{latitude:"latitude",longitude:"longitude",openModalMap:"openModalMap"},outputs:{onMunicipalityInfo:"onMunicipalityInfo"},features:[d.TTD],decls:2,vars:0,consts:[[3,"onMapLoad","onMapZoom","onMapClick","onSearchByQuery"],["EsriMapComponent",""]],template:function(I,W){1&I&&(d.TgZ(0,"app-esri-map",0,1),d.NdJ("onMapLoad",function(){return W.initMap()})("onMapZoom",function(ge){return W.changeSymbolLayer(ge)})("onMapClick",function(ge){return W.searchMunicipality(ge)})("onSearchByQuery",function(ge){return W.getMunicipalityInfo(ge)}),d.qZA())},styles:[""]}),g})()},70824:(wt,Se,p)=>{"use strict";p.d(Se,{k:()=>d});class d{static wgsToCHx(X,G){X=this.decToSex(X),G=this.decToSex(G);const z=((X=this.degToSec(X))-169028.66)/1e4,Z=((G=this.degToSec(G))-26782.5)/1e4;return 200147.07+308807.95*z+3745.25*Math.pow(Z,2)+76.63*Math.pow(z,2)-194.56*Math.pow(Z,2)*z+119.79*Math.pow(z,3)+1e6}static wgsToCHy(X,G){X=this.decToSex(X),G=this.decToSex(G);const z=((X=this.degToSec(X))-169028.66)/1e4,Z=((G=this.degToSec(G))-26782.5)/1e4;return 600072.37+211455.93*Z-10938.51*Z*z-.36*Z*Math.pow(z,2)-44.54*Math.pow(Z,3)+2e6}static sexToDms(X){const G=parseInt(X.toString(),10),z=parseInt((100*(X-G)).toString(),10);return G+(100*(100*(X-G)-z)/60+z)/60}static decToSex(X){const G=parseInt(X.toString(),10),z=parseInt((60*(X-G)).toString(),10);return G+z/100+60*(60*(X-G)-z)/1e4}static degToSec(X){const G=parseInt(X.toString(),10),z=parseInt((100*(X-G)).toString(),10);return 100*(100*(X-G)-z)+60*z+3600*G}}},63838:(wt,Se,p)=>{"use strict";p.d(Se,{T5:()=>je,L:()=>Fe});var d=p(15861),v=p(93075),X=p(35226),G=p.n(X),z=p(70824),Z=p(5e3),D=p(37968),k=p(29168),N=p(74616),B=p(26061),Q=p(74297),ne=p(7950),te=p(69808),ae=p(39569),re=p(31424),$=p(40845),F=p(73407),R=p(15315),U=p(59783),A=p(99650);const V=["ToastComponent"];function J(ct,we){1&ct&&(Z.TgZ(0,"small",31),Z._uU(1," *Veuillez selectionner le type de chasse "),Z.qZA())}function Y(ct,we){1&ct&&(Z.TgZ(0,"small",32),Z._uU(1," *Veuillez selectionner l'esp\xe8ce de l'animal "),Z.qZA())}function oe(ct,we){if(1&ct){const Be=Z.EpF();Z.ynx(0),Z.TgZ(1,"p-button",33),Z.NdJ("click",function(){return Z.CHM(Be),Z.oxw().openModalMap=!0}),Z.qZA(),Z.BQk()}2&ct&&(Z.xp6(1),Z.Q6J("styleClass","custom-info min-w-full"))}function se(ct,we){if(1&ct){const Be=Z.EpF();Z.TgZ(0,"p-button",34),Z.NdJ("click",function(){return Z.CHM(Be),Z.oxw().getCoordinates()}),Z.qZA()}2&ct&&Z.Q6J("styleClass","custom-secondary min-w-full")}function le(ct,we){if(1&ct){const Be=Z.EpF();Z.TgZ(0,"div",35)(1,"div",36)(2,"app-map-container",37),Z.NdJ("onMunicipalityInfo",function($e){return Z.CHM(Be),Z.oxw().municipalityInfo($e)}),Z.qZA()()()}if(2&ct){const Be=Z.oxw();let Je,$e;Z.xp6(2),Z.Q6J("openModalMap",Be.openModalMap)("latitude",null==(Je=Be.chasseForm.get("latitude"))?null:Je.value)("longitude",null==($e=Be.chasseForm.get("longitude"))?null:$e.value)}}const de=function(ct){return{display:ct}};function q(ct,we){if(1&ct&&(Z.TgZ(0,"div"),Z._UZ(1,"input",48),Z.TgZ(2,"label",49),Z._uU(3),Z.qZA()()),2&ct){const Be=we.$implicit,Je=Z.oxw().$implicit;Z.xp6(1),Z.Q6J("name","radioButton"+Je.NOM)("id",Be.OBJECTID)("value",Be.NOM)("checked",1===(null==Je.locations?null:Je.locations.length)?"checked":null)("ngStyle",Z.VKq(7,de,Je.locations.length>1?"inline":"none")),Z.xp6(1),Z.Q6J("for",Be.OBJECTID),Z.xp6(1),Z.Oqu(Be.NOM)}}function ue(ct,we){if(1&ct&&(Z.TgZ(0,"div"),Z._UZ(1,"input",50),Z.TgZ(2,"label",49),Z._uU(3,"Non trouv\xe9"),Z.qZA()()),2&ct){const Be=Z.oxw().$implicit;Z.xp6(1),Z.Q6J("name","radioButton"+Be.NOM)("ngStyle",Z.VKq(3,de,null!=Be.locations&&Be.locations.length?"inline":"none")),Z.xp6(1),Z.Q6J("for","notFound")}}function ie(ct,we){1&ct&&Z._UZ(0,"hr",51)}const ye=function(ct){return{"mb-4":ct}};function pe(ct,we){if(1&ct){const Be=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",38)(2,"div",39)(3,"div",40)(4,"strong"),Z._uU(5,"Commune:"),Z.qZA()(),Z.TgZ(6,"div",41),Z._uU(7),Z.qZA()(),Z.TgZ(8,"div",39)(9,"div",42)(10,"strong"),Z._uU(11,"N\xb0 commune:"),Z.qZA()(),Z.TgZ(12,"div",41),Z._uU(13),Z.qZA()(),Z.TgZ(14,"div",39)(15,"div",42)(16,"strong"),Z._uU(17,"Coordonn\xe9es:"),Z.qZA()(),Z.TgZ(18,"div",41)(19,"span"),Z._uU(20),Z.qZA(),Z.TgZ(21,"span",43),Z._uU(22),Z.qZA()()(),Z.TgZ(23,"div",39)(24,"div",42)(25,"strong"),Z._uU(26,"Lieu de d\xe9couverte:"),Z.qZA()(),Z.TgZ(27,"div",41),Z.YNc(28,q,4,9,"div",30),Z.YNc(29,ue,4,5,"div",44),Z.qZA()(),Z.TgZ(30,"div",45)(31,"p-button",21),Z.NdJ("click",function(){return Z.CHM(Be),Z.oxw().openModalInfo=!1}),Z.qZA(),Z.TgZ(32,"p-button",46),Z.NdJ("click",function(){const ot=Z.CHM(Be).$implicit;return Z.oxw().getMunicipality(ot)}),Z.qZA()(),Z.YNc(33,ie,1,0,"hr",47),Z.qZA(),Z.BQk()}if(2&ct){const Be=we.$implicit,Je=we.index,$e=Z.oxw();Z.xp6(1),Z.Q6J("ngClass",Z.VKq(10,ye,$e.municipalities.length>1&&Je!==$e.municipalities.length-1)),Z.xp6(6),Z.Oqu(Be.NOM),Z.xp6(6),Z.Oqu(Be.NO_CANT),Z.xp6(7),Z.hij("X: ",Be.x,""),Z.xp6(2),Z.hij("Y: ",Be.y,""),Z.xp6(6),Z.Q6J("ngForOf",Be.locations),Z.xp6(1),Z.Q6J("ngIf",1!==(null==Be.locations?null:Be.locations.length)),Z.xp6(2),Z.Q6J("styleClass","custom-secondary mr-2"),Z.xp6(1),Z.Q6J("styleClass","custom-success"),Z.xp6(1),Z.Q6J("ngIf",$e.municipalities.length>1&&Je!==$e.municipalities.length-1)}}const Ce=function(){return{"min-width":"100%"}},De=function(){return{width:"1200px",margin:"0 15px"}},Me=function(){return{"1200px":"95vw"}},ve=function(){return{overflow:"auto","border-bottom-right-radius":"4px","border-bottom-left-radius":"4px"}},Le=function(){return{width:"700px","max-height":"500px",margin:"0 10px"}};let je=(()=>{class ct{constructor(Be,Je,$e,ot,mt){this.logger=Be,this.chasseService=Je,this.chassedbService=$e,this.cdRef=ot,this.fb=mt,this.isOnline=!0,this.chasseForm=this.fb.group({huntingType:[null,v.kI.required],speciesOfAnimal:[null,v.kI.required],imageAnimal:[""],latitude:[""],longitude:[""],coordX:[""],coordY:[""],comment:[""]}),this.huntingTypes=[],this.imageToUpload="",this.municipalities=[],this.openModalMap=!1,this.openModalInfo=!1,this.speciesOfAnimals=[]}ngOnInit(){this.logger.debug("FormChasseComponent: ngOnInit()"),this.getHuntingTypes(),this.getSpeciesOfAnimals(),this.isOnline=navigator.onLine}ngAfterViewInit(){this.cdRef.detectChanges()}getCurrentPosition(){return new Promise((Be,Je)=>{navigator.geolocation||(this.logger.info("The geolocation is not supported for this Browser."),Je({x:0,y:0})),navigator.geolocation.getCurrentPosition($e=>{const{latitude:ot,longitude:mt}=$e.coords,Tt=z.k.wgsToCHy(ot,mt),It=z.k.wgsToCHx(ot,mt);Be({latitude:ot,longitude:mt,x:Math.round(Tt),y:Math.round(It)})})})}getHuntingTypes(){this.chasseService.getDropdownCode("huntingTypes").subscribe(Be=>{this.huntingTypes=Be})}getSpeciesOfAnimals(){this.chasseService.getDropdownCode("speciesOfAnimals").subscribe(Be=>{this.speciesOfAnimals=Be})}saveForm(){if(this.chasseForm.invalid)return this.chasseForm.markAllAsTouched(),void this.toastComponent.add({severity:"error",summary:"Erreur de validation",detail:"Veuillez corriger les \xe9l\xe9ments invalides."});this.chasseForm.controls.imageAnimal.setValue(this.imageToUpload);const Be=this.chasseForm.value;this.isOnline?this.chasseService.saveForm(Be).subscribe({next:()=>{G().fire("Succ\xe8s","Le formulaire a \xe9t\xe9 enregistr\xe9.","success").then(()=>{this.chasseForm.reset(),this.imageToUpload=""})},error:Je=>G().fire("Erreur 500",Je.error.msg,"error")}):this.chassedbService.saveFormOffline(Be).subscribe({next:()=>{G().fire("Succ\xe8s","Le formulaire a \xe9t\xe9 enregistr\xe9 en mode hors ligne.","success").then(()=>{this.chasseForm.reset(),this.imageToUpload=""})},error:Je=>G().fire(`Erreur ${Je.status}`,Je.message,"error")})}municipalityInfo(Be){!Be.length||(this.municipalities=Be,this.openModalInfo=!0)}getMunicipality(Be){const{latitude:Je,longitude:$e,x:ot,y:mt}=Be;this.chasseForm.controls.latitude.setValue(Je),this.chasseForm.controls.longitude.setValue($e),this.chasseForm.controls.coordX.setValue(ot),this.chasseForm.controls.coordY.setValue(mt),this.openModalInfo=!1,this.openModalMap=!1}getImageToUpload(Be){var Je=this;return(0,d.Z)(function*(){if(Je.imageToUpload=Be,!Be)return;if(!navigator.geolocation)return void Je.logger.info("The geolocation is not supported for this Browser.");const{latitude:$e,longitude:ot,x:mt,y:Tt}=yield Je.getCurrentPosition();G().fire({title:"Votre position",text:"Utiliser votre position actuelle sur la carte ?",icon:"question",showCancelButton:!0,cancelButtonText:"Non",confirmButtonText:"Oui",reverseButtons:!0}).then(It=>{!It.isConfirmed||(Je.chasseForm.controls.latitude.setValue($e),Je.chasseForm.controls.longitude.setValue(ot),Je.chasseForm.controls.coordX.setValue(mt),Je.chasseForm.controls.coordY.setValue(Tt))})})()}getCoordinates(){var Be=this;return(0,d.Z)(function*(){if(!navigator.geolocation)return Be.logger.info("The geolocation is not supported for this Browser."),Be.chasseForm.controls.latitude.setValue(0),Be.chasseForm.controls.longitude.setValue(0),Be.chasseForm.controls.coordX.setValue(0),void Be.chasseForm.controls.coordY.setValue(0);if(!navigator.geolocation)return void Be.logger.info("The geolocation is not supported for this Browser.");const{latitude:Je,longitude:$e,x:ot,y:mt}=yield Be.getCurrentPosition();G().fire({title:"Votre position",text:"Utiliser votre position actuelle ?",icon:"question",showCancelButton:!0,cancelButtonText:"Non",confirmButtonText:"Oui",reverseButtons:!0}).then(Tt=>{!Tt.isConfirmed||(Be.chasseForm.controls.latitude.setValue(Je),Be.chasseForm.controls.longitude.setValue($e),Be.chasseForm.controls.coordX.setValue(ot),Be.chasseForm.controls.coordY.setValue(mt))})})()}}return ct.\u0275fac=function(Be){return new(Be||ct)(Z.Y36(D.Kf),Z.Y36(k.W),Z.Y36(N.c),Z.Y36(Z.sBO),Z.Y36(v.qu))},ct.\u0275cmp=Z.Xpm({type:ct,selectors:[["app-form-chasse"]],viewQuery:function(Be,Je){if(1&Be&&Z.Gf(V,7),2&Be){let $e;Z.iGM($e=Z.CRH())&&(Je.toastComponent=$e.first)}},decls:59,vars:59,consts:[[1,"lg:flex","justify-center",3,"isOnline"],["header","Formulaire de chasse",3,"styleClass"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","huntingType","placeholder","-- Selectionner --","optionLabel","name","optionValue","value",1,"min-w-full",3,"options","styleClass","showClear"],["id","huntingType-error","class","p-error block mt-2",4,"ngIf"],["formControlName","speciesOfAnimal","placeholder","-- Selectionner --","optionLabel","name","optionValue","value",1,"min-w-full",3,"options","styleClass","showClear"],["id","speciesOfAnimal-error","class","p-error block mt-2",4,"ngIf"],[3,"isOnline","imageToUpload","onPhotoUpload"],[1,"grid","grid-cols-5","gap-x-4"],[1,"form-group","col-span-5","lg:col-span-2"],[1,"p-input"],["formControlName","coordX","pInputText","","id","coordX","type","text","readonly","",1,"min-w-full",3,"disabled"],["formControlName","coordY","pInputText","","id","coordY","type","text","readonly","",1,"min-w-full",3,"disabled"],[1,"form-group","col-span-5","lg:col-span-1"],[4,"ngIf","ngIfElse"],["offline",""],["formControlName","comment","pInputTextarea","","rows","3"],[1,"form-group","mt-12"],[1,"form-footer"],[1,"btn","mr-2"],["type","button","label","Annuler",3,"styleClass","click"],[1,"btn"],["type","submit","label","Enregistrer",3,"styleClass"],[3,"preventOpenDuplicates","styleClass"],["ToastComponent",""],[3,"breakpoints","modal","visible","resizable","baseZIndex","appendTo","closeIcon","contentStyle","maximizable","maximizeIcon","minimizeIcon","blockScroll","visibleChange"],["pTemplate","content"],[3,"modal","visible","positionTop","resizable","baseZIndex","appendTo","closeIcon","contentStyle","visibleChange"],[1,"container"],[4,"ngFor","ngForOf"],["id","huntingType-error",1,"p-error","block","mt-2"],["id","speciesOfAnimal-error",1,"p-error","block","mt-2"],["label","Carte","icon","pi pi-map",3,"styleClass","click"],["label","GPS","icon","pi pi-map-marker",3,"styleClass","click"],[1,"row","form-group"],[1,"col-12"],[3,"openModalMap","latitude","longitude","onMunicipalityInfo"],[3,"ngClass"],[1,"row","py-1"],[1,"col-sm-3"],[1,"col-9"],[1,"col-3"],[1,"ml-3"],[4,"ngIf"],[1,"col-12","p-0","mt-4"],["type","button","label","Enregistrer",3,"styleClass","click"],["style","background: #e9ecef",4,"ngIf"],["type","radio",1,"mr-1",3,"name","id","value","checked","ngStyle"],[3,"for"],["type","radio","id","notFound","value","","checked","checked",1,"mr-1",3,"name","ngStyle"],[2,"background","#e9ecef"]],template:function(Be,Je){if(1&Be&&(Z.TgZ(0,"div",0),Z.NdJ("isOnline",function(ot){return Je.isOnline=ot}),Z.TgZ(1,"p-card",1)(2,"form",2),Z.NdJ("ngSubmit",function(){return Je.saveForm()}),Z.TgZ(3,"div",3)(4,"label"),Z._uU(5,"Type de chasse:"),Z.qZA(),Z._UZ(6,"p-dropdown",4),Z.YNc(7,J,2,0,"small",5),Z.qZA(),Z.TgZ(8,"div",3)(9,"label"),Z._uU(10,"Esp\xe8ce:"),Z.qZA(),Z._UZ(11,"p-dropdown",6),Z.YNc(12,Y,2,0,"small",7),Z.qZA(),Z.TgZ(13,"div",3)(14,"label"),Z._uU(15,"Photo:"),Z.qZA(),Z.TgZ(16,"app-camera",8),Z.NdJ("onPhotoUpload",function(ot){return Je.getImageToUpload(ot)}),Z.qZA()(),Z.TgZ(17,"div",9)(18,"div",10)(19,"label"),Z._uU(20,"Coord. X:"),Z.qZA(),Z.TgZ(21,"div",11)(22,"span"),Z._UZ(23,"input",12),Z.qZA()()(),Z.TgZ(24,"div",10)(25,"label"),Z._uU(26,"Coord. Y:"),Z.qZA(),Z.TgZ(27,"div",11)(28,"span"),Z._UZ(29,"input",13),Z.qZA()()(),Z.TgZ(30,"div",14)(31,"label"),Z._uU(32,"Localisation:"),Z.qZA(),Z.YNc(33,oe,2,1,"ng-container",15),Z.YNc(34,se,1,1,"ng-template",null,16,Z.W1O),Z.qZA()(),Z.TgZ(36,"div",3)(37,"label"),Z._uU(38,"Remarques:"),Z.qZA(),Z._UZ(39,"textarea",17),Z.qZA(),Z.TgZ(40,"div",18)(41,"div",19)(42,"div",20)(43,"p-button",21),Z.NdJ("click",function(){return Je.chasseForm.reset(),Je.imageToUpload=""}),Z.qZA()(),Z.TgZ(44,"div",22),Z._UZ(45,"p-button",23),Z.qZA()()()()()(),Z._UZ(46,"app-toast",24,25),Z.TgZ(48,"p-dialog",26),Z.NdJ("visibleChange",function(ot){return Je.openModalMap=ot}),Z.TgZ(49,"p-header")(50,"span"),Z._uU(51,"Veuillez positionner la localisation le plus pr\xe9cis\xe9ment possible"),Z.qZA()(),Z.YNc(52,le,3,3,"ng-template",27),Z.qZA(),Z.TgZ(53,"p-dialog",28),Z.NdJ("visibleChange",function(ot){return Je.openModalInfo=ot}),Z.TgZ(54,"p-header")(55,"span"),Z._uU(56,"R\xe9sume des informations"),Z.qZA()(),Z.TgZ(57,"div",29),Z.YNc(58,pe,34,12,"ng-container",30),Z.qZA()()),2&Be){const $e=Z.MAs(35);Z.xp6(1),Z.Q6J("styleClass","custom center w-860"),Z.xp6(1),Z.Q6J("formGroup",Je.chasseForm),Z.xp6(4),Z.Q6J("options",Je.huntingTypes)("styleClass","custom")("showClear",!0),Z.xp6(1),Z.Q6J("ngIf",(null==Je.chasseForm.controls||null==Je.chasseForm.controls.huntingType?null:Je.chasseForm.controls.huntingType.errors)&&(null==Je.chasseForm.controls||null==Je.chasseForm.controls.huntingType?null:Je.chasseForm.controls.huntingType.touched)),Z.xp6(4),Z.Q6J("options",Je.speciesOfAnimals)("styleClass","custom")("showClear",!0),Z.xp6(1),Z.Q6J("ngIf",(null==Je.chasseForm.controls||null==Je.chasseForm.controls.speciesOfAnimal?null:Je.chasseForm.controls.speciesOfAnimal.errors)&&(null==Je.chasseForm.controls||null==Je.chasseForm.controls.speciesOfAnimal?null:Je.chasseForm.controls.speciesOfAnimal.touched)),Z.xp6(4),Z.Q6J("isOnline",Je.isOnline)("imageToUpload",Je.imageToUpload),Z.xp6(7),Z.Tol("custom"),Z.Q6J("disabled",!0),Z.xp6(6),Z.Tol("custom"),Z.Q6J("disabled",!0),Z.xp6(4),Z.Q6J("ngIf",Je.isOnline)("ngIfElse",$e),Z.xp6(6),Z.Akn(Z.DdM(53,Ce)),Z.Tol("custom"),Z.xp6(4),Z.Q6J("styleClass","custom-secondary shadow p-button-raised"),Z.xp6(2),Z.Q6J("styleClass","custom shadow"),Z.xp6(1),Z.Q6J("preventOpenDuplicates",!0)("styleClass","custom"),Z.xp6(2),Z.Akn(Z.DdM(54,De)),Z.Q6J("breakpoints",Z.DdM(55,Me))("modal",!0)("visible",Je.openModalMap)("resizable",!0)("baseZIndex",1100)("appendTo","body")("closeIcon","fa fa-times")("contentStyle",Z.DdM(56,ve))("maximizable",!0)("maximizeIcon","pi pi-window-maximize")("minimizeIcon","pi pi-window-minimize")("blockScroll",!0),Z.xp6(5),Z.Akn(Z.DdM(57,Le)),Z.Q6J("modal",!0)("visible",Je.openModalInfo)("positionTop",100)("resizable",!0)("baseZIndex",1200)("appendTo","body")("closeIcon","fa fa-times")("contentStyle",Z.DdM(58,ve)),Z.xp6(5),Z.Q6J("ngForOf",Je.municipalities)}},directives:[B.lz,Q.Z,v._Y,v.JL,v.sg,ne.Lt,v.JJ,v.u,te.O5,ae.My,v.Fj,re.o,$.zx,F.g,ae.qR,R.V,U.h4,U.jx,A.bs,te.sg,te.mk,te.PC],styles:[""]}),ct})();var _e=p(49603),Re=p(42266);function nt(ct,we){1&ct&&(Z.ynx(0),Z.TgZ(1,"p-card",1)(2,"div"),Z._uU(3,"Aucun enregistrement disponible."),Z.qZA()(),Z.TgZ(4,"div",11),Z._uU(5,"(0 enregistrements)"),Z.qZA(),Z.BQk()),2&ct&&(Z.xp6(1),Z.Q6J("styleClass","custom"))}function pt(ct,we){if(1&ct&&(Z.TgZ(0,"small"),Z._uU(1),Z.qZA()),2&ct){const Be=Z.oxw().$implicit;Z.xp6(1),Z.AsE(" Coord. X: ",Be.coordX," Coord. Y: ",Be.coordY," ")}}function Ne(ct,we){if(1&ct&&(Z.TgZ(0,"span",25),Z._uU(1),Z.qZA()),2&ct){const Be=Z.oxw().$implicit;Z.xp6(1),Z.hij(" ",Be.comment," ")}}function xe(ct,we){if(1&ct&&(Z.ynx(0),Z.TgZ(1,"p-card",1)(2,"div",16)(3,"div",17),Z._UZ(4,"p-avatar",18),Z.qZA(),Z.TgZ(5,"div",19)(6,"h5",20),Z._uU(7),Z.ALo(8,"titlecase"),Z.ALo(9,"titlecase"),Z.YNc(10,pt,2,2,"small",21),Z.qZA(),Z.YNc(11,Ne,2,1,"span",22),Z.TgZ(12,"span",23),Z._UZ(13,"i",24),Z._uU(14),Z.ALo(15,"date"),Z.qZA()()()(),Z.BQk()),2&ct){const Be=we.$implicit,Je=Z.oxw(2);Z.xp6(1),Z.Q6J("styleClass",Je.optFilter?"custom mb-4":"custom mb-4 offline"),Z.xp6(3),Z.Q6J("image",Be.imageAnimal?Be.imageAnimal:Je.noImage)("styleClass","custom-lg shadow"),Z.xp6(3),Z.AsE(" ",Z.lcZ(8,8,Be.huntingType)," | ",Z.lcZ(9,10,Be.speciesOfAnimal)," "),Z.xp6(3),Z.Q6J("ngIf",Be.coordX&&Be.coordY),Z.xp6(1),Z.Q6J("ngIf",Be.comment),Z.xp6(3),Z.hij(" ",Z.xi3(15,12,Be.date,"dd.MM.yyyy - h:mm a")," ")}}function Ye(ct,we){if(1&ct){const Be=Z.EpF();Z.TgZ(0,"p-button",26),Z.NdJ("click",function(){return Z.CHM(Be),Z.oxw(2).pagination()}),Z.qZA()}2&ct&&Z.Q6J("styleClass","custom-pagination p-button-lg shadow")}function Ke(ct,we){if(1&ct&&(Z.TgZ(0,"div",12)(1,"div",13),Z.YNc(2,xe,16,15,"ng-container",14),Z.ALo(3,"slice"),Z.qZA()(),Z.TgZ(4,"div",11),Z.YNc(5,Ye,1,1,"p-button",15),Z.TgZ(6,"span"),Z._uU(7),Z.qZA()()),2&ct){const Be=Z.oxw();Z.xp6(2),Z.Q6J("ngForOf",Z.Dn7(3,4,Be.list,0,Be.parPage)),Z.xp6(3),Z.Q6J("ngIf",Be.parPage<Be.list.length),Z.xp6(2),Z.AsE(" (1-",Be.parPage<Be.list.length?Be.parPage:Be.list.length," sur ",Be.list.length," enregistrements) ")}}let Fe=(()=>{class ct{constructor(Be,Je,$e){this.logger=Be,this.chasseService=Je,this.chassedbService=$e,this.noImage="../../../../../assets/img/site/no-img.jpg",this.list=[],this.parPage=6,this.optFilter=!0}ngOnInit(){this.logger.debug("ListChasseComponent: ngOnInit()"),this.getListRegistered(),this.chassedbService.savedAllFormsOffline$.subscribe(()=>{this.getList()})}getListRegistered(){this.logger.debug("ListChasseComponent: getList()"),this.chasseService.getListChasse().subscribe(Be=>this.list=Be.reverse())}getListUnregistered(){this.logger.debug("ListChasseComponent: getListOffline()"),this.chassedbService.getListOffline().subscribe(Be=>{this.list=Be.rows.map(Je=>Je.doc).reverse()})}getList(){this.parPage=6,this.optFilter?this.getListRegistered():this.getListUnregistered()}pagination(){let Be=this.parPage;const Je=this.list.length;Be<Je&&Be+Be<Je?Be+=Be:Be=Je,this.parPage=Be}}return ct.\u0275fac=function(Be){return new(Be||ct)(Z.Y36(D.Kf),Z.Y36(k.W),Z.Y36(N.c))},ct.\u0275cmp=Z.Xpm({type:ct,selectors:[["app-list-chasse"]],decls:14,vars:9,consts:[[1,"mb-8"],[3,"styleClass"],[1,"flex"],[1,"field-radiobutton","mr-4"],["name","registered","inputId","registered",3,"value","styleClass","ngModel","ngModelChange","onClick"],["for","registered",1,"ml-1"],[1,"field-radiobutton"],["name","unregistered","inputId","unregistered",3,"value","styleClass","ngModel","ngModelChange","onClick"],["for","unregistered",1,"ml-1"],[4,"ngIf","ngIfElse"],["showList",""],[1,"pagination"],[1,"listOnline"],[1,"grid","grid-cols-1","gap-x-4","xl:grid-cols-2","xxl:grid-cols-3"],[4,"ngFor","ngForOf"],["type","button","label","Plus de r\xe9sultats","icon","pi pi-angle-down","iconPos","right",3,"styleClass","click",4,"ngIf"],[1,"list-card"],[1,"image"],["shape","circle",3,"image","styleClass"],[1,"content"],[1,"title"],[4,"ngIf"],["class","description",4,"ngIf"],[1,"time"],[1,"pi","pi-clock","mr-2"],[1,"description"],["type","button","label","Plus de r\xe9sultats","icon","pi pi-angle-down","iconPos","right",3,"styleClass","click"]],template:function(Be,Je){if(1&Be&&(Z.TgZ(0,"div",0)(1,"p-card",1)(2,"div",2)(3,"div",3)(4,"p-radioButton",4),Z.NdJ("ngModelChange",function(ot){return Je.optFilter=ot})("onClick",function(){return Je.getList()}),Z.qZA(),Z.TgZ(5,"label",5),Z._uU(6,"Enregistr\xe9s"),Z.qZA()(),Z.TgZ(7,"div",6)(8,"p-radioButton",7),Z.NdJ("ngModelChange",function(ot){return Je.optFilter=ot})("onClick",function(){return Je.getList()}),Z.qZA(),Z.TgZ(9,"label",8),Z._uU(10,"En attente"),Z.qZA()()()()(),Z.YNc(11,nt,6,1,"ng-container",9),Z.YNc(12,Ke,8,8,"ng-template",null,10,Z.W1O)),2&Be){const $e=Z.MAs(13);Z.xp6(1),Z.Q6J("styleClass","custom filter"),Z.xp6(3),Z.Q6J("value",!0)("styleClass","custom info")("ngModel",Je.optFilter),Z.xp6(4),Z.Q6J("value",!1)("styleClass","custom info")("ngModel",Je.optFilter),Z.xp6(3),Z.Q6J("ngIf",!Je.list.length)("ngIfElse",$e)}},directives:[Q.Z,_e.EU,v.JJ,v.On,te.O5,te.sg,Re.q,$.zx],pipes:[te.OU,te.rS,te.uU],styles:["h5[_ngcontent-%COMP%]{position:relative;font-weight:500;font-size:16px;margin-bottom:.75rem}.list-card[_ngcontent-%COMP%]{display:block}@media only screen and (min-width: 576px){.list-card[_ngcontent-%COMP%]{display:flex}}.list-card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin-right:15px;margin-bottom:15px;text-align:center}@media only screen and (min-width: 576px){.list-card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin-bottom:0}}.list-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-left:15px;overflow:hidden}.list-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:400;flex-direction:column;display:flex;margin-bottom:3px}.list-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:50%;font-weight:400}.list-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:initial;display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.list-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;margin-top:2rem;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.pagination[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#99abb4;text-align:center;margin-top:30px}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:20px}"]}),ct})()},29168:(wt,Se,p)=>{"use strict";p.d(Se,{W:()=>D});var d=p(54004),v=p(89495),X=p(5e3),G=p(40520),z=p(7568),Z=p(35810);let D=(()=>{class k{constructor(B,Q,ne){this.http=B,this.urlConfig=Q,this.userService=ne}getDropdownCode(B){return this.http.get(`${this.urlConfig.url}/${v.M.PWA}/code/${B}`).pipe((0,d.U)(ne=>ne.code))}getListChasse(){var B;const Q=null===(B=this.userService.currentUser)||void 0===B?void 0:B.id;return this.http.get(`${this.urlConfig.url}/${v.M.FORM}/registres/${Q}`).pipe((0,d.U)(te=>te.registres))}saveForm(B){var Q;const ne=Object.assign({},B);return ne.date=(new Date).getTime(),ne.userId=null===(Q=this.userService.currentUser)||void 0===Q?void 0:Q.id,this.http.post(`${this.urlConfig.url}/${v.M.FORM}/registre`,ne)}}return k.\u0275fac=function(B){return new(B||k)(X.LFG(G.eN),X.LFG(z.F),X.LFG(Z.K))},k.\u0275prov=X.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},39569:(wt,Se,p)=>{"use strict";p.d(Se,{My:()=>A,qR:()=>oe});var d=p(15861),v=p(5e3),X=p(37968),G=p(69808),z=p(48850),Z=p(79955),D=p(40845);const k=["FileUploadNode"],N=["VideoNode"],B=function(){return{"max-height":"290px"}};function Q(le,de){if(1&le&&v._UZ(0,"p-image",6),2&le){const q=v.oxw();v.Q6J("src",q.imageToUpload)("preview",!0)("imageStyle",v.DdM(4,B))("styleClass","custom")}}function ne(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"p-splitButton",14),v.NdJ("onClick",function(){return v.CHM(q),v.oxw(2).turnOnCamera()}),v.qZA()}if(2&le){const q=v.oxw(2);v.Q6J("icon",q.loadingCamera?"pi pi-spin pi-spinner":"pi pi-camera")("styleClass",q.isOnline?"custom-info min-w-full":"custom-secondary min-w-full")("model",q.optUploadImage)}}function te(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"p-splitButton",15),v.NdJ("onClick",function(){return v.CHM(q),v.oxw(2).takePhoto()}),v.qZA()}if(2&le){const q=v.oxw(2);v.Q6J("styleClass",q.isOnline?"custom-success min-w-full":"custom-secondary min-w-full")("model",q.optTurnOffCamera)}}function ae(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"p-button",16),v.NdJ("click",function(){return v.CHM(q),v.oxw(2).turnOnCamera()}),v.qZA()}if(2&le){const q=v.oxw(2);v.Q6J("icon",q.loadingCamera?"pi pi-spin pi-spinner":"pi pi-camera")("styleClass",q.isOnline?"custom-info min-w-full":"custom-secondary min-w-full")}}function re(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"p-button",17),v.NdJ("click",function(){return v.CHM(q),v.oxw(2).takePhoto()}),v.qZA(),v.TgZ(1,"p-button",18,19),v.NdJ("click",function(){return v.CHM(q),v.oxw(2).imageToUpload=""})("click",function(){return v.CHM(q),v.oxw(2).turnOffCamera()}),v.qZA()}if(2&le){const q=v.oxw(2);v.Q6J("styleClass",q.isOnline?"custom-success min-w-full":"custom-secondary min-w-full"),v.xp6(1),v.Q6J("styleClass","custom-secondary min-w-full")}}function $(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"div",20)(1,"label",21)(2,"input",22,23),v.NdJ("change",function(ie){return v.CHM(q),v.oxw(2).importImage(ie)}),v.qZA(),v.TgZ(4,"p"),v._UZ(5,"i",24),v.TgZ(6,"span"),v._uU(7,"Importer une image"),v.qZA()()()()}}function F(le,de){if(1&le&&(v.ynx(0),v.TgZ(1,"div",7),v.YNc(2,ne,1,3,"p-splitButton",8),v.YNc(3,te,1,2,"ng-template",null,9,v.W1O),v.qZA(),v.TgZ(5,"div",10),v.YNc(6,ae,1,2,"p-button",11),v.YNc(7,re,3,2,"ng-template",null,12,v.W1O),v.YNc(9,$,8,0,"div",13),v.qZA(),v.BQk()),2&le){const q=v.MAs(4),ue=v.MAs(8),ie=v.oxw();v.xp6(2),v.Q6J("ngIf",!ie.cameraOn)("ngIfElse",q),v.xp6(4),v.Q6J("ngIf",!ie.cameraOn)("ngIfElse",ue),v.xp6(3),v.Q6J("ngIf",!ie.cameraOn)}}function R(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"p-button",25),v.NdJ("click",function(){return v.CHM(q),v.oxw().removePhoto()}),v.qZA()}2&le&&v.Q6J("styleClass","custom-danger min-w-full")}const U=function(le){return{"background-image":le}};let A=(()=>{class le{constructor(q,ue){this.logger=q,this.renderer=ue,this.imageToUpload="",this.isOnline=!0,this.onPhotoUpload=new v.vpe,this.cameraOn=!1,this.loadingCamera=!1,this.mediaStream=null,this.optUploadImage=[{label:"Importer une photo",icon:"pi pi-upload",command:()=>{var ie;null===(ie=this.fileuploadNode)||void 0===ie||ie.nativeElement.click()}}],this.optTurnOffCamera=[{label:"Annuler",icon:"pi pi-stop-circle",command:()=>{this.turnOffCamera()}}]}ngOnInit(){this.logger.debug("CameraComponent: ngOnInit()")}importImage(q){const ue=q.target.files[0],ie=new FileReader;ie.readAsDataURL(ue),ie.onload=()=>{this.imageToUpload=ie.result,this.onPhotoUpload.emit(this.imageToUpload)}}takePhoto(){let q=this.renderer.createElement("canvas");this.renderer.setProperty(q,"width",this.cameraSettings.width||640),this.renderer.setProperty(q,"height",this.cameraSettings.height||400);let ue=q.getContext("2d");ue.drawImage(this.videoNode.nativeElement,0,0,q.width,q.height),this.imageToUpload=ue.canvas.toDataURL(),q=null,ue=null,this.turnOffCamera(),this.onPhotoUpload.emit(this.imageToUpload)}removePhoto(){this.imageToUpload="",this.onPhotoUpload.emit(this.imageToUpload)}turnOnCamera(){var q=this;return(0,d.Z)(function*(){if("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices){q.loadingCamera=!0,q.renderer.setStyle(q.videoNode.nativeElement,"display","block");const ue=q.videoNode.nativeElement,ie={audio:!1,video:{width:{min:640,ideal:1280,max:1920},height:{min:400,ideal:720,max:1080},facingMode:{ideal:"environment"}}};q.mediaStream=yield navigator.mediaDevices.getUserMedia(ie);try{ue.srcObject=q.mediaStream}catch(ye){ue.src=URL.createObjectURL(q.mediaStream)}ue.onloadedmetadata=()=>ue.play(),q.cameraSettings=q.mediaStream.getTracks()[0].getSettings(),q.loadingCamera=!1,q.cameraOn=!0}else console.info("GetUserMedia is not implemented in this browser")})()}turnOffCamera(){this.videoNode.nativeElement.pause(),this.mediaStream&&(this.cameraOn=!1,this.mediaStream.getTracks()[0].stop(),this.renderer.setStyle(this.videoNode.nativeElement,"display","none"))}}return le.\u0275fac=function(q){return new(q||le)(v.Y36(X.Kf),v.Y36(v.Qsj))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-camera"]],viewQuery:function(q,ue){if(1&q&&(v.Gf(k,5),v.Gf(N,5)),2&q){let ie;v.iGM(ie=v.CRH())&&(ue.fileuploadNode=ie.first),v.iGM(ie=v.CRH())&&(ue.videoNode=ie.first)}},inputs:{imageToUpload:"imageToUpload",isOnline:"isOnline"},outputs:{onPhotoUpload:"onPhotoUpload"},decls:7,vars:6,consts:[[1,"image-content",3,"ngStyle"],[3,"src","preview","imageStyle","styleClass",4,"ngIf"],[2,"display","none"],["VideoNode",""],[4,"ngIf","ngIfElse"],["removeImage",""],[3,"src","preview","imageStyle","styleClass"],[1,"md:hidden"],["label","Prendre une photo",3,"icon","styleClass","model","onClick",4,"ngIf","ngIfElse"],["takePictureMd",""],[1,"grid-cols-2","gap-x-4","hidden","md:grid"],["type","button","label","Prendre une photo","iconPos","left",3,"icon","styleClass","click",4,"ngIf","ngIfElse"],["takePicture",""],["class","btn-fileupload",4,"ngIf"],["label","Prendre une photo",3,"icon","styleClass","model","onClick"],["label","Prendre photo","icon","pi pi-camera",3,"styleClass","model","onClick"],["type","button","label","Prendre une photo","iconPos","left",3,"icon","styleClass","click"],["type","button","label","Prendre photo","icon","pi pi-camera","iconPos","left",3,"styleClass","click"],["label","Annuler","icon","pi pi-stop-circle",3,"styleClass","click"],["TurnOffCameraNode",""],[1,"btn-fileupload"],[1,"p-button"],["type","file","accept",".png, .jpg, .jpeg",3,"change"],["FileUploadNode",""],[1,"pi","pi-upload"],["label","Supprimer","icon","pi pi-image",3,"styleClass","click"]],template:function(q,ue){if(1&q&&(v.TgZ(0,"div",0),v.YNc(1,Q,1,5,"p-image",1),v._UZ(2,"video",2,3),v.qZA(),v.YNc(4,F,10,5,"ng-container",4),v.YNc(5,R,1,1,"ng-template",null,5,v.W1O)),2&q){const ie=v.MAs(6);v.Q6J("ngStyle",v.VKq(4,U,ue.imageToUpload?"none":"")),v.xp6(1),v.Q6J("ngIf",ue.imageToUpload),v.xp6(3),v.Q6J("ngIf",!ue.imageToUpload)("ngIfElse",ie)}},directives:[G.PC,G.O5,z.E,Z.a,D.zx],styles:[".image-content[_ngcontent-%COMP%]{min-width:100%;min-height:300px;border-radius:4px;border:1px solid #e9ecef;margin-bottom:15px;background-image:url(no-image.9d20cac49ec79929.png);background-size:100px;background-repeat:no-repeat;background-position:center center;background-color:#f6f6f6;display:flex;justify-content:center;align-items:center}.image-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:300px;max-width:300px;background-color:#f6f6f6;object-fit:contain}.image-content[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1280px;height:290px}input[type=file][_ngcontent-%COMP%]{display:none}.btn-fileupload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#f4f4f4;color:#444;border:1px solid #ddd;box-shadow:none;border-radius:2px;min-width:100%}.btn-fileupload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;display:flex}.btn-fileupload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}.btn-fileupload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#ddd;border:1px solid #ddd;color:#444;opacity:1;transition:.33s all ease-out;box-shadow:none;border-color:transparent}"]}),le})();var V=p(59783),J=p(17773);function Y(le,de){if(1&le){const q=v.EpF();v.TgZ(0,"div",3)(1,"div",4),v._UZ(2,"i",5),v.TgZ(3,"h4"),v._uU(4),v.qZA(),v.TgZ(5,"p"),v._uU(6),v.qZA()(),v.TgZ(7,"div",6)(8,"div",7)(9,"p-button",8,9),v.NdJ("click",function(){return v.CHM(q),v.oxw().reject()}),v.qZA()(),v.TgZ(11,"div",7)(12,"p-button",10),v.NdJ("click",function(){return v.CHM(q),v.oxw().confirm()}),v.qZA()()()()}if(2&le){const q=de.$implicit;v.xp6(4),v.Oqu(q.summary),v.xp6(2),v.Oqu(q.detail),v.xp6(3),v.Q6J("styleClass","custom-secondary min-w-full"),v.xp6(3),v.Q6J("styleClass","custom-success min-w-full")}}let oe=(()=>{class le{constructor(q,ue){this.messageService=q,this.logger=ue,this.preventOpenDuplicates=!1,this.styleClass="",this.onConfirm=new v.vpe}ngOnInit(){this.logger.debug("ToastComponent: ngOnInit()")}add(q){this.messageService.add(q)}addAll(q){this.messageService.addAll(q)}addConfirm(q){q.key="confirm",this.messageService.clear("confirm"),this.messageService.add(q)}clear(q){q?this.messageService.clear(q):this.messageService.clear()}confirm(){this.messageService.clear("confirm"),this.onConfirm.emit(!0)}reject(){this.messageService.clear("confirm"),this.onConfirm.emit(!1)}}return le.\u0275fac=function(q){return new(q||le)(v.Y36(V.ez),v.Y36(X.Kf))},le.\u0275cmp=v.Xpm({type:le,selectors:[["app-toast"]],inputs:{preventOpenDuplicates:"preventOpenDuplicates",styleClass:"styleClass"},outputs:{onConfirm:"onConfirm"},features:[v._Bn([V.ez])],decls:3,vars:3,consts:[[3,"preventOpenDuplicates","styleClass"],["position","bottom-center","key","confirm",3,"baseZIndex","onClose"],["pTemplate","message"],[1,"confirm"],[1,"text-center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3rem"],[1,"grid","grid-cols-2","gap-x-4","mt-4"],[1,"col-span-1"],["label","Annuler",3,"styleClass","click"],["TurnOffCameraNode",""],["type","button","label","Accepter","iconPos","left",3,"styleClass","click"]],template:function(q,ue){1&q&&(v._UZ(0,"p-toast",0),v.TgZ(1,"p-toast",1),v.NdJ("onClose",function(){return ue.reject()}),v.YNc(2,Y,13,4,"ng-template",2),v.qZA()),2&q&&(v.Q6J("preventOpenDuplicates",ue.preventOpenDuplicates)("styleClass",ue.styleClass),v.xp6(1),v.Q6J("baseZIndex",5e3))},directives:[J.FN,V.jx,D.zx],styles:[".confirm[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}h4[_ngcontent-%COMP%]{margin:1.5rem 0 1rem;font-family:inherit;font-weight:600;line-height:1.2;color:inherit;font-size:1.5rem}"]}),le})()},26061:(wt,Se,p)=>{"use strict";p.d(Se,{_k:()=>v,lz:()=>X,SI:()=>z});var d=p(5e3);let v=(()=>{class D{constructor(N){this.elementRef=N,this.clickOutside=new d.vpe}handleCickOutside(N){this.elementRef.nativeElement.contains(N.target)||this.clickOutside.emit(!0)}}return D.\u0275fac=function(N){return new(N||D)(d.Y36(d.SBq))},D.\u0275dir=d.lG2({type:D,selectors:[["","clickOutside",""]],hostBindings:function(N,B){1&N&&d.NdJ("click",function(ne){return B.handleCickOutside(ne)},!1,d.evT)},outputs:{clickOutside:"clickOutside"}}),D})(),X=(()=>{class D{constructor(){this.isOnline=new d.vpe}initernetConnection(N){navigator.onLine?this.isOnline.emit(!0):this.isOnline.emit(!1)}}return D.\u0275fac=function(N){return new(N||D)},D.\u0275dir=d.lG2({type:D,selectors:[["","isOnline",""]],hostBindings:function(N,B){1&N&&d.NdJ("online",function(ne){return B.initernetConnection(ne)},!1,d.Jf7)("offline",function(ne){return B.initernetConnection(ne)},!1,d.Jf7)},outputs:{isOnline:"isOnline"}}),D})();var G=p(5454);let z=(()=>{class D{constructor(){this.screenBrakepoint=new d.vpe}handleScreenBrakepoint(){window.innerWidth>=G.x.MD_BRAKEPOINT?this.screenBrakepoint.emit(!0):this.screenBrakepoint.emit(!1)}}return D.\u0275fac=function(N){return new(N||D)},D.\u0275dir=d.lG2({type:D,selectors:[["","screenBrakepoint",""]],hostBindings:function(N,B){1&N&&d.NdJ("resize",function(ne){return B.handleScreenBrakepoint(ne)},!1,d.Jf7)},outputs:{screenBrakepoint:"screenBrakepoint"}}),D})()},21607:(wt,Se,p)=>{"use strict";var d=p(69808),v=p(5e3);class X extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends X{static makeCurrent(){(0,d.HT)(new G)}onAndCancel(be,he,Ue){return be.addEventListener(he,Ue,!1),()=>{be.removeEventListener(he,Ue,!1)}}dispatchEvent(be,he){be.dispatchEvent(he)}remove(be){be.parentNode&&be.parentNode.removeChild(be)}createElement(be,he){return(he=he||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,he){return"window"===he?window:"document"===he?be:"body"===he?be.body:null}getBaseHref(be){const he=function Z(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==he?null:function k(Ve){D=D||document.createElement("a"),D.setAttribute("href",Ve);const be=D.pathname;return"/"===be.charAt(0)?be:`/${be}`}(he)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,d.Mx)(document.cookie,be)}}let D,z=null;const N=new v.OlP("TRANSITION_ID"),Q=[{provide:v.ip1,useFactory:function B(Ve,be,he){return()=>{he.get(v.CZH).donePromise.then(()=>{const Ue=(0,d.q)(),_t=be.querySelectorAll(`style[ng-transition="${Ve}"]`);for(let $t=0;$t<_t.length;$t++)Ue.remove(_t[$t])})}},deps:[N,d.K0,v.zs3],multi:!0}];class ne{static init(){(0,v.VLi)(new ne)}addToWindow(be){v.dqk.getAngularTestability=(Ue,_t=!0)=>{const $t=be.findTestabilityInTree(Ue,_t);if(null==$t)throw new Error("Could not find testability for element.");return $t},v.dqk.getAllAngularTestabilities=()=>be.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>be.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Ue=>{const _t=v.dqk.getAllAngularTestabilities();let $t=_t.length,mn=!1;const Rn=function(Yn){mn=mn||Yn,$t--,0==$t&&Ue(mn)};_t.forEach(function(Yn){Yn.whenStable(Rn)})})}findTestabilityInTree(be,he,Ue){if(null==he)return null;const _t=be.getTestability(he);return null!=_t?_t:Ue?(0,d.q)().isShadowRoot(he)?this.findTestabilityInTree(be,he.host,!0):this.findTestabilityInTree(be,he.parentElement,!0):null}}let te=(()=>{class Ve{build(){return new XMLHttpRequest}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const ae=new v.OlP("EventManagerPlugins");let re=(()=>{class Ve{constructor(he,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,he.forEach(_t=>_t.manager=this),this._plugins=he.slice().reverse()}addEventListener(he,Ue,_t){return this._findPluginFor(Ue).addEventListener(he,Ue,_t)}addGlobalEventListener(he,Ue,_t){return this._findPluginFor(Ue).addGlobalEventListener(he,Ue,_t)}getZone(){return this._zone}_findPluginFor(he){const Ue=this._eventNameToPlugin.get(he);if(Ue)return Ue;const _t=this._plugins;for(let $t=0;$t<_t.length;$t++){const mn=_t[$t];if(mn.supports(he))return this._eventNameToPlugin.set(he,mn),mn}throw new Error(`No event manager plugin found for event ${he}`)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(ae),v.LFG(v.R0b))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class ${constructor(be){this._doc=be}addGlobalEventListener(be,he,Ue){const _t=(0,d.q)().getGlobalEventTarget(this._doc,be);if(!_t)throw new Error(`Unsupported event target ${_t} for event ${he}`);return this.addEventListener(_t,he,Ue)}}let F=(()=>{class Ve{constructor(){this._stylesSet=new Set}addStyles(he){const Ue=new Set;he.forEach(_t=>{this._stylesSet.has(_t)||(this._stylesSet.add(_t),Ue.add(_t))}),this.onStylesAdded(Ue)}onStylesAdded(he){}getAllStyles(){return Array.from(this._stylesSet)}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),R=(()=>{class Ve extends F{constructor(he){super(),this._doc=he,this._hostNodes=new Map,this._hostNodes.set(he.head,[])}_addStylesToHost(he,Ue,_t){he.forEach($t=>{const mn=this._doc.createElement("style");mn.textContent=$t,_t.push(Ue.appendChild(mn))})}addHost(he){const Ue=[];this._addStylesToHost(this._stylesSet,he,Ue),this._hostNodes.set(he,Ue)}removeHost(he){const Ue=this._hostNodes.get(he);Ue&&Ue.forEach(U),this._hostNodes.delete(he)}onStylesAdded(he){this._hostNodes.forEach((Ue,_t)=>{this._addStylesToHost(he,_t,Ue)})}ngOnDestroy(){this._hostNodes.forEach(he=>he.forEach(U))}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(d.K0))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();function U(Ve){(0,d.q)().remove(Ve)}const A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V=/%COMP%/g,Y="%COMP%",oe=`_nghost-${Y}`,se=`_ngcontent-${Y}`;function q(Ve,be,he){for(let Ue=0;Ue<be.length;Ue++){let _t=be[Ue];Array.isArray(_t)?q(Ve,_t,he):(_t=_t.replace(V,Ve),he.push(_t))}return he}function ue(Ve){return be=>{if("__ngUnwrap__"===be)return Ve;!1===Ve(be)&&(be.preventDefault(),be.returnValue=!1)}}let ye=(()=>{class Ve{constructor(he,Ue,_t){this.eventManager=he,this.sharedStylesHost=Ue,this.appId=_t,this.rendererByCompId=new Map,this.defaultRenderer=new pe(he)}createRenderer(he,Ue){if(!he||!Ue)return this.defaultRenderer;switch(Ue.encapsulation){case v.ifc.Emulated:{let _t=this.rendererByCompId.get(Ue.id);return _t||(_t=new Me(this.eventManager,this.sharedStylesHost,Ue,this.appId),this.rendererByCompId.set(Ue.id,_t)),_t.applyToHost(he),_t}case 1:case v.ifc.ShadowDom:return new ve(this.eventManager,this.sharedStylesHost,he,Ue);default:if(!this.rendererByCompId.has(Ue.id)){const _t=q(Ue.id,Ue.styles,[]);this.sharedStylesHost.addStyles(_t),this.rendererByCompId.set(Ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(re),v.LFG(R),v.LFG(v.AFp))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class pe{constructor(be){this.eventManager=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(be,he){return he?document.createElementNS(A[he]||he,be):document.createElement(be)}createComment(be){return document.createComment(be)}createText(be){return document.createTextNode(be)}appendChild(be,he){be.appendChild(he)}insertBefore(be,he,Ue){be&&be.insertBefore(he,Ue)}removeChild(be,he){be&&be.removeChild(he)}selectRootElement(be,he){let Ue="string"==typeof be?document.querySelector(be):be;if(!Ue)throw new Error(`The selector "${be}" did not match any elements`);return he||(Ue.textContent=""),Ue}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,he,Ue,_t){if(_t){he=_t+":"+he;const $t=A[_t];$t?be.setAttributeNS($t,he,Ue):be.setAttribute(he,Ue)}else be.setAttribute(he,Ue)}removeAttribute(be,he,Ue){if(Ue){const _t=A[Ue];_t?be.removeAttributeNS(_t,he):be.removeAttribute(`${Ue}:${he}`)}else be.removeAttribute(he)}addClass(be,he){be.classList.add(he)}removeClass(be,he){be.classList.remove(he)}setStyle(be,he,Ue,_t){_t&(v.JOm.DashCase|v.JOm.Important)?be.style.setProperty(he,Ue,_t&v.JOm.Important?"important":""):be.style[he]=Ue}removeStyle(be,he,Ue){Ue&v.JOm.DashCase?be.style.removeProperty(he):be.style[he]=""}setProperty(be,he,Ue){be[he]=Ue}setValue(be,he){be.nodeValue=he}listen(be,he,Ue){return"string"==typeof be?this.eventManager.addGlobalEventListener(be,he,ue(Ue)):this.eventManager.addEventListener(be,he,ue(Ue))}}class Me extends pe{constructor(be,he,Ue,_t){super(be),this.component=Ue;const $t=q(_t+"-"+Ue.id,Ue.styles,[]);he.addStyles($t),this.contentAttr=function le(Ve){return se.replace(V,Ve)}(_t+"-"+Ue.id),this.hostAttr=function de(Ve){return oe.replace(V,Ve)}(_t+"-"+Ue.id)}applyToHost(be){super.setAttribute(be,this.hostAttr,"")}createElement(be,he){const Ue=super.createElement(be,he);return super.setAttribute(Ue,this.contentAttr,""),Ue}}class ve extends pe{constructor(be,he,Ue,_t){super(be),this.sharedStylesHost=he,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $t=q(_t.id,_t.styles,[]);for(let mn=0;mn<$t.length;mn++){const Rn=document.createElement("style");Rn.textContent=$t[mn],this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(be,he){return super.appendChild(this.nodeOrShadowRoot(be),he)}insertBefore(be,he,Ue){return super.insertBefore(this.nodeOrShadowRoot(be),he,Ue)}removeChild(be,he){return super.removeChild(this.nodeOrShadowRoot(be),he)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}}let Le=(()=>{class Ve extends ${constructor(he){super(he)}supports(he){return!0}addEventListener(he,Ue,_t){return he.addEventListener(Ue,_t,!1),()=>this.removeEventListener(he,Ue,_t)}removeEventListener(he,Ue,_t){return he.removeEventListener(Ue,_t)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(d.K0))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const je=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:Ve=>Ve.altKey,control:Ve=>Ve.ctrlKey,meta:Ve=>Ve.metaKey,shift:Ve=>Ve.shiftKey};let Ne=(()=>{class Ve extends ${constructor(he){super(he)}supports(he){return null!=Ve.parseEventName(he)}addEventListener(he,Ue,_t){const $t=Ve.parseEventName(Ue),mn=Ve.eventCallback($t.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(he,$t.domEventName,mn))}static parseEventName(he){const Ue=he.toLowerCase().split("."),_t=Ue.shift();if(0===Ue.length||"keydown"!==_t&&"keyup"!==_t)return null;const $t=Ve._normalizeKey(Ue.pop());let mn="";if(je.forEach(Yn=>{const Rr=Ue.indexOf(Yn);Rr>-1&&(Ue.splice(Rr,1),mn+=Yn+".")}),mn+=$t,0!=Ue.length||0===$t.length)return null;const Rn={};return Rn.domEventName=_t,Rn.fullKey=mn,Rn}static getEventFullKey(he){let Ue="",_t=function xe(Ve){let be=Ve.key;if(null==be){if(be=Ve.keyIdentifier,null==be)return"Unidentified";be.startsWith("U+")&&(be=String.fromCharCode(parseInt(be.substring(2),16)),3===Ve.location&&nt.hasOwnProperty(be)&&(be=nt[be]))}return Re[be]||be}(he);return _t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),je.forEach($t=>{$t!=_t&&pt[$t](he)&&(Ue+=$t+".")}),Ue+=_t,Ue}static eventCallback(he,Ue,_t){return $t=>{Ve.getEventFullKey($t)===he&&_t.runGuarded(()=>Ue($t))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(d.K0))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const ct=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:d.bD},{provide:v.g9A,useValue:function Ye(){G.makeCurrent(),ne.init()},multi:!0},{provide:d.K0,useFactory:function Fe(){return(0,v.RDi)(document),document},deps:[]}]),we=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Ke(){return new v.qLn},deps:[]},{provide:ae,useClass:Le,multi:!0,deps:[d.K0,v.R0b,v.Lbi]},{provide:ae,useClass:Ne,multi:!0,deps:[d.K0]},{provide:ye,useClass:ye,deps:[re,R,v.AFp]},{provide:v.FYo,useExisting:ye},{provide:F,useExisting:R},{provide:R,useClass:R,deps:[d.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:re,useClass:re,deps:[ae,v.R0b]},{provide:d.JF,useClass:te,deps:[]}];let Be=(()=>{class Ve{constructor(he){if(he)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(he){return{ngModule:Ve,providers:[{provide:v.AFp,useValue:he.appId},{provide:N,useExisting:v.AFp},Q]}}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(Ve,12))},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({providers:we,imports:[d.ez,v.hGG]}),Ve})();"undefined"!=typeof window&&window;var Hn=p(49770),Mt=p(62843),Bt=p(54968),wn=p(39646),Ut=p(97272),Cn=p(77579),Bn=p(68306),er=p(25032);const or=new Bn.y(er.Z);var wi=p(56451),Ei=p(54004),kr=p(39300),Fi=p(63900),rs=p(94033),Zr=p(30576),fi=p(38421),Ui=p(54482);const Ii={connector:()=>new Cn.x};function Hi(Ve,be=Ii){const{connector:he}=be;return(0,Ui.e)((Ue,_t)=>{const $t=he();(0,fi.Xf)(Ve(function hr(Ve){return new Bn.y(be=>Ve.subscribe(be))}($t))).subscribe(_t),_t.add(Ue.subscribe($t))})}var Bi=p(95698),Ts=p(18505),Li=p(34986),ps=p(25403),Pn=p(95577);function yr(Ve,be){return be?he=>(0,Ut.z)(be.pipe((0,Bi.q)(1),function ut(){return(0,Ui.e)((Ve,be)=>{Ve.subscribe((0,ps.x)(be,er.Z))})}()),he.pipe(yr(Ve))):(0,Pn.z)((he,Ue)=>Ve(he,Ue).pipe((0,Bi.q)(1),function Zn(Ve){return(0,Ei.U)(()=>Ve)}(he)))}var Pr=p(5963);const Yr="Service workers are disabled or not supported by this browser";class Oi{constructor(be){if(this.serviceWorker=be,be){const Ue=(0,Bt.R)(be,"controllerchange").pipe((0,Ei.U)(()=>be.controller)),_t=(0,Hn.P)(()=>(0,wn.of)(be.controller)),$t=(0,Ut.z)(_t,Ue);this.worker=$t.pipe((0,kr.h)(bi=>!!bi)),this.registration=this.worker.pipe((0,Fi.w)(()=>be.getRegistration()));const Rr=(0,Bt.R)(be,"message").pipe((0,Ei.U)(bi=>bi.data)).pipe((0,kr.h)(bi=>bi&&bi.type)).pipe(function gi(Ve){return Ve?be=>Hi(Ve)(be):be=>function Hs(Ve,be){const he=(0,Zr.m)(Ve)?Ve:()=>Ve;return(0,Zr.m)(be)?Hi(be,{connector:he}):Ue=>new rs.c(Ue,he)}(new Cn.x)(be)}());Rr.connect(),this.events=Rr}else this.worker=this.events=this.registration=function Lr(Ve){return(0,Hn.P)(()=>(0,Mt._)(new Error(Ve)))}(Yr)}postMessage(be,he){return this.worker.pipe((0,Bi.q)(1),(0,Ts.b)(Ue=>{Ue.postMessage(Object.assign({action:be},he))})).toPromise().then(()=>{})}postMessageWithOperation(be,he,Ue){const _t=this.waitForOperationCompleted(Ue),$t=this.postMessage(be,he);return Promise.all([$t,_t]).then(([,mn])=>mn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(be){let he;return he="string"==typeof be?Ue=>Ue.type===be:Ue=>be.includes(Ue.type),this.events.pipe((0,kr.h)(he))}nextEventOfType(be){return this.eventsOfType(be).pipe((0,Bi.q)(1))}waitForOperationCompleted(be){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,kr.h)(he=>he.nonce===be),(0,Bi.q)(1),(0,Ei.U)(he=>{if(void 0!==he.result)return he.result;throw new Error(he.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let li=(()=>{class Ve{constructor(he){if(this.sw=he,this.subscriptionChanges=new Cn.x,!he.isEnabled)return this.messages=or,this.notificationClicks=or,void(this.subscription=or);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ei.U)(_t=>_t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ei.U)(_t=>_t.data)),this.pushManager=this.sw.registration.pipe((0,Ei.U)(_t=>_t.pushManager));const Ue=this.pushManager.pipe((0,Fi.w)(_t=>_t.getSubscription()));this.subscription=(0,wi.T)(Ue,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(he){if(!this.sw.isEnabled)return Promise.reject(new Error(Yr));const Ue={userVisibleOnly:!0};let _t=this.decodeBase64(he.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),$t=new Uint8Array(new ArrayBuffer(_t.length));for(let mn=0;mn<_t.length;mn++)$t[mn]=_t.charCodeAt(mn);return Ue.applicationServerKey=$t,this.pushManager.pipe((0,Fi.w)(mn=>mn.subscribe(Ue)),(0,Bi.q)(1)).toPromise().then(mn=>(this.subscriptionChanges.next(mn),mn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Bi.q)(1),(0,Fi.w)(Ue=>{if(null===Ue)throw new Error("Not subscribed to push notifications.");return Ue.unsubscribe().then(_t=>{if(!_t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Yr))}decodeBase64(he){return atob(he)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(Oi))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),yi=(()=>{class Ve{constructor(he){if(this.sw=he,!he.isEnabled)return this.versionUpdates=or,this.available=or,this.activated=or,void(this.unrecoverable=or);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,kr.h)(Ue=>"VERSION_READY"===Ue.type),(0,Ei.U)(Ue=>({type:"UPDATE_AVAILABLE",current:Ue.currentVersion,available:Ue.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yr));const he=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:he},he)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yr));const he=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:he},he)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(Oi))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class Un{}const Qr=new v.OlP("NGSW_REGISTER_SCRIPT");function cs(Ve,be,he,Ue){return()=>{if(!(0,d.NF)(Ue)||!("serviceWorker"in navigator)||!1===he.enabled)return;let $t;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof he.registrationStrategy)$t=he.registrationStrategy();else{const[Rn,...Yn]=(he.registrationStrategy||"registerWhenStable:30000").split(":");switch(Rn){case"registerImmediately":$t=(0,wn.of)(null);break;case"registerWithDelay":$t=rn(+Yn[0]||0);break;case"registerWhenStable":$t=Yn[0]?(0,wi.T)(gn(Ve),rn(+Yn[0])):gn(Ve);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${he.registrationStrategy}`)}}Ve.get(v.R0b).runOutsideAngular(()=>$t.pipe((0,Bi.q)(1)).subscribe(()=>navigator.serviceWorker.register(be,{scope:he.scope}).catch(Rn=>console.error("Service worker registration failed with:",Rn))))}}function rn(Ve){return(0,wn.of)(null).pipe(function ni(Ve,be=Li.z){const he=(0,Pr.H)(Ve,be);return yr(()=>he)}(Ve))}function gn(Ve){return Ve.get(v.z2F).isStable.pipe((0,kr.h)(he=>he))}function kt(Ve,be){return new Oi((0,d.NF)(be)&&!1!==Ve.enabled?navigator.serviceWorker:void 0)}let An=(()=>{class Ve{static register(he,Ue={}){return{ngModule:Ve,providers:[{provide:Qr,useValue:he},{provide:Un,useValue:Ue},{provide:Oi,useFactory:kt,deps:[Un,v.Lbi]},{provide:v.ip1,useFactory:cs,deps:[v.zs3,Qr,Un,v.Lbi],multi:!0}]}}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({providers:[li,yi]}),Ve})();var fr=p(99902),wr=p(80076),Jr=p(93075),Br=p(35226),ti=p.n(Br),Ai=p(89495),Fr=p(40520),Ni=p(7568),Ji=p(35810);let Gs=(()=>{class Ve{constructor(he,Ue,_t){this.http=he,this.urlConfig=Ue,this.userService=_t}login(he){return this.http.post(`${this.urlConfig.url}/${Ai.M.USER}/login`,he).pipe((0,Ts.b)(_t=>this.userService.currentUser=_t.user))}logout(){return this.userService.currentUser=null,(0,wn.of)(!0)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(Fr.eN),v.LFG(Ni.F),v.LFG(Ji.K))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})();var Vi=p(37968),Rs=p(31424),Ps=p(85921);const Is=["cb"],Ds=function(Ve,be,he){return{"p-checkbox-label":!0,"p-checkbox-label-active":Ve,"p-disabled":be,"p-checkbox-label-focus":he}};function yo(Ve,be){if(1&Ve){const he=v.EpF();v.TgZ(0,"label",7),v.NdJ("click",function(_t){v.CHM(he);const $t=v.oxw(),mn=v.MAs(3);return $t.onClick(_t,mn,!0)}),v._uU(1),v.qZA()}if(2&Ve){const he=v.oxw();v.Tol(he.labelStyleClass),v.Q6J("ngClass",v.kEZ(5,Ds,he.checked(),he.disabled,he.focused)),v.uIk("for",he.inputId),v.xp6(1),v.Oqu(he.label)}}const Oo=function(Ve,be,he){return{"p-checkbox p-component":!0,"p-checkbox-checked":Ve,"p-checkbox-disabled":be,"p-checkbox-focused":he}},oo=function(Ve,be,he){return{"p-highlight":Ve,"p-disabled":be,"p-focus":he}},ho={provide:Jr.JU,useExisting:(0,v.Gpc)(()=>po),multi:!0};let po=(()=>{class Ve{constructor(he){this.cd=he,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new v.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(he,Ue,_t){he.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(he),_t&&Ue.focus())}updateModel(he){let Ue;this.binary?(Ue=this.checked()?this.falseValue:this.trueValue,this.model=Ue,this.onModelChange(Ue)):(Ue=this.checked()?this.model.filter(_t=>!Ps.gb.equals(_t,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(Ue),this.model=Ue,this.formControl&&this.formControl.setValue(Ue)),this.onChange.emit({checked:Ue,originalEvent:he})}handleChange(he){this.readonly||this.updateModel(he)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(he){this.model=he,this.cd.markForCheck()}registerOnChange(he){this.onModelChange=he}registerOnTouched(he){this.onModelTouched=he}setDisabledState(he){this.disabled=he,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Ps.gb.contains(this.value,this.model)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(v.sBO))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["p-checkbox"]],viewQuery:function(he,Ue){if(1&he&&v.Gf(Is,5),2&he){let _t;v.iGM(_t=v.CRH())&&(Ue.inputViewChild=_t.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[v._Bn([ho])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(he,Ue){if(1&he){const _t=v.EpF();v.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),v.NdJ("focus",function(){return Ue.onFocus()})("blur",function(){return Ue.onBlur()})("change",function(mn){return Ue.handleChange(mn)}),v.qZA()(),v.TgZ(4,"div",4),v.NdJ("click",function(mn){v.CHM(_t);const Rn=v.MAs(3);return Ue.onClick(mn,Rn,!0)}),v._UZ(5,"span",5),v.qZA()(),v.YNc(6,yo,2,9,"label",6)}2&he&&(v.Tol(Ue.styleClass),v.Q6J("ngStyle",Ue.style)("ngClass",v.kEZ(18,Oo,Ue.checked(),Ue.disabled,Ue.focused)),v.xp6(2),v.Q6J("readonly",Ue.readonly)("value",Ue.value)("checked",Ue.checked())("disabled",Ue.disabled),v.uIk("id",Ue.inputId)("name",Ue.name)("tabindex",Ue.tabindex)("aria-labelledby",Ue.ariaLabelledBy)("aria-label",Ue.ariaLabel)("aria-checked",Ue.checked())("required",Ue.required),v.xp6(2),v.Q6J("ngClass",v.kEZ(22,oo,Ue.checked(),Ue.disabled,Ue.focused)),v.xp6(1),v.Q6J("ngClass",Ue.checked()?Ue.checkboxIcon:null),v.xp6(1),v.Q6J("ngIf",Ue.label))},directives:[d.PC,d.mk,d.O5],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),Ve})(),qs=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez]]}),Ve})();var $i=p(40845),gs=p(15315),Ys=p(59783);function _o(Ve,be){1&Ve&&(v.TgZ(0,"small",28),v._uU(1," *Veuillez renseigner votre nom d'utilisateur "),v.qZA())}function cn(Ve,be){1&Ve&&(v.TgZ(0,"small",29),v._uU(1," *Veuillez saisir votre mot de passe "),v.qZA())}function _r(Ve,be){1&Ve&&(v.TgZ(0,"span"),v._uU(1,"R\xe9initialiser le mot de passe"),v.qZA())}function Er(Ve,be){1&Ve&&(v.TgZ(0,"small",37),v._uU(1," *Veuillez saisir votre adresse e-mail "),v.qZA())}function Jt(Ve,be){if(1&Ve&&(v._uU(0," Saisissez l'adresse \xe9lectronique associ\xe9 \xe0 votre compte. Nous vous enverrons un lien pour r\xe9initialiser votre mot de passe. "),v.TgZ(1,"div",30)(2,"form",31)(3,"div",7)(4,"div",8)(5,"span",32),v._UZ(6,"i",33)(7,"input",34),v.TgZ(8,"label",35),v._uU(9,"E-mail"),v.qZA()(),v.YNc(10,Er,2,0,"small",36),v.qZA()()()()),2&Ve){const he=v.oxw();v.xp6(2),v.Q6J("formGroup",he.forgotPwaForm),v.xp6(5),v.Tol("min-w-full custom"),v.xp6(3),v.Q6J("ngIf",(null==he.forgotPwaForm.controls||null==he.forgotPwaForm.controls.email?null:he.forgotPwaForm.controls.email.errors)&&(null==he.forgotPwaForm.controls||null==he.forgotPwaForm.controls.email?null:he.forgotPwaForm.controls.email.touched))}}const hn=function(){return{color:"var(--gray-600)"}};function at(Ve,be){if(1&Ve){const he=v.EpF();v.TgZ(0,"p-button",38),v.NdJ("click",function(){return v.CHM(he),v.oxw().openModalPwa=!1}),v.qZA(),v.TgZ(1,"p-button",39),v.NdJ("click",function(){return v.CHM(he),v.oxw().resetPassword()}),v.qZA()}2&Ve&&(v.Akn(v.DdM(4,hn)),v.Q6J("styleClass","p-button-text p-button-secondary"),v.xp6(1),v.Q6J("styleClass","p-button-text"))}const Vt=function(){return{width:"420px"}},yn=function(){return{"576px":"95vw"}},rt=function(){return{padding:"0px 15px"}};const un=[{path:wr.$.AUTH_LOGIN,component:(()=>{class Ve{constructor(he,Ue,_t,$t){this.authService=he,this.fb=Ue,this.logger=_t,this.router=$t,this.logoVs="../../../../../assets/img/site/logo_vs_black.svg",this.logoChasse="../../../../../assets/img/site/logo_chasse_black.svg",this.animaux="../../../../../assets/img/site/background_animaux.png",this.openModalPwa=!1,this.year=(new Date).getFullYear(),this.loginForm=this.fb.group({username:["",Jr.kI.required],password:["",Jr.kI.required],remember:!1}),this.forgotPwaForm=this.fb.group({email:["",[Jr.kI.required,Jr.kI.email]]})}ngOnInit(){this.logger.debug("LoginComponent: ngOnInit()");const he=localStorage.getItem("username");he&&(this.loginForm.controls.username.setValue(he),this.loginForm.controls.remember.setValue(!0))}validateForm(he){var Ue,_t,$t,mn;return(null===(_t=null===(Ue=this.loginForm.controls)||void 0===Ue?void 0:Ue[he])||void 0===_t?void 0:_t.errors)&&(null===(mn=null===($t=this.loginForm.controls)||void 0===$t?void 0:$t[he])||void 0===mn?void 0:mn.touched)}login(){if(this.loginForm.invalid)return void this.loginForm.markAllAsTouched();const{username:he,password:Ue}=this.loginForm.value;this.authService.login({username:he,password:Ue}).subscribe({next:()=>{const{remember:_t,username:$t}=this.loginForm.value;_t?localStorage.setItem("username",$t):localStorage.removeItem("username"),this.router.navigate([wr.$.PWA_PATH,wr.$.PWA_FORM_CHASSE])},error:_t=>ti().fire("Erreur de connexion",_t.error.msg,"error")})}resetPassword(){this.forgotPwaForm.invalid?this.forgotPwaForm.markAllAsTouched():(this.openModalPwa=!1,this.forgotPwaForm.reset(),ti().fire("Succ\xe8s","Nous vous avons envoy\xe9 un courriel \xe0 l\u2019adresse indiqu\xe9e.Il contient un lien pour r\xe9initialiser votre mot de passe.","success"))}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Gs),v.Y36(Jr.qu),v.Y36(Vi.Kf),v.Y36(fr.F0))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-login"]],decls:39,vars:27,consts:[["id","wrapper",1,"login-page"],[1,"card-overlay"],[1,"login-box"],[1,"logo"],[3,"src"],[1,"title"],["autocomplete","off",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"p-input"],[1,"p-input-icon-left","min-w-full"],[1,"pi","pi-user",2,"font-size","1.3rem"],["formControlName","username","pInputText","","id","username","name","username","type","text","placeholder","Nom d'utilisateur","required",""],["id","username-error","class","p-error block mt-2",4,"ngIf"],[1,"pi","pi-lock",2,"font-size","1.3rem"],["formControlName","password","pInputText","","id","password","name","password","type","password","placeholder","Mot de passe","required",""],["id","password-error","class","p-error block mt-2",4,"ngIf"],[1,"form-group","other"],[1,"field-checkbox","remember"],["formControlName","remember","name","remember",3,"binary","styleClass"],["for","remember"],[1,"forgot-pwd"],[3,"click"],[1,"mt-12"],["type","submit","label","Se connecter",3,"styleClass"],[3,"visible","breakpoints","modal","baseZIndex","closeIcon","contentStyle","draggable","resizable","styleClass","visibleChange","onHide"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],["id","username-error",1,"p-error","block","mt-2"],["id","password-error",1,"p-error","block","mt-2"],[1,"my-5"],[1,"form-horizontal","form-material",3,"formGroup"],[1,"p-float-label","p-input-icon-left","min-w-full"],[1,"pi","pi-envelope",2,"font-size","1.3rem"],["formControlName","email","id","email","type","email","pInputText","","required",""],["for","float-input"],["id","email-error","class","p-error block mt-2",4,"ngIf"],["id","email-error",1,"p-error","block","mt-2"],["icon","pi pi-times","label","Annuler",3,"styleClass","click"],["icon","pi pi-check","label","Envoyer",3,"styleClass","click"]],template:function(he,Ue){1&he&&(v.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"header")(4,"div",3),v._UZ(5,"img",4),v.qZA(),v.TgZ(6,"div",5),v._UZ(7,"img",4),v.qZA()(),v.TgZ(8,"section")(9,"form",6),v.NdJ("ngSubmit",function(){return Ue.login()}),v.TgZ(10,"div",7)(11,"div",8)(12,"span",9),v._UZ(13,"i",10)(14,"input",11),v.qZA(),v.YNc(15,_o,2,0,"small",12),v.qZA()(),v.TgZ(16,"div",7)(17,"div",8)(18,"span",9),v._UZ(19,"i",13)(20,"input",14),v.qZA(),v.YNc(21,cn,2,0,"small",15),v.qZA()(),v.TgZ(22,"div",16)(23,"div",17),v._UZ(24,"p-checkbox",18),v.TgZ(25,"label",19),v._uU(26,"Se souvenir de moi"),v.qZA()(),v.TgZ(27,"div",20)(28,"p",21),v.NdJ("click",function(){return Ue.openModalPwa=!0}),v._uU(29,"Mot de passe oubli\xe9 ?"),v.qZA()()(),v.TgZ(30,"div",22)(31,"div"),v._UZ(32,"p-button",23),v.qZA()()()(),v.TgZ(33,"footer"),v._UZ(34,"img",4),v.qZA()()()(),v.TgZ(35,"p-dialog",24),v.NdJ("visibleChange",function($t){return Ue.openModalPwa=$t})("onHide",function(){return Ue.forgotPwaForm.reset()}),v.YNc(36,_r,2,0,"ng-template",25),v.YNc(37,Jt,11,4,"ng-template",26),v.YNc(38,at,2,5,"ng-template",27),v.qZA()),2&he&&(v.xp6(5),v.Q6J("src",Ue.logoVs,v.LSH),v.xp6(2),v.Q6J("src",Ue.logoChasse,v.LSH),v.xp6(2),v.Q6J("formGroup",Ue.loginForm),v.xp6(5),v.Tol("min-w-full custom"),v.xp6(1),v.Q6J("ngIf",Ue.validateForm("username")),v.xp6(5),v.Tol("min-w-full custom"),v.xp6(1),v.Q6J("ngIf",Ue.validateForm("password")),v.xp6(3),v.Q6J("binary",!0)("styleClass","custom mr-2"),v.xp6(8),v.Q6J("styleClass","p-button-lg custom shadow"),v.xp6(2),v.Q6J("src",Ue.animaux,v.LSH),v.xp6(1),v.Akn(v.DdM(24,Vt)),v.Q6J("visible",Ue.openModalPwa)("breakpoints",v.DdM(25,yn))("modal",!0)("baseZIndex",1200)("closeIcon","pi pi-times")("contentStyle",v.DdM(26,rt))("draggable",!1)("resizable",!1)("styleClass","custom"))},directives:[Jr._Y,Jr.JL,Jr.sg,Jr.Fj,Jr.JJ,Jr.u,Rs.o,Jr.Q7,d.O5,po,$i.zx,gs.V,Ys.jx],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh}@media only screen and (min-width: 768px){.login-page[_ngcontent-%COMP%]{background-image:url(background.cedba993b5a38a76.jpg);background-size:cover;background-repeat:no-repeat;background-position:center center}}.login-page[_ngcontent-%COMP%]   .card-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);position:absolute;height:auto;bottom:0;top:0;left:0;right:0;display:flex;justify-content:center;align-items:center}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;width:100%;background-color:#fff}@media only screen and (min-width: 768px){.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{min-height:600px;width:460px;border-radius:4px;background-color:#fff;box-shadow:0 1px 4px #00000080}}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px 15px 5px}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{min-width:100%;display:flex;justify-content:flex-start}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:89px}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:203px;margin:20px 0}@media only screen and (min-width: 768px){.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:35px 0}}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:0 15px;flex:1 1 auto}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{color:#20222a;display:flex;flex-direction:row}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]   .remember[_ngcontent-%COMP%]{flex-grow:1}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]   .forgot-pwd[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--gray-400)}.login-page[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),Ve})()}];let qt=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[fr.Bz.forChild(un)],fr.Bz]}),Ve})();var xn=p(5454),Kn=p(26061);const yt=function(Ve){return{offline:Ve}};let Ct=(()=>{class Ve{constructor(he,Ue){this.logger=he,this.router=Ue,this.isOnline=!0,this.title="",this.router.events.pipe((0,kr.h)(_t=>_t instanceof fr.jw),(0,kr.h)(_t=>null===_t.snapshot.firstChild),(0,Ei.U)(_t=>_t.snapshot.data)).subscribe(({title:_t})=>this.title=_t)}ngOnInit(){this.logger.debug("BreadcrumbComponent: ngOnInit()")}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Vi.Kf),v.Y36(fr.F0))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-breadcrumb"]],inputs:{isOnline:"isOnline"},decls:12,vars:5,consts:[[1,"breadcrumb"],[1,"content"],[1,"title"],[1,"links"],[1,"active",3,"ngClass"]],template:function(he,Ue){1&he&&(v.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),v._uU(4),v.qZA()(),v.TgZ(5,"div",3)(6,"nav")(7,"ul")(8,"li"),v._uU(9,"PWA"),v.qZA(),v.TgZ(10,"li",4),v._uU(11),v.qZA()()()()()()),2&he&&(v.xp6(4),v.Oqu(Ue.title),v.xp6(6),v.Q6J("ngClass",v.VKq(3,yt,!Ue.isOnline)),v.xp6(1),v.Oqu(Ue.title))},directives:[d.mk],styles:['.breadcrumb[_ngcontent-%COMP%]{border-bottom:1px solid rgba(120,130,140,.13)!important}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 25px;background-color:#edf1f5}@media only screen and (min-width: 768px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.title[_ngcontent-%COMP%]{flex-grow:1;font-weight:500;text-transform:uppercase}.links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin-top:.5rem}@media only screen and (min-width: 768px){.links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;color:#8898aa}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#2cabe3}ul[_ngcontent-%COMP%]   li.active.offline[_ngcontent-%COMP%]{color:#687384}li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{content:"\\f105";font-family:"Font Awesome 6 Free";color:#a6b7bf;font-size:12px;padding-right:.5rem;padding-left:.5rem}']}),Ve})();var nn=p(74616),et=p(32076),St=p(4128),ht=p(24351);let Wt=(()=>{class Ve{constructor(he,Ue,_t,$t,mn){this.logger=he,this.http=Ue,this.swPush=_t,this.urlConfig=$t,this.userService=mn,this.newNotification$=new Cn.x,this.onInit()}onInit(){this.logger.debug("NotificationService: onInit."),this.receivedNotification(),this.notificationClicks()}getSubscriptionPublicKey(){return this.logger.debug("NotificationService: getSubscriptionPublicKey."),this.http.get(`${this.urlConfig.url}/${Ai.M.NOTIFICATION}/publicKey`).pipe((0,Ei.U)(Ue=>Ue.publicKey))}saveSubscription(he){this.logger.debug("NotificationService: saveSubscription.");const Ue=`${this.urlConfig.url}/${Ai.M.NOTIFICATION}/subscribe`,_t=(new Fr.WM).set("Content-Type","application/json");return this.http.post(Ue,JSON.stringify(he),{headers:_t})}receivedNotification(){this.logger.debug("NotificationService: receivedNotification."),this.swPush.messages.subscribe(he=>{var Ue;const{notification:_t}=he;_t.data.notificationRead=!1,_t.data.dateOfArrival=(new Date).getTime(),_t.data.userId=null===(Ue=this.userService.currentUser)||void 0===Ue?void 0:Ue.id;const $t=`${this.urlConfig.url}/${Ai.M.NOTIFICATION}/notification`,mn=(new Fr.WM).set("Content-Type","application/json");this.http.post($t,JSON.stringify(_t),{headers:mn}).subscribe(()=>{this.newNotification$.next(!0)})})}notificationClicks(){this.logger.debug("NotificationService: notificationClicks."),this.swPush.notificationClicks.subscribe(he=>{this.logger.debug("notificationClicks: ",he)})}getNotifications(){var he;this.logger.debug("NotificationService: getNotifications.");const Ue=`${this.urlConfig.url}/${Ai.M.NOTIFICATION}/notifications/${null===(he=this.userService.currentUser)||void 0===he?void 0:he.id}`;return this.http.get(Ue).pipe((0,Ei.U)(_t=>_t.notifications))}checkNotificationPermissions(){this.logger.debug("NotificationService: checkNotifiesPermission.");const he=[];window.Notification||he.push((0,wn.of)("Votre navigateur ne supporte pas les notifications push."));const Ue=Notification.permission;return he.push("default"===Ue?(0,et.D)(Notification.requestPermission()):(0,wn.of)(Ue)),(0,St.D)(he).pipe((0,Ei.U)(_t=>_t[0]))}subscribeToNotifications(){return this.logger.debug("NotificationService: subscribeToNotifications."),this.getSubscriptionPublicKey().pipe((0,ht.b)(he=>(0,et.D)(this.swPush.requestSubscription({serverPublicKey:he})).pipe((0,Ei.U)(Ue=>Ue.toJSON()),(0,Ei.U)(Ue=>this.saveSubscription(Ue)))))}unsubscribeToNotifications(){return this.logger.debug("NotificationService: unsubscribeToNotifications."),(0,et.D)(this.swPush.unsubscribe())}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(Vi.Kf),v.LFG(Fr.eN),v.LFG(li),v.LFG(Ni.F),v.LFG(Ji.K))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})();var Sn=p(25787),Jn=p(75730);let mr=(()=>{class Ve{constructor(he){this.el=he,this.iconPos="left"}ngAfterViewInit(){this.id=(0,Ps.Th)()+"_badge";let he=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement,Ue=document.createElement("span");Ue.id=this.id,Ue.className="p-badge p-component",this.severity&&Jn.p.addClass(Ue,"p-badge-"+this.severity),null!=this.value?(Ue.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&Jn.p.addClass(Ue,"p-badge-no-gutter")):Jn.p.addClass(Ue,"p-badge-dot"),Jn.p.addClass(he,"p-overlay-badge"),he.appendChild(Ue),this.initialized=!0}get value(){return this._value}set value(he){if(he!==this._value&&(this._value=he,this.initialized)){let Ue=document.getElementById(this.id);this._value?(Jn.p.hasClass(Ue,"p-badge-dot")&&Jn.p.removeClass(Ue,"p-badge-dot"),1===String(this._value).length?Jn.p.addClass(Ue,"p-badge-no-gutter"):Jn.p.removeClass(Ue,"p-badge-no-gutter")):!this._value&&!Jn.p.hasClass(Ue,"p-badge-dot")&&Jn.p.addClass(Ue,"p-badge-dot"),Ue.innerHTML="",Ue.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(v.SBq))},Ve.\u0275dir=v.lG2({type:Ve,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",value:"value",severity:"severity"}}),Ve})(),ji=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez],Ys.m8]}),Ve})();var ki=p(42266),_i=p(39569);const os=["ToastComponent"];function vo(Ve,be){if(1&Ve&&(v.ynx(0),v.TgZ(1,"div",24),v._UZ(2,"img",25),v.qZA(),v.BQk()),2&Ve){const he=v.oxw();v.xp6(2),v.Q6J("src",he.logoExpand,v.LSH)}}const fs=function(Ve){return{display:Ve}};function no(Ve,be){if(1&Ve&&(v.TgZ(0,"div",26),v._UZ(1,"img",19)(2,"img",19),v.qZA()),2&Ve){const he=v.oxw();v.xp6(1),v.Q6J("ngStyle",v.VKq(4,fs,he.isOnline?"flex":"none"))("src",he.logoCollapse,v.LSH),v.xp6(1),v.Q6J("ngStyle",v.VKq(6,fs,he.isOnline?"none":"flex"))("src",he.logoCollapseOffline,v.LSH)}}function Dt(Ve,be){if(1&Ve&&(v.ynx(0),v._UZ(1,"i",28),v.BQk()),2&Ve){const he=v.oxw(2);v.xp6(1),v.Q6J("value",he.newNotifications.toString())}}function Et(Ve,be){1&Ve&&v._UZ(0,"i",29)}function dt(Ve,be){if(1&Ve){const he=v.EpF();v.ynx(0),v.TgZ(1,"li",13),v.NdJ("click",function(){return v.CHM(he),v.oxw().getNotifications(!0)})("clickOutside",function(_t){return v.CHM(he),v.oxw().openDropdownNotifications=!_t}),v.YNc(2,Dt,2,1,"ng-container",3),v.YNc(3,Et,1,0,"ng-template",null,27,v.W1O),v.qZA(),v.BQk()}if(2&Ve){const he=v.MAs(4),Ue=v.oxw();v.xp6(1),v.Q6J("ngClass","waves-dark"),v.xp6(1),v.Q6J("ngIf",Ue.newNotifications)("ngIfElse",he)}}function Xt(Ve,be){1&Ve&&(v.TgZ(0,"li",30),v._UZ(1,"i",31),v.qZA())}function Mr(Ve,be){1&Ve&&(v.TgZ(0,"p"),v._uU(1,"Vous n'avez pas de notifications"),v.qZA())}function Ci(Ve,be){if(1&Ve&&(v.TgZ(0,"p"),v._uU(1),v.qZA()),2&Ve){const he=v.oxw(3);v.xp6(1),v.hij("Vous avez ",he.notifications.length," nouvelles notification")}}function ro(Ve,be){if(1&Ve&&(v.TgZ(0,"p"),v._uU(1),v.qZA()),2&Ve){const he=v.oxw(3);v.xp6(1),v.hij("Vous avez ",he.notifications.length," nouvelles notifications")}}function Wo(Ve,be){if(1&Ve&&(v.YNc(0,Ci,2,1,"p",39),v.YNc(1,ro,2,1,"p",39)),2&Ve){const he=v.oxw(2);v.Q6J("ngIf",1===he.notifications.length),v.xp6(1),v.Q6J("ngIf",he.notifications.length>1)}}const ja=function(Ve){return["notification",Ve]};function io(Ve,be){if(1&Ve&&(v.TgZ(0,"li",36)(1,"div",40)(2,"a",41)(3,"span",42),v._UZ(4,"p-avatar",14),v.qZA(),v.TgZ(5,"span",43)(6,"h5",44),v._uU(7),v.qZA(),v.TgZ(8,"span",45),v._uU(9),v.qZA(),v.TgZ(10,"span",46),v._uU(11),v.ALo(12,"date"),v.qZA()()()()()),2&Ve){const he=be.$implicit;v.Q6J("routerLink",v.VKq(9,ja,be.index)),v.xp6(4),v.Q6J("image",he.icon)("styleClass","custom-sm shadow"),v.xp6(3),v.Oqu(he.title),v.xp6(2),v.Oqu(he.body),v.xp6(2),v.Oqu(v.xi3(12,6,he.data.dateOfArrival,"shortTime"))}}const sa=function(){return["notifications"]};function Kr(Ve,be){if(1&Ve&&(v.TgZ(0,"div",32)(1,"ul")(2,"li")(3,"div",33),v.YNc(4,Mr,2,0,"p",3),v.YNc(5,Wo,2,2,"ng-template",null,34,v.W1O),v.qZA()(),v.YNc(7,io,13,11,"li",35),v.ALo(8,"slice"),v.TgZ(9,"li",36)(10,"div",37)(11,"a")(12,"b"),v._uU(13,"Voir toutes les notifications"),v.qZA(),v._UZ(14,"i",38),v.qZA()()()()()),2&Ve){const he=v.MAs(6),Ue=v.oxw();v.xp6(4),v.Q6J("ngIf",!Ue.notifications.length)("ngIfElse",he),v.xp6(3),v.Q6J("ngForOf",v.Dn7(8,4,Ue.notifications,0,5)),v.xp6(2),v.Q6J("routerLink",v.DdM(8,sa))}}function Ms(Ve,be){1&Ve&&(v.ynx(0),v._UZ(1,"i",29),v.BQk())}function ba(Ve,be){1&Ve&&v._UZ(0,"i",31)}function ws(Ve,be){1&Ve&&(v.ynx(0),v._UZ(1,"i",56),v.BQk())}function Aa(Ve,be){1&Ve&&v._UZ(0,"i",57)}const da=function(Ve){return{offline:Ve}},Ea=function(){return["profil"]};function bo(Ve,be){if(1&Ve){const he=v.EpF();v.TgZ(0,"div",47)(1,"ul")(2,"li")(3,"div",48)(4,"div",49),v._UZ(5,"p-avatar",14),v.qZA(),v.TgZ(6,"div",50)(7,"h4"),v._uU(8),v.qZA(),v.TgZ(9,"p"),v._uU(10),v.qZA()()()(),v.TgZ(11,"li",36)(12,"div",40)(13,"a",41),v._UZ(14,"i",51),v.TgZ(15,"span"),v._uU(16,"Param\xe8tres et profil"),v.qZA()()()(),v.TgZ(17,"li",52),v.NdJ("click",function(){return v.CHM(he),v.oxw().pushNotifications()}),v.TgZ(18,"div",40)(19,"a",41),v.YNc(20,Ms,2,0,"ng-container",3),v.YNc(21,ba,1,0,"ng-template",null,53,v.W1O),v.TgZ(23,"span"),v._uU(24,"Notifications"),v.qZA()()()(),v.TgZ(25,"li",52),v.NdJ("click",function(){return v.CHM(he),v.oxw().offlineSynchronization()}),v.TgZ(26,"div",40)(27,"a",41),v.YNc(28,ws,2,0,"ng-container",3),v.YNc(29,Aa,1,0,"ng-template",null,54,v.W1O),v.TgZ(31,"span"),v._uU(32,"Synchronisation hors ligne"),v.qZA()()()(),v.TgZ(33,"li",52),v.NdJ("click",function(){return v.CHM(he),v.oxw().logout()}),v.TgZ(34,"div",40)(35,"a",41),v._UZ(36,"i",55),v.TgZ(37,"span"),v._uU(38,"D\xe9connexion"),v.qZA()()()()()()}if(2&Ve){const he=v.MAs(22),Ue=v.MAs(30),_t=v.oxw();v.xp6(3),v.Q6J("ngClass",v.VKq(11,da,!_t.isOnline)),v.xp6(2),v.Q6J("image",_t.currentUser.image)("styleClass","custom-md border rounded"),v.xp6(3),v.AsE("",_t.currentUser.name," ",_t.currentUser.lastname,""),v.xp6(2),v.Oqu(_t.currentUser.rol),v.xp6(1),v.Q6J("routerLink",v.DdM(13,Ea)),v.xp6(9),v.Q6J("ngIf",_t.authNotifications)("ngIfElse",he),v.xp6(8),v.Q6J("ngIf",_t.currentUser.offlineSync)("ngIfElse",Ue)}}const eo=function(Ve,be){return{"collapse-sidebar":Ve,"expand-sidebar":be}},ao=function(Ve){return{"md animate__animated animate__fast animate__bounceInDown":Ve}};let vn=(()=>{class Ve{constructor(he,Ue,_t,$t,mn,Rn){this.authService=he,this.chassedbService=Ue,this.logger=_t,this.notificationService=$t,this.router=mn,this.userService=Rn,this.screenBrakepoint=!0,this.isOnline=!0,this.expandSidebar=!1,this.onExpandSidebarClick=new v.vpe,this.notifications=[],this.newNotifications=0,this.authNotifications=!1,this.openDropdownNotifications=!1,this.openDropdownProfil=!1,this.logoCollapse="../../../../../assets/img/site/logo_red.svg",this.logoCollapseOffline="../../../../../assets/img/site/logo_offline.svg",this.logoExpand="../../../../../assets/img/site/logo_chasse_black.svg",this.logoExpandOffline="../../../../../assets/img/site/logo_chasse_white.svg",this.showNavItems=!1,this.currentUser=null}ngOnInit(){this.logger.debug("HeaderComponent: ngOnInit()"),this.screenBrakepoint&&this.onExpandSidebar(),this.currentUser=this.userService.currentUser,this.checkNotificationPermissions(),this.checkOfflineSynchronization(),this.notificationService.newNotification$.subscribe(()=>this.getNotifications())}ngOnChanges(he){var Ue;(null===(Ue=he.isOnline)||void 0===Ue?void 0:Ue.currentValue)&&this.checkOfflineSynchronization()}checkNotificationPermissions(){this.logger.debug("HeaderComponent: checkNotificationPermissions."),this.notificationService.checkNotificationPermissions().subscribe(he=>{"granted"===he&&this.subscribeToNotifications()})}checkOfflineSynchronization(){this.logger.debug("HeaderComponent: checkOfflineSynchronization."),this.chassedbService.getListOffline().subscribe(he=>{var Ue;const _t=he.rows.map($t=>$t.doc);!(null===(Ue=this.userService.currentUser)||void 0===Ue?void 0:Ue.offlineSync)&&_t.length?setTimeout(()=>{this.toastComponent.addConfirm({sticky:!0,severity:"warn",summary:`${_t.length} formulaires en attente`,detail:"Activer la syncronisation hors ligne ?"})},3500):this.saveAllFormsOffline()})}subscribeToNotifications(){this.logger.debug("HeaderComponent: subscribeToNotifications."),this.notificationService.subscribeToNotifications().subscribe(he=>{he.subscribe(()=>{this.authNotifications=!0,this.getNotifications()})})}unsubscribeToNotifications(){this.logger.debug("HeaderComponent: unsubscribeToNotifications."),this.notificationService.unsubscribeToNotifications().subscribe(()=>{this.authNotifications=!1})}saveAllFormsOffline(){var he;(null===(he=this.userService.currentUser)||void 0===he?void 0:he.offlineSync)&&this.chassedbService.saveAllFormsOffline().subscribe(()=>{setTimeout(()=>{this.toastComponent.add({life:3500,severity:"info",summary:"Synchronisation hors ligne",detail:"Les formulaires sauvegard\xe9s hors ligne ont \xe9t\xe9 enregistr\xe9s avec succ\xe8s."})},3500)})}pushNotifications(){this.logger.debug("HeaderComponent: pushNotifications."),this.isOnline&&(this.authNotifications?this.unsubscribeToNotifications():this.subscribeToNotifications())}offlineSynchronization(){if(this.logger.debug("HeaderComponent: offlineSynchronization."),!this.isOnline)return;const he=Object.assign({},this.userService.currentUser);he.offlineSync=!he.offlineSync,this.userService.updateUser(he).subscribe(Ue=>{this.userService.currentUser=Ue,this.currentUser=Ue,this.saveAllFormsOffline()})}getNotifications(he){this.logger.debug("HeaderComponent: getNotifications."),he&&(this.openDropdownNotifications=!this.openDropdownNotifications),this.notificationService.getNotifications().subscribe(Ue=>{this.notifications=Ue.reverse(),this.newNotifications=this.notifications.filter(_t=>!_t.data.notificationRead).length})}onExpandSidebar(){this.expandSidebar=!this.expandSidebar,this.onExpandSidebarClick.emit(this.expandSidebar)}logout(){this.authService.logout().subscribe(()=>this.router.navigate([wr.$.AUTH_LOGIN]))}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Gs),v.Y36(nn.c),v.Y36(Vi.Kf),v.Y36(Wt),v.Y36(fr.F0),v.Y36(Ji.K))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-header"]],viewQuery:function(he,Ue){if(1&he&&v.Gf(os,7),2&he){let _t;v.iGM(_t=v.CRH())&&(Ue.toastComponent=_t.first)}},inputs:{screenBrakepoint:"screenBrakepoint",isOnline:"isOnline",expandSidebar:"expandSidebar"},outputs:{onExpandSidebarClick:"onExpandSidebarClick"},features:[v.TTD],decls:32,vars:29,consts:[[1,"topbar"],[1,"navbar","top-navbar",3,"ngClass"],[1,"navbar-collapse",3,"ngClass"],[4,"ngIf","ngIfElse"],["collapse",""],[1,"navbar-header"],["pRipple","",1,"nav-toggler","waves-dark",3,"click"],[1,"pi","pi-bars",2,"font-size","1.2rem"],[1,"nav-items-content","relative",3,"ngClass"],[1,"nav-items","justify-start","grow"],["notifyDropDownDisabled",""],["class","dropdown-list animate__animated animate__fast animate__bounceInDown",4,"ngIf"],[1,"nav-items","justify-end"],["pRipple","",3,"ngClass","click","clickOutside"],["shape","circle",3,"image","styleClass"],["class","dropdown card  animate__animated animate__fast animate__bounceInDown",4,"ngIf"],[1,"nav-supported"],[1,"nav-logo"],[1,"logo"],[3,"ngStyle","src"],["pRipple","",1,"nav-items-md","waves-dark",3,"click"],[1,"pi","pi-ellipsis-h",2,"font-size","1.2rem"],[3,"preventOpenDuplicates","styleClass","onConfirm"],["ToastComponent",""],[1,"logo-expand"],[3,"src"],[1,"logo-collapse"],["bellNotifications",""],["pBadge","","severity","warning",1,"fa-solid","fa-bell",2,"font-size","1.2rem",3,"value"],[1,"fa-solid","fa-bell",2,"font-size","1.2rem"],[2,"cursor","auto"],[1,"fa-solid","fa-bell-slash",2,"font-size","1.2rem"],[1,"dropdown-list","animate__animated","animate__fast","animate__bounceInDown"],[1,"header"],["newNotifications",""],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"footer"],[1,"fa","fa-angle-right","ml-1"],[4,"ngIf"],[1,"body"],[1,"item"],[1,"item-img"],[1,"item-content"],[1,"title"],[1,"description"],[1,"time"],[1,"dropdown","card","animate__animated","animate__fast","animate__bounceInDown"],[1,"header",3,"ngClass"],[1,"card-img"],[1,"card-text"],[1,"pi","pi-user",2,"font-size","1.2rem"],[3,"click"],["notifyMenuDisabled",""],["offlineSyncMenuDisabled",""],[1,"fas","fa-power-off","fa-lg",2,"font-size","1.2rem"],[1,"pi","pi-check-circle",2,"font-size","1.2rem"],[1,"pi","pi-times-circle",2,"font-size","1.2rem"]],template:function(he,Ue){if(1&he&&(v.TgZ(0,"div",0)(1,"nav",1)(2,"div",2),v.YNc(3,vo,3,1,"ng-container",3),v.YNc(4,no,3,8,"ng-template",null,4,v.W1O),v.qZA(),v.TgZ(6,"div",5)(7,"div",6),v.NdJ("click",function(){return Ue.onExpandSidebar()}),v.TgZ(8,"span"),v._UZ(9,"i",7),v.qZA()(),v.TgZ(10,"div",8)(11,"div",9)(12,"ul"),v.YNc(13,dt,5,3,"ng-container",3),v.YNc(14,Xt,2,0,"ng-template",null,10,v.W1O),v.qZA(),v.YNc(16,Kr,15,9,"div",11),v.qZA(),v.TgZ(17,"div",12)(18,"ul")(19,"li",13),v.NdJ("click",function(){return Ue.openDropdownProfil=!Ue.openDropdownProfil})("clickOutside",function($t){return Ue.openDropdownProfil=!$t}),v._UZ(20,"p-avatar",14),v.qZA()(),v.YNc(21,bo,39,14,"div",15),v.qZA()(),v._UZ(22,"div",16),v.TgZ(23,"div",17)(24,"div",18),v._UZ(25,"img",19)(26,"img",19),v.qZA()(),v.TgZ(27,"div",20),v.NdJ("click",function(){return Ue.expandSidebar?null:Ue.showNavItems=!Ue.showNavItems}),v.TgZ(28,"span"),v._UZ(29,"i",21),v.qZA()()()()(),v.TgZ(30,"app-toast",22,23),v.NdJ("onConfirm",function($t){return $t?Ue.offlineSynchronization():null}),v.qZA()),2&he){const _t=v.MAs(5),$t=v.MAs(15);v.xp6(1),v.Q6J("ngClass",v.VKq(18,da,!Ue.isOnline)),v.xp6(1),v.Q6J("ngClass",v.WLB(20,eo,!Ue.expandSidebar,Ue.expandSidebar)),v.xp6(1),v.Q6J("ngIf",Ue.expandSidebar)("ngIfElse",_t),v.xp6(7),v.Q6J("ngClass",v.VKq(23,ao,Ue.showNavItems&&!Ue.screenBrakepoint)),v.xp6(3),v.Q6J("ngIf",Ue.authNotifications)("ngIfElse",$t),v.xp6(3),v.Q6J("ngIf",Ue.openDropdownNotifications),v.xp6(3),v.Q6J("ngClass","waves-dark"),v.xp6(1),v.Q6J("image",Ue.currentUser.image)("styleClass","custom-sm shadow"),v.xp6(1),v.Q6J("ngIf",Ue.openDropdownProfil),v.xp6(4),v.Q6J("ngStyle",v.VKq(25,fs,Ue.isOnline?"flex":"none"))("src",Ue.logoExpand,v.LSH),v.xp6(1),v.Q6J("ngStyle",v.VKq(27,fs,Ue.isOnline?"none":"flex"))("src",Ue.logoExpandOffline,v.LSH),v.xp6(4),v.Q6J("preventOpenDuplicates",!0)("styleClass","custom")}},directives:[d.mk,d.O5,d.PC,Sn.H,Kn._k,mr,d.sg,fr.rH,ki.q,_i.qR],pipes:[d.OU,d.uU],styles:[".topbar[_ngcontent-%COMP%]{position:relative;display:flex;height:60px;z-index:999}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]{height:60px;width:100%;display:flex;align-items:center;justify-content:space-between;color:#20222a;background:#fff;box-shadow:0 1px 5px #0000001a}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:none}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .navbar-header[_ngcontent-%COMP%]{min-height:100%;width:100%;display:flex}@media only screen and (min-width: 768px){.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]{color:#fff;background:#ff5050}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:100%;background:#fff}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]{min-width:75px;display:flex;justify-content:center;transition:.2s ease-in}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   .logo-collapse[_ngcontent-%COMP%]{width:40px}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .expand-sidebar[_ngcontent-%COMP%]{min-width:250px;transition:.2s ease-in}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar[_ngcontent-%COMP%]   .expand-sidebar[_ngcontent-%COMP%]   .logo-expand[_ngcontent-%COMP%]{width:130px;height:-moz-fit-content;height:fit-content;margin-left:15px}}.topbar[_ngcontent-%COMP%]   .navbar.top-navbar.offline[_ngcontent-%COMP%]{color:#f1f1f1;background:#687384!important}.nav-toggler[_ngcontent-%COMP%]{padding:0 10px;display:flex;justify-content:center;align-items:center}.nav-toggler[_ngcontent-%COMP%]:hover{cursor:pointer}.nav-supported[_ngcontent-%COMP%]{flex-grow:1}@media only screen and (min-width: 768px){.nav-supported[_ngcontent-%COMP%]{display:none}}.nav-items-content[_ngcontent-%COMP%]{display:flex;width:100%;display:none;height:60px}@media only screen and (min-width: 768px){.nav-items-content[_ngcontent-%COMP%]{display:flex}}.nav-items-content.md[_ngcontent-%COMP%]{position:absolute;display:flex;top:60px;background-color:#fff;box-shadow:0 1px 4px #0000001a}.nav-items-content.md[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#0009}.nav-items[_ngcontent-%COMP%]{display:flex;align-items:center}.nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;height:100%}.nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 15px;height:100%;display:flex;align-items:center}.nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}@media only screen and (min-width: 768px){.nav-items[_ngcontent-%COMP%]{flex-grow:1}.nav-items[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}}.nav-logo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.nav-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:130px}@media only screen and (min-width: 768px){.nav-logo[_ngcontent-%COMP%]{display:none}}.nav-items-md[_ngcontent-%COMP%]{padding:0 10px;display:flex;justify-content:center;align-items:center}.nav-items-md[_ngcontent-%COMP%]:hover{cursor:pointer}@media only screen and (min-width: 768px){.nav-items-md[_ngcontent-%COMP%]{display:none}}.dropdown-list[_ngcontent-%COMP%]{position:absolute;top:60px;left:0;z-index:999;color:#313131;background-color:#fff;background-clip:padding-box;border:1px solid #e9ecef;border-radius:0;box-shadow:0 50px 100px #32325d1a,0 15px 35px #32325d26,0 5px 15px #0000001a;padding-top:0;border:0px;line-height:normal;width:100%}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}@media only screen and (min-width: 768px){.dropdown-list[_ngcontent-%COMP%]{top:62px;width:280px;border-radius:4px}}.header[_ngcontent-%COMP%]{font-weight:500;padding:15px;position:relative;font-size:15px;color:#212529;border-bottom:1px solid rgba(120,130,140,.13);width:100%}.body[_ngcontent-%COMP%]{width:100%}.item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(120,130,140,.13);display:flex;align-items:center;text-decoration:none;padding:9px 15px;color:#313131}.item[_ngcontent-%COMP%]:hover{cursor:pointer;background:#f7fafc;color:#2cabe3}.item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   p-avatar[_ngcontent-%COMP%]{padding-left:0}.item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{vertical-align:middle;padding-left:15px;line-height:1.5;overflow:hidden}.item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:5px 0 0;color:#212529;font-weight:500;font-size:.9rem}.item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;display:block;margin:1px 0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.footer[_ngcontent-%COMP%]{padding:15px;text-align:center;min-width:100%}.footer[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown.card[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;z-index:999;color:#313131;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border-radius:0;box-shadow:0 50px 100px #32325d1a,0 15px 35px #32325d26,0 5px 15px #0000001a;padding-top:0;line-height:normal;width:100%}.dropdown.card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dropdown.card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}@media only screen and (min-width: 768px){.dropdown.card[_ngcontent-%COMP%]{top:62px;right:10px;width:280px;border-radius:4px}}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:0;background-color:#ff5050;min-width:100%;padding:10px 0}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:inline-block;width:100%;max-width:100%;padding-left:0;text-align:center!important}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:15px;padding-top:10px;color:#fff!important}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-top:3px;color:#fff!important}@media only screen and (min-width: 768px){.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px 4px 0 0}.dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dropdown.card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#20222a!important}}.dropdown.card[_ngcontent-%COMP%]   .header.offline[_ngcontent-%COMP%]{color:#f1f1f1;background:#687384}@media only screen and (min-width: 768px){.dropdown.card[_ngcontent-%COMP%]   .header.offline[_ngcontent-%COMP%]{background:#fff;border-radius:4px 4px 0 0}.dropdown.card[_ngcontent-%COMP%]   .header.offline[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dropdown.card[_ngcontent-%COMP%]   .header.offline[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#20222a!important}}.dropdown.card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-weight:400;text-align:inherit;white-space:nowrap;background-color:transparent;border-bottom:1px solid rgba(120,130,140,.13);padding:20px 15px;display:flex;color:#67757c}.dropdown.card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:9px}.dropdown.card[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{cursor:pointer;background:#F7F7F7;text-decoration:none}"]}),Ve})();const ul=function(Ve){return{"expand-sidebar":Ve}};let pi=(()=>{class Ve{constructor(he){this.logger=he,this.expandSidebar=!1,this.animaux="../../../../../assets/img/site/background_animaux.png",this.year=(new Date).getFullYear()}ngOnInit(){this.logger.debug("FooterComponent: ngOnInit()")}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Vi.Kf))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-footer"]],inputs:{expandSidebar:"expandSidebar"},decls:2,vars:4,consts:[[1,"footer",3,"ngClass"],[3,"src"]],template:function(he,Ue){1&he&&(v.TgZ(0,"div",0),v._UZ(1,"img",1),v.qZA()),2&he&&(v.Q6J("ngClass",v.VKq(2,ul,Ue.expandSidebar)),v.xp6(1),v.Q6J("src",Ue.animaux,v.LSH))},directives:[d.mk],styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;border-top:1px solid rgba(120,130,140,.13)}@media only screen and (min-width: 768px){.footer[_ngcontent-%COMP%]{margin-left:75px;transition:.2s ease-in}.footer.expand-sidebar[_ngcontent-%COMP%]{margin-left:250px;transition:.2s ease-in}}"]}),Ve})();const No=function(Ve,be){return{"collapse-sidebar":Ve,"expand-sidebar":be}},lo=function(Ve){return{offline:Ve}},dl=function(Ve){return[Ve]},ea=function(){return["selected"]};let $o=(()=>{class Ve{constructor(he){this.logger=he,this.isOnline=!0,this.expandSidebar=!1,this.screenBrakepoint=!0,this.onExpandSidebarClick=new v.vpe,this.formRoute=wr.$.PWA_FORM_CHASSE,this.listRoute=wr.$.PWA_LIST_CHASSE}ngOnInit(){this.logger.debug("SidebarComponent: ngOnInit()")}onExpandSidebar(){this.screenBrakepoint||(this.expandSidebar=!this.expandSidebar,this.onExpandSidebarClick.emit(this.expandSidebar))}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Vi.Kf))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-sidebar"]],inputs:{isOnline:"isOnline",expandSidebar:"expandSidebar",screenBrakepoint:"screenBrakepoint"},outputs:{onExpandSidebarClick:"onExpandSidebarClick"},decls:16,vars:20,consts:[[1,"sidebar-nav"],[1,"sidebar-nav",3,"ngClass"],[1,"devider"],[1,"nav-section"],[3,"ngClass","routerLink","routerLinkActive","click"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-list-check"]],template:function(he,Ue){1&he&&(v.TgZ(0,"div",0)(1,"nav",1)(2,"ul"),v._UZ(3,"div",2),v.TgZ(4,"li",3),v._uU(5,"Principal"),v.qZA(),v.TgZ(6,"li",4),v.NdJ("click",function(){return Ue.onExpandSidebar()}),v.TgZ(7,"a"),v._UZ(8,"i",5),v.TgZ(9,"span"),v._uU(10,"Formulaire de chasse"),v.qZA()()(),v.TgZ(11,"li",4),v.NdJ("click",function(){return Ue.onExpandSidebar()}),v.TgZ(12,"a"),v._UZ(13,"i",6),v.TgZ(14,"span"),v._uU(15,"Liste de chasse"),v.qZA()()()()()()),2&he&&(v.xp6(1),v.Q6J("ngClass",v.WLB(7,No,!Ue.expandSidebar,Ue.expandSidebar)),v.xp6(5),v.Q6J("ngClass",v.VKq(10,lo,!Ue.isOnline))("routerLink",v.VKq(12,dl,Ue.formRoute))("routerLinkActive",v.DdM(14,ea)),v.xp6(5),v.Q6J("ngClass",v.VKq(15,lo,!Ue.isOnline))("routerLink",v.VKq(17,dl,Ue.listRoute))("routerLinkActive",v.DdM(19,ea)))},directives:[d.mk,fr.rH,fr.Od],styles:[".sidebar-nav[_ngcontent-%COMP%]{position:absolute;height:auto;margin:0;top:30px;bottom:0;left:0;background:#fff!important;box-shadow:1px 0 20px #00000014;z-index:1050}.sidebar-nav[_ngcontent-%COMP%]   .expand-sidebar[_ngcontent-%COMP%]{width:250px;transition:.2s ease-in}.sidebar-nav[_ngcontent-%COMP%]   .expand-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{transition:.2s ease-in;width:250px}.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]{width:0;transition:.2s ease-in}.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{transition:.2s ease-in;width:0px}@media only screen and (min-width: 768px){.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:75px}.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-content:center}.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-align:center}.sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   .collapse-sidebar[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{display:none}.sidebar-nav[_ngcontent-%COMP%]{background:#fff!important}}.sidebar-nav[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{border-top:1px solid #fff;opacity:.1}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;color:#fff;overflow:hidden}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding:17px 13px}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{opacity:1;text-transform:uppercase;color:#20222a}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]:hover{cursor:auto;background:#fff}@media only screen and (min-width: 768px){.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#a6b7bf}}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ff5050}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}@media only screen and (min-width: 768px){.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#687384}}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.offline[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.offline[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#687384}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;white-space:nowrap;align-items:center;font-weight:300;color:#687384}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;width:35px;font-size:21px;display:inline-block}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (min-width: 768px){.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#687384}}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#ff5050}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{font-weight:500;color:#fff}@media only screen and (min-width: 768px){.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{font-weight:500;color:#687384}}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected.offline[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected.offline[_ngcontent-%COMP%]:hover{background-color:#f7f7f7}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected.offline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected.offline[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{font-weight:500;color:#687384}"]}),Ve})();const Vo=["ToastComponent"];function Xl(Ve,be){1&Ve&&v._UZ(0,"div",9)}const Js=function(Ve){return{"expand-sidebar":Ve}},Ca=[{path:wr.$.PWA_PATH,component:(()=>{class Ve{constructor(he,Ue){this.cdRef=he,this.logger=Ue,this.expandSidebar=!1,this.isOnline=!0,this.screenBrakepoint=!1}ngOnInit(){this.logger.debug("MasterPageComponent: ngOnInit()"),this.screenBrakepoint=!(window.innerWidth<=xn.x.LG_BRAKEPOINT)}ngAfterViewInit(){this.cdRef.detectChanges()}networkStatus(he){if(this.isOnline=he,he){const Ue={life:3500,severity:"success",summary:"Mode connect\xe9",detail:"Toutes les fonctionnalit\xe9s de l'application sont \xe0 noveau disponibles."};this.toastComponent.clear(),this.toastComponent.add(Ue)}else{const Ue={severity:"error",summary:"Mode hors connexion",detail:"Vous pouvez toujours utiliser l'application avec des fonctionnalit\xe9s limit\xe9es.",sticky:!0};this.toastComponent.clear(),this.toastComponent.add(Ue)}}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(v.sBO),v.Y36(Vi.Kf))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-masterpage"]],viewQuery:function(he,Ue){if(1&he&&v.Gf(Vo,7),2&he){let _t;v.iGM(_t=v.CRH())&&(Ue.toastComponent=_t.first)}},decls:13,vars:14,consts:[[1,"masterpage",3,"screenBrakepoint","isOnline"],[3,"isOnline","expandSidebar","screenBrakepoint","onExpandSidebarClick"],[1,"wrapper",3,"ngClass"],["class","overlay",4,"ngIf"],[3,"isOnline"],[1,"p-8"],[3,"expandSidebar"],[3,"preventOpenDuplicates","styleClass"],["ToastComponent",""],[1,"overlay"]],template:function(he,Ue){1&he&&(v.TgZ(0,"div",0),v.NdJ("screenBrakepoint",function($t){return Ue.screenBrakepoint=$t})("isOnline",function($t){return Ue.networkStatus($t)}),v.TgZ(1,"header")(2,"app-header",1),v.NdJ("onExpandSidebarClick",function($t){return Ue.expandSidebar=$t}),v.qZA()(),v.TgZ(3,"main",2),v.YNc(4,Xl,1,0,"div",3),v.TgZ(5,"app-sidebar",1),v.NdJ("onExpandSidebarClick",function($t){return Ue.expandSidebar=$t}),v.qZA(),v._UZ(6,"app-breadcrumb",4),v.TgZ(7,"section",5),v._UZ(8,"router-outlet"),v.qZA()(),v.TgZ(9,"footer"),v._UZ(10,"app-footer",6),v.qZA()(),v._UZ(11,"app-toast",7,8)),2&he&&(v.xp6(2),v.Q6J("isOnline",Ue.isOnline)("expandSidebar",Ue.expandSidebar)("screenBrakepoint",Ue.screenBrakepoint),v.xp6(1),v.Q6J("ngClass",v.VKq(12,Js,Ue.expandSidebar)),v.xp6(1),v.Q6J("ngIf",Ue.expandSidebar),v.xp6(1),v.Q6J("isOnline",Ue.isOnline)("expandSidebar",Ue.expandSidebar)("screenBrakepoint",Ue.screenBrakepoint),v.xp6(1),v.Q6J("isOnline",Ue.isOnline),v.xp6(4),v.Q6J("expandSidebar",Ue.expandSidebar),v.xp6(1),v.Q6J("preventOpenDuplicates",!0)("styleClass","custom"))},directives:[Kn.SI,Kn.lz,vn,d.mk,d.O5,$o,Ct,fr.lC,pi,_i.qR],styles:[".masterpage[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:#edf1f5}.wrapper[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}@media only screen and (min-width: 768px){.wrapper[_ngcontent-%COMP%]{transition:.2s ease-in;margin-left:75px}.wrapper.expand-sidebar[_ngcontent-%COMP%]{transition:.2s ease-in;margin-left:250px}}.wrapper.expand-sidebar[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);position:absolute;top:60px;left:0;bottom:0;width:100%;z-index:1040}@media only screen and (min-width: 768px){.wrapper.expand-sidebar[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:none}}"]}),Ve})(),loadChildren:()=>p.e(2766).then(p.bind(p,92766)).then(Ve=>Ve.ChildRoutesModule)}];let Ka=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[fr.Bz.forChild(Ca)],fr.Bz]}),Ve})();const hl=[];let Jo=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[fr.Bz.forChild(hl),Ka],fr.Bz]}),Ve})();const ha=[{path:"",redirectTo:wr.$.APP_REDIRECT_TO,pathMatch:"full"},{path:"**",component:(()=>{class Ve{constructor(he){this.logger=he,this.animaux="../../../../../assets/img/site/background_animaux.png"}ngOnInit(){this.logger.debug("PagenotfoundComponent: ngOnInit()")}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Vi.Kf))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-pagenotfound"]],decls:13,vars:1,consts:[[1,"main"],[1,"notfound"],[1,"notfound-404"],[1,"mt-12"],["role","button",1,"btn","custom","shadow"],[1,"footer"],[3,"src"]],template:function(he,Ue){1&he&&(v.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v._uU(4,"Oops!"),v.qZA(),v.TgZ(5,"h2"),v._uU(6,"D\xe9sol\xe9, nous n'avons pas trouv\xe9 la page que vous chechez"),v.qZA()(),v.TgZ(7,"div",3)(8,"div")(9,"a",4),v._uU(10,"Retour \xe0 l'accueil"),v.qZA()()()(),v.TgZ(11,"div",5),v._UZ(12,"img",6),v.qZA()()),2&he&&(v.xp6(12),v.Q6J("src",Ue.animaux,v.LSH))},styles:[".main[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:100vh}.notfound[_ngcontent-%COMP%]{width:100%;line-height:1.4;text-align:center;display:flex;flex-direction:column;justify-content:center;flex-grow:1}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{position:relative;height:270px;margin:0 auto 20px;z-index:-1;min-width:100%;display:flex;justify-content:center}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:236px;font-weight:300;margin:0;color:#211b19;text-transform:uppercase;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:24px;font-weight:400;text-transform:uppercase;color:#211b19;background:#fff;padding:10px 15px;margin:auto;display:inline-block;position:absolute;bottom:0px;left:0;right:0;line-height:1.5;max-width:520px}.notfound[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.09375rem;line-height:1.5}.notfound[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .notfound[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active, .notfound[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background:#fcd251;border:1px solid #fcd251;color:#000;opacity:1}.notfound[_ngcontent-%COMP%]   .custom[_ngcontent-%COMP%]{min-width:100%;background:#ff5050;color:#fff;border:1px solid #ff5050;border-radius:2px}.notfound[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px #32325d1c,0 1px 3px #00000014}.notfound[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]:hover{transition:.33s all ease-out;border-color:transparent;box-shadow:0 14px 26px -12px #ef53506b,0 4px 23px #0000001f,0 8px 10px -5px #ef535033}@media only screen and (max-width: 767px){.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:148px}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{height:300px}}@media only screen and (max-width: 480px){.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{height:200px;margin:0 auto 10px}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:86px}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:7px 15px;font-size:14px}}@media only screen and (max-width: 320px){.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{height:250px;margin:0 auto 10px}}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}"]}),Ve})()}];let pl=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[fr.Bz.forRoot(ha),Jo,qt],fr.Bz]}),Ve})(),Ma=(()=>{class Ve{constructor(he,Ue){this.appVersionConfig=he,this.primengConfig=Ue,this.title="chasse-pwa-front"}ngOnInit(){console.info("VERSION:",this.appVersionConfig.version),this.primengConfig.ripple=!0}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.Y36(Ni.f),v.Y36(Ys.b4))},Ve.\u0275cmp=v.Xpm({type:Ve,selectors:[["app-root"]],decls:1,vars:0,template:function(he,Ue){1&he&&v._UZ(0,"router-outlet")},directives:[fr.lC],styles:[""]}),Ve})(),Tl=(()=>{class Ve{static forRoot(he,Ue){return{ngModule:Ve,providers:[{provide:Ni.F,useFactory:Ue},{provide:Ni.f,useFactory:he}]}}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez,Fr.JF,Vi.f9.forRoot({level:Vi._z.DEBUG,timestampFormat:"HH:mm:ss.SSS"})]]}),Ve})();var Bs=p(41777);const Zi=!1;function Qs(Ve){return new v.vHH(3e3,Zi)}function zu(){return"undefined"!=typeof window&&void 0!==window.document}function yl(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ka(Ve){switch(Ve.length){case 0:return new Bs.ZN;case 1:return Ve[0];default:return new Bs.ZE(Ve)}}function Wc(Ve,be,he,Ue,_t={},$t={}){const mn=[],Rn=[];let Yn=-1,Rr=null;if(Ue.forEach(bi=>{const Xi=bi.offset,As=Xi==Yn,Xs=As&&Rr||{};Object.keys(bi).forEach(hs=>{let Ws=hs,Co=bi[hs];if("offset"!==hs)switch(Ws=be.normalizePropertyName(Ws,mn),Co){case Bs.k1:Co=_t[hs];break;case Bs.l3:Co=$t[hs];break;default:Co=be.normalizeStyleValue(hs,Ws,Co,mn)}Xs[Ws]=Co}),As||Rn.push(Xs),Rr=Xs,Yn=Xi}),mn.length)throw function Ha(Ve){return new v.vHH(3502,Zi)}();return Rn}function _l(Ve,be,he,Ue){switch(be){case"start":Ve.onStart(()=>Ue(he&&rl(he,"start",Ve)));break;case"done":Ve.onDone(()=>Ue(he&&rl(he,"done",Ve)));break;case"destroy":Ve.onDestroy(()=>Ue(he&&rl(he,"destroy",Ve)))}}function rl(Ve,be,he){const Ue=he.totalTime,$t=il(Ve.element,Ve.triggerName,Ve.fromState,Ve.toState,be||Ve.phaseName,null==Ue?Ve.totalTime:Ue,!!he.disabled),mn=Ve._data;return null!=mn&&($t._data=mn),$t}function il(Ve,be,he,Ue,_t="",$t=0,mn){return{element:Ve,triggerName:be,fromState:he,toState:Ue,phaseName:_t,totalTime:$t,disabled:!!mn}}function Go(Ve,be,he){let Ue;return Ve instanceof Map?(Ue=Ve.get(be),Ue||Ve.set(be,Ue=he)):(Ue=Ve[be],Ue||(Ue=Ve[be]=he)),Ue}function st(Ve){const be=Ve.indexOf(":");return[Ve.substring(1,be),Ve.substr(be+1)]}let Qe=(Ve,be)=>!1,ze=(Ve,be,he)=>[],fe=null;function Te(Ve){const be=Ve.parentNode||Ve.host;return be===fe?null:be}(yl()||"undefined"!=typeof Element)&&(zu()?(fe=(()=>document.documentElement)(),Qe=(Ve,be)=>{for(;be;){if(be===Ve)return!0;be=Te(be)}return!1}):Qe=(Ve,be)=>Ve.contains(be),ze=(Ve,be,he)=>{if(he)return Array.from(Ve.querySelectorAll(be));const Ue=Ve.querySelector(be);return Ue?[Ue]:[]});let Ge=null,bt=!1;function Kt(Ve){Ge||(Ge=function dn(){return"undefined"!=typeof document?document.body:null}()||{},bt=!!Ge.style&&"WebkitAppearance"in Ge.style);let be=!0;return Ge.style&&!function Oe(Ve){return"ebkit"==Ve.substring(1,6)}(Ve)&&(be=Ve in Ge.style,!be&&bt&&(be="Webkit"+Ve.charAt(0).toUpperCase()+Ve.substr(1)in Ge.style)),be}const bn=Qe,qn=ze;let Nr=(()=>{class Ve{validateStyleProperty(he){return Kt(he)}matchesElement(he,Ue){return!1}containsElement(he,Ue){return bn(he,Ue)}getParentElement(he){return Te(he)}query(he,Ue,_t){return qn(he,Ue,_t)}computeStyle(he,Ue,_t){return _t||""}animate(he,Ue,_t,$t,mn,Rn=[],Yn){return new Bs.ZN(_t,$t)}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),Gr=(()=>{class Ve{}return Ve.NOOP=new Nr,Ve})();const ms="ng-enter",Ki="ng-leave",To="ng-trigger",pa=".ng-trigger",Il="ng-animating",ec=".ng-animating";function Oa(Ve){if("number"==typeof Ve)return Ve;const be=Ve.match(/^(-?[\.\d]+)(m?s)/);return!be||be.length<2?0:xo(parseFloat(be[1]),be[2])}function xo(Ve,be){return"s"===be?1e3*Ve:Ve}function mu(Ve,be,he){return Ve.hasOwnProperty("duration")?Ve:function Vc(Ve,be,he){let _t,$t=0,mn="";if("string"==typeof Ve){const Rn=Ve.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Rn)return be.push(Qs()),{duration:0,delay:0,easing:""};_t=xo(parseFloat(Rn[1]),Rn[2]);const Yn=Rn[3];null!=Yn&&($t=xo(parseFloat(Yn),Rn[4]));const Rr=Rn[5];Rr&&(mn=Rr)}else _t=Ve;if(!he){let Rn=!1,Yn=be.length;_t<0&&(be.push(function fo(){return new v.vHH(3100,Zi)}()),Rn=!0),$t<0&&(be.push(function Ls(){return new v.vHH(3101,Zi)}()),Rn=!0),Rn&&be.splice(Yn,0,Qs())}return{duration:_t,delay:$t,easing:mn}}(Ve,be,he)}function Al(Ve,be={}){return Object.keys(Ve).forEach(he=>{be[he]=Ve[he]}),be}function tc(Ve,be,he={}){if(be)for(let Ue in Ve)he[Ue]=Ve[Ue];else Al(Ve,he);return he}function $u(Ve,be,he){return he?be+":"+he+";":""}function yc(Ve){let be="";for(let he=0;he<Ve.style.length;he++){const Ue=Ve.style.item(he);be+=$u(0,Ue,Ve.style.getPropertyValue(Ue))}for(const he in Ve.style)Ve.style.hasOwnProperty(he)&&!he.startsWith("_")&&(be+=$u(0,Gu(he),Ve.style[he]));Ve.setAttribute("style",be)}function Wa(Ve,be,he){Ve.style&&(Object.keys(be).forEach(Ue=>{const _t=Ku(Ue);he&&!he.hasOwnProperty(Ue)&&(he[Ue]=Ve.style[_t]),Ve.style[_t]=be[Ue]}),yl()&&yc(Ve))}function yu(Ve,be){Ve.style&&(Object.keys(be).forEach(he=>{const Ue=Ku(he);Ve.style[Ue]=""}),yl()&&yc(Ve))}function Lo(Ve){return Array.isArray(Ve)?1==Ve.length?Ve[0]:(0,Bs.vP)(Ve):Ve}const _c=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jh(Ve){let be=[];if("string"==typeof Ve){let he;for(;he=_c.exec(Ve);)be.push(he[1]);_c.lastIndex=0}return be}function _u(Ve,be,he){const Ue=Ve.toString(),_t=Ue.replace(_c,($t,mn)=>{let Rn=be[mn];return be.hasOwnProperty(mn)||(he.push(function Dl(Ve){return new v.vHH(3003,Zi)}()),Rn=""),Rn.toString()});return _t==Ue?Ve:_t}function Sa(Ve){const be=[];let he=Ve.next();for(;!he.done;)be.push(he.value),he=Ve.next();return be}const Ja=/-+([a-z0-9])/g;function Ku(Ve){return Ve.replace(Ja,(...be)=>be[1].toUpperCase())}function Gu(Ve){return Ve.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ya(Ve,be,he){switch(be.type){case 7:return Ve.visitTrigger(be,he);case 0:return Ve.visitState(be,he);case 1:return Ve.visitTransition(be,he);case 2:return Ve.visitSequence(be,he);case 3:return Ve.visitGroup(be,he);case 4:return Ve.visitAnimate(be,he);case 5:return Ve.visitKeyframes(be,he);case 6:return Ve.visitStyle(be,he);case 8:return Ve.visitReference(be,he);case 9:return Ve.visitAnimateChild(be,he);case 10:return Ve.visitAnimateRef(be,he);case 11:return Ve.visitQuery(be,he);case 12:return Ve.visitStagger(be,he);default:throw function kl(Ve){return new v.vHH(3004,Zi)}()}}function xd(Ve,be){return window.getComputedStyle(Ve)[be]}function Zc(Ve,be){const he=[];return"string"==typeof Ve?Ve.split(/\s*,\s*/).forEach(Ue=>function Qo(Ve,be,he){if(":"==Ve[0]){const Yn=function bc(Ve,be){switch(Ve){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(he,Ue)=>parseFloat(Ue)>parseFloat(he);case":decrement":return(he,Ue)=>parseFloat(Ue)<parseFloat(he);default:return be.push(function Ko(Ve){return new v.vHH(3016,Zi)}()),"* => *"}}(Ve,he);if("function"==typeof Yn)return void be.push(Yn);Ve=Yn}const Ue=Ve.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Ue||Ue.length<4)return he.push(function gl(Ve){return new v.vHH(3015,Zi)}()),be;const _t=Ue[1],$t=Ue[2],mn=Ue[3];be.push(Yu(_t,mn));"<"==$t[0]&&!("*"==_t&&"*"==mn)&&be.push(Yu(mn,_t))}(Ue,he,be)):he.push(Ve),he}const zc=new Set(["true","1"]),$c=new Set(["false","0"]);function Yu(Ve,be){const he=zc.has(Ve)||$c.has(Ve),Ue=zc.has(be)||$c.has(be);return(_t,$t)=>{let mn="*"==Ve||Ve==_t,Rn="*"==be||be==$t;return!mn&&he&&"boolean"==typeof _t&&(mn=_t?zc.has(Ve):$c.has(Ve)),!Rn&&Ue&&"boolean"==typeof $t&&(Rn=$t?zc.has(be):$c.has(be)),mn&&Rn}}const Fd=new RegExp("s*:selfs*,?","g");function Xu(Ve,be,he,Ue){return new Kc(Ve).build(be,he,Ue)}class Kc{constructor(be){this._driver=be}build(be,he,Ue){const _t=new rc(he);this._resetContextStyleTimingState(_t);const $t=Ya(this,Lo(be),_t);return _t.unsupportedCSSPropertiesFound.size&&_t.unsupportedCSSPropertiesFound.keys(),$t}_resetContextStyleTimingState(be){be.currentQuerySelector="",be.collectedStyles={},be.collectedStyles[""]={},be.currentTime=0}visitTrigger(be,he){let Ue=he.queryCount=0,_t=he.depCount=0;const $t=[],mn=[];return"@"==be.name.charAt(0)&&he.errors.push(function So(){return new v.vHH(3006,Zi)}()),be.definitions.forEach(Rn=>{if(this._resetContextStyleTimingState(he),0==Rn.type){const Yn=Rn,Rr=Yn.name;Rr.toString().split(/\s*,\s*/).forEach(bi=>{Yn.name=bi,$t.push(this.visitState(Yn,he))}),Yn.name=Rr}else if(1==Rn.type){const Yn=this.visitTransition(Rn,he);Ue+=Yn.queryCount,_t+=Yn.depCount,mn.push(Yn)}else he.errors.push(function fl(){return new v.vHH(3007,Zi)}())}),{type:7,name:be.name,states:$t,transitions:mn,queryCount:Ue,depCount:_t,options:null}}visitState(be,he){const Ue=this.visitStyle(be.styles,he),_t=be.options&&be.options.params||null;if(Ue.containsDynamicStyles){const $t=new Set,mn=_t||{};Ue.styles.forEach(Rn=>{if(Mc(Rn)){const Yn=Rn;Object.keys(Yn).forEach(Rr=>{Jh(Yn[Rr]).forEach(bi=>{mn.hasOwnProperty(bi)||$t.add(bi)})})}}),$t.size&&(Sa($t.values()),he.errors.push(function so(Ve,be){return new v.vHH(3008,Zi)}()))}return{type:0,name:be.name,style:Ue,options:_t?{params:_t}:null}}visitTransition(be,he){he.queryCount=0,he.depCount=0;const Ue=Ya(this,Lo(be.animation),he);return{type:1,matchers:Zc(be.expr,he.errors),animation:Ue,queryCount:he.queryCount,depCount:he.depCount,options:vl(be.options)}}visitSequence(be,he){return{type:2,steps:be.steps.map(Ue=>Ya(this,Ue,he)),options:vl(be.options)}}visitGroup(be,he){const Ue=he.currentTime;let _t=0;const $t=be.steps.map(mn=>{he.currentTime=Ue;const Rn=Ya(this,mn,he);return _t=Math.max(_t,he.currentTime),Rn});return he.currentTime=_t,{type:3,steps:$t,options:vl(be.options)}}visitAnimate(be,he){const Ue=function Ud(Ve,be){if(Ve.hasOwnProperty("duration"))return Ve;if("number"==typeof Ve)return Cu(mu(Ve,be).duration,0,"");const he=Ve;if(he.split(/\s+/).some($t=>"{"==$t.charAt(0)&&"{"==$t.charAt(1))){const $t=Cu(0,0,"");return $t.dynamic=!0,$t.strValue=he,$t}const _t=mu(he,be);return Cu(_t.duration,_t.delay,_t.easing)}(be.timings,he.errors);he.currentAnimateTimings=Ue;let _t,$t=be.styles?be.styles:(0,Bs.oB)({});if(5==$t.type)_t=this.visitKeyframes($t,he);else{let mn=be.styles,Rn=!1;if(!mn){Rn=!0;const Rr={};Ue.easing&&(Rr.easing=Ue.easing),mn=(0,Bs.oB)(Rr)}he.currentTime+=Ue.duration+Ue.delay;const Yn=this.visitStyle(mn,he);Yn.isEmptyStep=Rn,_t=Yn}return he.currentAnimateTimings=null,{type:4,timings:Ue,style:_t,options:null}}visitStyle(be,he){const Ue=this._makeStyleAst(be,he);return this._validateStyleAst(Ue,he),Ue}_makeStyleAst(be,he){const Ue=[];Array.isArray(be.styles)?be.styles.forEach(mn=>{"string"==typeof mn?mn==Bs.l3?Ue.push(mn):he.errors.push(function xa(Ve){return new v.vHH(3002,Zi)}()):Ue.push(mn)}):Ue.push(be.styles);let _t=!1,$t=null;return Ue.forEach(mn=>{if(Mc(mn)){const Rn=mn,Yn=Rn.easing;if(Yn&&($t=Yn,delete Rn.easing),!_t)for(let Rr in Rn)if(Rn[Rr].toString().indexOf("{{")>=0){_t=!0;break}}}),{type:6,styles:Ue,easing:$t,offset:be.offset,containsDynamicStyles:_t,options:null}}_validateStyleAst(be,he){const Ue=he.currentAnimateTimings;let _t=he.currentTime,$t=he.currentTime;Ue&&$t>0&&($t-=Ue.duration+Ue.delay),be.styles.forEach(mn=>{"string"!=typeof mn&&Object.keys(mn).forEach(Rn=>{if(!this._driver.validateStyleProperty(Rn))return delete mn[Rn],void he.unsupportedCSSPropertiesFound.add(Rn);const Yn=he.collectedStyles[he.currentQuerySelector],Rr=Yn[Rn];let bi=!0;Rr&&($t!=_t&&$t>=Rr.startTime&&_t<=Rr.endTime&&(he.errors.push(function Fo(Ve,be,he,Ue,_t){return new v.vHH(3010,Zi)}()),bi=!1),$t=Rr.startTime),bi&&(Yn[Rn]={startTime:$t,endTime:_t}),he.options&&function oh(Ve,be,he){const Ue=be.params||{},_t=Jh(Ve);_t.length&&_t.forEach($t=>{Ue.hasOwnProperty($t)||he.push(function aa(Ve){return new v.vHH(3001,Zi)}())})}(mn[Rn],he.options,he.errors)})})}visitKeyframes(be,he){const Ue={type:5,styles:[],options:null};if(!he.currentAnimateTimings)return he.errors.push(function tl(){return new v.vHH(3011,Zi)}()),Ue;let $t=0;const mn=[];let Rn=!1,Yn=!1,Rr=0;const bi=be.steps.map(ss=>{const fa=this._makeStyleAst(ss,he);let co=null!=fa.offset?fa.offset:function Eu(Ve){if("string"==typeof Ve)return null;let be=null;if(Array.isArray(Ve))Ve.forEach(he=>{if(Mc(he)&&he.hasOwnProperty("offset")){const Ue=he;be=parseFloat(Ue.offset),delete Ue.offset}});else if(Mc(Ve)&&Ve.hasOwnProperty("offset")){const he=Ve;be=parseFloat(he.offset),delete he.offset}return be}(fa.styles),Ta=0;return null!=co&&($t++,Ta=fa.offset=co),Yn=Yn||Ta<0||Ta>1,Rn=Rn||Ta<Rr,Rr=Ta,mn.push(Ta),fa});Yn&&he.errors.push(function ml(){return new v.vHH(3012,Zi)}()),Rn&&he.errors.push(function Ks(){return new v.vHH(3200,Zi)}());const Xi=be.steps.length;let As=0;$t>0&&$t<Xi?he.errors.push(function jo(){return new v.vHH(3202,Zi)}()):0==$t&&(As=1/(Xi-1));const Xs=Xi-1,hs=he.currentTime,Ws=he.currentAnimateTimings,Co=Ws.duration;return bi.forEach((ss,fa)=>{const co=As>0?fa==Xs?1:As*fa:mn[fa],Ta=co*Co;he.currentTime=hs+Ws.delay+Ta,Ws.duration=Ta,this._validateStyleAst(ss,he),ss.offset=co,Ue.styles.push(ss)}),Ue}visitReference(be,he){return{type:8,animation:Ya(this,Lo(be.animation),he),options:vl(be.options)}}visitAnimateChild(be,he){return he.depCount++,{type:9,options:vl(be.options)}}visitAnimateRef(be,he){return{type:10,animation:this.visitReference(be.animation,he),options:vl(be.options)}}visitQuery(be,he){const Ue=he.currentQuerySelector,_t=be.options||{};he.queryCount++,he.currentQuery=be;const[$t,mn]=function Cc(Ve){const be=!!Ve.split(/\s*,\s*/).find(he=>":self"==he);return be&&(Ve=Ve.replace(Fd,"")),Ve=Ve.replace(/@\*/g,pa).replace(/@\w+/g,he=>pa+"-"+he.substr(1)).replace(/:animating/g,ec),[Ve,be]}(be.selector);he.currentQuerySelector=Ue.length?Ue+" "+$t:$t,Go(he.collectedStyles,he.currentQuerySelector,{});const Rn=Ya(this,Lo(be.animation),he);return he.currentQuery=null,he.currentQuerySelector=Ue,{type:11,selector:$t,limit:_t.limit||0,optional:!!_t.optional,includeSelf:mn,animation:Rn,originalSelector:be.selector,options:vl(be.options)}}visitStagger(be,he){he.currentQuery||he.errors.push(function nl(){return new v.vHH(3013,Zi)}());const Ue="full"===be.timings?{duration:0,delay:0,easing:"full"}:mu(be.timings,he.errors,!0);return{type:12,animation:Ya(this,Lo(be.animation),he),timings:Ue,options:null}}}class rc{constructor(be){this.errors=be,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mc(Ve){return!Array.isArray(Ve)&&"object"==typeof Ve}function vl(Ve){return Ve?(Ve=Al(Ve)).params&&(Ve.params=function qu(Ve){return Ve?Al(Ve):null}(Ve.params)):Ve={},Ve}function Cu(Ve,be,he){return{duration:Ve,delay:be,easing:he}}function Mu(Ve,be,he,Ue,_t,$t,mn=null,Rn=!1){return{type:1,element:Ve,keyframes:be,preStyleProps:he,postStyleProps:Ue,duration:_t,delay:$t,totalTime:_t+$t,easing:mn,subTimeline:Rn}}class Ho{constructor(){this._map=new Map}get(be){return this._map.get(be)||[]}append(be,he){let Ue=this._map.get(be);Ue||this._map.set(be,Ue=[]),Ue.push(...he)}has(be){return this._map.has(be)}clear(){this._map.clear()}}const ed=new RegExp(":enter","g"),Nd=new RegExp(":leave","g");function me(Ve,be,he,Ue,_t,$t={},mn={},Rn,Yn,Rr=[]){return(new Pe).buildKeyframes(Ve,be,he,Ue,_t,$t,mn,Rn,Yn,Rr)}class Pe{buildKeyframes(be,he,Ue,_t,$t,mn,Rn,Yn,Rr,bi=[]){Rr=Rr||new Ho;const Xi=new qe(be,he,Rr,_t,$t,bi,[]);Xi.options=Yn,Xi.currentTimeline.setStyles([mn],null,Xi.errors,Yn),Ya(this,Ue,Xi);const As=Xi.timelines.filter(Xs=>Xs.containsAnimation());if(Object.keys(Rn).length){let Xs;for(let hs=As.length-1;hs>=0;hs--){const Ws=As[hs];if(Ws.element===he){Xs=Ws;break}}Xs&&!Xs.allowOnlyTimelineStyles()&&Xs.setStyles([Rn],null,Xi.errors,Yn)}return As.length?As.map(Xs=>Xs.buildKeyframes()):[Mu(he,[],[],[],0,0,"",!1)]}visitTrigger(be,he){}visitState(be,he){}visitTransition(be,he){}visitAnimateChild(be,he){const Ue=he.subInstructions.get(he.element);if(Ue){const _t=he.createSubContext(be.options),$t=he.currentTimeline.currentTime,mn=this._visitSubInstructions(Ue,_t,_t.options);$t!=mn&&he.transformIntoNewTimeline(mn)}he.previousNode=be}visitAnimateRef(be,he){const Ue=he.createSubContext(be.options);Ue.transformIntoNewTimeline(),this.visitReference(be.animation,Ue),he.transformIntoNewTimeline(Ue.currentTimeline.currentTime),he.previousNode=be}_visitSubInstructions(be,he,Ue){let $t=he.currentTimeline.currentTime;const mn=null!=Ue.duration?Oa(Ue.duration):null,Rn=null!=Ue.delay?Oa(Ue.delay):null;return 0!==mn&&be.forEach(Yn=>{const Rr=he.appendInstructionToTimeline(Yn,mn,Rn);$t=Math.max($t,Rr.duration+Rr.delay)}),$t}visitReference(be,he){he.updateOptions(be.options,!0),Ya(this,be.animation,he),he.previousNode=be}visitSequence(be,he){const Ue=he.subContextCount;let _t=he;const $t=be.options;if($t&&($t.params||$t.delay)&&(_t=he.createSubContext($t),_t.transformIntoNewTimeline(),null!=$t.delay)){6==_t.previousNode.type&&(_t.currentTimeline.snapshotCurrentStyles(),_t.previousNode=ke);const mn=Oa($t.delay);_t.delayNextStep(mn)}be.steps.length&&(be.steps.forEach(mn=>Ya(this,mn,_t)),_t.currentTimeline.applyStylesToKeyframe(),_t.subContextCount>Ue&&_t.transformIntoNewTimeline()),he.previousNode=be}visitGroup(be,he){const Ue=[];let _t=he.currentTimeline.currentTime;const $t=be.options&&be.options.delay?Oa(be.options.delay):0;be.steps.forEach(mn=>{const Rn=he.createSubContext(be.options);$t&&Rn.delayNextStep($t),Ya(this,mn,Rn),_t=Math.max(_t,Rn.currentTimeline.currentTime),Ue.push(Rn.currentTimeline)}),Ue.forEach(mn=>he.currentTimeline.mergeTimelineCollectedStyles(mn)),he.transformIntoNewTimeline(_t),he.previousNode=be}_visitTiming(be,he){if(be.dynamic){const Ue=be.strValue;return mu(he.params?_u(Ue,he.params,he.errors):Ue,he.errors)}return{duration:be.duration,delay:be.delay,easing:be.easing}}visitAnimate(be,he){const Ue=he.currentAnimateTimings=this._visitTiming(be.timings,he),_t=he.currentTimeline;Ue.delay&&(he.incrementTime(Ue.delay),_t.snapshotCurrentStyles());const $t=be.style;5==$t.type?this.visitKeyframes($t,he):(he.incrementTime(Ue.duration),this.visitStyle($t,he),_t.applyStylesToKeyframe()),he.currentAnimateTimings=null,he.previousNode=be}visitStyle(be,he){const Ue=he.currentTimeline,_t=he.currentAnimateTimings;!_t&&Ue.getCurrentStyleProperties().length&&Ue.forwardFrame();const $t=_t&&_t.easing||be.easing;be.isEmptyStep?Ue.applyEmptyStep($t):Ue.setStyles(be.styles,$t,he.errors,he.options),he.previousNode=be}visitKeyframes(be,he){const Ue=he.currentAnimateTimings,_t=he.currentTimeline.duration,$t=Ue.duration,Rn=he.createSubContext().currentTimeline;Rn.easing=Ue.easing,be.styles.forEach(Yn=>{Rn.forwardTime((Yn.offset||0)*$t),Rn.setStyles(Yn.styles,Yn.easing,he.errors,he.options),Rn.applyStylesToKeyframe()}),he.currentTimeline.mergeTimelineCollectedStyles(Rn),he.transformIntoNewTimeline(_t+$t),he.previousNode=be}visitQuery(be,he){const Ue=he.currentTimeline.currentTime,_t=be.options||{},$t=_t.delay?Oa(_t.delay):0;$t&&(6===he.previousNode.type||0==Ue&&he.currentTimeline.getCurrentStyleProperties().length)&&(he.currentTimeline.snapshotCurrentStyles(),he.previousNode=ke);let mn=Ue;const Rn=he.invokeQuery(be.selector,be.originalSelector,be.limit,be.includeSelf,!!_t.optional,he.errors);he.currentQueryTotal=Rn.length;let Yn=null;Rn.forEach((Rr,bi)=>{he.currentQueryIndex=bi;const Xi=he.createSubContext(be.options,Rr);$t&&Xi.delayNextStep($t),Rr===he.element&&(Yn=Xi.currentTimeline),Ya(this,be.animation,Xi),Xi.currentTimeline.applyStylesToKeyframe(),mn=Math.max(mn,Xi.currentTimeline.currentTime)}),he.currentQueryIndex=0,he.currentQueryTotal=0,he.transformIntoNewTimeline(mn),Yn&&(he.currentTimeline.mergeTimelineCollectedStyles(Yn),he.currentTimeline.snapshotCurrentStyles()),he.previousNode=be}visitStagger(be,he){const Ue=he.parentContext,_t=he.currentTimeline,$t=be.timings,mn=Math.abs($t.duration),Rn=mn*(he.currentQueryTotal-1);let Yn=mn*he.currentQueryIndex;switch($t.duration<0?"reverse":$t.easing){case"reverse":Yn=Rn-Yn;break;case"full":Yn=Ue.currentStaggerTime}const bi=he.currentTimeline;Yn&&bi.delayNextStep(Yn);const Xi=bi.currentTime;Ya(this,be.animation,he),he.previousNode=be,Ue.currentStaggerTime=_t.currentTime-Xi+(_t.startTime-Ue.currentTimeline.startTime)}}const ke={};class qe{constructor(be,he,Ue,_t,$t,mn,Rn,Yn){this._driver=be,this.element=he,this.subInstructions=Ue,this._enterClassName=_t,this._leaveClassName=$t,this.errors=mn,this.timelines=Rn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ke,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Yn||new Ot(this._driver,he,0),Rn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(be,he){if(!be)return;const Ue=be;let _t=this.options;null!=Ue.duration&&(_t.duration=Oa(Ue.duration)),null!=Ue.delay&&(_t.delay=Oa(Ue.delay));const $t=Ue.params;if($t){let mn=_t.params;mn||(mn=this.options.params={}),Object.keys($t).forEach(Rn=>{(!he||!mn.hasOwnProperty(Rn))&&(mn[Rn]=_u($t[Rn],mn,this.errors))})}}_copyOptions(){const be={};if(this.options){const he=this.options.params;if(he){const Ue=be.params={};Object.keys(he).forEach(_t=>{Ue[_t]=he[_t]})}}return be}createSubContext(be=null,he,Ue){const _t=he||this.element,$t=new qe(this._driver,_t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(_t,Ue||0));return $t.previousNode=this.previousNode,$t.currentAnimateTimings=this.currentAnimateTimings,$t.options=this._copyOptions(),$t.updateOptions(be),$t.currentQueryIndex=this.currentQueryIndex,$t.currentQueryTotal=this.currentQueryTotal,$t.parentContext=this,this.subContextCount++,$t}transformIntoNewTimeline(be){return this.previousNode=ke,this.currentTimeline=this.currentTimeline.fork(this.element,be),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(be,he,Ue){const _t={duration:null!=he?he:be.duration,delay:this.currentTimeline.currentTime+(null!=Ue?Ue:0)+be.delay,easing:""},$t=new Gt(this._driver,be.element,be.keyframes,be.preStyleProps,be.postStyleProps,_t,be.stretchStartingKeyframe);return this.timelines.push($t),_t}incrementTime(be){this.currentTimeline.forwardTime(this.currentTimeline.duration+be)}delayNextStep(be){be>0&&this.currentTimeline.delayNextStep(be)}invokeQuery(be,he,Ue,_t,$t,mn){let Rn=[];if(_t&&Rn.push(this.element),be.length>0){be=(be=be.replace(ed,"."+this._enterClassName)).replace(Nd,"."+this._leaveClassName);let Rr=this._driver.query(this.element,be,1!=Ue);0!==Ue&&(Rr=Ue<0?Rr.slice(Rr.length+Ue,Rr.length):Rr.slice(0,Ue)),Rn.push(...Rr)}return!$t&&0==Rn.length&&mn.push(function Wl(Ve){return new v.vHH(3014,Zi)}()),Rn}}class Ot{constructor(be,he,Ue,_t){this._driver=be,this.element=he,this.startTime=Ue,this._elementTimelineStylesLookup=_t,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(he),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(he,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(be){const he=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||he?(this.forwardTime(this.currentTime+be),he&&this.snapshotCurrentStyles()):this.startTime+=be}fork(be,he){return this.applyStylesToKeyframe(),new Ot(this._driver,be,he||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(be){this.applyStylesToKeyframe(),this.duration=be,this._loadKeyframe()}_updateStyle(be,he){this._localTimelineStyles[be]=he,this._globalTimelineStyles[be]=he,this._styleSummary[be]={time:this.currentTime,value:he}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(be){be&&(this._previousKeyframe.easing=be),Object.keys(this._globalTimelineStyles).forEach(he=>{this._backFill[he]=this._globalTimelineStyles[he]||Bs.l3,this._currentKeyframe[he]=Bs.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(be,he,Ue,_t){he&&(this._previousKeyframe.easing=he);const $t=_t&&_t.params||{},mn=function On(Ve,be){const he={};let Ue;return Ve.forEach(_t=>{"*"===_t?(Ue=Ue||Object.keys(be),Ue.forEach($t=>{he[$t]=Bs.l3})):tc(_t,!1,he)}),he}(be,this._globalTimelineStyles);Object.keys(mn).forEach(Rn=>{const Yn=_u(mn[Rn],$t,Ue);this._pendingStyles[Rn]=Yn,this._localTimelineStyles.hasOwnProperty(Rn)||(this._backFill[Rn]=this._globalTimelineStyles.hasOwnProperty(Rn)?this._globalTimelineStyles[Rn]:Bs.l3),this._updateStyle(Rn,Yn)})}applyStylesToKeyframe(){const be=this._pendingStyles,he=Object.keys(be);0!=he.length&&(this._pendingStyles={},he.forEach(Ue=>{this._currentKeyframe[Ue]=be[Ue]}),Object.keys(this._localTimelineStyles).forEach(Ue=>{this._currentKeyframe.hasOwnProperty(Ue)||(this._currentKeyframe[Ue]=this._localTimelineStyles[Ue])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(be=>{const he=this._localTimelineStyles[be];this._pendingStyles[be]=he,this._updateStyle(be,he)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const be=[];for(let he in this._currentKeyframe)be.push(he);return be}mergeTimelineCollectedStyles(be){Object.keys(be._styleSummary).forEach(he=>{const Ue=this._styleSummary[he],_t=be._styleSummary[he];(!Ue||_t.time>Ue.time)&&this._updateStyle(he,_t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const be=new Set,he=new Set,Ue=1===this._keyframes.size&&0===this.duration;let _t=[];this._keyframes.forEach((Rn,Yn)=>{const Rr=tc(Rn,!0);Object.keys(Rr).forEach(bi=>{const Xi=Rr[bi];Xi==Bs.k1?be.add(bi):Xi==Bs.l3&&he.add(bi)}),Ue||(Rr.offset=Yn/this.duration),_t.push(Rr)});const $t=be.size?Sa(be.values()):[],mn=he.size?Sa(he.values()):[];if(Ue){const Rn=_t[0],Yn=Al(Rn);Rn.offset=0,Yn.offset=1,_t=[Rn,Yn]}return Mu(this.element,_t,$t,mn,this.duration,this.startTime,this.easing,!1)}}class Gt extends Ot{constructor(be,he,Ue,_t,$t,mn,Rn=!1){super(be,he,mn.delay),this.keyframes=Ue,this.preStyleProps=_t,this.postStyleProps=$t,this._stretchStartingKeyframe=Rn,this.timings={duration:mn.duration,delay:mn.delay,easing:mn.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let be=this.keyframes,{delay:he,duration:Ue,easing:_t}=this.timings;if(this._stretchStartingKeyframe&&he){const $t=[],mn=Ue+he,Rn=he/mn,Yn=tc(be[0],!1);Yn.offset=0,$t.push(Yn);const Rr=tc(be[0],!1);Rr.offset=on(Rn),$t.push(Rr);const bi=be.length-1;for(let Xi=1;Xi<=bi;Xi++){let As=tc(be[Xi],!1);As.offset=on((he+As.offset*Ue)/mn),$t.push(As)}Ue=mn,he=0,_t="",be=$t}return Mu(this.element,be,this.preStyleProps,this.postStyleProps,Ue,he,_t,!0)}}function on(Ve,be=3){const he=Math.pow(10,be-1);return Math.round(Ve*he)/he}class nr{}class fn extends nr{normalizePropertyName(be,he){return Ku(be)}normalizeStyleValue(be,he,Ue,_t){let $t="";const mn=Ue.toString().trim();if(Gn[he]&&0!==Ue&&"0"!==Ue)if("number"==typeof Ue)$t="px";else{const Rn=Ue.match(/^[+-]?[\d\.]+([a-z]*)$/);Rn&&0==Rn[1].length&&_t.push(function el(Ve,be){return new v.vHH(3005,Zi)}())}return mn+$t}}const Gn=(()=>function rr(Ve){const be={};return Ve.forEach(he=>be[he]=!0),be}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tr(Ve,be,he,Ue,_t,$t,mn,Rn,Yn,Rr,bi,Xi,As){return{type:0,element:Ve,triggerName:be,isRemovalTransition:_t,fromState:he,fromStyles:$t,toState:Ue,toStyles:mn,timelines:Rn,queriedElements:Yn,preStyleProps:Rr,postStyleProps:bi,totalTime:Xi,errors:As}}const Cr={};class cr{constructor(be,he,Ue){this._triggerName=be,this.ast=he,this._stateStyles=Ue}match(be,he,Ue,_t){return function ar(Ve,be,he,Ue,_t){return Ve.some($t=>$t(be,he,Ue,_t))}(this.ast.matchers,be,he,Ue,_t)}buildStyles(be,he,Ue){const _t=this._stateStyles["*"],$t=this._stateStyles[be],mn=_t?_t.buildStyles(he,Ue):{};return $t?$t.buildStyles(he,Ue):mn}build(be,he,Ue,_t,$t,mn,Rn,Yn,Rr,bi){const Xi=[],As=this.ast.options&&this.ast.options.params||Cr,hs=this.buildStyles(Ue,Rn&&Rn.params||Cr,Xi),Ws=Yn&&Yn.params||Cr,Co=this.buildStyles(_t,Ws,Xi),ss=new Set,fa=new Map,co=new Map,Ta="void"===_t,Vd={params:Object.assign(Object.assign({},As),Ws)},ic=bi?[]:me(be,he,this.ast.animation,$t,mn,hs,Co,Vd,Rr,Xi);let ma=0;if(ic.forEach(Sc=>{ma=Math.max(Sc.duration+Sc.delay,ma)}),Xi.length)return tr(he,this._triggerName,Ue,_t,Ta,hs,Co,[],[],fa,co,ma,Xi);ic.forEach(Sc=>{const Zl=Sc.element,si=Go(fa,Zl,{});Sc.preStyleProps.forEach(El=>si[El]=!0);const id=Go(co,Zl,{});Sc.postStyleProps.forEach(El=>id[El]=!0),Zl!==he&&ss.add(Zl)});const sc=Sa(ss.values());return tr(he,this._triggerName,Ue,_t,Ta,hs,Co,ic,sc,fa,co,ma)}}class ur{constructor(be,he,Ue){this.styles=be,this.defaultParams=he,this.normalizer=Ue}buildStyles(be,he){const Ue={},_t=Al(this.defaultParams);return Object.keys(be).forEach($t=>{const mn=be[$t];null!=mn&&(_t[$t]=mn)}),this.styles.styles.forEach($t=>{if("string"!=typeof $t){const mn=$t;Object.keys(mn).forEach(Rn=>{let Yn=mn[Rn];Yn.length>1&&(Yn=_u(Yn,_t,he));const Rr=this.normalizer.normalizePropertyName(Rn,he);Yn=this.normalizer.normalizeStyleValue(Rn,Rr,Yn,he),Ue[Rr]=Yn})}}),Ue}}class Vr{constructor(be,he,Ue){this.name=be,this.ast=he,this._normalizer=Ue,this.transitionFactories=[],this.states={},he.states.forEach(_t=>{this.states[_t.name]=new ur(_t.style,_t.options&&_t.options.params||{},Ue)}),di(this.states,"true","1"),di(this.states,"false","0"),he.transitions.forEach(_t=>{this.transitionFactories.push(new cr(be,_t,this.states))}),this.fallbackTransition=function Ur(Ve,be,he){return new cr(Ve,{type:1,animation:{type:2,steps:[],options:null},matchers:[(mn,Rn)=>!0],options:null,queryCount:0,depCount:0},be)}(be,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(be,he,Ue,_t){return this.transitionFactories.find(mn=>mn.match(be,he,Ue,_t))||null}matchStyles(be,he,Ue){return this.fallbackTransition.buildStyles(be,he,Ue)}}function di(Ve,be,he){Ve.hasOwnProperty(be)?Ve.hasOwnProperty(he)||(Ve[he]=Ve[be]):Ve.hasOwnProperty(he)&&(Ve[be]=Ve[he])}const qr=new Ho;class Pi{constructor(be,he,Ue){this.bodyNode=be,this._driver=he,this._normalizer=Ue,this._animations={},this._playersById={},this.players=[]}register(be,he){const Ue=[],$t=Xu(this._driver,he,Ue,[]);if(Ue.length)throw function it(Ve){return new v.vHH(3503,Zi)}();this._animations[be]=$t}_buildPlayer(be,he,Ue){const _t=be.element,$t=Wc(0,this._normalizer,0,be.keyframes,he,Ue);return this._driver.animate(_t,$t,be.duration,be.delay,be.easing,[],!0)}create(be,he,Ue={}){const _t=[],$t=this._animations[be];let mn;const Rn=new Map;if($t?(mn=me(this._driver,he,$t,ms,Ki,{},{},Ue,qr,_t),mn.forEach(bi=>{const Xi=Go(Rn,bi.element,{});bi.postStyleProps.forEach(As=>Xi[As]=null)})):(_t.push(function lt(){return new v.vHH(3300,Zi)}()),mn=[]),_t.length)throw function jt(Ve){return new v.vHH(3504,Zi)}();Rn.forEach((bi,Xi)=>{Object.keys(bi).forEach(As=>{bi[As]=this._driver.computeStyle(Xi,As,Bs.l3)})});const Rr=ka(mn.map(bi=>{const Xi=Rn.get(bi.element);return this._buildPlayer(bi,{},Xi)}));return this._playersById[be]=Rr,Rr.onDestroy(()=>this.destroy(be)),this.players.push(Rr),Rr}destroy(be){const he=this._getPlayer(be);he.destroy(),delete this._playersById[be];const Ue=this.players.indexOf(he);Ue>=0&&this.players.splice(Ue,1)}_getPlayer(be){const he=this._playersById[be];if(!he)throw function Tn(Ve){return new v.vHH(3301,Zi)}();return he}listen(be,he,Ue,_t){const $t=il(he,"","","");return _l(this._getPlayer(be),Ue,$t,_t),()=>{}}command(be,he,Ue,_t){if("register"==Ue)return void this.register(be,_t[0]);if("create"==Ue)return void this.create(be,he,_t[0]||{});const $t=this._getPlayer(be);switch(Ue){case"play":$t.play();break;case"pause":$t.pause();break;case"reset":$t.reset();break;case"restart":$t.restart();break;case"finish":$t.finish();break;case"init":$t.init();break;case"setPosition":$t.setPosition(parseFloat(_t[0]));break;case"destroy":this.destroy(be)}}}const mi="ng-animate-queued",ts="ng-animate-disabled",Os=[],Ri={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class xr{constructor(be,he=""){this.namespaceId=he;const Ue=be&&be.hasOwnProperty("value");if(this.value=function Gi(Ve){return null!=Ve?Ve:null}(Ue?be.value:be),Ue){const $t=Al(be);delete $t.value,this.options=$t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(be){const he=be.params;if(he){const Ue=this.options.params;Object.keys(he).forEach(_t=>{null==Ue[_t]&&(Ue[_t]=he[_t])})}}}const ci="void",ii=new xr(ci);class Mi{constructor(be,he,Ue){this.id=be,this.hostElement=he,this._engine=Ue,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+be,zi(he,this._hostClassName)}listen(be,he,Ue,_t){if(!this._triggers.hasOwnProperty(he))throw function Sr(Ve,be){return new v.vHH(3302,Zi)}();if(null==Ue||0==Ue.length)throw function xi(Ve){return new v.vHH(3303,Zi)}();if(!function zr(Ve){return"start"==Ve||"done"==Ve}(Ue))throw function js(Ve,be){return new v.vHH(3400,Zi)}();const $t=Go(this._elementListeners,be,[]),mn={name:he,phase:Ue,callback:_t};$t.push(mn);const Rn=Go(this._engine.statesByElement,be,{});return Rn.hasOwnProperty(he)||(zi(be,To),zi(be,To+"-"+he),Rn[he]=ii),()=>{this._engine.afterFlush(()=>{const Yn=$t.indexOf(mn);Yn>=0&&$t.splice(Yn,1),this._triggers[he]||delete Rn[he]})}}register(be,he){return!this._triggers[be]&&(this._triggers[be]=he,!0)}_getTrigger(be){const he=this._triggers[be];if(!he)throw function Yo(Ve){return new v.vHH(3401,Zi)}();return he}trigger(be,he,Ue,_t=!0){const $t=this._getTrigger(he),mn=new ai(this.id,he,be);let Rn=this._engine.statesByElement.get(be);Rn||(zi(be,To),zi(be,To+"-"+he),this._engine.statesByElement.set(be,Rn={}));let Yn=Rn[he];const Rr=new xr(Ue,this.id);if(!(Ue&&Ue.hasOwnProperty("value"))&&Yn&&Rr.absorbOptions(Yn.options),Rn[he]=Rr,Yn||(Yn=ii),Rr.value!==ci&&Yn.value===Rr.value){if(!function Bo(Ve,be){const he=Object.keys(Ve),Ue=Object.keys(be);if(he.length!=Ue.length)return!1;for(let _t=0;_t<he.length;_t++){const $t=he[_t];if(!be.hasOwnProperty($t)||Ve[$t]!==be[$t])return!1}return!0}(Yn.params,Rr.params)){const Ws=[],Co=$t.matchStyles(Yn.value,Yn.params,Ws),ss=$t.matchStyles(Rr.value,Rr.params,Ws);Ws.length?this._engine.reportError(Ws):this._engine.afterFlush(()=>{yu(be,Co),Wa(be,ss)})}return}const As=Go(this._engine.playersByElement,be,[]);As.forEach(Ws=>{Ws.namespaceId==this.id&&Ws.triggerName==he&&Ws.queued&&Ws.destroy()});let Xs=$t.matchTransition(Yn.value,Rr.value,be,Rr.params),hs=!1;if(!Xs){if(!_t)return;Xs=$t.fallbackTransition,hs=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:be,triggerName:he,transition:Xs,fromState:Yn,toState:Rr,player:mn,isFallbackTransition:hs}),hs||(zi(be,mi),mn.onStart(()=>{vs(be,mi)})),mn.onDone(()=>{let Ws=this.players.indexOf(mn);Ws>=0&&this.players.splice(Ws,1);const Co=this._engine.playersByElement.get(be);if(Co){let ss=Co.indexOf(mn);ss>=0&&Co.splice(ss,1)}}),this.players.push(mn),As.push(mn),mn}deregister(be){delete this._triggers[be],this._engine.statesByElement.forEach((he,Ue)=>{delete he[be]}),this._elementListeners.forEach((he,Ue)=>{this._elementListeners.set(Ue,he.filter(_t=>_t.name!=be))})}clearElementCache(be){this._engine.statesByElement.delete(be),this._elementListeners.delete(be);const he=this._engine.playersByElement.get(be);he&&(he.forEach(Ue=>Ue.destroy()),this._engine.playersByElement.delete(be))}_signalRemovalForInnerTriggers(be,he){const Ue=this._engine.driver.query(be,pa,!0);Ue.forEach(_t=>{if(_t[dr])return;const $t=this._engine.fetchNamespacesByElement(_t);$t.size?$t.forEach(mn=>mn.triggerLeaveAnimation(_t,he,!1,!0)):this.clearElementCache(_t)}),this._engine.afterFlushAnimationsDone(()=>Ue.forEach(_t=>this.clearElementCache(_t)))}triggerLeaveAnimation(be,he,Ue,_t){const $t=this._engine.statesByElement.get(be),mn=new Map;if($t){const Rn=[];if(Object.keys($t).forEach(Yn=>{if(mn.set(Yn,$t[Yn].value),this._triggers[Yn]){const Rr=this.trigger(be,Yn,ci,_t);Rr&&Rn.push(Rr)}}),Rn.length)return this._engine.markElementAsRemoved(this.id,be,!0,he,mn),Ue&&ka(Rn).onDone(()=>this._engine.processLeaveNode(be)),!0}return!1}prepareLeaveAnimationListeners(be){const he=this._elementListeners.get(be),Ue=this._engine.statesByElement.get(be);if(he&&Ue){const _t=new Set;he.forEach($t=>{const mn=$t.name;if(_t.has(mn))return;_t.add(mn);const Yn=this._triggers[mn].fallbackTransition,Rr=Ue[mn]||ii,bi=new xr(ci),Xi=new ai(this.id,mn,be);this._engine.totalQueuedPlayers++,this._queue.push({element:be,triggerName:mn,transition:Yn,fromState:Rr,toState:bi,player:Xi,isFallbackTransition:!0})})}}removeNode(be,he){const Ue=this._engine;if(be.childElementCount&&this._signalRemovalForInnerTriggers(be,he),this.triggerLeaveAnimation(be,he,!0))return;let _t=!1;if(Ue.totalAnimations){const $t=Ue.players.length?Ue.playersByQueriedElement.get(be):[];if($t&&$t.length)_t=!0;else{let mn=be;for(;mn=mn.parentNode;)if(Ue.statesByElement.get(mn)){_t=!0;break}}}if(this.prepareLeaveAnimationListeners(be),_t)Ue.markElementAsRemoved(this.id,be,!1,he);else{const $t=be[dr];(!$t||$t===Ri)&&(Ue.afterFlush(()=>this.clearElementCache(be)),Ue.destroyInnerAnimations(be),Ue._onRemovalComplete(be,he))}}insertNode(be,he){zi(be,this._hostClassName)}drainQueuedTransitions(be){const he=[];return this._queue.forEach(Ue=>{const _t=Ue.player;if(_t.destroyed)return;const $t=Ue.element,mn=this._elementListeners.get($t);mn&&mn.forEach(Rn=>{if(Rn.name==Ue.triggerName){const Yn=il($t,Ue.triggerName,Ue.fromState.value,Ue.toState.value);Yn._data=be,_l(Ue.player,Rn.phase,Yn,Rn.callback)}}),_t.markedForDestroy?this._engine.afterFlush(()=>{_t.destroy()}):he.push(Ue)}),this._queue=[],he.sort((Ue,_t)=>{const $t=Ue.transition.ast.depCount,mn=_t.transition.ast.depCount;return 0==$t||0==mn?$t-mn:this._engine.driver.containsElement(Ue.element,_t.element)?1:-1})}destroy(be){this.players.forEach(he=>he.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,be)}elementContainsData(be){let he=!1;return this._elementListeners.has(be)&&(he=!0),he=!!this._queue.find(Ue=>Ue.element===be)||he,he}}class Wr{constructor(be,he,Ue){this.bodyNode=be,this.driver=he,this._normalizer=Ue,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(_t,$t)=>{}}_onRemovalComplete(be,he){this.onRemovalComplete(be,he)}get queuedPlayers(){const be=[];return this._namespaceList.forEach(he=>{he.players.forEach(Ue=>{Ue.queued&&be.push(Ue)})}),be}createNamespace(be,he){const Ue=new Mi(be,he,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,he)?this._balanceNamespaceList(Ue,he):(this.newHostElements.set(he,Ue),this.collectEnterElement(he)),this._namespaceLookup[be]=Ue}_balanceNamespaceList(be,he){const Ue=this._namespaceList,_t=this.namespacesByHostElement,$t=Ue.length-1;if($t>=0){let mn=!1;if(void 0!==this.driver.getParentElement){let Rn=this.driver.getParentElement(he);for(;Rn;){const Yn=_t.get(Rn);if(Yn){const Rr=Ue.indexOf(Yn);Ue.splice(Rr+1,0,be),mn=!0;break}Rn=this.driver.getParentElement(Rn)}}else for(let Rn=$t;Rn>=0;Rn--)if(this.driver.containsElement(Ue[Rn].hostElement,he)){Ue.splice(Rn+1,0,be),mn=!0;break}mn||Ue.unshift(be)}else Ue.push(be);return _t.set(he,be),be}register(be,he){let Ue=this._namespaceLookup[be];return Ue||(Ue=this.createNamespace(be,he)),Ue}registerTrigger(be,he,Ue){let _t=this._namespaceLookup[be];_t&&_t.register(he,Ue)&&this.totalAnimations++}destroy(be,he){if(!be)return;const Ue=this._fetchNamespace(be);this.afterFlush(()=>{this.namespacesByHostElement.delete(Ue.hostElement),delete this._namespaceLookup[be];const _t=this._namespaceList.indexOf(Ue);_t>=0&&this._namespaceList.splice(_t,1)}),this.afterFlushAnimationsDone(()=>Ue.destroy(he))}_fetchNamespace(be){return this._namespaceLookup[be]}fetchNamespacesByElement(be){const he=new Set,Ue=this.statesByElement.get(be);if(Ue){const _t=Object.keys(Ue);for(let $t=0;$t<_t.length;$t++){const mn=Ue[_t[$t]].namespaceId;if(mn){const Rn=this._fetchNamespace(mn);Rn&&he.add(Rn)}}}return he}trigger(be,he,Ue,_t){if(as(he)){const $t=this._fetchNamespace(be);if($t)return $t.trigger(he,Ue,_t),!0}return!1}insertNode(be,he,Ue,_t){if(!as(he))return;const $t=he[dr];if($t&&$t.setForRemoval){$t.setForRemoval=!1,$t.setForMove=!0;const mn=this.collectedLeaveElements.indexOf(he);mn>=0&&this.collectedLeaveElements.splice(mn,1)}if(be){const mn=this._fetchNamespace(be);mn&&mn.insertNode(he,Ue)}_t&&this.collectEnterElement(he)}collectEnterElement(be){this.collectedEnterElements.push(be)}markElementAsDisabled(be,he){he?this.disabledNodes.has(be)||(this.disabledNodes.add(be),zi(be,ts)):this.disabledNodes.has(be)&&(this.disabledNodes.delete(be),vs(be,ts))}removeNode(be,he,Ue,_t){if(as(he)){const $t=be?this._fetchNamespace(be):null;if($t?$t.removeNode(he,_t):this.markElementAsRemoved(be,he,!1,_t),Ue){const mn=this.namespacesByHostElement.get(he);mn&&mn.id!==be&&mn.removeNode(he,_t)}}else this._onRemovalComplete(he,_t)}markElementAsRemoved(be,he,Ue,_t,$t){this.collectedLeaveElements.push(he),he[dr]={namespaceId:be,setForRemoval:_t,hasAnimation:Ue,removedBeforeQueried:!1,previousTriggersValues:$t}}listen(be,he,Ue,_t,$t){return as(he)?this._fetchNamespace(be).listen(he,Ue,_t,$t):()=>{}}_buildInstruction(be,he,Ue,_t,$t){return be.transition.build(this.driver,be.element,be.fromState.value,be.toState.value,Ue,_t,be.fromState.options,be.toState.options,he,$t)}destroyInnerAnimations(be){let he=this.driver.query(be,pa,!0);he.forEach(Ue=>this.destroyActiveAnimationsForElement(Ue)),0!=this.playersByQueriedElement.size&&(he=this.driver.query(be,ec,!0),he.forEach(Ue=>this.finishActiveQueriedAnimationOnElement(Ue)))}destroyActiveAnimationsForElement(be){const he=this.playersByElement.get(be);he&&he.forEach(Ue=>{Ue.queued?Ue.markedForDestroy=!0:Ue.destroy()})}finishActiveQueriedAnimationOnElement(be){const he=this.playersByQueriedElement.get(be);he&&he.forEach(Ue=>Ue.finish())}whenRenderingDone(){return new Promise(be=>{if(this.players.length)return ka(this.players).onDone(()=>be());be()})}processLeaveNode(be){var he;const Ue=be[dr];if(Ue&&Ue.setForRemoval){if(be[dr]=Ri,Ue.namespaceId){this.destroyInnerAnimations(be);const _t=this._fetchNamespace(Ue.namespaceId);_t&&_t.clearElementCache(be)}this._onRemovalComplete(be,Ue.setForRemoval)}(null===(he=be.classList)||void 0===he?void 0:he.contains(ts))&&this.markElementAsDisabled(be,!1),this.driver.query(be,".ng-animate-disabled",!0).forEach(_t=>{this.markElementAsDisabled(_t,!1)})}flush(be=-1){let he=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Ue,_t)=>this._balanceNamespaceList(Ue,_t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Ue=0;Ue<this.collectedEnterElements.length;Ue++)zi(this.collectedEnterElements[Ue],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Ue=[];try{he=this._flushAnimations(Ue,be)}finally{for(let _t=0;_t<Ue.length;_t++)Ue[_t]()}}else for(let Ue=0;Ue<this.collectedLeaveElements.length;Ue++)this.processLeaveNode(this.collectedLeaveElements[Ue]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Ue=>Ue()),this._flushFns=[],this._whenQuietFns.length){const Ue=this._whenQuietFns;this._whenQuietFns=[],he.length?ka(he).onDone(()=>{Ue.forEach(_t=>_t())}):Ue.forEach(_t=>_t())}}reportError(be){throw function mo(Ve){return new v.vHH(3402,Zi)}()}_flushAnimations(be,he){const Ue=new Ho,_t=[],$t=new Map,mn=[],Rn=new Map,Yn=new Map,Rr=new Map,bi=new Set;this.disabledNodes.forEach(Yi=>{bi.add(Yi);const ds=this.driver.query(Yi,".ng-animate-queued",!0);for(let ei=0;ei<ds.length;ei++)bi.add(ds[ei])});const Xi=this.bodyNode,As=Array.from(this.statesByElement.keys()),Xs=Po(As,this.collectedEnterElements),hs=new Map;let Ws=0;Xs.forEach((Yi,ds)=>{const ei=ms+Ws++;hs.set(ds,ei),Yi.forEach(ks=>zi(ks,ei))});const Co=[],ss=new Set,fa=new Set;for(let Yi=0;Yi<this.collectedLeaveElements.length;Yi++){const ds=this.collectedLeaveElements[Yi],ei=ds[dr];ei&&ei.setForRemoval&&(Co.push(ds),ss.add(ds),ei.hasAnimation?this.driver.query(ds,".ng-star-inserted",!0).forEach(ks=>ss.add(ks)):fa.add(ds))}const co=new Map,Ta=Po(As,Array.from(ss));Ta.forEach((Yi,ds)=>{const ei=Ki+Ws++;co.set(ds,ei),Yi.forEach(ks=>zi(ks,ei))}),be.push(()=>{Xs.forEach((Yi,ds)=>{const ei=hs.get(ds);Yi.forEach(ks=>vs(ks,ei))}),Ta.forEach((Yi,ds)=>{const ei=co.get(ds);Yi.forEach(ks=>vs(ks,ei))}),Co.forEach(Yi=>{this.processLeaveNode(Yi)})});const Vd=[],ic=[];for(let Yi=this._namespaceList.length-1;Yi>=0;Yi--)this._namespaceList[Yi].drainQueuedTransitions(he).forEach(ei=>{const ks=ei.player,Xo=ei.element;if(Vd.push(ks),this.collectedEnterElements.length){const La=Xo[dr];if(La&&La.setForMove){if(La.previousTriggersValues&&La.previousTriggersValues.has(ei.triggerName)){const Dc=La.previousTriggersValues.get(ei.triggerName),Xc=this.statesByElement.get(ei.element);Xc&&Xc[ei.triggerName]&&(Xc[ei.triggerName].value=Dc)}return void ks.destroy()}}const xl=!Xi||!this.driver.containsElement(Xi,Xo),ol=co.get(Xo),Tc=hs.get(Xo),Mo=this._buildInstruction(ei,Ue,Tc,ol,xl);if(Mo.errors&&Mo.errors.length)return void ic.push(Mo);if(xl)return ks.onStart(()=>yu(Xo,Mo.fromStyles)),ks.onDestroy(()=>Wa(Xo,Mo.toStyles)),void _t.push(ks);if(ei.isFallbackTransition)return ks.onStart(()=>yu(Xo,Mo.fromStyles)),ks.onDestroy(()=>Wa(Xo,Mo.toStyles)),void _t.push(ks);const sd=[];Mo.timelines.forEach(La=>{La.stretchStartingKeyframe=!0,this.disabledNodes.has(La.element)||sd.push(La)}),Mo.timelines=sd,Ue.append(Xo,Mo.timelines),mn.push({instruction:Mo,player:ks,element:Xo}),Mo.queriedElements.forEach(La=>Go(Rn,La,[]).push(ks)),Mo.preStyleProps.forEach((La,Dc)=>{const Xc=Object.keys(La);if(Xc.length){let od=Yn.get(Dc);od||Yn.set(Dc,od=new Set),Xc.forEach(qc=>od.add(qc))}}),Mo.postStyleProps.forEach((La,Dc)=>{const Xc=Object.keys(La);let od=Rr.get(Dc);od||Rr.set(Dc,od=new Set),Xc.forEach(qc=>od.add(qc))})});if(ic.length){const Yi=[];ic.forEach(ds=>{Yi.push(function Ba(Ve,be){return new v.vHH(3505,Zi)}())}),Vd.forEach(ds=>ds.destroy()),this.reportError(Yi)}const ma=new Map,sc=new Map;mn.forEach(Yi=>{const ds=Yi.element;Ue.has(ds)&&(sc.set(ds,ds),this._beforeAnimationBuild(Yi.player.namespaceId,Yi.instruction,ma))}),_t.forEach(Yi=>{const ds=Yi.element;this._getPreviousPlayers(ds,!1,Yi.namespaceId,Yi.triggerName,null).forEach(ks=>{Go(ma,ds,[]).push(ks),ks.destroy()})});const Sc=Co.filter(Yi=>Ra(Yi,Yn,Rr)),Zl=new Map;go(Zl,this.driver,fa,Rr,Bs.l3).forEach(Yi=>{Ra(Yi,Yn,Rr)&&Sc.push(Yi)});const id=new Map;Xs.forEach((Yi,ds)=>{go(id,this.driver,new Set(Yi),Yn,Bs.k1)}),Sc.forEach(Yi=>{const ds=Zl.get(Yi),ei=id.get(Yi);Zl.set(Yi,Object.assign(Object.assign({},ds),ei))});const El=[],ga=[],Bp={};mn.forEach(Yi=>{const{element:ds,player:ei,instruction:ks}=Yi;if(Ue.has(ds)){if(bi.has(ds))return ei.onDestroy(()=>Wa(ds,ks.toStyles)),ei.disabled=!0,ei.overrideTotalTime(ks.totalTime),void _t.push(ei);let Xo=Bp;if(sc.size>1){let ol=ds;const Tc=[];for(;ol=ol.parentNode;){const Mo=sc.get(ol);if(Mo){Xo=Mo;break}Tc.push(ol)}Tc.forEach(Mo=>sc.set(Mo,Xo))}const xl=this._buildAnimation(ei.namespaceId,ks,ma,$t,id,Zl);if(ei.setRealPlayer(xl),Xo===Bp)El.push(ei);else{const ol=this.playersByElement.get(Xo);ol&&ol.length&&(ei.parentPlayer=ka(ol)),_t.push(ei)}}else yu(ds,ks.fromStyles),ei.onDestroy(()=>Wa(ds,ks.toStyles)),ga.push(ei),bi.has(ds)&&_t.push(ei)}),ga.forEach(Yi=>{const ds=$t.get(Yi.element);if(ds&&ds.length){const ei=ka(ds);Yi.setRealPlayer(ei)}}),_t.forEach(Yi=>{Yi.parentPlayer?Yi.syncPlayerEvents(Yi.parentPlayer):Yi.destroy()});for(let Yi=0;Yi<Co.length;Yi++){const ds=Co[Yi],ei=ds[dr];if(vs(ds,Ki),ei&&ei.hasAnimation)continue;let ks=[];if(Rn.size){let xl=Rn.get(ds);xl&&xl.length&&ks.push(...xl);let ol=this.driver.query(ds,ec,!0);for(let Tc=0;Tc<ol.length;Tc++){let Mo=Rn.get(ol[Tc]);Mo&&Mo.length&&ks.push(...Mo)}}const Xo=ks.filter(xl=>!xl.destroyed);Xo.length?ys(this,ds,Xo):this.processLeaveNode(ds)}return Co.length=0,El.forEach(Yi=>{this.players.push(Yi),Yi.onDone(()=>{Yi.destroy();const ds=this.players.indexOf(Yi);this.players.splice(ds,1)}),Yi.play()}),El}elementContainsData(be,he){let Ue=!1;const _t=he[dr];return _t&&_t.setForRemoval&&(Ue=!0),this.playersByElement.has(he)&&(Ue=!0),this.playersByQueriedElement.has(he)&&(Ue=!0),this.statesByElement.has(he)&&(Ue=!0),this._fetchNamespace(be).elementContainsData(he)||Ue}afterFlush(be){this._flushFns.push(be)}afterFlushAnimationsDone(be){this._whenQuietFns.push(be)}_getPreviousPlayers(be,he,Ue,_t,$t){let mn=[];if(he){const Rn=this.playersByQueriedElement.get(be);Rn&&(mn=Rn)}else{const Rn=this.playersByElement.get(be);if(Rn){const Yn=!$t||$t==ci;Rn.forEach(Rr=>{Rr.queued||!Yn&&Rr.triggerName!=_t||mn.push(Rr)})}}return(Ue||_t)&&(mn=mn.filter(Rn=>!(Ue&&Ue!=Rn.namespaceId||_t&&_t!=Rn.triggerName))),mn}_beforeAnimationBuild(be,he,Ue){const $t=he.element,mn=he.isRemovalTransition?void 0:be,Rn=he.isRemovalTransition?void 0:he.triggerName;for(const Yn of he.timelines){const Rr=Yn.element,bi=Rr!==$t,Xi=Go(Ue,Rr,[]);this._getPreviousPlayers(Rr,bi,mn,Rn,he.toState).forEach(Xs=>{const hs=Xs.getRealPlayer();hs.beforeDestroy&&hs.beforeDestroy(),Xs.destroy(),Xi.push(Xs)})}yu($t,he.fromStyles)}_buildAnimation(be,he,Ue,_t,$t,mn){const Rn=he.triggerName,Yn=he.element,Rr=[],bi=new Set,Xi=new Set,As=he.timelines.map(hs=>{const Ws=hs.element;bi.add(Ws);const Co=Ws[dr];if(Co&&Co.removedBeforeQueried)return new Bs.ZN(hs.duration,hs.delay);const ss=Ws!==Yn,fa=function Eo(Ve){const be=[];return zo(Ve,be),be}((Ue.get(Ws)||Os).map(ma=>ma.getRealPlayer())).filter(ma=>!!ma.element&&ma.element===Ws),co=$t.get(Ws),Ta=mn.get(Ws),Vd=Wc(0,this._normalizer,0,hs.keyframes,co,Ta),ic=this._buildPlayer(hs,Vd,fa);if(hs.subTimeline&&_t&&Xi.add(Ws),ss){const ma=new ai(be,Rn,Ws);ma.setRealPlayer(ic),Rr.push(ma)}return ic});Rr.forEach(hs=>{Go(this.playersByQueriedElement,hs.element,[]).push(hs),hs.onDone(()=>function Ti(Ve,be,he){let Ue;if(Ve instanceof Map){if(Ue=Ve.get(be),Ue){if(Ue.length){const _t=Ue.indexOf(he);Ue.splice(_t,1)}0==Ue.length&&Ve.delete(be)}}else if(Ue=Ve[be],Ue){if(Ue.length){const _t=Ue.indexOf(he);Ue.splice(_t,1)}0==Ue.length&&delete Ve[be]}return Ue}(this.playersByQueriedElement,hs.element,hs))}),bi.forEach(hs=>zi(hs,Il));const Xs=ka(As);return Xs.onDestroy(()=>{bi.forEach(hs=>vs(hs,Il)),Wa(Yn,he.toStyles)}),Xi.forEach(hs=>{Go(_t,hs,[]).push(Xs)}),Xs}_buildPlayer(be,he,Ue){return he.length>0?this.driver.animate(be.element,he,be.duration,be.delay,be.easing,Ue):new Bs.ZN(be.duration,be.delay)}}class ai{constructor(be,he,Ue){this.namespaceId=be,this.triggerName=he,this.element=Ue,this._player=new Bs.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(be){this._containsRealPlayer||(this._player=be,Object.keys(this._queuedCallbacks).forEach(he=>{this._queuedCallbacks[he].forEach(Ue=>_l(be,he,void 0,Ue))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(be.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(be){this.totalTime=be}syncPlayerEvents(be){const he=this._player;he.triggerCallback&&be.onStart(()=>he.triggerCallback("start")),be.onDone(()=>this.finish()),be.onDestroy(()=>this.destroy())}_queueEvent(be,he){Go(this._queuedCallbacks,be,[]).push(he)}onDone(be){this.queued&&this._queueEvent("done",be),this._player.onDone(be)}onStart(be){this.queued&&this._queueEvent("start",be),this._player.onStart(be)}onDestroy(be){this.queued&&this._queueEvent("destroy",be),this._player.onDestroy(be)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(be){this.queued||this._player.setPosition(be)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(be){const he=this._player;he.triggerCallback&&he.triggerCallback(be)}}function as(Ve){return Ve&&1===Ve.nodeType}function Ss(Ve,be){const he=Ve.style.display;return Ve.style.display=null!=be?be:"none",he}function go(Ve,be,he,Ue,_t){const $t=[];he.forEach(Yn=>$t.push(Ss(Yn)));const mn=[];Ue.forEach((Yn,Rr)=>{const bi={};Yn.forEach(Xi=>{const As=bi[Xi]=be.computeStyle(Rr,Xi,_t);(!As||0==As.length)&&(Rr[dr]=sr,mn.push(Rr))}),Ve.set(Rr,bi)});let Rn=0;return he.forEach(Yn=>Ss(Yn,$t[Rn++])),mn}function Po(Ve,be){const he=new Map;if(Ve.forEach(Rn=>he.set(Rn,[])),0==be.length)return he;const _t=new Set(be),$t=new Map;function mn(Rn){if(!Rn)return 1;let Yn=$t.get(Rn);if(Yn)return Yn;const Rr=Rn.parentNode;return Yn=he.has(Rr)?Rr:_t.has(Rr)?1:mn(Rr),$t.set(Rn,Yn),Yn}return be.forEach(Rn=>{const Yn=mn(Rn);1!==Yn&&he.get(Yn).push(Rn)}),he}function zi(Ve,be){var he;null===(he=Ve.classList)||void 0===he||he.add(be)}function vs(Ve,be){var he;null===(he=Ve.classList)||void 0===he||he.remove(be)}function ys(Ve,be,he){ka(he).onDone(()=>Ve.processLeaveNode(be))}function zo(Ve,be){for(let he=0;he<Ve.length;he++){const Ue=Ve[he];Ue instanceof Bs.ZE?zo(Ue.players,be):be.push(Ue)}}function Ra(Ve,be,he){const Ue=he.get(Ve);if(!Ue)return!1;let _t=be.get(Ve);return _t?Ue.forEach($t=>_t.add($t)):be.set(Ve,Ue),he.delete(Ve),!0}class sl{constructor(be,he,Ue){this.bodyNode=be,this._driver=he,this._normalizer=Ue,this._triggerCache={},this.onRemovalComplete=(_t,$t)=>{},this._transitionEngine=new Wr(be,he,Ue),this._timelineEngine=new Pi(be,he,Ue),this._transitionEngine.onRemovalComplete=(_t,$t)=>this.onRemovalComplete(_t,$t)}registerTrigger(be,he,Ue,_t,$t){const mn=be+"-"+_t;let Rn=this._triggerCache[mn];if(!Rn){const Yn=[],bi=Xu(this._driver,$t,Yn,[]);if(Yn.length)throw function Pl(Ve,be){return new v.vHH(3404,Zi)}();Rn=function gr(Ve,be,he){return new Vr(Ve,be,he)}(_t,bi,this._normalizer),this._triggerCache[mn]=Rn}this._transitionEngine.registerTrigger(he,_t,Rn)}register(be,he){this._transitionEngine.register(be,he)}destroy(be,he){this._transitionEngine.destroy(be,he)}onInsert(be,he,Ue,_t){this._transitionEngine.insertNode(be,he,Ue,_t)}onRemove(be,he,Ue,_t){this._transitionEngine.removeNode(be,he,_t||!1,Ue)}disableAnimations(be,he){this._transitionEngine.markElementAsDisabled(be,he)}process(be,he,Ue,_t){if("@"==Ue.charAt(0)){const[$t,mn]=st(Ue);this._timelineEngine.command($t,he,mn,_t)}else this._transitionEngine.trigger(be,he,Ue,_t)}listen(be,he,Ue,_t,$t){if("@"==Ue.charAt(0)){const[mn,Rn]=st(Ue);return this._timelineEngine.listen(mn,he,Rn,$t)}return this._transitionEngine.listen(be,he,Ue,_t,$t)}flush(be=-1){this._transitionEngine.flush(be)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let bl=(()=>{class Ve{constructor(he,Ue,_t){this._element=he,this._startStyles=Ue,this._endStyles=_t,this._state=0;let $t=Ve.initialStylesByElement.get(he);$t||Ve.initialStylesByElement.set(he,$t={}),this._initialStyles=$t}start(){this._state<1&&(this._startStyles&&Wa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wa(this._element,this._initialStyles),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ve.initialStylesByElement.delete(this._element),this._startStyles&&(yu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),Wa(this._element,this._initialStyles),this._state=3)}}return Ve.initialStylesByElement=new WeakMap,Ve})();function Gc(Ve){let be=null;const he=Object.keys(Ve);for(let Ue=0;Ue<he.length;Ue++){const _t=he[Ue];ch(_t)&&(be=be||{},be[_t]=Ve[_t])}return be}function ch(Ve){return"display"===Ve||"position"===Ve}class wc{constructor(be,he,Ue,_t){this.element=be,this.keyframes=he,this.options=Ue,this._specialStyles=_t,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=Ue.duration,this._delay=Ue.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const be=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,be,this.options),this._finalKeyframe=be.length?be[be.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(be,he,Ue){return be.animate(he,Ue)}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(be=>be()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}setPosition(be){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=be*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const be={};if(this.hasStarted()){const he=this._finalKeyframe;Object.keys(he).forEach(Ue=>{"offset"!=Ue&&(be[Ue]=this._finished?he[Ue]:xd(this.element,Ue))})}this.currentSnapshot=be}triggerCallback(be){const he="start"==be?this._onStartFns:this._onDoneFns;he.forEach(Ue=>Ue()),he.length=0}}class Lp{validateStyleProperty(be){return Kt(be)}matchesElement(be,he){return!1}containsElement(be,he){return bn(be,he)}getParentElement(be){return Te(be)}query(be,he,Ue){return qn(be,he,Ue)}computeStyle(be,he,Ue){return window.getComputedStyle(be)[he]}animate(be,he,Ue,_t,$t,mn=[]){const Yn={duration:Ue,delay:_t,fill:0==_t?"both":"forwards"};$t&&(Yn.easing=$t);const Rr={},bi=mn.filter(As=>As instanceof wc);(function vu(Ve,be){return 0===Ve||0===be})(Ue,_t)&&bi.forEach(As=>{let Xs=As.currentSnapshot;Object.keys(Xs).forEach(hs=>Rr[hs]=Xs[hs])}),he=function Ad(Ve,be,he){const Ue=Object.keys(he);if(Ue.length&&be.length){let $t=be[0],mn=[];if(Ue.forEach(Rn=>{$t.hasOwnProperty(Rn)||mn.push(Rn),$t[Rn]=he[Rn]}),mn.length)for(var _t=1;_t<be.length;_t++){let Rn=be[_t];mn.forEach(function(Yn){Rn[Yn]=xd(Ve,Yn)})}}return be}(be,he=he.map(As=>tc(As,!1)),Rr);const Xi=function jd(Ve,be){let he=null,Ue=null;return Array.isArray(be)&&be.length?(he=Gc(be[0]),be.length>1&&(Ue=Gc(be[be.length-1]))):be&&(he=Gc(be)),he||Ue?new bl(Ve,he,Ue):null}(be,he);return new wc(be,he,Yn,Xi)}}let Hc=(()=>{class Ve extends Bs._j{constructor(he,Ue){super(),this._nextAnimationId=0,this._renderer=he.createRenderer(Ue.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(he){const Ue=this._nextAnimationId.toString();this._nextAnimationId++;const _t=Array.isArray(he)?(0,Bs.vP)(he):he;return Jc(this._renderer,null,Ue,"register",[_t]),new zf(Ue,this._renderer)}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(v.FYo),v.LFG(d.K0))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class zf extends Bs.LC{constructor(be,he){super(),this._id=be,this._renderer=he}create(be,he){return new E0(this._id,be,he||{},this._renderer)}}class E0{constructor(be,he,Ue,_t){this.id=be,this.element=he,this._renderer=_t,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Ue)}_listen(be,he){return this._renderer.listen(this.element,`@@${this.id}:${be}`,he)}_command(be,...he){return Jc(this._renderer,this.element,this.id,be,he)}onDone(be){this._listen("done",be)}onStart(be){this._listen("start",be)}onDestroy(be){this._listen("destroy",be)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(be){this._command("setPosition",be)}getPosition(){var be,he;return null!==(he=null===(be=this._renderer.engine.players[+this.id])||void 0===be?void 0:be.getPosition())&&void 0!==he?he:0}}function Jc(Ve,be,he,Ue,_t){return Ve.setProperty(be,`@@${he}:${Ue}`,_t)}const Yh="@.disabled";let Qy=(()=>{class Ve{constructor(he,Ue,_t){this.delegate=he,this.engine=Ue,this._zone=_t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),Ue.onRemovalComplete=($t,mn)=>{const Rn=null==mn?void 0:mn.parentNode($t);Rn&&mn.removeChild(Rn,$t)}}createRenderer(he,Ue){const $t=this.delegate.createRenderer(he,Ue);if(!(he&&Ue&&Ue.data&&Ue.data.animation)){let bi=this._rendererCache.get($t);return bi||(bi=new C0("",$t,this.engine),this._rendererCache.set($t,bi)),bi}const mn=Ue.id,Rn=Ue.id+"-"+this._currentId;this._currentId++,this.engine.register(Rn,he);const Yn=bi=>{Array.isArray(bi)?bi.forEach(Yn):this.engine.registerTrigger(mn,Rn,he,bi.name,bi)};return Ue.data.animation.forEach(Yn),new wu(this,Rn,$t,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(he,Ue,_t){he>=0&&he<this._microtaskId?this._zone.run(()=>Ue(_t)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($t=>{const[mn,Rn]=$t;mn(Rn)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Ue,_t]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(v.FYo),v.LFG(sl),v.LFG(v.R0b))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class C0{constructor(be,he,Ue){this.namespaceId=be,this.delegate=he,this.engine=Ue,this.destroyNode=this.delegate.destroyNode?_t=>he.destroyNode(_t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(be,he){return this.delegate.createElement(be,he)}createComment(be){return this.delegate.createComment(be)}createText(be){return this.delegate.createText(be)}appendChild(be,he){this.delegate.appendChild(be,he),this.engine.onInsert(this.namespaceId,he,be,!1)}insertBefore(be,he,Ue,_t=!0){this.delegate.insertBefore(be,he,Ue),this.engine.onInsert(this.namespaceId,he,be,_t)}removeChild(be,he,Ue){this.engine.onRemove(this.namespaceId,he,this.delegate,Ue)}selectRootElement(be,he){return this.delegate.selectRootElement(be,he)}parentNode(be){return this.delegate.parentNode(be)}nextSibling(be){return this.delegate.nextSibling(be)}setAttribute(be,he,Ue,_t){this.delegate.setAttribute(be,he,Ue,_t)}removeAttribute(be,he,Ue){this.delegate.removeAttribute(be,he,Ue)}addClass(be,he){this.delegate.addClass(be,he)}removeClass(be,he){this.delegate.removeClass(be,he)}setStyle(be,he,Ue,_t){this.delegate.setStyle(be,he,Ue,_t)}removeStyle(be,he,Ue){this.delegate.removeStyle(be,he,Ue)}setProperty(be,he,Ue){"@"==he.charAt(0)&&he==Yh?this.disableAnimations(be,!!Ue):this.delegate.setProperty(be,he,Ue)}setValue(be,he){this.delegate.setValue(be,he)}listen(be,he,Ue){return this.delegate.listen(be,he,Ue)}disableAnimations(be,he){this.engine.disableAnimations(be,he)}}class wu extends C0{constructor(be,he,Ue,_t){super(he,Ue,_t),this.factory=be,this.namespaceId=he}setProperty(be,he,Ue){"@"==he.charAt(0)?"."==he.charAt(1)&&he==Yh?this.disableAnimations(be,Ue=void 0===Ue||!!Ue):this.engine.process(this.namespaceId,be,he.substr(1),Ue):this.delegate.setProperty(be,he,Ue)}listen(be,he,Ue){if("@"==he.charAt(0)){const _t=function Fp(Ve){switch(Ve){case"body":return document.body;case"document":return document;case"window":return window;default:return Ve}}(be);let $t=he.substr(1),mn="";return"@"!=$t.charAt(0)&&([$t,mn]=function Up(Ve){const be=Ve.indexOf(".");return[Ve.substring(0,be),Ve.substr(be+1)]}($t)),this.engine.listen(this.namespaceId,_t,$t,mn,Rn=>{this.factory.scheduleListenerCallback(Rn._data||-1,Ue,Rn)})}return this.delegate.listen(be,he,Ue)}}let M0=(()=>{class Ve extends sl{constructor(he,Ue,_t){super(he.body,Ue,_t)}ngOnDestroy(){this.flush()}}return Ve.\u0275fac=function(he){return new(he||Ve)(v.LFG(d.K0),v.LFG(Gr),v.LFG(nr))},Ve.\u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Bd=new v.OlP("AnimationModuleType"),Np=[{provide:Bs._j,useClass:Hc},{provide:nr,useFactory:function w0(){return new fn}},{provide:sl,useClass:M0},{provide:v.FYo,useFactory:function $f(Ve,be,he){return new Qy(Ve,be,he)},deps:[ye,sl,v.R0b]}],nd=[{provide:Gr,useFactory:()=>new Lp},{provide:Bd,useValue:"BrowserAnimations"},...Np],Qh=[{provide:Gr,useClass:Nr},{provide:Bd,useValue:"NoopAnimations"},...Np];let la=(()=>{class Ve{static withConfig(he){return{ngModule:Ve,providers:he.disableAnimations?Qh:nd}}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({providers:nd,imports:[Be]}),Ve})();var Kf=p(74297),rd=p(7950),Yc=p(48850),uh=p(73407),Gf=p(49603),Hf=p(79955),Jf=p(17773);const O0=[ki.F,ji,$i.hJ,Kf.d,gs.S,rd.kW,Yc.$,qs,uh.A,Rs.j,Gf.cc,Sn.T,Hf.l,Jf.EV];let kd=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[la,d.ez,Jr.UX,Jr.u5,...O0],Jr.UX,Jr.u5,ki.F,ji,$i.hJ,Kf.d,gs.S,rd.kW,Yc.$,qs,uh.A,Rs.j,Gf.cc,Sn.T,Hf.l,Jf.EV]}),Ve})(),Ou=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez,qt,kd]]}),Ve})();var Oc=p(99650);let ta=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez]]}),Ve})();v.B6R(Oc.bs,[Oc.Dm],[]),p(63838);let Yf=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez,kd,ta]]}),Ve})(),jp=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve}),Ve.\u0275inj=v.cJS({imports:[[d.ez,Jo,Yf,kd]]}),Ve})();function Wd(){return{version:"0.0.0"}}function dh(){return{url:"https://chasse-x-production.up.railway.app/api"}}let Su=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=v.oAB({type:Ve,bootstrap:[Ma]}),Ve.\u0275inj=v.cJS({providers:[d.uU],imports:[[Be,pl,Tl.forRoot(Wd,dh),Ou,jp,An.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),Ve})();(0,v.G48)(),ct().bootstrapModule(Su).catch(Ve=>console.error(Ve))},76210:(wt,Se,p)=>{"use strict";p.d(Se,{Z5:()=>yn,mv:()=>A,AA:()=>vt,yM:()=>Bt,xE:()=>Ei,K3:()=>gn,h:()=>Rt,GH:()=>Pr,YY:()=>kt});var d=p(15861);let z,Z,D,B=!1,Q=!1,ne=!1,te=!1,ae=null,$=!1;const F="undefined"!=typeof window?window:{},U=F.document||{head:{}},A=F.HTMLElement||class{},V={$flags$:0,$resourcesUrl$:"",jmp:rt=>rt(),raf:rt=>requestAnimationFrame(rt),ael:(rt,Pt,tn,un)=>rt.addEventListener(Pt,tn,un),rel:(rt,Pt,tn,un)=>rt.removeEventListener(Pt,tn,un),ce:(rt,Pt)=>new CustomEvent(rt,Pt)},oe=(()=>{let rt=!1;try{U.addEventListener("e",null,Object.defineProperty({},"passive",{get(){rt=!0}}))}catch(Pt){}return rt})(),le=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(rt){}return!1})(),q=(rt,Pt,tn,un)=>{tn&&tn.map(([qt,xn,Kn])=>{const yt=ie(rt,qt),Ct=ue(Pt,Kn),nn=ye(qt);V.ael(yt,xn,Ct,nn),(Pt.$rmListeners$=Pt.$rmListeners$||[]).push(()=>V.rel(yt,xn,Ct,nn))})},ue=(rt,Pt)=>tn=>{try{rt.$hostElement$[Pt](tn)}catch(un){Ps(un)}},ie=(rt,Pt)=>4&Pt?U:8&Pt?F:16&Pt?U.body:rt,ye=rt=>oe?{passive:0!=(1&rt),capture:0!=(2&rt)}:0!=(2&rt),Re="http://www.w3.org/1999/xlink",Ye=new WeakMap,Fe=(rt,Pt,tn,un)=>{let qt=ct(Pt,tn),xn=qs.get(qt);if(rt=11===rt.nodeType?rt:U,xn)if("string"==typeof xn){let yt,Kn=Ye.get(rt=rt.head||rt);Kn||Ye.set(rt,Kn=new Set),Kn.has(qt)||(yt=U.createElement("style"),yt.innerHTML=xn,rt.insertBefore(yt,rt.querySelector("link")),Kn&&Kn.add(qt))}else!rt.adoptedStyleSheets.includes(xn)&&(rt.adoptedStyleSheets=[...rt.adoptedStyleSheets,xn]);return qt},ct=(rt,Pt)=>"sc-"+(Pt&&32&rt.$flags$?rt.$tagName$+"-"+Pt:rt.$tagName$),ot={},Nt=rt=>"object"==(rt=typeof rt)||"function"===rt,Rt=(rt,Pt,...tn)=>{let un=null,qt=null,xn=null,Kn=!1,yt=!1,Ct=[];const nn=St=>{for(let ht=0;ht<St.length;ht++)un=St[ht],Array.isArray(un)?nn(un):null!=un&&"boolean"!=typeof un&&((Kn="function"!=typeof rt&&!Nt(un))&&(un=String(un)),Kn&&yt?Ct[Ct.length-1].$text$+=un:Ct.push(Kn?Xe(null,un):un),yt=Kn)};if(nn(tn),Pt&&(Pt.key&&(qt=Pt.key),Pt.name&&(xn=Pt.name),true)){const St=Pt.className||Pt.class;St&&(Pt.class="object"!=typeof St?St:Object.keys(St).filter(ht=>St[ht]).join(" "))}if("function"==typeof rt)return rt(null===Pt?{}:Pt,Ct,xt);const et=Xe(rt,null);return et.$attrs$=Pt,Ct.length>0&&(et.$children$=Ct),et.$key$=qt,et.$name$=xn,et},Xe=(rt,Pt)=>{const tn={$flags$:0,$tag$:rt,$text$:Pt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return tn},vt={},Zt=rt=>rt&&rt.$tag$===vt,xt={forEach:(rt,Pt)=>rt.map(Lt).forEach(Pt),map:(rt,Pt)=>rt.map(Lt).map(Pt).map(en)},Lt=rt=>({vattrs:rt.$attrs$,vchildren:rt.$children$,vkey:rt.$key$,vname:rt.$name$,vtag:rt.$tag$,vtext:rt.$text$}),en=rt=>{if("function"==typeof rt.vtag){const tn=Object.assign({},rt.vattrs);return rt.vkey&&(tn.key=rt.vkey),rt.vname&&(tn.name=rt.vname),Rt(rt.vtag,tn,...rt.vchildren||[])}const Pt=Xe(rt.vtag,rt.vtext);return Pt.$attrs$=rt.vattrs,Pt.$children$=rt.vchildren,Pt.$key$=rt.vkey,Pt.$name$=rt.vname,Pt},Dn=(rt,Pt,tn,un,qt,xn)=>{if(tn!==un){let Kn=Rs(rt,Pt),yt=Pt.toLowerCase();if("class"===Pt){const Ct=rt.classList,nn=pr(tn),et=pr(un);Ct.remove(...nn.filter(St=>St&&!et.includes(St))),Ct.add(...et.filter(St=>St&&!nn.includes(St)))}else if("style"===Pt){for(const Ct in tn)(!un||null==un[Ct])&&(Ct.includes("-")?rt.style.removeProperty(Ct):rt.style[Ct]="");for(const Ct in un)(!tn||un[Ct]!==tn[Ct])&&(Ct.includes("-")?rt.style.setProperty(Ct,un[Ct]):rt.style[Ct]=un[Ct])}else if("key"!==Pt)if("ref"===Pt)un&&un(rt);else if(rt.__lookupSetter__(Pt)||"o"!==Pt[0]||"n"!==Pt[1]){{const Ct=Nt(un);if((Kn||Ct&&null!==un)&&!qt)try{if(rt.tagName.includes("-"))rt[Pt]=un;else{let et=null==un?"":un;"list"===Pt?Kn=!1:(null==tn||rt[Pt]!=et)&&(rt[Pt]=et)}}catch(et){}let nn=!1;yt!==(yt=yt.replace(/^xlink\:?/,""))&&(Pt=yt,nn=!0),null==un||!1===un?(!1!==un||""===rt.getAttribute(Pt))&&(nn?rt.removeAttributeNS(Re,Pt):rt.removeAttribute(Pt)):(!Kn||4&xn||qt)&&!Ct&&(un=!0===un?"":un,nn?rt.setAttributeNS(Re,Pt,un):rt.setAttribute(Pt,un))}}else Pt="-"===Pt[2]?Pt.slice(3):Rs(F,yt)?yt.slice(2):yt[2]+Pt.slice(3),tn&&V.rel(rt,Pt,tn,!1),un&&V.ael(rt,Pt,un,!1)}},Xn=/\s/,pr=rt=>rt?rt.split(Xn):[],Tr=(rt,Pt,tn,un)=>{const qt=11===Pt.$elm$.nodeType&&Pt.$elm$.host?Pt.$elm$.host:Pt.$elm$,xn=rt&&rt.$attrs$||ot,Kn=Pt.$attrs$||ot;for(un in xn)un in Kn||Dn(qt,un,xn[un],void 0,tn,Pt.$flags$);for(un in Kn)Dn(qt,un,xn[un],Kn[un],tn,Pt.$flags$)},vr=(rt,Pt,tn,un)=>{let Kn,yt,Ct,qt=Pt.$children$[tn],xn=0;if(!B&&(ne=!0,"slot"===qt.$tag$&&(z&&un.classList.add(z+"-s"),qt.$flags$|=qt.$children$?2:1)),null!==qt.$text$)Kn=qt.$elm$=U.createTextNode(qt.$text$);else if(1&qt.$flags$)Kn=qt.$elm$=U.createTextNode("");else{if(!te&&(te="svg"===qt.$tag$),Kn=qt.$elm$=U.createElementNS(te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&qt.$flags$?"slot-fb":qt.$tag$),te&&"foreignObject"===qt.$tag$&&(te=!1),Tr(null,qt,te),(rt=>null!=rt)(z)&&Kn["s-si"]!==z&&Kn.classList.add(Kn["s-si"]=z),qt.$children$)for(xn=0;xn<qt.$children$.length;++xn)yt=vr(rt,qt,xn,Kn),yt&&Kn.appendChild(yt);"svg"===qt.$tag$?te=!1:"foreignObject"===Kn.tagName&&(te=!0)}return Kn["s-hn"]=D,3&qt.$flags$&&(Kn["s-sr"]=!0,Kn["s-cr"]=Z,Kn["s-sn"]=qt.$name$||"",Ct=rt&&rt.$children$&&rt.$children$[tn],Ct&&Ct.$tag$===qt.$tag$&&rt.$elm$&&zn(rt.$elm$,!1)),Kn},zn=(rt,Pt)=>{V.$flags$|=1;const tn=rt.childNodes;for(let un=tn.length-1;un>=0;un--){const qt=tn[un];qt["s-hn"]!==D&&qt["s-ol"]&&(jn(qt).insertBefore(qt,Wn(qt)),qt["s-ol"].remove(),qt["s-ol"]=void 0,ne=!0),Pt&&zn(qt,Pt)}V.$flags$&=-2},zt=(rt,Pt,tn,un,qt,xn)=>{let yt,Kn=rt["s-cr"]&&rt["s-cr"].parentNode||rt;for(Kn.shadowRoot&&Kn.tagName===D&&(Kn=Kn.shadowRoot);qt<=xn;++qt)un[qt]&&(yt=vr(null,tn,qt,rt),yt&&(un[qt].$elm$=yt,Kn.insertBefore(yt,Wn(Pt))))},sn=(rt,Pt,tn,un,qt)=>{for(;Pt<=tn;++Pt)(un=rt[Pt])&&(qt=un.$elm$,Dr(un),Q=!0,qt["s-ol"]?qt["s-ol"].remove():zn(qt,!0),qt.remove())},In=(rt,Pt)=>rt.$tag$===Pt.$tag$&&("slot"===rt.$tag$?rt.$name$===Pt.$name$:rt.$key$===Pt.$key$),Wn=rt=>rt&&rt["s-ol"]||rt,jn=rt=>(rt["s-ol"]?rt["s-ol"]:rt).parentNode,$n=(rt,Pt)=>{const tn=Pt.$elm$=rt.$elm$,un=rt.$children$,qt=Pt.$children$,xn=Pt.$tag$,Kn=Pt.$text$;let yt;null!==Kn?(yt=tn["s-cr"])?yt.parentNode.textContent=Kn:rt.$text$!==Kn&&(tn.data=Kn):(te="svg"===xn||"foreignObject"!==xn&&te,"slot"===xn||Tr(rt,Pt,te),null!==un&&null!==qt?((rt,Pt,tn,un)=>{let Sn,Jn,qt=0,xn=0,Kn=0,yt=0,Ct=Pt.length-1,nn=Pt[0],et=Pt[Ct],St=un.length-1,ht=un[0],Wt=un[St];for(;qt<=Ct&&xn<=St;)if(null==nn)nn=Pt[++qt];else if(null==et)et=Pt[--Ct];else if(null==ht)ht=un[++xn];else if(null==Wt)Wt=un[--St];else if(In(nn,ht))$n(nn,ht),nn=Pt[++qt],ht=un[++xn];else if(In(et,Wt))$n(et,Wt),et=Pt[--Ct],Wt=un[--St];else if(In(nn,Wt))("slot"===nn.$tag$||"slot"===Wt.$tag$)&&zn(nn.$elm$.parentNode,!1),$n(nn,Wt),rt.insertBefore(nn.$elm$,et.$elm$.nextSibling),nn=Pt[++qt],Wt=un[--St];else if(In(et,ht))("slot"===nn.$tag$||"slot"===Wt.$tag$)&&zn(et.$elm$.parentNode,!1),$n(et,ht),rt.insertBefore(et.$elm$,nn.$elm$),et=Pt[--Ct],ht=un[++xn];else{for(Kn=-1,yt=qt;yt<=Ct;++yt)if(Pt[yt]&&null!==Pt[yt].$key$&&Pt[yt].$key$===ht.$key$){Kn=yt;break}Kn>=0?(Jn=Pt[Kn],Jn.$tag$!==ht.$tag$?Sn=vr(Pt&&Pt[xn],tn,Kn,rt):($n(Jn,ht),Pt[Kn]=void 0,Sn=Jn.$elm$),ht=un[++xn]):(Sn=vr(Pt&&Pt[xn],tn,xn,rt),ht=un[++xn]),Sn&&jn(nn.$elm$).insertBefore(Sn,Wn(nn.$elm$))}qt>Ct?zt(rt,null==un[St+1]?null:un[St+1].$elm$,tn,un,xn,St):xn>St&&sn(Pt,qt,Ct)})(tn,un,Pt,qt):null!==qt?(null!==rt.$text$&&(tn.textContent=""),zt(tn,null,Pt,qt,0,qt.length-1)):null!==un&&sn(un,0,un.length-1),te&&"svg"===xn&&(te=!1))},Ht=rt=>{let tn,un,qt,xn,Kn,yt,Pt=rt.childNodes;for(un=0,qt=Pt.length;un<qt;un++)if(tn=Pt[un],1===tn.nodeType){if(tn["s-sr"])for(Kn=tn["s-sn"],tn.hidden=!1,xn=0;xn<qt;xn++)if(yt=Pt[xn].nodeType,Pt[xn]["s-hn"]!==tn["s-hn"]||""!==Kn){if(1===yt&&Kn===Pt[xn].getAttribute("slot")){tn.hidden=!0;break}}else if(1===yt||3===yt&&""!==Pt[xn].textContent.trim()){tn.hidden=!0;break}Ht(tn)}},ir=[],Qn=rt=>{let Pt,tn,un,qt,xn,Kn,yt=0,Ct=rt.childNodes,nn=Ct.length;for(;yt<nn;yt++){if(Pt=Ct[yt],Pt["s-sr"]&&(tn=Pt["s-cr"])&&tn.parentNode)for(un=tn.parentNode.childNodes,qt=Pt["s-sn"],Kn=un.length-1;Kn>=0;Kn--)tn=un[Kn],!tn["s-cn"]&&!tn["s-nr"]&&tn["s-hn"]!==Pt["s-hn"]&&(Ar(tn,qt)?(xn=ir.find(et=>et.$nodeToRelocate$===tn),Q=!0,tn["s-sn"]=tn["s-sn"]||qt,xn?xn.$slotRefNode$=Pt:ir.push({$slotRefNode$:Pt,$nodeToRelocate$:tn}),tn["s-sr"]&&ir.map(et=>{Ar(et.$nodeToRelocate$,tn["s-sn"])&&(xn=ir.find(St=>St.$nodeToRelocate$===tn),xn&&!et.$slotRefNode$&&(et.$slotRefNode$=xn.$slotRefNode$))})):ir.some(et=>et.$nodeToRelocate$===tn)||ir.push({$nodeToRelocate$:tn}));1===Pt.nodeType&&Qn(Pt)}},Ar=(rt,Pt)=>1===rt.nodeType?null===rt.getAttribute("slot")&&""===Pt||rt.getAttribute("slot")===Pt:rt["s-sn"]===Pt||""===Pt,Dr=rt=>{rt.$attrs$&&rt.$attrs$.ref&&rt.$attrs$.ref(null),rt.$children$&&rt.$children$.map(Dr)},an=(rt,Pt)=>{const tn=rt.$hostElement$,un=rt.$cmpMeta$,qt=rt.$vnode$||Xe(null,null),xn=Zt(Pt)?Pt:Rt(null,null,Pt);if(D=tn.tagName,un.$attrsToReflect$&&(xn.$attrs$=xn.$attrs$||{},un.$attrsToReflect$.map(([Kn,yt])=>xn.$attrs$[yt]=tn[Kn])),xn.$tag$=null,xn.$flags$|=4,rt.$vnode$=xn,xn.$elm$=qt.$elm$=tn.shadowRoot||tn,z=tn["s-sc"],Z=tn["s-cr"],B=0!=(1&un.$flags$),Q=!1,$n(qt,xn),V.$flags$|=1,ne){Qn(xn.$elm$);let Kn,yt,Ct,nn,et,St,ht=0;for(;ht<ir.length;ht++)Kn=ir[ht],yt=Kn.$nodeToRelocate$,yt["s-ol"]||(Ct=U.createTextNode(""),Ct["s-nr"]=yt,yt.parentNode.insertBefore(yt["s-ol"]=Ct,yt));for(ht=0;ht<ir.length;ht++)if(Kn=ir[ht],yt=Kn.$nodeToRelocate$,Kn.$slotRefNode$){for(nn=Kn.$slotRefNode$.parentNode,et=Kn.$slotRefNode$.nextSibling,Ct=yt["s-ol"];Ct=Ct.previousSibling;)if(St=Ct["s-nr"],St&&St["s-sn"]===yt["s-sn"]&&nn===St.parentNode&&(St=St.nextSibling,!St||!St["s-nr"])){et=St;break}(!et&&nn!==yt.parentNode||yt.nextSibling!==et)&&yt!==et&&(!yt["s-hn"]&&yt["s-ol"]&&(yt["s-hn"]=yt["s-ol"].parentNode.nodeName),nn.insertBefore(yt,et))}else 1===yt.nodeType&&(yt.hidden=!0)}Q&&Ht(xn.$elm$),V.$flags$&=-2,ir.length=0},Bt=(rt,Pt,tn)=>{const un=rt;return{emit:qt=>wn(un,Pt,{bubbles:!!(4&tn),composed:!!(2&tn),cancelable:!!(1&tn),detail:qt})}},wn=(rt,Pt,tn)=>{const un=V.ce(Pt,tn);return rt.dispatchEvent(un),un},Cn=(rt,Pt)=>{rt.$flags$|=16;const tn=()=>Bn(rt,Pt);return Vt(tn)},Bn=(rt,Pt)=>{const tn=rt.$hostElement$,un=()=>{},qt=tn;let xn;return Pt?(Zr(tn,"componentWillLoad"),xn=Fi(qt,"componentWillLoad")):(Zr(tn,"componentWillUpdate"),xn=Fi(qt,"componentWillUpdate")),Zr(tn,"componentWillRender"),xn=rs(xn,()=>Fi(qt,"componentWillRender")),un(),rs(xn,()=>er(rt,qt,Pt))},er=function(){var rt=(0,d.Z)(function*(Pt,tn,un){const qt=Pt.$hostElement$,xn=()=>{};un&&(rt=>{const Pt=rt.$cmpMeta$,tn=rt.$hostElement$,un=Pt.$flags$,qt=()=>{},xn=Fe(tn.shadowRoot?tn.shadowRoot:tn.getRootNode(),Pt,rt.$modeName$);10&un&&(tn["s-sc"]=xn,tn.classList.add(xn+"-h"),2&un&&tn.classList.add(xn+"-s")),qt()})(Pt);const yt=()=>{};or(Pt,tn,qt),yt(),xn(),wi(Pt)});return function(tn,un,qt){return rt.apply(this,arguments)}}(),or=(rt,Pt,tn)=>{try{ae=Pt,Pt=Pt.render&&Pt.render(),rt.$flags$&=-17,rt.$flags$|=2,an(rt,Pt)}catch(yt){Ps(yt,rt.$hostElement$)}return ae=null,null},wi=rt=>{const tn=rt.$hostElement$,un=()=>{},qt=tn;Fi(qt,"componentDidRender"),Zr(tn,"componentDidRender"),64&rt.$flags$?(Fi(qt,"componentDidUpdate"),Zr(tn,"componentDidUpdate"),un()):(rt.$flags$|=64,Fi(qt,"componentDidLoad"),Zr(tn,"componentDidLoad"),un())},Ei=rt=>{{const Pt=Ji(rt),tn=Pt.$hostElement$.isConnected;return tn&&2==(18&Pt.$flags$)&&Cn(Pt,!1),tn}},Fi=(rt,Pt,tn)=>{if(rt&&rt[Pt])try{return rt[Pt](tn)}catch(un){Ps(un)}},rs=(rt,Pt)=>rt&&rt.then?rt.then(Pt):Pt(),Zr=(rt,Pt)=>{},Ts=(rt,Pt,tn)=>{if(Pt.$members$){rt.watchers&&(Pt.$watchers$=rt.watchers);const un=Object.entries(Pt.$members$),qt=rt.prototype;un.map(([xn,[Kn]])=>{(31&Kn||32&Kn)&&Object.defineProperty(qt,xn,{get(){return((rt,Pt)=>Ji(this).$instanceValues$.get(Pt))(0,xn)},set(yt){((rt,Pt,tn,un)=>{const qt=Ji(rt),xn=rt,Kn=qt.$instanceValues$.get(Pt),yt=qt.$flags$,Ct=xn;tn=((rt,Pt)=>null==rt||Nt(rt)?rt:4&Pt?"false"!==rt&&(""===rt||!!rt):2&Pt?parseFloat(rt):1&Pt?String(rt):rt)(tn,un.$members$[Pt][0]);const nn=Number.isNaN(Kn)&&Number.isNaN(tn);if(tn!==Kn&&!nn&&(qt.$instanceValues$.set(Pt,tn),1)){if(un.$watchers$&&128&yt){const St=un.$watchers$[Pt];St&&St.map(ht=>{try{Ct[ht](tn,Kn,Pt)}catch(Wt){Ps(Wt,xn)}})}if(2==(18&yt)){if(Ct.componentShouldUpdate&&!1===Ct.componentShouldUpdate(tn,Kn,Pt))return;Cn(qt,!1)}}})(this,xn,yt,Pt)},configurable:!0,enumerable:!0})});{const xn=new Map;qt.attributeChangedCallback=function(Kn,yt,Ct){V.jmp(()=>{const nn=xn.get(Kn);if(this.hasOwnProperty(nn))Ct=this[nn],delete this[nn];else if(qt.hasOwnProperty(nn)&&"number"==typeof this[nn]&&this[nn]==Ct)return;this[nn]=(null!==Ct||"boolean"!=typeof this[nn])&&Ct})},rt.observedAttributes=un.filter(([Kn,yt])=>15&yt[0]).map(([Kn,yt])=>{const Ct=yt[1]||Kn;return xn.set(Ct,Kn),512&yt[0]&&Pt.$attrsToReflect$.push([Kn,Ct]),Ct})}}return rt},Li=function(){var rt=(0,d.Z)(function*(Pt,tn,un,qt,xn){if(0==(32&tn.$flags$)&&(xn=Pt.constructor,tn.$flags$|=32,customElements.whenDefined(un.$tagName$).then(()=>tn.$flags$|=128),xn.style)){let Ct=xn.style;"string"!=typeof Ct&&(Ct=Ct[tn.$modeName$=(rt=>$i.map(Pt=>Pt(rt)).find(Pt=>!!Pt))(Pt)]);const nn=ct(un,tn.$modeName$);if(!qs.has(nn)){const et=()=>{};((rt,Pt,tn)=>{let un=qs.get(rt);le&&tn?(un=un||new CSSStyleSheet,un.replace(Pt)):un=Pt,qs.set(rt,un)})(nn,Ct,!!(1&un.$flags$)),et()}}const yt=()=>Cn(tn,!0);yt()});return function(tn,un,qt,xn,Kn){return rt.apply(this,arguments)}}(),ps=rt=>{},Zn=rt=>{const Pt=rt["s-cr"]=U.createComment("");Pt["s-cn"]=!0,rt.insertBefore(Pt,rt.firstChild)},Pr=(rt,Pt)=>{const tn={$flags$:Pt[0],$tagName$:Pt[1]};tn.$members$=Pt[2],tn.$listeners$=Pt[3],tn.$watchers$=rt.$watchers$,tn.$attrsToReflect$=[];const un=rt.prototype.connectedCallback,qt=rt.prototype.disconnectedCallback;return Object.assign(rt.prototype,{__registerHost(){Vi(this,tn)},connectedCallback(){(rt=>{if(0==(1&V.$flags$)){const Pt=Ji(rt),tn=Pt.$cmpMeta$,un=()=>{};if(1&Pt.$flags$)q(rt,Pt,tn.$listeners$),ps(Pt.$lazyInstance$);else{let qt;Pt.$flags$|=1,!qt&&12&tn.$flags$&&Zn(rt),tn.$members$&&Object.entries(tn.$members$).map(([xn,[Kn]])=>{if(31&Kn&&rt.hasOwnProperty(xn)){const yt=rt[xn];delete rt[xn],rt[xn]=yt}}),Li(rt,Pt,tn)}un()}})(this),un&&un.call(this)},disconnectedCallback(){(rt=>{if(0==(1&V.$flags$)){const Pt=Ji(rt);Pt.$rmListeners$&&(Pt.$rmListeners$.map(un=>un()),Pt.$rmListeners$=void 0)}})(this),qt&&qt.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&tn.$flags$)})}}),rt.is=tn.$tagName$,Ts(rt,tn)},gn=rt=>{const Pt=new URL(rt,V.$resourcesUrl$);return Pt.origin!==F.location.origin?Pt.href:Pt.pathname},kt=rt=>V.$resourcesUrl$=rt,Ni=new WeakMap,Ji=rt=>Ni.get(rt),Vi=(rt,Pt)=>{const tn={$flags$:0,$hostElement$:rt,$cmpMeta$:Pt,$instanceValues$:new Map};return q(rt,tn,Pt.$listeners$),Ni.set(rt,tn)},Rs=(rt,Pt)=>Pt in rt,Ps=(rt,Pt)=>(0,console.error)(rt,Pt),qs=new Map,$i=[],gs=[],Ys=[],cn=(rt,Pt)=>tn=>{rt.push(tn),$||($=!0,Pt&&4&V.$flags$?hn(Jt):V.raf(Jt))},_r=rt=>{for(let Pt=0;Pt<rt.length;Pt++)try{rt[Pt](performance.now())}catch(tn){Ps(tn)}rt.length=0},Jt=()=>{_r(gs),_r(Ys),($=gs.length>0)&&V.raf(Jt)},hn=rt=>Promise.resolve(void 0).then(rt),Vt=cn(Ys,!0),yn={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},21611:wt=>{"use strict";wt.exports=function Se(p){return function(){var d=arguments.length;if(d){for(var v=[],X=-1;++X<d;)v[X]=arguments[X];return p.call(this,v)}return p.call(this,[])}}},59069:wt=>{"use strict";var d,Se="object"==typeof Reflect?Reflect:null,p=Se&&"function"==typeof Se.apply?Se.apply:function(A,V,J){return Function.prototype.apply.call(A,V,J)};d=Se&&"function"==typeof Se.ownKeys?Se.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var X=Number.isNaN||function(A){return A!=A};function G(){G.init.call(this)}wt.exports=G,wt.exports.once=function $(U,A){return new Promise(function(V,J){function Y(se){U.removeListener(A,oe),J(se)}function oe(){"function"==typeof U.removeListener&&U.removeListener("error",Y),V([].slice.call(arguments))}R(U,A,oe,{once:!0}),"error"!==A&&function F(U,A,V){"function"==typeof U.on&&R(U,"error",A,V)}(U,Y,{once:!0})})},G.EventEmitter=G,G.prototype._events=void 0,G.prototype._eventsCount=0,G.prototype._maxListeners=void 0;var z=10;function Z(U){if("function"!=typeof U)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof U)}function D(U){return void 0===U._maxListeners?G.defaultMaxListeners:U._maxListeners}function k(U,A,V,J){var Y,oe,se;if(Z(V),void 0===(oe=U._events)?(oe=U._events=Object.create(null),U._eventsCount=0):(void 0!==oe.newListener&&(U.emit("newListener",A,V.listener?V.listener:V),oe=U._events),se=oe[A]),void 0===se)se=oe[A]=V,++U._eventsCount;else if("function"==typeof se?se=oe[A]=J?[V,se]:[se,V]:J?se.unshift(V):se.push(V),(Y=D(U))>0&&se.length>Y&&!se.warned){se.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");le.name="MaxListenersExceededWarning",le.emitter=U,le.type=A,le.count=se.length,function v(U){console&&console.warn&&console.warn(U)}(le)}return U}function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function B(U,A,V){var J={fired:!1,wrapFn:void 0,target:U,type:A,listener:V},Y=N.bind(J);return Y.listener=V,J.wrapFn=Y,Y}function Q(U,A,V){var J=U._events;if(void 0===J)return[];var Y=J[A];return void 0===Y?[]:"function"==typeof Y?V?[Y.listener||Y]:[Y]:V?function re(U){for(var A=new Array(U.length),V=0;V<A.length;++V)A[V]=U[V].listener||U[V];return A}(Y):te(Y,Y.length)}function ne(U){var A=this._events;if(void 0!==A){var V=A[U];if("function"==typeof V)return 1;if(void 0!==V)return V.length}return 0}function te(U,A){for(var V=new Array(A),J=0;J<A;++J)V[J]=U[J];return V}function R(U,A,V,J){if("function"==typeof U.on)J.once?U.once(A,V):U.on(A,V);else{if("function"!=typeof U.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof U);U.addEventListener(A,function Y(oe){J.once&&U.removeEventListener(A,Y),V(oe)})}}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return z},set:function(U){if("number"!=typeof U||U<0||X(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");z=U}}),G.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},G.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||X(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},G.prototype.getMaxListeners=function(){return D(this)},G.prototype.emit=function(A){for(var V=[],J=1;J<arguments.length;J++)V.push(arguments[J]);var Y="error"===A,oe=this._events;if(void 0!==oe)Y=Y&&void 0===oe.error;else if(!Y)return!1;if(Y){var se;if(V.length>0&&(se=V[0]),se instanceof Error)throw se;var le=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw le.context=se,le}var de=oe[A];if(void 0===de)return!1;if("function"==typeof de)p(de,this,V);else{var q=de.length,ue=te(de,q);for(J=0;J<q;++J)p(ue[J],this,V)}return!0},G.prototype.on=G.prototype.addListener=function(A,V){return k(this,A,V,!1)},G.prototype.prependListener=function(A,V){return k(this,A,V,!0)},G.prototype.once=function(A,V){return Z(V),this.on(A,B(this,A,V)),this},G.prototype.prependOnceListener=function(A,V){return Z(V),this.prependListener(A,B(this,A,V)),this},G.prototype.off=G.prototype.removeListener=function(A,V){var J,Y,oe,se,le;if(Z(V),void 0===(Y=this._events))return this;if(void 0===(J=Y[A]))return this;if(J===V||J.listener===V)0==--this._eventsCount?this._events=Object.create(null):(delete Y[A],Y.removeListener&&this.emit("removeListener",A,J.listener||V));else if("function"!=typeof J){for(oe=-1,se=J.length-1;se>=0;se--)if(J[se]===V||J[se].listener===V){le=J[se].listener,oe=se;break}if(oe<0)return this;0===oe?J.shift():function ae(U,A){for(;A+1<U.length;A++)U[A]=U[A+1];U.pop()}(J,oe),1===J.length&&(Y[A]=J[0]),void 0!==Y.removeListener&&this.emit("removeListener",A,le||V)}return this},G.prototype.removeAllListeners=function(A){var V,J,Y;if(void 0===(J=this._events))return this;if(void 0===J.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==J[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete J[A]),this;if(0===arguments.length){var se,oe=Object.keys(J);for(Y=0;Y<oe.length;++Y)"removeListener"!==(se=oe[Y])&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(V=J[A]))this.removeListener(A,V);else if(void 0!==V)for(Y=V.length-1;Y>=0;Y--)this.removeListener(A,V[Y]);return this},G.prototype.listeners=function(A){return Q(this,A,!0)},G.prototype.rawListeners=function(A){return Q(this,A,!1)},G.listenerCount=function(U,A){return"function"==typeof U.listenerCount?U.listenerCount(A):ne.call(U,A)},G.prototype.listenerCount=ne,G.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},39294:(wt,Se,p)=>{"use strict";var v,X,d=[p(15525),p(49814),p(38607),p(34628),p(74683),p(27710)],G=-1,z=[],Z=!1;function D(){!v||!X||(v=!1,X.length?z=X.concat(z):G=-1,z.length&&k())}function k(){if(!v){Z=!1,v=!0;for(var ae=z.length,re=setTimeout(D);ae;){for(X=z,z=[];X&&++G<ae;)X[G].run();G=-1,ae=z.length}X=null,G=-1,v=!1,clearTimeout(re)}}for(var N,B=-1,Q=d.length;++B<Q;)if(d[B]&&d[B].test&&d[B].test()){N=d[B].install(k);break}function ne(ae,re){this.fun=ae,this.array=re}ne.prototype.run=function(){var ae=this.fun,re=this.array;switch(re.length){case 0:return ae();case 1:return ae(re[0]);case 2:return ae(re[0],re[1]);case 3:return ae(re[0],re[1],re[2]);default:return ae.apply(null,re)}},wt.exports=function te(ae){var re=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)re[$-1]=arguments[$];z.push(new ne(ae,re)),!Z&&!v&&(Z=!0,N())}},34628:(wt,Se)=>{"use strict";Se.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},Se.install=function(p){var d=new global.MessageChannel;return d.port1.onmessage=p,function(){d.port2.postMessage(0)}}},38607:(wt,Se)=>{"use strict";var p=global.MutationObserver||global.WebKitMutationObserver;Se.test=function(){return p},Se.install=function(d){var v=0,X=new p(d),G=global.document.createTextNode("");return X.observe(G,{characterData:!0}),function(){G.data=v=++v%2}}},49814:(wt,Se)=>{"use strict";Se.test=function(){return"function"==typeof global.queueMicrotask},Se.install=function(p){return function(){global.queueMicrotask(p)}}},74683:(wt,Se)=>{"use strict";Se.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},Se.install=function(p){return function(){var d=global.document.createElement("script");return d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},global.document.documentElement.appendChild(d),p}}},27710:(wt,Se)=>{"use strict";Se.test=function(){return!0},Se.install=function(p){return function(){setTimeout(p,0)}}},83894:wt=>{wt.exports="function"==typeof Object.create?function(p,d){d&&(p.super_=d,p.prototype=Object.create(d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:function(p,d){if(d){p.super_=d;var v=function(){};v.prototype=d.prototype,p.prototype=new v,p.prototype.constructor=p}}},27122:(wt,Se)=>{"use strict";function d(fe,Te){for(var Ie=0;Ie<Te.length;Ie++){var Oe=Te[Ie];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(fe,Oe.key,Oe)}}function v(fe,Te,Ie){return Te&&d(fe.prototype,Te),Ie&&d(fe,Ie),fe}function X(){return X=Object.assign||function(fe){for(var Te=1;Te<arguments.length;Te++){var Ie=arguments[Te];for(var Oe in Ie)Object.prototype.hasOwnProperty.call(Ie,Oe)&&(fe[Oe]=Ie[Oe])}return fe},X.apply(this,arguments)}function G(fe,Te){fe.prototype=Object.create(Te.prototype),fe.prototype.constructor=fe,Z(fe,Te)}function z(fe){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)})(fe)}function Z(fe,Te){return(Z=Object.setPrototypeOf||function(Oe,Ge){return Oe.__proto__=Ge,Oe})(fe,Te)}function D(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}function k(fe,Te,Ie){return(k=D()?Reflect.construct:function(Ge,bt,Kt){var dn=[null];dn.push.apply(dn,bt);var qn=new(Function.bind.apply(Ge,dn));return Kt&&Z(qn,Kt.prototype),qn}).apply(null,arguments)}function B(fe){var Te="function"==typeof Map?new Map:void 0;return B=function(Oe){if(null===Oe||!function N(fe){return-1!==Function.toString.call(fe).indexOf("[native code]")}(Oe))return Oe;if("function"!=typeof Oe)throw new TypeError("Super expression must either be null or a function");if(void 0!==Te){if(Te.has(Oe))return Te.get(Oe);Te.set(Oe,Ge)}function Ge(){return k(Oe,arguments,z(this).constructor)}return Ge.prototype=Object.create(Oe.prototype,{constructor:{value:Ge,enumerable:!1,writable:!0,configurable:!0}}),Z(Ge,Oe)},B(fe)}function Q(fe,Te){if(null==fe)return{};var Ge,bt,Ie={},Oe=Object.keys(fe);for(bt=0;bt<Oe.length;bt++)!(Te.indexOf(Ge=Oe[bt])>=0)&&(Ie[Ge]=fe[Ge]);return Ie}function te(fe,Te){(null==Te||Te>fe.length)&&(Te=fe.length);for(var Ie=0,Oe=new Array(Te);Ie<Te;Ie++)Oe[Ie]=fe[Ie];return Oe}function ae(fe,Te){var Ie="undefined"!=typeof Symbol&&fe[Symbol.iterator]||fe["@@iterator"];if(Ie)return(Ie=Ie.call(fe)).next.bind(Ie);if(Array.isArray(fe)||(Ie=function ne(fe,Te){if(fe){if("string"==typeof fe)return te(fe,Te);var Ie=Object.prototype.toString.call(fe).slice(8,-1);if("Object"===Ie&&fe.constructor&&(Ie=fe.constructor.name),"Map"===Ie||"Set"===Ie)return Array.from(fe);if("Arguments"===Ie||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie))return te(fe,Te)}}(fe))||Te&&fe&&"number"==typeof fe.length){Ie&&(fe=Ie);var Oe=0;return function(){return Oe>=fe.length?{done:!0}:{done:!1,value:fe[Oe++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re=function(fe){function Te(){return fe.apply(this,arguments)||this}return G(Te,fe),Te}(B(Error)),$=function(fe){function Te(Ie){return fe.call(this,"Invalid DateTime: "+Ie.toMessage())||this}return G(Te,fe),Te}(re),F=function(fe){function Te(Ie){return fe.call(this,"Invalid Interval: "+Ie.toMessage())||this}return G(Te,fe),Te}(re),R=function(fe){function Te(Ie){return fe.call(this,"Invalid Duration: "+Ie.toMessage())||this}return G(Te,fe),Te}(re),U=function(fe){function Te(){return fe.apply(this,arguments)||this}return G(Te,fe),Te}(re),A=function(fe){function Te(Ie){return fe.call(this,"Invalid unit "+Ie)||this}return G(Te,fe),Te}(re),V=function(fe){function Te(){return fe.apply(this,arguments)||this}return G(Te,fe),Te}(re),J=function(fe){function Te(){return fe.call(this,"Zone is an abstract class")||this}return G(Te,fe),Te}(re),Y="numeric",oe="short",se="long",le={year:Y,month:Y,day:Y},de={year:Y,month:oe,day:Y},q={year:Y,month:oe,day:Y,weekday:oe},ue={year:Y,month:se,day:Y},ie={year:Y,month:se,day:Y,weekday:se},ye={hour:Y,minute:Y},pe={hour:Y,minute:Y,second:Y},Ce={hour:Y,minute:Y,second:Y,timeZoneName:oe},De={hour:Y,minute:Y,second:Y,timeZoneName:se},Me={hour:Y,minute:Y,hourCycle:"h23"},ve={hour:Y,minute:Y,second:Y,hourCycle:"h23"},Le={hour:Y,minute:Y,second:Y,hourCycle:"h23",timeZoneName:oe},je={hour:Y,minute:Y,second:Y,hourCycle:"h23",timeZoneName:se},_e={year:Y,month:Y,day:Y,hour:Y,minute:Y},Re={year:Y,month:Y,day:Y,hour:Y,minute:Y,second:Y},nt={year:Y,month:oe,day:Y,hour:Y,minute:Y},pt={year:Y,month:oe,day:Y,hour:Y,minute:Y,second:Y},Ne={year:Y,month:oe,day:Y,weekday:oe,hour:Y,minute:Y},xe={year:Y,month:se,day:Y,hour:Y,minute:Y,timeZoneName:oe},Ye={year:Y,month:se,day:Y,hour:Y,minute:Y,second:Y,timeZoneName:oe},Ke={year:Y,month:se,day:Y,weekday:se,hour:Y,minute:Y,timeZoneName:se},Fe={year:Y,month:se,day:Y,weekday:se,hour:Y,minute:Y,second:Y,timeZoneName:se};function Ze(fe){return void 0===fe}function ct(fe){return"number"==typeof fe}function we(fe){return"number"==typeof fe&&fe%1==0}function $e(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(fe){return!1}}function mt(fe,Te,Ie){if(0!==fe.length)return fe.reduce(function(Oe,Ge){var bt=[Te(Ge),Ge];return Oe&&Ie(Oe[0],bt[0])===Oe[0]?Oe:bt},null)[1]}function It(fe,Te){return Object.prototype.hasOwnProperty.call(fe,Te)}function Nt(fe,Te,Ie){return we(fe)&&fe>=Te&&fe<=Ie}function Xe(fe,Te){return void 0===Te&&(Te=2),fe<0?"-"+(""+-fe).padStart(Te,"0"):(""+fe).padStart(Te,"0")}function vt(fe){if(!Ze(fe)&&null!==fe&&""!==fe)return parseInt(fe,10)}function Zt(fe){if(!Ze(fe)&&null!==fe&&""!==fe)return parseFloat(fe)}function xt(fe){if(!Ze(fe)&&null!==fe&&""!==fe){var Te=1e3*parseFloat("0."+fe);return Math.floor(Te)}}function Lt(fe,Te,Ie){void 0===Ie&&(Ie=!1);var Oe=Math.pow(10,Te);return(Ie?Math.trunc:Math.round)(fe*Oe)/Oe}function en(fe){return fe%4==0&&(fe%100!=0||fe%400==0)}function En(fe){return en(fe)?366:365}function Dn(fe,Te){var Ie=function Rt(fe,Te){return fe-Te*Math.floor(fe/Te)}(Te-1,12)+1;return 2===Ie?en(fe+(Te-Ie)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ie-1]}function Xn(fe){var Te=Date.UTC(fe.year,fe.month-1,fe.day,fe.hour,fe.minute,fe.second,fe.millisecond);return fe.year<100&&fe.year>=0&&(Te=new Date(Te)).setUTCFullYear(Te.getUTCFullYear()-1900),+Te}function pr(fe){var Te=(fe+Math.floor(fe/4)-Math.floor(fe/100)+Math.floor(fe/400))%7,Ie=fe-1,Oe=(Ie+Math.floor(Ie/4)-Math.floor(Ie/100)+Math.floor(Ie/400))%7;return 4===Te||3===Oe?53:52}function Tr(fe){return fe>99?fe:fe>60?1900+fe:2e3+fe}function vr(fe,Te,Ie,Oe){void 0===Oe&&(Oe=null);var Ge=new Date(fe),bt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Oe&&(bt.timeZone=Oe);var Kt=X({timeZoneName:Te},bt),dn=new Intl.DateTimeFormat(Ie,Kt).formatToParts(Ge).find(function(bn){return"timezonename"===bn.type.toLowerCase()});return dn?dn.value:null}function zn(fe,Te){var Ie=parseInt(fe,10);Number.isNaN(Ie)&&(Ie=0);var Oe=parseInt(Te,10)||0;return 60*Ie+(Ie<0||Object.is(Ie,-0)?-Oe:Oe)}function zt(fe){var Te=Number(fe);if("boolean"==typeof fe||""===fe||Number.isNaN(Te))throw new V("Invalid unit value "+fe);return Te}function sn(fe,Te){var Ie={};for(var Oe in fe)if(It(fe,Oe)){var Ge=fe[Oe];if(null==Ge)continue;Ie[Te(Oe)]=zt(Ge)}return Ie}function pn(fe,Te){var Ie=Math.trunc(Math.abs(fe/60)),Oe=Math.trunc(Math.abs(fe%60)),Ge=fe>=0?"+":"-";switch(Te){case"short":return""+Ge+Xe(Ie,2)+":"+Xe(Oe,2);case"narrow":return""+Ge+Ie+(Oe>0?":"+Oe:"");case"techie":return""+Ge+Xe(Ie,2)+Xe(Oe,2);default:throw new RangeError("Value format "+Te+" is out of range for property format")}}function In(fe){return function Tt(fe,Te){return Te.reduce(function(Ie,Oe){return Ie[Oe]=fe[Oe],Ie},{})}(fe,["hour","minute","second","millisecond"])}var Wn=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,jn=["January","February","March","April","May","June","July","August","September","October","November","December"],$n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ht=["J","F","M","A","M","J","J","A","S","O","N","D"];function ir(fe){switch(fe){case"narrow":return[].concat(Ht);case"short":return[].concat($n);case"long":return[].concat(jn);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Qn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ar=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Dr=["M","T","W","T","F","S","S"];function an(fe){switch(fe){case"narrow":return[].concat(Dr);case"short":return[].concat(Ar);case"long":return[].concat(Qn);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Mn=["AM","PM"],Hn=["Before Christ","Anno Domini"],Mt=["BC","AD"],Bt=["B","A"];function wn(fe){switch(fe){case"narrow":return[].concat(Bt);case"short":return[].concat(Mt);case"long":return[].concat(Hn);default:return null}}function Hr(fe,Te){for(var Ge,Ie="",Oe=ae(fe);!(Ge=Oe()).done;){var bt=Ge.value;Ie+=bt.literal?bt.val:Te(bt.val)}return Ie}var wi={D:le,DD:de,DDD:ue,DDDD:ie,t:ye,tt:pe,ttt:Ce,tttt:De,T:Me,TT:ve,TTT:Le,TTTT:je,f:_e,ff:nt,fff:xe,ffff:Ke,F:Re,FF:pt,FFF:Ye,FFFF:Fe},Ei=function(){function fe(Ie,Oe){this.opts=Oe,this.loc=Ie,this.systemLoc=null}fe.create=function(Oe,Ge){return void 0===Ge&&(Ge={}),new fe(Oe,Ge)},fe.parseFormat=function(Oe){for(var Ge=null,bt="",Kt=!1,dn=[],bn=0;bn<Oe.length;bn++){var qn=Oe.charAt(bn);"'"===qn?(bt.length>0&&dn.push({literal:Kt,val:bt}),Ge=null,bt="",Kt=!Kt):Kt||qn===Ge?bt+=qn:(bt.length>0&&dn.push({literal:!1,val:bt}),bt=qn,Ge=qn)}return bt.length>0&&dn.push({literal:Kt,val:bt}),dn},fe.macroTokenToFormatOpts=function(Oe){return wi[Oe]};var Te=fe.prototype;return Te.formatWithSystemDefault=function(Oe,Ge){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(Oe,X({},this.opts,Ge)).format()},Te.formatDateTime=function(Oe,Ge){return void 0===Ge&&(Ge={}),this.loc.dtFormatter(Oe,X({},this.opts,Ge)).format()},Te.formatDateTimeParts=function(Oe,Ge){return void 0===Ge&&(Ge={}),this.loc.dtFormatter(Oe,X({},this.opts,Ge)).formatToParts()},Te.resolvedOptions=function(Oe,Ge){return void 0===Ge&&(Ge={}),this.loc.dtFormatter(Oe,X({},this.opts,Ge)).resolvedOptions()},Te.num=function(Oe,Ge){if(void 0===Ge&&(Ge=0),this.opts.forceSimple)return Xe(Oe,Ge);var bt=X({},this.opts);return Ge>0&&(bt.padTo=Ge),this.loc.numberFormatter(bt).format(Oe)},Te.formatDateTimeFromString=function(Oe,Ge){var bt=this,Kt="en"===this.loc.listingMode(),dn=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,bn=function(Ki,To){return bt.loc.extract(Oe,Ki,To)},qn=function(Ki){return Oe.isOffsetFixed&&0===Oe.offset&&Ki.allowZ?"Z":Oe.isValid?Oe.zone.formatOffset(Oe.ts,Ki.format):""},Nr=function(Ki,To){return Kt?function Bn(fe,Te){return ir(Te)[fe.month-1]}(Oe,Ki):bn(To?{month:Ki}:{month:Ki,day:"numeric"},"month")},Gr=function(Ki,To){return Kt?function Cn(fe,Te){return an(Te)[fe.weekday-1]}(Oe,Ki):bn(To?{weekday:Ki}:{weekday:Ki,month:"long",day:"numeric"},"weekday")},is=function(Ki){return Kt?function er(fe,Te){return wn(Te)[fe.year<0?0:1]}(Oe,Ki):bn({era:Ki},"era")};return Hr(fe.parseFormat(Ge),function(Ki){switch(Ki){case"S":return bt.num(Oe.millisecond);case"u":case"SSS":return bt.num(Oe.millisecond,3);case"s":return bt.num(Oe.second);case"ss":return bt.num(Oe.second,2);case"uu":return bt.num(Math.floor(Oe.millisecond/10),2);case"uuu":return bt.num(Math.floor(Oe.millisecond/100));case"m":return bt.num(Oe.minute);case"mm":return bt.num(Oe.minute,2);case"h":return bt.num(Oe.hour%12==0?12:Oe.hour%12);case"hh":return bt.num(Oe.hour%12==0?12:Oe.hour%12,2);case"H":return bt.num(Oe.hour);case"HH":return bt.num(Oe.hour,2);case"Z":return qn({format:"narrow",allowZ:bt.opts.allowZ});case"ZZ":return qn({format:"short",allowZ:bt.opts.allowZ});case"ZZZ":return qn({format:"techie",allowZ:bt.opts.allowZ});case"ZZZZ":return Oe.zone.offsetName(Oe.ts,{format:"short",locale:bt.loc.locale});case"ZZZZZ":return Oe.zone.offsetName(Oe.ts,{format:"long",locale:bt.loc.locale});case"z":return Oe.zoneName;case"a":return Kt?function Ut(fe){return Mn[fe.hour<12?0:1]}(Oe):bn({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return dn?bn({day:"numeric"},"day"):bt.num(Oe.day);case"dd":return dn?bn({day:"2-digit"},"day"):bt.num(Oe.day,2);case"c":case"E":return bt.num(Oe.weekday);case"ccc":return Gr("short",!0);case"cccc":return Gr("long",!0);case"ccccc":return Gr("narrow",!0);case"EEE":return Gr("short",!1);case"EEEE":return Gr("long",!1);case"EEEEE":return Gr("narrow",!1);case"L":return dn?bn({month:"numeric",day:"numeric"},"month"):bt.num(Oe.month);case"LL":return dn?bn({month:"2-digit",day:"numeric"},"month"):bt.num(Oe.month,2);case"LLL":return Nr("short",!0);case"LLLL":return Nr("long",!0);case"LLLLL":return Nr("narrow",!0);case"M":return dn?bn({month:"numeric"},"month"):bt.num(Oe.month);case"MM":return dn?bn({month:"2-digit"},"month"):bt.num(Oe.month,2);case"MMM":return Nr("short",!1);case"MMMM":return Nr("long",!1);case"MMMMM":return Nr("narrow",!1);case"y":return dn?bn({year:"numeric"},"year"):bt.num(Oe.year);case"yy":return dn?bn({year:"2-digit"},"year"):bt.num(Oe.year.toString().slice(-2),2);case"yyyy":return dn?bn({year:"numeric"},"year"):bt.num(Oe.year,4);case"yyyyyy":return dn?bn({year:"numeric"},"year"):bt.num(Oe.year,6);case"G":return is("short");case"GG":return is("long");case"GGGGG":return is("narrow");case"kk":return bt.num(Oe.weekYear.toString().slice(-2),2);case"kkkk":return bt.num(Oe.weekYear,4);case"W":return bt.num(Oe.weekNumber);case"WW":return bt.num(Oe.weekNumber,2);case"o":return bt.num(Oe.ordinal);case"ooo":return bt.num(Oe.ordinal,3);case"q":return bt.num(Oe.quarter);case"qq":return bt.num(Oe.quarter,2);case"X":return bt.num(Math.floor(Oe.ts/1e3));case"x":return bt.num(Oe.ts);default:return function(Ki){var To=fe.macroTokenToFormatOpts(Ki);return To?bt.formatWithSystemDefault(Oe,To):Ki}(Ki)}})},Te.formatDurationFromString=function(Oe,Ge){var Gr,bt=this,Kt=function(Gr){switch(Gr[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},bn=fe.parseFormat(Ge),qn=bn.reduce(function(Nr,Gr){return Gr.literal?Nr:Nr.concat(Gr.val)},[]),Ir=Oe.shiftTo.apply(Oe,qn.map(Kt).filter(function(Nr){return Nr}));return Hr(bn,(Gr=Ir,function(Si){var is=Kt(Si);return is?bt.num(Gr.get(is),Si.length):Si}))},fe}(),kr=function(){function fe(Ie,Oe){this.reason=Ie,this.explanation=Oe}return fe.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},fe}(),Fi=function(){function fe(){}var Te=fe.prototype;return Te.offsetName=function(Oe,Ge){throw new J},Te.formatOffset=function(Oe,Ge){throw new J},Te.offset=function(Oe){throw new J},Te.equals=function(Oe){throw new J},v(fe,[{key:"type",get:function(){throw new J}},{key:"name",get:function(){throw new J}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new J}},{key:"isValid",get:function(){throw new J}}]),fe}(),rs=null,Zr=function(fe){function Te(){return fe.apply(this,arguments)||this}G(Te,fe);var Ie=Te.prototype;return Ie.offsetName=function(Ge,bt){return vr(Ge,bt.format,bt.locale)},Ie.formatOffset=function(Ge,bt){return pn(this.offset(Ge),bt)},Ie.offset=function(Ge){return-new Date(Ge).getTimezoneOffset()},Ie.equals=function(Ge){return"system"===Ge.type},v(Te,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===rs&&(rs=new Te),rs}}]),Te}(Fi),fi={},hr={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},Hs={},gi=function(fe){function Te(Oe){var Ge;return(Ge=fe.call(this)||this).zoneName=Oe,Ge.valid=Te.isValidZone(Oe),Ge}G(Te,fe),Te.create=function(Ge){return Hs[Ge]||(Hs[Ge]=new Te(Ge)),Hs[Ge]},Te.resetCache=function(){Hs={},fi={}},Te.isValidSpecifier=function(Ge){return this.isValidZone(Ge)},Te.isValidZone=function(Ge){if(!Ge)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:Ge}).format(),!0}catch(bt){return!1}};var Ie=Te.prototype;return Ie.offsetName=function(Ge,bt){return vr(Ge,bt.format,bt.locale,this.name)},Ie.formatOffset=function(Ge,bt){return pn(this.offset(Ge),bt)},Ie.offset=function(Ge){var bt=new Date(Ge);if(isNaN(bt))return NaN;var Kt=function Ui(fe){return fi[fe]||(fi[fe]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:fe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),fi[fe]}(this.name),dn=Kt.formatToParts?function Hi(fe,Te){for(var Ie=fe.formatToParts(Te),Oe=[],Ge=0;Ge<Ie.length;Ge++){var bt=Ie[Ge],Kt=bt.type,dn=bt.value,bn=hr[Kt];"era"===Kt?Oe[bn]=dn:Ze(bn)||(Oe[bn]=parseInt(dn,10))}return Oe}(Kt,bt):function Ii(fe,Te){var Ie=fe.format(Te).replace(/\u200E/g,""),Oe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Ie);return[Oe[3],Oe[1],Oe[2],Oe[4],Oe[5],Oe[6],Oe[7]]}(Kt,bt),bn=dn[0],qn=dn[1],Ir=dn[2],Gr=dn[4],Si=dn[5],is=dn[6];"BC"===dn[3]&&(bn=1-Math.abs(bn));var Ki=+bt,To=Ki%1e3;return(Xn({year:bn,month:qn,day:Ir,hour:24===Gr?0:Gr,minute:Si,second:is,millisecond:0})-(Ki-=To>=0?To:1e3+To))/6e4},Ie.equals=function(Ge){return"iana"===Ge.type&&Ge.name===this.name},v(Te,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),Te}(Fi),Bi=null,Ts=function(fe){function Te(Oe){var Ge;return(Ge=fe.call(this)||this).fixed=Oe,Ge}G(Te,fe),Te.instance=function(Ge){return 0===Ge?Te.utcInstance:new Te(Ge)},Te.parseSpecifier=function(Ge){if(Ge){var bt=Ge.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(bt)return new Te(zn(bt[1],bt[2]))}return null};var Ie=Te.prototype;return Ie.offsetName=function(){return this.name},Ie.formatOffset=function(Ge,bt){return pn(this.fixed,bt)},Ie.offset=function(){return this.fixed},Ie.equals=function(Ge){return"fixed"===Ge.type&&Ge.fixed===this.fixed},v(Te,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+pn(this.fixed,"narrow")}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT"+pn(-this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===Bi&&(Bi=new Te(0)),Bi}}]),Te}(Fi),Li=function(fe){function Te(Oe){var Ge;return(Ge=fe.call(this)||this).zoneName=Oe,Ge}G(Te,fe);var Ie=Te.prototype;return Ie.offsetName=function(){return null},Ie.formatOffset=function(){return""},Ie.offset=function(){return NaN},Ie.equals=function(){return!1},v(Te,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),Te}(Fi);function ps(fe,Te){if(Ze(fe)||null===fe)return Te;if(fe instanceof Fi)return fe;if(function Be(fe){return"string"==typeof fe}(fe)){var Ie=fe.toLowerCase();return"local"===Ie||"system"===Ie?Te:"utc"===Ie||"gmt"===Ie?Ts.utcInstance:Ts.parseSpecifier(Ie)||gi.create(fe)}return ct(fe)?Ts.instance(fe):"object"==typeof fe&&fe.offset&&"number"==typeof fe.offset?fe:new Li(fe)}var ni,ut=function(){return Date.now()},Zn="system",Pn=null,yr=null,Pr=null,Yr=function(){function fe(){}return fe.resetCaches=function(){Vi.resetCache(),gi.resetCache()},v(fe,null,[{key:"now",get:function(){return ut},set:function(Ie){ut=Ie}},{key:"defaultZone",get:function(){return ps(Zn,Zr.instance)},set:function(Ie){Zn=Ie}},{key:"defaultLocale",get:function(){return Pn},set:function(Ie){Pn=Ie}},{key:"defaultNumberingSystem",get:function(){return yr},set:function(Ie){yr=Ie}},{key:"defaultOutputCalendar",get:function(){return Pr},set:function(Ie){Pr=Ie}},{key:"throwOnInvalid",get:function(){return ni},set:function(Ie){ni=Ie}}]),fe}(),Lr=["base"],Oi=["padTo","floor"],li={},Un={};function Qr(fe,Te){void 0===Te&&(Te={});var Ie=JSON.stringify([fe,Te]),Oe=Un[Ie];return Oe||(Oe=new Intl.DateTimeFormat(fe,Te),Un[Ie]=Oe),Oe}var cs={},gn={},An=null;function Ai(fe,Te,Ie,Oe,Ge){var bt=fe.listingMode(Ie);return"error"===bt?null:"en"===bt?Oe(Te):Ge(Te)}var Ni=function(){function fe(Ie,Oe,Ge){this.padTo=Ge.padTo||0,this.floor=Ge.floor||!1;var bt=Q(Ge,Oi);if(!Oe||Object.keys(bt).length>0){var Kt=X({useGrouping:!1},Ge);Ge.padTo>0&&(Kt.minimumIntegerDigits=Ge.padTo),this.inf=function rn(fe,Te){void 0===Te&&(Te={});var Ie=JSON.stringify([fe,Te]),Oe=cs[Ie];return Oe||(Oe=new Intl.NumberFormat(fe,Te),cs[Ie]=Oe),Oe}(Ie,Kt)}}return fe.prototype.format=function(Oe){if(this.inf){var Ge=this.floor?Math.floor(Oe):Oe;return this.inf.format(Ge)}return Xe(this.floor?Math.floor(Oe):Lt(Oe,3),this.padTo)},fe}(),Ji=function(){function fe(Ie,Oe,Ge){var bt;if(this.opts=Ge,Ie.zone.isUniversal){var Kt=Ie.offset/60*-1,dn=Kt>=0?"Etc/GMT+"+Kt:"Etc/GMT"+Kt;0!==Ie.offset&&gi.create(dn).valid?(bt=dn,this.dt=Ie):(bt="UTC",this.dt=Ge.timeZoneName||0===Ie.offset?Ie:st.fromMillis(Ie.ts+60*Ie.offset*1e3))}else"system"===Ie.zone.type?this.dt=Ie:(this.dt=Ie,bt=Ie.zone.name);var bn=X({},this.opts);bt&&(bn.timeZone=bt),this.dtf=Qr(Oe,bn)}var Te=fe.prototype;return Te.format=function(){return this.dtf.format(this.dt.toJSDate())},Te.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},Te.resolvedOptions=function(){return this.dtf.resolvedOptions()},fe}(),Gs=function(){function fe(Ie,Oe,Ge){this.opts=X({style:"long"},Ge),!Oe&&$e()&&(this.rtf=function kt(fe,Te){void 0===Te&&(Te={});var Oe=Q(Te,Lr),Ge=JSON.stringify([fe,Oe]),bt=gn[Ge];return bt||(bt=new Intl.RelativeTimeFormat(fe,Te),gn[Ge]=bt),bt}(Ie,Ge))}var Te=fe.prototype;return Te.format=function(Oe,Ge){return this.rtf?this.rtf.format(Oe,Ge):function or(fe,Te,Ie,Oe){void 0===Ie&&(Ie="always"),void 0===Oe&&(Oe=!1);var Ge={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},bt=-1===["hours","minutes","seconds"].indexOf(fe);if("auto"===Ie&&bt){var Kt="days"===fe;switch(Te){case 1:return Kt?"tomorrow":"next "+Ge[fe][0];case-1:return Kt?"yesterday":"last "+Ge[fe][0];case 0:return Kt?"today":"this "+Ge[fe][0]}}var dn=Object.is(Te,-0)||Te<0,bn=Math.abs(Te),qn=1===bn,Ir=Ge[fe],Nr=Oe?qn?Ir[1]:Ir[2]||Ir[1]:qn?Ge[fe][0]:fe;return dn?bn+" "+Nr+" ago":"in "+bn+" "+Nr}(Ge,Oe,this.opts.numeric,"long"!==this.opts.style)},Te.formatToParts=function(Oe,Ge){return this.rtf?this.rtf.formatToParts(Oe,Ge):[]},fe}(),Vi=function(){function fe(Ie,Oe,Ge,bt){var Kt=function wr(fe){var Te=fe.indexOf("-u-");if(-1===Te)return[fe];var Ie,Oe=fe.substring(0,Te);try{Ie=Qr(fe).resolvedOptions()}catch(dn){Ie=Qr(Oe).resolvedOptions()}return[Oe,Ie.numberingSystem,Ie.calendar]}(Ie),bn=Kt[1],qn=Kt[2];this.locale=Kt[0],this.numberingSystem=Oe||bn||null,this.outputCalendar=Ge||qn||null,this.intl=function Jr(fe,Te,Ie){return(Ie||Te)&&(fe+="-u",Ie&&(fe+="-ca-"+Ie),Te&&(fe+="-nu-"+Te)),fe}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=bt,this.fastNumbersCached=null}fe.fromOpts=function(Oe){return fe.create(Oe.locale,Oe.numberingSystem,Oe.outputCalendar,Oe.defaultToEN)},fe.create=function(Oe,Ge,bt,Kt){void 0===Kt&&(Kt=!1);var dn=Oe||Yr.defaultLocale;return new fe(dn||(Kt?"en-US":function fr(){return An||(An=(new Intl.DateTimeFormat).resolvedOptions().locale)}()),Ge||Yr.defaultNumberingSystem,bt||Yr.defaultOutputCalendar,dn)},fe.resetCache=function(){An=null,Un={},cs={},gn={}},fe.fromObject=function(Oe){var Ge=void 0===Oe?{}:Oe;return fe.create(Ge.locale,Ge.numberingSystem,Ge.outputCalendar)};var Te=fe.prototype;return Te.listingMode=function(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},Te.clone=function(Oe){return Oe&&0!==Object.getOwnPropertyNames(Oe).length?fe.create(Oe.locale||this.specifiedLocale,Oe.numberingSystem||this.numberingSystem,Oe.outputCalendar||this.outputCalendar,Oe.defaultToEN||!1):this},Te.redefaultToEN=function(Oe){return void 0===Oe&&(Oe={}),this.clone(X({},Oe,{defaultToEN:!0}))},Te.redefaultToSystem=function(Oe){return void 0===Oe&&(Oe={}),this.clone(X({},Oe,{defaultToEN:!1}))},Te.months=function(Oe,Ge,bt){var Kt=this;return void 0===Ge&&(Ge=!1),void 0===bt&&(bt=!0),Ai(this,Oe,bt,ir,function(){var dn=Ge?{month:Oe,day:"numeric"}:{month:Oe},bn=Ge?"format":"standalone";return Kt.monthsCache[bn][Oe]||(Kt.monthsCache[bn][Oe]=function Br(fe){for(var Te=[],Ie=1;Ie<=12;Ie++){var Oe=st.utc(2016,Ie,1);Te.push(fe(Oe))}return Te}(function(qn){return Kt.extract(qn,dn,"month")})),Kt.monthsCache[bn][Oe]})},Te.weekdays=function(Oe,Ge,bt){var Kt=this;return void 0===Ge&&(Ge=!1),void 0===bt&&(bt=!0),Ai(this,Oe,bt,an,function(){var dn=Ge?{weekday:Oe,year:"numeric",month:"long",day:"numeric"}:{weekday:Oe},bn=Ge?"format":"standalone";return Kt.weekdaysCache[bn][Oe]||(Kt.weekdaysCache[bn][Oe]=function ti(fe){for(var Te=[],Ie=1;Ie<=7;Ie++){var Oe=st.utc(2016,11,13+Ie);Te.push(fe(Oe))}return Te}(function(qn){return Kt.extract(qn,dn,"weekday")})),Kt.weekdaysCache[bn][Oe]})},Te.meridiems=function(Oe){var Ge=this;return void 0===Oe&&(Oe=!0),Ai(this,void 0,Oe,function(){return Mn},function(){if(!Ge.meridiemCache){var bt={hour:"numeric",hourCycle:"h12"};Ge.meridiemCache=[st.utc(2016,11,13,9),st.utc(2016,11,13,19)].map(function(Kt){return Ge.extract(Kt,bt,"dayperiod")})}return Ge.meridiemCache})},Te.eras=function(Oe,Ge){var bt=this;return void 0===Ge&&(Ge=!0),Ai(this,Oe,Ge,wn,function(){var Kt={era:Oe};return bt.eraCache[Oe]||(bt.eraCache[Oe]=[st.utc(-40,1,1),st.utc(2017,1,1)].map(function(dn){return bt.extract(dn,Kt,"era")})),bt.eraCache[Oe]})},Te.extract=function(Oe,Ge,bt){var bn=this.dtFormatter(Oe,Ge).formatToParts().find(function(qn){return qn.type.toLowerCase()===bt});return bn?bn.value:null},Te.numberFormatter=function(Oe){return void 0===Oe&&(Oe={}),new Ni(this.intl,Oe.forceSimple||this.fastNumbers,Oe)},Te.dtFormatter=function(Oe,Ge){return void 0===Ge&&(Ge={}),new Ji(Oe,this.intl,Ge)},Te.relFormatter=function(Oe){return void 0===Oe&&(Oe={}),new Gs(this.intl,this.isEnglish(),Oe)},Te.listFormatter=function(Oe){return void 0===Oe&&(Oe={}),function yi(fe,Te){void 0===Te&&(Te={});var Ie=JSON.stringify([fe,Te]),Oe=li[Ie];return Oe||(Oe=new Intl.ListFormat(fe,Te),li[Ie]=Oe),Oe}(this.intl,Oe)},Te.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},Te.equals=function(Oe){return this.locale===Oe.locale&&this.numberingSystem===Oe.numberingSystem&&this.outputCalendar===Oe.outputCalendar},v(fe,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Fr(fe){return(!fe.numberingSystem||"latn"===fe.numberingSystem)&&("latn"===fe.numberingSystem||!fe.locale||fe.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(fe.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),fe}();function Rs(){for(var fe=arguments.length,Te=new Array(fe),Ie=0;Ie<fe;Ie++)Te[Ie]=arguments[Ie];var Oe=Te.reduce(function(Ge,bt){return Ge+bt.source},"");return RegExp("^"+Oe+"$")}function Ps(){for(var fe=arguments.length,Te=new Array(fe),Ie=0;Ie<fe;Ie++)Te[Ie]=arguments[Ie];return function(Oe){return Te.reduce(function(Ge,bt){var Kt=Ge[0],dn=Ge[1],qn=bt(Oe,Ge[2]),Nr=qn[1],Gr=qn[2];return[X({},Kt,qn[0]),Nr||dn,Gr]},[{},null,1]).slice(0,2)}}function Is(fe){if(null==fe)return[null,null];for(var Te=arguments.length,Ie=new Array(Te>1?Te-1:0),Oe=1;Oe<Te;Oe++)Ie[Oe-1]=arguments[Oe];for(var Ge=0,bt=Ie;Ge<bt.length;Ge++){var Kt=bt[Ge],dn=Kt[0],bn=Kt[1],qn=dn.exec(fe);if(qn)return bn(qn)}return[null,null]}function Ds(){for(var fe=arguments.length,Te=new Array(fe),Ie=0;Ie<fe;Ie++)Te[Ie]=arguments[Ie];return function(Oe,Ge){var Kt,bt={};for(Kt=0;Kt<Te.length;Kt++)bt[Te[Kt]]=vt(Oe[Ge+Kt]);return[bt,null,Ge+Kt]}}var yo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,oo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ho=RegExp(oo.source+("(?:"+yo.source+"?(?:\\[("+Wn.source+")\\])?)?")),po=RegExp("(?:T"+ho.source+")?"),Ys=Ds("weekYear","weekNumber","weekDay"),_o=Ds("year","ordinal"),_r=RegExp(oo.source+" ?(?:"+yo.source+"|("+Wn.source+"))?"),Er=RegExp("(?: "+_r.source+")?");function Jt(fe,Te,Ie){var Oe=fe[Te];return Ze(Oe)?Ie:vt(Oe)}function at(fe,Te){return[{hours:Jt(fe,Te,0),minutes:Jt(fe,Te+1,0),seconds:Jt(fe,Te+2,0),milliseconds:xt(fe[Te+3])},null,Te+4]}function Vt(fe,Te){var Ie=!fe[Te]&&!fe[Te+1],Oe=zn(fe[Te+1],fe[Te+2]);return[{},Ie?null:Ts.instance(Oe),Te+3]}function yn(fe,Te){return[{},fe[Te]?gi.create(fe[Te]):null,Te+1]}var rt=RegExp("^T?"+oo.source+"$"),Pt=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function tn(fe){var Oe=fe[2],Ge=fe[3],bt=fe[4],Kt=fe[5],dn=fe[6],bn=fe[7],qn=fe[8],Ir="-"===fe[0][0],Nr=bn&&"-"===bn[0],Gr=function(is,us){return void 0===us&&(us=!1),void 0!==is&&(us||is&&Ir)?-is:is};return[{years:Gr(Zt(fe[1])),months:Gr(Zt(Oe)),weeks:Gr(Zt(Ge)),days:Gr(Zt(bt)),hours:Gr(Zt(Kt)),minutes:Gr(Zt(dn)),seconds:Gr(Zt(bn),"-0"===bn),milliseconds:Gr(xt(qn),Nr)}]}var un={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function qt(fe,Te,Ie,Oe,Ge,bt,Kt){var dn={year:2===Te.length?Tr(vt(Te)):vt(Te),month:$n.indexOf(Ie)+1,day:vt(Oe),hour:vt(Ge),minute:vt(bt)};return Kt&&(dn.second=vt(Kt)),fe&&(dn.weekday=fe.length>3?Qn.indexOf(fe)+1:Ar.indexOf(fe)+1),dn}var xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Kn(fe){var Si,bn=fe[8],qn=fe[9],Ir=fe[10],Nr=fe[11],Gr=qt(fe[1],fe[4],fe[3],fe[2],fe[5],fe[6],fe[7]);return Si=bn?un[bn]:qn?0:zn(Ir,Nr),[Gr,new Ts(Si)]}var Ct=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,nn=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,et=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function St(fe){return[qt(fe[1],fe[4],fe[3],fe[2],fe[5],fe[6],fe[7]),Ts.utcInstance]}function ht(fe){return[qt(fe[1],fe[7],fe[2],fe[3],fe[4],fe[5],fe[6]),Ts.utcInstance]}var Wt=Rs(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,po),Sn=Rs(/(\d{4})-?W(\d\d)(?:-?(\d))?/,po),Jn=Rs(/(\d{4})-?(\d{3})/,po),mr=Rs(ho),ri=Ps(function hn(fe,Te){return[{year:Jt(fe,Te),month:Jt(fe,Te+1,1),day:Jt(fe,Te+2,1)},null,Te+3]},at,Vt,yn),ji=Ps(Ys,at,Vt,yn),ki=Ps(_o,at,Vt,yn),_i=Ps(at,Vt,yn),Dt=Ps(at),dt=Rs(/(\d{4})-(\d\d)-(\d\d)/,Er),Xt=Rs(_r),Mr=Ps(at,Vt,yn),Wo={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ja=X({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Wo),io=365.2425,sa=30.436875,Kr=X({years:{quarters:4,months:12,weeks:io/7,days:io,hours:24*io,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:io/28,days:io/4,hours:24*io/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:sa/7,days:sa,hours:24*sa,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Wo),Ms=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ba=Ms.slice(0).reverse();function ws(fe,Te,Ie){void 0===Ie&&(Ie=!1);var Oe={values:Ie?Te.values:X({},fe.values,Te.values||{}),loc:fe.loc.clone(Te.loc),conversionAccuracy:Te.conversionAccuracy||fe.conversionAccuracy};return new bo(Oe)}function da(fe,Te,Ie,Oe,Ge){var bt=fe[Ge][Ie],Kt=Te[Ie]/bt,bn=Math.sign(Kt)!==Math.sign(Oe[Ge])&&0!==Oe[Ge]&&Math.abs(Kt)<=1?function Aa(fe){return fe<0?Math.floor(fe):Math.ceil(fe)}(Kt):Math.trunc(Kt);Oe[Ge]+=bn,Te[Ie]-=bn*bt}var bo=function(){function fe(Ie){var Oe="longterm"===Ie.conversionAccuracy||!1;this.values=Ie.values,this.loc=Ie.loc||Vi.create(),this.conversionAccuracy=Oe?"longterm":"casual",this.invalid=Ie.invalid||null,this.matrix=Oe?Kr:ja,this.isLuxonDuration=!0}fe.fromMillis=function(Oe,Ge){return fe.fromObject({milliseconds:Oe},Ge)},fe.fromObject=function(Oe,Ge){if(void 0===Ge&&(Ge={}),null==Oe||"object"!=typeof Oe)throw new V("Duration.fromObject: argument expected to be an object, got "+(null===Oe?"null":typeof Oe));return new fe({values:sn(Oe,fe.normalizeUnit),loc:Vi.fromObject(Ge),conversionAccuracy:Ge.conversionAccuracy})},fe.fromDurationLike=function(Oe){if(ct(Oe))return fe.fromMillis(Oe);if(fe.isDuration(Oe))return Oe;if("object"==typeof Oe)return fe.fromObject(Oe);throw new V("Unknown duration argument "+Oe+" of type "+typeof Oe)},fe.fromISO=function(Oe,Ge){var bt=function no(fe){return Is(fe,[Pt,tn])}(Oe),Kt=bt[0];return Kt?fe.fromObject(Kt,Ge):fe.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},fe.fromISOTime=function(Oe,Ge){var bt=function Et(fe){return Is(fe,[rt,Dt])}(Oe),Kt=bt[0];return Kt?fe.fromObject(Kt,Ge):fe.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},fe.invalid=function(Oe,Ge){if(void 0===Ge&&(Ge=null),!Oe)throw new V("need to specify a reason the Duration is invalid");var bt=Oe instanceof kr?Oe:new kr(Oe,Ge);if(Yr.throwOnInvalid)throw new R(bt);return new fe({invalid:bt})},fe.normalizeUnit=function(Oe){var Ge={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[Oe&&Oe.toLowerCase()];if(!Ge)throw new A(Oe);return Ge},fe.isDuration=function(Oe){return Oe&&Oe.isLuxonDuration||!1};var Te=fe.prototype;return Te.toFormat=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=X({},Ge,{floor:!1!==Ge.round&&!1!==Ge.floor});return this.isValid?Ei.create(this.loc,bt).formatDurationFromString(this,Oe):"Invalid Duration"},Te.toHuman=function(Oe){var Ge=this;void 0===Oe&&(Oe={});var bt=Ms.map(function(Kt){var dn=Ge.values[Kt];return Ze(dn)?null:Ge.loc.numberFormatter(X({style:"unit",unitDisplay:"long"},Oe,{unit:Kt.slice(0,-1)})).format(dn)}).filter(function(Kt){return Kt});return this.loc.listFormatter(X({type:"conjunction",style:Oe.listStyle||"narrow"},Oe)).format(bt)},Te.toObject=function(){return this.isValid?X({},this.values):{}},Te.toISO=function(){if(!this.isValid)return null;var Oe="P";return 0!==this.years&&(Oe+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(Oe+=this.months+3*this.quarters+"M"),0!==this.weeks&&(Oe+=this.weeks+"W"),0!==this.days&&(Oe+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(Oe+="T"),0!==this.hours&&(Oe+=this.hours+"H"),0!==this.minutes&&(Oe+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(Oe+=Lt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===Oe&&(Oe+="T0S"),Oe},Te.toISOTime=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return null;var Ge=this.toMillis();if(Ge<0||Ge>=864e5)return null;Oe=X({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},Oe);var bt=this.shiftTo("hours","minutes","seconds","milliseconds"),Kt="basic"===Oe.format?"hhmm":"hh:mm";(!Oe.suppressSeconds||0!==bt.seconds||0!==bt.milliseconds)&&(Kt+="basic"===Oe.format?"ss":":ss",(!Oe.suppressMilliseconds||0!==bt.milliseconds)&&(Kt+=".SSS"));var dn=bt.toFormat(Kt);return Oe.includePrefix&&(dn="T"+dn),dn},Te.toJSON=function(){return this.toISO()},Te.toString=function(){return this.toISO()},Te.toMillis=function(){return this.as("milliseconds")},Te.valueOf=function(){return this.toMillis()},Te.plus=function(Oe){if(!this.isValid)return this;for(var dn,Ge=fe.fromDurationLike(Oe),bt={},Kt=ae(Ms);!(dn=Kt()).done;){var bn=dn.value;(It(Ge.values,bn)||It(this.values,bn))&&(bt[bn]=Ge.get(bn)+this.get(bn))}return ws(this,{values:bt},!0)},Te.minus=function(Oe){if(!this.isValid)return this;var Ge=fe.fromDurationLike(Oe);return this.plus(Ge.negate())},Te.mapUnits=function(Oe){if(!this.isValid)return this;for(var Ge={},bt=0,Kt=Object.keys(this.values);bt<Kt.length;bt++){var dn=Kt[bt];Ge[dn]=zt(Oe(this.values[dn],dn))}return ws(this,{values:Ge},!0)},Te.get=function(Oe){return this[fe.normalizeUnit(Oe)]},Te.set=function(Oe){return this.isValid?ws(this,{values:X({},this.values,sn(Oe,fe.normalizeUnit))}):this},Te.reconfigure=function(Oe){var Ge=void 0===Oe?{}:Oe,dn=Ge.conversionAccuracy,qn={loc:this.loc.clone({locale:Ge.locale,numberingSystem:Ge.numberingSystem})};return dn&&(qn.conversionAccuracy=dn),ws(this,qn)},Te.as=function(Oe){return this.isValid?this.shiftTo(Oe).get(Oe):NaN},Te.normalize=function(){if(!this.isValid)return this;var Oe=this.toObject();return function Ea(fe,Te){ba.reduce(function(Ie,Oe){return Ze(Te[Oe])?Ie:(Ie&&da(fe,Te,Ie,Te,Oe),Oe)},null)}(this.matrix,Oe),ws(this,{values:Oe},!0)},Te.shiftTo=function(){for(var Oe=arguments.length,Ge=new Array(Oe),bt=0;bt<Oe;bt++)Ge[bt]=arguments[bt];if(!this.isValid)return this;if(0===Ge.length)return this;Ge=Ge.map(function(To){return fe.normalizeUnit(To)});for(var qn,Nr,Kt={},dn={},bn=this.toObject(),Ir=ae(Ms);!(Nr=Ir()).done;){var Gr=Nr.value;if(Ge.indexOf(Gr)>=0){qn=Gr;var Si=0;for(var is in dn)Si+=this.matrix[is][Gr]*dn[is],dn[is]=0;ct(bn[Gr])&&(Si+=bn[Gr]);var us=Math.trunc(Si);for(var ms in Kt[Gr]=us,dn[Gr]=(1e3*Si-1e3*us)/1e3,bn)Ms.indexOf(ms)>Ms.indexOf(Gr)&&da(this.matrix,bn,ms,Kt,Gr)}else ct(bn[Gr])&&(dn[Gr]=bn[Gr])}for(var Ki in dn)0!==dn[Ki]&&(Kt[qn]+=Ki===qn?dn[Ki]:dn[Ki]/this.matrix[qn][Ki]);return ws(this,{values:Kt},!0).normalize()},Te.negate=function(){if(!this.isValid)return this;for(var Oe={},Ge=0,bt=Object.keys(this.values);Ge<bt.length;Ge++){var Kt=bt[Ge];Oe[Kt]=0===this.values[Kt]?0:-this.values[Kt]}return ws(this,{values:Oe},!0)},Te.equals=function(Oe){if(!this.isValid||!Oe.isValid||!this.loc.equals(Oe.loc))return!1;for(var Kt,bt=ae(Ms);!(Kt=bt()).done;){var dn=Kt.value;if(qn=Oe.values[dn],!(void 0===(bn=this.values[dn])||0===bn?void 0===qn||0===qn:bn===qn))return!1}var bn,qn;return!0},v(fe,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),fe}(),eo="Invalid Interval",vn=function(){function fe(Ie){this.s=Ie.start,this.e=Ie.end,this.invalid=Ie.invalid||null,this.isLuxonInterval=!0}fe.invalid=function(Oe,Ge){if(void 0===Ge&&(Ge=null),!Oe)throw new V("need to specify a reason the Interval is invalid");var bt=Oe instanceof kr?Oe:new kr(Oe,Ge);if(Yr.throwOnInvalid)throw new F(bt);return new fe({invalid:bt})},fe.fromDateTimes=function(Oe,Ge){var bt=Qe(Oe),Kt=Qe(Ge),dn=function ao(fe,Te){return fe&&fe.isValid?Te&&Te.isValid?Te<fe?vn.invalid("end before start","The end of an interval must be after its start, but you had start="+fe.toISO()+" and end="+Te.toISO()):null:vn.invalid("missing or invalid end"):vn.invalid("missing or invalid start")}(bt,Kt);return null==dn?new fe({start:bt,end:Kt}):dn},fe.after=function(Oe,Ge){var bt=bo.fromDurationLike(Ge),Kt=Qe(Oe);return fe.fromDateTimes(Kt,Kt.plus(bt))},fe.before=function(Oe,Ge){var bt=bo.fromDurationLike(Ge),Kt=Qe(Oe);return fe.fromDateTimes(Kt.minus(bt),Kt)},fe.fromISO=function(Oe,Ge){var bt=(Oe||"").split("/",2),Kt=bt[0],dn=bt[1];if(Kt&&dn){var bn,qn,Ir,Nr;try{qn=(bn=st.fromISO(Kt,Ge)).isValid}catch(is){qn=!1}try{Nr=(Ir=st.fromISO(dn,Ge)).isValid}catch(is){Nr=!1}if(qn&&Nr)return fe.fromDateTimes(bn,Ir);if(qn){var Gr=bo.fromISO(dn,Ge);if(Gr.isValid)return fe.after(bn,Gr)}else if(Nr){var Si=bo.fromISO(Kt,Ge);if(Si.isValid)return fe.before(Ir,Si)}}return fe.invalid("unparsable",'the input "'+Oe+"\" can't be parsed as ISO 8601")},fe.isInterval=function(Oe){return Oe&&Oe.isLuxonInterval||!1};var Te=fe.prototype;return Te.length=function(Oe){return void 0===Oe&&(Oe="milliseconds"),this.isValid?this.toDuration.apply(this,[Oe]).get(Oe):NaN},Te.count=function(Oe){if(void 0===Oe&&(Oe="milliseconds"),!this.isValid)return NaN;var Ge=this.start.startOf(Oe),bt=this.end.startOf(Oe);return Math.floor(bt.diff(Ge,Oe).get(Oe))+1},Te.hasSame=function(Oe){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,Oe))},Te.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},Te.isAfter=function(Oe){return!!this.isValid&&this.s>Oe},Te.isBefore=function(Oe){return!!this.isValid&&this.e<=Oe},Te.contains=function(Oe){return!!this.isValid&&this.s<=Oe&&this.e>Oe},Te.set=function(Oe){var Ge=void 0===Oe?{}:Oe;return this.isValid?fe.fromDateTimes(Ge.start||this.s,Ge.end||this.e):this},Te.splitAt=function(){var Oe=this;if(!this.isValid)return[];for(var Ge=arguments.length,bt=new Array(Ge),Kt=0;Kt<Ge;Kt++)bt[Kt]=arguments[Kt];for(var dn=bt.map(Qe).filter(function(Si){return Oe.contains(Si)}).sort(),bn=[],qn=this.s,Ir=0;qn<this.e;){var Nr=dn[Ir]||this.e,Gr=+Nr>+this.e?this.e:Nr;bn.push(fe.fromDateTimes(qn,Gr)),qn=Gr,Ir+=1}return bn},Te.splitBy=function(Oe){var Ge=bo.fromDurationLike(Oe);if(!this.isValid||!Ge.isValid||0===Ge.as("milliseconds"))return[];for(var dn,bt=this.s,Kt=1,bn=[];bt<this.e;){var qn=this.start.plus(Ge.mapUnits(function(Ir){return Ir*Kt}));bn.push(fe.fromDateTimes(bt,dn=+qn>+this.e?this.e:qn)),bt=dn,Kt+=1}return bn},Te.divideEqually=function(Oe){return this.isValid?this.splitBy(this.length()/Oe).slice(0,Oe):[]},Te.overlaps=function(Oe){return this.e>Oe.s&&this.s<Oe.e},Te.abutsStart=function(Oe){return!!this.isValid&&+this.e==+Oe.s},Te.abutsEnd=function(Oe){return!!this.isValid&&+Oe.e==+this.s},Te.engulfs=function(Oe){return!!this.isValid&&this.s<=Oe.s&&this.e>=Oe.e},Te.equals=function(Oe){return!(!this.isValid||!Oe.isValid)&&this.s.equals(Oe.s)&&this.e.equals(Oe.e)},Te.intersection=function(Oe){if(!this.isValid)return this;var Ge=this.s>Oe.s?this.s:Oe.s,bt=this.e<Oe.e?this.e:Oe.e;return Ge>=bt?null:fe.fromDateTimes(Ge,bt)},Te.union=function(Oe){return this.isValid?fe.fromDateTimes(this.s<Oe.s?this.s:Oe.s,this.e>Oe.e?this.e:Oe.e):this},fe.merge=function(Oe){var Ge=Oe.sort(function(dn,bn){return dn.s-bn.s}).reduce(function(dn,bn){var qn=dn[0],Ir=dn[1];return Ir?Ir.overlaps(bn)||Ir.abutsStart(bn)?[qn,Ir.union(bn)]:[qn.concat([Ir]),bn]:[qn,bn]},[[],null]),bt=Ge[0],Kt=Ge[1];return Kt&&bt.push(Kt),bt},fe.xor=function(Oe){for(var Ge,Gr,bt=null,Kt=0,dn=[],bn=Oe.map(function(is){return[{time:is.s,type:"s"},{time:is.e,type:"e"}]}),Nr=ae((Ge=Array.prototype).concat.apply(Ge,bn).sort(function(is,us){return is.time-us.time}));!(Gr=Nr()).done;){var Si=Gr.value;1===(Kt+="s"===Si.type?1:-1)?bt=Si.time:(bt&&+bt!=+Si.time&&dn.push(fe.fromDateTimes(bt,Si.time)),bt=null)}return fe.merge(dn)},Te.difference=function(){for(var Oe=this,Ge=arguments.length,bt=new Array(Ge),Kt=0;Kt<Ge;Kt++)bt[Kt]=arguments[Kt];return fe.xor([this].concat(bt)).map(function(dn){return Oe.intersection(dn)}).filter(function(dn){return dn&&!dn.isEmpty()})},Te.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":eo},Te.toISO=function(Oe){return this.isValid?this.s.toISO(Oe)+"/"+this.e.toISO(Oe):eo},Te.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():eo},Te.toISOTime=function(Oe){return this.isValid?this.s.toISOTime(Oe)+"/"+this.e.toISOTime(Oe):eo},Te.toFormat=function(Oe,Ge){var Kt=(void 0===Ge?{}:Ge).separator,dn=void 0===Kt?" \u2013 ":Kt;return this.isValid?""+this.s.toFormat(Oe)+dn+this.e.toFormat(Oe):eo},Te.toDuration=function(Oe,Ge){return this.isValid?this.e.diff(this.s,Oe,Ge):bo.invalid(this.invalidReason)},Te.mapEndpoints=function(Oe){return fe.fromDateTimes(Oe(this.s),Oe(this.e))},v(fe,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),fe}(),ul=function(){function fe(){}return fe.hasDST=function(Ie){void 0===Ie&&(Ie=Yr.defaultZone);var Oe=st.now().setZone(Ie).set({month:12});return!Ie.isUniversal&&Oe.offset!==Oe.set({month:6}).offset},fe.isValidIANAZone=function(Ie){return gi.isValidZone(Ie)},fe.normalizeZone=function(Ie){return ps(Ie,Yr.defaultZone)},fe.months=function(Ie,Oe){void 0===Ie&&(Ie="long");var Ge=void 0===Oe?{}:Oe,bt=Ge.locale,dn=Ge.numberingSystem,qn=Ge.locObj,Nr=Ge.outputCalendar;return((void 0===qn?null:qn)||Vi.create(void 0===bt?null:bt,void 0===dn?null:dn,void 0===Nr?"gregory":Nr)).months(Ie)},fe.monthsFormat=function(Ie,Oe){void 0===Ie&&(Ie="long");var Ge=void 0===Oe?{}:Oe,bt=Ge.locale,dn=Ge.numberingSystem,qn=Ge.locObj,Nr=Ge.outputCalendar;return((void 0===qn?null:qn)||Vi.create(void 0===bt?null:bt,void 0===dn?null:dn,void 0===Nr?"gregory":Nr)).months(Ie,!0)},fe.weekdays=function(Ie,Oe){void 0===Ie&&(Ie="long");var Ge=void 0===Oe?{}:Oe,bt=Ge.locale,dn=Ge.numberingSystem,qn=Ge.locObj;return((void 0===qn?null:qn)||Vi.create(void 0===bt?null:bt,void 0===dn?null:dn,null)).weekdays(Ie)},fe.weekdaysFormat=function(Ie,Oe){void 0===Ie&&(Ie="long");var Ge=void 0===Oe?{}:Oe,bt=Ge.locale,dn=Ge.numberingSystem,qn=Ge.locObj;return((void 0===qn?null:qn)||Vi.create(void 0===bt?null:bt,void 0===dn?null:dn,null)).weekdays(Ie,!0)},fe.meridiems=function(Ie){var Ge=(void 0===Ie?{}:Ie).locale;return Vi.create(void 0===Ge?null:Ge).meridiems()},fe.eras=function(Ie,Oe){void 0===Ie&&(Ie="short");var bt=(void 0===Oe?{}:Oe).locale;return Vi.create(void 0===bt?null:bt,null,"gregory").eras(Ie)},fe.features=function(){return{relative:$e()}},fe}();function pi(fe,Te){var Ie=function(bt){return bt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},Oe=Ie(Te)-Ie(fe);return Math.floor(bo.fromMillis(Oe).as("days"))}var dl={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},ea={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$o=dl.hanidec.replace(/[\[|\]]/g,"").split("");function Vo(fe,Te){return void 0===Te&&(Te=""),new RegExp(""+dl[fe.numberingSystem||"latn"]+Te)}function Js(fe,Te){return void 0===Te&&(Te=function(Oe){return Oe}),{regex:fe,deser:function(Oe){return Te(function gc(fe){var Te=parseInt(fe,10);if(isNaN(Te)){Te="";for(var Ie=0;Ie<fe.length;Ie++){var Oe=fe.charCodeAt(Ie);if(-1!==fe[Ie].search(dl.hanidec))Te+=$o.indexOf(fe[Ie]);else for(var Ge in ea){var bt=ea[Ge],Kt=bt[0];Oe>=Kt&&Oe<=bt[1]&&(Te+=Oe-Kt)}}return parseInt(Te,10)}return Te}(Oe[0]))}}}var Ca="[ "+String.fromCharCode(160)+"]",Ka=new RegExp(Ca,"g");function hl(fe){return fe.replace(/\./g,"\\.?").replace(Ka,Ca)}function Jo(fe){return fe.replace(/\./g,"").replace(Ka," ").toLowerCase()}function Zo(fe,Te){return null===fe?null:{regex:RegExp(fe.map(hl).join("|")),deser:function(Oe){var Ge=Oe[0];return fe.findIndex(function(bt){return Jo(Ge)===Jo(bt)})+Te}}}function oa(fe,Te){return{regex:fe,deser:function(Oe){return zn(Oe[1],Oe[2])},groups:Te}}function ha(fe){return{regex:fe,deser:function(Ie){return Ie[0]}}}function pl(fe){return fe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Tl={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},fo=null;function kl(fe,Te,Ie){var Oe=function Dl(fe,Te){var Ie;return(Ie=Array.prototype).concat.apply(Ie,fe.map(function(Oe){return function aa(fe,Te){if(fe.literal)return fe;var Ie=Ei.macroTokenToFormatOpts(fe.val);if(!Ie)return fe;var bt=Ei.create(Te,Ie).formatDateTimeParts(function Ls(){return fo||(fo=st.fromMillis(1555555555555)),fo}()).map(function(Kt){return function Bs(fe,Te,Ie){var Oe=fe.type;if("literal"===Oe)return{literal:!0,val:fe.value};var Kt=Tl[Oe];return"object"==typeof Kt&&(Kt=Kt[Ie[Oe]]),Kt?{literal:!1,val:Kt}:void 0}(Kt,0,Ie)});return bt.includes(void 0)?fe:bt}(Oe,Te)}))}(Ei.parseFormat(Ie),fe),Ge=Oe.map(function(Ki){return function Ma(fe,Te){var Ie=Vo(Te),Oe=Vo(Te,"{2}"),Ge=Vo(Te,"{3}"),bt=Vo(Te,"{4}"),Kt=Vo(Te,"{6}"),dn=Vo(Te,"{1,2}"),bn=Vo(Te,"{1,3}"),qn=Vo(Te,"{1,6}"),Ir=Vo(Te,"{1,9}"),Nr=Vo(Te,"{2,4}"),Gr=Vo(Te,"{4,6}"),Si=function(Ki){return{regex:RegExp(pl(Ki.val)),deser:function(pa){return pa[0]},literal:!0}},us=function(Ki){if(fe.literal)return Si(Ki);switch(Ki.val){case"G":return Zo(Te.eras("short",!1),0);case"GG":return Zo(Te.eras("long",!1),0);case"y":return Js(qn);case"yy":case"kk":return Js(Nr,Tr);case"yyyy":case"kkkk":return Js(bt);case"yyyyy":return Js(Gr);case"yyyyyy":return Js(Kt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Js(dn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Js(Oe);case"MMM":return Zo(Te.months("short",!0,!1),1);case"MMMM":return Zo(Te.months("long",!0,!1),1);case"LLL":return Zo(Te.months("short",!1,!1),1);case"LLLL":return Zo(Te.months("long",!1,!1),1);case"o":case"S":return Js(bn);case"ooo":case"SSS":return Js(Ge);case"u":return ha(Ir);case"uu":return ha(dn);case"uuu":case"E":case"c":return Js(Ie);case"a":return Zo(Te.meridiems(),0);case"EEE":return Zo(Te.weekdays("short",!1,!1),1);case"EEEE":return Zo(Te.weekdays("long",!1,!1),1);case"ccc":return Zo(Te.weekdays("short",!0,!1),1);case"cccc":return Zo(Te.weekdays("long",!0,!1),1);case"Z":case"ZZ":return oa(new RegExp("([+-]"+dn.source+")(?::("+Oe.source+"))?"),2);case"ZZZ":return oa(new RegExp("([+-]"+dn.source+")("+Oe.source+")?"),2);case"z":return ha(/[a-z_+-/]{1,256}?/i);default:return Si(Ki)}}(fe)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return us.token=fe,us}(Ki,fe)}),bt=Ge.find(function(Ki){return Ki.invalidReason});if(bt)return{input:Te,tokens:Oe,invalidReason:bt.invalidReason};var Kt=function Zi(fe){return["^"+fe.map(function(Ie){return Ie.regex}).reduce(function(Ie,Oe){return Ie+"("+Oe.source+")"},"")+"$",fe]}(Ge),bn=Kt[1],qn=RegExp(Kt[0],"i"),Ir=function wo(fe,Te,Ie){var Oe=fe.match(Te);if(Oe){var Ge={},bt=1;for(var Kt in Ie)if(It(Ie,Kt)){var dn=Ie[Kt],bn=dn.groups?dn.groups+1:1;!dn.literal&&dn.token&&(Ge[dn.token.val[0]]=dn.deser(Oe.slice(bt,bt+bn))),bt+=bn}return[Oe,Ge]}return[Oe,{}]}(Te,qn,bn),Nr=Ir[0],Gr=Ir[1],Si=Gr?function Qs(fe){var Oe,Ie=null;return Ze(fe.z)||(Ie=gi.create(fe.z)),Ze(fe.Z)||(Ie||(Ie=new Ts(fe.Z)),Oe=fe.Z),Ze(fe.q)||(fe.M=3*(fe.q-1)+1),Ze(fe.h)||(fe.h<12&&1===fe.a?fe.h+=12:12===fe.h&&0===fe.a&&(fe.h=0)),0===fe.G&&fe.y&&(fe.y=-fe.y),Ze(fe.u)||(fe.S=xt(fe.u)),[Object.keys(fe).reduce(function(bt,Kt){var dn=function(Kt){switch(Kt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(Kt);return dn&&(bt[dn]=fe[Kt]),bt},{}),Ie,Oe]}(Gr):[null,null,void 0],is=Si[0],us=Si[1],ms=Si[2];if(It(Gr,"a")&&It(Gr,"H"))throw new U("Can't include meridiem when specifying 24-hour format");return{input:Te,tokens:Oe,regex:qn,rawMatches:Nr,matches:Gr,result:is,zone:us,specificOffset:ms}}var So=[0,31,59,90,120,151,181,212,243,273,304,334],fl=[0,31,60,91,121,152,182,213,244,274,305,335];function so(fe,Te){return new kr("unit out of range","you specified "+Te+" (of type "+typeof Te+") as a "+fe+", which is invalid")}function xa(fe,Te,Ie){var Oe=new Date(Date.UTC(fe,Te-1,Ie));fe<100&&fe>=0&&Oe.setUTCFullYear(Oe.getUTCFullYear()-1900);var Ge=Oe.getUTCDay();return 0===Ge?7:Ge}function Ga(fe,Te,Ie){return Ie+(en(fe)?fl:So)[Te-1]}function Fo(fe,Te){var Ie=en(fe)?fl:So,Oe=Ie.findIndex(function(bt){return bt<Te});return{month:Oe+1,day:Te-Ie[Oe]}}function tl(fe){var dn,Te=fe.year,Ie=fe.month,Oe=fe.day,Ge=Ga(Te,Ie,Oe),bt=xa(Te,Ie,Oe),Kt=Math.floor((Ge-bt+10)/7);return Kt<1?Kt=pr(dn=Te-1):Kt>pr(Te)?(dn=Te+1,Kt=1):dn=Te,X({weekYear:dn,weekNumber:Kt,weekday:bt},In(fe))}function ml(fe){var dn,Te=fe.weekYear,Ie=fe.weekNumber,Oe=fe.weekday,Ge=xa(Te,1,4),bt=En(Te),Kt=7*Ie+Oe-Ge-3;Kt<1?Kt+=En(dn=Te-1):Kt>bt?(dn=Te+1,Kt-=En(Te)):dn=Te;var bn=Fo(dn,Kt);return X({year:dn,month:bn.month,day:bn.day},In(fe))}function Ks(fe){var Te=fe.year;return X({year:Te,ordinal:Ga(Te,fe.month,fe.day)},In(fe))}function jo(fe){var Te=fe.year,Oe=Fo(Te,fe.ordinal);return X({year:Te,month:Oe.month,day:Oe.day},In(fe))}function gl(fe){var Te=we(fe.year),Ie=Nt(fe.month,1,12),Oe=Nt(fe.day,1,Dn(fe.year,fe.month));return Te?Ie?!Oe&&so("day",fe.day):so("month",fe.month):so("year",fe.year)}function Ko(fe){var Te=fe.hour,Ie=fe.minute,Oe=fe.second,Ge=fe.millisecond,bt=Nt(Te,0,23)||24===Te&&0===Ie&&0===Oe&&0===Ge,Kt=Nt(Ie,0,59),dn=Nt(Oe,0,59),bn=Nt(Ge,0,999);return bt?Kt?dn?!bn&&so("millisecond",Ge):so("second",Oe):so("minute",Ie):so("hour",Te)}var ql="Invalid DateTime",Vl=864e13;function Pl(fe){return new kr("unsupported zone",'the zone "'+fe.name+'" is not supported')}function Ha(fe){return null===fe.weekData&&(fe.weekData=tl(fe.c)),fe.weekData}function it(fe,Te){var Ie={ts:fe.ts,zone:fe.zone,c:fe.c,o:fe.o,loc:fe.loc,invalid:fe.invalid};return new st(X({},Ie,Te,{old:Ie}))}function lt(fe,Te,Ie){var Oe=fe-60*Te*1e3,Ge=Ie.offset(Oe);if(Te===Ge)return[Oe,Te];var bt=Ie.offset(Oe-=60*(Ge-Te)*1e3);return Ge===bt?[Oe,Ge]:[fe-60*Math.min(Ge,bt)*1e3,Math.max(Ge,bt)]}function jt(fe,Te){var Ie=new Date(fe+=60*Te*1e3);return{year:Ie.getUTCFullYear(),month:Ie.getUTCMonth()+1,day:Ie.getUTCDate(),hour:Ie.getUTCHours(),minute:Ie.getUTCMinutes(),second:Ie.getUTCSeconds(),millisecond:Ie.getUTCMilliseconds()}}function Tn(fe,Te,Ie){return lt(Xn(fe),Te,Ie)}function Sr(fe,Te){var Ie=fe.o,Oe=fe.c.year+Math.trunc(Te.years),Ge=fe.c.month+Math.trunc(Te.months)+3*Math.trunc(Te.quarters),bt=X({},fe.c,{year:Oe,month:Ge,day:Math.min(fe.c.day,Dn(Oe,Ge))+Math.trunc(Te.days)+7*Math.trunc(Te.weeks)}),Kt=bo.fromObject({years:Te.years-Math.trunc(Te.years),quarters:Te.quarters-Math.trunc(Te.quarters),months:Te.months-Math.trunc(Te.months),weeks:Te.weeks-Math.trunc(Te.weeks),days:Te.days-Math.trunc(Te.days),hours:Te.hours,minutes:Te.minutes,seconds:Te.seconds,milliseconds:Te.milliseconds}).as("milliseconds"),bn=lt(Xn(bt),Ie,fe.zone),qn=bn[0],Ir=bn[1];return 0!==Kt&&(Ir=fe.zone.offset(qn+=Kt)),{ts:qn,o:Ir}}function xi(fe,Te,Ie,Oe,Ge,bt){var Kt=Ie.setZone,dn=Ie.zone;if(fe&&0!==Object.keys(fe).length){var qn=st.fromObject(fe,X({},Ie,{zone:Te||dn,specificOffset:bt}));return Kt?qn:qn.setZone(dn)}return st.invalid(new kr("unparsable",'the input "'+Ge+"\" can't be parsed as "+Oe))}function js(fe,Te,Ie){return void 0===Ie&&(Ie=!0),fe.isValid?Ei.create(Vi.create("en-US"),{allowZ:Ie,forceSimple:!0}).formatDateTimeFromString(fe,Te):null}function Yo(fe,Te){var Ie=fe.c.year>9999||fe.c.year<0,Oe="";return Ie&&fe.c.year>=0&&(Oe+="+"),Oe+=Xe(fe.c.year,Ie?6:4),Te?(Oe+="-",Oe+=Xe(fe.c.month),Oe+="-",Oe+=Xe(fe.c.day)):(Oe+=Xe(fe.c.month),Oe+=Xe(fe.c.day)),Oe}function mo(fe,Te,Ie,Oe,Ge,bt){var Kt=Xe(fe.c.hour);return Te?(Kt+=":",Kt+=Xe(fe.c.minute),(0!==fe.c.second||!Ie)&&(Kt+=":")):Kt+=Xe(fe.c.minute),(0!==fe.c.second||!Ie)&&(Kt+=Xe(fe.c.second),(0!==fe.c.millisecond||!Oe)&&(Kt+=".",Kt+=Xe(fe.c.millisecond,3))),Ge&&(fe.isOffsetFixed&&0===fe.offset&&!bt?Kt+="Z":fe.o<0?(Kt+="-",Kt+=Xe(Math.trunc(-fe.o/60)),Kt+=":",Kt+=Xe(Math.trunc(-fe.o%60))):(Kt+="+",Kt+=Xe(Math.trunc(fe.o/60)),Kt+=":",Kt+=Xe(Math.trunc(fe.o%60)))),bt&&(Kt+="["+fe.zone.ianaName+"]"),Kt}var wa={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ba={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zu={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yl=["year","month","day","hour","minute","second","millisecond"],ka=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Wc=["year","ordinal","hour","minute","second","millisecond"];function _l(fe){var Te={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[fe.toLowerCase()];if(!Te)throw new A(fe);return Te}function rl(fe,Te){var bt,Kt,Ie=ps(Te.zone,Yr.defaultZone),Oe=Vi.fromObject(Te),Ge=Yr.now();if(Ze(fe.year))bt=Ge;else{for(var bn,dn=ae(yl);!(bn=dn()).done;){var qn=bn.value;Ze(fe[qn])&&(fe[qn]=wa[qn])}var Ir=gl(fe)||Ko(fe);if(Ir)return st.invalid(Ir);var Gr=Tn(fe,Ie.offset(Ge),Ie);bt=Gr[0],Kt=Gr[1]}return new st({ts:bt,zone:Ie,loc:Oe,o:Kt})}function il(fe,Te,Ie){var Oe=!!Ze(Ie.round)||Ie.round,Ge=function(Nr,Gr){return Nr=Lt(Nr,Oe||Ie.calendary?0:2,!0),Te.loc.clone(Ie).relFormatter(Ie).format(Nr,Gr)},bt=function(Nr){return Ie.calendary?Te.hasSame(fe,Nr)?0:Te.startOf(Nr).diff(fe.startOf(Nr),Nr).get(Nr):Te.diff(fe,Nr).get(Nr)};if(Ie.unit)return Ge(bt(Ie.unit),Ie.unit);for(var dn,Kt=ae(Ie.units);!(dn=Kt()).done;){var bn=dn.value,qn=bt(bn);if(Math.abs(qn)>=1)return Ge(qn,bn)}return Ge(fe>Te?-0:0,Ie.units[Ie.units.length-1])}function Go(fe){var Ie,Te={};return fe.length>0&&"object"==typeof fe[fe.length-1]?(Te=fe[fe.length-1],Ie=Array.from(fe).slice(0,fe.length-1)):Ie=Array.from(fe),[Te,Ie]}var st=function(){function fe(Ie){var Oe=Ie.zone||Yr.defaultZone,Ge=Ie.invalid||(Number.isNaN(Ie.ts)?new kr("invalid input"):null)||(Oe.isValid?null:Pl(Oe));this.ts=Ze(Ie.ts)?Yr.now():Ie.ts;var bt=null,Kt=null;if(!Ge)if(Ie.old&&Ie.old.ts===this.ts&&Ie.old.zone.equals(Oe)){var bn=[Ie.old.c,Ie.old.o];bt=bn[0],Kt=bn[1]}else{var qn=Oe.offset(this.ts);bt=jt(this.ts,qn),bt=(Ge=Number.isNaN(bt.year)?new kr("invalid input"):null)?null:bt,Kt=Ge?null:qn}this._zone=Oe,this.loc=Ie.loc||Vi.create(),this.invalid=Ge,this.weekData=null,this.c=bt,this.o=Kt,this.isLuxonDateTime=!0}fe.now=function(){return new fe({})},fe.local=function(){var Oe=Go(arguments),Ge=Oe[0],bt=Oe[1],Kt=bt[0],dn=bt[1],bn=bt[2],qn=bt[3],Ir=bt[4],Nr=bt[5],Gr=bt[6];return rl({year:Kt,month:dn,day:bn,hour:qn,minute:Ir,second:Nr,millisecond:Gr},Ge)},fe.utc=function(){var Oe=Go(arguments),Ge=Oe[0],bt=Oe[1],Kt=bt[0],dn=bt[1],bn=bt[2],qn=bt[3],Ir=bt[4],Nr=bt[5],Gr=bt[6];return Ge.zone=Ts.utcInstance,rl({year:Kt,month:dn,day:bn,hour:qn,minute:Ir,second:Nr,millisecond:Gr},Ge)},fe.fromJSDate=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=function Je(fe){return"[object Date]"===Object.prototype.toString.call(fe)}(Oe)?Oe.valueOf():NaN;if(Number.isNaN(bt))return fe.invalid("invalid input");var Kt=ps(Ge.zone,Yr.defaultZone);return Kt.isValid?new fe({ts:bt,zone:Kt,loc:Vi.fromObject(Ge)}):fe.invalid(Pl(Kt))},fe.fromMillis=function(Oe,Ge){if(void 0===Ge&&(Ge={}),ct(Oe))return Oe<-Vl||Oe>Vl?fe.invalid("Timestamp out of range"):new fe({ts:Oe,zone:ps(Ge.zone,Yr.defaultZone),loc:Vi.fromObject(Ge)});throw new V("fromMillis requires a numerical input, but received a "+typeof Oe+" with value "+Oe)},fe.fromSeconds=function(Oe,Ge){if(void 0===Ge&&(Ge={}),ct(Oe))return new fe({ts:1e3*Oe,zone:ps(Ge.zone,Yr.defaultZone),loc:Vi.fromObject(Ge)});throw new V("fromSeconds requires a numerical input")},fe.fromObject=function(Oe,Ge){void 0===Ge&&(Ge={}),Oe=Oe||{};var bt=ps(Ge.zone,Yr.defaultZone);if(!bt.isValid)return fe.invalid(Pl(bt));var Kt=Yr.now(),dn=Ze(Ge.specificOffset)?bt.offset(Kt):Ge.specificOffset,bn=sn(Oe,_l),qn=!Ze(bn.ordinal),Ir=!Ze(bn.year),Nr=!Ze(bn.month)||!Ze(bn.day),Gr=Ir||Nr,Si=bn.weekYear||bn.weekNumber,is=Vi.fromObject(Ge);if((Gr||qn)&&Si)throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Nr&&qn)throw new U("Can't mix ordinal dates with month/day");var ms,Ki,us=Si||bn.weekday&&!Gr,To=jt(Kt,dn);us?(ms=ka,Ki=Ba,To=tl(To)):qn?(ms=Wc,Ki=zu,To=Ks(To)):(ms=yl,Ki=wa);for(var ec,pa=!1,Il=ae(ms);!(ec=Il()).done;){var Oa=ec.value;Ze(bn[Oa])?bn[Oa]=pa?Ki[Oa]:To[Oa]:pa=!0}var mu=us?function nl(fe){var Te=we(fe.weekYear),Ie=Nt(fe.weekNumber,1,pr(fe.weekYear)),Oe=Nt(fe.weekday,1,7);return Te?Ie?!Oe&&so("weekday",fe.weekday):so("week",fe.week):so("weekYear",fe.weekYear)}(bn):qn?function Wl(fe){var Te=we(fe.year),Ie=Nt(fe.ordinal,1,En(fe.year));return Te?!Ie&&so("ordinal",fe.ordinal):so("year",fe.year)}(bn):gl(bn),Vc=mu||Ko(bn);if(Vc)return fe.invalid(Vc);var gu=Tn(us?ml(bn):qn?jo(bn):bn,dn,bt),yc=new fe({ts:gu[0],zone:bt,o:gu[1],loc:is});return bn.weekday&&Gr&&Oe.weekday!==yc.weekday?fe.invalid("mismatched weekday","you can't specify both a weekday of "+bn.weekday+" and a date of "+yc.toISO()):yc},fe.fromISO=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=function os(fe){return Is(fe,[Wt,ri],[Sn,ji],[Jn,ki],[mr,_i])}(Oe);return xi(bt[0],bt[1],Ge,"ISO 8601",Oe)},fe.fromRFC2822=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=function vo(fe){return Is(function yt(fe){return fe.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(fe),[xn,Kn])}(Oe);return xi(bt[0],bt[1],Ge,"RFC 2822",Oe)},fe.fromHTTP=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=function fs(fe){return Is(fe,[Ct,St],[nn,St],[et,ht])}(Oe);return xi(bt[0],bt[1],Ge,"HTTP",Ge)},fe.fromFormat=function(Oe,Ge,bt){if(void 0===bt&&(bt={}),Ze(Oe)||Ze(Ge))throw new V("fromFormat requires an input string and a format");var dn=bt.locale,qn=bt.numberingSystem,Gr=function el(fe,Te,Ie){var Oe=kl(fe,Te,Ie);return[Oe.result,Oe.zone,Oe.specificOffset,Oe.invalidReason]}(Vi.fromOpts({locale:void 0===dn?null:dn,numberingSystem:void 0===qn?null:qn,defaultToEN:!0}),Oe,Ge),Si=Gr[0],is=Gr[1],us=Gr[2],ms=Gr[3];return ms?fe.invalid(ms):xi(Si,is,bt,"format "+Ge,Oe,us)},fe.fromString=function(Oe,Ge,bt){return void 0===bt&&(bt={}),fe.fromFormat(Oe,Ge,bt)},fe.fromSQL=function(Oe,Ge){void 0===Ge&&(Ge={});var bt=function Ci(fe){return Is(fe,[dt,ri],[Xt,Mr])}(Oe);return xi(bt[0],bt[1],Ge,"SQL",Oe)},fe.invalid=function(Oe,Ge){if(void 0===Ge&&(Ge=null),!Oe)throw new V("need to specify a reason the DateTime is invalid");var bt=Oe instanceof kr?Oe:new kr(Oe,Ge);if(Yr.throwOnInvalid)throw new $(bt);return new fe({invalid:bt})},fe.isDateTime=function(Oe){return Oe&&Oe.isLuxonDateTime||!1};var Te=fe.prototype;return Te.get=function(Oe){return this[Oe]},Te.resolvedLocaleOptions=function(Oe){void 0===Oe&&(Oe={});var Ge=Ei.create(this.loc.clone(Oe),Oe).resolvedOptions(this);return{locale:Ge.locale,numberingSystem:Ge.numberingSystem,outputCalendar:Ge.calendar}},Te.toUTC=function(Oe,Ge){return void 0===Oe&&(Oe=0),void 0===Ge&&(Ge={}),this.setZone(Ts.instance(Oe),Ge)},Te.toLocal=function(){return this.setZone(Yr.defaultZone)},Te.setZone=function(Oe,Ge){var bt=void 0===Ge?{}:Ge,Kt=bt.keepLocalTime,dn=void 0!==Kt&&Kt,bn=bt.keepCalendarTime,qn=void 0!==bn&&bn;if((Oe=ps(Oe,Yr.defaultZone)).equals(this.zone))return this;if(Oe.isValid){var Ir=this.ts;if(dn||qn){var Nr=Oe.offset(this.ts);Ir=Tn(this.toObject(),Nr,Oe)[0]}return it(this,{ts:Ir,zone:Oe})}return fe.invalid(Pl(Oe))},Te.reconfigure=function(Oe){var Ge=void 0===Oe?{}:Oe;return it(this,{loc:this.loc.clone({locale:Ge.locale,numberingSystem:Ge.numberingSystem,outputCalendar:Ge.outputCalendar})})},Te.setLocale=function(Oe){return this.reconfigure({locale:Oe})},Te.set=function(Oe){if(!this.isValid)return this;var Nr,Ge=sn(Oe,_l),bt=!Ze(Ge.weekYear)||!Ze(Ge.weekNumber)||!Ze(Ge.weekday),Kt=!Ze(Ge.ordinal),dn=!Ze(Ge.year),bn=!Ze(Ge.month)||!Ze(Ge.day);if((dn||bn||Kt)&&(Ge.weekYear||Ge.weekNumber))throw new U("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(bn&&Kt)throw new U("Can't mix ordinal dates with month/day");bt?Nr=ml(X({},tl(this.c),Ge)):Ze(Ge.ordinal)?(Nr=X({},this.toObject(),Ge),Ze(Ge.day)&&(Nr.day=Math.min(Dn(Nr.year,Nr.month),Nr.day))):Nr=jo(X({},Ks(this.c),Ge));var Gr=Tn(Nr,this.o,this.zone);return it(this,{ts:Gr[0],o:Gr[1]})},Te.plus=function(Oe){return this.isValid?it(this,Sr(this,bo.fromDurationLike(Oe))):this},Te.minus=function(Oe){return this.isValid?it(this,Sr(this,bo.fromDurationLike(Oe).negate())):this},Te.startOf=function(Oe){if(!this.isValid)return this;var Ge={},bt=bo.normalizeUnit(Oe);switch(bt){case"years":Ge.month=1;case"quarters":case"months":Ge.day=1;case"weeks":case"days":Ge.hour=0;case"hours":Ge.minute=0;case"minutes":Ge.second=0;case"seconds":Ge.millisecond=0}if("weeks"===bt&&(Ge.weekday=1),"quarters"===bt){var Kt=Math.ceil(this.month/3);Ge.month=3*(Kt-1)+1}return this.set(Ge)},Te.endOf=function(Oe){var Ge;return this.isValid?this.plus((Ge={},Ge[Oe]=1,Ge)).startOf(Oe).minus(1):this},Te.toFormat=function(Oe,Ge){return void 0===Ge&&(Ge={}),this.isValid?Ei.create(this.loc.redefaultToEN(Ge)).formatDateTimeFromString(this,Oe):ql},Te.toLocaleString=function(Oe,Ge){return void 0===Oe&&(Oe=le),void 0===Ge&&(Ge={}),this.isValid?Ei.create(this.loc.clone(Ge),Oe).formatDateTime(this):ql},Te.toLocaleParts=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?Ei.create(this.loc.clone(Oe),Oe).formatDateTimeParts(this):[]},Te.toISO=function(Oe){var Ge=void 0===Oe?{}:Oe,bt=Ge.format,dn=Ge.suppressSeconds,bn=void 0!==dn&&dn,qn=Ge.suppressMilliseconds,Ir=void 0!==qn&&qn,Nr=Ge.includeOffset,Gr=void 0===Nr||Nr,Si=Ge.extendedZone,is=void 0!==Si&&Si;if(!this.isValid)return null;var us="extended"===(void 0===bt?"extended":bt),ms=Yo(this,us);return(ms+="T")+mo(this,us,bn,Ir,Gr,is)},Te.toISODate=function(Oe){var bt=(void 0===Oe?{}:Oe).format;return this.isValid?Yo(this,"extended"===(void 0===bt?"extended":bt)):null},Te.toISOWeekDate=function(){return js(this,"kkkk-'W'WW-c")},Te.toISOTime=function(Oe){var Ge=void 0===Oe?{}:Oe,bt=Ge.suppressMilliseconds,dn=Ge.suppressSeconds,qn=Ge.includeOffset,Nr=Ge.includePrefix,Si=Ge.extendedZone,us=Ge.format;return this.isValid?(void 0!==Nr&&Nr?"T":"")+mo(this,"extended"===(void 0===us?"extended":us),void 0!==dn&&dn,void 0!==bt&&bt,void 0===qn||qn,void 0!==Si&&Si):null},Te.toRFC2822=function(){return js(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},Te.toHTTP=function(){return js(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},Te.toSQLDate=function(){return this.isValid?Yo(this,!0):null},Te.toSQLTime=function(Oe){var Ge=void 0===Oe?{}:Oe,bt=Ge.includeOffset,Kt=void 0===bt||bt,dn=Ge.includeZone,bn=void 0!==dn&&dn,qn=Ge.includeOffsetSpace,Nr="HH:mm:ss.SSS";return(bn||Kt)&&((void 0===qn||qn)&&(Nr+=" "),bn?Nr+="z":Kt&&(Nr+="ZZ")),js(this,Nr,!0)},Te.toSQL=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(Oe):null},Te.toString=function(){return this.isValid?this.toISO():ql},Te.valueOf=function(){return this.toMillis()},Te.toMillis=function(){return this.isValid?this.ts:NaN},Te.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},Te.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},Te.toJSON=function(){return this.toISO()},Te.toBSON=function(){return this.toJSDate()},Te.toObject=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return{};var Ge=X({},this.c);return Oe.includeConfig&&(Ge.outputCalendar=this.outputCalendar,Ge.numberingSystem=this.loc.numberingSystem,Ge.locale=this.loc.locale),Ge},Te.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},Te.diff=function(Oe,Ge,bt){if(void 0===Ge&&(Ge="milliseconds"),void 0===bt&&(bt={}),!this.isValid||!Oe.isValid)return bo.invalid("created by diffing an invalid DateTime");var Kt=X({locale:this.locale,numberingSystem:this.numberingSystem},bt),dn=function ot(fe){return Array.isArray(fe)?fe:[fe]}(Ge).map(bo.normalizeUnit),bn=Oe.valueOf()>this.valueOf(),Nr=function lo(fe,Te,Ie,Oe){var Nr,Ge=function No(fe,Te,Ie){for(var bt,Kt,Ge={},dn=0,bn=[["years",function(us,ms){return ms.year-us.year}],["quarters",function(us,ms){return ms.quarter-us.quarter}],["months",function(us,ms){return ms.month-us.month+12*(ms.year-us.year)}],["weeks",function(us,ms){var Ki=pi(us,ms);return(Ki-Ki%7)/7}],["days",pi]];dn<bn.length;dn++){var qn=bn[dn],Ir=qn[0],Nr=qn[1];if(Ie.indexOf(Ir)>=0){var Gr;bt=Ir;var is,Si=Nr(fe,Te);(Kt=fe.plus(((Gr={})[Ir]=Si,Gr)))>Te?(fe=fe.plus(((is={})[Ir]=Si-1,is)),Si-=1):fe=Kt,Ge[Ir]=Si}}return[fe,Ge,Kt,bt]}(fe,Te,Ie),bt=Ge[0],Kt=Ge[1],dn=Ge[2],bn=Ge[3],qn=Te-bt,Ir=Ie.filter(function(is){return["hours","minutes","seconds","milliseconds"].indexOf(is)>=0});0===Ir.length&&(dn<Te&&(dn=bt.plus(((Nr={})[bn]=1,Nr))),dn!==bt&&(Kt[bn]=(Kt[bn]||0)+qn/(dn-bt)));var Si,Gr=bo.fromObject(Kt,Oe);return Ir.length>0?(Si=bo.fromMillis(qn,Oe)).shiftTo.apply(Si,Ir).plus(Gr):Gr}(bn?this:Oe,bn?Oe:this,dn,Kt);return bn?Nr.negate():Nr},Te.diffNow=function(Oe,Ge){return void 0===Oe&&(Oe="milliseconds"),void 0===Ge&&(Ge={}),this.diff(fe.now(),Oe,Ge)},Te.until=function(Oe){return this.isValid?vn.fromDateTimes(this,Oe):this},Te.hasSame=function(Oe,Ge){if(!this.isValid)return!1;var bt=Oe.valueOf(),Kt=this.setZone(Oe.zone,{keepLocalTime:!0});return Kt.startOf(Ge)<=bt&&bt<=Kt.endOf(Ge)},Te.equals=function(Oe){return this.isValid&&Oe.isValid&&this.valueOf()===Oe.valueOf()&&this.zone.equals(Oe.zone)&&this.loc.equals(Oe.loc)},Te.toRelative=function(Oe){if(void 0===Oe&&(Oe={}),!this.isValid)return null;var Ge=Oe.base||fe.fromObject({},{zone:this.zone}),bt=Oe.padding?this<Ge?-Oe.padding:Oe.padding:0,Kt=["years","months","days","hours","minutes","seconds"],dn=Oe.unit;return Array.isArray(Oe.unit)&&(Kt=Oe.unit,dn=void 0),il(Ge,this.plus(bt),X({},Oe,{numeric:"always",units:Kt,unit:dn}))},Te.toRelativeCalendar=function(Oe){return void 0===Oe&&(Oe={}),this.isValid?il(Oe.base||fe.fromObject({},{zone:this.zone}),this,X({},Oe,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},fe.min=function(){for(var Oe=arguments.length,Ge=new Array(Oe),bt=0;bt<Oe;bt++)Ge[bt]=arguments[bt];if(!Ge.every(fe.isDateTime))throw new V("min requires all arguments be DateTimes");return mt(Ge,function(Kt){return Kt.valueOf()},Math.min)},fe.max=function(){for(var Oe=arguments.length,Ge=new Array(Oe),bt=0;bt<Oe;bt++)Ge[bt]=arguments[bt];if(!Ge.every(fe.isDateTime))throw new V("max requires all arguments be DateTimes");return mt(Ge,function(Kt){return Kt.valueOf()},Math.max)},fe.fromFormatExplain=function(Oe,Ge,bt){void 0===bt&&(bt={});var dn=bt.locale,qn=bt.numberingSystem;return kl(Vi.fromOpts({locale:void 0===dn?null:dn,numberingSystem:void 0===qn?null:qn,defaultToEN:!0}),Oe,Ge)},fe.fromStringExplain=function(Oe,Ge,bt){return void 0===bt&&(bt={}),fe.fromFormatExplain(Oe,Ge,bt)},v(fe,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Ha(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Ha(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Ha(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Ks(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?ul.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?ul.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?ul.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?ul.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return en(this.year)}},{key:"daysInMonth",get:function(){return Dn(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?En(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?pr(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return le}},{key:"DATE_MED",get:function(){return de}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return q}},{key:"DATE_FULL",get:function(){return ue}},{key:"DATE_HUGE",get:function(){return ie}},{key:"TIME_SIMPLE",get:function(){return ye}},{key:"TIME_WITH_SECONDS",get:function(){return pe}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Ce}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return De}},{key:"TIME_24_SIMPLE",get:function(){return Me}},{key:"TIME_24_WITH_SECONDS",get:function(){return ve}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Le}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return je}},{key:"DATETIME_SHORT",get:function(){return _e}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Re}},{key:"DATETIME_MED",get:function(){return nt}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return pt}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return Ne}},{key:"DATETIME_FULL",get:function(){return xe}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Ye}},{key:"DATETIME_HUGE",get:function(){return Ke}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Fe}}]),fe}();function Qe(fe){if(st.isDateTime(fe))return fe;if(fe&&fe.valueOf&&ct(fe.valueOf()))return st.fromJSDate(fe);if(fe&&"object"==typeof fe)return st.fromObject(fe);throw new V("Unknown datetime argument: "+fe+", of type "+typeof fe)}Se.ou=st},68306:(wt,Se,p)=>{"use strict";p.d(Se,{y:()=>B});var d=p(70930),v=p(50727),X=p(48822),G=p(44671);var D=p(42416),k=p(30576),N=p(72806);let B=(()=>{class ae{constructor($){$&&(this._subscribe=$)}lift($){const F=new ae;return F.source=this,F.operator=$,F}subscribe($,F,R){const U=function te(ae){return ae&&ae instanceof d.Lv||function ne(ae){return ae&&(0,k.m)(ae.next)&&(0,k.m)(ae.error)&&(0,k.m)(ae.complete)}(ae)&&(0,v.Nn)(ae)}($)?$:new d.Hp($,F,R);return(0,N.x)(()=>{const{operator:A,source:V}=this;U.add(A?A.call(U,V):V?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe($){try{return this._subscribe($)}catch(F){$.error(F)}}forEach($,F){return new(F=Q(F))((R,U)=>{const A=new d.Hp({next:V=>{try{$(V)}catch(J){U(J),A.unsubscribe()}},error:U,complete:R});this.subscribe(A)})}_subscribe($){var F;return null===(F=this.source)||void 0===F?void 0:F.subscribe($)}[X.L](){return this}pipe(...$){return function Z(ae){return 0===ae.length?G.y:1===ae.length?ae[0]:function($){return ae.reduce((F,R)=>R(F),$)}}($)(this)}toPromise($){return new($=Q($))((F,R)=>{let U;this.subscribe(A=>U=A,A=>R(A),()=>F(U))})}}return ae.create=re=>new ae(re),ae})();function Q(ae){var re;return null!==(re=null!=ae?ae:D.v.Promise)&&void 0!==re?re:Promise}},77579:(wt,Se,p)=>{"use strict";p.d(Se,{x:()=>D});var d=p(68306),v=p(50727);const G=(0,p(83888).d)(N=>function(){N(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=p(38737),Z=p(72806);let D=(()=>{class N extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const ne=new k(this,this);return ne.operator=Q,ne}_throwIfClosed(){if(this.closed)throw new G}next(Q){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Q)}})}error(Q){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Q)}})}complete(){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:ne,isStopped:te,observers:ae}=this;return ne||te?v.Lc:(this.currentObservers=null,ae.push(Q),new v.w0(()=>{this.currentObservers=null,(0,z.P)(ae,Q)}))}_checkFinalizedStatuses(Q){const{hasError:ne,thrownError:te,isStopped:ae}=this;ne?Q.error(te):ae&&Q.complete()}asObservable(){const Q=new d.y;return Q.source=this,Q}}return N.create=(B,Q)=>new k(B,Q),N})();class k extends D{constructor(B,Q){super(),this.destination=B,this.source=Q}next(B){var Q,ne;null===(ne=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===ne||ne.call(Q,B)}error(B){var Q,ne;null===(ne=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===ne||ne.call(Q,B)}complete(){var B,Q;null===(Q=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===Q||Q.call(B)}_subscribe(B){var Q,ne;return null!==(ne=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(B))&&void 0!==ne?ne:v.Lc}}},70930:(wt,Se,p)=>{"use strict";p.d(Se,{Hp:()=>$,Lv:()=>ne});var d=p(30576),v=p(50727),X=p(42416),G=p(87849),z=p(25032);const Z=N("C",void 0,void 0);function N(V,J,Y){return{kind:V,value:J,error:Y}}var B=p(43410),Q=p(72806);class ne extends v.w0{constructor(J){super(),this.isStopped=!1,J?(this.destination=J,(0,v.Nn)(J)&&J.add(this)):this.destination=A}static create(J,Y,oe){return new $(J,Y,oe)}next(J){this.isStopped?U(function k(V){return N("N",V,void 0)}(J),this):this._next(J)}error(J){this.isStopped?U(function D(V){return N("E",void 0,V)}(J),this):(this.isStopped=!0,this._error(J))}complete(){this.isStopped?U(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(J){this.destination.next(J)}_error(J){try{this.destination.error(J)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const te=Function.prototype.bind;function ae(V,J){return te.call(V,J)}class re{constructor(J){this.partialObserver=J}next(J){const{partialObserver:Y}=this;if(Y.next)try{Y.next(J)}catch(oe){F(oe)}}error(J){const{partialObserver:Y}=this;if(Y.error)try{Y.error(J)}catch(oe){F(oe)}else F(J)}complete(){const{partialObserver:J}=this;if(J.complete)try{J.complete()}catch(Y){F(Y)}}}class $ extends ne{constructor(J,Y,oe){let se;if(super(),(0,d.m)(J)||!J)se={next:null!=J?J:void 0,error:null!=Y?Y:void 0,complete:null!=oe?oe:void 0};else{let le;this&&X.v.useDeprecatedNextContext?(le=Object.create(J),le.unsubscribe=()=>this.unsubscribe(),se={next:J.next&&ae(J.next,le),error:J.error&&ae(J.error,le),complete:J.complete&&ae(J.complete,le)}):se=J}this.destination=new re(se)}}function F(V){X.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(V):(0,G.h)(V)}function U(V,J){const{onStoppedNotification:Y}=X.v;Y&&B.z.setTimeout(()=>Y(V,J))}const A={closed:!0,next:z.Z,error:function R(V){throw V},complete:z.Z}},50727:(wt,Se,p)=>{"use strict";p.d(Se,{Lc:()=>Z,w0:()=>z,Nn:()=>D});var d=p(30576);const X=(0,p(83888).d)(N=>function(Q){N(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((ne,te)=>`${te+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var G=p(38737);class z{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const ae of Q)ae.remove(this);else Q.remove(this);const{initialTeardown:ne}=this;if((0,d.m)(ne))try{ne()}catch(ae){B=ae instanceof X?ae.errors:[ae]}const{_finalizers:te}=this;if(te){this._finalizers=null;for(const ae of te)try{k(ae)}catch(re){B=null!=B?B:[],re instanceof X?B=[...B,...re.errors]:B.push(re)}}if(B)throw new X(B)}}add(B){var Q;if(B&&B!==this)if(this.closed)k(B);else{if(B instanceof z){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(B)}}_hasParent(B){const{_parentage:Q}=this;return Q===B||Array.isArray(Q)&&Q.includes(B)}_addParent(B){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(B),Q):Q?[Q,B]:B}_removeParent(B){const{_parentage:Q}=this;Q===B?this._parentage=null:Array.isArray(Q)&&(0,G.P)(Q,B)}remove(B){const{_finalizers:Q}=this;Q&&(0,G.P)(Q,B),B instanceof z&&B._removeParent(this)}}z.EMPTY=(()=>{const N=new z;return N.closed=!0,N})();const Z=z.EMPTY;function D(N){return N instanceof z||N&&"closed"in N&&(0,d.m)(N.remove)&&(0,d.m)(N.add)&&(0,d.m)(N.unsubscribe)}function k(N){(0,d.m)(N)?N():N.unsubscribe()}},42416:(wt,Se,p)=>{"use strict";p.d(Se,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},94033:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>Z});var d=p(68306),v=p(50727),X=p(38343),G=p(25403),z=p(54482);class Z extends d.y{constructor(k,N){super(),this.source=k,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,z.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,null==k||k.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new v.w0;const N=this.getSubject();k.add(this.source.subscribe((0,G.x)(N,void 0,()=>{this._teardown(),N.complete()},B=>{this._teardown(),N.error(B)},()=>this._teardown()))),k.closed&&(this._connection=null,k=v.w0.EMPTY)}return k}refCount(){return(0,X.x)()(this)}}},97272:(wt,Se,p)=>{"use strict";p.d(Se,{z:()=>z});var d=p(8189),X=p(63269),G=p(32076);function z(...Z){return function v(){return(0,d.J)(1)}()((0,G.D)(Z,(0,X.yG)(Z)))}},49770:(wt,Se,p)=>{"use strict";p.d(Se,{P:()=>X});var d=p(68306),v=p(38421);function X(G){return new d.y(z=>{(0,v.Xf)(G()).subscribe(z)})}},60515:(wt,Se,p)=>{"use strict";p.d(Se,{E:()=>v});const v=new(p(68306).y)(z=>z.complete())},4128:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>k});var d=p(68306),v=p(54742),X=p(38421),G=p(63269),z=p(25403),Z=p(83268),D=p(31810);function k(...N){const B=(0,G.jO)(N),{args:Q,keys:ne}=(0,v.D)(N),te=new d.y(ae=>{const{length:re}=Q;if(!re)return void ae.complete();const $=new Array(re);let F=re,R=re;for(let U=0;U<re;U++){let A=!1;(0,X.Xf)(Q[U]).subscribe((0,z.x)(ae,V=>{A||(A=!0,R--),$[U]=V},()=>F--,void 0,()=>{(!F||!A)&&(R||ae.next(ne?(0,D.n)(ne,$):$),ae.complete())}))}});return B?te.pipe((0,Z.Z)(B)):te}},32076:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>oe});var d=p(38421),v=p(39672),X=p(54482),G=p(25403);function z(se,le=0){return(0,X.e)((de,q)=>{de.subscribe((0,G.x)(q,ue=>(0,v.f)(q,se,()=>q.next(ue),le),()=>(0,v.f)(q,se,()=>q.complete(),le),ue=>(0,v.f)(q,se,()=>q.error(ue),le)))})}function Z(se,le=0){return(0,X.e)((de,q)=>{q.add(se.schedule(()=>de.subscribe(q),le))})}var N=p(68306),Q=p(2202),ne=p(30576);function ae(se,le){if(!se)throw new Error("Iterable cannot be null");return new N.y(de=>{(0,v.f)(de,le,()=>{const q=se[Symbol.asyncIterator]();(0,v.f)(de,le,()=>{q.next().then(ue=>{ue.done?de.complete():de.next(ue.value)})},0,!0)})})}var re=p(93670),$=p(28239),F=p(81144),R=p(26495),U=p(12206),A=p(44532),V=p(53260);function oe(se,le){return le?function Y(se,le){if(null!=se){if((0,re.c)(se))return function D(se,le){return(0,d.Xf)(se).pipe(Z(le),z(le))}(se,le);if((0,F.z)(se))return function B(se,le){return new N.y(de=>{let q=0;return le.schedule(function(){q===se.length?de.complete():(de.next(se[q++]),de.closed||this.schedule())})})}(se,le);if((0,$.t)(se))return function k(se,le){return(0,d.Xf)(se).pipe(Z(le),z(le))}(se,le);if((0,U.D)(se))return ae(se,le);if((0,R.T)(se))return function te(se,le){return new N.y(de=>{let q;return(0,v.f)(de,le,()=>{q=se[Q.h](),(0,v.f)(de,le,()=>{let ue,ie;try{({value:ue,done:ie}=q.next())}catch(ye){return void de.error(ye)}ie?de.complete():de.next(ue)},0,!0)}),()=>(0,ne.m)(null==q?void 0:q.return)&&q.return()})}(se,le);if((0,V.L)(se))return function J(se,le){return ae((0,V.Q)(se),le)}(se,le)}throw(0,A.z)(se)}(se,le):(0,d.Xf)(se)}},54968:(wt,Se,p)=>{"use strict";p.d(Se,{R:()=>B});var d=p(38421),v=p(68306),X=p(95577),G=p(81144),z=p(30576),Z=p(83268);const D=["addListener","removeListener"],k=["addEventListener","removeEventListener"],N=["on","off"];function B(re,$,F,R){if((0,z.m)(F)&&(R=F,F=void 0),R)return B(re,$,F).pipe((0,Z.Z)(R));const[U,A]=function ae(re){return(0,z.m)(re.addEventListener)&&(0,z.m)(re.removeEventListener)}(re)?k.map(V=>J=>re[V]($,J,F)):function ne(re){return(0,z.m)(re.addListener)&&(0,z.m)(re.removeListener)}(re)?D.map(Q(re,$)):function te(re){return(0,z.m)(re.on)&&(0,z.m)(re.off)}(re)?N.map(Q(re,$)):[];if(!U&&(0,G.z)(re))return(0,X.z)(V=>B(V,$,F))((0,d.Xf)(re));if(!U)throw new TypeError("Invalid event target");return new v.y(V=>{const J=(...Y)=>V.next(1<Y.length?Y:Y[0]);return U(J),()=>A(J)})}function Q(re,$){return F=>R=>re[F]($,R)}},38421:(wt,Se,p)=>{"use strict";p.d(Se,{Xf:()=>te});var d=p(70655),v=p(81144),X=p(28239),G=p(68306),z=p(93670),Z=p(12206),D=p(44532),k=p(26495),N=p(53260),B=p(30576),Q=p(87849),ne=p(48822);function te(V){if(V instanceof G.y)return V;if(null!=V){if((0,z.c)(V))return function ae(V){return new G.y(J=>{const Y=V[ne.L]();if((0,B.m)(Y.subscribe))return Y.subscribe(J);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(V);if((0,v.z)(V))return function re(V){return new G.y(J=>{for(let Y=0;Y<V.length&&!J.closed;Y++)J.next(V[Y]);J.complete()})}(V);if((0,X.t)(V))return function $(V){return new G.y(J=>{V.then(Y=>{J.closed||(J.next(Y),J.complete())},Y=>J.error(Y)).then(null,Q.h)})}(V);if((0,Z.D)(V))return R(V);if((0,k.T)(V))return function F(V){return new G.y(J=>{for(const Y of V)if(J.next(Y),J.closed)return;J.complete()})}(V);if((0,N.L)(V))return function U(V){return R((0,N.Q)(V))}(V)}throw(0,D.z)(V)}function R(V){return new G.y(J=>{(function A(V,J){var Y,oe,se,le;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Y=(0,d.KL)(V);!(oe=yield Y.next()).done;)if(J.next(oe.value),J.closed)return}catch(de){se={error:de}}finally{try{oe&&!oe.done&&(le=Y.return)&&(yield le.call(Y))}finally{if(se)throw se.error}}J.complete()})})(V,J).catch(Y=>J.error(Y))})}},56451:(wt,Se,p)=>{"use strict";p.d(Se,{T:()=>Z});var d=p(8189),v=p(38421),X=p(60515),G=p(63269),z=p(32076);function Z(...D){const k=(0,G.yG)(D),N=(0,G._6)(D,1/0),B=D;return B.length?1===B.length?(0,v.Xf)(B[0]):(0,d.J)(N)((0,z.D)(B,k)):X.E}},39646:(wt,Se,p)=>{"use strict";p.d(Se,{of:()=>X});var d=p(63269),v=p(32076);function X(...G){const z=(0,d.yG)(G);return(0,v.D)(G,z)}},62843:(wt,Se,p)=>{"use strict";p.d(Se,{_:()=>X});var d=p(68306),v=p(30576);function X(G,z){const Z=(0,v.m)(G)?G:()=>G,D=k=>k.error(Z());return new d.y(z?k=>z.schedule(D,0,k):D)}},5963:(wt,Se,p)=>{"use strict";p.d(Se,{H:()=>z});var d=p(68306),v=p(34986),X=p(93532);function z(Z=0,D,k=v.P){let N=-1;return null!=D&&((0,X.K)(D)?k=D:N=D),new d.y(B=>{let Q=function G(Z){return Z instanceof Date&&!isNaN(Z)}(Z)?+Z-k.now():Z;Q<0&&(Q=0);let ne=0;return k.schedule(function(){B.closed||(B.next(ne++),0<=N?this.schedule(void 0,N):B.complete())},Q)})}},25403:(wt,Se,p)=>{"use strict";p.d(Se,{x:()=>v});var d=p(70930);function v(G,z,Z,D,k){return new X(G,z,Z,D,k)}class X extends d.Lv{constructor(z,Z,D,k,N,B){super(z),this.onFinalize=N,this.shouldUnsubscribe=B,this._next=Z?function(Q){try{Z(Q)}catch(ne){z.error(ne)}}:super._next,this._error=k?function(Q){try{k(Q)}catch(ne){z.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=D?function(){try{D()}catch(Q){z.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},70262:(wt,Se,p)=>{"use strict";p.d(Se,{K:()=>G});var d=p(38421),v=p(25403),X=p(54482);function G(z){return(0,X.e)((Z,D)=>{let B,k=null,N=!1;k=Z.subscribe((0,v.x)(D,void 0,void 0,Q=>{B=(0,d.Xf)(z(Q,G(z)(Z))),k?(k.unsubscribe(),k=null,B.subscribe(D)):N=!0})),N&&(k.unsubscribe(),k=null,B.subscribe(D))})}},24351:(wt,Se,p)=>{"use strict";p.d(Se,{b:()=>X});var d=p(95577),v=p(30576);function X(G,z){return(0,v.m)(z)?(0,d.z)(G,z,1):(0,d.z)(G,1)}},71884:(wt,Se,p)=>{"use strict";p.d(Se,{x:()=>G});var d=p(44671),v=p(54482),X=p(25403);function G(Z,D=d.y){return Z=null!=Z?Z:z,(0,v.e)((k,N)=>{let B,Q=!0;k.subscribe((0,X.x)(N,ne=>{const te=D(ne);(Q||!Z(B,te))&&(Q=!1,B=te,N.next(ne))}))})}function z(Z,D){return Z===D}},39300:(wt,Se,p)=>{"use strict";p.d(Se,{h:()=>X});var d=p(54482),v=p(25403);function X(G,z){return(0,d.e)((Z,D)=>{let k=0;Z.subscribe((0,v.x)(D,N=>G.call(z,N,k++)&&D.next(N)))})}},54004:(wt,Se,p)=>{"use strict";p.d(Se,{U:()=>X});var d=p(54482),v=p(25403);function X(G,z){return(0,d.e)((Z,D)=>{let k=0;Z.subscribe((0,v.x)(D,N=>{D.next(G.call(z,N,k++))}))})}},8189:(wt,Se,p)=>{"use strict";p.d(Se,{J:()=>X});var d=p(95577),v=p(44671);function X(G=1/0){return(0,d.z)(v.y,G)}},95577:(wt,Se,p)=>{"use strict";p.d(Se,{z:()=>k});var d=p(54004),v=p(38421),X=p(54482),G=p(39672),z=p(25403),D=p(30576);function k(N,B,Q=1/0){return(0,D.m)(B)?k((ne,te)=>(0,d.U)((ae,re)=>B(ne,ae,te,re))((0,v.Xf)(N(ne,te))),Q):("number"==typeof B&&(Q=B),(0,X.e)((ne,te)=>function Z(N,B,Q,ne,te,ae,re,$){const F=[];let R=0,U=0,A=!1;const V=()=>{A&&!F.length&&!R&&B.complete()},J=oe=>R<ne?Y(oe):F.push(oe),Y=oe=>{ae&&B.next(oe),R++;let se=!1;(0,v.Xf)(Q(oe,U++)).subscribe((0,z.x)(B,le=>{null==te||te(le),ae?J(le):B.next(le)},()=>{se=!0},void 0,()=>{if(se)try{for(R--;F.length&&R<ne;){const le=F.shift();re?(0,G.f)(B,re,()=>Y(le)):Y(le)}V()}catch(le){B.error(le)}}))};return N.subscribe((0,z.x)(B,J,()=>{A=!0,V()})),()=>{null==$||$()}}(ne,te,N,Q)))}},38343:(wt,Se,p)=>{"use strict";p.d(Se,{x:()=>X});var d=p(54482),v=p(25403);function X(){return(0,d.e)((G,z)=>{let Z=null;G._refCount++;const D=(0,v.x)(z,void 0,void 0,void 0,()=>{if(!G||G._refCount<=0||0<--G._refCount)return void(Z=null);const k=G._connection,N=Z;Z=null,k&&(!N||k===N)&&k.unsubscribe(),z.unsubscribe()});G.subscribe(D),D.closed||(Z=G.connect())})}},13099:(wt,Se,p)=>{"use strict";p.d(Se,{B:()=>z});var d=p(38421),v=p(77579),X=p(70930),G=p(54482);function z(D={}){const{connector:k=(()=>new v.x),resetOnError:N=!0,resetOnComplete:B=!0,resetOnRefCountZero:Q=!0}=D;return ne=>{let te,ae,re,$=0,F=!1,R=!1;const U=()=>{null==ae||ae.unsubscribe(),ae=void 0},A=()=>{U(),te=re=void 0,F=R=!1},V=()=>{const J=te;A(),null==J||J.unsubscribe()};return(0,G.e)((J,Y)=>{$++,!R&&!F&&U();const oe=re=null!=re?re:k();Y.add(()=>{$--,0===$&&!R&&!F&&(ae=Z(V,Q))}),oe.subscribe(Y),!te&&$>0&&(te=new X.Hp({next:se=>oe.next(se),error:se=>{R=!0,U(),ae=Z(A,N,se),oe.error(se)},complete:()=>{F=!0,U(),ae=Z(A,B),oe.complete()}}),(0,d.Xf)(J).subscribe(te))})(ne)}}function Z(D,k,...N){if(!0===k)return void D();if(!1===k)return;const B=new X.Hp({next:()=>{B.unsubscribe(),D()}});return k(...N).subscribe(B)}},23151:(wt,Se,p)=>{"use strict";p.d(Se,{d:()=>z});var d=p(77579),v=p(26063);class X extends d.x{constructor(D=1/0,k=1/0,N=v.l){super(),this._bufferSize=D,this._windowTime=k,this._timestampProvider=N,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=k===1/0,this._bufferSize=Math.max(1,D),this._windowTime=Math.max(1,k)}next(D){const{isStopped:k,_buffer:N,_infiniteTimeWindow:B,_timestampProvider:Q,_windowTime:ne}=this;k||(N.push(D),!B&&N.push(Q.now()+ne)),this._trimBuffer(),super.next(D)}_subscribe(D){this._throwIfClosed(),this._trimBuffer();const k=this._innerSubscribe(D),{_infiniteTimeWindow:N,_buffer:B}=this,Q=B.slice();for(let ne=0;ne<Q.length&&!D.closed;ne+=N?1:2)D.next(Q[ne]);return this._checkFinalizedStatuses(D),k}_trimBuffer(){const{_bufferSize:D,_timestampProvider:k,_buffer:N,_infiniteTimeWindow:B}=this,Q=(B?1:2)*D;if(D<1/0&&Q<N.length&&N.splice(0,N.length-Q),!B){const ne=k.now();let te=0;for(let ae=1;ae<N.length&&N[ae]<=ne;ae+=2)te=ae;te&&N.splice(0,te+1)}}}var G=p(13099);function z(Z,D,k){let N,B=!1;return Z&&"object"==typeof Z?({bufferSize:N=1/0,windowTime:D=1/0,refCount:B=!1,scheduler:k}=Z):N=null!=Z?Z:1/0,(0,G.B)({connector:()=>new X(N,D,k),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:B})}},68675:(wt,Se,p)=>{"use strict";p.d(Se,{O:()=>G});var d=p(97272),v=p(63269),X=p(54482);function G(...z){const Z=(0,v.yG)(z);return(0,X.e)((D,k)=>{(Z?(0,d.z)(z,D,Z):(0,d.z)(z,D)).subscribe(k)})}},63900:(wt,Se,p)=>{"use strict";p.d(Se,{w:()=>G});var d=p(38421),v=p(54482),X=p(25403);function G(z,Z){return(0,v.e)((D,k)=>{let N=null,B=0,Q=!1;const ne=()=>Q&&!N&&k.complete();D.subscribe((0,X.x)(k,te=>{null==N||N.unsubscribe();let ae=0;const re=B++;(0,d.Xf)(z(te,re)).subscribe(N=(0,X.x)(k,$=>k.next(Z?Z(te,$,re,ae++):$),()=>{N=null,ne()}))},()=>{Q=!0,ne()}))})}},95698:(wt,Se,p)=>{"use strict";p.d(Se,{q:()=>G});var d=p(60515),v=p(54482),X=p(25403);function G(z){return z<=0?()=>d.E:(0,v.e)((Z,D)=>{let k=0;Z.subscribe((0,X.x)(D,N=>{++k<=z&&(D.next(N),z<=k&&D.complete())}))})}},18505:(wt,Se,p)=>{"use strict";p.d(Se,{b:()=>z});var d=p(30576),v=p(54482),X=p(25403),G=p(44671);function z(Z,D,k){const N=(0,d.m)(Z)||D||k?{next:Z,error:D,complete:k}:Z;return N?(0,v.e)((B,Q)=>{var ne;null===(ne=N.subscribe)||void 0===ne||ne.call(N);let te=!0;B.subscribe((0,X.x)(Q,ae=>{var re;null===(re=N.next)||void 0===re||re.call(N,ae),Q.next(ae)},()=>{var ae;te=!1,null===(ae=N.complete)||void 0===ae||ae.call(N),Q.complete()},ae=>{var re;te=!1,null===(re=N.error)||void 0===re||re.call(N,ae),Q.error(ae)},()=>{var ae,re;te&&(null===(ae=N.unsubscribe)||void 0===ae||ae.call(N)),null===(re=N.finalize)||void 0===re||re.call(N)}))}):G.y}},84408:(wt,Se,p)=>{"use strict";p.d(Se,{o:()=>z});var d=p(50727);class v extends d.w0{constructor(D,k){super()}schedule(D,k=0){return this}}const X={setInterval(Z,D,...k){const{delegate:N}=X;return(null==N?void 0:N.setInterval)?N.setInterval(Z,D,...k):setInterval(Z,D,...k)},clearInterval(Z){const{delegate:D}=X;return((null==D?void 0:D.clearInterval)||clearInterval)(Z)},delegate:void 0};var G=p(38737);class z extends v{constructor(D,k){super(D,k),this.scheduler=D,this.work=k,this.pending=!1}schedule(D,k=0){if(this.closed)return this;this.state=D;const N=this.id,B=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId(B,N,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(B,this.id,k),this}requestAsyncId(D,k,N=0){return X.setInterval(D.flush.bind(D,this),N)}recycleAsyncId(D,k,N=0){if(null!=N&&this.delay===N&&!1===this.pending)return k;X.clearInterval(k)}execute(D,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const N=this._execute(D,k);if(N)return N;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,k){let B,N=!1;try{this.work(D)}catch(Q){N=!0,B=Q||new Error("Scheduled action threw falsy error")}if(N)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:D,scheduler:k}=this,{actions:N}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(N,this),null!=D&&(this.id=this.recycleAsyncId(k,D,null)),this.delay=null,super.unsubscribe()}}}},97565:(wt,Se,p)=>{"use strict";p.d(Se,{v:()=>X});var d=p(26063);class v{constructor(z,Z=v.now){this.schedulerActionCtor=z,this.now=Z}schedule(z,Z=0,D){return new this.schedulerActionCtor(this,z).schedule(D,Z)}}v.now=d.l.now;class X extends v{constructor(z,Z=v.now){super(z,Z),this.actions=[],this._active=!1,this._scheduled=void 0}flush(z){const{actions:Z}=this;if(this._active)return void Z.push(z);let D;this._active=!0;do{if(D=z.execute(z.state,z.delay))break}while(z=Z.shift());if(this._active=!1,D){for(;z=Z.shift();)z.unsubscribe();throw D}}}},34986:(wt,Se,p)=>{"use strict";p.d(Se,{P:()=>G,z:()=>X});var d=p(84408);const X=new(p(97565).v)(d.o),G=X},26063:(wt,Se,p)=>{"use strict";p.d(Se,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},43410:(wt,Se,p)=>{"use strict";p.d(Se,{z:()=>d});const d={setTimeout(v,X,...G){const{delegate:z}=d;return(null==z?void 0:z.setTimeout)?z.setTimeout(v,X,...G):setTimeout(v,X,...G)},clearTimeout(v){const{delegate:X}=d;return((null==X?void 0:X.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(wt,Se,p)=>{"use strict";p.d(Se,{h:()=>v});const v=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},48822:(wt,Se,p)=>{"use strict";p.d(Se,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},63269:(wt,Se,p)=>{"use strict";p.d(Se,{_6:()=>Z,jO:()=>G,yG:()=>z});var d=p(30576),v=p(93532);function X(D){return D[D.length-1]}function G(D){return(0,d.m)(X(D))?D.pop():void 0}function z(D){return(0,v.K)(X(D))?D.pop():void 0}function Z(D,k){return"number"==typeof X(D)?D.pop():k}},54742:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>z});const{isArray:d}=Array,{getPrototypeOf:v,prototype:X,keys:G}=Object;function z(D){if(1===D.length){const k=D[0];if(d(k))return{args:k,keys:null};if(function Z(D){return D&&"object"==typeof D&&v(D)===X}(k)){const N=G(k);return{args:N.map(B=>k[B]),keys:N}}}return{args:D,keys:null}}},38737:(wt,Se,p)=>{"use strict";function d(v,X){if(v){const G=v.indexOf(X);0<=G&&v.splice(G,1)}}p.d(Se,{P:()=>d})},83888:(wt,Se,p)=>{"use strict";function d(v){const G=v(z=>{Error.call(z),z.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}p.d(Se,{d:()=>d})},31810:(wt,Se,p)=>{"use strict";function d(v,X){return v.reduce((G,z,Z)=>(G[z]=X[Z],G),{})}p.d(Se,{n:()=>d})},72806:(wt,Se,p)=>{"use strict";p.d(Se,{O:()=>G,x:()=>X});var d=p(42416);let v=null;function X(z){if(d.v.useDeprecatedSynchronousErrorHandling){const Z=!v;if(Z&&(v={errorThrown:!1,error:null}),z(),Z){const{errorThrown:D,error:k}=v;if(v=null,D)throw k}}else z()}function G(z){d.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=z)}},39672:(wt,Se,p)=>{"use strict";function d(v,X,G,z=0,Z=!1){const D=X.schedule(function(){G(),Z?v.add(this.schedule(null,z)):this.unsubscribe()},z);if(v.add(D),!Z)return D}p.d(Se,{f:()=>d})},44671:(wt,Se,p)=>{"use strict";function d(v){return v}p.d(Se,{y:()=>d})},81144:(wt,Se,p)=>{"use strict";p.d(Se,{z:()=>d});const d=v=>v&&"number"==typeof v.length&&"function"!=typeof v},12206:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>v});var d=p(30576);function v(X){return Symbol.asyncIterator&&(0,d.m)(null==X?void 0:X[Symbol.asyncIterator])}},30576:(wt,Se,p)=>{"use strict";function d(v){return"function"==typeof v}p.d(Se,{m:()=>d})},93670:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>X});var d=p(48822),v=p(30576);function X(G){return(0,v.m)(G[d.L])}},26495:(wt,Se,p)=>{"use strict";p.d(Se,{T:()=>X});var d=p(2202),v=p(30576);function X(G){return(0,v.m)(null==G?void 0:G[d.h])}},45191:(wt,Se,p)=>{"use strict";p.d(Se,{b:()=>X});var d=p(68306),v=p(30576);function X(G){return!!G&&(G instanceof d.y||(0,v.m)(G.lift)&&(0,v.m)(G.subscribe))}},28239:(wt,Se,p)=>{"use strict";p.d(Se,{t:()=>v});var d=p(30576);function v(X){return(0,d.m)(null==X?void 0:X.then)}},53260:(wt,Se,p)=>{"use strict";p.d(Se,{L:()=>G,Q:()=>X});var d=p(70655),v=p(30576);function X(z){return(0,d.FC)(this,arguments,function*(){const D=z.getReader();try{for(;;){const{value:k,done:N}=yield(0,d.qq)(D.read());if(N)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(k)}}finally{D.releaseLock()}})}function G(z){return(0,v.m)(null==z?void 0:z.getReader)}},93532:(wt,Se,p)=>{"use strict";p.d(Se,{K:()=>v});var d=p(30576);function v(X){return X&&(0,d.m)(X.schedule)}},54482:(wt,Se,p)=>{"use strict";p.d(Se,{A:()=>v,e:()=>X});var d=p(30576);function v(G){return(0,d.m)(null==G?void 0:G.lift)}function X(G){return z=>{if(v(z))return z.lift(function(Z){try{return G(Z,this)}catch(D){this.error(D)}});throw new TypeError("Unable to lift unknown Observable type")}}},83268:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>G});var d=p(54004);const{isArray:v}=Array;function G(z){return(0,d.U)(Z=>function X(z,Z){return v(Z)?z(...Z):z(Z)}(z,Z))}},25032:(wt,Se,p)=>{"use strict";function d(){}p.d(Se,{Z:()=>d})},87849:(wt,Se,p)=>{"use strict";p.d(Se,{h:()=>X});var d=p(42416),v=p(43410);function X(G){v.z.setTimeout(()=>{const{onUnhandledError:z}=d.v;if(!z)throw G;z(G)})}},44532:(wt,Se,p)=>{"use strict";function d(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(Se,{z:()=>d})},51452:wt=>{wt.exports=function(Se){"use strict";var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function X($,F){var R=$[0],U=$[1],A=$[2],V=$[3];U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&A|~U&V)+F[0]-680876936|0)<<7|R>>>25)+U|0)&U|~R&A)+F[1]-389564586|0)<<12|V>>>20)+R|0)&R|~V&U)+F[2]+606105819|0)<<17|A>>>15)+V|0)&V|~A&R)+F[3]-1044525330|0)<<22|U>>>10)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&A|~U&V)+F[4]-176418897|0)<<7|R>>>25)+U|0)&U|~R&A)+F[5]+1200080426|0)<<12|V>>>20)+R|0)&R|~V&U)+F[6]-1473231341|0)<<17|A>>>15)+V|0)&V|~A&R)+F[7]-45705983|0)<<22|U>>>10)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&A|~U&V)+F[8]+1770035416|0)<<7|R>>>25)+U|0)&U|~R&A)+F[9]-1958414417|0)<<12|V>>>20)+R|0)&R|~V&U)+F[10]-42063|0)<<17|A>>>15)+V|0)&V|~A&R)+F[11]-1990404162|0)<<22|U>>>10)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&A|~U&V)+F[12]+1804603682|0)<<7|R>>>25)+U|0)&U|~R&A)+F[13]-40341101|0)<<12|V>>>20)+R|0)&R|~V&U)+F[14]-1502002290|0)<<17|A>>>15)+V|0)&V|~A&R)+F[15]+1236535329|0)<<22|U>>>10)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&V|A&~V)+F[1]-165796510|0)<<5|R>>>27)+U|0)&A|U&~A)+F[6]-1069501632|0)<<9|V>>>23)+R|0)&U|R&~U)+F[11]+643717713|0)<<14|A>>>18)+V|0)&R|V&~R)+F[0]-373897302|0)<<20|U>>>12)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&V|A&~V)+F[5]-701558691|0)<<5|R>>>27)+U|0)&A|U&~A)+F[10]+38016083|0)<<9|V>>>23)+R|0)&U|R&~U)+F[15]-660478335|0)<<14|A>>>18)+V|0)&R|V&~R)+F[4]-405537848|0)<<20|U>>>12)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&V|A&~V)+F[9]+568446438|0)<<5|R>>>27)+U|0)&A|U&~A)+F[14]-1019803690|0)<<9|V>>>23)+R|0)&U|R&~U)+F[3]-187363961|0)<<14|A>>>18)+V|0)&R|V&~R)+F[8]+1163531501|0)<<20|U>>>12)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U&V|A&~V)+F[13]-1444681467|0)<<5|R>>>27)+U|0)&A|U&~A)+F[2]-51403784|0)<<9|V>>>23)+R|0)&U|R&~U)+F[7]+1735328473|0)<<14|A>>>18)+V|0)&R|V&~R)+F[12]-1926607734|0)<<20|U>>>12)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U^A^V)+F[5]-378558|0)<<4|R>>>28)+U|0)^U^A)+F[8]-2022574463|0)<<11|V>>>21)+R|0)^R^U)+F[11]+1839030562|0)<<16|A>>>16)+V|0)^V^R)+F[14]-35309556|0)<<23|U>>>9)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U^A^V)+F[1]-1530992060|0)<<4|R>>>28)+U|0)^U^A)+F[4]+1272893353|0)<<11|V>>>21)+R|0)^R^U)+F[7]-155497632|0)<<16|A>>>16)+V|0)^V^R)+F[10]-1094730640|0)<<23|U>>>9)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U^A^V)+F[13]+681279174|0)<<4|R>>>28)+U|0)^U^A)+F[0]-358537222|0)<<11|V>>>21)+R|0)^R^U)+F[3]-722521979|0)<<16|A>>>16)+V|0)^V^R)+F[6]+76029189|0)<<23|U>>>9)+A|0,U=((U+=((A=((A+=((V=((V+=((R=((R+=(U^A^V)+F[9]-640364487|0)<<4|R>>>28)+U|0)^U^A)+F[12]-421815835|0)<<11|V>>>21)+R|0)^R^U)+F[15]+530742520|0)<<16|A>>>16)+V|0)^V^R)+F[2]-995338651|0)<<23|U>>>9)+A|0,U=((U+=((V=((V+=(U^((R=((R+=(A^(U|~V))+F[0]-198630844|0)<<6|R>>>26)+U|0)|~A))+F[7]+1126891415|0)<<10|V>>>22)+R|0)^((A=((A+=(R^(V|~U))+F[14]-1416354905|0)<<15|A>>>17)+V|0)|~R))+F[5]-57434055|0)<<21|U>>>11)+A|0,U=((U+=((V=((V+=(U^((R=((R+=(A^(U|~V))+F[12]+1700485571|0)<<6|R>>>26)+U|0)|~A))+F[3]-1894986606|0)<<10|V>>>22)+R|0)^((A=((A+=(R^(V|~U))+F[10]-1051523|0)<<15|A>>>17)+V|0)|~R))+F[1]-2054922799|0)<<21|U>>>11)+A|0,U=((U+=((V=((V+=(U^((R=((R+=(A^(U|~V))+F[8]+1873313359|0)<<6|R>>>26)+U|0)|~A))+F[15]-30611744|0)<<10|V>>>22)+R|0)^((A=((A+=(R^(V|~U))+F[6]-1560198380|0)<<15|A>>>17)+V|0)|~R))+F[13]+1309151649|0)<<21|U>>>11)+A|0,U=((U+=((V=((V+=(U^((R=((R+=(A^(U|~V))+F[4]-145523070|0)<<6|R>>>26)+U|0)|~A))+F[11]-1120210379|0)<<10|V>>>22)+R|0)^((A=((A+=(R^(V|~U))+F[2]+718787259|0)<<15|A>>>17)+V|0)|~R))+F[9]-343485551|0)<<21|U>>>11)+A|0,$[0]=R+$[0]|0,$[1]=U+$[1]|0,$[2]=A+$[2]|0,$[3]=V+$[3]|0}function G($){var R,F=[];for(R=0;R<64;R+=4)F[R>>2]=$.charCodeAt(R)+($.charCodeAt(R+1)<<8)+($.charCodeAt(R+2)<<16)+($.charCodeAt(R+3)<<24);return F}function z($){var R,F=[];for(R=0;R<64;R+=4)F[R>>2]=$[R]+($[R+1]<<8)+($[R+2]<<16)+($[R+3]<<24);return F}function Z($){var U,A,V,J,Y,oe,F=$.length,R=[1732584193,-271733879,-1732584194,271733878];for(U=64;U<=F;U+=64)X(R,G($.substring(U-64,U)));for(A=($=$.substring(U-64)).length,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<A;U+=1)V[U>>2]|=$.charCodeAt(U)<<(U%4<<3);if(V[U>>2]|=128<<(U%4<<3),U>55)for(X(R,V),U=0;U<16;U+=1)V[U]=0;return J=(J=8*F).toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(J[2],16),oe=parseInt(J[1],16)||0,V[14]=Y,V[15]=oe,X(R,V),R}function k($){var R,F="";for(R=0;R<4;R+=1)F+=d[$>>8*R+4&15]+d[$>>8*R&15];return F}function N($){var F;for(F=0;F<$.length;F+=1)$[F]=k($[F]);return $.join("")}function B($){return/[\u0080-\uFFFF]/.test($)&&($=unescape(encodeURIComponent($))),$}function ae($){var U,F=[],R=$.length;for(U=0;U<R-1;U+=2)F.push(parseInt($.substr(U,2),16));return String.fromCharCode.apply(String,F)}function re(){this.reset()}return N(Z("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function $(F,R){return(F=0|F||0)<0?Math.max(F+R,0):Math.min(F,R)}ArrayBuffer.prototype.slice=function(F,R){var J,Y,oe,se,U=this.byteLength,A=$(F,U),V=U;return undefined!==R&&(V=$(R,U)),A>V?new ArrayBuffer(0):(J=V-A,Y=new ArrayBuffer(J),oe=new Uint8Array(Y),se=new Uint8Array(this,A,J),oe.set(se),Y)}}(),re.prototype.append=function($){return this.appendBinary(B($)),this},re.prototype.appendBinary=function($){this._buff+=$,this._length+=$.length;var R,F=this._buff.length;for(R=64;R<=F;R+=64)X(this._hash,G(this._buff.substring(R-64,R)));return this._buff=this._buff.substring(R-64),this},re.prototype.end=function($){var U,V,F=this._buff,R=F.length,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(U=0;U<R;U+=1)A[U>>2]|=F.charCodeAt(U)<<(U%4<<3);return this._finish(A,R),V=N(this._hash),$&&(V=ae(V)),this.reset(),V},re.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},re.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},re.prototype.setState=function($){return this._buff=$.buff,this._length=$.length,this._hash=$.hash,this},re.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},re.prototype._finish=function($,F){var U,A,V,R=F;if($[R>>2]|=128<<(R%4<<3),R>55)for(X(this._hash,$),R=0;R<16;R+=1)$[R]=0;U=(U=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(U[2],16),V=parseInt(U[1],16)||0,$[14]=A,$[15]=V,X(this._hash,$)},re.hash=function($,F){return re.hashBinary(B($),F)},re.hashBinary=function($,F){var U=N(Z($));return F?ae(U):U},(re.ArrayBuffer=function(){this.reset()}).prototype.append=function($){var U,F=function te($,F,R){var U=new Uint8Array($.byteLength+F.byteLength);return U.set(new Uint8Array($)),U.set(new Uint8Array(F),$.byteLength),R?U:U.buffer}(this._buff.buffer,$,!0),R=F.length;for(this._length+=$.byteLength,U=64;U<=R;U+=64)X(this._hash,z(F.subarray(U-64,U)));return this._buff=U-64<R?new Uint8Array(F.buffer.slice(U-64)):new Uint8Array(0),this},re.ArrayBuffer.prototype.end=function($){var A,V,F=this._buff,R=F.length,U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(A=0;A<R;A+=1)U[A>>2]|=F[A]<<(A%4<<3);return this._finish(U,R),V=N(this._hash),$&&(V=ae(V)),this.reset(),V},re.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},re.ArrayBuffer.prototype.getState=function(){var $=re.prototype.getState.call(this);return $.buff=function ne($){return String.fromCharCode.apply(null,new Uint8Array($))}($.buff),$},re.ArrayBuffer.prototype.setState=function($){return $.buff=function Q($,F){var V,R=$.length,U=new ArrayBuffer(R),A=new Uint8Array(U);for(V=0;V<R;V+=1)A[V]=$.charCodeAt(V);return F?A:U}($.buff,!0),re.prototype.setState.call(this,$)},re.ArrayBuffer.prototype.destroy=re.prototype.destroy,re.ArrayBuffer.prototype._finish=re.prototype._finish,re.ArrayBuffer.hash=function($,F){var U=N(function D($){var U,A,V,J,Y,oe,F=$.length,R=[1732584193,-271733879,-1732584194,271733878];for(U=64;U<=F;U+=64)X(R,z($.subarray(U-64,U)));for(A=($=U-64<F?$.subarray(U-64):new Uint8Array(0)).length,V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<A;U+=1)V[U>>2]|=$[U]<<(U%4<<3);if(V[U>>2]|=128<<(U%4<<3),U>55)for(X(R,V),U=0;U<16;U+=1)V[U]=0;return J=(J=8*F).toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(J[2],16),oe=parseInt(J[1],16)||0,V[14]=Y,V[15]=oe,X(R,V),R}(new Uint8Array($)));return F?ae(U):U},re}()},35226:function(wt){wt.exports=function(){"use strict";const Se="SweetAlert2:",d=it=>it.charAt(0).toUpperCase()+it.slice(1),v=it=>{console.warn("".concat(Se," ").concat("object"==typeof it?it.join(" "):it))},X=it=>{console.error("".concat(Se," ").concat(it))},G=[],Z=(it,lt)=>{(it=>{G.includes(it)||(G.push(it),v(it))})('"'.concat(it,'" is deprecated and will be removed in the next major release. Please use "').concat(lt,'" instead.'))},D=it=>"function"==typeof it?it():it,k=it=>it&&"function"==typeof it.toPromise,N=it=>k(it)?it.toPromise():Promise.resolve(it),B=it=>it&&Promise.resolve(it)===it,ne={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},te=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ae={},re=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$=it=>Object.prototype.hasOwnProperty.call(ne,it),F=it=>-1!==te.indexOf(it),R=it=>ae[it],U=it=>{$(it)||v('Unknown parameter "'.concat(it,'"'))},A=it=>{re.includes(it)&&v('The parameter "'.concat(it,'" is incompatible with toasts'))},V=it=>{R(it)&&Z(it,R(it))},oe=it=>{const lt={};for(const jt in it)lt[it[jt]]="swal2-"+it[jt];return lt},se=oe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),le=oe(["success","warning","info","question","error"]),de=()=>document.body.querySelector(".".concat(se.container)),q=it=>{const lt=de();return lt?lt.querySelector(it):null},ue=it=>q(".".concat(it)),ie=()=>ue(se.popup),ye=()=>ue(se.icon),pe=()=>ue(se.title),Ce=()=>ue(se["html-container"]),De=()=>ue(se.image),Me=()=>ue(se["progress-steps"]),ve=()=>ue(se["validation-message"]),Le=()=>q(".".concat(se.actions," .").concat(se.confirm)),je=()=>q(".".concat(se.actions," .").concat(se.deny)),Re=()=>q(".".concat(se.loader)),nt=()=>q(".".concat(se.actions," .").concat(se.cancel)),pt=()=>ue(se.actions),Ne=()=>ue(se.footer),xe=()=>ue(se["timer-progress-bar"]),Ye=()=>ue(se.close),Fe=()=>{const it=Array.from(ie().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((jt,Tn)=>{const Sr=parseInt(jt.getAttribute("tabindex")),xi=parseInt(Tn.getAttribute("tabindex"));return Sr>xi?1:Sr<xi?-1:0}),lt=Array.from(ie().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(jt=>"-1"!==jt.getAttribute("tabindex"));return(it=>{const lt=[];for(let jt=0;jt<it.length;jt++)-1===lt.indexOf(it[jt])&&lt.push(it[jt]);return lt})(it.concat(lt)).filter(jt=>Dn(jt))},Ze=()=>$e(document.body,se.shown)&&!$e(document.body,se["toast-shown"])&&!$e(document.body,se["no-backdrop"]),ct=()=>ie()&&$e(ie(),se.toast),Be={previousBodyPadding:null},Je=(it,lt)=>{if(it.textContent="",lt){const Tn=(new DOMParser).parseFromString(lt,"text/html");Array.from(Tn.querySelector("head").childNodes).forEach(Sr=>{it.appendChild(Sr)}),Array.from(Tn.querySelector("body").childNodes).forEach(Sr=>{it.appendChild(Sr)})}},$e=(it,lt)=>{if(!lt)return!1;const jt=lt.split(/\s+/);for(let Tn=0;Tn<jt.length;Tn++)if(!it.classList.contains(jt[Tn]))return!1;return!0},mt=(it,lt,jt)=>{if(((it,lt)=>{Array.from(it.classList).forEach(jt=>{!Object.values(se).includes(jt)&&!Object.values(le).includes(jt)&&!Object.values(lt.showClass).includes(jt)&&it.classList.remove(jt)})})(it,lt),lt.customClass&&lt.customClass[jt]){if("string"!=typeof lt.customClass[jt]&&!lt.customClass[jt].forEach)return v("Invalid type of customClass.".concat(jt,'! Expected string or iterable object, got "').concat(typeof lt.customClass[jt],'"'));Rt(it,lt.customClass[jt])}},Tt=(it,lt)=>{if(!lt)return null;switch(lt){case"select":case"textarea":case"file":return it.querySelector(".".concat(se.popup," > .").concat(se[lt]));case"checkbox":return it.querySelector(".".concat(se.popup," > .").concat(se.checkbox," input"));case"radio":return it.querySelector(".".concat(se.popup," > .").concat(se.radio," input:checked"))||it.querySelector(".".concat(se.popup," > .").concat(se.radio," input:first-child"));case"range":return it.querySelector(".".concat(se.popup," > .").concat(se.range," input"));default:return it.querySelector(".".concat(se.popup," > .").concat(se.input))}},It=it=>{if(it.focus(),"file"!==it.type){const lt=it.value;it.value="",it.value=lt}},Nt=(it,lt,jt)=>{!it||!lt||("string"==typeof lt&&(lt=lt.split(/\s+/).filter(Boolean)),lt.forEach(Tn=>{Array.isArray(it)?it.forEach(Sr=>{jt?Sr.classList.add(Tn):Sr.classList.remove(Tn)}):jt?it.classList.add(Tn):it.classList.remove(Tn)}))},Rt=(it,lt)=>{Nt(it,lt,!0)},Xe=(it,lt)=>{Nt(it,lt,!1)},vt=(it,lt)=>{const jt=Array.from(it.children);for(let Tn=0;Tn<jt.length;Tn++){const Sr=jt[Tn];if(Sr instanceof HTMLElement&&$e(Sr,lt))return Sr}},Zt=(it,lt,jt)=>{jt==="".concat(parseInt(jt))&&(jt=parseInt(jt)),jt||0===parseInt(jt)?it.style[lt]="number"==typeof jt?"".concat(jt,"px"):jt:it.style.removeProperty(lt)},xt=function(it){it.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Lt=it=>{it.style.display="none"},en=(it,lt,jt,Tn)=>{const Sr=it.querySelector(lt);Sr&&(Sr.style[jt]=Tn)},En=function(it,lt){lt?xt(it,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Lt(it)},Dn=it=>!(!it||!(it.offsetWidth||it.offsetHeight||it.getClientRects().length)),pr=it=>it.scrollHeight>it.clientHeight,Tr=it=>{const lt=window.getComputedStyle(it),jt=parseFloat(lt.getPropertyValue("animation-duration")||"0"),Tn=parseFloat(lt.getPropertyValue("transition-duration")||"0");return jt>0||Tn>0},vr=function(it){let lt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const jt=xe();Dn(jt)&&(lt&&(jt.style.transition="none",jt.style.width="100%"),setTimeout(()=>{jt.style.transition="width ".concat(it/1e3,"s linear"),jt.style.width="0%"},10))},zt=()=>"undefined"==typeof window||"undefined"==typeof document,pn={},Wn=it=>new Promise(lt=>{if(!it)return lt();const jt=window.scrollX,Tn=window.scrollY;pn.restoreFocusTimeout=setTimeout(()=>{pn.previousActiveElement instanceof HTMLElement?(pn.previousActiveElement.focus(),pn.previousActiveElement=null):document.body&&document.body.focus(),lt()},100),window.scrollTo(jt,Tn)}),jn='\n <div aria-labelledby="'.concat(se.title,'" aria-describedby="').concat(se["html-container"],'" class="').concat(se.popup,'" tabindex="-1">\n   <button type="button" class="').concat(se.close,'"></button>\n   <ul class="').concat(se["progress-steps"],'"></ul>\n   <div class="').concat(se.icon,'"></div>\n   <img class="').concat(se.image,'" />\n   <h2 class="').concat(se.title,'" id="').concat(se.title,'"></h2>\n   <div class="').concat(se["html-container"],'" id="').concat(se["html-container"],'"></div>\n   <input class="').concat(se.input,'" />\n   <input type="file" class="').concat(se.file,'" />\n   <div class="').concat(se.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(se.select,'"></select>\n   <div class="').concat(se.radio,'"></div>\n   <label for="').concat(se.checkbox,'" class="').concat(se.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(se.label,'"></span>\n   </label>\n   <textarea class="').concat(se.textarea,'"></textarea>\n   <div class="').concat(se["validation-message"],'" id="').concat(se["validation-message"],'"></div>\n   <div class="').concat(se.actions,'">\n     <div class="').concat(se.loader,'"></div>\n     <button type="button" class="').concat(se.confirm,'"></button>\n     <button type="button" class="').concat(se.deny,'"></button>\n     <button type="button" class="').concat(se.cancel,'"></button>\n   </div>\n   <div class="').concat(se.footer,'"></div>\n   <div class="').concat(se["timer-progress-bar-container"],'">\n     <div class="').concat(se["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ht=()=>{pn.currentInstance.resetValidationMessage()},an=it=>{const lt=(()=>{const it=de();return!!it&&(it.remove(),Xe([document.documentElement,document.body],[se["no-backdrop"],se["toast-shown"],se["has-column"]]),!0)})();if(zt())return void X("SweetAlert2 requires document to initialize");const jt=document.createElement("div");jt.className=se.container,lt&&Rt(jt,se["no-transition"]),Je(jt,jn);const Tn=(it=>"string"==typeof it?document.querySelector(it):it)(it.target);Tn.appendChild(jt),(it=>{const lt=ie();lt.setAttribute("role",it.toast?"alert":"dialog"),lt.setAttribute("aria-live",it.toast?"polite":"assertive"),it.toast||lt.setAttribute("aria-modal","true")})(it),(it=>{"rtl"===window.getComputedStyle(it).direction&&Rt(de(),se.rtl)})(Tn),(()=>{const it=ie(),lt=vt(it,se.input),jt=vt(it,se.file),Tn=it.querySelector(".".concat(se.range," input")),Sr=it.querySelector(".".concat(se.range," output")),xi=vt(it,se.select),js=it.querySelector(".".concat(se.checkbox," input")),Yo=vt(it,se.textarea);lt.oninput=Ht,jt.onchange=Ht,xi.onchange=Ht,js.onchange=Ht,Yo.oninput=Ht,Tn.oninput=()=>{Ht(),Sr.value=Tn.value},Tn.onchange=()=>{Ht(),Sr.value=Tn.value}})()},Mn=(it,lt)=>{it instanceof HTMLElement?lt.appendChild(it):"object"==typeof it?Hn(it,lt):it&&Je(lt,it)},Hn=(it,lt)=>{it.jquery?Mt(lt,it):Je(lt,it.toString())},Mt=(it,lt)=>{if(it.textContent="",0 in lt)for(let jt=0;jt in lt;jt++)it.appendChild(lt[jt].cloneNode(!0));else it.appendChild(lt.cloneNode(!0))},Bt=(()=>{if(zt())return!1;const it=document.createElement("div"),lt={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const jt in lt)if(Object.prototype.hasOwnProperty.call(lt,jt)&&void 0!==it.style[jt])return lt[jt];return!1})(),Ut=(it,lt)=>{const jt=pt(),Tn=Re();lt.showConfirmButton||lt.showDenyButton||lt.showCancelButton?xt(jt):Lt(jt),mt(jt,lt,"actions"),function Cn(it,lt,jt){const Tn=Le(),Sr=je(),xi=nt();er(Tn,"confirm",jt),er(Sr,"deny",jt),er(xi,"cancel",jt),function Bn(it,lt,jt,Tn){if(!Tn.buttonsStyling)return Xe([it,lt,jt],se.styled);Rt([it,lt,jt],se.styled),Tn.confirmButtonColor&&(it.style.backgroundColor=Tn.confirmButtonColor,Rt(it,se["default-outline"])),Tn.denyButtonColor&&(lt.style.backgroundColor=Tn.denyButtonColor,Rt(lt,se["default-outline"])),Tn.cancelButtonColor&&(jt.style.backgroundColor=Tn.cancelButtonColor,Rt(jt,se["default-outline"]))}(Tn,Sr,xi,jt),jt.reverseButtons&&(jt.toast?(it.insertBefore(xi,Tn),it.insertBefore(Sr,Tn)):(it.insertBefore(xi,lt),it.insertBefore(Sr,lt),it.insertBefore(Tn,lt)))}(jt,Tn,lt),Je(Tn,lt.loaderHtml),mt(Tn,lt,"loader")};function er(it,lt,jt){En(it,jt["show".concat(d(lt),"Button")],"inline-block"),Je(it,jt["".concat(lt,"ButtonText")]),it.setAttribute("aria-label",jt["".concat(lt,"ButtonAriaLabel")]),it.className=se[lt],mt(it,jt,"".concat(lt,"Button")),Rt(it,jt["".concat(lt,"ButtonClass")])}const or=(it,lt)=>{const jt=de();!jt||(function Hr(it,lt){"string"==typeof lt?it.style.background=lt:lt||Rt([document.documentElement,document.body],se["no-backdrop"])}(jt,lt.backdrop),function wi(it,lt){lt in se?Rt(it,se[lt]):(v('The "position" parameter is not valid, defaulting to "center"'),Rt(it,se.center))}(jt,lt.position),function Ei(it,lt){if(lt&&"string"==typeof lt){const jt="grow-".concat(lt);jt in se&&Rt(it,se[jt])}}(jt,lt.grow),mt(jt,lt,"container"))};var kr={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Fi=["input","file","range","select","radio","checkbox","textarea"],Zr=it=>{if(!Bi[it.input])return X('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(it.input,'"'));const lt=Hs(it.input),jt=Bi[it.input](lt,it);xt(lt),setTimeout(()=>{It(jt)})},Ui=(it,lt)=>{const jt=Tt(ie(),it);if(jt){(it=>{for(let lt=0;lt<it.attributes.length;lt++){const jt=it.attributes[lt].name;["type","value","style"].includes(jt)||it.removeAttribute(jt)}})(jt);for(const Tn in lt)jt.setAttribute(Tn,lt[Tn])}},hr=it=>{const lt=Hs(it.input);"object"==typeof it.customClass&&Rt(lt,it.customClass.input)},Ii=(it,lt)=>{(!it.placeholder||lt.inputPlaceholder)&&(it.placeholder=lt.inputPlaceholder)},Hi=(it,lt,jt)=>{if(jt.inputLabel){it.id=se.input;const Tn=document.createElement("label"),Sr=se["input-label"];Tn.setAttribute("for",it.id),Tn.className=Sr,"object"==typeof jt.customClass&&Rt(Tn,jt.customClass.inputLabel),Tn.innerText=jt.inputLabel,lt.insertAdjacentElement("beforebegin",Tn)}},Hs=it=>vt(ie(),se[it]||se.input),gi=(it,lt)=>{["string","number"].includes(typeof lt)?it.value="".concat(lt):B(lt)||v('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof lt,'"'))},Bi={};Bi.text=Bi.email=Bi.password=Bi.number=Bi.tel=Bi.url=(it,lt)=>(gi(it,lt.inputValue),Hi(it,it,lt),Ii(it,lt),it.type=lt.input,it),Bi.file=(it,lt)=>(Hi(it,it,lt),Ii(it,lt),it),Bi.range=(it,lt)=>{const jt=it.querySelector("input"),Tn=it.querySelector("output");return gi(jt,lt.inputValue),jt.type=lt.input,gi(Tn,lt.inputValue),Hi(jt,it,lt),it},Bi.select=(it,lt)=>{if(it.textContent="",lt.inputPlaceholder){const jt=document.createElement("option");Je(jt,lt.inputPlaceholder),jt.value="",jt.disabled=!0,jt.selected=!0,it.appendChild(jt)}return Hi(it,it,lt),it},Bi.radio=it=>(it.textContent="",it),Bi.checkbox=(it,lt)=>{const jt=Tt(ie(),"checkbox");jt.value="1",jt.id=se.checkbox,jt.checked=Boolean(lt.inputValue);const Tn=it.querySelector("span");return Je(Tn,lt.inputPlaceholder),jt},Bi.textarea=(it,lt)=>{gi(it,lt.inputValue),Ii(it,lt),Hi(it,it,lt);return setTimeout(()=>{if("MutationObserver"in window){const Tn=parseInt(window.getComputedStyle(ie()).width);new MutationObserver(()=>{const xi=it.offsetWidth+(Tn=>parseInt(window.getComputedStyle(Tn).marginLeft)+parseInt(window.getComputedStyle(Tn).marginRight))(it);ie().style.width=xi>Tn?"".concat(xi,"px"):null}).observe(it,{attributes:!0,attributeFilter:["style"]})}}),it};const Ts=(it,lt)=>{const jt=Ce();mt(jt,lt,"htmlContainer"),lt.html?(Mn(lt.html,jt),xt(jt,"block")):lt.text?(jt.textContent=lt.text,xt(jt,"block")):Lt(jt),((it,lt)=>{const jt=ie(),Tn=kr.innerParams.get(it),Sr=!Tn||lt.input!==Tn.input;Fi.forEach(xi=>{const js=vt(jt,se[xi]);Ui(xi,lt.inputAttributes),js.className=se[xi],Sr&&Lt(js)}),lt.input&&(Sr&&Zr(lt),hr(lt))})(it,lt)},Zn=(it,lt)=>{for(const jt in le)lt.icon!==jt&&Xe(it,le[jt]);Rt(it,le[lt.icon]),Yr(it,lt),Pn(),mt(it,lt,"icon")},Pn=()=>{const it=ie(),lt=window.getComputedStyle(it).getPropertyValue("background-color"),jt=it.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Tn=0;Tn<jt.length;Tn++)jt[Tn].style.backgroundColor=lt},ni=(it,lt)=>{let Tn,jt=it.innerHTML;lt.iconHtml?Tn=Lr(lt.iconHtml):"success"===lt.icon?(Tn='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',jt=jt.replace(/ style=".*?"/g,"")):Tn="error"===lt.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Lr({question:"?",warning:"!",info:"i"}[lt.icon]),jt.trim()!==Tn.trim()&&Je(it,Tn)},Yr=(it,lt)=>{if(lt.iconColor){it.style.color=lt.iconColor,it.style.borderColor=lt.iconColor;for(const jt of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])en(it,jt,"backgroundColor",lt.iconColor);en(it,".swal2-success-ring","borderColor",lt.iconColor)}},Lr=it=>'<div class="'.concat(se["icon-content"],'">').concat(it,"</div>"),yi=it=>{const lt=document.createElement("li");return Rt(lt,se["progress-step"]),Je(lt,it),lt},Un=it=>{const lt=document.createElement("li");return Rt(lt,se["progress-step-line"]),it.progressStepsDistance&&Zt(lt,"width",it.progressStepsDistance),lt},rn=(it,lt)=>{it.className="".concat(se.popup," ").concat(Dn(it)?lt.showClass.popup:""),lt.toast?(Rt([document.documentElement,document.body],se["toast-shown"]),Rt(it,se.toast)):Rt(it,se.modal),mt(it,lt,"popup"),"string"==typeof lt.customClass&&Rt(it,lt.customClass),lt.icon&&Rt(it,se["icon-".concat(lt.icon)])},gn=(it,lt)=>{((it,lt)=>{const jt=de(),Tn=ie();lt.toast?(Zt(jt,"width",lt.width),Tn.style.width="100%",Tn.insertBefore(Re(),ye())):Zt(Tn,"width",lt.width),Zt(Tn,"padding",lt.padding),lt.color&&(Tn.style.color=lt.color),lt.background&&(Tn.style.background=lt.background),Lt(ve()),rn(Tn,lt)})(0,lt),or(0,lt),((it,lt)=>{const jt=Me();if(!lt.progressSteps||0===lt.progressSteps.length)return Lt(jt);xt(jt),jt.textContent="",lt.currentProgressStep>=lt.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),lt.progressSteps.forEach((Tn,Sr)=>{const xi=yi(Tn);if(jt.appendChild(xi),Sr===lt.currentProgressStep&&Rt(xi,se["active-progress-step"]),Sr!==lt.progressSteps.length-1){const js=Un(lt);jt.appendChild(js)}})})(0,lt),((it,lt)=>{const jt=kr.innerParams.get(it),Tn=ye();jt&&lt.icon===jt.icon?(ni(Tn,lt),Zn(Tn,lt)):lt.icon||lt.iconHtml?lt.icon&&-1===Object.keys(le).indexOf(lt.icon)?(X('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(lt.icon,'"')),Lt(Tn)):(xt(Tn),ni(Tn,lt),Zn(Tn,lt),Rt(Tn,lt.showClass.icon)):Lt(Tn)})(it,lt),((it,lt)=>{const jt=De();if(!lt.imageUrl)return Lt(jt);xt(jt,""),jt.setAttribute("src",lt.imageUrl),jt.setAttribute("alt",lt.imageAlt),Zt(jt,"width",lt.imageWidth),Zt(jt,"height",lt.imageHeight),jt.className=se.image,mt(jt,lt,"image")})(0,lt),((it,lt)=>{const jt=pe();En(jt,lt.title||lt.titleText,"block"),lt.title&&Mn(lt.title,jt),lt.titleText&&(jt.innerText=lt.titleText),mt(jt,lt,"title")})(0,lt),((it,lt)=>{const jt=Ye();Je(jt,lt.closeButtonHtml),mt(jt,lt,"closeButton"),En(jt,lt.showCloseButton),jt.setAttribute("aria-label",lt.closeButtonAriaLabel)})(0,lt),Ts(it,lt),Ut(0,lt),((it,lt)=>{const jt=Ne();En(jt,lt.footer),lt.footer&&Mn(lt.footer,jt),mt(jt,lt,"footer")})(0,lt),"function"==typeof lt.didRender&&lt.didRender(ie())},kt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fr=()=>{Array.from(document.body.children).forEach(lt=>{lt.hasAttribute("data-previous-aria-hidden")?(lt.setAttribute("aria-hidden",lt.getAttribute("data-previous-aria-hidden")),lt.removeAttribute("data-previous-aria-hidden")):lt.removeAttribute("aria-hidden")})},wr=["swal-title","swal-html","swal-footer"],Br=it=>{const lt={};return Array.from(it.querySelectorAll("swal-param")).forEach(Tn=>{Vi(Tn,["name","value"]);const Sr=Tn.getAttribute("name"),xi=Tn.getAttribute("value");"boolean"==typeof ne[Sr]&&"false"===xi&&(lt[Sr]=!1),"object"==typeof ne[Sr]&&(lt[Sr]=JSON.parse(xi))}),lt},ti=it=>{const lt={};return Array.from(it.querySelectorAll("swal-button")).forEach(Tn=>{Vi(Tn,["type","color","aria-label"]);const Sr=Tn.getAttribute("type");lt["".concat(Sr,"ButtonText")]=Tn.innerHTML,lt["show".concat(d(Sr),"Button")]=!0,Tn.hasAttribute("color")&&(lt["".concat(Sr,"ButtonColor")]=Tn.getAttribute("color")),Tn.hasAttribute("aria-label")&&(lt["".concat(Sr,"ButtonAriaLabel")]=Tn.getAttribute("aria-label"))}),lt},Ai=it=>{const lt={},jt=it.querySelector("swal-image");return jt&&(Vi(jt,["src","width","height","alt"]),jt.hasAttribute("src")&&(lt.imageUrl=jt.getAttribute("src")),jt.hasAttribute("width")&&(lt.imageWidth=jt.getAttribute("width")),jt.hasAttribute("height")&&(lt.imageHeight=jt.getAttribute("height")),jt.hasAttribute("alt")&&(lt.imageAlt=jt.getAttribute("alt"))),lt},Fr=it=>{const lt={},jt=it.querySelector("swal-icon");return jt&&(Vi(jt,["type","color"]),jt.hasAttribute("type")&&(lt.icon=jt.getAttribute("type")),jt.hasAttribute("color")&&(lt.iconColor=jt.getAttribute("color")),lt.iconHtml=jt.innerHTML),lt},Ni=it=>{const lt={},jt=it.querySelector("swal-input");jt&&(Vi(jt,["type","label","placeholder","value"]),lt.input=jt.getAttribute("type")||"text",jt.hasAttribute("label")&&(lt.inputLabel=jt.getAttribute("label")),jt.hasAttribute("placeholder")&&(lt.inputPlaceholder=jt.getAttribute("placeholder")),jt.hasAttribute("value")&&(lt.inputValue=jt.getAttribute("value")));const Tn=Array.from(it.querySelectorAll("swal-input-option"));return Tn.length&&(lt.inputOptions={},Tn.forEach(Sr=>{Vi(Sr,["value"]);const xi=Sr.getAttribute("value");lt.inputOptions[xi]=Sr.innerHTML})),lt},Ji=(it,lt)=>{const jt={};for(const Tn in lt){const Sr=lt[Tn],xi=it.querySelector(Sr);xi&&(Vi(xi,[]),jt[Sr.replace(/^swal-/,"")]=xi.innerHTML.trim())}return jt},Gs=it=>{const lt=wr.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(it.children).forEach(jt=>{const Tn=jt.tagName.toLowerCase();-1===lt.indexOf(Tn)&&v("Unrecognized element <".concat(Tn,">"))})},Vi=(it,lt)=>{Array.from(it.attributes).forEach(jt=>{-1===lt.indexOf(jt.name)&&v(['Unrecognized attribute "'.concat(jt.name,'" on <').concat(it.tagName.toLowerCase(),">."),"".concat(lt.length?"Allowed attributes are: ".concat(lt.join(", ")):"To set the value, use HTML within the element.")])})};var Rs={email:(it,lt)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(it)?Promise.resolve():Promise.resolve(lt||"Invalid email address"),url:(it,lt)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(it)?Promise.resolve():Promise.resolve(lt||"Invalid URL")};function Ds(it){(function Ps(it){it.inputValidator||Object.keys(Rs).forEach(lt=>{it.input===lt&&(it.inputValidator=Rs[lt])})})(it),it.showLoaderOnConfirm&&!it.preConfirm&&v("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Is(it){(!it.target||"string"==typeof it.target&&!document.querySelector(it.target)||"string"!=typeof it.target&&!it.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),it.target="body")}(it),"string"==typeof it.title&&(it.title=it.title.split("\n").join("<br />")),an(it)}class yo{constructor(lt,jt){this.callback=lt,this.remaining=jt,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(lt){const jt=this.running;return jt&&this.stop(),this.remaining+=lt,jt&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Oo=()=>{null===Be.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Be.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Be.previousBodyPadding+(()=>{const it=document.createElement("div");it.className=se["scrollbar-measure"],document.body.appendChild(it);const lt=it.getBoundingClientRect().width-it.clientWidth;return document.body.removeChild(it),lt})(),"px"))},po=()=>{const it=navigator.userAgent,lt=!!it.match(/iPad/i)||!!it.match(/iPhone/i),jt=!!it.match(/WebKit/i);lt&&jt&&!it.match(/CriOS/i)&&ie().scrollHeight>window.innerHeight-44&&(de().style.paddingBottom="".concat(44,"px"))},qs=()=>{const it=de();let lt;it.ontouchstart=jt=>{lt=$i(jt)},it.ontouchmove=jt=>{lt&&(jt.preventDefault(),jt.stopPropagation())}},$i=it=>{const lt=it.target,jt=de();return!gs(it)&&!Ys(it)&&(lt===jt||!pr(jt)&&lt instanceof HTMLElement&&"INPUT"!==lt.tagName&&"TEXTAREA"!==lt.tagName&&!(pr(Ce())&&Ce().contains(lt)))},gs=it=>it.touches&&it.touches.length&&"stylus"===it.touches[0].touchType,Ys=it=>it.touches&&it.touches.length>1,_r=it=>{const lt=de(),jt=ie();"function"==typeof it.willOpen&&it.willOpen(jt);const Sr=window.getComputedStyle(document.body).overflowY;at(lt,jt,it),setTimeout(()=>{Jt(lt,jt)},10),Ze()&&(hn(lt,it.scrollbarPadding,Sr),Array.from(document.body.children).forEach(lt=>{lt===de()||lt.contains(de())||(lt.hasAttribute("aria-hidden")&&lt.setAttribute("data-previous-aria-hidden",lt.getAttribute("aria-hidden")),lt.setAttribute("aria-hidden","true"))})),!ct()&&!pn.previousActiveElement&&(pn.previousActiveElement=document.activeElement),"function"==typeof it.didOpen&&setTimeout(()=>it.didOpen(jt)),Xe(lt,se["no-transition"])},Er=it=>{const lt=ie();if(it.target!==lt)return;const jt=de();lt.removeEventListener(Bt,Er),jt.style.overflowY="auto"},Jt=(it,lt)=>{Bt&&Tr(lt)?(it.style.overflowY="hidden",lt.addEventListener(Bt,Er)):it.style.overflowY="auto"},hn=(it,lt,jt)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!$e(document.body,se.iosfix)){const lt=document.body.scrollTop;document.body.style.top="".concat(-1*lt,"px"),Rt(document.body,se.iosfix),qs(),po()}})(),lt&&"hidden"!==jt&&Oo(),setTimeout(()=>{it.scrollTop=0})},at=(it,lt,jt)=>{Rt(it,jt.showClass.backdrop),lt.style.setProperty("opacity","0","important"),xt(lt,"grid"),setTimeout(()=>{Rt(lt,jt.showClass.popup),lt.style.removeProperty("opacity")},10),Rt([document.documentElement,document.body],se.shown),jt.heightAuto&&jt.backdrop&&!jt.toast&&Rt([document.documentElement,document.body],se["height-auto"])},Vt=it=>{let lt=ie();lt||new Ha,lt=ie();const jt=Re();ct()?Lt(ye()):yn(lt,it),xt(jt),lt.setAttribute("data-loading","true"),lt.setAttribute("aria-busy","true"),lt.focus()},yn=(it,lt)=>{const jt=pt(),Tn=Re();!lt&&Dn(Le())&&(lt=Le()),xt(jt),lt&&(Lt(lt),Tn.setAttribute("data-button-to-replace",lt.className)),Tn.parentNode.insertBefore(Tn,lt),Rt([it,jt],se.loading)},tn=it=>it.checked?1:0,un=it=>it.checked?it.value:null,qt=it=>it.files.length?null!==it.getAttribute("multiple")?it.files:it.files[0]:null,xn=(it,lt)=>{const jt=ie(),Tn=Sr=>yt[lt.input](jt,Ct(Sr),lt);k(lt.inputOptions)||B(lt.inputOptions)?(Vt(Le()),N(lt.inputOptions).then(Sr=>{it.hideLoading(),Tn(Sr)})):"object"==typeof lt.inputOptions?Tn(lt.inputOptions):X("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof lt.inputOptions))},Kn=(it,lt)=>{const jt=it.getInput();Lt(jt),N(lt.inputValue).then(Tn=>{jt.value="number"===lt.input?parseFloat(Tn)||0:"".concat(Tn),xt(jt),jt.focus(),it.hideLoading()}).catch(Tn=>{X("Error in inputValue promise: ".concat(Tn)),jt.value="",xt(jt),jt.focus(),it.hideLoading()})},yt={select:(it,lt,jt)=>{const Tn=vt(it,se.select),Sr=(xi,js,Yo)=>{const mo=document.createElement("option");mo.value=Yo,Je(mo,js),mo.selected=nn(Yo,jt.inputValue),xi.appendChild(mo)};lt.forEach(xi=>{const js=xi[0],Yo=xi[1];if(Array.isArray(Yo)){const mo=document.createElement("optgroup");mo.label=js,mo.disabled=!1,Tn.appendChild(mo),Yo.forEach(wa=>Sr(mo,wa[1],wa[0]))}else Sr(Tn,Yo,js)}),Tn.focus()},radio:(it,lt,jt)=>{const Tn=vt(it,se.radio);lt.forEach(xi=>{const js=xi[0],Yo=xi[1],mo=document.createElement("input"),wa=document.createElement("label");mo.type="radio",mo.name=se.radio,mo.value=js,nn(js,jt.inputValue)&&(mo.checked=!0);const Ba=document.createElement("span");Je(Ba,Yo),Ba.className=se.label,wa.appendChild(mo),wa.appendChild(Ba),Tn.appendChild(wa)});const Sr=Tn.querySelectorAll("input");Sr.length&&Sr[0].focus()}},Ct=it=>{const lt=[];return"undefined"!=typeof Map&&it instanceof Map?it.forEach((jt,Tn)=>{let Sr=jt;"object"==typeof Sr&&(Sr=Ct(Sr)),lt.push([Tn,Sr])}):Object.keys(it).forEach(jt=>{let Tn=it[jt];"object"==typeof Tn&&(Tn=Ct(Tn)),lt.push([jt,Tn])}),lt},nn=(it,lt)=>lt&&lt.toString()===it.toString();function et(){const it=kr.innerParams.get(this);if(!it)return;const lt=kr.domCache.get(this);Lt(lt.loader),ct()?it.icon&&xt(ye()):St(lt),Xe([lt.popup,lt.actions],se.loading),lt.popup.removeAttribute("aria-busy"),lt.popup.removeAttribute("data-loading"),lt.confirmButton.disabled=!1,lt.denyButton.disabled=!1,lt.cancelButton.disabled=!1}const St=it=>{const lt=it.popup.getElementsByClassName(it.loader.getAttribute("data-button-to-replace"));lt.length?xt(lt[0],"inline-block"):!Dn(Le())&&!Dn(je())&&!Dn(nt())&&Lt(it.actions)};var Wt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Jn=()=>Le()&&Le().click(),ji=it=>{it.keydownTarget&&it.keydownHandlerAdded&&(it.keydownTarget.removeEventListener("keydown",it.keydownHandler,{capture:it.keydownListenerCapture}),it.keydownHandlerAdded=!1)},_i=(it,lt,jt)=>{const Tn=Fe();if(Tn.length)return(lt+=jt)===Tn.length?lt=0:-1===lt&&(lt=Tn.length-1),Tn[lt].focus();ie().focus()},os=["ArrowRight","ArrowDown"],vo=["ArrowLeft","ArrowUp"],fs=(it,lt,jt)=>{const Tn=kr.innerParams.get(it);!Tn||lt.isComposing||229===lt.keyCode||(Tn.stopKeydownPropagation&&lt.stopPropagation(),"Enter"===lt.key?no(it,lt,Tn):"Tab"===lt.key?Dt(lt,Tn):[...os,...vo].includes(lt.key)?Et(lt.key):"Escape"===lt.key&&dt(lt,Tn,jt))},no=(it,lt,jt)=>{if(D(jt.allowEnterKey)&&lt.target&&it.getInput()&&lt.target instanceof HTMLElement&&lt.target.outerHTML===it.getInput().outerHTML){if(["textarea","file"].includes(jt.input))return;Jn(),lt.preventDefault()}},Dt=(it,lt)=>{const jt=it.target,Tn=Fe();let Sr=-1;for(let xi=0;xi<Tn.length;xi++)if(jt===Tn[xi]){Sr=xi;break}_i(0,Sr,it.shiftKey?-1:1),it.stopPropagation(),it.preventDefault()},Et=it=>{const lt=Le(),jt=je(),Tn=nt();if(document.activeElement instanceof HTMLElement&&![lt,jt,Tn].includes(document.activeElement))return;const Sr=os.includes(it)?"nextElementSibling":"previousElementSibling";let xi=document.activeElement;for(let js=0;js<pt().children.length;js++){if(xi=xi[Sr],!xi)return;if(xi instanceof HTMLButtonElement&&Dn(xi))break}xi instanceof HTMLButtonElement&&xi.focus()},dt=(it,lt,jt)=>{D(lt.allowEscapeKey)&&(it.preventDefault(),jt(kt.esc))};function Xt(it,lt,jt,Tn){ct()?ba(it,Tn):(Wn(jt).then(()=>ba(it,Tn)),ji(pn)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(lt.setAttribute("style","display:none !important"),lt.removeAttribute("class"),lt.innerHTML=""):lt.remove(),Ze()&&(null!==Be.previousBodyPadding&&(document.body.style.paddingRight="".concat(Be.previousBodyPadding,"px"),Be.previousBodyPadding=null),(()=>{if($e(document.body,se.iosfix)){const it=parseInt(document.body.style.top,10);Xe(document.body,se.iosfix),document.body.style.top="",document.body.scrollTop=-1*it}})(),fr()),function Mr(){Xe([document.documentElement,document.body],[se.shown,se["height-auto"],se["no-backdrop"],se["toast-shown"]])}()}function Ci(it){it=sa(it);const lt=Wt.swalPromiseResolve.get(this),jt=Wo(this);this.isAwaitingPromise()?it.isDismissed||(io(this),lt(it)):jt&&lt(it)}const Wo=it=>{const lt=ie();if(!lt)return!1;const jt=kr.innerParams.get(it);if(!jt||$e(lt,jt.hideClass.popup))return!1;Xe(lt,jt.showClass.popup),Rt(lt,jt.hideClass.popup);const Tn=de();return Xe(Tn,jt.showClass.backdrop),Rt(Tn,jt.hideClass.backdrop),Kr(it,lt,jt),!0};const io=it=>{it.isAwaitingPromise()&&(kr.awaitingPromise.delete(it),kr.innerParams.get(it)||it._destroy())},sa=it=>void 0===it?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},it),Kr=(it,lt,jt)=>{const Tn=de(),Sr=Bt&&Tr(lt);"function"==typeof jt.willClose&&jt.willClose(lt),Sr?Ms(it,lt,Tn,jt.returnFocus,jt.didClose):Xt(it,Tn,jt.returnFocus,jt.didClose)},Ms=(it,lt,jt,Tn,Sr)=>{pn.swalCloseEventFinishedCallback=Xt.bind(null,it,jt,Tn,Sr),lt.addEventListener(Bt,function(xi){xi.target===lt&&(pn.swalCloseEventFinishedCallback(),delete pn.swalCloseEventFinishedCallback)})},ba=(it,lt)=>{setTimeout(()=>{"function"==typeof lt&&lt.bind(it.params)(),it._destroy()})};function ws(it,lt,jt){const Tn=kr.domCache.get(it);lt.forEach(Sr=>{Tn[Sr].disabled=jt})}function Aa(it,lt){if(!it)return!1;if("radio"===it.type){const Tn=it.parentNode.parentNode.querySelectorAll("input");for(let Sr=0;Sr<Tn.length;Sr++)Tn[Sr].disabled=lt}else it.disabled=lt}const No=it=>{const lt={};return Object.keys(it).forEach(jt=>{F(jt)?lt[jt]=it[jt]:v("Invalid parameter to update: ".concat(jt))}),lt};const dl=it=>{ea(it),delete it.params,delete pn.keydownHandler,delete pn.keydownTarget,delete pn.currentInstance},ea=it=>{it.isAwaitingPromise()?($o(kr,it),kr.awaitingPromise.set(it,!0)):($o(Wt,it),$o(kr,it))},$o=(it,lt)=>{for(const jt in it)it[jt].delete(lt)};var gc=Object.freeze({hideLoading:et,disableLoading:et,getInput:function ht(it){const lt=kr.innerParams.get(it||this),jt=kr.domCache.get(it||this);return jt?Tt(jt.popup,lt.input):null},close:Ci,isAwaitingPromise:function ro(){return!!kr.awaitingPromise.get(this)},rejectPromise:function ja(it){const lt=Wt.swalPromiseReject.get(this);io(this),lt&&lt(it)},handleAwaitingPromise:io,closePopup:Ci,closeModal:Ci,closeToast:Ci,enableButtons:function da(){ws(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ea(){ws(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function bo(){return Aa(this.getInput(),!1)},disableInput:function eo(){return Aa(this.getInput(),!0)},showValidationMessage:function ao(it){const lt=kr.domCache.get(this),jt=kr.innerParams.get(this);Je(lt.validationMessage,it),lt.validationMessage.className=se["validation-message"],jt.customClass&&jt.customClass.validationMessage&&Rt(lt.validationMessage,jt.customClass.validationMessage),xt(lt.validationMessage);const Tn=this.getInput();Tn&&(Tn.setAttribute("aria-invalid",!0),Tn.setAttribute("aria-describedby",se["validation-message"]),It(Tn),Rt(Tn,se.inputerror))},resetValidationMessage:function vn(){const it=kr.domCache.get(this);it.validationMessage&&Lt(it.validationMessage);const lt=this.getInput();lt&&(lt.removeAttribute("aria-invalid"),lt.removeAttribute("aria-describedby"),Xe(lt,se.inputerror))},getProgressSteps:function ul(){return kr.domCache.get(this).progressSteps},update:function pi(it){const lt=ie(),jt=kr.innerParams.get(this);if(!lt||$e(lt,jt.hideClass.popup))return v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Tn=No(it),Sr=Object.assign({},jt,Tn);gn(this,Sr),kr.innerParams.set(this,Sr),Object.defineProperties(this,{params:{value:Object.assign({},this.params,it),writable:!1,enumerable:!0}})},_destroy:function lo(){const it=kr.domCache.get(this),lt=kr.innerParams.get(this);lt?(it.popup&&pn.swalCloseEventFinishedCallback&&(pn.swalCloseEventFinishedCallback(),delete pn.swalCloseEventFinishedCallback),"function"==typeof lt.didDestroy&&lt.didDestroy(),dl(this)):ea(this)}});const $a=(it,lt)=>{const jt=kr.innerParams.get(it);if(!jt.input)return void X('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(lt)));const Tn=((it,lt)=>{const jt=it.getInput();if(!jt)return null;switch(lt.input){case"checkbox":return tn(jt);case"radio":return un(jt);case"file":return qt(jt);default:return lt.inputAutoTrim?jt.value.trim():jt.value}})(it,jt);jt.inputValidator?Ca(it,Tn,lt):it.getInput().checkValidity()?"deny"===lt?Ka(it,Tn):Zo(it,Tn):(it.enableButtons(),it.showValidationMessage(jt.validationMessage))},Ca=(it,lt,jt)=>{const Tn=kr.innerParams.get(it);it.disableInput(),Promise.resolve().then(()=>N(Tn.inputValidator(lt,Tn.validationMessage))).then(xi=>{it.enableButtons(),it.enableInput(),xi?it.showValidationMessage(xi):"deny"===jt?Ka(it,lt):Zo(it,lt)})},Ka=(it,lt)=>{const jt=kr.innerParams.get(it||void 0);jt.showLoaderOnDeny&&Vt(je()),jt.preDeny?(kr.awaitingPromise.set(it||void 0,!0),Promise.resolve().then(()=>N(jt.preDeny(lt,jt.validationMessage))).then(Sr=>{!1===Sr?(it.hideLoading(),io(it)):it.close({isDenied:!0,value:void 0===Sr?lt:Sr})}).catch(Sr=>Jo(it||void 0,Sr))):it.close({isDenied:!0,value:lt})},hl=(it,lt)=>{it.close({isConfirmed:!0,value:lt})},Jo=(it,lt)=>{it.rejectPromise(lt)},Zo=(it,lt)=>{const jt=kr.innerParams.get(it||void 0);jt.showLoaderOnConfirm&&Vt(),jt.preConfirm?(it.resetValidationMessage(),kr.awaitingPromise.set(it||void 0,!0),Promise.resolve().then(()=>N(jt.preConfirm(lt,jt.validationMessage))).then(Sr=>{Dn(ve())||!1===Sr?(it.hideLoading(),io(it)):hl(it,void 0===Sr?lt:Sr)}).catch(Sr=>Jo(it||void 0,Sr))):hl(it,lt)},ha=(it,lt,jt)=>{lt.popup.onclick=()=>{const Tn=kr.innerParams.get(it);Tn&&(pl(Tn)||Tn.timer||Tn.input)||jt(kt.close)}},pl=it=>it.showConfirmButton||it.showDenyButton||it.showCancelButton||it.showCloseButton;let Ma=!1;const Tl=it=>{it.popup.onmousedown=()=>{it.container.onmouseup=function(lt){it.container.onmouseup=void 0,lt.target===it.container&&(Ma=!0)}}},Bs=it=>{it.container.onmousedown=()=>{it.popup.onmouseup=function(lt){it.popup.onmouseup=void 0,(lt.target===it.popup||it.popup.contains(lt.target))&&(Ma=!0)}}},Zi=(it,lt,jt)=>{lt.container.onclick=Tn=>{const Sr=kr.innerParams.get(it);Ma?Ma=!1:Tn.target===lt.container&&D(Sr.allowOutsideClick)&&jt(kt.backdrop)}},Qs=it=>it instanceof Element||(it=>"object"==typeof it&&it.jquery)(it);const kl=()=>{if(pn.timeout)return(()=>{const it=xe(),lt=parseInt(window.getComputedStyle(it).width);it.style.removeProperty("transition"),it.style.width="100%";const Tn=lt/parseInt(window.getComputedStyle(it).width)*100;it.style.removeProperty("transition"),it.style.width="".concat(Tn,"%")})(),pn.timeout.stop()},el=()=>{if(pn.timeout){const it=pn.timeout.start();return vr(it),it}};let xa=!1;const Ga={};const tl=it=>{for(let lt=it.target;lt&&lt!==document;lt=lt.parentNode)for(const jt in Ga){const Tn=lt.getAttribute(jt);if(Tn)return void Ga[jt].fire({template:Tn})}};var ml=Object.freeze({isValidParameter:$,isUpdatableParameter:F,isDeprecatedParameter:R,argsToParams:it=>{const lt={};return"object"!=typeof it[0]||Qs(it[0])?["title","html","icon"].forEach((jt,Tn)=>{const Sr=it[Tn];"string"==typeof Sr||Qs(Sr)?lt[jt]=Sr:void 0!==Sr&&X("Unexpected type of ".concat(jt,'! Expected "string" or "Element", got ').concat(typeof Sr))}):Object.assign(lt,it[0]),lt},isVisible:()=>Dn(ie()),clickConfirm:Jn,clickDeny:()=>je()&&je().click(),clickCancel:()=>nt()&&nt().click(),getContainer:de,getPopup:ie,getTitle:pe,getHtmlContainer:Ce,getImage:De,getIcon:ye,getInputLabel:()=>ue(se["input-label"]),getCloseButton:Ye,getActions:pt,getConfirmButton:Le,getDenyButton:je,getCancelButton:nt,getLoader:Re,getFooter:Ne,getTimerProgressBar:xe,getFocusableElements:Fe,getValidationMessage:ve,isLoading:()=>ie().hasAttribute("data-loading"),fire:function Ls(){const it=this;for(var lt=arguments.length,jt=new Array(lt),Tn=0;Tn<lt;Tn++)jt[Tn]=arguments[Tn];return new it(...jt)},mixin:function aa(it){return class lt extends(this){_main(Tn,Sr){return super._main(Tn,Object.assign({},it,Sr))}}},showLoading:Vt,enableLoading:Vt,getTimerLeft:()=>pn.timeout&&pn.timeout.getTimerLeft(),stopTimer:kl,resumeTimer:el,toggleTimer:()=>{const it=pn.timeout;return it&&(it.running?kl():el())},increaseTimer:it=>{if(pn.timeout){const lt=pn.timeout.increase(it);return vr(lt,!0),lt}},isTimerRunning:()=>pn.timeout&&pn.timeout.isRunning(),bindClickHandler:function Fo(){Ga[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,xa||(document.body.addEventListener("click",tl),xa=!0)}});let Ks;class jo{constructor(){if("undefined"==typeof window)return;Ks=this;for(var lt=arguments.length,jt=new Array(lt),Tn=0;Tn<lt;Tn++)jt[Tn]=arguments[Tn];const Sr=Object.freeze(this.constructor.argsToParams(jt));Object.defineProperties(this,{params:{value:Sr,writable:!1,enumerable:!0,configurable:!0}});const xi=Ks._main(Ks.params);kr.promise.set(this,xi)}_main(lt){let jt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(it=>{!it.backdrop&&it.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const lt in it)U(lt),it.toast&&A(lt),V(lt)})(Object.assign({},jt,lt)),pn.currentInstance&&(pn.currentInstance._destroy(),Ze()&&fr()),pn.currentInstance=Ks;const Tn=Wl(lt,jt);Ds(Tn),Object.freeze(Tn),pn.timeout&&(pn.timeout.stop(),delete pn.timeout),clearTimeout(pn.restoreFocusTimeout);const Sr=gl(Ks);return gn(Ks,Tn),kr.innerParams.set(Ks,Tn),nl(Ks,Sr,Tn)}then(lt){return kr.promise.get(this).then(lt)}finally(lt){return kr.promise.get(this).finally(lt)}}const nl=(it,lt,jt)=>new Promise((Tn,Sr)=>{const xi=js=>{it.closePopup({isDismissed:!0,dismiss:js})};Wt.swalPromiseResolve.set(it,Tn),Wt.swalPromiseReject.set(it,Sr),lt.confirmButton.onclick=()=>(it=>{const lt=kr.innerParams.get(it);it.disableButtons(),lt.input?$a(it,"confirm"):Zo(it,!0)})(it),lt.denyButton.onclick=()=>(it=>{const lt=kr.innerParams.get(it);it.disableButtons(),lt.returnInputValueOnDeny?$a(it,"deny"):Ka(it,!1)})(it),lt.cancelButton.onclick=()=>((it,lt)=>{it.disableButtons(),lt(kt.cancel)})(it,xi),lt.closeButton.onclick=()=>xi(kt.close),((it,lt,jt)=>{kr.innerParams.get(it).toast?ha(it,lt,jt):(Tl(lt),Bs(lt),Zi(it,lt,jt))})(it,lt,xi),((it,lt,jt,Tn)=>{ji(lt),jt.toast||(lt.keydownHandler=Sr=>fs(it,Sr,Tn),lt.keydownTarget=jt.keydownListenerCapture?window:ie(),lt.keydownListenerCapture=jt.keydownListenerCapture,lt.keydownTarget.addEventListener("keydown",lt.keydownHandler,{capture:lt.keydownListenerCapture}),lt.keydownHandlerAdded=!0)})(it,pn,jt,xi),((it,lt)=>{"select"===lt.input||"radio"===lt.input?xn(it,lt):["text","email","number","tel","textarea"].includes(lt.input)&&(k(lt.inputValue)||B(lt.inputValue))&&(Vt(Le()),Kn(it,lt))})(it,jt),_r(jt),Ko(pn,jt,xi),ql(lt,jt),setTimeout(()=>{lt.container.scrollTop=0})}),Wl=(it,lt)=>{const jt=(it=>{const lt="string"==typeof it.template?document.querySelector(it.template):it.template;if(!lt)return{};const jt=lt.content;return Gs(jt),Object.assign(Br(jt),ti(jt),Ai(jt),Fr(jt),Ni(jt),Ji(jt,wr))})(it),Tn=Object.assign({},ne,lt,jt,it);return Tn.showClass=Object.assign({},ne.showClass,Tn.showClass),Tn.hideClass=Object.assign({},ne.hideClass,Tn.hideClass),Tn},gl=it=>{const lt={popup:ie(),container:de(),actions:pt(),confirmButton:Le(),denyButton:je(),cancelButton:nt(),loader:Re(),closeButton:Ye(),validationMessage:ve(),progressSteps:Me()};return kr.domCache.set(it,lt),lt},Ko=(it,lt,jt)=>{const Tn=xe();Lt(Tn),lt.timer&&(it.timeout=new yo(()=>{jt("timer"),delete it.timeout},lt.timer),lt.timerProgressBar&&(xt(Tn),mt(Tn,lt,"timerProgressBar"),setTimeout(()=>{it.timeout&&it.timeout.running&&vr(lt.timer)})))},ql=(it,lt)=>{if(!lt.toast){if(!D(lt.allowEnterKey))return Pl();Vl(it,lt)||_i(0,-1,1)}},Vl=(it,lt)=>lt.focusDeny&&Dn(it.denyButton)?(it.denyButton.focus(),!0):lt.focusCancel&&Dn(it.cancelButton)?(it.cancelButton.focus(),!0):!(!lt.focusConfirm||!Dn(it.confirmButton)||(it.confirmButton.focus(),0)),Pl=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const it=document.createElement("div");it.className="leave-russia-now-and-apply-your-skills-to-the-world";const lt=(it=>it[Math.floor(Math.random()*it.length)])([{text:"\u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c,\n        <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:",id:"4CfDhaRkw7I"},{text:"\u042d\u043c\u043f\u0430\u0442\u0438\u044f - \u0433\u043b\u0430\u0432\u043d\u043e\u0435 <strong>\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u0435\u0441\u043a\u043e\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043e. \u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c. <strong>\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e.</strong>",id:"s-GLAIY4DXA"}]);Je(it,"\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        ".concat(lt.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(lt.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      '));const jt=document.createElement("button");jt.innerHTML="&times;",jt.onclick=()=>it.remove(),it.appendChild(jt),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(it)},1e3)})}Object.assign(jo.prototype,gc),Object.assign(jo,ml),Object.keys(gc).forEach(it=>{jo[it]=function(){if(Ks)return Ks[it](...arguments)}}),jo.DismissReason=kt,jo.version="11.4.29";const Ha=jo;return Ha.default=Ha,Ha}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Se,p){var d=Se.createElement("style");if(Se.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=p);else try{d.innerHTML=p}catch(v){d.innerText=p}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},42899:(wt,Se)=>{"use strict";function p(d,v,X){var G=X[X.length-1];d===G.element&&(X.pop(),G=X[X.length-1]);var z=G.element,Z=G.index;Array.isArray(z)?z.push(d):Z===v.length-2?z[v.pop()]=d:v.push(d)}Se.stringify=function(v){var X=[];X.push({obj:v});for(var z,Z,k,N,Q,ne,te,ae,re,G="";z=X.pop();)if(Z=z.obj,G+=z.prefix||"",k=z.val||"")G+=k;else if("object"!=typeof Z)G+=void 0===Z?null:JSON.stringify(Z);else if(null===Z)G+="null";else if(Array.isArray(Z)){for(X.push({val:"]"}),N=Z.length-1;N>=0;N--)X.push({obj:Z[N],prefix:0===N?"":","});X.push({val:"["})}else{for(ne in Q=[],Z)Z.hasOwnProperty(ne)&&Q.push(ne);for(X.push({val:"}"}),N=Q.length-1;N>=0;N--)ae=Z[te=Q[N]],re=N>0?",":"",re+=JSON.stringify(te)+":",X.push({obj:ae,prefix:re});X.push({val:"{"})}return G},Se.parse=function(d){for(var z,Z,D,k,N,B,Q,ne,te,v=[],X=[],G=0;;)if("}"!==(z=d[G++])&&"]"!==z&&void 0!==z)switch(z){case" ":case"\t":case"\n":case":":case",":break;case"n":G+=3,p(null,v,X);break;case"t":G+=3,p(!0,v,X);break;case"f":G+=4,p(!1,v,X);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(Z="",G--;;){if(D=d[G++],!/[\d\.\-e\+]/.test(D)){G--;break}Z+=D}p(parseFloat(Z),v,X);break;case'"':for(k="",N=void 0,B=0;'"'!==(Q=d[G++])||"\\"===N&&B%2==1;)k+=Q,"\\"===(N=Q)?B++:B=0;p(JSON.parse('"'+k+'"'),v,X);break;case"[":v.push((ne={element:[],index:v.length}).element),X.push(ne);break;case"{":v.push((te={element:{},index:v.length}).element),X.push(te);break;default:throw new Error("unexpectedly reached end of input: "+z)}else{if(1===v.length)return v.pop();p(v.pop(),v,X)}}},41993:wt=>{function Se(p){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+p+"'");throw d.code="MODULE_NOT_FOUND",d})}Se.keys=()=>[],Se.resolve=Se,Se.id=41993,wt.exports=Se},70655:(wt,Se,p)=>{"use strict";function k(q,ue,ie,ye){return new(ie||(ie=Promise))(function(Ce,De){function Me(je){try{Le(ye.next(je))}catch(_e){De(_e)}}function ve(je){try{Le(ye.throw(je))}catch(_e){De(_e)}}function Le(je){je.done?Ce(je.value):function pe(Ce){return Ce instanceof ie?Ce:new ie(function(De){De(Ce)})}(je.value).then(Me,ve)}Le((ye=ye.apply(q,ue||[])).next())})}function F(q){return this instanceof F?(this.v=q,this):new F(q)}function R(q,ue,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ye=ie.apply(q,ue||[]),Ce=[];return pe={},De("next"),De("throw"),De("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function De(Re){ye[Re]&&(pe[Re]=function(nt){return new Promise(function(pt,Ne){Ce.push([Re,nt,pt,Ne])>1||Me(Re,nt)})})}function Me(Re,nt){try{!function ve(Re){Re.value instanceof F?Promise.resolve(Re.value.v).then(Le,je):_e(Ce[0][2],Re)}(ye[Re](nt))}catch(pt){_e(Ce[0][3],pt)}}function Le(Re){Me("next",Re)}function je(Re){Me("throw",Re)}function _e(Re,nt){Re(nt),Ce.shift(),Ce.length&&Me(Ce[0][0],Ce[0][1])}}function A(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,ue=q[Symbol.asyncIterator];return ue?ue.call(q):(q=function ne(q){var ue="function"==typeof Symbol&&Symbol.iterator,ie=ue&&q[ue],ye=0;if(ie)return ie.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ye>=q.length&&(q=void 0),{value:q&&q[ye++],done:!q}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ie={},ye("next"),ye("throw"),ye("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ye(Ce){ie[Ce]=q[Ce]&&function(De){return new Promise(function(Me,ve){!function pe(Ce,De,Me,ve){Promise.resolve(ve).then(function(Le){Ce({value:Le,done:Me})},De)}(Me,ve,(De=q[Ce](De)).done,De.value)})}}}p.d(Se,{FC:()=>R,KL:()=>A,mG:()=>k,qq:()=>F})},15525:()=>{},41777:(wt,Se,p)=>{"use strict";p.d(Se,{IO:()=>re,LC:()=>v,SB:()=>N,X$:()=>G,ZE:()=>U,ZN:()=>R,_7:()=>ae,_j:()=>d,eR:()=>Q,jt:()=>z,k1:()=>A,l3:()=>X,oB:()=>k,oQ:()=>ne,pV:()=>te,vP:()=>D});class d{}class v{}const X="*";function G(V,J){return{type:7,name:V,definitions:J,options:{}}}function z(V,J=null){return{type:4,styles:J,timings:V}}function D(V,J=null){return{type:2,steps:V,options:J}}function k(V){return{type:6,styles:V,offset:null}}function N(V,J,Y){return{type:0,name:V,styles:J,options:Y}}function Q(V,J,Y=null){return{type:1,expr:V,animation:J,options:Y}}function ne(V,J=null){return{type:8,animation:V,options:J}}function te(V=null){return{type:9,options:V}}function ae(V,J=null){return{type:10,animation:V,options:J}}function re(V,J,Y=null){return{type:11,selector:V,animation:J,options:Y}}function F(V){Promise.resolve(null).then(V)}class R{constructor(J=0,Y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=J+Y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(J=>J()),this._onDoneFns=[])}onStart(J){this._onStartFns.push(J)}onDone(J){this._onDoneFns.push(J)}onDestroy(J){this._onDestroyFns.push(J)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){F(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(J=>J()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(J=>J()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(J){this._position=this.totalTime?J*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(J){const Y="start"==J?this._onStartFns:this._onDoneFns;Y.forEach(oe=>oe()),Y.length=0}}class U{constructor(J){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=J;let Y=0,oe=0,se=0;const le=this.players.length;0==le?F(()=>this._onFinish()):this.players.forEach(de=>{de.onDone(()=>{++Y==le&&this._onFinish()}),de.onDestroy(()=>{++oe==le&&this._onDestroy()}),de.onStart(()=>{++se==le&&this._onStart()})}),this.totalTime=this.players.reduce((de,q)=>Math.max(de,q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(J=>J()),this._onDoneFns=[])}init(){this.players.forEach(J=>J.init())}onStart(J){this._onStartFns.push(J)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(J=>J()),this._onStartFns=[])}onDone(J){this._onDoneFns.push(J)}onDestroy(J){this._onDestroyFns.push(J)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(J=>J.play())}pause(){this.players.forEach(J=>J.pause())}restart(){this.players.forEach(J=>J.restart())}finish(){this._onFinish(),this.players.forEach(J=>J.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(J=>J.destroy()),this._onDestroyFns.forEach(J=>J()),this._onDestroyFns=[])}reset(){this.players.forEach(J=>J.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(J){const Y=J*this.totalTime;this.players.forEach(oe=>{const se=oe.totalTime?Math.min(1,Y/oe.totalTime):1;oe.setPosition(se)})}getPosition(){const J=this.players.reduce((Y,oe)=>null===Y||oe.totalTime>Y.totalTime?oe:Y,null);return null!=J?J.getPosition():0}beforeDestroy(){this.players.forEach(J=>{J.beforeDestroy&&J.beforeDestroy()})}triggerCallback(J){const Y="start"==J?this._onStartFns:this._onDoneFns;Y.forEach(oe=>oe()),Y.length=0}}const A="!"},69808:(wt,Se,p)=>{"use strict";p.d(Se,{Do:()=>V,EM:()=>qt,HT:()=>z,JF:()=>nn,K0:()=>D,Mx:()=>ps,NF:()=>yn,O5:()=>Yr,OU:()=>cn,PC:()=>kt,S$:()=>F,V_:()=>B,Ye:()=>J,b0:()=>A,bD:()=>Jt,ez:()=>Er,lw:()=>k,mk:()=>ut,mr:()=>U,q:()=>X,rS:()=>Gs,sg:()=>yr,tP:()=>An,uU:()=>Ps,w_:()=>Z});var d=p(5e3);let v=null;function X(){return v}function z(et){v||(v=et)}class Z{}const D=new d.OlP("DocumentToken");let k=(()=>{class et{historyGo(ht){throw new Error("Not implemented")}}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275prov=d.Yz7({token:et,factory:function(){return function N(){return(0,d.LFG)(Q)}()},providedIn:"platform"}),et})();const B=new d.OlP("Location Initialized");let Q=(()=>{class et extends k{constructor(ht){super(),this._doc=ht,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(ht){const Wt=X().getGlobalEventTarget(this._doc,"window");return Wt.addEventListener("popstate",ht,!1),()=>Wt.removeEventListener("popstate",ht)}onHashChange(ht){const Wt=X().getGlobalEventTarget(this._doc,"window");return Wt.addEventListener("hashchange",ht,!1),()=>Wt.removeEventListener("hashchange",ht)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ht){this.location.pathname=ht}pushState(ht,Wt,Sn){ne()?this._history.pushState(ht,Wt,Sn):this.location.hash=Sn}replaceState(ht,Wt,Sn){ne()?this._history.replaceState(ht,Wt,Sn):this.location.hash=Sn}forward(){this._history.forward()}back(){this._history.back()}historyGo(ht=0){this._history.go(ht)}getState(){return this._history.state}}return et.\u0275fac=function(ht){return new(ht||et)(d.LFG(D))},et.\u0275prov=d.Yz7({token:et,factory:function(){return function te(){return new Q((0,d.LFG)(D))}()},providedIn:"platform"}),et})();function ne(){return!!window.history.pushState}function ae(et,St){if(0==et.length)return St;if(0==St.length)return et;let ht=0;return et.endsWith("/")&&ht++,St.startsWith("/")&&ht++,2==ht?et+St.substring(1):1==ht?et+St:et+"/"+St}function re(et){const St=et.match(/#|\?|$/),ht=St&&St.index||et.length;return et.slice(0,ht-("/"===et[ht-1]?1:0))+et.slice(ht)}function $(et){return et&&"?"!==et[0]?"?"+et:et}let F=(()=>{class et{historyGo(ht){throw new Error("Not implemented")}}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275prov=d.Yz7({token:et,factory:function(){return function R(et){const St=(0,d.LFG)(D).location;return new A((0,d.LFG)(k),St&&St.origin||"")}()},providedIn:"root"}),et})();const U=new d.OlP("appBaseHref");let A=(()=>{class et extends F{constructor(ht,Wt){if(super(),this._platformLocation=ht,this._removeListenerFns=[],null==Wt&&(Wt=this._platformLocation.getBaseHrefFromDOM()),null==Wt)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Wt}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}prepareExternalUrl(ht){return ae(this._baseHref,ht)}path(ht=!1){const Wt=this._platformLocation.pathname+$(this._platformLocation.search),Sn=this._platformLocation.hash;return Sn&&ht?`${Wt}${Sn}`:Wt}pushState(ht,Wt,Sn,Jn){const mr=this.prepareExternalUrl(Sn+$(Jn));this._platformLocation.pushState(ht,Wt,mr)}replaceState(ht,Wt,Sn,Jn){const mr=this.prepareExternalUrl(Sn+$(Jn));this._platformLocation.replaceState(ht,Wt,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ht=0){var Wt,Sn;null===(Sn=(Wt=this._platformLocation).historyGo)||void 0===Sn||Sn.call(Wt,ht)}}return et.\u0275fac=function(ht){return new(ht||et)(d.LFG(k),d.LFG(U,8))},et.\u0275prov=d.Yz7({token:et,factory:et.\u0275fac}),et})(),V=(()=>{class et extends F{constructor(ht,Wt){super(),this._platformLocation=ht,this._baseHref="",this._removeListenerFns=[],null!=Wt&&(this._baseHref=Wt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}path(ht=!1){let Wt=this._platformLocation.hash;return null==Wt&&(Wt="#"),Wt.length>0?Wt.substring(1):Wt}prepareExternalUrl(ht){const Wt=ae(this._baseHref,ht);return Wt.length>0?"#"+Wt:Wt}pushState(ht,Wt,Sn,Jn){let mr=this.prepareExternalUrl(Sn+$(Jn));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.pushState(ht,Wt,mr)}replaceState(ht,Wt,Sn,Jn){let mr=this.prepareExternalUrl(Sn+$(Jn));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.replaceState(ht,Wt,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ht=0){var Wt,Sn;null===(Sn=(Wt=this._platformLocation).historyGo)||void 0===Sn||Sn.call(Wt,ht)}}return et.\u0275fac=function(ht){return new(ht||et)(d.LFG(k),d.LFG(U,8))},et.\u0275prov=d.Yz7({token:et,factory:et.\u0275fac}),et})(),J=(()=>{class et{constructor(ht,Wt){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=ht;const Sn=this._platformStrategy.getBaseHref();this._platformLocation=Wt,this._baseHref=re(se(Sn)),this._platformStrategy.onPopState(Jn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Jn.state,type:Jn.type})})}path(ht=!1){return this.normalize(this._platformStrategy.path(ht))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(ht,Wt=""){return this.path()==this.normalize(ht+$(Wt))}normalize(ht){return et.stripTrailingSlash(function oe(et,St){return et&&St.startsWith(et)?St.substring(et.length):St}(this._baseHref,se(ht)))}prepareExternalUrl(ht){return ht&&"/"!==ht[0]&&(ht="/"+ht),this._platformStrategy.prepareExternalUrl(ht)}go(ht,Wt="",Sn=null){this._platformStrategy.pushState(Sn,"",ht,Wt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+$(Wt)),Sn)}replaceState(ht,Wt="",Sn=null){this._platformStrategy.replaceState(Sn,"",ht,Wt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+$(Wt)),Sn)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(ht=0){var Wt,Sn;null===(Sn=(Wt=this._platformStrategy).historyGo)||void 0===Sn||Sn.call(Wt,ht)}onUrlChange(ht){this._urlChangeListeners.push(ht),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Wt=>{this._notifyUrlChangeListeners(Wt.url,Wt.state)}))}_notifyUrlChangeListeners(ht="",Wt){this._urlChangeListeners.forEach(Sn=>Sn(ht,Wt))}subscribe(ht,Wt,Sn){return this._subject.subscribe({next:ht,error:Wt,complete:Sn})}}return et.normalizeQueryParams=$,et.joinWithSlash=ae,et.stripTrailingSlash=re,et.\u0275fac=function(ht){return new(ht||et)(d.LFG(F),d.LFG(k))},et.\u0275prov=d.Yz7({token:et,factory:function(){return function Y(){return new J((0,d.LFG)(F),(0,d.LFG)(k))}()},providedIn:"root"}),et})();function se(et){return et.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Format=0]="Format",ue[ue.Standalone=1]="Standalone",ue))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),ye=(()=>((ye=ye||{})[ye.Short=0]="Short",ye[ye.Medium=1]="Medium",ye[ye.Long=2]="Long",ye[ye.Full=3]="Full",ye))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))();function nt(et,St){return mt((0,d.cg1)(et)[d.wAp.DateFormat],St)}function pt(et,St){return mt((0,d.cg1)(et)[d.wAp.TimeFormat],St)}function Ne(et,St){return mt((0,d.cg1)(et)[d.wAp.DateTimeFormat],St)}function xe(et,St){const ht=(0,d.cg1)(et),Wt=ht[d.wAp.NumberSymbols][St];if(void 0===Wt){if(St===pe.CurrencyDecimal)return ht[d.wAp.NumberSymbols][pe.Decimal];if(St===pe.CurrencyGroup)return ht[d.wAp.NumberSymbols][pe.Group]}return Wt}function Be(et){if(!et[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${et[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mt(et,St){for(let ht=St;ht>-1;ht--)if(void 0!==et[ht])return et[ht];throw new Error("Locale data API: locale data undefined")}function Tt(et){const[St,ht]=et.split(":");return{hours:+St,minutes:+ht}}const Xe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vt={},Zt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),Lt=(()=>((Lt=Lt||{})[Lt.FullYear=0]="FullYear",Lt[Lt.Month=1]="Month",Lt[Lt.Date=2]="Date",Lt[Lt.Hours=3]="Hours",Lt[Lt.Minutes=4]="Minutes",Lt[Lt.Seconds=5]="Seconds",Lt[Lt.FractionalSeconds=6]="FractionalSeconds",Lt[Lt.Day=7]="Day",Lt))(),en=(()=>((en=en||{})[en.DayPeriods=0]="DayPeriods",en[en.Days=1]="Days",en[en.Months=2]="Months",en[en.Eras=3]="Eras",en))();function En(et,St,ht,Wt){let Sn=function Mt(et){if(wn(et))return et;if("number"==typeof et&&!isNaN(et))return new Date(et);if("string"==typeof et){if(et=et.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(et)){const[Sn,Jn=1,mr=1]=et.split("-").map(ri=>+ri);return Dn(Sn,Jn-1,mr)}const ht=parseFloat(et);if(!isNaN(et-ht))return new Date(ht);let Wt;if(Wt=et.match(Xe))return function Bt(et){const St=new Date(0);let ht=0,Wt=0;const Sn=et[8]?St.setUTCFullYear:St.setFullYear,Jn=et[8]?St.setUTCHours:St.setHours;et[9]&&(ht=Number(et[9]+et[10]),Wt=Number(et[9]+et[11])),Sn.call(St,Number(et[1]),Number(et[2])-1,Number(et[3]));const mr=Number(et[4]||0)-ht,ri=Number(et[5]||0)-Wt,ji=Number(et[6]||0),ki=Math.floor(1e3*parseFloat("0."+(et[7]||0)));return Jn.call(St,mr,ri,ji,ki),St}(Wt)}const St=new Date(et);if(!wn(St))throw new Error(`Unable to convert "${et}" into a date`);return St}(et);St=Xn(ht,St)||St;let ri,mr=[];for(;St;){if(ri=Zt.exec(St),!ri){mr.push(St);break}{mr=mr.concat(ri.slice(1));const _i=mr.pop();if(!_i)break;St=_i}}let ji=Sn.getTimezoneOffset();Wt&&(ji=an(Wt,ji),Sn=function Hn(et,St,ht){const Wt=ht?-1:1,Sn=et.getTimezoneOffset();return function Mn(et,St){return(et=new Date(et.getTime())).setMinutes(et.getMinutes()+St),et}(et,Wt*(an(St,Sn)-Sn))}(Sn,Wt,!0));let ki="";return mr.forEach(_i=>{const os=function Dr(et){if(Ar[et])return Ar[et];let St;switch(et){case"G":case"GG":case"GGG":St=sn(en.Eras,ie.Abbreviated);break;case"GGGG":St=sn(en.Eras,ie.Wide);break;case"GGGGG":St=sn(en.Eras,ie.Narrow);break;case"y":St=zn(Lt.FullYear,1,0,!1,!0);break;case"yy":St=zn(Lt.FullYear,2,0,!0,!0);break;case"yyy":St=zn(Lt.FullYear,3,0,!1,!0);break;case"yyyy":St=zn(Lt.FullYear,4,0,!1,!0);break;case"Y":St=Qn(1);break;case"YY":St=Qn(2,!0);break;case"YYY":St=Qn(3);break;case"YYYY":St=Qn(4);break;case"M":case"L":St=zn(Lt.Month,1,1);break;case"MM":case"LL":St=zn(Lt.Month,2,1);break;case"MMM":St=sn(en.Months,ie.Abbreviated);break;case"MMMM":St=sn(en.Months,ie.Wide);break;case"MMMMM":St=sn(en.Months,ie.Narrow);break;case"LLL":St=sn(en.Months,ie.Abbreviated,ue.Standalone);break;case"LLLL":St=sn(en.Months,ie.Wide,ue.Standalone);break;case"LLLLL":St=sn(en.Months,ie.Narrow,ue.Standalone);break;case"w":St=ir(1);break;case"ww":St=ir(2);break;case"W":St=ir(1,!0);break;case"d":St=zn(Lt.Date,1);break;case"dd":St=zn(Lt.Date,2);break;case"c":case"cc":St=zn(Lt.Day,1);break;case"ccc":St=sn(en.Days,ie.Abbreviated,ue.Standalone);break;case"cccc":St=sn(en.Days,ie.Wide,ue.Standalone);break;case"ccccc":St=sn(en.Days,ie.Narrow,ue.Standalone);break;case"cccccc":St=sn(en.Days,ie.Short,ue.Standalone);break;case"E":case"EE":case"EEE":St=sn(en.Days,ie.Abbreviated);break;case"EEEE":St=sn(en.Days,ie.Wide);break;case"EEEEE":St=sn(en.Days,ie.Narrow);break;case"EEEEEE":St=sn(en.Days,ie.Short);break;case"a":case"aa":case"aaa":St=sn(en.DayPeriods,ie.Abbreviated);break;case"aaaa":St=sn(en.DayPeriods,ie.Wide);break;case"aaaaa":St=sn(en.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":St=sn(en.DayPeriods,ie.Abbreviated,ue.Standalone,!0);break;case"bbbb":St=sn(en.DayPeriods,ie.Wide,ue.Standalone,!0);break;case"bbbbb":St=sn(en.DayPeriods,ie.Narrow,ue.Standalone,!0);break;case"B":case"BB":case"BBB":St=sn(en.DayPeriods,ie.Abbreviated,ue.Format,!0);break;case"BBBB":St=sn(en.DayPeriods,ie.Wide,ue.Format,!0);break;case"BBBBB":St=sn(en.DayPeriods,ie.Narrow,ue.Format,!0);break;case"h":St=zn(Lt.Hours,1,-12);break;case"hh":St=zn(Lt.Hours,2,-12);break;case"H":St=zn(Lt.Hours,1);break;case"HH":St=zn(Lt.Hours,2);break;case"m":St=zn(Lt.Minutes,1);break;case"mm":St=zn(Lt.Minutes,2);break;case"s":St=zn(Lt.Seconds,1);break;case"ss":St=zn(Lt.Seconds,2);break;case"S":St=zn(Lt.FractionalSeconds,1);break;case"SS":St=zn(Lt.FractionalSeconds,2);break;case"SSS":St=zn(Lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":St=In(xt.Short);break;case"ZZZZZ":St=In(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":St=In(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":St=In(xt.Long);break;default:return null}return Ar[et]=St,St}(_i);ki+=os?os(Sn,ht,ji):"''"===_i?"'":_i.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ki}function Dn(et,St,ht){const Wt=new Date(0);return Wt.setFullYear(et,St,ht),Wt.setHours(0,0,0),Wt}function Xn(et,St){const ht=function De(et){return(0,d.cg1)(et)[d.wAp.LocaleId]}(et);if(vt[ht]=vt[ht]||{},vt[ht][St])return vt[ht][St];let Wt="";switch(St){case"shortDate":Wt=nt(et,ye.Short);break;case"mediumDate":Wt=nt(et,ye.Medium);break;case"longDate":Wt=nt(et,ye.Long);break;case"fullDate":Wt=nt(et,ye.Full);break;case"shortTime":Wt=pt(et,ye.Short);break;case"mediumTime":Wt=pt(et,ye.Medium);break;case"longTime":Wt=pt(et,ye.Long);break;case"fullTime":Wt=pt(et,ye.Full);break;case"short":const Sn=Xn(et,"shortTime"),Jn=Xn(et,"shortDate");Wt=pr(Ne(et,ye.Short),[Sn,Jn]);break;case"medium":const mr=Xn(et,"mediumTime"),ri=Xn(et,"mediumDate");Wt=pr(Ne(et,ye.Medium),[mr,ri]);break;case"long":const ji=Xn(et,"longTime"),ki=Xn(et,"longDate");Wt=pr(Ne(et,ye.Long),[ji,ki]);break;case"full":const _i=Xn(et,"fullTime"),os=Xn(et,"fullDate");Wt=pr(Ne(et,ye.Full),[_i,os])}return Wt&&(vt[ht][St]=Wt),Wt}function pr(et,St){return St&&(et=et.replace(/\{([^}]+)}/g,function(ht,Wt){return null!=St&&Wt in St?St[Wt]:ht})),et}function Tr(et,St,ht="-",Wt,Sn){let Jn="";(et<0||Sn&&et<=0)&&(Sn?et=1-et:(et=-et,Jn=ht));let mr=String(et);for(;mr.length<St;)mr="0"+mr;return Wt&&(mr=mr.substr(mr.length-St)),Jn+mr}function zn(et,St,ht=0,Wt=!1,Sn=!1){return function(Jn,mr){let ri=function zt(et,St){switch(et){case Lt.FullYear:return St.getFullYear();case Lt.Month:return St.getMonth();case Lt.Date:return St.getDate();case Lt.Hours:return St.getHours();case Lt.Minutes:return St.getMinutes();case Lt.Seconds:return St.getSeconds();case Lt.FractionalSeconds:return St.getMilliseconds();case Lt.Day:return St.getDay();default:throw new Error(`Unknown DateType value "${et}".`)}}(et,Jn);if((ht>0||ri>-ht)&&(ri+=ht),et===Lt.Hours)0===ri&&-12===ht&&(ri=12);else if(et===Lt.FractionalSeconds)return function vr(et,St){return Tr(et,3).substr(0,St)}(ri,St);const ji=xe(mr,pe.MinusSign);return Tr(ri,St,ji,Wt,Sn)}}function sn(et,St,ht=ue.Format,Wt=!1){return function(Sn,Jn){return function pn(et,St,ht,Wt,Sn,Jn){switch(ht){case en.Months:return function Le(et,St,ht){const Wt=(0,d.cg1)(et),Jn=mt([Wt[d.wAp.MonthsFormat],Wt[d.wAp.MonthsStandalone]],St);return mt(Jn,ht)}(St,Sn,Wt)[et.getMonth()];case en.Days:return function ve(et,St,ht){const Wt=(0,d.cg1)(et),Jn=mt([Wt[d.wAp.DaysFormat],Wt[d.wAp.DaysStandalone]],St);return mt(Jn,ht)}(St,Sn,Wt)[et.getDay()];case en.DayPeriods:const mr=et.getHours(),ri=et.getMinutes();if(Jn){const ki=function Je(et){const St=(0,d.cg1)(et);return Be(St),(St[d.wAp.ExtraData][2]||[]).map(Wt=>"string"==typeof Wt?Tt(Wt):[Tt(Wt[0]),Tt(Wt[1])])}(St),_i=function $e(et,St,ht){const Wt=(0,d.cg1)(et);Be(Wt);const Jn=mt([Wt[d.wAp.ExtraData][0],Wt[d.wAp.ExtraData][1]],St)||[];return mt(Jn,ht)||[]}(St,Sn,Wt),os=ki.findIndex(vo=>{if(Array.isArray(vo)){const[fs,no]=vo,Dt=mr>=fs.hours&&ri>=fs.minutes,Et=mr<no.hours||mr===no.hours&&ri<no.minutes;if(fs.hours<no.hours){if(Dt&&Et)return!0}else if(Dt||Et)return!0}else if(vo.hours===mr&&vo.minutes===ri)return!0;return!1});if(-1!==os)return _i[os]}return function Me(et,St,ht){const Wt=(0,d.cg1)(et),Jn=mt([Wt[d.wAp.DayPeriodsFormat],Wt[d.wAp.DayPeriodsStandalone]],St);return mt(Jn,ht)}(St,Sn,Wt)[mr<12?0:1];case en.Eras:return function je(et,St){return mt((0,d.cg1)(et)[d.wAp.Eras],St)}(St,Wt)[et.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ht}`)}}(Sn,Jn,et,St,ht,Wt)}}function In(et){return function(St,ht,Wt){const Sn=-1*Wt,Jn=xe(ht,pe.MinusSign),mr=Sn>0?Math.floor(Sn/60):Math.ceil(Sn/60);switch(et){case xt.Short:return(Sn>=0?"+":"")+Tr(mr,2,Jn)+Tr(Math.abs(Sn%60),2,Jn);case xt.ShortGMT:return"GMT"+(Sn>=0?"+":"")+Tr(mr,1,Jn);case xt.Long:return"GMT"+(Sn>=0?"+":"")+Tr(mr,2,Jn)+":"+Tr(Math.abs(Sn%60),2,Jn);case xt.Extended:return 0===Wt?"Z":(Sn>=0?"+":"")+Tr(mr,2,Jn)+":"+Tr(Math.abs(Sn%60),2,Jn);default:throw new Error(`Unknown zone width "${et}"`)}}}function Ht(et){return Dn(et.getFullYear(),et.getMonth(),et.getDate()+(4-et.getDay()))}function ir(et,St=!1){return function(ht,Wt){let Sn;if(St){const Jn=new Date(ht.getFullYear(),ht.getMonth(),1).getDay()-1,mr=ht.getDate();Sn=1+Math.floor((mr+Jn)/7)}else{const Jn=Ht(ht),mr=function $n(et){const St=Dn(et,0,1).getDay();return Dn(et,0,1+(St<=4?4:11)-St)}(Jn.getFullYear()),ri=Jn.getTime()-mr.getTime();Sn=1+Math.round(ri/6048e5)}return Tr(Sn,et,xe(Wt,pe.MinusSign))}}function Qn(et,St=!1){return function(ht,Wt){return Tr(Ht(ht).getFullYear(),et,xe(Wt,pe.MinusSign),St)}}const Ar={};function an(et,St){et=et.replace(/:/g,"");const ht=Date.parse("Jan 01, 1970 00:00:00 "+et)/6e4;return isNaN(ht)?St:ht}function wn(et){return et instanceof Date&&!isNaN(et.valueOf())}function ps(et,St){St=encodeURIComponent(St);for(const ht of et.split(";")){const Wt=ht.indexOf("="),[Sn,Jn]=-1==Wt?[ht,""]:[ht.slice(0,Wt),ht.slice(Wt+1)];if(Sn.trim()===St)return decodeURIComponent(Jn)}return null}let ut=(()=>{class et{constructor(ht,Wt,Sn,Jn){this._iterableDiffers=ht,this._keyValueDiffers=Wt,this._ngEl=Sn,this._renderer=Jn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ht){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ht?ht.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ht){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ht?ht.split(/\s+/):ht,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ht=this._iterableDiffer.diff(this._rawClass);ht&&this._applyIterableChanges(ht)}else if(this._keyValueDiffer){const ht=this._keyValueDiffer.diff(this._rawClass);ht&&this._applyKeyValueChanges(ht)}}_applyKeyValueChanges(ht){ht.forEachAddedItem(Wt=>this._toggleClass(Wt.key,Wt.currentValue)),ht.forEachChangedItem(Wt=>this._toggleClass(Wt.key,Wt.currentValue)),ht.forEachRemovedItem(Wt=>{Wt.previousValue&&this._toggleClass(Wt.key,!1)})}_applyIterableChanges(ht){ht.forEachAddedItem(Wt=>{if("string"!=typeof Wt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(Wt.item)}`);this._toggleClass(Wt.item,!0)}),ht.forEachRemovedItem(Wt=>this._toggleClass(Wt.item,!1))}_applyClasses(ht){ht&&(Array.isArray(ht)||ht instanceof Set?ht.forEach(Wt=>this._toggleClass(Wt,!0)):Object.keys(ht).forEach(Wt=>this._toggleClass(Wt,!!ht[Wt])))}_removeClasses(ht){ht&&(Array.isArray(ht)||ht instanceof Set?ht.forEach(Wt=>this._toggleClass(Wt,!1)):Object.keys(ht).forEach(Wt=>this._toggleClass(Wt,!1)))}_toggleClass(ht,Wt){(ht=ht.trim())&&ht.split(/\s+/g).forEach(Sn=>{Wt?this._renderer.addClass(this._ngEl.nativeElement,Sn):this._renderer.removeClass(this._ngEl.nativeElement,Sn)})}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},et.\u0275dir=d.lG2({type:et,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),et})();class Pn{constructor(St,ht,Wt,Sn){this.$implicit=St,this.ngForOf=ht,this.index=Wt,this.count=Sn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{class et{constructor(ht,Wt,Sn){this._viewContainer=ht,this._template=Wt,this._differs=Sn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ht){this._ngForOf=ht,this._ngForOfDirty=!0}set ngForTrackBy(ht){this._trackByFn=ht}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(ht){ht&&(this._template=ht)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ht=this._ngForOf;!this._differ&&ht&&(this._differ=this._differs.find(ht).create(this.ngForTrackBy))}if(this._differ){const ht=this._differ.diff(this._ngForOf);ht&&this._applyChanges(ht)}}_applyChanges(ht){const Wt=this._viewContainer;ht.forEachOperation((Sn,Jn,mr)=>{if(null==Sn.previousIndex)Wt.createEmbeddedView(this._template,new Pn(Sn.item,this._ngForOf,-1,-1),null===mr?void 0:mr);else if(null==mr)Wt.remove(null===Jn?void 0:Jn);else if(null!==Jn){const ri=Wt.get(Jn);Wt.move(ri,mr),Pr(ri,Sn)}});for(let Sn=0,Jn=Wt.length;Sn<Jn;Sn++){const ri=Wt.get(Sn).context;ri.index=Sn,ri.count=Jn,ri.ngForOf=this._ngForOf}ht.forEachIdentityChange(Sn=>{Pr(Wt.get(Sn.currentIndex),Sn)})}static ngTemplateContextGuard(ht,Wt){return!0}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},et.\u0275dir=d.lG2({type:et,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),et})();function Pr(et,St){et.context.$implicit=St.item}let Yr=(()=>{class et{constructor(ht,Wt){this._viewContainer=ht,this._context=new Lr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Wt}set ngIf(ht){this._context.$implicit=this._context.ngIf=ht,this._updateView()}set ngIfThen(ht){Oi("ngIfThen",ht),this._thenTemplateRef=ht,this._thenViewRef=null,this._updateView()}set ngIfElse(ht){Oi("ngIfElse",ht),this._elseTemplateRef=ht,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ht,Wt){return!0}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.s_b),d.Y36(d.Rgc))},et.\u0275dir=d.lG2({type:et,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),et})();class Lr{constructor(){this.$implicit=null,this.ngIf=null}}function Oi(et,St){if(St&&!St.createEmbeddedView)throw new Error(`${et} must be a TemplateRef, but received '${(0,d.AaK)(St)}'.`)}let kt=(()=>{class et{constructor(ht,Wt,Sn){this._ngEl=ht,this._differs=Wt,this._renderer=Sn,this._ngStyle=null,this._differ=null}set ngStyle(ht){this._ngStyle=ht,!this._differ&&ht&&(this._differ=this._differs.find(ht).create())}ngDoCheck(){if(this._differ){const ht=this._differ.diff(this._ngStyle);ht&&this._applyChanges(ht)}}_setStyle(ht,Wt){const[Sn,Jn]=ht.split(".");null!=(Wt=null!=Wt&&Jn?`${Wt}${Jn}`:Wt)?this._renderer.setStyle(this._ngEl.nativeElement,Sn,Wt):this._renderer.removeStyle(this._ngEl.nativeElement,Sn)}_applyChanges(ht){ht.forEachRemovedItem(Wt=>this._setStyle(Wt.key,null)),ht.forEachAddedItem(Wt=>this._setStyle(Wt.key,Wt.currentValue)),ht.forEachChangedItem(Wt=>this._setStyle(Wt.key,Wt.currentValue))}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},et.\u0275dir=d.lG2({type:et,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),et})(),An=(()=>{class et{constructor(ht){this._viewContainerRef=ht,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(ht){if(ht.ngTemplateOutlet){const Wt=this._viewContainerRef;this._viewRef&&Wt.remove(Wt.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Wt.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&ht.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.s_b))},et.\u0275dir=d.lG2({type:et,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),et})();function wr(et,St){return new d.vHH(2100,"")}const Ji=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Gs=(()=>{class et{transform(ht){if(null==ht)return null;if("string"!=typeof ht)throw wr();return ht.replace(Ji,Wt=>Wt[0].toUpperCase()+Wt.substr(1).toLowerCase())}}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275pipe=d.Yjl({name:"titlecase",type:et,pure:!0}),et})();const Rs=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ps=(()=>{class et{constructor(ht,Wt){this.locale=ht,this.defaultTimezone=Wt}transform(ht,Wt="mediumDate",Sn,Jn){var mr;if(null==ht||""===ht||ht!=ht)return null;try{return En(ht,Wt,Jn||this.locale,null!==(mr=null!=Sn?Sn:this.defaultTimezone)&&void 0!==mr?mr:void 0)}catch(ri){throw wr()}}}return et.\u0275fac=function(ht){return new(ht||et)(d.Y36(d.soG,16),d.Y36(Rs,24))},et.\u0275pipe=d.Yjl({name:"date",type:et,pure:!0}),et})(),cn=(()=>{class et{transform(ht,Wt,Sn){if(null==ht)return null;if(!this.supports(ht))throw wr();return ht.slice(Wt,Sn)}supports(ht){return"string"==typeof ht||Array.isArray(ht)}}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275pipe=d.Yjl({name:"slice",type:et,pure:!1}),et})(),Er=(()=>{class et{}return et.\u0275fac=function(ht){return new(ht||et)},et.\u0275mod=d.oAB({type:et}),et.\u0275inj=d.cJS({}),et})();const Jt="browser";function yn(et){return et===Jt}let qt=(()=>{class et{}return et.\u0275prov=(0,d.Yz7)({token:et,providedIn:"root",factory:()=>new xn((0,d.LFG)(D),window)}),et})();class xn{constructor(St,ht){this.document=St,this.window=ht,this.offset=()=>[0,0]}setOffset(St){this.offset=Array.isArray(St)?()=>St:St}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(St){this.supportsScrolling()&&this.window.scrollTo(St[0],St[1])}scrollToAnchor(St){if(!this.supportsScrolling())return;const ht=function yt(et,St){const ht=et.getElementById(St)||et.getElementsByName(St)[0];if(ht)return ht;if("function"==typeof et.createTreeWalker&&et.body&&(et.body.createShadowRoot||et.body.attachShadow)){const Wt=et.createTreeWalker(et.body,NodeFilter.SHOW_ELEMENT);let Sn=Wt.currentNode;for(;Sn;){const Jn=Sn.shadowRoot;if(Jn){const mr=Jn.getElementById(St)||Jn.querySelector(`[name="${St}"]`);if(mr)return mr}Sn=Wt.nextNode()}}return null}(this.document,St);ht&&(this.scrollToElement(ht),ht.focus())}setHistoryScrollRestoration(St){if(this.supportScrollRestoration()){const ht=this.window.history;ht&&ht.scrollRestoration&&(ht.scrollRestoration=St)}}scrollToElement(St){const ht=St.getBoundingClientRect(),Wt=ht.left+this.window.pageXOffset,Sn=ht.top+this.window.pageYOffset,Jn=this.offset();this.window.scrollTo(Wt-Jn[0],Sn-Jn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const St=Kn(this.window.history)||Kn(Object.getPrototypeOf(this.window.history));return!(!St||!St.writable&&!St.set)}catch(St){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(St){return!1}}}function Kn(et){return Object.getOwnPropertyDescriptor(et,"scrollRestoration")}class nn{}},40520:(wt,Se,p)=>{"use strict";p.d(Se,{JF:()=>Tt,LE:()=>F,WM:()=>B,Zn:()=>ue,aW:()=>se,eN:()=>pe,jN:()=>N});var d=p(69808),v=p(5e3),X=p(39646),G=p(68306),z=p(24351),Z=p(39300),D=p(54004);class k{}class N{}class B{constructor(Xe){this.normalizedNames=new Map,this.lazyUpdate=null,Xe?this.lazyInit="string"==typeof Xe?()=>{this.headers=new Map,Xe.split("\n").forEach(vt=>{const Zt=vt.indexOf(":");if(Zt>0){const xt=vt.slice(0,Zt),Lt=xt.toLowerCase(),en=vt.slice(Zt+1).trim();this.maybeSetNormalizedName(xt,Lt),this.headers.has(Lt)?this.headers.get(Lt).push(en):this.headers.set(Lt,[en])}})}:()=>{this.headers=new Map,Object.keys(Xe).forEach(vt=>{let Zt=Xe[vt];const xt=vt.toLowerCase();"string"==typeof Zt&&(Zt=[Zt]),Zt.length>0&&(this.headers.set(xt,Zt),this.maybeSetNormalizedName(vt,xt))})}:this.headers=new Map}has(Xe){return this.init(),this.headers.has(Xe.toLowerCase())}get(Xe){this.init();const vt=this.headers.get(Xe.toLowerCase());return vt&&vt.length>0?vt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Xe){return this.init(),this.headers.get(Xe.toLowerCase())||null}append(Xe,vt){return this.clone({name:Xe,value:vt,op:"a"})}set(Xe,vt){return this.clone({name:Xe,value:vt,op:"s"})}delete(Xe,vt){return this.clone({name:Xe,value:vt,op:"d"})}maybeSetNormalizedName(Xe,vt){this.normalizedNames.has(vt)||this.normalizedNames.set(vt,Xe)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Xe=>this.applyUpdate(Xe)),this.lazyUpdate=null))}copyFrom(Xe){Xe.init(),Array.from(Xe.headers.keys()).forEach(vt=>{this.headers.set(vt,Xe.headers.get(vt)),this.normalizedNames.set(vt,Xe.normalizedNames.get(vt))})}clone(Xe){const vt=new B;return vt.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,vt.lazyUpdate=(this.lazyUpdate||[]).concat([Xe]),vt}applyUpdate(Xe){const vt=Xe.name.toLowerCase();switch(Xe.op){case"a":case"s":let Zt=Xe.value;if("string"==typeof Zt&&(Zt=[Zt]),0===Zt.length)return;this.maybeSetNormalizedName(Xe.name,vt);const xt=("a"===Xe.op?this.headers.get(vt):void 0)||[];xt.push(...Zt),this.headers.set(vt,xt);break;case"d":const Lt=Xe.value;if(Lt){let en=this.headers.get(vt);if(!en)return;en=en.filter(En=>-1===Lt.indexOf(En)),0===en.length?(this.headers.delete(vt),this.normalizedNames.delete(vt)):this.headers.set(vt,en)}else this.headers.delete(vt),this.normalizedNames.delete(vt)}}forEach(Xe){this.init(),Array.from(this.normalizedNames.keys()).forEach(vt=>Xe(this.normalizedNames.get(vt),this.headers.get(vt)))}}class Q{encodeKey(Xe){return re(Xe)}encodeValue(Xe){return re(Xe)}decodeKey(Xe){return decodeURIComponent(Xe)}decodeValue(Xe){return decodeURIComponent(Xe)}}const te=/%(\d[a-f0-9])/gi,ae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function re(Rt){return encodeURIComponent(Rt).replace(te,(Xe,vt)=>{var Zt;return null!==(Zt=ae[vt])&&void 0!==Zt?Zt:Xe})}function $(Rt){return`${Rt}`}class F{constructor(Xe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Xe.encoder||new Q,Xe.fromString){if(Xe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ne(Rt,Xe){const vt=new Map;return Rt.length>0&&Rt.replace(/^\?/,"").split("&").forEach(xt=>{const Lt=xt.indexOf("="),[en,En]=-1==Lt?[Xe.decodeKey(xt),""]:[Xe.decodeKey(xt.slice(0,Lt)),Xe.decodeValue(xt.slice(Lt+1))],Dn=vt.get(en)||[];Dn.push(En),vt.set(en,Dn)}),vt}(Xe.fromString,this.encoder)}else Xe.fromObject?(this.map=new Map,Object.keys(Xe.fromObject).forEach(vt=>{const Zt=Xe.fromObject[vt];this.map.set(vt,Array.isArray(Zt)?Zt:[Zt])})):this.map=null}has(Xe){return this.init(),this.map.has(Xe)}get(Xe){this.init();const vt=this.map.get(Xe);return vt?vt[0]:null}getAll(Xe){return this.init(),this.map.get(Xe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Xe,vt){return this.clone({param:Xe,value:vt,op:"a"})}appendAll(Xe){const vt=[];return Object.keys(Xe).forEach(Zt=>{const xt=Xe[Zt];Array.isArray(xt)?xt.forEach(Lt=>{vt.push({param:Zt,value:Lt,op:"a"})}):vt.push({param:Zt,value:xt,op:"a"})}),this.clone(vt)}set(Xe,vt){return this.clone({param:Xe,value:vt,op:"s"})}delete(Xe,vt){return this.clone({param:Xe,value:vt,op:"d"})}toString(){return this.init(),this.keys().map(Xe=>{const vt=this.encoder.encodeKey(Xe);return this.map.get(Xe).map(Zt=>vt+"="+this.encoder.encodeValue(Zt)).join("&")}).filter(Xe=>""!==Xe).join("&")}clone(Xe){const vt=new F({encoder:this.encoder});return vt.cloneFrom=this.cloneFrom||this,vt.updates=(this.updates||[]).concat(Xe),vt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Xe=>this.map.set(Xe,this.cloneFrom.map.get(Xe))),this.updates.forEach(Xe=>{switch(Xe.op){case"a":case"s":const vt=("a"===Xe.op?this.map.get(Xe.param):void 0)||[];vt.push($(Xe.value)),this.map.set(Xe.param,vt);break;case"d":if(void 0===Xe.value){this.map.delete(Xe.param);break}{let Zt=this.map.get(Xe.param)||[];const xt=Zt.indexOf($(Xe.value));-1!==xt&&Zt.splice(xt,1),Zt.length>0?this.map.set(Xe.param,Zt):this.map.delete(Xe.param)}}}),this.cloneFrom=this.updates=null)}}class U{constructor(){this.map=new Map}set(Xe,vt){return this.map.set(Xe,vt),this}get(Xe){return this.map.has(Xe)||this.map.set(Xe,Xe.defaultValue()),this.map.get(Xe)}delete(Xe){return this.map.delete(Xe),this}has(Xe){return this.map.has(Xe)}keys(){return this.map.keys()}}function V(Rt){return"undefined"!=typeof ArrayBuffer&&Rt instanceof ArrayBuffer}function J(Rt){return"undefined"!=typeof Blob&&Rt instanceof Blob}function Y(Rt){return"undefined"!=typeof FormData&&Rt instanceof FormData}class se{constructor(Xe,vt,Zt,xt){let Lt;if(this.url=vt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Xe.toUpperCase(),function A(Rt){switch(Rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==Zt?Zt:null,Lt=xt):Lt=Zt,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params)),this.headers||(this.headers=new B),this.context||(this.context=new U),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=vt;else{const En=vt.indexOf("?");this.urlWithParams=vt+(-1===En?"?":En<vt.length-1?"&":"")+en}}else this.params=new F,this.urlWithParams=vt}serializeBody(){return null===this.body?null:V(this.body)||J(this.body)||Y(this.body)||function oe(Rt){return"undefined"!=typeof URLSearchParams&&Rt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof F?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y(this.body)?null:J(this.body)?this.body.type||null:V(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof F?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Xe={}){var vt;const Zt=Xe.method||this.method,xt=Xe.url||this.url,Lt=Xe.responseType||this.responseType,en=void 0!==Xe.body?Xe.body:this.body,En=void 0!==Xe.withCredentials?Xe.withCredentials:this.withCredentials,Dn=void 0!==Xe.reportProgress?Xe.reportProgress:this.reportProgress;let Xn=Xe.headers||this.headers,pr=Xe.params||this.params;const Tr=null!==(vt=Xe.context)&&void 0!==vt?vt:this.context;return void 0!==Xe.setHeaders&&(Xn=Object.keys(Xe.setHeaders).reduce((vr,zn)=>vr.set(zn,Xe.setHeaders[zn]),Xn)),Xe.setParams&&(pr=Object.keys(Xe.setParams).reduce((vr,zn)=>vr.set(zn,Xe.setParams[zn]),pr)),new se(Zt,xt,en,{params:pr,headers:Xn,context:Tr,reportProgress:Dn,responseType:Lt,withCredentials:En})}}var le=(()=>((le=le||{})[le.Sent=0]="Sent",le[le.UploadProgress=1]="UploadProgress",le[le.ResponseHeader=2]="ResponseHeader",le[le.DownloadProgress=3]="DownloadProgress",le[le.Response=4]="Response",le[le.User=5]="User",le))();class de{constructor(Xe,vt=200,Zt="OK"){this.headers=Xe.headers||new B,this.status=void 0!==Xe.status?Xe.status:vt,this.statusText=Xe.statusText||Zt,this.url=Xe.url||null,this.ok=this.status>=200&&this.status<300}}class q extends de{constructor(Xe={}){super(Xe),this.type=le.ResponseHeader}clone(Xe={}){return new q({headers:Xe.headers||this.headers,status:void 0!==Xe.status?Xe.status:this.status,statusText:Xe.statusText||this.statusText,url:Xe.url||this.url||void 0})}}class ue extends de{constructor(Xe={}){super(Xe),this.type=le.Response,this.body=void 0!==Xe.body?Xe.body:null}clone(Xe={}){return new ue({body:void 0!==Xe.body?Xe.body:this.body,headers:Xe.headers||this.headers,status:void 0!==Xe.status?Xe.status:this.status,statusText:Xe.statusText||this.statusText,url:Xe.url||this.url||void 0})}}class ie extends de{constructor(Xe){super(Xe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Xe.url||"(unknown url)"}`:`Http failure response for ${Xe.url||"(unknown url)"}: ${Xe.status} ${Xe.statusText}`,this.error=Xe.error||null}}function ye(Rt,Xe){return{body:Xe,headers:Rt.headers,context:Rt.context,observe:Rt.observe,params:Rt.params,reportProgress:Rt.reportProgress,responseType:Rt.responseType,withCredentials:Rt.withCredentials}}let pe=(()=>{class Rt{constructor(vt){this.handler=vt}request(vt,Zt,xt={}){let Lt;if(vt instanceof se)Lt=vt;else{let Dn,Xn;Dn=xt.headers instanceof B?xt.headers:new B(xt.headers),xt.params&&(Xn=xt.params instanceof F?xt.params:new F({fromObject:xt.params})),Lt=new se(vt,Zt,void 0!==xt.body?xt.body:null,{headers:Dn,context:xt.context,params:Xn,reportProgress:xt.reportProgress,responseType:xt.responseType||"json",withCredentials:xt.withCredentials})}const en=(0,X.of)(Lt).pipe((0,z.b)(Dn=>this.handler.handle(Dn)));if(vt instanceof se||"events"===xt.observe)return en;const En=en.pipe((0,Z.h)(Dn=>Dn instanceof ue));switch(xt.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return En.pipe((0,D.U)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Dn.body}));case"blob":return En.pipe((0,D.U)(Dn=>{if(null!==Dn.body&&!(Dn.body instanceof Blob))throw new Error("Response is not a Blob.");return Dn.body}));case"text":return En.pipe((0,D.U)(Dn=>{if(null!==Dn.body&&"string"!=typeof Dn.body)throw new Error("Response is not a string.");return Dn.body}));default:return En.pipe((0,D.U)(Dn=>Dn.body))}case"response":return En;default:throw new Error(`Unreachable: unhandled observe type ${xt.observe}}`)}}delete(vt,Zt={}){return this.request("DELETE",vt,Zt)}get(vt,Zt={}){return this.request("GET",vt,Zt)}head(vt,Zt={}){return this.request("HEAD",vt,Zt)}jsonp(vt,Zt){return this.request("JSONP",vt,{params:(new F).append(Zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(vt,Zt={}){return this.request("OPTIONS",vt,Zt)}patch(vt,Zt,xt={}){return this.request("PATCH",vt,ye(xt,Zt))}post(vt,Zt,xt={}){return this.request("POST",vt,ye(xt,Zt))}put(vt,Zt,xt={}){return this.request("PUT",vt,ye(xt,Zt))}}return Rt.\u0275fac=function(vt){return new(vt||Rt)(v.LFG(k))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();class Ce{constructor(Xe,vt){this.next=Xe,this.interceptor=vt}handle(Xe){return this.interceptor.intercept(Xe,this.next)}}const De=new v.OlP("HTTP_INTERCEPTORS");let Me=(()=>{class Rt{intercept(vt,Zt){return Zt.handle(vt)}}return Rt.\u0275fac=function(vt){return new(vt||Rt)},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const xe=/^\)\]\}',?\n/;let Ke=(()=>{class Rt{constructor(vt){this.xhrFactory=vt}handle(vt){if("JSONP"===vt.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new G.y(Zt=>{const xt=this.xhrFactory.build();if(xt.open(vt.method,vt.urlWithParams),vt.withCredentials&&(xt.withCredentials=!0),vt.headers.forEach((zn,zt)=>xt.setRequestHeader(zn,zt.join(","))),vt.headers.has("Accept")||xt.setRequestHeader("Accept","application/json, text/plain, */*"),!vt.headers.has("Content-Type")){const zn=vt.detectContentTypeHeader();null!==zn&&xt.setRequestHeader("Content-Type",zn)}if(vt.responseType){const zn=vt.responseType.toLowerCase();xt.responseType="json"!==zn?zn:"text"}const Lt=vt.serializeBody();let en=null;const En=()=>{if(null!==en)return en;const zn=xt.statusText||"OK",zt=new B(xt.getAllResponseHeaders()),sn=function Ye(Rt){return"responseURL"in Rt&&Rt.responseURL?Rt.responseURL:/^X-Request-URL:/m.test(Rt.getAllResponseHeaders())?Rt.getResponseHeader("X-Request-URL"):null}(xt)||vt.url;return en=new q({headers:zt,status:xt.status,statusText:zn,url:sn}),en},Dn=()=>{let{headers:zn,status:zt,statusText:sn,url:pn}=En(),In=null;204!==zt&&(In=void 0===xt.response?xt.responseText:xt.response),0===zt&&(zt=In?200:0);let Wn=zt>=200&&zt<300;if("json"===vt.responseType&&"string"==typeof In){const jn=In;In=In.replace(xe,"");try{In=""!==In?JSON.parse(In):null}catch($n){In=jn,Wn&&(Wn=!1,In={error:$n,text:In})}}Wn?(Zt.next(new ue({body:In,headers:zn,status:zt,statusText:sn,url:pn||void 0})),Zt.complete()):Zt.error(new ie({error:In,headers:zn,status:zt,statusText:sn,url:pn||void 0}))},Xn=zn=>{const{url:zt}=En(),sn=new ie({error:zn,status:xt.status||0,statusText:xt.statusText||"Unknown Error",url:zt||void 0});Zt.error(sn)};let pr=!1;const Tr=zn=>{pr||(Zt.next(En()),pr=!0);let zt={type:le.DownloadProgress,loaded:zn.loaded};zn.lengthComputable&&(zt.total=zn.total),"text"===vt.responseType&&!!xt.responseText&&(zt.partialText=xt.responseText),Zt.next(zt)},vr=zn=>{let zt={type:le.UploadProgress,loaded:zn.loaded};zn.lengthComputable&&(zt.total=zn.total),Zt.next(zt)};return xt.addEventListener("load",Dn),xt.addEventListener("error",Xn),xt.addEventListener("timeout",Xn),xt.addEventListener("abort",Xn),vt.reportProgress&&(xt.addEventListener("progress",Tr),null!==Lt&&xt.upload&&xt.upload.addEventListener("progress",vr)),xt.send(Lt),Zt.next({type:le.Sent}),()=>{xt.removeEventListener("error",Xn),xt.removeEventListener("abort",Xn),xt.removeEventListener("load",Dn),xt.removeEventListener("timeout",Xn),vt.reportProgress&&(xt.removeEventListener("progress",Tr),null!==Lt&&xt.upload&&xt.upload.removeEventListener("progress",vr)),xt.readyState!==xt.DONE&&xt.abort()}})}}return Rt.\u0275fac=function(vt){return new(vt||Rt)(v.LFG(d.JF))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const Fe=new v.OlP("XSRF_COOKIE_NAME"),Ze=new v.OlP("XSRF_HEADER_NAME");class ct{}let we=(()=>{class Rt{constructor(vt,Zt,xt){this.doc=vt,this.platform=Zt,this.cookieName=xt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const vt=this.doc.cookie||"";return vt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(vt,this.cookieName),this.lastCookieString=vt),this.lastToken}}return Rt.\u0275fac=function(vt){return new(vt||Rt)(v.LFG(d.K0),v.LFG(v.Lbi),v.LFG(Fe))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})(),Be=(()=>{class Rt{constructor(vt,Zt){this.tokenService=vt,this.headerName=Zt}intercept(vt,Zt){const xt=vt.url.toLowerCase();if("GET"===vt.method||"HEAD"===vt.method||xt.startsWith("http://")||xt.startsWith("https://"))return Zt.handle(vt);const Lt=this.tokenService.getToken();return null!==Lt&&!vt.headers.has(this.headerName)&&(vt=vt.clone({headers:vt.headers.set(this.headerName,Lt)})),Zt.handle(vt)}}return Rt.\u0275fac=function(vt){return new(vt||Rt)(v.LFG(ct),v.LFG(Ze))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})(),Je=(()=>{class Rt{constructor(vt,Zt){this.backend=vt,this.injector=Zt,this.chain=null}handle(vt){if(null===this.chain){const Zt=this.injector.get(De,[]);this.chain=Zt.reduceRight((xt,Lt)=>new Ce(xt,Lt),this.backend)}return this.chain.handle(vt)}}return Rt.\u0275fac=function(vt){return new(vt||Rt)(v.LFG(N),v.LFG(v.zs3))},Rt.\u0275prov=v.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})(),mt=(()=>{class Rt{static disable(){return{ngModule:Rt,providers:[{provide:Be,useClass:Me}]}}static withOptions(vt={}){return{ngModule:Rt,providers:[vt.cookieName?{provide:Fe,useValue:vt.cookieName}:[],vt.headerName?{provide:Ze,useValue:vt.headerName}:[]]}}}return Rt.\u0275fac=function(vt){return new(vt||Rt)},Rt.\u0275mod=v.oAB({type:Rt}),Rt.\u0275inj=v.cJS({providers:[Be,{provide:De,useExisting:Be,multi:!0},{provide:ct,useClass:we},{provide:Fe,useValue:"XSRF-TOKEN"},{provide:Ze,useValue:"X-XSRF-TOKEN"}]}),Rt})(),Tt=(()=>{class Rt{}return Rt.\u0275fac=function(vt){return new(vt||Rt)},Rt.\u0275mod=v.oAB({type:Rt}),Rt.\u0275inj=v.cJS({providers:[pe,{provide:k,useClass:Je},Ke,{provide:N,useExisting:Ke}],imports:[[mt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Rt})()},5e3:(wt,Se,p)=>{"use strict";p.d(Se,{$8M:()=>is,$Z:()=>Ag,AFp:()=>oE,ALo:()=>ge,AaK:()=>k,Akn:()=>Rc,AsE:()=>Pf,B6R:()=>ir,BQk:()=>Nm,CHM:()=>ba,CRH:()=>jb,CZH:()=>m1,CqO:()=>ev,DdM:()=>By,Dn7:()=>At,EJc:()=>sC,EpF:()=>Ug,F$t:()=>kg,F4k:()=>q_,FYo:()=>Ay,FiY:()=>qe,G48:()=>TC,Gf:()=>Ub,GfV:()=>qa,GkF:()=>Fg,Gpc:()=>Q,Hsn:()=>Wg,JOm:()=>ks,Jf7:()=>Zl,LFG:()=>Ho,LSH:()=>rd,Lbi:()=>nC,MAs:()=>Kl,NdJ:()=>jg,OlP:()=>xo,Oqu:()=>Df,PXZ:()=>bC,Q6J:()=>xg,QGY:()=>Ng,Qsj:()=>e1,R0b:()=>Zu,RDi:()=>Kn,Rgc:()=>qi,SBq:()=>$h,Sil:()=>aC,Suo:()=>Nb,TTD:()=>Ys,TgZ:()=>vp,Tol:()=>Cp,Udp:()=>Sf,VKq:()=>ky,VLi:()=>yC,W1O:()=>Vb,WLB:()=>Wy,XFs:()=>$e,Xpm:()=>Ht,Y36:()=>bf,YKP:()=>Vu,YNc:()=>wg,Yjl:()=>Bt,Yz7:()=>nt,ZZ4:()=>P1,_Bn:()=>Ty,_UZ:()=>Ef,_Vd:()=>Tp,_c5:()=>ZC,_uU:()=>ia,aQg:()=>I1,c2e:()=>rC,cJS:()=>Ne,cg1:()=>zm,dDg:()=>hE,deG:()=>mu,dqk:()=>Xn,eFA:()=>mE,ekj:()=>Tf,evT:()=>si,f3M:()=>lh,g9A:()=>lE,h0i:()=>jl,hGG:()=>zC,hij:()=>fc,iGM:()=>Fb,ifc:()=>xt,ip1:()=>sE,kEZ:()=>g0,kL8:()=>oy,l5B:()=>Vy,lG2:()=>Mt,lcZ:()=>He,n5z:()=>Gr,oAB:()=>an,oJD:()=>Xh,oxw:()=>iv,qLn:()=>hs,qOj:()=>vd,qZA:()=>Fh,qbA:()=>y0,rFY:()=>_0,sBO:()=>DC,sIi:()=>Dh,s_b:()=>to,soG:()=>y1,tBr:()=>ke,tb:()=>cE,tp0:()=>Gt,uIk:()=>gf,vHH:()=>re,vpe:()=>$r,wAp:()=>Es,xi3:()=>gt,xp6:()=>B0,ynx:()=>Cf,z2F:()=>M1,zSh:()=>Em,zs3:()=>cc});var d=p(77579),v=p(50727),X=p(68306),G=p(56451),z=p(13099);function Z(C){for(let w in C)if(C[w]===Z)return w;throw Error("Could not find renamed property on target object.")}function D(C,w){for(const x in w)w.hasOwnProperty(x)&&!C.hasOwnProperty(x)&&(C[x]=w[x])}function k(C){if("string"==typeof C)return C;if(Array.isArray(C))return"["+C.map(k).join(", ")+"]";if(null==C)return""+C;if(C.overriddenName)return`${C.overriddenName}`;if(C.name)return`${C.name}`;const w=C.toString();if(null==w)return""+w;const x=w.indexOf("\n");return-1===x?w:w.substring(0,x)}function N(C,w){return null==C||""===C?null===w?"":w:null==w||""===w?C:C+" "+w}const B=Z({__forward_ref__:Z});function Q(C){return C.__forward_ref__=Q,C.toString=function(){return k(this())},C}function ne(C){return te(C)?C():C}function te(C){return"function"==typeof C&&C.hasOwnProperty(B)&&C.__forward_ref__===Q}class re extends Error{constructor(w,x){super(function $(C,w){return`NG0${Math.abs(C)}${w?": "+w:""}`}(w,x)),this.code=w}}function F(C){return"string"==typeof C?C:null==C?"":String(C)}function R(C){return"function"==typeof C?C.name||C.toString():"object"==typeof C&&null!=C&&"function"==typeof C.type?C.type.name||C.type.toString():F(C)}function J(C,w){const x=w?` in ${w}`:"";throw new re(-201,`No provider for ${R(C)} found${x}`)}function ve(C,w){null==C&&function Le(C,w,x,H){throw new Error(`ASSERTION ERROR: ${C}`+(null==H?"":` [Expected=> ${x} ${H} ${w} <=Actual]`))}(w,C,null,"!=")}function nt(C){return{token:C.token,providedIn:C.providedIn||null,factory:C.factory,value:void 0}}function Ne(C){return{providers:C.providers||[],imports:C.imports||[]}}function xe(C){return Ye(C,ct)||Ye(C,Be)}function Ye(C,w){return C.hasOwnProperty(w)?C[w]:null}function Ze(C){return C&&(C.hasOwnProperty(we)||C.hasOwnProperty(Je))?C[we]:null}const ct=Z({\u0275prov:Z}),we=Z({\u0275inj:Z}),Be=Z({ngInjectableDef:Z}),Je=Z({ngInjectorDef:Z});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let ot;function Tt(C){const w=ot;return ot=C,w}function It(C,w,x){const H=xe(C);return H&&"root"==H.providedIn?void 0===H.value?H.value=H.factory():H.value:x&$e.Optional?null:void 0!==w?w:void J(k(C),"Injector")}function Rt(C){return{toString:C}.toString()}var Xe=(()=>((Xe=Xe||{})[Xe.OnPush=0]="OnPush",Xe[Xe.Default=1]="Default",Xe))(),xt=(()=>{return(C=xt||(xt={}))[C.Emulated=0]="Emulated",C[C.None=2]="None",C[C.ShadowDom=3]="ShadowDom",xt;var C})();const Lt="undefined"!=typeof globalThis&&globalThis,en="undefined"!=typeof window&&window,En="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xn=Lt||"undefined"!=typeof global&&global||en||En,vr={},zn=[],zt=Z({\u0275cmp:Z}),sn=Z({\u0275dir:Z}),pn=Z({\u0275pipe:Z}),In=Z({\u0275mod:Z}),Wn=Z({\u0275fac:Z}),jn=Z({__NG_ELEMENT_ID__:Z});let $n=0;function Ht(C){return Rt(()=>{const x={},H={type:C.type,providersResolver:null,decls:C.decls,vars:C.vars,factory:null,template:C.template||null,consts:C.consts||null,ngContentSelectors:C.ngContentSelectors,hostBindings:C.hostBindings||null,hostVars:C.hostVars||0,hostAttrs:C.hostAttrs||null,contentQueries:C.contentQueries||null,declaredInputs:x,inputs:null,outputs:null,exportAs:C.exportAs||null,onPush:C.changeDetection===Xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:C.selectors||zn,viewQuery:C.viewQuery||null,features:C.features||null,data:C.data||{},encapsulation:C.encapsulation||xt.Emulated,id:"c",styles:C.styles||zn,_:null,setInput:null,schemas:C.schemas||null,tView:null},ce=C.directives,Ee=C.features,We=C.pipes;return H.id+=$n++,H.inputs=Hn(C.inputs,x),H.outputs=Hn(C.outputs),Ee&&Ee.forEach(tt=>tt(H)),H.directiveDefs=ce?()=>("function"==typeof ce?ce():ce).map(Qn):null,H.pipeDefs=We?()=>("function"==typeof We?We():We).map(Ar):null,H})}function ir(C,w,x){const H=C.\u0275cmp;H.directiveDefs=()=>w.map(Qn),H.pipeDefs=()=>x.map(Ar)}function Qn(C){return wn(C)||function Ut(C){return C[sn]||null}(C)}function Ar(C){return function Cn(C){return C[pn]||null}(C)}const Dr={};function an(C){return Rt(()=>{const w={type:C.type,bootstrap:C.bootstrap||zn,declarations:C.declarations||zn,imports:C.imports||zn,exports:C.exports||zn,transitiveCompileScopes:null,schemas:C.schemas||null,id:C.id||null};return null!=C.id&&(Dr[C.id]=C.type),w})}function Hn(C,w){if(null==C)return vr;const x={};for(const H in C)if(C.hasOwnProperty(H)){let ce=C[H],Ee=ce;Array.isArray(ce)&&(Ee=ce[1],ce=ce[0]),x[ce]=H,w&&(w[ce]=Ee)}return x}const Mt=Ht;function Bt(C){return{type:C.type,name:C.name,factory:null,pure:!1!==C.pure,onDestroy:C.type.prototype.ngOnDestroy||null}}function wn(C){return C[zt]||null}function Bn(C,w){const x=C[In]||null;if(!x&&!0===w)throw new Error(`Type ${k(C)} does not have '\u0275mod' property.`);return x}function yi(C){return Array.isArray(C)&&"object"==typeof C[1]}function Un(C){return Array.isArray(C)&&!0===C[1]}function Qr(C){return 0!=(8&C.flags)}function cs(C){return 2==(2&C.flags)}function rn(C){return 1==(1&C.flags)}function gn(C){return null!==C.template}function kt(C){return 0!=(512&C[2])}function $i(C,w){return C.hasOwnProperty(Wn)?C[Wn]:null}class gs{constructor(w,x,H){this.previousValue=w,this.currentValue=x,this.firstChange=H}isFirstChange(){return this.firstChange}}function Ys(){return _o}function _o(C){return C.type.prototype.ngOnChanges&&(C.setInput=_r),cn}function cn(){const C=Jt(this),w=null==C?void 0:C.current;if(w){const x=C.previous;if(x===vr)C.previous=w;else for(let H in w)x[H]=w[H];C.current=null,this.ngOnChanges(w)}}function _r(C,w,x,H){const ce=Jt(C)||function hn(C,w){return C[Er]=w}(C,{previous:vr,current:null}),Ee=ce.current||(ce.current={}),We=ce.previous,tt=this.declaredInputs[x],ft=We[tt];Ee[tt]=new gs(ft&&ft.currentValue,w,We===vr),C[H]=w}Ys.ngInherit=!0;const Er="__ngSimpleChanges__";function Jt(C){return C[Er]||null}let xn;function Kn(C){xn=C}function yt(){return void 0!==xn?xn:"undefined"!=typeof document?document:void 0}function nn(C){return!!C.listen}const et={createRenderer:(C,w)=>yt()};function ht(C){for(;Array.isArray(C);)C=C[0];return C}function Jn(C,w){return ht(w[C])}function mr(C,w){return ht(w[C.index])}function ji(C,w){return C.data[w]}function ki(C,w){return C[w]}function _i(C,w){const x=w[C];return yi(x)?x:x[0]}function os(C){return 4==(4&C[2])}function vo(C){return 128==(128&C[2])}function no(C,w){return null==w?null:C[w]}function Dt(C){C[18]=0}function Et(C,w){C[5]+=w;let x=C,H=C[3];for(;null!==H&&(1===w&&1===x[5]||-1===w&&0===x[5]);)H[5]+=w,x=H,H=H[3]}const dt={lFrame:pl(null),bindingsEnabled:!0};function ja(){return dt.bindingsEnabled}function Kr(){return dt.lFrame.lView}function Ms(){return dt.lFrame.tView}function ba(C){return dt.lFrame.contextLView=C,C[8]}function ws(){let C=Aa();for(;null!==C&&64===C.type;)C=C.parent;return C}function Aa(){return dt.lFrame.currentTNode}function Ea(C,w){const x=dt.lFrame;x.currentTNode=C,x.isParent=w}function bo(){return dt.lFrame.isParent}function eo(){dt.lFrame.isParent=!1}function No(){const C=dt.lFrame;let w=C.bindingRootIndex;return-1===w&&(w=C.bindingRootIndex=C.tView.bindingStartIndex),w}function ea(){return dt.lFrame.bindingIndex++}function $o(C){const w=dt.lFrame,x=w.bindingIndex;return w.bindingIndex=w.bindingIndex+C,x}function Xl(C,w){const x=dt.lFrame;x.bindingIndex=x.bindingRootIndex=C,$a(w)}function $a(C){dt.lFrame.currentDirectiveIndex=C}function Ka(){return dt.lFrame.currentQueryIndex}function hl(C){dt.lFrame.currentQueryIndex=C}function Jo(C){const w=C[1];return 2===w.type?w.declTNode:1===w.type?C[6]:null}function Zo(C,w,x){if(x&$e.SkipSelf){let ce=w,Ee=C;for(;!(ce=ce.parent,null!==ce||x&$e.Host||(ce=Jo(Ee),null===ce||(Ee=Ee[15],10&ce.type))););if(null===ce)return!1;w=ce,C=Ee}const H=dt.lFrame=ha();return H.currentTNode=w,H.lView=C,!0}function oa(C){const w=ha(),x=C[1];dt.lFrame=w,w.currentTNode=x.firstChild,w.lView=C,w.tView=x,w.contextLView=C,w.bindingIndex=x.bindingStartIndex,w.inI18n=!1}function ha(){const C=dt.lFrame,w=null===C?null:C.child;return null===w?pl(C):w}function pl(C){const w={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:C,child:null,inI18n:!1};return null!==C&&(C.child=w),w}function Ma(){const C=dt.lFrame;return dt.lFrame=C.parent,C.currentTNode=null,C.lView=null,C}const Tl=Ma;function Bs(){const C=Ma();C.isParent=!0,C.tView=null,C.selectedIndex=-1,C.contextLView=null,C.elementDepthCount=0,C.currentDirectiveIndex=-1,C.currentNamespace=null,C.bindingRootIndex=-1,C.bindingIndex=-1,C.currentQueryIndex=0}function Qs(){return dt.lFrame.selectedIndex}function fo(C){dt.lFrame.selectedIndex=C}function Ls(){const C=dt.lFrame;return ji(C.tView,C.selectedIndex)}function so(C,w){for(let x=w.directiveStart,H=w.directiveEnd;x<H;x++){const Ee=C.data[x].type.prototype,{ngAfterContentInit:We,ngAfterContentChecked:tt,ngAfterViewInit:ft,ngAfterViewChecked:Ft,ngOnDestroy:Qt}=Ee;We&&(C.contentHooks||(C.contentHooks=[])).push(-x,We),tt&&((C.contentHooks||(C.contentHooks=[])).push(x,tt),(C.contentCheckHooks||(C.contentCheckHooks=[])).push(x,tt)),ft&&(C.viewHooks||(C.viewHooks=[])).push(-x,ft),Ft&&((C.viewHooks||(C.viewHooks=[])).push(x,Ft),(C.viewCheckHooks||(C.viewCheckHooks=[])).push(x,Ft)),null!=Qt&&(C.destroyHooks||(C.destroyHooks=[])).push(x,Qt)}}function xa(C,w,x){tl(C,w,3,x)}function Ga(C,w,x,H){(3&C[2])===x&&tl(C,w,x,H)}function Fo(C,w){let x=C[2];(3&x)===w&&(x&=2047,x+=1,C[2]=x)}function tl(C,w,x,H){const Ee=null!=H?H:-1,We=w.length-1;let tt=0;for(let ft=void 0!==H?65535&C[18]:0;ft<We;ft++)if("number"==typeof w[ft+1]){if(tt=w[ft],null!=H&&tt>=H)break}else w[ft]<0&&(C[18]+=65536),(tt<Ee||-1==Ee)&&(ml(C,x,w,ft),C[18]=(4294901760&C[18])+ft+2),ft++}function ml(C,w,x,H){const ce=x[H]<0,Ee=x[H+1],tt=C[ce?-x[H]:x[H]];if(ce){if(C[2]>>11<C[18]>>16&&(3&C[2])===w){C[2]+=2048;try{Ee.call(tt)}finally{}}}else try{Ee.call(tt)}finally{}}class jo{constructor(w,x,H){this.factory=w,this.resolving=!1,this.canSeeViewProviders=x,this.injectImpl=H}}function it(C,w,x){const H=nn(C);let ce=0;for(;ce<x.length;){const Ee=x[ce];if("number"==typeof Ee){if(0!==Ee)break;ce++;const We=x[ce++],tt=x[ce++],ft=x[ce++];H?C.setAttribute(w,tt,ft,We):w.setAttributeNS(We,tt,ft)}else{const We=Ee,tt=x[++ce];jt(We)?H&&C.setProperty(w,We,tt):H?C.setAttribute(w,We,tt):w.setAttribute(We,tt),ce++}}return ce}function lt(C){return 3===C||4===C||6===C}function jt(C){return 64===C.charCodeAt(0)}function Tn(C,w){if(null!==w&&0!==w.length)if(null===C||0===C.length)C=w.slice();else{let x=-1;for(let H=0;H<w.length;H++){const ce=w[H];"number"==typeof ce?x=ce:0===x||Sr(C,x,ce,null,-1===x||2===x?w[++H]:null)}}return C}function Sr(C,w,x,H,ce){let Ee=0,We=C.length;if(-1===w)We=-1;else for(;Ee<C.length;){const tt=C[Ee++];if("number"==typeof tt){if(tt===w){We=-1;break}if(tt>w){We=Ee-1;break}}}for(;Ee<C.length;){const tt=C[Ee];if("number"==typeof tt)break;if(tt===x){if(null===H)return void(null!==ce&&(C[Ee+1]=ce));if(H===C[Ee+1])return void(C[Ee+2]=ce)}Ee++,null!==H&&Ee++,null!==ce&&Ee++}-1!==We&&(C.splice(We,0,w),Ee=We+1),C.splice(Ee++,0,x),null!==H&&C.splice(Ee++,0,H),null!==ce&&C.splice(Ee++,0,ce)}function xi(C){return-1!==C}function js(C){return 32767&C}function mo(C,w){let x=function Yo(C){return C>>16}(C),H=w;for(;x>0;)H=H[15],x--;return H}let wa=!0;function Ba(C){const w=wa;return wa=C,w}let Wc=0;function rl(C,w){const x=Go(C,w);if(-1!==x)return x;const H=w[1];H.firstCreatePass&&(C.injectorIndex=w.length,il(H.data,C),il(w,null),il(H.blueprint,null));const ce=st(C,w),Ee=C.injectorIndex;if(xi(ce)){const We=js(ce),tt=mo(ce,w),ft=tt[1].data;for(let Ft=0;Ft<8;Ft++)w[Ee+Ft]=tt[We+Ft]|ft[We+Ft]}return w[Ee+8]=ce,Ee}function il(C,w){C.push(0,0,0,0,0,0,0,0,w)}function Go(C,w){return-1===C.injectorIndex||C.parent&&C.parent.injectorIndex===C.injectorIndex||null===w[C.injectorIndex+8]?-1:C.injectorIndex}function st(C,w){if(C.parent&&-1!==C.parent.injectorIndex)return C.parent.injectorIndex;let x=0,H=null,ce=w;for(;null!==ce;){const Ee=ce[1],We=Ee.type;if(H=2===We?Ee.declTNode:1===We?ce[6]:null,null===H)return-1;if(x++,ce=ce[15],-1!==H.injectorIndex)return H.injectorIndex|x<<16}return-1}function Qe(C,w,x){!function _l(C,w,x){let H;"string"==typeof x?H=x.charCodeAt(0)||0:x.hasOwnProperty(jn)&&(H=x[jn]),null==H&&(H=x[jn]=Wc++);const ce=255&H;w.data[C+(ce>>5)]|=1<<ce}(C,w,x)}function fe(C,w,x){if(x&$e.Optional)return C;J(w,"NodeInjector")}function Te(C,w,x,H){if(x&$e.Optional&&void 0===H&&(H=null),0==(x&($e.Self|$e.Host))){const ce=C[9],Ee=Tt(void 0);try{return ce?ce.get(w,H,x&$e.Optional):It(w,H,x&$e.Optional)}finally{Tt(Ee)}}return fe(H,w,x)}function Ie(C,w,x,H=$e.Default,ce){if(null!==C){const Ee=function bn(C){if("string"==typeof C)return C.charCodeAt(0)||0;const w=C.hasOwnProperty(jn)?C[jn]:void 0;return"number"==typeof w?w>=0?255&w:Ge:w}(x);if("function"==typeof Ee){if(!Zo(w,C,H))return H&$e.Host?fe(ce,x,H):Te(w,x,H,ce);try{const We=Ee(H);if(null!=We||H&$e.Optional)return We;J(x)}finally{Tl()}}else if("number"==typeof Ee){let We=null,tt=Go(C,w),ft=-1,Ft=H&$e.Host?w[16][6]:null;for((-1===tt||H&$e.SkipSelf)&&(ft=-1===tt?st(C,w):w[tt+8],-1!==ft&&Ir(H,!1)?(We=w[1],tt=js(ft),w=mo(ft,w)):tt=-1);-1!==tt;){const Qt=w[1];if(qn(Ee,tt,Qt.data)){const _n=bt(tt,w,x,We,H,Ft);if(_n!==Oe)return _n}ft=w[tt+8],-1!==ft&&Ir(H,w[1].data[tt+8]===Ft)&&qn(Ee,tt,w)?(We=Qt,tt=js(ft),w=mo(ft,w)):tt=-1}}}return Te(w,x,H,ce)}const Oe={};function Ge(){return new Nr(ws(),Kr())}function bt(C,w,x,H,ce,Ee){const We=w[1],tt=We.data[C+8],Qt=Kt(tt,We,x,null==H?cs(tt)&&wa:H!=We&&0!=(3&tt.type),ce&$e.Host&&Ee===tt);return null!==Qt?dn(w,We,Qt,tt):Oe}function Kt(C,w,x,H,ce){const Ee=C.providerIndexes,We=w.data,tt=1048575&Ee,ft=C.directiveStart,Qt=Ee>>20,Vn=ce?tt+Qt:C.directiveEnd;for(let lr=H?tt:tt+Qt;lr<Vn;lr++){const jr=We[lr];if(lr<ft&&x===jr||lr>=ft&&jr.type===x)return lr}if(ce){const lr=We[ft];if(lr&&gn(lr)&&lr.type===x)return ft}return null}function dn(C,w,x,H){let ce=C[x];const Ee=w.data;if(function nl(C){return C instanceof jo}(ce)){const We=ce;We.resolving&&function U(C,w){const x=w?`. Dependency path: ${w.join(" > ")} > ${C}`:"";throw new re(-200,`Circular dependency in DI detected for ${C}${x}`)}(R(Ee[x]));const tt=Ba(We.canSeeViewProviders);We.resolving=!0;const ft=We.injectImpl?Tt(We.injectImpl):null;Zo(C,H,$e.Default);try{ce=C[x]=We.factory(void 0,Ee,C,H),w.firstCreatePass&&x>=H.directiveStart&&function fl(C,w,x){const{ngOnChanges:H,ngOnInit:ce,ngDoCheck:Ee}=w.type.prototype;if(H){const We=_o(w);(x.preOrderHooks||(x.preOrderHooks=[])).push(C,We),(x.preOrderCheckHooks||(x.preOrderCheckHooks=[])).push(C,We)}ce&&(x.preOrderHooks||(x.preOrderHooks=[])).push(0-C,ce),Ee&&((x.preOrderHooks||(x.preOrderHooks=[])).push(C,Ee),(x.preOrderCheckHooks||(x.preOrderCheckHooks=[])).push(C,Ee))}(x,Ee[x],w)}finally{null!==ft&&Tt(ft),Ba(tt),We.resolving=!1,Tl()}}return ce}function qn(C,w,x){return!!(x[w+(C>>5)]&1<<C)}function Ir(C,w){return!(C&$e.Self||C&$e.Host&&w)}class Nr{constructor(w,x){this._tNode=w,this._lView=x}get(w,x,H){return Ie(this._tNode,this._lView,w,H,x)}}function Gr(C){return Rt(()=>{const w=C.prototype.constructor,x=w[Wn]||Si(w),H=Object.prototype;let ce=Object.getPrototypeOf(C.prototype).constructor;for(;ce&&ce!==H;){const Ee=ce[Wn]||Si(ce);if(Ee&&Ee!==x)return Ee;ce=Object.getPrototypeOf(ce)}return Ee=>new Ee})}function Si(C){return te(C)?()=>{const w=Si(ne(C));return w&&w()}:$i(C)}function is(C){return function ze(C,w){if("class"===w)return C.classes;if("style"===w)return C.styles;const x=C.attrs;if(x){const H=x.length;let ce=0;for(;ce<H;){const Ee=x[ce];if(lt(Ee))break;if(0===Ee)ce+=2;else if("number"==typeof Ee)for(ce++;ce<H&&"string"==typeof x[ce];)ce++;else{if(Ee===w)return x[ce+1];ce+=2}}}return null}(ws(),C)}const ms="__parameters__";function Il(C,w,x){return Rt(()=>{const H=function pa(C){return function(...x){if(C){const H=C(...x);for(const ce in H)this[ce]=H[ce]}}}(w);function ce(...Ee){if(this instanceof ce)return H.apply(this,Ee),this;const We=new ce(...Ee);return tt.annotation=We,tt;function tt(ft,Ft,Qt){const _n=ft.hasOwnProperty(ms)?ft[ms]:Object.defineProperty(ft,ms,{value:[]})[ms];for(;_n.length<=Qt;)_n.push(null);return(_n[Qt]=_n[Qt]||[]).push(We),ft}}return x&&(ce.prototype=Object.create(x.prototype)),ce.prototype.ngMetadataName=C,ce.annotationCls=ce,ce})}class xo{constructor(w,x){this._desc=w,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof x?this.__NG_ELEMENT_ID__=x:void 0!==x&&(this.\u0275prov=nt({token:this,providedIn:x.providedIn||"root",factory:x.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mu=new xo("AnalyzeForEntryComponents");function Sa(C,w){void 0===w&&(w=C);for(let x=0;x<C.length;x++){let H=C[x];Array.isArray(H)?(w===C&&(w=C.slice(0,x)),Sa(H,w)):w!==C&&w.push(H)}return w}function Ja(C,w){C.forEach(x=>Array.isArray(x)?Ja(x,w):w(x))}function Ku(C,w,x){w>=C.length?C.push(x):C.splice(w,0,x)}function Gu(C,w){return w>=C.length-1?C.pop():C.splice(w,1)[0]}function vu(C,w){const x=[];for(let H=0;H<C;H++)x.push(w);return x}function Va(C,w,x){let H=bu(C,w);return H>=0?C[1|H]=x:(H=~H,function xd(C,w,x,H){let ce=C.length;if(ce==w)C.push(x,H);else if(1===ce)C.push(H,C[0]),C[0]=x;else{for(ce--,C.push(C[ce-1],C[ce]);ce>w;)C[ce]=C[ce-2],ce--;C[w]=x,C[w+1]=H}}(C,H,w,x)),H}function Ju(C,w){const x=bu(C,w);if(x>=0)return C[1|x]}function bu(C,w){return function vc(C,w,x){let H=0,ce=C.length>>x;for(;ce!==H;){const Ee=H+(ce-H>>1),We=C[Ee<<x];if(w===We)return Ee<<x;We>w?ce=Ee:H=Ee+1}return~(ce<<x)}(C,w,1)}const Ec={},Kc="__NG_DI_FLAG__",Cc="ngTempTokenPath",rc=/\n/gm,Mc="__source",Ud=Z({provide:String,useValue:Z});let vl;function Cu(C){const w=vl;return vl=C,w}function Mu(C,w=$e.Default){if(void 0===vl)throw new re(203,"");return null===vl?It(C,void 0,w):vl.get(C,w&$e.Optional?null:void 0,w)}function Ho(C,w=$e.Default){return(function mt(){return ot}()||Mu)(ne(C),w)}const lh=Ho;function ed(C){const w=[];for(let x=0;x<C.length;x++){const H=ne(C[x]);if(Array.isArray(H)){if(0===H.length)throw new re(900,"");let ce,Ee=$e.Default;for(let We=0;We<H.length;We++){const tt=H[We],ft=Nd(tt);"number"==typeof ft?-1===ft?ce=tt.token:Ee|=ft:ce=tt}w.push(Ho(ce,Ee))}else w.push(Ho(H))}return w}function Do(C,w){return C[Kc]=w,C.prototype[Kc]=w,C}function Nd(C){return C[Kc]}const ke=Do(Il("Inject",C=>({token:C})),-1),qe=Do(Il("Optional"),8),Gt=Do(Il("SkipSelf"),4);let qr,Fs;function mi(C){var w;return(null===(w=function Pi(){if(void 0===qr&&(qr=null,Xn.trustedTypes))try{qr=Xn.trustedTypes.createPolicy("angular",{createHTML:C=>C,createScript:C=>C,createScriptURL:C=>C})}catch(C){}return qr}())||void 0===w?void 0:w.createHTML(C))||C}function Os(C){var w;return(null===(w=function ns(){if(void 0===Fs&&(Fs=null,Xn.trustedTypes))try{Fs=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:C=>C,createScript:C=>C,createScriptURL:C=>C})}catch(C){}return Fs}())||void 0===w?void 0:w.createHTML(C))||C}class dr{constructor(w){this.changingThisBreaksApplicationSecurity=w}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ai(C){return C instanceof dr?C.changingThisBreaksApplicationSecurity:C}function Ti(C,w){const x=function Gi(C){return C instanceof dr&&C.getTypeName()||null}(C);if(null!=x&&x!==w){if("ResourceURL"===x&&"URL"===w)return!0;throw new Error(`Required a safe ${w}, got a ${x} (see https://g.co/ng/security#xss)`)}return x===w}class vs{constructor(w){this.inertDocumentHelper=w}getInertBodyElement(w){w="<body><remove></remove>"+w;try{const x=(new window.DOMParser).parseFromString(mi(w),"text/html").body;return null===x?this.inertDocumentHelper.getInertBodyElement(w):(x.removeChild(x.firstChild),x)}catch(x){return null}}}class ys{constructor(w){if(this.defaultDoc=w,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const x=this.inertDocument.createElement("html");this.inertDocument.appendChild(x);const H=this.inertDocument.createElement("body");x.appendChild(H)}}getInertBodyElement(w){const x=this.inertDocument.createElement("template");if("content"in x)return x.innerHTML=mi(w),x;const H=this.inertDocument.createElement("body");return H.innerHTML=mi(w),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(H),H}stripCustomNsAttrs(w){const x=w.attributes;for(let ce=x.length-1;0<ce;ce--){const We=x.item(ce).name;("xmlns:ns1"===We||0===We.indexOf("ns1:"))&&w.removeAttribute(We)}let H=w.firstChild;for(;H;)H.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(H),H=H.nextSibling}}const zo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ra=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sl(C){return(C=String(C)).match(zo)||C.match(Ra)?C:"unsafe:"+C}function bl(C){const w={};for(const x of C.split(","))w[x]=!0;return w}function Gc(...C){const w={};for(const x of C)for(const H in x)x.hasOwnProperty(H)&&(w[H]=!0);return w}const ch=bl("area,br,col,hr,img,wbr"),wc=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lp=bl("rp,rt"),Jc=Gc(ch,Gc(wc,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(Lp,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(Lp,wc)),td=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=bl("srcset"),wu=Gc(td,Yh,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fp=bl("script,style,template");class Up{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(w){let x=w.firstChild,H=!0;for(;x;)if(x.nodeType===Node.ELEMENT_NODE?H=this.startElement(x):x.nodeType===Node.TEXT_NODE?this.chars(x.nodeValue):this.sanitizedSomething=!0,H&&x.firstChild)x=x.firstChild;else for(;x;){x.nodeType===Node.ELEMENT_NODE&&this.endElement(x);let ce=this.checkClobberedElement(x,x.nextSibling);if(ce){x=ce;break}x=this.checkClobberedElement(x,x.parentNode)}return this.buf.join("")}startElement(w){const x=w.nodeName.toLowerCase();if(!Jc.hasOwnProperty(x))return this.sanitizedSomething=!0,!Fp.hasOwnProperty(x);this.buf.push("<"),this.buf.push(x);const H=w.attributes;for(let ce=0;ce<H.length;ce++){const Ee=H.item(ce),We=Ee.name,tt=We.toLowerCase();if(!wu.hasOwnProperty(tt)){this.sanitizedSomething=!0;continue}let ft=Ee.value;td[tt]&&(ft=sl(ft)),Yh[tt]&&(C=ft,ft=(C=String(C)).split(",").map(w=>sl(w.trim())).join(", ")),this.buf.push(" ",We,'="',$f(ft),'"')}var C;return this.buf.push(">"),!0}endElement(w){const x=w.nodeName.toLowerCase();Jc.hasOwnProperty(x)&&!ch.hasOwnProperty(x)&&(this.buf.push("</"),this.buf.push(x),this.buf.push(">"))}chars(w){this.buf.push($f(w))}checkClobberedElement(w,x){if(x&&(w.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${w.outerHTML}`);return x}}const M0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w0=/([^\#-~ |!])/g;function $f(C){return C.replace(/&/g,"&amp;").replace(M0,function(w){return"&#"+(1024*(w.charCodeAt(0)-55296)+(w.charCodeAt(1)-56320)+65536)+";"}).replace(w0,function(w){return"&#"+w.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bd;function nd(C){return"content"in C&&function Qh(C){return C.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===C.nodeName}(C)?C.content:null}var la=(()=>((la=la||{})[la.NONE=0]="NONE",la[la.HTML=1]="HTML",la[la.STYLE=2]="STYLE",la[la.SCRIPT=3]="SCRIPT",la[la.URL=4]="URL",la[la.RESOURCE_URL=5]="RESOURCE_URL",la))();function Xh(C){const w=Oc();return w?Os(w.sanitize(la.HTML,C)||""):Ti(C,"HTML")?Os(ai(C)):function Np(C,w){let x=null;try{Bd=Bd||function zi(C){const w=new ys(C);return function Eo(){try{return!!(new window.DOMParser).parseFromString(mi(""),"text/html")}catch(C){return!1}}()?new vs(w):w}(C);let H=w?String(w):"";x=Bd.getInertBodyElement(H);let ce=5,Ee=H;do{if(0===ce)throw new Error("Failed to sanitize html because the input is unstable");ce--,H=Ee,Ee=x.innerHTML,x=Bd.getInertBodyElement(H)}while(H!==Ee);return mi((new Up).sanitizeChildren(nd(x)||x))}finally{if(x){const H=nd(x)||x;for(;H.firstChild;)H.removeChild(H.firstChild)}}}(yt(),F(C))}function rd(C){const w=Oc();return w?w.sanitize(la.URL,C)||"":Ti(C,"URL")?ai(C):sl(F(C))}function Oc(){const C=Kr();return C&&C[12]}const jp="__ngContext__";function na(C,w){C[jp]=w}function dh(C){const w=function Wd(C){return C[jp]||null}(C);return w?Array.isArray(w)?w:w.lView:null}function Xi(C){return C.ngOriginalError}function Xs(C,...w){C.error(...w)}class hs{constructor(){this._console=console}handleError(w){const x=this._findOriginalError(w),H=function As(C){return C&&C.ngErrorLogger||Xs}(w);H(this._console,"ERROR",w),x&&H(this._console,"ORIGINAL ERROR",x)}_findOriginalError(w){let x=w&&Xi(w);for(;x&&Xi(x);)x=Xi(x);return x||null}}const Sc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xn))();function Zl(C){return C.ownerDocument.defaultView}function si(C){return C.ownerDocument}function ga(C){return C instanceof Function?C():C}var ks=(()=>((ks=ks||{})[ks.Important=1]="Important",ks[ks.DashCase=2]="DashCase",ks))();function xl(C,w){return undefined(C,w)}function Mo(C){const w=C[3];return Un(w)?w[3]:w}function La(C){return Xc(C[13])}function Dc(C){return Xc(C[4])}function Xc(C){for(;null!==C&&!Un(C);)C=C[4];return C}function qc(C,w,x,H,ce){if(null!=H){let Ee,We=!1;Un(H)?Ee=H:yi(H)&&(We=!0,H=H[0]);const tt=ht(H);0===C&&null!==x?null==ce?qf(w,x,tt):ld(w,x,tt,ce||null,!0):1===C&&null!==x?ld(w,x,tt,ce||null,!0):2===C?function nm(C,w,x){const H=zp(C,w);H&&function I0(C,w,x,H){nn(C)?C.removeChild(w,x,H):w.removeChild(x)}(C,H,w,x)}(w,tt,We):3===C&&w.destroyNode(tt),null!=Ee&&function L0(C,w,x,H,ce){const Ee=x[7];Ee!==ht(x)&&qc(w,C,H,Ee,ce);for(let tt=10;tt<x.length;tt++){const ft=x[tt];fh(ft[1],ft,C,w,H,Ee)}}(w,C,Ee,x,ce)}}function qh(C,w,x){if(nn(C))return C.createElement(w,x);{const H=null!==x?function qt(C){const w=C.toLowerCase();return"svg"===w?"http://www.w3.org/2000/svg":"math"===w?"http://www.w3.org/1998/MathML/":null}(x):null;return null===H?C.createElement(w):C.createElementNS(H,w)}}function T0(C,w){const x=C[9],H=x.indexOf(w),ce=w[3];1024&w[2]&&(w[2]&=-1025,Et(ce,-1)),x.splice(H,1)}function Rl(C,w){if(C.length<=10)return;const x=10+w,H=C[x];if(H){const ce=H[17];null!==ce&&ce!==C&&T0(ce,H),w>0&&(C[x-1][4]=H[4]);const Ee=Gu(C,10+w);!function eu(C,w){fh(C,w,w[11],2,null,null),w[0]=null,w[6]=null}(H[1],H);const We=Ee[19];null!==We&&We.detachView(Ee[1]),H[3]=null,H[4]=null,H[2]&=-129}return H}function D0(C,w){if(!(256&w[2])){const x=w[11];nn(x)&&x.destroyNode&&fh(C,w,x,3,null,null),function S0(C){let w=C[13];if(!w)return Cl(C[1],C);for(;w;){let x=null;if(yi(w))x=w[13];else{const H=w[10];H&&(x=H)}if(!x){for(;w&&!w[4]&&w!==C;)yi(w)&&Cl(w[1],w),w=w[3];null===w&&(w=C),yi(w)&&Cl(w[1],w),x=w&&w[4]}w=x}}(w)}}function Cl(C,w){if(!(256&w[2])){w[2]&=-129,w[2]|=256,function Xf(C,w){let x;if(null!=C&&null!=(x=C.destroyHooks))for(let H=0;H<x.length;H+=2){const ce=w[x[H]];if(!(ce instanceof jo)){const Ee=x[H+1];if(Array.isArray(Ee))for(let We=0;We<Ee.length;We+=2){const tt=ce[Ee[We]],ft=Ee[We+1];try{ft.call(tt)}finally{}}else try{Ee.call(ce)}finally{}}}}(C,w),function P0(C,w){const x=C.cleanup,H=w[7];let ce=-1;if(null!==x)for(let Ee=0;Ee<x.length-1;Ee+=2)if("string"==typeof x[Ee]){const We=x[Ee+1],tt="function"==typeof We?We(w):ht(w[We]),ft=H[ce=x[Ee+2]],Ft=x[Ee+3];"boolean"==typeof Ft?tt.removeEventListener(x[Ee],ft,Ft):Ft>=0?H[ce=Ft]():H[ce=-Ft].unsubscribe(),Ee+=2}else{const We=H[ce=x[Ee+1]];x[Ee].call(We)}if(null!==H){for(let Ee=ce+1;Ee<H.length;Ee++)H[Ee]();w[7]=null}}(C,w),1===w[1].type&&nn(w[11])&&w[11].destroy();const x=w[17];if(null!==x&&Un(w[3])){x!==w[3]&&T0(x,w);const H=w[19];null!==H&&H.detachView(C)}}}function hh(C,w,x){return function Za(C,w,x){let H=w;for(;null!==H&&40&H.type;)H=(w=H).parent;if(null===H)return x[0];if(2&H.flags){const ce=C.data[H.directiveStart].encapsulation;if(ce===xt.None||ce===xt.Emulated)return null}return mr(H,x)}(C,w.parent,x)}function ld(C,w,x,H,ce){nn(C)?C.insertBefore(w,x,H,ce):w.insertBefore(x,H,ce)}function qf(C,w,x){nn(C)?C.appendChild(w,x):w.appendChild(x)}function em(C,w,x,H,ce){null!==H?ld(C,w,x,H,ce):qf(C,w,x)}function zp(C,w){return nn(C)?C.parentNode(w):w.parentNode}function A0(C,w,x){return tm(C,w,x)}let tm=function ph(C,w,x){return 40&C.type?mr(C,x):null};function Kp(C,w,x,H){const ce=hh(C,H,w),Ee=w[11],tt=A0(H.parent||w[6],H,w);if(null!=ce)if(Array.isArray(x))for(let ft=0;ft<x.length;ft++)em(Ee,ce,x[ft],tt,!1);else em(Ee,ce,x,tt,!1)}function Zd(C,w){if(null!==w){const x=w.type;if(3&x)return mr(w,C);if(4&x)return R0(-1,C[w.index]);if(8&x){const H=w.child;if(null!==H)return Zd(C,H);{const ce=C[w.index];return Un(ce)?R0(-1,ce):ht(ce)}}if(32&x)return xl(w,C)()||ht(C[w.index]);{const H=Pc(C,w);return null!==H?Array.isArray(H)?H[0]:Zd(Mo(C[16]),H):Zd(C,w.next)}}return null}function Pc(C,w){return null!==w?C[16][6].projection[w.projection]:null}function R0(C,w){const x=10+C+1;if(x<w.length){const H=w[x],ce=H[1].firstChild;if(null!==ce)return Zd(H,ce)}return w[7]}function Gp(C,w,x,H,ce,Ee,We){for(;null!=x;){const tt=H[x.index],ft=x.type;if(We&&0===w&&(tt&&na(ht(tt),H),x.flags|=4),64!=(64&x.flags))if(8&ft)Gp(C,w,x.child,H,ce,Ee,!1),qc(w,C,ce,tt,Ee);else if(32&ft){const Ft=xl(x,H);let Qt;for(;Qt=Ft();)qc(w,C,ce,Qt,Ee);qc(w,C,ce,tt,Ee)}else 16&ft?rm(C,w,H,x,ce,Ee):qc(w,C,ce,tt,Ee);x=We?x.projectionNext:x.next}}function fh(C,w,x,H,ce,Ee){Gp(x,H,C.firstChild,w,ce,Ee,!1)}function rm(C,w,x,H,ce,Ee){const We=x[16],ft=We[6].projection[H.projection];if(Array.isArray(ft))for(let Ft=0;Ft<ft.length;Ft++)qc(w,C,ce,ft[Ft],Ee);else Gp(C,w,ft,We[3],ce,Ee,!0)}function ep(C,w,x){nn(C)?C.setAttribute(w,"style",x):w.style.cssText=x}function im(C,w,x){nn(C)?""===x?C.removeAttribute(w,"class"):C.setAttribute(w,"class",x):w.className=x}function sm(C,w,x){let H=C.length;for(;;){const ce=C.indexOf(w,x);if(-1===ce)return ce;if(0===ce||C.charCodeAt(ce-1)<=32){const Ee=w.length;if(ce+Ee===H||C.charCodeAt(ce+Ee)<=32)return ce}x=ce+1}}const tu="ng-template";function r_(C,w,x){let H=0;for(;H<C.length;){let ce=C[H++];if(x&&"class"===ce){if(ce=C[H],-1!==sm(ce.toLowerCase(),w,0))return!0}else if(1===ce){for(;H<C.length&&"string"==typeof(ce=C[H++]);)if(ce.toLowerCase()===w)return!0;return!1}}return!1}function zd(C){return 4===C.type&&C.value!==tu}function i_(C,w,x){return w===(4!==C.type||x?C.value:tu)}function s_(C,w,x){let H=4;const ce=C.attrs||[],Ee=function o_(C){for(let w=0;w<C.length;w++)if(lt(C[w]))return w;return C.length}(ce);let We=!1;for(let tt=0;tt<w.length;tt++){const ft=w[tt];if("number"!=typeof ft){if(!We)if(4&H){if(H=2|1&H,""!==ft&&!i_(C,ft,x)||""===ft&&1===w.length){if(zl(H))return!1;We=!0}}else{const Ft=8&H?ft:w[++tt];if(8&H&&null!==C.attrs){if(!r_(C.attrs,Ft,x)){if(zl(H))return!1;We=!0}continue}const _n=tp(8&H?"class":ft,ce,zd(C),x);if(-1===_n){if(zl(H))return!1;We=!0;continue}if(""!==Ft){let Vn;Vn=_n>Ee?"":ce[_n+1].toLowerCase();const lr=8&H?Vn:null;if(lr&&-1!==sm(lr,Ft,0)||2&H&&Ft!==Vn){if(zl(H))return!1;We=!0}}}}else{if(!We&&!zl(H)&&!zl(ft))return!1;if(We&&zl(ft))continue;We=!1,H=ft|1&H}}return zl(H)||We}function zl(C){return 0==(1&C)}function tp(C,w,x,H){if(null===w)return-1;let ce=0;if(H||!x){let Ee=!1;for(;ce<w.length;){const We=w[ce];if(We===C)return ce;if(3===We||6===We)Ee=!0;else{if(1===We||2===We){let tt=w[++ce];for(;"string"==typeof tt;)tt=w[++ce];continue}if(4===We)break;if(0===We){ce+=4;continue}}ce+=Ee?1:2}return-1}return function cd(C,w){let x=C.indexOf(4);if(x>-1)for(x++;x<C.length;){const H=C[x];if("number"==typeof H)return-1;if(H===w)return x;x++}return-1}(w,C)}function U0(C,w,x=!1){for(let H=0;H<w.length;H++)if(s_(C,w[H],x))return!0;return!1}function N0(C,w){e:for(let x=0;x<w.length;x++){const H=w[x];if(C.length===H.length){for(let ce=0;ce<C.length;ce++)if(C[ce]!==H[ce])continue e;return!0}}return!1}function ud(C,w){return C?":not("+w.trim()+")":w}function j0(C){let w=C[0],x=1,H=2,ce="",Ee=!1;for(;x<C.length;){let We=C[x];if("string"==typeof We)if(2&H){const tt=C[++x];ce+="["+We+(tt.length>0?'="'+tt+'"':"")+"]"}else 8&H?ce+="."+We:4&H&&(ce+=" "+We);else""!==ce&&!zl(We)&&(w+=ud(Ee,ce),ce=""),H=We,Ee=Ee||!zl(H);x++}return""!==ce&&(w+=ud(Ee,ce)),w}const zs={};function B0(C){Ml(Ms(),Kr(),Qs()+C,!1)}function Ml(C,w,x,H){if(!H)if(3==(3&w[2])){const Ee=C.preOrderCheckHooks;null!==Ee&&xa(w,Ee,x)}else{const Ee=C.preOrderHooks;null!==Ee&&Ga(w,Ee,0,x)}fo(x)}function Yp(C,w){return C<<17|w<<2}function oc(C){return C>>17&32767}function Qp(C){return 2|C}function Tu(C){return(131068&C)>>2}function Xp(C,w){return-131069&C|w<<2}function nu(C){return 1|C}function sp(C,w){const x=C.contentQueries;if(null!==x)for(let H=0;H<x.length;H+=2){const ce=x[H],Ee=x[H+1];if(-1!==Ee){const We=C.data[Ee];hl(ce),We.contentQueries(2,w[Ee],Ee)}}}function ru(C,w,x,H,ce,Ee,We,tt,ft,Ft){const Qt=w.blueprint.slice();return Qt[0]=ce,Qt[2]=140|H,Dt(Qt),Qt[3]=Qt[15]=C,Qt[8]=x,Qt[10]=We||C&&C[10],Qt[11]=tt||C&&C[11],Qt[12]=ft||C&&C[12]||null,Qt[9]=Ft||C&&C[9]||null,Qt[6]=Ee,Qt[16]=2==w.type?C[16]:Qt,Qt}function md(C,w,x,H,ce){let Ee=C.data[w];if(null===Ee)Ee=function rf(C,w,x,H,ce){const Ee=Aa(),We=bo(),ft=C.data[w]=function G1(C,w,x,H,ce,Ee){return{type:x,index:H,insertBeforeIndex:null,injectorIndex:w?w.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:ce,attrs:Ee,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:w,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,We?Ee:Ee&&Ee.parent,x,w,H,ce);return null===C.firstChild&&(C.firstChild=ft),null!==Ee&&(We?null==Ee.child&&null!==ft.parent&&(Ee.child=ft):null===Ee.next&&(Ee.next=ft)),ft}(C,w,x,H,ce),function gc(){return dt.lFrame.inI18n}()&&(Ee.flags|=64);else if(64&Ee.type){Ee.type=x,Ee.value=H,Ee.attrs=ce;const We=function da(){const C=dt.lFrame,w=C.currentTNode;return C.isParent?w:w.parent}();Ee.injectorIndex=null===We?-1:We.injectorIndex}return Ea(Ee,!0),Ee}function _h(C,w,x,H){if(0===x)return-1;const ce=w.length;for(let Ee=0;Ee<x;Ee++)w.push(H),C.blueprint.push(H),C.data.push(null);return ce}function op(C,w,x){oa(w);try{const H=C.viewQuery;null!==H&&Fl(1,H,x);const ce=C.template;null!==ce&&iu(C,w,ce,1,x),C.firstCreatePass&&(C.firstCreatePass=!1),C.staticContentQueries&&sp(C,w),C.staticViewQueries&&Fl(2,C.viewQuery,x);const Ee=C.components;null!==Ee&&function dm(C,w){for(let x=0;x<w.length;x++)T_(C,w[x])}(w,Ee)}catch(H){throw C.firstCreatePass&&(C.incompleteFirstPass=!0,C.firstCreatePass=!1),H}finally{w[2]&=-5,Bs()}}function gd(C,w,x,H){const ce=w[2];if(256!=(256&ce)){oa(w);try{Dt(w),function dl(C){return dt.lFrame.bindingIndex=C}(C.bindingStartIndex),null!==x&&iu(C,w,x,2,H);const We=3==(3&ce);if(We){const Ft=C.preOrderCheckHooks;null!==Ft&&xa(w,Ft,null)}else{const Ft=C.preOrderHooks;null!==Ft&&Ga(w,Ft,0,null),Fo(w,0)}if(function rg(C){for(let w=La(C);null!==w;w=Dc(w)){if(!w[2])continue;const x=w[9];for(let H=0;H<x.length;H++){const ce=x[H],Ee=ce[3];0==(1024&ce[2])&&Et(Ee,1),ce[2]|=1024}}}(w),function S_(C){for(let w=La(C);null!==w;w=Dc(w))for(let x=10;x<w.length;x++){const H=w[x],ce=H[1];vo(H)&&gd(ce,H,ce.template,H[8])}}(w),null!==C.contentQueries&&sp(C,w),We){const Ft=C.contentCheckHooks;null!==Ft&&xa(w,Ft)}else{const Ft=C.contentHooks;null!==Ft&&Ga(w,Ft,1),Fo(w,1)}!function h_(C,w){const x=C.hostBindingOpCodes;if(null!==x)try{for(let H=0;H<x.length;H++){const ce=x[H];if(ce<0)fo(~ce);else{const Ee=ce,We=x[++H],tt=x[++H];Xl(We,Ee),tt(2,w[Ee])}}}finally{fo(-1)}}(C,w);const tt=C.components;null!==tt&&function p_(C,w){for(let x=0;x<w.length;x++)ig(C,w[x])}(w,tt);const ft=C.viewQuery;if(null!==ft&&Fl(2,ft,H),We){const Ft=C.viewCheckHooks;null!==Ft&&xa(w,Ft)}else{const Ft=C.viewHooks;null!==Ft&&Ga(w,Ft,2),Fo(w,2)}!0===C.firstUpdatePass&&(C.firstUpdatePass=!1),w[2]&=-73,1024&w[2]&&(w[2]&=-1025,Et(w[3],-1))}finally{Bs()}}}function hm(C,w,x,H){const ce=w[10],We=os(w);try{!We&&ce.begin&&ce.begin(),We&&op(C,w,H),gd(C,w,x,H)}finally{!We&&ce.end&&ce.end()}}function iu(C,w,x,H,ce){const Ee=Qs(),We=2&H;try{fo(-1),We&&w.length>20&&Ml(C,w,20,!1),x(H,ce)}finally{fo(Ee)}}function Pu(C,w,x){if(Qr(w)){const ce=w.directiveEnd;for(let Ee=w.directiveStart;Ee<ce;Ee++){const We=C.data[Ee];We.contentQueries&&We.contentQueries(1,x[Ee],Ee)}}}function sf(C,w,x){!ja()||(function b_(C,w,x,H){const ce=x.directiveStart,Ee=x.directiveEnd;C.firstCreatePass||rl(x,w),na(H,w);const We=x.initialInputs;for(let tt=ce;tt<Ee;tt++){const ft=C.data[tt],Ft=gn(ft);Ft&&w_(w,x,ft);const Qt=dn(w,C,tt,x);na(Qt,w),null!==We&&tg(0,tt-ce,Qt,ft,0,We),Ft&&(_i(x.index,w)[8]=Qt)}}(C,w,x,mr(x,w)),128==(128&x.flags)&&function E_(C,w,x){const H=x.directiveStart,ce=x.directiveEnd,We=x.index,tt=function Js(){return dt.lFrame.currentDirectiveIndex}();try{fo(We);for(let ft=H;ft<ce;ft++){const Ft=C.data[ft],Qt=w[ft];$a(ft),(null!==Ft.hostBindings||0!==Ft.hostVars||null!==Ft.hostAttrs)&&Q0(Ft,Qt)}}finally{fo(-1),$a(tt)}}(C,w,x))}function ap(C,w,x=mr){const H=w.localNames;if(null!==H){let ce=w.index+1;for(let Ee=0;Ee<H.length;Ee+=2){const We=H[Ee+1],tt=-1===We?x(w,C):C[We];C[ce++]=tt}}}function of(C){const w=C.tView;return null===w||w.incompleteFirstPass?C.tView=ac(1,null,C.template,C.decls,C.vars,C.directiveDefs,C.pipeDefs,C.viewQuery,C.schemas,C.consts):w}function ac(C,w,x,H,ce,Ee,We,tt,ft,Ft){const Qt=20+H,_n=Qt+ce,Vn=function vh(C,w){const x=[];for(let H=0;H<w;H++)x.push(H<C?null:zs);return x}(Qt,_n),lr="function"==typeof Ft?Ft():Ft;return Vn[1]={type:C,blueprint:Vn,template:x,queries:null,viewQuery:tt,declTNode:w,data:Vn.slice().fill(null,Qt),bindingStartIndex:Qt,expandoStartIndex:_n,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof Ee?Ee():Ee,pipeRegistry:"function"==typeof We?We():We,firstChild:null,schemas:ft,consts:lr,incompleteFirstPass:!1}}function f_(C,w,x,H){const ce=cf(w);null===x?ce.push(H):(ce.push(x),C.firstCreatePass&&sg(C).push(H,ce.length-1))}function m_(C,w,x){for(let H in C)if(C.hasOwnProperty(H)){const ce=C[H];(x=null===x?{}:x).hasOwnProperty(H)?x[H].push(w,ce):x[H]=[w,ce]}return x}function fm(C,w,x,H){let ce=!1;if(ja()){const Ee=function C_(C,w,x){const H=C.directiveRegistry;let ce=null;if(H)for(let Ee=0;Ee<H.length;Ee++){const We=H[Ee];U0(x,We.selectors,!1)&&(ce||(ce=[]),Qe(rl(x,w),C,We.type),gn(We)?(X0(C,x),ce.unshift(We)):ce.push(We))}return ce}(C,w,x),We=null===H?null:{"":-1};if(null!==Ee){ce=!0,q0(x,C.data.length,Ee.length);for(let Qt=0;Qt<Ee.length;Qt++){const _n=Ee[Qt];_n.providersResolver&&_n.providersResolver(_n)}let tt=!1,ft=!1,Ft=_h(C,w,Ee.length,null);for(let Qt=0;Qt<Ee.length;Qt++){const _n=Ee[Qt];x.mergedAttrs=Tn(x.mergedAttrs,_n.hostAttrs),eg(C,x,w,Ft,_n),bh(Ft,_n,We),null!==_n.contentQueries&&(x.flags|=8),(null!==_n.hostBindings||null!==_n.hostAttrs||0!==_n.hostVars)&&(x.flags|=128);const Vn=_n.type.prototype;!tt&&(Vn.ngOnChanges||Vn.ngOnInit||Vn.ngDoCheck)&&((C.preOrderHooks||(C.preOrderHooks=[])).push(x.index),tt=!0),!ft&&(Vn.ngOnChanges||Vn.ngDoCheck)&&((C.preOrderCheckHooks||(C.preOrderCheckHooks=[])).push(x.index),ft=!0),Ft++}!function pm(C,w){const H=w.directiveEnd,ce=C.data,Ee=w.attrs,We=[];let tt=null,ft=null;for(let Ft=w.directiveStart;Ft<H;Ft++){const Qt=ce[Ft],_n=Qt.inputs,Vn=null===Ee||zd(w)?null:O_(_n,Ee);We.push(Vn),tt=m_(_n,Ft,tt),ft=m_(Qt.outputs,Ft,ft)}null!==tt&&(tt.hasOwnProperty("class")&&(w.flags|=16),tt.hasOwnProperty("style")&&(w.flags|=32)),w.initialInputs=We,w.inputs=tt,w.outputs=ft}(C,x)}We&&function M_(C,w,x){if(w){const H=C.localNames=[];for(let ce=0;ce<w.length;ce+=2){const Ee=x[w[ce+1]];if(null==Ee)throw new re(-301,!1);H.push(w[ce],Ee)}}}(x,H,We)}return x.mergedAttrs=Tn(x.mergedAttrs,x.attrs),ce}function __(C,w,x,H,ce,Ee){const We=Ee.hostBindings;if(We){let tt=C.hostBindingOpCodes;null===tt&&(tt=C.hostBindingOpCodes=[]);const ft=~w.index;(function v_(C){let w=C.length;for(;w>0;){const x=C[--w];if("number"==typeof x&&x<0)return x}return 0})(tt)!=ft&&tt.push(ft),tt.push(H,ce,We)}}function Q0(C,w){null!==C.hostBindings&&C.hostBindings(1,w)}function X0(C,w){w.flags|=2,(C.components||(C.components=[])).push(w.index)}function bh(C,w,x){if(x){if(w.exportAs)for(let H=0;H<w.exportAs.length;H++)x[w.exportAs[H]]=C;gn(w)&&(x[""]=C)}}function q0(C,w,x){C.flags|=1,C.directiveStart=w,C.directiveEnd=w+x,C.providerIndexes=w}function eg(C,w,x,H,ce){C.data[H]=ce;const Ee=ce.factory||(ce.factory=$i(ce.type)),We=new jo(Ee,gn(ce),null);C.blueprint[H]=We,x[H]=We,__(C,w,0,H,_h(C,x,ce.hostVars,zs),ce)}function w_(C,w,x){const H=mr(w,C),ce=of(x),Ee=C[10],We=Iu(C,ru(C,ce,null,x.onPush?64:16,H,w,Ee,Ee.createRenderer(H,x),null,null));C[w.index]=We}function au(C,w,x,H,ce,Ee){const We=mr(C,w);!function mm(C,w,x,H,ce,Ee,We){if(null==Ee)nn(C)?C.removeAttribute(w,ce,x):w.removeAttribute(ce);else{const tt=null==We?F(Ee):We(Ee,H||"",ce);nn(C)?C.setAttribute(w,ce,tt,x):x?w.setAttributeNS(x,ce,tt):w.setAttribute(ce,tt)}}(w[11],We,Ee,C.value,x,H,ce)}function tg(C,w,x,H,ce,Ee){const We=Ee[w];if(null!==We){const tt=H.setInput;for(let ft=0;ft<We.length;){const Ft=We[ft++],Qt=We[ft++],_n=We[ft++];null!==tt?H.setInput(x,_n,Ft,Qt):x[Qt]=_n}}}function O_(C,w){let x=null,H=0;for(;H<w.length;){const ce=w[H];if(0!==ce)if(5!==ce){if("number"==typeof ce)break;C.hasOwnProperty(ce)&&(null===x&&(x=[]),x.push(ce,C[ce],w[H+1])),H+=2}else H+=2;else H+=4}return x}function ng(C,w,x,H){return new Array(C,!0,!1,w,null,0,H,x,null,null)}function ig(C,w){const x=_i(w,C);if(vo(x)){const H=x[1];80&x[2]?gd(H,x,H.template,x[8]):x[5]>0&&gm(x)}}function gm(C){for(let H=La(C);null!==H;H=Dc(H))for(let ce=10;ce<H.length;ce++){const Ee=H[ce];if(1024&Ee[2]){const We=Ee[1];gd(We,Ee,We.template,Ee[8])}else Ee[5]>0&&gm(Ee)}const x=C[1].components;if(null!==x)for(let H=0;H<x.length;H++){const ce=_i(x[H],C);vo(ce)&&ce[5]>0&&gm(ce)}}function T_(C,w){const x=_i(w,C),H=x[1];(function D_(C,w){for(let x=w.length;x<C.blueprint.length;x++)w.push(C.blueprint[x])})(H,x),op(H,x,x[8])}function Iu(C,w){return C[13]?C[14][4]=w:C[13]=w,C[14]=w,w}function ym(C){for(;C;){C[2]|=64;const w=Mo(C);if(kt(C)&&!w)return C;C=w}return null}function lf(C){!function vm(C){for(let w=0;w<C.components.length;w++){const x=C.components[w],H=dh(x),ce=H[1];hm(ce,H,ce.template,x)}}(C[8])}function Fl(C,w,x){hl(0),w(C,x)}const P_=(()=>Promise.resolve(null))();function cf(C){return C[7]||(C[7]=[])}function sg(C){return C.cleanup||(C.cleanup=[])}function lp(C,w){const x=C[9],H=x?x.get(hs,null):null;H&&H.handleError(w)}function og(C,w,x,H,ce){for(let Ee=0;Ee<x.length;){const We=x[Ee++],tt=x[Ee++],ft=w[We],Ft=C.data[We];null!==Ft.setInput?Ft.setInput(ft,ce,H,tt):ft[tt]=ce}}function lc(C,w,x){const H=Jn(w,C);!function Vp(C,w,x){nn(C)?C.setValue(w,x):w.textContent=x}(C[11],H,x)}function cp(C,w,x){let H=x?C.styles:null,ce=x?C.classes:null,Ee=0;if(null!==w)for(let We=0;We<w.length;We++){const tt=w[We];"number"==typeof tt?Ee=tt:1==Ee?ce=N(ce,tt):2==Ee&&(H=N(H,tt+": "+w[++We]+";"))}x?C.styles=H:C.stylesWithoutHost=H,x?C.classes=ce:C.classesWithoutHost=ce}const Ch=new xo("INJECTOR",-1);class Kd{get(w,x=Ec){if(x===Ec){const H=new Error(`NullInjectorError: No provider for ${k(w)}!`);throw H.name="NullInjectorError",H}return x}}const Em=new xo("Set Injector scope."),dp={},A_={};let lu;function Cm(){return void 0===lu&&(lu=new Kd),lu}function Mm(C,w=null,x=null,H){const ce=ag(C,w,x,H);return ce._resolveInjectorDefTypes(),ce}function ag(C,w=null,x=null,H){return new uf(C,x,w||Cm(),H)}class uf{constructor(w,x,H,ce=null){this.parent=H,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const Ee=[];x&&Ja(x,tt=>this.processProvider(tt,w,x)),Ja([w],tt=>this.processInjectorType(tt,[],Ee)),this.records.set(Ch,Mh(void 0,this));const We=this.records.get(Em);this.scope=null!=We?We.value:null,this.source=ce||("object"==typeof w?null:k(w))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(w=>w.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(w,x=Ec,H=$e.Default){this.assertNotDestroyed();const ce=Cu(this),Ee=Tt(void 0);try{if(!(H&$e.SkipSelf)){let tt=this.records.get(w);if(void 0===tt){const ft=function L_(C){return"function"==typeof C||"object"==typeof C&&C instanceof xo}(w)&&xe(w);tt=ft&&this.injectableDefInScope(ft)?Mh(wm(w),dp):null,this.records.set(w,tt)}if(null!=tt)return this.hydrate(w,tt)}return(H&$e.Self?Cm():this.parent).get(w,x=H&$e.Optional&&x===Ec?null:x)}catch(We){if("NullInjectorError"===We.name){if((We[Cc]=We[Cc]||[]).unshift(k(w)),ce)throw We;return function me(C,w,x,H){const ce=C[Cc];throw w[Mc]&&ce.unshift(w[Mc]),C.message=function Pe(C,w,x,H=null){C=C&&"\n"===C.charAt(0)&&"\u0275"==C.charAt(1)?C.substr(2):C;let ce=k(w);if(Array.isArray(w))ce=w.map(k).join(" -> ");else if("object"==typeof w){let Ee=[];for(let We in w)if(w.hasOwnProperty(We)){let tt=w[We];Ee.push(We+":"+("string"==typeof tt?JSON.stringify(tt):k(tt)))}ce=`{${Ee.join(", ")}}`}return`${x}${H?"("+H+")":""}[${ce}]: ${C.replace(rc,"\n  ")}`}("\n"+C.message,ce,x,H),C.ngTokenPath=ce,C[Cc]=null,C}(We,w,"R3InjectorError",this.source)}throw We}finally{Tt(Ee),Cu(ce)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(w=>this.get(w))}toString(){const w=[];return this.records.forEach((H,ce)=>w.push(k(ce))),`R3Injector[${w.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processInjectorType(w,x,H){if(!(w=ne(w)))return!1;let ce=Ze(w);const Ee=null==ce&&w.ngModule||void 0,We=void 0===Ee?w:Ee,tt=-1!==H.indexOf(We);if(void 0!==Ee&&(ce=Ze(Ee)),null==ce)return!1;if(null!=ce.imports&&!tt){let Qt;H.push(We);try{Ja(ce.imports,_n=>{this.processInjectorType(_n,x,H)&&(void 0===Qt&&(Qt=[]),Qt.push(_n))})}finally{}if(void 0!==Qt)for(let _n=0;_n<Qt.length;_n++){const{ngModule:Vn,providers:lr}=Qt[_n];Ja(lr,jr=>this.processProvider(jr,Vn,lr||zn))}}this.injectorDefTypes.add(We);const ft=$i(We)||(()=>new We);this.records.set(We,Mh(ft,dp));const Ft=ce.providers;if(null!=Ft&&!tt){const Qt=w;Ja(Ft,_n=>this.processProvider(_n,Qt,Ft))}return void 0!==Ee&&void 0!==w.providers}processProvider(w,x,H){let ce=wh(w=ne(w))?w:ne(w&&w.provide);const Ee=function R_(C,w,x){return Om(C)?Mh(void 0,C.useValue):Mh(lg(C),dp)}(w);if(wh(w)||!0!==w.multi)this.records.get(ce);else{let We=this.records.get(ce);We||(We=Mh(void 0,dp,!0),We.factory=()=>ed(We.multi),this.records.set(ce,We)),ce=w,We.multi.push(w)}this.records.set(ce,Ee)}hydrate(w,x){return x.value===dp&&(x.value=A_,x.value=x.factory()),"object"==typeof x.value&&x.value&&function wl(C){return null!==C&&"object"==typeof C&&"function"==typeof C.ngOnDestroy}(x.value)&&this.onDestroy.add(x.value),x.value}injectableDefInScope(w){if(!w.providedIn)return!1;const x=ne(w.providedIn);return"string"==typeof x?"any"===x||x===this.scope:this.injectorDefTypes.has(x)}}function wm(C){const w=xe(C),x=null!==w?w.factory:$i(C);if(null!==x)return x;if(C instanceof xo)throw new re(204,!1);if(C instanceof Function)return function x_(C){const w=C.length;if(w>0)throw vu(w,"?"),new re(204,!1);const x=function Ke(C){const w=C&&(C[ct]||C[Be]);if(w){const x=function Fe(C){if(C.hasOwnProperty("name"))return C.name;const w=(""+C).match(/^function\s*([^\s(]+)/);return null===w?"":w[1]}(C);return console.warn(`DEPRECATED: DI is instantiating a token "${x}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${x}" class.`),w}return null}(C);return null!==x?()=>x.factory(C):()=>new C}(C);throw new re(204,!1)}function lg(C,w,x){let H;if(wh(C)){const ce=ne(C);return $i(ce)||wm(ce)}if(Om(C))H=()=>ne(C.useValue);else if(function df(C){return!(!C||!C.useFactory)}(C))H=()=>C.useFactory(...ed(C.deps||[]));else if(function Gd(C){return!(!C||!C.useExisting)}(C))H=()=>Ho(ne(C.useExisting));else{const ce=ne(C&&(C.useClass||C.provide));if(!function Sm(C){return!!C.deps}(C))return $i(ce)||wm(ce);H=()=>new ce(...ed(C.deps))}return H}function Mh(C,w,x=!1){return{factory:C,value:w,multi:x?[]:void 0}}function Om(C){return null!==C&&"object"==typeof C&&Ud in C}function wh(C){return"function"==typeof C}let cc=(()=>{class C{static create(x,H){var ce;if(Array.isArray(x))return Mm({name:""},H,x,"");{const Ee=null!==(ce=x.name)&&void 0!==ce?ce:"";return Mm({name:Ee},x.parent,x.providers,Ee)}}}return C.THROW_IF_NOT_FOUND=Ec,C.NULL=new Kd,C.\u0275prov=nt({token:C,providedIn:"any",factory:()=>Ho(Ch)}),C.__NG_ELEMENT_ID__=-1,C})();function fg(C,w){so(dh(C)[1],ws())}function vd(C){let w=function mg(C){return Object.getPrototypeOf(C.prototype).constructor}(C.type),x=!0;const H=[C];for(;w;){let ce;if(gn(C))ce=w.\u0275cmp||w.\u0275dir;else{if(w.\u0275cmp)throw new re(903,"");ce=w.\u0275dir}if(ce){if(x){H.push(ce);const We=C;We.inputs=uu(C.inputs),We.declaredInputs=uu(C.declaredInputs),We.outputs=uu(C.outputs);const tt=ce.hostBindings;tt&&Lu(C,tt);const ft=ce.viewQuery,Ft=ce.contentQueries;if(ft&&gg(C,ft),Ft&&mp(C,Ft),D(C.inputs,ce.inputs),D(C.declaredInputs,ce.declaredInputs),D(C.outputs,ce.outputs),gn(ce)&&ce.data.animation){const Qt=C.data;Qt.animation=(Qt.animation||[]).concat(ce.data.animation)}}const Ee=ce.features;if(Ee)for(let We=0;We<Ee.length;We++){const tt=Ee[We];tt&&tt.ngInherit&&tt(C),tt===vd&&(x=!1)}}w=Object.getPrototypeOf(w)}!function B_(C){let w=0,x=null;for(let H=C.length-1;H>=0;H--){const ce=C[H];ce.hostVars=w+=ce.hostVars,ce.hostAttrs=Tn(ce.hostAttrs,x=Tn(x,ce.hostAttrs))}}(H)}function uu(C){return C===vr?{}:C===zn?[]:C}function gg(C,w){const x=C.viewQuery;C.viewQuery=x?(H,ce)=>{w(H,ce),x(H,ce)}:w}function mp(C,w){const x=C.contentQueries;C.contentQueries=x?(H,ce,Ee)=>{w(H,ce,Ee),x(H,ce,Ee)}:w}function Lu(C,w){const x=C.hostBindings;C.hostBindings=x?(H,ce)=>{w(H,ce),x(H,ce)}:w}let Jd=null;function Th(){if(!Jd){const C=Xn.Symbol;if(C&&C.iterator)Jd=C.iterator;else{const w=Object.getOwnPropertyNames(Map.prototype);for(let x=0;x<w.length;++x){const H=w[x];"entries"!==H&&"size"!==H&&Map.prototype[H]===Map.prototype.entries&&(Jd=H)}}}return Jd}function Dh(C){return!!Pm(C)&&(Array.isArray(C)||!(C instanceof Map)&&Th()in C)}function Pm(C){return null!==C&&("function"==typeof C||"object"==typeof C)}function za(C,w,x){return C[w]=x}function Ph(C,w){return C[w]}function Qa(C,w,x){return!Object.is(C[w],x)&&(C[w]=x,!0)}function bd(C,w,x,H){const ce=Qa(C,w,x);return Qa(C,w+1,H)||ce}function $l(C,w,x,H,ce,Ee){const We=bd(C,w,x,H);return bd(C,w+2,ce,Ee)||We}function gf(C,w,x,H){const ce=Kr();return Qa(ce,ea(),w)&&(Ms(),au(Ls(),ce,C,w,x,H)),gf}function Yd(C,w,x,H,ce,Ee){const tt=bd(C,function lo(){return dt.lFrame.bindingIndex}(),x,ce);return $o(2),tt?w+F(x)+H+F(ce)+Ee:zs}function wg(C,w,x,H,ce,Ee,We,tt){const ft=Kr(),Ft=Ms(),Qt=C+20,_n=Ft.firstCreatePass?function V_(C,w,x,H,ce,Ee,We,tt,ft){const Ft=w.consts,Qt=md(w,C,4,We||null,no(Ft,tt));fm(w,x,Qt,no(Ft,ft)),so(w,Qt);const _n=Qt.tViews=ac(2,Qt,H,ce,Ee,w.directiveRegistry,w.pipeRegistry,null,w.schemas,Ft);return null!==w.queries&&(w.queries.template(w,Qt),_n.queries=w.queries.embeddedTView(Qt)),Qt}(Qt,Ft,ft,w,x,H,ce,Ee,We):Ft.data[Qt];Ea(_n,!1);const Vn=ft[11].createComment("");Kp(Ft,ft,Vn,_n),na(Vn,ft),Iu(ft,ft[Qt]=ng(Vn,ft,Vn,_n)),rn(_n)&&sf(Ft,ft,_n),null!=We&&ap(ft,_n,tt)}function Kl(C){return ki(function vn(){return dt.lFrame.contextLView}(),20+C)}function bf(C,w=$e.Default){const x=Kr();return null===x?Ho(C,w):Ie(ws(),x,ne(C),w)}function Ag(){throw new Error("invalid")}function xg(C,w,x){const H=Kr();return Qa(H,ea(),w)&&function Ll(C,w,x,H,ce,Ee,We,tt){const ft=mr(w,x);let Qt,Ft=w.inputs;!tt&&null!=Ft&&(Qt=Ft[H])?(og(C,x,Qt,H,ce),cs(w)&&function g_(C,w){const x=_i(w,C);16&x[2]||(x[2]|=64)}(x,w.index)):3&w.type&&(H=function H1(C){return"class"===C?"className":"for"===C?"htmlFor":"formaction"===C?"formAction":"innerHtml"===C?"innerHTML":"readonly"===C?"readOnly":"tabindex"===C?"tabIndex":C}(H),ce=null!=We?We(ce,w.value||"",H):ce,nn(Ee)?Ee.setProperty(ft,H,ce):jt(H)||(ft.setProperty?ft.setProperty(H,ce):ft[H]=ce))}(Ms(),Ls(),H,C,w,H[11],x,!1),xg}function Rg(C,w,x,H,ce){const We=ce?"class":"style";og(C,x,w.inputs[We],We,H)}function vp(C,w,x,H){const ce=Kr(),Ee=Ms(),We=20+C,tt=ce[11],ft=ce[We]=qh(tt,w,function So(){return dt.lFrame.currentNamespace}()),Ft=Ee.firstCreatePass?function db(C,w,x,H,ce,Ee,We){const tt=w.consts,Ft=md(w,C,2,ce,no(tt,Ee));return fm(w,x,Ft,no(tt,We)),null!==Ft.attrs&&cp(Ft,Ft.attrs,!1),null!==Ft.mergedAttrs&&cp(Ft,Ft.mergedAttrs,!0),null!==w.queries&&w.queries.elementStart(w,Ft),Ft}(We,Ee,ce,0,w,x,H):Ee.data[We];Ea(Ft,!0);const Qt=Ft.mergedAttrs;null!==Qt&&it(tt,ft,Qt);const _n=Ft.classes;null!==_n&&im(tt,ft,_n);const Vn=Ft.styles;return null!==Vn&&ep(tt,ft,Vn),64!=(64&Ft.flags)&&Kp(Ee,ce,ft,Ft),0===function Ci(){return dt.lFrame.elementDepthCount}()&&na(ft,ce),function ro(){dt.lFrame.elementDepthCount++}(),rn(Ft)&&(sf(Ee,ce,Ft),Pu(Ee,Ft,ce)),null!==H&&ap(ce,Ft),vp}function Fh(){let C=ws();bo()?eo():(C=C.parent,Ea(C,!1));const w=C;!function Wo(){dt.lFrame.elementDepthCount--}();const x=Ms();return x.firstCreatePass&&(so(x,C),Qr(C)&&x.queries.elementEnd(C)),null!=w.classesWithoutHost&&function ql(C){return 0!=(16&C.flags)}(w)&&Rg(x,w,Kr(),w.classesWithoutHost,!0),null!=w.stylesWithoutHost&&function Vl(C){return 0!=(32&C.flags)}(w)&&Rg(x,w,Kr(),w.stylesWithoutHost,!1),Fh}function Ef(C,w,x,H){return vp(C,w,x,H),Fh(),Ef}function Cf(C,w,x){const H=Kr(),ce=Ms(),Ee=C+20,We=ce.firstCreatePass?function Lg(C,w,x,H,ce){const Ee=w.consts,We=no(Ee,H),tt=md(w,C,8,"ng-container",We);return null!==We&&cp(tt,We,!0),fm(w,x,tt,no(Ee,ce)),null!==w.queries&&w.queries.elementStart(w,tt),tt}(Ee,ce,H,w,x):ce.data[Ee];Ea(We,!0);const tt=H[Ee]=H[11].createComment("");return Kp(ce,H,tt,We),na(tt,H),rn(We)&&(sf(ce,H,We),Pu(ce,We,H)),null!=x&&ap(H,We),Cf}function Nm(){let C=ws();const w=Ms();return bo()?eo():(C=C.parent,Ea(C,!1)),w.firstCreatePass&&(so(w,C),Qr(C)&&w.queries.elementEnd(C)),Nm}function Fg(C,w,x){return Cf(C,w,x),Nm(),Fg}function Ug(){return Kr()}function Ng(C){return!!C&&"function"==typeof C.then}function q_(C){return!!C&&"function"==typeof C.subscribe}const ev=q_;function jg(C,w,x,H){const ce=Kr(),Ee=Ms(),We=ws();return function nv(C,w,x,H,ce,Ee,We,tt){const ft=rn(H),Qt=C.firstCreatePass&&sg(C),_n=w[8],Vn=cf(w);let lr=!0;if(3&H.type||tt){const Di=mr(H,w),Qi=tt?tt(Di):Di,Xr=Vn.length,Cs=tt?uo=>tt(ht(uo[H.index])):H.index;if(nn(x)){let uo=null;if(!tt&&ft&&(uo=function hb(C,w,x,H){const ce=C.cleanup;if(null!=ce)for(let Ee=0;Ee<ce.length-1;Ee+=2){const We=ce[Ee];if(We===x&&ce[Ee+1]===H){const tt=w[7],ft=ce[Ee+2];return tt.length>ft?tt[ft]:null}"string"==typeof We&&(Ee+=2)}return null}(C,w,ce,H.index)),null!==uo)(uo.__ngLastListenerFn__||uo).__ngNextListenerFn__=Ee,uo.__ngLastListenerFn__=Ee,lr=!1;else{Ee=Uh(H,w,_n,Ee,!1);const Uo=x.listen(Qi,ce,Ee);Vn.push(Ee,Uo),Qt&&Qt.push(ce,Cs,Xr,Xr+1)}}else Ee=Uh(H,w,_n,Ee,!0),Qi.addEventListener(ce,Ee,We),Vn.push(Ee),Qt&&Qt.push(ce,Cs,Xr,We)}else Ee=Uh(H,w,_n,Ee,!1);const jr=H.outputs;let hi;if(lr&&null!==jr&&(hi=jr[ce])){const Di=hi.length;if(Di)for(let Qi=0;Qi<Di;Qi+=2){const kc=w[hi[Qi]][hi[Qi+1]].subscribe(Ee),Rp=Vn.length;Vn.push(Ee,kc),Qt&&Qt.push(ce,H.index,Rp,-(Rp+1))}}}(Ee,ce,ce[11],We,C,w,!!x,H),jg}function rv(C,w,x,H){try{return!1!==x(H)}catch(ce){return lp(C,ce),!1}}function Uh(C,w,x,H,ce){return function Ee(We){if(We===Function)return H;const tt=2&C.flags?_i(C.index,w):w;0==(32&w[2])&&ym(tt);let ft=rv(w,0,H,We),Ft=Ee.__ngNextListenerFn__;for(;Ft;)ft=rv(w,0,Ft,We)&&ft,Ft=Ft.__ngNextListenerFn__;return ce&&!1===ft&&(We.preventDefault(),We.returnValue=!1),ft}}function iv(C=1){return function Zi(C){return(dt.lFrame.contextLView=function wo(C,w){for(;C>0;)w=w[15],C--;return w}(C,dt.lFrame.contextLView))[8]}(C)}function Bg(C,w){let x=null;const H=function Hp(C){const w=C.attrs;if(null!=w){const x=w.indexOf(5);if(0==(1&x))return w[x+1]}return null}(C);for(let ce=0;ce<w.length;ce++){const Ee=w[ce];if("*"!==Ee){if(null===H?U0(C,Ee,!0):N0(H,Ee))return ce}else x=ce}return x}function kg(C){const w=Kr()[16][6];if(!w.projection){const H=w.projection=vu(C?C.length:1,null),ce=H.slice();let Ee=w.child;for(;null!==Ee;){const We=C?Bg(Ee,C):0;null!==We&&(ce[We]?ce[We].projectionNext=Ee:H[We]=Ee,ce[We]=Ee),Ee=Ee.next}}}function Wg(C,w=0,x){const H=Kr(),ce=Ms(),Ee=md(ce,20+C,16,null,x||null);null===Ee.projection&&(Ee.projection=w),eo(),64!=(64&Ee.flags)&&function t_(C,w,x){rm(w[11],0,w,x,hh(C,x,w),A0(x.parent||w[6],x,w))}(ce,H,Ee)}function Zg(C,w,x,H,ce){const Ee=C[x+1],We=null===w;let tt=H?oc(Ee):Tu(Ee),ft=!1;for(;0!==tt&&(!1===ft||We);){const Qt=C[tt+1];bp(C[tt],w)&&(ft=!0,C[tt+1]=H?nu(Qt):Qp(Qt)),tt=H?oc(Qt):Tu(Qt)}ft&&(C[x+1]=H?Qp(Ee):nu(Ee))}function bp(C,w){return null===C||null==w||(Array.isArray(C)?C[1]:C)===w||!(!Array.isArray(C)||"string"!=typeof w)&&bu(C,w)>=0}const Fa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zg(C){return C.substring(Fa.key,Fa.keyEnd)}function jm(C){return C.substring(Fa.value,Fa.valueEnd)}function Mf(C,w){const x=Fa.textEnd;return x===w?-1:(w=Fa.keyEnd=function hu(C,w,x){for(;w<x&&C.charCodeAt(w)>32;)w++;return w}(C,Fa.key=w,x),Nh(C,w,x))}function Kg(C,w){const x=Fa.textEnd;let H=Fa.key=Nh(C,w,x);return x===H?-1:(H=Fa.keyEnd=function Gg(C,w,x){let H;for(;w<x&&(45===(H=C.charCodeAt(w))||95===H||(-33&H)>=65&&(-33&H)<=90||H>=48&&H<=57);)w++;return w}(C,H,x),H=Bm(C,H,x),H=Fa.value=Nh(C,H,x),H=Fa.valueEnd=function Ep(C,w,x){let H=-1,ce=-1,Ee=-1,We=w,tt=We;for(;We<x;){const ft=C.charCodeAt(We++);if(59===ft)return tt;34===ft||39===ft?tt=We=km(C,ft,We,x):w===We-4&&85===Ee&&82===ce&&76===H&&40===ft?tt=We=km(C,41,We,x):ft>32&&(tt=We),Ee=ce,ce=H,H=-33&ft}return tt}(C,H,x),Bm(C,H,x))}function wf(C){Fa.key=0,Fa.keyEnd=0,Fa.value=0,Fa.valueEnd=0,Fa.textEnd=C.length}function Nh(C,w,x){for(;w<x&&C.charCodeAt(w)<=32;)w++;return w}function Bm(C,w,x,H){return(w=Nh(C,w,x))<x&&w++,w}function km(C,w,x,H){let ce=-1,Ee=x;for(;Ee<H;){const We=C.charCodeAt(Ee++);if(We==w&&92!==ce)return Ee;ce=92==We&&92===ce?0:We}throw new Error}function Sf(C,w,x){return Fc(C,w,x,!1),Sf}function Tf(C,w){return Fc(C,w,null,!0),Tf}function Rc(C){Uc(Wm,Nu,C,!1)}function Nu(C,w){for(let x=function $g(C){return wf(C),Kg(C,Nh(C,0,Fa.textEnd))}(w);x>=0;x=Kg(w,x))Wm(C,zg(w),jm(w))}function Cp(C){Uc(Va,Lc,C,!0)}function Lc(C,w){for(let x=function fv(C){return wf(C),Mf(C,Nh(C,0,Fa.textEnd))}(w);x>=0;x=Mf(w,x))Va(C,zg(w),!0)}function Fc(C,w,x,H){const ce=Kr(),Ee=Ms(),We=$o(2);Ee.firstUpdatePass&&hc(Ee,C,We,H),w!==zs&&Qa(ce,We,w)&&Nl(Ee,Ee.data[Qs()],ce,ce[11],C,ce[We+1]=function Qg(C,w){return null==C||("string"==typeof w?C+=w:"object"==typeof C&&(C=k(ai(C)))),C}(w,x),H,We)}function Uc(C,w,x,H){const ce=Ms(),Ee=$o(2);ce.firstUpdatePass&&hc(ce,null,Ee,H);const We=Kr();if(x!==zs&&Qa(We,Ee,x)){const tt=ce.data[Qs()];if(_a(tt,H)&&!Hg(ce,Ee)){let ft=H?tt.classesWithoutHost:tt.stylesWithoutHost;null!==ft&&(x=N(ft,x||"")),Rg(ce,tt,We,x,H)}else!function Jg(C,w,x,H,ce,Ee,We,tt){ce===zs&&(ce=zn);let ft=0,Ft=0,Qt=0<ce.length?ce[0]:null,_n=0<Ee.length?Ee[0]:null;for(;null!==Qt||null!==_n;){const Vn=ft<ce.length?ce[ft+1]:void 0,lr=Ft<Ee.length?Ee[Ft+1]:void 0;let hi,jr=null;Qt===_n?(ft+=2,Ft+=2,Vn!==lr&&(jr=_n,hi=lr)):null===_n||null!==Qt&&Qt<_n?(ft+=2,jr=Qt):(Ft+=2,jr=_n,hi=lr),null!==jr&&Nl(C,w,x,H,jr,hi,We,tt),Qt=ft<ce.length?ce[ft]:null,_n=Ft<Ee.length?Ee[Ft]:null}}(ce,tt,We,We[11],We[Ee+1],We[Ee+1]=function pc(C,w,x){if(null==x||""===x)return zn;const H=[],ce=ai(x);if(Array.isArray(ce))for(let Ee=0;Ee<ce.length;Ee++)C(H,ce[Ee],!0);else if("object"==typeof ce)for(const Ee in ce)ce.hasOwnProperty(Ee)&&C(H,Ee,ce[Ee]);else"string"==typeof ce&&w(H,ce);return H}(C,w,x),H,Ee)}}function Hg(C,w){return w>=C.expandoStartIndex}function hc(C,w,x,H){const ce=C.data;if(null===ce[x+1]){const Ee=ce[Qs()],We=Hg(C,x);_a(Ee,H)&&null===w&&!We&&(w=!1),w=function mv(C,w,x,H){const ce=function Ca(C){const w=dt.lFrame.currentDirectiveIndex;return-1===w?null:C[w]}(C);let Ee=H?w.residualClasses:w.residualStyles;if(null===ce)0===(H?w.classBindings:w.styleBindings)&&(x=eh(x=Ul(null,C,w,x,H),w.attrs,H),Ee=null);else{const We=w.directiveStylingLast;if(-1===We||C[We]!==ce)if(x=Ul(ce,C,w,x,H),null===Ee){let ft=function Gl(C,w,x){const H=x?w.classBindings:w.styleBindings;if(0!==Tu(H))return C[oc(H)]}(C,w,H);void 0!==ft&&Array.isArray(ft)&&(ft=Ul(null,C,w,ft[1],H),ft=eh(ft,w.attrs,H),function Hl(C,w,x,H){C[oc(x?w.classBindings:w.styleBindings)]=H}(C,w,H,ft))}else Ee=function gv(C,w,x){let H;const ce=w.directiveEnd;for(let Ee=1+w.directiveStylingLast;Ee<ce;Ee++)H=eh(H,C[Ee].hostAttrs,x);return eh(H,w.attrs,x)}(C,w,H)}return void 0!==Ee&&(H?w.residualClasses=Ee:w.residualStyles=Ee),x}(ce,Ee,w,H),function pb(C,w,x,H,ce,Ee){let We=Ee?w.classBindings:w.styleBindings,tt=oc(We),ft=Tu(We);C[H]=x;let Qt,Ft=!1;if(Array.isArray(x)){const _n=x;Qt=_n[1],(null===Qt||bu(_n,Qt)>0)&&(Ft=!0)}else Qt=x;if(ce)if(0!==ft){const Vn=oc(C[tt+1]);C[H+1]=Yp(Vn,tt),0!==Vn&&(C[Vn+1]=Xp(C[Vn+1],H)),C[tt+1]=function k0(C,w){return 131071&C|w<<17}(C[tt+1],H)}else C[H+1]=Yp(tt,0),0!==tt&&(C[tt+1]=Xp(C[tt+1],H)),tt=H;else C[H+1]=Yp(ft,0),0===tt?tt=H:C[ft+1]=Xp(C[ft+1],H),ft=H;Ft&&(C[H+1]=Qp(C[H+1])),Zg(C,Qt,H,!0),Zg(C,Qt,H,!1),function fb(C,w,x,H,ce){const Ee=ce?C.residualClasses:C.residualStyles;null!=Ee&&"string"==typeof w&&bu(Ee,w)>=0&&(x[H+1]=nu(x[H+1]))}(w,Qt,C,H,Ee),We=Yp(tt,ft),Ee?w.classBindings=We:w.styleBindings=We}(ce,Ee,w,x,We,H)}}function Ul(C,w,x,H,ce){let Ee=null;const We=x.directiveEnd;let tt=x.directiveStylingLast;for(-1===tt?tt=x.directiveStart:tt++;tt<We&&(Ee=w[tt],H=eh(H,Ee.hostAttrs,ce),Ee!==C);)tt++;return null!==C&&(x.directiveStylingLast=tt),H}function eh(C,w,x){const H=x?1:2;let ce=-1;if(null!==w)for(let Ee=0;Ee<w.length;Ee++){const We=w[Ee];"number"==typeof We?ce=We:ce===H&&(Array.isArray(C)||(C=void 0===C?[]:["",C]),Va(C,We,!!x||w[++Ee]))}return void 0===C?null:C}function Wm(C,w,x){Va(C,w,ai(x))}function Nl(C,w,x,H,ce,Ee,We,tt){if(!(3&w.type))return;const ft=C.data,Ft=ft[tt+1];Nc(function W0(C){return 1==(1&C)}(Ft)?Yg(ft,w,x,ce,Tu(Ft),We):void 0)||(Nc(Ee)||function om(C){return 2==(2&C)}(Ft)&&(Ee=Yg(ft,null,x,ce,tt,We)),function n_(C,w,x,H,ce){const Ee=nn(C);if(w)ce?Ee?C.addClass(x,H):x.classList.add(H):Ee?C.removeClass(x,H):x.classList.remove(H);else{let We=-1===H.indexOf("-")?void 0:ks.DashCase;if(null==ce)Ee?C.removeStyle(x,H,We):x.style.removeProperty(H);else{const tt="string"==typeof ce&&ce.endsWith("!important");tt&&(ce=ce.slice(0,-10),We|=ks.Important),Ee?C.setStyle(x,H,ce,We):x.style.setProperty(H,ce,tt?"important":"")}}}(H,We,Jn(Qs(),x),ce,Ee))}function Yg(C,w,x,H,ce,Ee){const We=null===w;let tt;for(;ce>0;){const ft=C[ce],Ft=Array.isArray(ft),Qt=Ft?ft[1]:ft,_n=null===Qt;let Vn=x[ce+1];Vn===zs&&(Vn=_n?zn:void 0);let lr=_n?Ju(Vn,H):Qt===H?Vn:void 0;if(Ft&&!Nc(lr)&&(lr=Ju(ft,H)),Nc(lr)&&(tt=lr,We))return tt;const jr=C[ce+1];ce=We?oc(jr):Tu(jr)}if(null!==w){let ft=Ee?w.residualClasses:w.residualStyles;null!=ft&&(tt=Ju(ft,H))}return tt}function Nc(C){return void 0!==C}function _a(C,w){return 0!=(C.flags&(w?16:32))}function ia(C,w=""){const x=Kr(),H=Ms(),ce=C+20,Ee=H.firstCreatePass?md(H,ce,1,w,null):H.data[ce],We=x[ce]=function Wp(C,w){return nn(C)?C.createText(w):C.createTextNode(w)}(x[11],w);Kp(H,x,We,Ee),Ea(Ee,!1)}function Df(C){return fc("",C,""),Df}function fc(C,w,x){const H=Kr(),ce=function Ed(C,w,x,H){return Qa(C,ea(),x)?w+F(x)+H:zs}(H,C,w,x);return ce!==zs&&lc(H,Qs(),ce),fc}function Pf(C,w,x,H,ce){const Ee=Kr(),We=Yd(Ee,C,w,x,H,ce);return We!==zs&&lc(Ee,Qs(),We),Pf}const ku=void 0;var sy=["en",[["a","p"],["AM","PM"],ku],[["AM","PM"],ku,ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ku,"{1} 'at' {0}",ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iy(C){const x=Math.floor(Math.abs(C)),H=C.toString().replace(/^[^.]*\.?/,"").length;return 1===x&&0===H?1:5}];let jh={};function zm(C){const w=function Tv(C){return C.toLowerCase().replace(/_/g,"-")}(C);let x=jc(w);if(x)return x;const H=w.split("-")[0];if(x=jc(H),x)return x;if("en"===H)return sy;throw new Error(`Missing locale data for the locale "${C}".`)}function oy(C){return zm(C)[Es.PluralCase]}function jc(C){return C in jh||(jh[C]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[C]),jh[C]}var Es=(()=>((Es=Es||{})[Es.LocaleId=0]="LocaleId",Es[Es.DayPeriodsFormat=1]="DayPeriodsFormat",Es[Es.DayPeriodsStandalone=2]="DayPeriodsStandalone",Es[Es.DaysFormat=3]="DaysFormat",Es[Es.DaysStandalone=4]="DaysStandalone",Es[Es.MonthsFormat=5]="MonthsFormat",Es[Es.MonthsStandalone=6]="MonthsStandalone",Es[Es.Eras=7]="Eras",Es[Es.FirstDayOfWeek=8]="FirstDayOfWeek",Es[Es.WeekendRange=9]="WeekendRange",Es[Es.DateFormat=10]="DateFormat",Es[Es.TimeFormat=11]="TimeFormat",Es[Es.DateTimeFormat=12]="DateTimeFormat",Es[Es.NumberSymbols=13]="NumberSymbols",Es[Es.NumberFormats=14]="NumberFormats",Es[Es.CurrencyCode=15]="CurrencyCode",Es[Es.CurrencySymbol=16]="CurrencySymbol",Es[Es.CurrencyName=17]="CurrencyName",Es[Es.Currencies=18]="Currencies",Es[Es.Directionality=19]="Directionality",Es[Es.PluralCase=20]="PluralCase",Es[Es.ExtraData=21]="ExtraData",Es))();const Mp="en-US";let ay=Mp;function u0(C,w,x,H,ce){if(C=ne(C),Array.isArray(C))for(let Ee=0;Ee<C.length;Ee++)u0(C[Ee],w,x,H,ce);else{const Ee=Ms(),We=Kr();let tt=wh(C)?C:ne(C.provide),ft=lg(C);const Ft=ws(),Qt=1048575&Ft.providerIndexes,_n=Ft.directiveStart,Vn=Ft.providerIndexes>>20;if(wh(C)||!C.multi){const lr=new jo(ft,ce,bf),jr=Sl(tt,w,ce?Qt:Qt+Vn,_n);-1===jr?(Qe(rl(Ft,We),Ee,tt),Pd(Ee,C,w.length),w.push(tt),Ft.directiveStart++,Ft.directiveEnd++,ce&&(Ft.providerIndexes+=1048576),x.push(lr),We.push(lr)):(x[jr]=lr,We[jr]=lr)}else{const lr=Sl(tt,w,Qt+Vn,_n),jr=Sl(tt,w,Qt,Qt+Vn),hi=lr>=0&&x[lr],Di=jr>=0&&x[jr];if(ce&&!Di||!ce&&!hi){Qe(rl(Ft,We),Ee,tt);const Qi=function Jv(C,w,x,H,ce){const Ee=new jo(C,x,bf);return Ee.multi=[],Ee.index=w,Ee.componentProviders=0,Oy(Ee,ce,H&&!x),Ee}(ce?Hv:Sy,x.length,ce,H,ft);!ce&&Di&&(x[jr].providerFactory=Qi),Pd(Ee,C,w.length,0),w.push(tt),Ft.directiveStart++,Ft.directiveEnd++,ce&&(Ft.providerIndexes+=1048576),x.push(Qi),We.push(Qi)}else Pd(Ee,C,lr>-1?lr:jr,Oy(x[ce?jr:lr],ft,!ce&&H));!ce&&H&&Di&&x[jr].componentProviders++}}}function Pd(C,w,x,H){const ce=wh(w),Ee=function cg(C){return!!C.useClass}(w);if(ce||Ee){const ft=(Ee?ne(w.useClass):w).prototype.ngOnDestroy;if(ft){const Ft=C.destroyHooks||(C.destroyHooks=[]);if(!ce&&w.multi){const Qt=Ft.indexOf(x);-1===Qt?Ft.push(x,[H,ft]):Ft[Qt+1].push(H,ft)}else Ft.push(x,ft)}}}function Oy(C,w,x){return x&&C.componentProviders++,C.multi.push(w)-1}function Sl(C,w,x,H){for(let ce=x;ce<H;ce++)if(w[ce]===C)return ce;return-1}function Sy(C,w,x,H){return Sp(this.multi,[])}function Hv(C,w,x,H){const ce=this.multi;let Ee;if(this.providerFactory){const We=this.providerFactory.componentProviders,tt=dn(x,x[1],this.providerFactory.index,H);Ee=tt.slice(0,We),Sp(ce,Ee);for(let ft=We;ft<tt.length;ft++)Ee.push(tt[ft])}else Ee=[],Sp(ce,Ee);return Ee}function Sp(C,w){for(let x=0;x<C.length;x++)w.push((0,C[x])());return w}function Ty(C,w=[]){return x=>{x.providersResolver=(H,ce)=>function c0(C,w,x){const H=Ms();if(H.firstCreatePass){const ce=gn(C);u0(x,H.data,H.blueprint,ce,!0),u0(w,H.data,H.blueprint,ce,!1)}}(H,ce?ce(C):C,w)}}class Dy{}class Qv{resolveComponentFactory(w){throw function Py(C){const w=Error(`No component factory found for ${k(C)}. Did you add it to @NgModule.entryComponents?`);return w.ngComponent=C,w}(w)}}let Tp=(()=>{class C{}return C.NULL=new Qv,C})();function Xv(){return zh(ws(),Kr())}function zh(C,w){return new $h(mr(C,w))}let $h=(()=>{class C{constructor(x){this.nativeElement=x}}return C.__NG_ELEMENT_ID__=Xv,C})();function qv(C){return C instanceof $h?C.nativeElement:C}class Ay{}let e1=(()=>{class C{}return C.__NG_ELEMENT_ID__=()=>function d0(){const C=Kr(),x=_i(ws().index,C);return function xy(C){return C[11]}(yi(x)?x:C)}(),C})(),t1=(()=>{class C{}return C.\u0275prov=nt({token:C,providedIn:"root",factory:()=>null}),C})();class qa{constructor(w){this.full=w,this.major=w.split(".")[0],this.minor=w.split(".")[1],this.patch=w.split(".").slice(2).join(".")}}const Ry=new qa("13.3.11"),h0={};function Ua(C,w,x,H,ce=!1){for(;null!==x;){const Ee=w[x.index];if(null!==Ee&&H.push(ht(Ee)),Un(Ee))for(let tt=10;tt<Ee.length;tt++){const ft=Ee[tt],Ft=ft[1].firstChild;null!==Ft&&Ua(ft[1],ft,Ft,H)}const We=x.type;if(8&We)Ua(C,w,x.child,H);else if(32&We){const tt=xl(x,w);let ft;for(;ft=tt();)H.push(ft)}else if(16&We){const tt=Pc(w,x);if(Array.isArray(tt))H.push(...tt);else{const ft=Mo(w[16]);Ua(ft[1],ft,tt,H,!0)}}x=ce?x.projectionNext:x.next}return H}class Dp{constructor(w,x){this._lView=w,this._cdRefInjectingView=x,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const w=this._lView,x=w[1];return Ua(x,w,x.firstChild,[])}get context(){return this._lView[8]}set context(w){this._lView[8]=w}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const w=this._lView[3];if(Un(w)){const x=w[8],H=x?x.indexOf(this):-1;H>-1&&(Rl(w,H),Gu(x,H))}this._attachedToViewContainer=!1}D0(this._lView[1],this._lView)}onDestroy(w){f_(this._lView[1],this._lView,null,w)}markForCheck(){ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Eh(C,w,x){const H=w[10];H.begin&&H.begin();try{gd(C,w,C.template,x)}catch(ce){throw lp(w,ce),ce}finally{H.end&&H.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zp(C,w){fh(C,w,w[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(w){if(this._attachedToViewContainer)throw new re(902,"");this._appRef=w}}class Ly extends Dp{constructor(w){super(w),this._view=w}detectChanges(){lf(this._view)}checkNoChanges(){}get context(){return null}}class mc extends Tp{constructor(w){super(),this.ngModule=w}resolveComponentFactory(w){const x=wn(w);return new f0(x,this.ngModule)}}function p0(C){const w=[];for(let x in C)C.hasOwnProperty(x)&&w.push({propName:C[x],templateName:x});return w}class f0 extends Dy{constructor(w,x){super(),this.componentDef=w,this.ngModule=x,this.componentType=w.type,this.selector=function a_(C){return C.map(j0).join(",")}(w.selectors),this.ngContentSelectors=w.ngContentSelectors?w.ngContentSelectors:[],this.isBoundToModule=!!x}get inputs(){return p0(this.componentDef.inputs)}get outputs(){return p0(this.componentDef.outputs)}create(w,x,H,ce){const Ee=(ce=ce||this.ngModule)?function Fy(C,w){return{get:(x,H,ce)=>{const Ee=C.get(x,h0,ce);return Ee!==h0||H===h0?Ee:w.get(x,H,ce)}}}(w,ce.injector):w,We=Ee.get(Ay,et),tt=Ee.get(t1,null),ft=We.createRenderer(null,this.componentDef),Ft=this.componentDef.selectors[0][0]||"div",Qt=H?function Y0(C,w,x){if(nn(C))return C.selectRootElement(w,x===xt.ShadowDom);let H="string"==typeof w?C.querySelector(w):w;return H.textContent="",H}(ft,H,this.componentDef.encapsulation):qh(We.createRenderer(null,this.componentDef),Ft,function kf(C){const w=C.toLowerCase();return"svg"===w?"svg":"math"===w?"math":null}(Ft)),_n=this.componentDef.onPush?576:528,Vn=function Ru(C,w){return{components:[],scheduler:C||Sc,clean:P_,playerHandler:w||null,flags:0}}(),lr=ac(0,null,null,1,0,null,null,null,null,null),jr=ru(null,lr,Vn,_n,null,null,We,ft,tt,Ee);let hi,Di;oa(jr);try{const Qi=function pg(C,w,x,H,ce,Ee){const We=x[1];x[20]=C;const ft=md(We,20,2,"#host",null),Ft=ft.mergedAttrs=w.hostAttrs;null!==Ft&&(cp(ft,Ft,!0),null!==C&&(it(ce,C,Ft),null!==ft.classes&&im(ce,C,ft.classes),null!==ft.styles&&ep(ce,C,ft.styles)));const Qt=H.createRenderer(C,w),_n=ru(x,of(w),null,w.onPush?64:16,x[20],ft,H,Qt,Ee||null,null);return We.firstCreatePass&&(Qe(rl(ft,x),We,w.type),X0(We,ft),q0(ft,x.length,1)),Iu(x,_n),x[20]=_n}(Qt,this.componentDef,jr,We,ft);if(Qt)if(H)it(ft,Qt,["ng-version",Ry.full]);else{const{attrs:Xr,classes:Cs}=function W1(C){const w=[],x=[];let H=1,ce=2;for(;H<C.length;){let Ee=C[H];if("string"==typeof Ee)2===ce?""!==Ee&&w.push(Ee,C[++H]):8===ce&&x.push(Ee);else{if(!zl(ce))break;ce=Ee}H++}return{attrs:w,classes:x}}(this.componentDef.selectors[0]);Xr&&it(ft,Qt,Xr),Cs&&Cs.length>0&&im(ft,Qt,Cs.join(" "))}if(Di=ji(lr,20),void 0!==x){const Xr=Di.projection=[];for(let Cs=0;Cs<this.ngContentSelectors.length;Cs++){const uo=x[Cs];Xr.push(null!=uo?Array.from(uo):null)}}hi=function Sh(C,w,x,H,ce){const Ee=x[1],We=function y_(C,w,x){const H=ws();C.firstCreatePass&&(x.providersResolver&&x.providersResolver(x),eg(C,H,w,_h(C,w,1,null),x));const ce=dn(w,C,H.directiveStart,H);na(ce,w);const Ee=mr(H,w);return Ee&&na(Ee,w),ce}(Ee,x,w);if(H.components.push(We),C[8]=We,ce&&ce.forEach(ft=>ft(We,w)),w.contentQueries){const ft=ws();w.contentQueries(1,We,ft.directiveStart)}const tt=ws();return!Ee.firstCreatePass||null===w.hostBindings&&null===w.hostAttrs||(fo(tt.index),__(x[1],tt,0,tt.directiveStart,tt.directiveEnd,w),Q0(w,We)),We}(Qi,this.componentDef,jr,Vn,[fg]),op(lr,jr,null)}finally{Bs()}return new Vs(this.componentType,hi,zh(Di,jr),jr,Di)}}class Vs extends class Yv{}{constructor(w,x,H,ce,Ee){super(),this.location=H,this._rootLView=ce,this._tNode=Ee,this.instance=x,this.hostView=this.changeDetectorRef=new Ly(ce),this.componentType=w}get injector(){return new Nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(w){this.hostView.onDestroy(w)}}class jl{}class Vu{}const Gh=new Map;class jy extends jl{constructor(w,x){super(),this._parent=x,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mc(this);const H=Bn(w);this._bootstrapComponents=ga(H.bootstrap),this._r3Injector=ag(w,x,[{provide:jl,useValue:this},{provide:Tp,useValue:this.componentFactoryResolver}],k(w)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(w)}get(w,x=cc.THROW_IF_NOT_FOUND,H=$e.Default){return w===cc||w===jl||w===Ch?this:this._r3Injector.get(w,x,H)}destroy(){const w=this._r3Injector;!w.destroyed&&w.destroy(),this.destroyCbs.forEach(x=>x()),this.destroyCbs=null}onDestroy(w){this.destroyCbs.push(w)}}class m0 extends Vu{constructor(w){super(),this.moduleType=w,null!==Bn(w)&&function $s(C){const w=new Set;!function x(H){const ce=Bn(H,!0),Ee=ce.id;null!==Ee&&(function Uy(C,w,x){if(w&&w!==x)throw new Error(`Duplicate module registered for ${C} - ${k(w)} vs ${k(w.name)}`)}(Ee,Gh.get(Ee),H),Gh.set(Ee,H));const We=ga(ce.imports);for(const tt of We)w.has(tt)||(w.add(tt),x(tt))}(C)}(w)}create(w){return new jy(this.moduleType,w)}}function By(C,w,x){const H=No()+C,ce=Kr();return ce[H]===zs?za(ce,H,x?w.call(x):w()):Ph(ce,H)}function ky(C,w,x,H){return g(Kr(),No(),C,w,x,H)}function Wy(C,w,x,H,ce){return E(Kr(),No(),C,w,x,H,ce)}function g0(C,w,x,H,ce,Ee){return I(Kr(),No(),C,w,x,H,ce,Ee)}function Vy(C,w,x,H,ce,Ee,We){return function W(C,w,x,H,ce,Ee,We,tt,ft){const Ft=w+x;return $l(C,Ft,ce,Ee,We,tt)?za(C,Ft+4,ft?H.call(ft,ce,Ee,We,tt):H(ce,Ee,We,tt)):Wf(C,Ft+4)}(Kr(),No(),C,w,x,H,ce,Ee,We)}function y0(C,w,x,H,ce,Ee,We,tt){const ft=No()+C,Ft=Kr(),Qt=$l(Ft,ft,x,H,ce,Ee);return Qa(Ft,ft+4,We)||Qt?za(Ft,ft+5,tt?w.call(tt,x,H,ce,Ee,We):w(x,H,ce,Ee,We)):Ph(Ft,ft+5)}function _0(C,w,x,H){return function ee(C,w,x,H,ce,Ee){let We=w+x,tt=!1;for(let ft=0;ft<ce.length;ft++)Qa(C,We++,ce[ft])&&(tt=!0);return tt?za(C,We,H.apply(Ee,ce)):Wf(C,We)}(Kr(),No(),C,w,x,H)}function Wf(C,w){const x=C[w];return x===zs?void 0:x}function g(C,w,x,H,ce,Ee){const We=w+x;return Qa(C,We,ce)?za(C,We+1,Ee?H.call(Ee,ce):H(ce)):Wf(C,We+1)}function E(C,w,x,H,ce,Ee,We){const tt=w+x;return bd(C,tt,ce,Ee)?za(C,tt+2,We?H.call(We,ce,Ee):H(ce,Ee)):Wf(C,tt+2)}function I(C,w,x,H,ce,Ee,We,tt){const ft=w+x;return function gp(C,w,x,H,ce){const Ee=bd(C,w,x,H);return Qa(C,w+2,ce)||Ee}(C,ft,ce,Ee,We)?za(C,ft+3,tt?H.call(tt,ce,Ee,We):H(ce,Ee,We)):Wf(C,ft+3)}function ge(C,w){const x=Ms();let H;const ce=C+20;x.firstCreatePass?(H=function Ae(C,w){if(w)for(let x=w.length-1;x>=0;x--){const H=w[x];if(C===H.name)return H}}(w,x.pipeRegistry),x.data[ce]=H,H.onDestroy&&(x.destroyHooks||(x.destroyHooks=[])).push(ce,H.onDestroy)):H=x.data[ce];const Ee=H.factory||(H.factory=$i(H.type)),We=Tt(bf);try{const tt=Ba(!1),ft=Ee();return Ba(tt),function Z_(C,w,x,H){x>=C.data.length&&(C.data[x]=null,C.blueprint[x]=null),w[x]=H}(x,Kr(),ce,ft),ft}finally{Tt(We)}}function He(C,w,x){const H=C+20,ce=Kr(),Ee=ki(ce,H);return kn(ce,H)?g(ce,No(),w,Ee.transform,x,Ee):Ee.transform(x)}function gt(C,w,x,H){const ce=C+20,Ee=Kr(),We=ki(Ee,ce);return kn(Ee,ce)?E(Ee,No(),w,We.transform,x,H,We):We.transform(x,H)}function At(C,w,x,H,ce){const Ee=C+20,We=Kr(),tt=ki(We,Ee);return kn(We,Ee)?I(We,No(),w,tt.transform,x,H,ce,tt):tt.transform(x,H,ce)}function kn(C,w){return C[1].data[w].pure}function Or(C){return w=>{setTimeout(C,void 0,w)}}const $r=class Fn extends d.x{constructor(w=!1){super(),this.__isAsync=w}emit(w){super.next(w)}subscribe(w,x,H){var ce,Ee,We;let tt=w,ft=x||(()=>null),Ft=H;if(w&&"object"==typeof w){const _n=w;tt=null===(ce=_n.next)||void 0===ce?void 0:ce.bind(_n),ft=null===(Ee=_n.error)||void 0===Ee?void 0:Ee.bind(_n),Ft=null===(We=_n.complete)||void 0===We?void 0:We.bind(_n)}this.__isAsync&&(ft=Or(ft),tt&&(tt=Or(tt)),Ft&&(Ft=Or(Ft)));const Qt=super.subscribe({next:tt,error:ft,complete:Ft});return w instanceof v.w0&&w.add(Qt),Qt}};function ui(){return this._results[Th()]()}class oi{constructor(w=!1){this._emitDistinctChangesOnly=w,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const x=Th(),H=oi.prototype;H[x]||(H[x]=ui)}get changes(){return this._changes||(this._changes=new $r)}get(w){return this._results[w]}map(w){return this._results.map(w)}filter(w){return this._results.filter(w)}find(w){return this._results.find(w)}reduce(w,x){return this._results.reduce(w,x)}forEach(w){this._results.forEach(w)}some(w){return this._results.some(w)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(w,x){const H=this;H.dirty=!1;const ce=Sa(w);(this._changesDetected=!function _u(C,w,x){if(C.length!==w.length)return!1;for(let H=0;H<C.length;H++){let ce=C[H],Ee=w[H];if(x&&(ce=x(ce),Ee=x(Ee)),Ee!==ce)return!1}return!0}(H._results,ce,x))&&(H._results=ce,H.length=ce.length,H.last=ce[this.length-1],H.first=ce[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qi=(()=>{class C{}return C.__NG_ELEMENT_ID__=xs,C})();const es=qi,Ns=class extends es{constructor(w,x,H){super(),this._declarationLView=w,this._declarationTContainer=x,this.elementRef=H}createEmbeddedView(w){const x=this._declarationTContainer.tViews,H=ru(this._declarationLView,x,w,16,null,x.declTNode,null,null,null,null);H[17]=this._declarationLView[this._declarationTContainer.index];const Ee=this._declarationLView[19];return null!==Ee&&(H[19]=Ee.createEmbeddedView(x)),op(x,H,w),new Dp(H)}};function xs(){return Us(ws(),Kr())}function Us(C,w){return 4&C.type?new Ns(w,C,zh(C,w)):null}let to=(()=>{class C{}return C.__NG_ELEMENT_ID__=Na,C})();function Na(){return cl(ws(),Kr())}const Ao=to,Pa=class extends Ao{constructor(w,x,H){super(),this._lContainer=w,this._hostTNode=x,this._hostLView=H}get element(){return zh(this._hostTNode,this._hostLView)}get injector(){return new Nr(this._hostTNode,this._hostLView)}get parentInjector(){const w=st(this._hostTNode,this._hostLView);if(xi(w)){const x=mo(w,this._hostLView),H=js(w);return new Nr(x[1].data[H+8],x)}return new Nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(w){const x=va(this._lContainer);return null!==x&&x[w]||null}get length(){return this._lContainer.length-10}createEmbeddedView(w,x,H){const ce=w.createEmbeddedView(x||{});return this.insert(ce,H),ce}createComponent(w,x,H,ce,Ee){const We=w&&!function _c(C){return"function"==typeof C}(w);let tt;if(We)tt=x;else{const _n=x||{};tt=_n.index,H=_n.injector,ce=_n.projectableNodes,Ee=_n.ngModuleRef}const ft=We?w:new f0(wn(w)),Ft=H||this.parentInjector;if(!Ee&&null==ft.ngModule){const Vn=(We?Ft:this.parentInjector).get(jl,null);Vn&&(Ee=Vn)}const Qt=ft.create(Ft,ce,void 0,Ee);return this.insert(Qt.hostView,tt),Qt}insert(w,x){const H=w._lView,ce=H[1];if(function fs(C){return Un(C[3])}(H)){const Qt=this.indexOf(w);if(-1!==Qt)this.detach(Qt);else{const _n=H[3],Vn=new Pa(_n,_n[6],_n[3]);Vn.detach(Vn.indexOf(w))}}const Ee=this._adjustIndex(x),We=this._lContainer;!function ad(C,w,x,H){const ce=10+H,Ee=x.length;H>0&&(x[ce-1][4]=w),H<Ee-10?(w[4]=x[ce],Ku(x,10+H,w)):(x.push(w),w[4]=null),w[3]=x;const We=w[17];null!==We&&x!==We&&function qy(C,w){const x=C[9];w[16]!==w[3][3][16]&&(C[2]=!0),null===x?C[9]=[w]:x.push(w)}(We,w);const tt=w[19];null!==tt&&tt.insertView(C),w[2]|=128}(ce,H,We,Ee);const tt=R0(Ee,We),ft=H[11],Ft=zp(ft,We[7]);return null!==Ft&&function Xy(C,w,x,H,ce,Ee){H[0]=ce,H[6]=w,fh(C,H,x,1,ce,Ee)}(ce,We[6],ft,H,Ft,tt),w.attachToViewContainerRef(),Ku(Bl(We),Ee,w),w}move(w,x){return this.insert(w,x)}indexOf(w){const x=va(this._lContainer);return null!==x?x.indexOf(w):-1}remove(w){const x=this._adjustIndex(w,-1),H=Rl(this._lContainer,x);H&&(Gu(Bl(this._lContainer),x),D0(H[1],H))}detach(w){const x=this._adjustIndex(w,-1),H=Rl(this._lContainer,x);return H&&null!=Gu(Bl(this._lContainer),x)?new Dp(H):null}_adjustIndex(w,x=0){return null==w?this.length+x:w}};function va(C){return C[8]}function Bl(C){return C[8]||(C[8]=[])}function cl(C,w){let x;const H=w[C.index];if(Un(H))x=H;else{let ce;if(8&C.type)ce=ht(H);else{const Ee=w[11];ce=Ee.createComment("");const We=mr(C,w);ld(Ee,zp(Ee,We),ce,function e_(C,w){return nn(C)?C.nextSibling(w):w.nextSibling}(Ee,We),!1)}w[C.index]=x=ng(H,w,ce,C),Iu(w,x)}return new Pa(x,C,w)}class Id{constructor(w){this.queryList=w,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class sh{constructor(w=[]){this.queries=w}createEmbeddedView(w){const x=w.queries;if(null!==x){const H=null!==w.contentQueries?w.contentQueries[0]:x.length,ce=[];for(let Ee=0;Ee<H;Ee++){const We=x.getByIndex(Ee);ce.push(this.queries[We.indexInDeclarationView].clone())}return new sh(ce)}return null}insertView(w){this.dirtyQueriesWithMatches(w)}detachView(w){this.dirtyQueriesWithMatches(w)}dirtyQueriesWithMatches(w){for(let x=0;x<this.queries.length;x++)null!==Wb(w,x).matches&&this.queries[x].setDirty()}}class Vf{constructor(w,x,H=null){this.predicate=w,this.flags=x,this.read=H}}class Ip{constructor(w=[]){this.queries=w}elementStart(w,x){for(let H=0;H<this.queries.length;H++)this.queries[H].elementStart(w,x)}elementEnd(w){for(let x=0;x<this.queries.length;x++)this.queries[x].elementEnd(w)}embeddedTView(w){let x=null;for(let H=0;H<this.length;H++){const ce=null!==x?x.length:0,Ee=this.getByIndex(H).embeddedTView(w,ce);Ee&&(Ee.indexInDeclarationView=H,null!==x?x.push(Ee):x=[Ee])}return null!==x?new Ip(x):null}template(w,x){for(let H=0;H<this.queries.length;H++)this.queries[H].template(w,x)}getByIndex(w){return this.queries[w]}get length(){return this.queries.length}track(w){this.queries.push(w)}}class v0{constructor(w,x=-1){this.metadata=w,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=x}elementStart(w,x){this.isApplyingToNode(x)&&this.matchTNode(w,x)}elementEnd(w){this._declarationNodeIndex===w.index&&(this._appliesToNextNode=!1)}template(w,x){this.elementStart(w,x)}embeddedTView(w,x){return this.isApplyingToNode(w)?(this.crossesNgTemplate=!0,this.addMatch(-w.index,x),new v0(this.metadata)):null}isApplyingToNode(w){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const x=this._declarationNodeIndex;let H=w.parent;for(;null!==H&&8&H.type&&H.index!==x;)H=H.parent;return x===(null!==H?H.index:-1)}return this._appliesToNextNode}matchTNode(w,x){const H=this.metadata.predicate;if(Array.isArray(H))for(let ce=0;ce<H.length;ce++){const Ee=H[ce];this.matchTNodeWithReadOption(w,x,zy(x,Ee)),this.matchTNodeWithReadOption(w,x,Kt(x,w,Ee,!1,!1))}else H===qi?4&x.type&&this.matchTNodeWithReadOption(w,x,-1):this.matchTNodeWithReadOption(w,x,Kt(x,w,H,!1,!1))}matchTNodeWithReadOption(w,x,H){if(null!==H){const ce=this.metadata.read;if(null!==ce)if(ce===$h||ce===to||ce===qi&&4&x.type)this.addMatch(x.index,-2);else{const Ee=Kt(x,w,ce,!1,!1);null!==Ee&&this.addMatch(x.index,Ee)}else this.addMatch(x.index,H)}}addMatch(w,x){null===this.matches?this.matches=[w,x]:this.matches.push(w,x)}}function zy(C,w){const x=C.localNames;if(null!==x)for(let H=0;H<x.length;H+=2)if(x[H]===w)return x[H+1];return null}function a1(C,w,x,H){return-1===x?function o1(C,w){return 11&C.type?zh(C,w):4&C.type?Us(C,w):null}(w,C):-2===x?function l1(C,w,x){return x===$h?zh(w,C):x===qi?Us(w,C):x===to?cl(w,C):void 0}(C,w,H):dn(C,C[1],x,w)}function Lb(C,w,x,H){const ce=w[19].queries[H];if(null===ce.matches){const Ee=C.data,We=x.matches,tt=[];for(let ft=0;ft<We.length;ft+=2){const Ft=We[ft];tt.push(Ft<0?null:a1(w,Ee[Ft],We[ft+1],x.metadata.read))}ce.matches=tt}return ce.matches}function c1(C,w,x,H){const ce=C.queries.getByIndex(x),Ee=ce.matches;if(null!==Ee){const We=Lb(C,w,ce,x);for(let tt=0;tt<Ee.length;tt+=2){const ft=Ee[tt];if(ft>0)H.push(We[tt/2]);else{const Ft=Ee[tt+1],Qt=w[-ft];for(let _n=10;_n<Qt.length;_n++){const Vn=Qt[_n];Vn[17]===Vn[3]&&c1(Vn[1],Vn,Ft,H)}if(null!==Qt[9]){const _n=Qt[9];for(let Vn=0;Vn<_n.length;Vn++){const lr=_n[Vn];c1(lr[1],lr,Ft,H)}}}}}return H}function Fb(C){const w=Kr(),x=Ms(),H=Ka();hl(H+1);const ce=Wb(x,H);if(C.dirty&&os(w)===(2==(2&ce.metadata.flags))){if(null===ce.matches)C.reset([]);else{const Ee=ce.crossesNgTemplate?c1(x,w,H,[]):Lb(x,w,ce,H);C.reset(Ee,qv),C.notifyOnChanges()}return!0}return!1}function Ub(C,w,x){const H=Ms();H.firstCreatePass&&(kb(H,new Vf(C,w,x),-1),2==(2&w)&&(H.staticViewQueries=!0)),Bb(H,Kr(),w)}function Nb(C,w,x,H){const ce=Ms();if(ce.firstCreatePass){const Ee=ws();kb(ce,new Vf(w,x,H),Ee.index),function BE(C,w){const x=C.contentQueries||(C.contentQueries=[]);w!==(x.length?x[x.length-1]:-1)&&x.push(C.queries.length-1,w)}(ce,C),2==(2&x)&&(ce.staticContentQueries=!0)}Bb(ce,Kr(),x)}function jb(){return function jE(C,w){return C[19].queries[w].queryList}(Kr(),Ka())}function Bb(C,w,x){const H=new oi(4==(4&x));f_(C,w,H,H.destroy),null===w[19]&&(w[19]=new sh),w[19].queries.push(new Id(H))}function kb(C,w,x){null===C.queries&&(C.queries=new Ip),C.queries.track(new v0(w,x))}function Wb(C,w){return C.queries.getByIndex(w)}function Vb(C,w){return Us(C,w)}function Gy(...C){}const sE=new xo("Application Initializer");let m1=(()=>{class C{constructor(x){this.appInits=x,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((H,ce)=>{this.resolve=H,this.reject=ce})}runInitializers(){if(this.initialized)return;const x=[],H=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let ce=0;ce<this.appInits.length;ce++){const Ee=this.appInits[ce]();if(Ng(Ee))x.push(Ee);else if(ev(Ee)){const We=new Promise((tt,ft)=>{Ee.subscribe({complete:tt,error:ft})});x.push(We)}}Promise.all(x).then(()=>{H()}).catch(ce=>{this.reject(ce)}),0===x.length&&H(),this.initialized=!0}}return C.\u0275fac=function(x){return new(x||C)(Ho(sE,8))},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const oE=new xo("AppId",{providedIn:"root",factory:function aE(){return`${g1()}${g1()}${g1()}`}});function g1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lE=new xo("Platform Initializer"),nC=new xo("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cE=new xo("appBootstrapListener");let rC=(()=>{class C{log(x){console.log(x)}warn(x){console.warn(x)}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"platform"}),C})();const y1=new xo("LocaleId",{providedIn:"root",factory:()=>lh(y1,$e.Optional|$e.SkipSelf)||function iC(){return"undefined"!=typeof $localize&&$localize.locale||Mp}()}),sC=new xo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oC{constructor(w,x){this.ngModuleFactory=w,this.componentFactories=x}}let aC=(()=>{class C{compileModuleSync(x){return new m0(x)}compileModuleAsync(x){return Promise.resolve(this.compileModuleSync(x))}compileModuleAndAllComponentsSync(x){const H=this.compileModuleSync(x),Ee=ga(Bn(x).declarations).reduce((We,tt)=>{const ft=wn(tt);return ft&&We.push(new f0(ft)),We},[]);return new oC(H,Ee)}compileModuleAndAllComponentsAsync(x){return Promise.resolve(this.compileModuleAndAllComponentsSync(x))}clearCache(){}clearCacheFor(x){}getModuleId(x){}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const cC=(()=>Promise.resolve(0))();function _1(C){"undefined"==typeof Zone?cC.then(()=>{C&&C.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",C)}class Zu{constructor({enableLongStackTrace:w=!1,shouldCoalesceEventChangeDetection:x=!1,shouldCoalesceRunChangeDetection:H=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $r(!1),this.onMicrotaskEmpty=new $r(!1),this.onStable=new $r(!1),this.onError=new $r(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const ce=this;ce._nesting=0,ce._outer=ce._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(ce._inner=ce._inner.fork(new Zone.TaskTrackingZoneSpec)),w&&Zone.longStackTraceZoneSpec&&(ce._inner=ce._inner.fork(Zone.longStackTraceZoneSpec)),ce.shouldCoalesceEventChangeDetection=!H&&x,ce.shouldCoalesceRunChangeDetection=H,ce.lastRequestAnimationFrameId=-1,ce.nativeRequestAnimationFrame=function uC(){let C=Xn.requestAnimationFrame,w=Xn.cancelAnimationFrame;if("undefined"!=typeof Zone&&C&&w){const x=C[Zone.__symbol__("OriginalDelegate")];x&&(C=x);const H=w[Zone.__symbol__("OriginalDelegate")];H&&(w=H)}return{nativeRequestAnimationFrame:C,nativeCancelAnimationFrame:w}}().nativeRequestAnimationFrame,function pC(C){const w=()=>{!function hC(C){C.isCheckStableRunning||-1!==C.lastRequestAnimationFrameId||(C.lastRequestAnimationFrameId=C.nativeRequestAnimationFrame.call(Xn,()=>{C.fakeTopEventTask||(C.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{C.lastRequestAnimationFrameId=-1,b1(C),C.isCheckStableRunning=!0,v1(C),C.isCheckStableRunning=!1},void 0,()=>{},()=>{})),C.fakeTopEventTask.invoke()}),b1(C))}(C)};C._inner=C._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(x,H,ce,Ee,We,tt)=>{try{return uE(C),x.invokeTask(ce,Ee,We,tt)}finally{(C.shouldCoalesceEventChangeDetection&&"eventTask"===Ee.type||C.shouldCoalesceRunChangeDetection)&&w(),dE(C)}},onInvoke:(x,H,ce,Ee,We,tt,ft)=>{try{return uE(C),x.invoke(ce,Ee,We,tt,ft)}finally{C.shouldCoalesceRunChangeDetection&&w(),dE(C)}},onHasTask:(x,H,ce,Ee)=>{x.hasTask(ce,Ee),H===ce&&("microTask"==Ee.change?(C._hasPendingMicrotasks=Ee.microTask,b1(C),v1(C)):"macroTask"==Ee.change&&(C.hasPendingMacrotasks=Ee.macroTask))},onHandleError:(x,H,ce,Ee)=>(x.handleError(ce,Ee),C.runOutsideAngular(()=>C.onError.emit(Ee)),!1)})}(ce)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(w,x,H){return this._inner.run(w,x,H)}runTask(w,x,H,ce){const Ee=this._inner,We=Ee.scheduleEventTask("NgZoneEvent: "+ce,w,dC,Gy,Gy);try{return Ee.runTask(We,x,H)}finally{Ee.cancelTask(We)}}runGuarded(w,x,H){return this._inner.runGuarded(w,x,H)}runOutsideAngular(w){return this._outer.run(w)}}const dC={};function v1(C){if(0==C._nesting&&!C.hasPendingMicrotasks&&!C.isStable)try{C._nesting++,C.onMicrotaskEmpty.emit(null)}finally{if(C._nesting--,!C.hasPendingMicrotasks)try{C.runOutsideAngular(()=>C.onStable.emit(null))}finally{C.isStable=!0}}}function b1(C){C.hasPendingMicrotasks=!!(C._hasPendingMicrotasks||(C.shouldCoalesceEventChangeDetection||C.shouldCoalesceRunChangeDetection)&&-1!==C.lastRequestAnimationFrameId)}function uE(C){C._nesting++,C.isStable&&(C.isStable=!1,C.onUnstable.emit(null))}function dE(C){C._nesting--,v1(C)}class fC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $r,this.onMicrotaskEmpty=new $r,this.onStable=new $r,this.onError=new $r}run(w,x,H){return w.apply(x,H)}runGuarded(w,x,H){return w.apply(x,H)}runOutsideAngular(w){return w()}runTask(w,x,H,ce){return w.apply(x,H)}}let hE=(()=>{class C{constructor(x){this._ngZone=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),x.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),_1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_1(()=>{for(;0!==this._callbacks.length;){let x=this._callbacks.pop();clearTimeout(x.timeoutId),x.doneCb(this._didWork)}this._didWork=!1});else{let x=this.getPendingTasks();this._callbacks=this._callbacks.filter(H=>!H.updateCb||!H.updateCb(x)||(clearTimeout(H.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(x=>({source:x.source,creationLocation:x.creationLocation,data:x.data})):[]}addCallback(x,H,ce){let Ee=-1;H&&H>0&&(Ee=setTimeout(()=>{this._callbacks=this._callbacks.filter(We=>We.timeoutId!==Ee),x(this._didWork,this.getPendingTasks())},H)),this._callbacks.push({doneCb:x,timeoutId:Ee,updateCb:ce})}whenStable(x,H,ce){if(ce&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(x,H,ce),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(x,H,ce){return[]}}return C.\u0275fac=function(x){return new(x||C)(Ho(Zu))},C.\u0275prov=nt({token:C,factory:C.\u0275fac}),C})(),mC=(()=>{class C{constructor(){this._applications=new Map,E1.addToWindow(this)}registerApplication(x,H){this._applications.set(x,H)}unregisterApplication(x){this._applications.delete(x)}unregisterAllApplications(){this._applications.clear()}getTestability(x){return this._applications.get(x)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(x,H=!0){return E1.findTestabilityInTree(this,x,H)}}return C.\u0275fac=function(x){return new(x||C)},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"platform"}),C})();class gC{addToWindow(w){}findTestabilityInTree(w,x,H){return null}}function yC(C){E1=C}let E1=new gC,Ap=null;const pE=new xo("AllowMultipleToken"),fE=new xo("PlatformOnDestroy");class bC{constructor(w,x){this.name=w,this.token=x}}function mE(C,w,x=[]){const H=`Platform: ${w}`,ce=new xo(H);return(Ee=[])=>{let We=C1();if(!We||We.injector.get(pE,!1)){const tt=[...x,...Ee,{provide:ce,useValue:!0}];C?C(tt):function EC(C){if(Ap&&!Ap.get(pE,!1))throw new re(400,"");Ap=C;const w=C.get(gE),x=C.get(lE,null);x&&x.forEach(H=>H())}(function MC(C=[],w){return cc.create({name:w,providers:[{provide:Em,useValue:"platform"},{provide:fE,useValue:()=>Ap=null},...C]})}(tt,H))}return function CC(C){const w=C1();if(!w)throw new re(401,"");return w}()}}function C1(){var C;return null!==(C=null==Ap?void 0:Ap.get(gE))&&void 0!==C?C:null}let gE=(()=>{class C{constructor(x){this._injector=x,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(x,H){const tt=function wC(C,w){let x;return x="noop"===C?new fC:("zone.js"===C?void 0:C)||new Zu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==w?void 0:w.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==w?void 0:w.ngZoneRunCoalescing)}),x}(H?H.ngZone:void 0,{ngZoneEventCoalescing:H&&H.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:H&&H.ngZoneRunCoalescing||!1}),ft=[{provide:Zu,useValue:tt}];return tt.run(()=>{const Ft=cc.create({providers:ft,parent:this.injector,name:x.moduleType.name}),Qt=x.create(Ft),_n=Qt.injector.get(hs,null);if(!_n)throw new re(402,"");return tt.runOutsideAngular(()=>{const Vn=tt.onError.subscribe({next:lr=>{_n.handleError(lr)}});Qt.onDestroy(()=>{w1(this._modules,Qt),Vn.unsubscribe()})}),function OC(C,w,x){try{const H=x();return Ng(H)?H.catch(ce=>{throw w.runOutsideAngular(()=>C.handleError(ce)),ce}):H}catch(H){throw w.runOutsideAngular(()=>C.handleError(H)),H}}(_n,tt,()=>{const Vn=Qt.injector.get(m1);return Vn.runInitializers(),Vn.donePromise.then(()=>(function xf(C){ve(C,"Expected localeId to be defined"),"string"==typeof C&&(ay=C.toLowerCase().replace(/_/g,"-"))}(Qt.injector.get(y1,Mp)||Mp),this._moduleDoBootstrap(Qt),Qt))})})}bootstrapModule(x,H=[]){const ce=yE({},H);return function _C(C,w,x){const H=new m0(x);return Promise.resolve(H)}(0,0,x).then(Ee=>this.bootstrapModuleFactory(Ee,ce))}_moduleDoBootstrap(x){const H=x.injector.get(M1);if(x._bootstrapComponents.length>0)x._bootstrapComponents.forEach(ce=>H.bootstrap(ce));else{if(!x.instance.ngDoBootstrap)throw new re(403,"");x.instance.ngDoBootstrap(H)}this._modules.push(x)}onDestroy(x){this._destroyListeners.push(x)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,"");this._modules.slice().forEach(H=>H.destroy()),this._destroyListeners.forEach(H=>H());const x=this._injector.get(fE,null);null==x||x(),this._destroyed=!0}get destroyed(){return this._destroyed}}return C.\u0275fac=function(x){return new(x||C)(Ho(cc))},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"platform"}),C})();function yE(C,w){return Array.isArray(w)?w.reduce(yE,C):Object.assign(Object.assign({},C),w)}let M1=(()=>{class C{constructor(x,H,ce,Ee){this._zone=x,this._injector=H,this._exceptionHandler=ce,this._initStatus=Ee,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const We=new X.y(ft=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ft.next(this._stable),ft.complete()})}),tt=new X.y(ft=>{let Ft;this._zone.runOutsideAngular(()=>{Ft=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),_1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ft.next(!0))})})});const Qt=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ft.next(!1)}))});return()=>{Ft.unsubscribe(),Qt.unsubscribe()}});this.isStable=(0,G.T)(We,tt.pipe((0,z.B)()))}bootstrap(x,H){if(!this._initStatus.done)throw new re(405,"");let ce;ce=x instanceof Dy?x:this._injector.get(Tp).resolveComponentFactory(x),this.componentTypes.push(ce.componentType);const Ee=function vC(C){return C.isBoundToModule}(ce)?void 0:this._injector.get(jl),tt=ce.create(cc.NULL,[],H||ce.selector,Ee),ft=tt.location.nativeElement,Ft=tt.injector.get(hE,null),Qt=Ft&&tt.injector.get(mC);return Ft&&Qt&&Qt.registerApplication(ft,Ft),tt.onDestroy(()=>{this.detachView(tt.hostView),w1(this.components,tt),Qt&&Qt.unregisterApplication(ft)}),this._loadComponent(tt),tt}tick(){if(this._runningTick)throw new re(101,"");try{this._runningTick=!0;for(let x of this._views)x.detectChanges()}catch(x){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(x))}finally{this._runningTick=!1}}attachView(x){const H=x;this._views.push(H),H.attachToAppRef(this)}detachView(x){const H=x;w1(this._views,H),H.detachFromAppRef()}_loadComponent(x){this.attachView(x.hostView),this.tick(),this.components.push(x),this._injector.get(cE,[]).concat(this._bootstrapListeners).forEach(ce=>ce(x))}ngOnDestroy(){this._views.slice().forEach(x=>x.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return C.\u0275fac=function(x){return new(x||C)(Ho(Zu),Ho(cc),Ho(hs),Ho(m1))},C.\u0275prov=nt({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function w1(C,w){const x=C.indexOf(w);x>-1&&C.splice(x,1)}let vE=!0;function TC(){vE=!1}let DC=(()=>{class C{}return C.__NG_ELEMENT_ID__=PC,C})();function PC(C){return function IC(C,w,x){if(cs(C)&&!x){const H=_i(C.index,w);return new Dp(H,H)}return 47&C.type?new Dp(w[16],w):null}(ws(),Kr(),16==(16&C))}class wE{constructor(){}supports(w){return Dh(w)}create(w){return new UC(w)}}const FC=(C,w)=>w;class UC{constructor(w){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=w||FC}forEachItem(w){let x;for(x=this._itHead;null!==x;x=x._next)w(x)}forEachOperation(w){let x=this._itHead,H=this._removalsHead,ce=0,Ee=null;for(;x||H;){const We=!H||x&&x.currentIndex<SE(H,ce,Ee)?x:H,tt=SE(We,ce,Ee),ft=We.currentIndex;if(We===H)ce--,H=H._nextRemoved;else if(x=x._next,null==We.previousIndex)ce++;else{Ee||(Ee=[]);const Ft=tt-ce,Qt=ft-ce;if(Ft!=Qt){for(let Vn=0;Vn<Ft;Vn++){const lr=Vn<Ee.length?Ee[Vn]:Ee[Vn]=0,jr=lr+Vn;Qt<=jr&&jr<Ft&&(Ee[Vn]=lr+1)}Ee[We.previousIndex]=Qt-Ft}}tt!==ft&&w(We,tt,ft)}}forEachPreviousItem(w){let x;for(x=this._previousItHead;null!==x;x=x._nextPrevious)w(x)}forEachAddedItem(w){let x;for(x=this._additionsHead;null!==x;x=x._nextAdded)w(x)}forEachMovedItem(w){let x;for(x=this._movesHead;null!==x;x=x._nextMoved)w(x)}forEachRemovedItem(w){let x;for(x=this._removalsHead;null!==x;x=x._nextRemoved)w(x)}forEachIdentityChange(w){let x;for(x=this._identityChangesHead;null!==x;x=x._nextIdentityChange)w(x)}diff(w){if(null==w&&(w=[]),!Dh(w))throw new re(900,"");return this.check(w)?this:null}onDestroy(){}check(w){this._reset();let ce,Ee,We,x=this._itHead,H=!1;if(Array.isArray(w)){this.length=w.length;for(let tt=0;tt<this.length;tt++)Ee=w[tt],We=this._trackByFn(tt,Ee),null!==x&&Object.is(x.trackById,We)?(H&&(x=this._verifyReinsertion(x,Ee,We,tt)),Object.is(x.item,Ee)||this._addIdentityChange(x,Ee)):(x=this._mismatch(x,Ee,We,tt),H=!0),x=x._next}else ce=0,function mf(C,w){if(Array.isArray(C))for(let x=0;x<C.length;x++)w(C[x]);else{const x=C[Th()]();let H;for(;!(H=x.next()).done;)w(H.value)}}(w,tt=>{We=this._trackByFn(ce,tt),null!==x&&Object.is(x.trackById,We)?(H&&(x=this._verifyReinsertion(x,tt,We,ce)),Object.is(x.item,tt)||this._addIdentityChange(x,tt)):(x=this._mismatch(x,tt,We,ce),H=!0),x=x._next,ce++}),this.length=ce;return this._truncate(x),this.collection=w,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let w;for(w=this._previousItHead=this._itHead;null!==w;w=w._next)w._nextPrevious=w._next;for(w=this._additionsHead;null!==w;w=w._nextAdded)w.previousIndex=w.currentIndex;for(this._additionsHead=this._additionsTail=null,w=this._movesHead;null!==w;w=w._nextMoved)w.previousIndex=w.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(w,x,H,ce){let Ee;return null===w?Ee=this._itTail:(Ee=w._prev,this._remove(w)),null!==(w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(H,null))?(Object.is(w.item,x)||this._addIdentityChange(w,x),this._reinsertAfter(w,Ee,ce)):null!==(w=null===this._linkedRecords?null:this._linkedRecords.get(H,ce))?(Object.is(w.item,x)||this._addIdentityChange(w,x),this._moveAfter(w,Ee,ce)):w=this._addAfter(new NC(x,H),Ee,ce),w}_verifyReinsertion(w,x,H,ce){let Ee=null===this._unlinkedRecords?null:this._unlinkedRecords.get(H,null);return null!==Ee?w=this._reinsertAfter(Ee,w._prev,ce):w.currentIndex!=ce&&(w.currentIndex=ce,this._addToMoves(w,ce)),w}_truncate(w){for(;null!==w;){const x=w._next;this._addToRemovals(this._unlink(w)),w=x}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(w,x,H){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(w);const ce=w._prevRemoved,Ee=w._nextRemoved;return null===ce?this._removalsHead=Ee:ce._nextRemoved=Ee,null===Ee?this._removalsTail=ce:Ee._prevRemoved=ce,this._insertAfter(w,x,H),this._addToMoves(w,H),w}_moveAfter(w,x,H){return this._unlink(w),this._insertAfter(w,x,H),this._addToMoves(w,H),w}_addAfter(w,x,H){return this._insertAfter(w,x,H),this._additionsTail=null===this._additionsTail?this._additionsHead=w:this._additionsTail._nextAdded=w,w}_insertAfter(w,x,H){const ce=null===x?this._itHead:x._next;return w._next=ce,w._prev=x,null===ce?this._itTail=w:ce._prev=w,null===x?this._itHead=w:x._next=w,null===this._linkedRecords&&(this._linkedRecords=new OE),this._linkedRecords.put(w),w.currentIndex=H,w}_remove(w){return this._addToRemovals(this._unlink(w))}_unlink(w){null!==this._linkedRecords&&this._linkedRecords.remove(w);const x=w._prev,H=w._next;return null===x?this._itHead=H:x._next=H,null===H?this._itTail=x:H._prev=x,w}_addToMoves(w,x){return w.previousIndex===x||(this._movesTail=null===this._movesTail?this._movesHead=w:this._movesTail._nextMoved=w),w}_addToRemovals(w){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OE),this._unlinkedRecords.put(w),w.currentIndex=null,w._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=w,w._prevRemoved=null):(w._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=w),w}_addIdentityChange(w,x){return w.item=x,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=w:this._identityChangesTail._nextIdentityChange=w,w}}class NC{constructor(w,x){this.item=w,this.trackById=x,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jC{constructor(){this._head=null,this._tail=null}add(w){null===this._head?(this._head=this._tail=w,w._nextDup=null,w._prevDup=null):(this._tail._nextDup=w,w._prevDup=this._tail,w._nextDup=null,this._tail=w)}get(w,x){let H;for(H=this._head;null!==H;H=H._nextDup)if((null===x||x<=H.currentIndex)&&Object.is(H.trackById,w))return H;return null}remove(w){const x=w._prevDup,H=w._nextDup;return null===x?this._head=H:x._nextDup=H,null===H?this._tail=x:H._prevDup=x,null===this._head}}class OE{constructor(){this.map=new Map}put(w){const x=w.trackById;let H=this.map.get(x);H||(H=new jC,this.map.set(x,H)),H.add(w)}get(w,x){const ce=this.map.get(w);return ce?ce.get(w,x):null}remove(w){const x=w.trackById;return this.map.get(x).remove(w)&&this.map.delete(x),w}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(C,w,x){const H=C.previousIndex;if(null===H)return H;let ce=0;return x&&H<x.length&&(ce=x[H]),H+w+ce}class TE{constructor(){}supports(w){return w instanceof Map||Pm(w)}create(){return new BC}}class BC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(w){let x;for(x=this._mapHead;null!==x;x=x._next)w(x)}forEachPreviousItem(w){let x;for(x=this._previousMapHead;null!==x;x=x._nextPrevious)w(x)}forEachChangedItem(w){let x;for(x=this._changesHead;null!==x;x=x._nextChanged)w(x)}forEachAddedItem(w){let x;for(x=this._additionsHead;null!==x;x=x._nextAdded)w(x)}forEachRemovedItem(w){let x;for(x=this._removalsHead;null!==x;x=x._nextRemoved)w(x)}diff(w){if(w){if(!(w instanceof Map||Pm(w)))throw new re(900,"")}else w=new Map;return this.check(w)?this:null}onDestroy(){}check(w){this._reset();let x=this._mapHead;if(this._appendAfter=null,this._forEach(w,(H,ce)=>{if(x&&x.key===ce)this._maybeAddToChanges(x,H),this._appendAfter=x,x=x._next;else{const Ee=this._getOrCreateRecordForKey(ce,H);x=this._insertBeforeOrAppend(x,Ee)}}),x){x._prev&&(x._prev._next=null),this._removalsHead=x;for(let H=x;null!==H;H=H._nextRemoved)H===this._mapHead&&(this._mapHead=null),this._records.delete(H.key),H._nextRemoved=H._next,H.previousValue=H.currentValue,H.currentValue=null,H._prev=null,H._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(w,x){if(w){const H=w._prev;return x._next=w,x._prev=H,w._prev=x,H&&(H._next=x),w===this._mapHead&&(this._mapHead=x),this._appendAfter=w,w}return this._appendAfter?(this._appendAfter._next=x,x._prev=this._appendAfter):this._mapHead=x,this._appendAfter=x,null}_getOrCreateRecordForKey(w,x){if(this._records.has(w)){const ce=this._records.get(w);this._maybeAddToChanges(ce,x);const Ee=ce._prev,We=ce._next;return Ee&&(Ee._next=We),We&&(We._prev=Ee),ce._next=null,ce._prev=null,ce}const H=new kC(w);return this._records.set(w,H),H.currentValue=x,this._addToAdditions(H),H}_reset(){if(this.isDirty){let w;for(this._previousMapHead=this._mapHead,w=this._previousMapHead;null!==w;w=w._next)w._nextPrevious=w._next;for(w=this._changesHead;null!==w;w=w._nextChanged)w.previousValue=w.currentValue;for(w=this._additionsHead;null!=w;w=w._nextAdded)w.previousValue=w.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(w,x){Object.is(x,w.currentValue)||(w.previousValue=w.currentValue,w.currentValue=x,this._addToChanges(w))}_addToAdditions(w){null===this._additionsHead?this._additionsHead=this._additionsTail=w:(this._additionsTail._nextAdded=w,this._additionsTail=w)}_addToChanges(w){null===this._changesHead?this._changesHead=this._changesTail=w:(this._changesTail._nextChanged=w,this._changesTail=w)}_forEach(w,x){w instanceof Map?w.forEach(x):Object.keys(w).forEach(H=>x(w[H],H))}}class kC{constructor(w){this.key=w,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DE(){return new P1([new wE])}let P1=(()=>{class C{constructor(x){this.factories=x}static create(x,H){if(null!=H){const ce=H.factories.slice();x=x.concat(ce)}return new C(x)}static extend(x){return{provide:C,useFactory:H=>C.create(x,H||DE()),deps:[[C,new Gt,new qe]]}}find(x){const H=this.factories.find(ce=>ce.supports(x));if(null!=H)return H;throw new re(901,"")}}return C.\u0275prov=nt({token:C,providedIn:"root",factory:DE}),C})();function PE(){return new I1([new TE])}let I1=(()=>{class C{constructor(x){this.factories=x}static create(x,H){if(H){const ce=H.factories.slice();x=x.concat(ce)}return new C(x)}static extend(x){return{provide:C,useFactory:H=>C.create(x,H||PE()),deps:[[C,new Gt,new qe]]}}find(x){const H=this.factories.find(Ee=>Ee.supports(x));if(H)return H;throw new re(901,"")}}return C.\u0275prov=nt({token:C,providedIn:"root",factory:PE}),C})();const ZC=mE(null,"core",[]);let zC=(()=>{class C{constructor(x){}}return C.\u0275fac=function(x){return new(x||C)(Ho(M1))},C.\u0275mod=an({type:C}),C.\u0275inj=Ne({}),C})()},93075:(wt,Se,p)=>{"use strict";p.d(Se,{Fj:()=>ae,JJ:()=>$e,JL:()=>ot,JU:()=>k,On:()=>cs,Q7:()=>Kn,UX:()=>os,_Y:()=>rn,a5:()=>Ze,kI:()=>A,qu:()=>fs,sg:()=>Vi,u:()=>oo,u5:()=>_i});var d=p(5e3),v=p(69808),X=p(32076),G=p(4128),z=p(54004);let Z=(()=>{class Dt{constructor(dt,Xt){this._renderer=dt,this._elementRef=Xt,this.onChange=Mr=>{},this.onTouched=()=>{}}setProperty(dt,Xt){this._renderer.setProperty(this._elementRef.nativeElement,dt,Xt)}registerOnTouched(dt){this.onTouched=dt}registerOnChange(dt){this.onChange=dt}setDisabledState(dt){this.setProperty("disabled",dt)}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(d.Qsj),d.Y36(d.SBq))},Dt.\u0275dir=d.lG2({type:Dt}),Dt})(),D=(()=>{class Dt extends Z{}return Dt.\u0275fac=function(){let Et;return function(Xt){return(Et||(Et=d.n5z(Dt)))(Xt||Dt)}}(),Dt.\u0275dir=d.lG2({type:Dt,features:[d.qOj]}),Dt})();const k=new d.OlP("NgValueAccessor"),Q={provide:k,useExisting:(0,d.Gpc)(()=>ae),multi:!0},te=new d.OlP("CompositionEventMode");let ae=(()=>{class Dt extends Z{constructor(dt,Xt,Mr){super(dt,Xt),this._compositionMode=Mr,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const Dt=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(Dt.toLowerCase())}())}writeValue(dt){this.setProperty("value",null==dt?"":dt)}_handleInput(dt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(dt)}_compositionStart(){this._composing=!0}_compositionEnd(dt){this._composing=!1,this._compositionMode&&this.onChange(dt)}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(te,8))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(dt,Xt){1&dt&&d.NdJ("input",function(Ci){return Xt._handleInput(Ci.target.value)})("blur",function(){return Xt.onTouched()})("compositionstart",function(){return Xt._compositionStart()})("compositionend",function(Ci){return Xt._compositionEnd(Ci.target.value)})},features:[d._Bn([Q]),d.qOj]}),Dt})();function re(Dt){return null==Dt||0===Dt.length}function $(Dt){return null!=Dt&&"number"==typeof Dt.length}const F=new d.OlP("NgValidators"),R=new d.OlP("NgAsyncValidators"),U=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class A{static min(Et){return function V(Dt){return Et=>{if(re(Et.value)||re(Dt))return null;const dt=parseFloat(Et.value);return!isNaN(dt)&&dt<Dt?{min:{min:Dt,actual:Et.value}}:null}}(Et)}static max(Et){return function J(Dt){return Et=>{if(re(Et.value)||re(Dt))return null;const dt=parseFloat(Et.value);return!isNaN(dt)&&dt>Dt?{max:{max:Dt,actual:Et.value}}:null}}(Et)}static required(Et){return Y(Et)}static requiredTrue(Et){return function oe(Dt){return!0===Dt.value?null:{required:!0}}(Et)}static email(Et){return function se(Dt){return re(Dt.value)||U.test(Dt.value)?null:{email:!0}}(Et)}static minLength(Et){return function le(Dt){return Et=>re(Et.value)||!$(Et.value)?null:Et.value.length<Dt?{minlength:{requiredLength:Dt,actualLength:Et.value.length}}:null}(Et)}static maxLength(Et){return function de(Dt){return Et=>$(Et.value)&&Et.value.length>Dt?{maxlength:{requiredLength:Dt,actualLength:Et.value.length}}:null}(Et)}static pattern(Et){return function q(Dt){if(!Dt)return ue;let Et,dt;return"string"==typeof Dt?(dt="","^"!==Dt.charAt(0)&&(dt+="^"),dt+=Dt,"$"!==Dt.charAt(Dt.length-1)&&(dt+="$"),Et=new RegExp(dt)):(dt=Dt.toString(),Et=Dt),Xt=>{if(re(Xt.value))return null;const Mr=Xt.value;return Et.test(Mr)?null:{pattern:{requiredPattern:dt,actualValue:Mr}}}}(Et)}static nullValidator(Et){return null}static compose(Et){return ve(Et)}static composeAsync(Et){return je(Et)}}function Y(Dt){return re(Dt.value)?{required:!0}:null}function ue(Dt){return null}function ie(Dt){return null!=Dt}function ye(Dt){const Et=(0,d.QGY)(Dt)?(0,X.D)(Dt):Dt;return(0,d.CqO)(Et),Et}function pe(Dt){let Et={};return Dt.forEach(dt=>{Et=null!=dt?Object.assign(Object.assign({},Et),dt):Et}),0===Object.keys(Et).length?null:Et}function Ce(Dt,Et){return Et.map(dt=>dt(Dt))}function Me(Dt){return Dt.map(Et=>function De(Dt){return!Dt.validate}(Et)?Et:dt=>Et.validate(dt))}function ve(Dt){if(!Dt)return null;const Et=Dt.filter(ie);return 0==Et.length?null:function(dt){return pe(Ce(dt,Et))}}function Le(Dt){return null!=Dt?ve(Me(Dt)):null}function je(Dt){if(!Dt)return null;const Et=Dt.filter(ie);return 0==Et.length?null:function(dt){const Xt=Ce(dt,Et).map(ye);return(0,G.D)(Xt).pipe((0,z.U)(pe))}}function _e(Dt){return null!=Dt?je(Me(Dt)):null}function Re(Dt,Et){return null===Dt?[Et]:Array.isArray(Dt)?[...Dt,Et]:[Dt,Et]}function nt(Dt){return Dt._rawValidators}function pt(Dt){return Dt._rawAsyncValidators}function Ne(Dt){return Dt?Array.isArray(Dt)?Dt:[Dt]:[]}function xe(Dt,Et){return Array.isArray(Dt)?Dt.includes(Et):Dt===Et}function Ye(Dt,Et){const dt=Ne(Et);return Ne(Dt).forEach(Mr=>{xe(dt,Mr)||dt.push(Mr)}),dt}function Ke(Dt,Et){return Ne(Et).filter(dt=>!xe(Dt,dt))}class Fe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Et){this._rawValidators=Et||[],this._composedValidatorFn=Le(this._rawValidators)}_setAsyncValidators(Et){this._rawAsyncValidators=Et||[],this._composedAsyncValidatorFn=_e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Et){this._onDestroyCallbacks.push(Et)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Et=>Et()),this._onDestroyCallbacks=[]}reset(Et){this.control&&this.control.reset(Et)}hasError(Et,dt){return!!this.control&&this.control.hasError(Et,dt)}getError(Et,dt){return this.control?this.control.getError(Et,dt):null}}class Ze extends Fe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ct extends Fe{get formDirective(){return null}get path(){return null}}class we{constructor(Et){this._cd=Et}is(Et){var dt,Xt,Mr;return"submitted"===Et?!!(null===(dt=this._cd)||void 0===dt?void 0:dt.submitted):!!(null===(Mr=null===(Xt=this._cd)||void 0===Xt?void 0:Xt.control)||void 0===Mr?void 0:Mr[Et])}}let $e=(()=>{class Dt extends we{constructor(dt){super(dt)}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(Ze,2))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(dt,Xt){2&dt&&d.ekj("ng-untouched",Xt.is("untouched"))("ng-touched",Xt.is("touched"))("ng-pristine",Xt.is("pristine"))("ng-dirty",Xt.is("dirty"))("ng-valid",Xt.is("valid"))("ng-invalid",Xt.is("invalid"))("ng-pending",Xt.is("pending"))},features:[d.qOj]}),Dt})(),ot=(()=>{class Dt extends we{constructor(dt){super(dt)}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(ct,10))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(dt,Xt){2&dt&&d.ekj("ng-untouched",Xt.is("untouched"))("ng-touched",Xt.is("touched"))("ng-pristine",Xt.is("pristine"))("ng-dirty",Xt.is("dirty"))("ng-valid",Xt.is("valid"))("ng-invalid",Xt.is("invalid"))("ng-pending",Xt.is("pending"))("ng-submitted",Xt.is("submitted"))},features:[d.qOj]}),Dt})();function vr(Dt,Et){return[...Et.path,Dt]}function zn(Dt,Et){In(Dt,Et),Et.valueAccessor.writeValue(Dt.value),function jn(Dt,Et){Et.valueAccessor.registerOnChange(dt=>{Dt._pendingValue=dt,Dt._pendingChange=!0,Dt._pendingDirty=!0,"change"===Dt.updateOn&&Ht(Dt,Et)})}(Dt,Et),function ir(Dt,Et){const dt=(Xt,Mr)=>{Et.valueAccessor.writeValue(Xt),Mr&&Et.viewToModelUpdate(Xt)};Dt.registerOnChange(dt),Et._registerOnDestroy(()=>{Dt._unregisterOnChange(dt)})}(Dt,Et),function $n(Dt,Et){Et.valueAccessor.registerOnTouched(()=>{Dt._pendingTouched=!0,"blur"===Dt.updateOn&&Dt._pendingChange&&Ht(Dt,Et),"submit"!==Dt.updateOn&&Dt.markAsTouched()})}(Dt,Et),function pn(Dt,Et){if(Et.valueAccessor.setDisabledState){const dt=Xt=>{Et.valueAccessor.setDisabledState(Xt)};Dt.registerOnDisabledChange(dt),Et._registerOnDestroy(()=>{Dt._unregisterOnDisabledChange(dt)})}}(Dt,Et)}function zt(Dt,Et,dt=!0){const Xt=()=>{};Et.valueAccessor&&(Et.valueAccessor.registerOnChange(Xt),Et.valueAccessor.registerOnTouched(Xt)),Wn(Dt,Et),Dt&&(Et._invokeOnDestroyCallbacks(),Dt._registerOnCollectionChange(()=>{}))}function sn(Dt,Et){Dt.forEach(dt=>{dt.registerOnValidatorChange&&dt.registerOnValidatorChange(Et)})}function In(Dt,Et){const dt=nt(Dt);null!==Et.validator?Dt.setValidators(Re(dt,Et.validator)):"function"==typeof dt&&Dt.setValidators([dt]);const Xt=pt(Dt);null!==Et.asyncValidator?Dt.setAsyncValidators(Re(Xt,Et.asyncValidator)):"function"==typeof Xt&&Dt.setAsyncValidators([Xt]);const Mr=()=>Dt.updateValueAndValidity();sn(Et._rawValidators,Mr),sn(Et._rawAsyncValidators,Mr)}function Wn(Dt,Et){let dt=!1;if(null!==Dt){if(null!==Et.validator){const Mr=nt(Dt);if(Array.isArray(Mr)&&Mr.length>0){const Ci=Mr.filter(ro=>ro!==Et.validator);Ci.length!==Mr.length&&(dt=!0,Dt.setValidators(Ci))}}if(null!==Et.asyncValidator){const Mr=pt(Dt);if(Array.isArray(Mr)&&Mr.length>0){const Ci=Mr.filter(ro=>ro!==Et.asyncValidator);Ci.length!==Mr.length&&(dt=!0,Dt.setAsyncValidators(Ci))}}}const Xt=()=>{};return sn(Et._rawValidators,Xt),sn(Et._rawAsyncValidators,Xt),dt}function Ht(Dt,Et){Dt._pendingDirty&&Dt.markAsDirty(),Dt.setValue(Dt._pendingValue,{emitModelToViewChange:!1}),Et.viewToModelUpdate(Dt._pendingValue),Dt._pendingChange=!1}function Mt(Dt,Et){if(!Dt.hasOwnProperty("model"))return!1;const dt=Dt.model;return!!dt.isFirstChange()||!Object.is(Et,dt.currentValue)}function Ut(Dt,Et){if(!Et)return null;let dt,Xt,Mr;return Array.isArray(Et),Et.forEach(Ci=>{Ci.constructor===ae?dt=Ci:function Bt(Dt){return Object.getPrototypeOf(Dt.constructor)===D}(Ci)?Xt=Ci:Mr=Ci}),Mr||Xt||dt||null}function Cn(Dt,Et){const dt=Dt.indexOf(Et);dt>-1&&Dt.splice(dt,1)}const or="VALID",Hr="INVALID",wi="PENDING",Ei="DISABLED";function Fi(Dt){return(Ui(Dt)?Dt.validators:Dt)||null}function rs(Dt){return Array.isArray(Dt)?Le(Dt):Dt||null}function Zr(Dt,Et){return(Ui(Et)?Et.asyncValidators:Dt)||null}function fi(Dt){return Array.isArray(Dt)?_e(Dt):Dt||null}function Ui(Dt){return null!=Dt&&!Array.isArray(Dt)&&"object"==typeof Dt}const hr=Dt=>Dt instanceof Li,Ii=Dt=>Dt instanceof ps,Hi=Dt=>Dt instanceof ut;function Hs(Dt){return hr(Dt)?Dt.value:Dt.getRawValue()}function gi(Dt,Et){const dt=Ii(Dt),Xt=Dt.controls;if(!(dt?Object.keys(Xt):Xt).length)throw new d.vHH(1e3,"");if(!Xt[Et])throw new d.vHH(1001,"")}function Bi(Dt,Et){Ii(Dt),Dt._forEachChild((Xt,Mr)=>{if(void 0===Et[Mr])throw new d.vHH(1002,"")})}class Ts{constructor(Et,dt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=Et,this._rawAsyncValidators=dt,this._composedValidatorFn=rs(this._rawValidators),this._composedAsyncValidatorFn=fi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(Et){this._rawValidators=this._composedValidatorFn=Et}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Et){this._rawAsyncValidators=this._composedAsyncValidatorFn=Et}get parent(){return this._parent}get valid(){return this.status===or}get invalid(){return this.status===Hr}get pending(){return this.status==wi}get disabled(){return this.status===Ei}get enabled(){return this.status!==Ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Et){this._rawValidators=Et,this._composedValidatorFn=rs(Et)}setAsyncValidators(Et){this._rawAsyncValidators=Et,this._composedAsyncValidatorFn=fi(Et)}addValidators(Et){this.setValidators(Ye(Et,this._rawValidators))}addAsyncValidators(Et){this.setAsyncValidators(Ye(Et,this._rawAsyncValidators))}removeValidators(Et){this.setValidators(Ke(Et,this._rawValidators))}removeAsyncValidators(Et){this.setAsyncValidators(Ke(Et,this._rawAsyncValidators))}hasValidator(Et){return xe(this._rawValidators,Et)}hasAsyncValidator(Et){return xe(this._rawAsyncValidators,Et)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Et={}){this.touched=!0,this._parent&&!Et.onlySelf&&this._parent.markAsTouched(Et)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Et=>Et.markAllAsTouched())}markAsUntouched(Et={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(dt=>{dt.markAsUntouched({onlySelf:!0})}),this._parent&&!Et.onlySelf&&this._parent._updateTouched(Et)}markAsDirty(Et={}){this.pristine=!1,this._parent&&!Et.onlySelf&&this._parent.markAsDirty(Et)}markAsPristine(Et={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(dt=>{dt.markAsPristine({onlySelf:!0})}),this._parent&&!Et.onlySelf&&this._parent._updatePristine(Et)}markAsPending(Et={}){this.status=wi,!1!==Et.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Et.onlySelf&&this._parent.markAsPending(Et)}disable(Et={}){const dt=this._parentMarkedDirty(Et.onlySelf);this.status=Ei,this.errors=null,this._forEachChild(Xt=>{Xt.disable(Object.assign(Object.assign({},Et),{onlySelf:!0}))}),this._updateValue(),!1!==Et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},Et),{skipPristineCheck:dt})),this._onDisabledChange.forEach(Xt=>Xt(!0))}enable(Et={}){const dt=this._parentMarkedDirty(Et.onlySelf);this.status=or,this._forEachChild(Xt=>{Xt.enable(Object.assign(Object.assign({},Et),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Et.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},Et),{skipPristineCheck:dt})),this._onDisabledChange.forEach(Xt=>Xt(!1))}_updateAncestors(Et){this._parent&&!Et.onlySelf&&(this._parent.updateValueAndValidity(Et),Et.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Et){this._parent=Et}updateValueAndValidity(Et={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===or||this.status===wi)&&this._runAsyncValidator(Et.emitEvent)),!1!==Et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Et.onlySelf&&this._parent.updateValueAndValidity(Et)}_updateTreeValidity(Et={emitEvent:!0}){this._forEachChild(dt=>dt._updateTreeValidity(Et)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Et.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ei:or}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Et){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator=!0;const dt=ye(this.asyncValidator(this));this._asyncValidationSubscription=dt.subscribe(Xt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Xt,{emitEvent:Et})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Et,dt={}){this.errors=Et,this._updateControlsErrors(!1!==dt.emitEvent)}get(Et){return function kr(Dt,Et,dt){if(null==Et||(Array.isArray(Et)||(Et=Et.split(dt)),Array.isArray(Et)&&0===Et.length))return null;let Xt=Dt;return Et.forEach(Mr=>{Xt=Ii(Xt)?Xt.controls.hasOwnProperty(Mr)?Xt.controls[Mr]:null:Hi(Xt)&&Xt.at(Mr)||null}),Xt}(this,Et,".")}getError(Et,dt){const Xt=dt?this.get(dt):this;return Xt&&Xt.errors?Xt.errors[Et]:null}hasError(Et,dt){return!!this.getError(Et,dt)}get root(){let Et=this;for(;Et._parent;)Et=Et._parent;return Et}_updateControlsErrors(Et){this.status=this._calculateStatus(),Et&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Et)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ei:this.errors?Hr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(Hr)?Hr:or}_anyControlsHaveStatus(Et){return this._anyControls(dt=>dt.status===Et)}_anyControlsDirty(){return this._anyControls(Et=>Et.dirty)}_anyControlsTouched(){return this._anyControls(Et=>Et.touched)}_updatePristine(Et={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Et.onlySelf&&this._parent._updatePristine(Et)}_updateTouched(Et={}){this.touched=this._anyControlsTouched(),this._parent&&!Et.onlySelf&&this._parent._updateTouched(Et)}_isBoxedValue(Et){return"object"==typeof Et&&null!==Et&&2===Object.keys(Et).length&&"value"in Et&&"disabled"in Et}_registerOnCollectionChange(Et){this._onCollectionChange=Et}_setUpdateStrategy(Et){Ui(Et)&&null!=Et.updateOn&&(this._updateOn=Et.updateOn)}_parentMarkedDirty(Et){return!Et&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Li extends Ts{constructor(Et=null,dt,Xt){super(Fi(dt),Zr(Xt,dt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Et),this._setUpdateStrategy(dt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ui(dt)&&dt.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(Et)?Et.value:Et)}setValue(Et,dt={}){this.value=this._pendingValue=Et,this._onChange.length&&!1!==dt.emitModelToViewChange&&this._onChange.forEach(Xt=>Xt(this.value,!1!==dt.emitViewToModelChange)),this.updateValueAndValidity(dt)}patchValue(Et,dt={}){this.setValue(Et,dt)}reset(Et=this.defaultValue,dt={}){this._applyFormState(Et),this.markAsPristine(dt),this.markAsUntouched(dt),this.setValue(this.value,dt),this._pendingChange=!1}_updateValue(){}_anyControls(Et){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Et){this._onChange.push(Et)}_unregisterOnChange(Et){Cn(this._onChange,Et)}registerOnDisabledChange(Et){this._onDisabledChange.push(Et)}_unregisterOnDisabledChange(Et){Cn(this._onDisabledChange,Et)}_forEachChild(Et){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Et){this._isBoxedValue(Et)?(this.value=this._pendingValue=Et.value,Et.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Et}}class ps extends Ts{constructor(Et,dt,Xt){super(Fi(dt),Zr(Xt,dt)),this.controls=Et,this._initObservables(),this._setUpdateStrategy(dt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Et,dt){return this.controls[Et]?this.controls[Et]:(this.controls[Et]=dt,dt.setParent(this),dt._registerOnCollectionChange(this._onCollectionChange),dt)}addControl(Et,dt,Xt={}){this.registerControl(Et,dt),this.updateValueAndValidity({emitEvent:Xt.emitEvent}),this._onCollectionChange()}removeControl(Et,dt={}){this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),delete this.controls[Et],this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}setControl(Et,dt,Xt={}){this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),delete this.controls[Et],dt&&this.registerControl(Et,dt),this.updateValueAndValidity({emitEvent:Xt.emitEvent}),this._onCollectionChange()}contains(Et){return this.controls.hasOwnProperty(Et)&&this.controls[Et].enabled}setValue(Et,dt={}){Bi(this,Et),Object.keys(Et).forEach(Xt=>{gi(this,Xt),this.controls[Xt].setValue(Et[Xt],{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt)}patchValue(Et,dt={}){null!=Et&&(Object.keys(Et).forEach(Xt=>{this.controls[Xt]&&this.controls[Xt].patchValue(Et[Xt],{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt))}reset(Et={},dt={}){this._forEachChild((Xt,Mr)=>{Xt.reset(Et[Mr],{onlySelf:!0,emitEvent:dt.emitEvent})}),this._updatePristine(dt),this._updateTouched(dt),this.updateValueAndValidity(dt)}getRawValue(){return this._reduceChildren({},(Et,dt,Xt)=>(Et[Xt]=Hs(dt),Et))}_syncPendingControls(){let Et=this._reduceChildren(!1,(dt,Xt)=>!!Xt._syncPendingControls()||dt);return Et&&this.updateValueAndValidity({onlySelf:!0}),Et}_forEachChild(Et){Object.keys(this.controls).forEach(dt=>{const Xt=this.controls[dt];Xt&&Et(Xt,dt)})}_setUpControls(){this._forEachChild(Et=>{Et.setParent(this),Et._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Et){for(const dt of Object.keys(this.controls)){const Xt=this.controls[dt];if(this.contains(dt)&&Et(Xt))return!0}return!1}_reduceValue(){return this._reduceChildren({},(Et,dt,Xt)=>((dt.enabled||this.disabled)&&(Et[Xt]=dt.value),Et))}_reduceChildren(Et,dt){let Xt=Et;return this._forEachChild((Mr,Ci)=>{Xt=dt(Xt,Mr,Ci)}),Xt}_allControlsDisabled(){for(const Et of Object.keys(this.controls))if(this.controls[Et].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ut extends Ts{constructor(Et,dt,Xt){super(Fi(dt),Zr(Xt,dt)),this.controls=Et,this._initObservables(),this._setUpdateStrategy(dt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Et){return this.controls[Et]}push(Et,dt={}){this.controls.push(Et),this._registerControl(Et),this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}insert(Et,dt,Xt={}){this.controls.splice(Et,0,dt),this._registerControl(dt),this.updateValueAndValidity({emitEvent:Xt.emitEvent})}removeAt(Et,dt={}){this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),this.controls.splice(Et,1),this.updateValueAndValidity({emitEvent:dt.emitEvent})}setControl(Et,dt,Xt={}){this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),this.controls.splice(Et,1),dt&&(this.controls.splice(Et,0,dt),this._registerControl(dt)),this.updateValueAndValidity({emitEvent:Xt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Et,dt={}){Bi(this,Et),Et.forEach((Xt,Mr)=>{gi(this,Mr),this.at(Mr).setValue(Xt,{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt)}patchValue(Et,dt={}){null!=Et&&(Et.forEach((Xt,Mr)=>{this.at(Mr)&&this.at(Mr).patchValue(Xt,{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt))}reset(Et=[],dt={}){this._forEachChild((Xt,Mr)=>{Xt.reset(Et[Mr],{onlySelf:!0,emitEvent:dt.emitEvent})}),this._updatePristine(dt),this._updateTouched(dt),this.updateValueAndValidity(dt)}getRawValue(){return this.controls.map(Et=>Hs(Et))}clear(Et={}){this.controls.length<1||(this._forEachChild(dt=>dt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Et.emitEvent}))}_syncPendingControls(){let Et=this.controls.reduce((dt,Xt)=>!!Xt._syncPendingControls()||dt,!1);return Et&&this.updateValueAndValidity({onlySelf:!0}),Et}_forEachChild(Et){this.controls.forEach((dt,Xt)=>{Et(dt,Xt)})}_updateValue(){this.value=this.controls.filter(Et=>Et.enabled||this.disabled).map(Et=>Et.value)}_anyControls(Et){return this.controls.some(dt=>dt.enabled&&Et(dt))}_setUpControls(){this._forEachChild(Et=>this._registerControl(Et))}_allControlsDisabled(){for(const Et of this.controls)if(Et.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Et){Et.setParent(this),Et._registerOnCollectionChange(this._onCollectionChange)}}const Un={provide:Ze,useExisting:(0,d.Gpc)(()=>cs)},Qr=(()=>Promise.resolve(null))();let cs=(()=>{class Dt extends Ze{constructor(dt,Xt,Mr,Ci,ro){super(),this._changeDetectorRef=ro,this.control=new Li,this._registered=!1,this.update=new d.vpe,this._parent=dt,this._setValidators(Xt),this._setAsyncValidators(Mr),this.valueAccessor=Ut(0,Ci)}ngOnChanges(dt){if(this._checkForErrors(),!this._registered||"name"in dt){if(this._registered&&(this._checkName(),this.formDirective)){const Xt=dt.name.previousValue;this.formDirective.removeControl({name:Xt,path:this._getPath(Xt)})}this._setUpControl()}"isDisabled"in dt&&this._updateDisabled(dt),Mt(dt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(dt){this.viewModel=dt,this.update.emit(dt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(dt){Qr.then(()=>{var Xt;this.control.setValue(dt,{emitViewToModelChange:!1}),null===(Xt=this._changeDetectorRef)||void 0===Xt||Xt.markForCheck()})}_updateDisabled(dt){const Xt=dt.isDisabled.currentValue,Mr=""===Xt||Xt&&"false"!==Xt;Qr.then(()=>{var Ci;Mr&&!this.control.disabled?this.control.disable():!Mr&&this.control.disabled&&this.control.enable(),null===(Ci=this._changeDetectorRef)||void 0===Ci||Ci.markForCheck()})}_getPath(dt){return this._parent?vr(dt,this._parent):[dt]}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(ct,9),d.Y36(F,10),d.Y36(R,10),d.Y36(k,10),d.Y36(d.sBO,8))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Un]),d.qOj,d.TTD]}),Dt})(),rn=(()=>{class Dt{}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Dt})(),wr=(()=>{class Dt{}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275mod=d.oAB({type:Dt}),Dt.\u0275inj=d.cJS({}),Dt})();const Fr=new d.OlP("NgModelWithFormControlWarning"),Gs={provide:ct,useExisting:(0,d.Gpc)(()=>Vi)};let Vi=(()=>{class Dt extends ct{constructor(dt,Xt){super(),this.validators=dt,this.asyncValidators=Xt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(dt),this._setAsyncValidators(Xt)}ngOnChanges(dt){this._checkFormPresent(),dt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dt){const Xt=this.form.get(dt.path);return zn(Xt,dt),Xt.updateValueAndValidity({emitEvent:!1}),this.directives.push(dt),Xt}getControl(dt){return this.form.get(dt.path)}removeControl(dt){zt(dt.control||null,dt,!1),Cn(this.directives,dt)}addFormGroup(dt){this._setUpFormContainer(dt)}removeFormGroup(dt){this._cleanUpFormContainer(dt)}getFormGroup(dt){return this.form.get(dt.path)}addFormArray(dt){this._setUpFormContainer(dt)}removeFormArray(dt){this._cleanUpFormContainer(dt)}getFormArray(dt){return this.form.get(dt.path)}updateModel(dt,Xt){this.form.get(dt.path).setValue(Xt)}onSubmit(dt){return this.submitted=!0,function wn(Dt,Et){Dt._syncPendingControls(),Et.forEach(dt=>{const Xt=dt.control;"submit"===Xt.updateOn&&Xt._pendingChange&&(dt.viewToModelUpdate(Xt._pendingValue),Xt._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(dt),!1}onReset(){this.resetForm()}resetForm(dt){this.form.reset(dt),this.submitted=!1}_updateDomValue(){this.directives.forEach(dt=>{const Xt=dt.control,Mr=this.form.get(dt.path);Xt!==Mr&&(zt(Xt||null,dt),hr(Mr)&&(zn(Mr,dt),dt.control=Mr))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(dt){const Xt=this.form.get(dt.path);(function Qn(Dt,Et){In(Dt,Et)})(Xt,dt),Xt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(dt){if(this.form){const Xt=this.form.get(dt.path);Xt&&function Ar(Dt,Et){return Wn(Dt,Et)}(Xt,dt)&&Xt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){In(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}}return Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(F,10),d.Y36(R,10))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","formGroup",""]],hostBindings:function(dt,Xt){1&dt&&d.NdJ("submit",function(Ci){return Xt.onSubmit(Ci)})("reset",function(){return Xt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Gs]),d.qOj,d.TTD]}),Dt})();const Oo={provide:Ze,useExisting:(0,d.Gpc)(()=>oo)};let oo=(()=>{class Dt extends Ze{constructor(dt,Xt,Mr,Ci,ro){super(),this._ngModelWarningConfig=ro,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=dt,this._setValidators(Xt),this._setAsyncValidators(Mr),this.valueAccessor=Ut(0,Ci)}set isDisabled(dt){}ngOnChanges(dt){this._added||this._setUpControl(),Mt(dt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(dt){this.viewModel=dt,this.update.emit(dt)}get path(){return vr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Dt._ngModelWarningSentOnce=!1,Dt.\u0275fac=function(dt){return new(dt||Dt)(d.Y36(ct,13),d.Y36(F,10),d.Y36(R,10),d.Y36(k,10),d.Y36(Fr,8))},Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Oo]),d.qOj,d.TTD]}),Dt})(),yn=(()=>{class Dt{constructor(){this._validator=ue}ngOnChanges(dt){if(this.inputName in dt){const Xt=this.normalizeInput(dt[this.inputName].currentValue);this._enabled=this.enabled(Xt),this._validator=this._enabled?this.createValidator(Xt):ue,this._onChange&&this._onChange()}}validate(dt){return this._validator(dt)}registerOnValidatorChange(dt){this._onChange=dt}enabled(dt){return null!=dt}}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275dir=d.lG2({type:Dt,features:[d.TTD]}),Dt})();const qt={provide:F,useExisting:(0,d.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class Dt extends yn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=dt=>function at(Dt){return null!=Dt&&!1!==Dt&&"false"!=`${Dt}`}(dt),this.createValidator=dt=>Y}enabled(dt){return dt}}return Dt.\u0275fac=function(){let Et;return function(Xt){return(Et||(Et=d.n5z(Dt)))(Xt||Dt)}}(),Dt.\u0275dir=d.lG2({type:Dt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(dt,Xt){2&dt&&d.uIk("required",Xt._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([qt]),d.qOj]}),Dt})(),ki=(()=>{class Dt{}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275mod=d.oAB({type:Dt}),Dt.\u0275inj=d.cJS({imports:[[wr]]}),Dt})(),_i=(()=>{class Dt{}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275mod=d.oAB({type:Dt}),Dt.\u0275inj=d.cJS({imports:[ki]}),Dt})(),os=(()=>{class Dt{static withConfig(dt){return{ngModule:Dt,providers:[{provide:Fr,useValue:dt.warnOnNgModelWithFormControl}]}}}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275mod=d.oAB({type:Dt}),Dt.\u0275inj=d.cJS({imports:[ki]}),Dt})(),fs=(()=>{class Dt{group(dt,Xt=null){const Mr=this._reduceControls(dt);let Wo,Ci=null,ro=null;return null!=Xt&&(function vo(Dt){return void 0!==Dt.asyncValidators||void 0!==Dt.validators||void 0!==Dt.updateOn}(Xt)?(Ci=null!=Xt.validators?Xt.validators:null,ro=null!=Xt.asyncValidators?Xt.asyncValidators:null,Wo=null!=Xt.updateOn?Xt.updateOn:void 0):(Ci=null!=Xt.validator?Xt.validator:null,ro=null!=Xt.asyncValidator?Xt.asyncValidator:null)),new ps(Mr,{asyncValidators:ro,updateOn:Wo,validators:Ci})}control(dt,Xt,Mr){return new Li(dt,Xt,Mr)}array(dt,Xt,Mr){const Ci=dt.map(ro=>this._createControl(ro));return new ut(Ci,Xt,Mr)}_reduceControls(dt){const Xt={};return Object.keys(dt).forEach(Mr=>{Xt[Mr]=this._createControl(dt[Mr])}),Xt}_createControl(dt){return hr(dt)||Ii(dt)||Hi(dt)?dt:Array.isArray(dt)?this.control(dt[0],dt.length>1?dt[1]:null,dt.length>2?dt[2]:null):this.control(dt)}}return Dt.\u0275fac=function(dt){return new(dt||Dt)},Dt.\u0275prov=d.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:os}),Dt})()},99902:(wt,Se,p)=>{"use strict";p.d(Se,{jw:()=>vt,F0:()=>Fo,rH:()=>Ks,Od:()=>Wl,yS:()=>jo,Bz:()=>xi,lC:()=>qt});var d=p(5e3),v=p(77579);class X extends v.x{constructor(Qe){super(),this._value=Qe}get value(){return this.getValue()}_subscribe(Qe){const ze=super._subscribe(Qe);return!ze.closed&&Qe.next(this._value),ze}getValue(){const{hasError:Qe,thrownError:ze,_value:fe}=this;if(Qe)throw ze;return this._throwIfClosed(),fe}next(Qe){super.next(this._value=Qe)}}var G=p(68306),z=p(54742),Z=p(32076),D=p(44671),k=p(83268),N=p(63269),B=p(31810),Q=p(25403),ne=p(39672);function re(st,Qe,ze){st?(0,ne.f)(ze,st,Qe):Qe()}const F=(0,p(83888).d)(st=>function(){st(this),this.name="EmptyError",this.message="no elements in sequence"});var R=p(39646),U=p(62843),A=p(97272),V=p(49770),J=p(60515),Y=p(94033),oe=p(54482);function se(st,Qe,ze,fe,Te){return(Ie,Oe)=>{let Ge=ze,bt=Qe,Kt=0;Ie.subscribe((0,Q.x)(Oe,dn=>{const bn=Kt++;bt=Ge?st(bt,dn,bn):(Ge=!0,dn),fe&&Oe.next(bt)},Te&&(()=>{Ge&&Oe.next(bt),Oe.complete()})))}}function le(st,Qe){return(0,oe.e)(se(st,Qe,arguments.length>=2,!0))}var de=p(39300);function q(st){return st<=0?()=>J.E:(0,oe.e)((Qe,ze)=>{let fe=[];Qe.subscribe((0,Q.x)(ze,Te=>{fe.push(Te),st<fe.length&&fe.shift()},()=>{for(const Te of fe)ze.next(Te);ze.complete()},void 0,()=>{fe=null}))})}function ue(st=ie){return(0,oe.e)((Qe,ze)=>{let fe=!1;Qe.subscribe((0,Q.x)(ze,Te=>{fe=!0,ze.next(Te)},()=>fe?ze.complete():ze.error(st())))})}function ie(){return new F}function ye(st){return(0,oe.e)((Qe,ze)=>{let fe=!1;Qe.subscribe((0,Q.x)(ze,Te=>{fe=!0,ze.next(Te)},()=>{fe||ze.next(st),ze.complete()}))})}var Ce=p(95698);function De(st,Qe){const ze=arguments.length>=2;return fe=>fe.pipe(st?(0,de.h)((Te,Ie)=>st(Te,Ie,fe)):D.y,(0,Ce.q)(1),ze?ye(Qe):ue(()=>new F))}var ve=p(54004),Le=p(63900),je=p(68675),_e=p(70262),Re=p(24351),nt=p(95577),pt=p(18505),Ne=p(38343),xe=p(8189),Ye=p(69808);class Ke{constructor(Qe,ze){this.id=Qe,this.url=ze}}class Fe extends Ke{constructor(Qe,ze,fe="imperative",Te=null){super(Qe,ze),this.navigationTrigger=fe,this.restoredState=Te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ze extends Ke{constructor(Qe,ze,fe){super(Qe,ze),this.urlAfterRedirects=fe}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ct extends Ke{constructor(Qe,ze,fe){super(Qe,ze),this.reason=fe}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends Ke{constructor(Qe,ze,fe){super(Qe,ze),this.error=fe}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends Ke{constructor(Qe,ze,fe,Te){super(Qe,ze),this.urlAfterRedirects=fe,this.state=Te}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends Ke{constructor(Qe,ze,fe,Te){super(Qe,ze),this.urlAfterRedirects=fe,this.state=Te}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends Ke{constructor(Qe,ze,fe,Te,Ie){super(Qe,ze),this.urlAfterRedirects=fe,this.state=Te,this.shouldActivate=Ie}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ot extends Ke{constructor(Qe,ze,fe,Te){super(Qe,ze),this.urlAfterRedirects=fe,this.state=Te}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends Ke{constructor(Qe,ze,fe,Te){super(Qe,ze),this.urlAfterRedirects=fe,this.state=Te}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt{constructor(Qe){this.route=Qe}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class It{constructor(Qe){this.route=Qe}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nt{constructor(Qe){this.snapshot=Qe}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(Qe){this.snapshot=Qe}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(Qe){this.snapshot=Qe}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(Qe){this.snapshot=Qe}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zt{constructor(Qe,ze,fe){this.routerEvent=Qe,this.position=ze,this.anchor=fe}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class Lt{constructor(Qe){this.params=Qe||{}}has(Qe){return Object.prototype.hasOwnProperty.call(this.params,Qe)}get(Qe){if(this.has(Qe)){const ze=this.params[Qe];return Array.isArray(ze)?ze[0]:ze}return null}getAll(Qe){if(this.has(Qe)){const ze=this.params[Qe];return Array.isArray(ze)?ze:[ze]}return[]}get keys(){return Object.keys(this.params)}}function en(st){return new Lt(st)}const En="ngNavigationCancelingError";function Dn(st){const Qe=Error("NavigationCancelingError: "+st);return Qe[En]=!0,Qe}function pr(st,Qe,ze){const fe=ze.path.split("/");if(fe.length>st.length||"full"===ze.pathMatch&&(Qe.hasChildren()||fe.length<st.length))return null;const Te={};for(let Ie=0;Ie<fe.length;Ie++){const Oe=fe[Ie],Ge=st[Ie];if(Oe.startsWith(":"))Te[Oe.substring(1)]=Ge;else if(Oe!==Ge.path)return null}return{consumed:st.slice(0,fe.length),posParams:Te}}function vr(st,Qe){const ze=st?Object.keys(st):void 0,fe=Qe?Object.keys(Qe):void 0;if(!ze||!fe||ze.length!=fe.length)return!1;let Te;for(let Ie=0;Ie<ze.length;Ie++)if(Te=ze[Ie],!zn(st[Te],Qe[Te]))return!1;return!0}function zn(st,Qe){if(Array.isArray(st)&&Array.isArray(Qe)){if(st.length!==Qe.length)return!1;const ze=[...st].sort(),fe=[...Qe].sort();return ze.every((Te,Ie)=>fe[Ie]===Te)}return st===Qe}function zt(st){return Array.prototype.concat.apply([],st)}function sn(st){return st.length>0?st[st.length-1]:null}function In(st,Qe){for(const ze in st)st.hasOwnProperty(ze)&&Qe(st[ze],ze)}function Wn(st){return(0,d.CqO)(st)?st:(0,d.QGY)(st)?(0,Z.D)(Promise.resolve(st)):(0,R.of)(st)}const $n={exact:function Ar(st,Qe,ze){if(!Cn(st.segments,Qe.segments)||!Hn(st.segments,Qe.segments,ze)||st.numberOfChildren!==Qe.numberOfChildren)return!1;for(const fe in Qe.children)if(!st.children[fe]||!Ar(st.children[fe],Qe.children[fe],ze))return!1;return!0},subset:an},Ht={exact:function Qn(st,Qe){return vr(st,Qe)},subset:function Dr(st,Qe){return Object.keys(Qe).length<=Object.keys(st).length&&Object.keys(Qe).every(ze=>zn(st[ze],Qe[ze]))},ignored:()=>!0};function ir(st,Qe,ze){return $n[ze.paths](st.root,Qe.root,ze.matrixParams)&&Ht[ze.queryParams](st.queryParams,Qe.queryParams)&&!("exact"===ze.fragment&&st.fragment!==Qe.fragment)}function an(st,Qe,ze){return Mn(st,Qe,Qe.segments,ze)}function Mn(st,Qe,ze,fe){if(st.segments.length>ze.length){const Te=st.segments.slice(0,ze.length);return!(!Cn(Te,ze)||Qe.hasChildren()||!Hn(Te,ze,fe))}if(st.segments.length===ze.length){if(!Cn(st.segments,ze)||!Hn(st.segments,ze,fe))return!1;for(const Te in Qe.children)if(!st.children[Te]||!an(st.children[Te],Qe.children[Te],fe))return!1;return!0}{const Te=ze.slice(0,st.segments.length),Ie=ze.slice(st.segments.length);return!!(Cn(st.segments,Te)&&Hn(st.segments,Te,fe)&&st.children[xt])&&Mn(st.children[xt],Qe,Ie,fe)}}function Hn(st,Qe,ze){return Qe.every((fe,Te)=>Ht[ze](st[Te].parameters,fe.parameters))}class Mt{constructor(Qe,ze,fe){this.root=Qe,this.queryParams=ze,this.fragment=fe}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Hr.serialize(this)}}class Bt{constructor(Qe,ze){this.segments=Qe,this.children=ze,this.parent=null,In(ze,(fe,Te)=>fe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wi(this)}}class wn{constructor(Qe,ze){this.path=Qe,this.parameters=ze}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return hr(this)}}function Cn(st,Qe){return st.length===Qe.length&&st.every((ze,fe)=>ze.path===Qe[fe].path)}class er{}class or{parse(Qe){const ze=new ut(Qe);return new Mt(ze.parseRootSegment(),ze.parseQueryParams(),ze.parseFragment())}serialize(Qe){const ze=`/${Ei(Qe.root,!0)}`,fe=function Hi(st){const Qe=Object.keys(st).map(ze=>{const fe=st[ze];return Array.isArray(fe)?fe.map(Te=>`${Fi(ze)}=${Fi(Te)}`).join("&"):`${Fi(ze)}=${Fi(fe)}`}).filter(ze=>!!ze);return Qe.length?`?${Qe.join("&")}`:""}(Qe.queryParams);return`${ze}${fe}${"string"==typeof Qe.fragment?`#${function rs(st){return encodeURI(st)}(Qe.fragment)}`:""}`}}const Hr=new or;function wi(st){return st.segments.map(Qe=>hr(Qe)).join("/")}function Ei(st,Qe){if(!st.hasChildren())return wi(st);if(Qe){const ze=st.children[xt]?Ei(st.children[xt],!1):"",fe=[];return In(st.children,(Te,Ie)=>{Ie!==xt&&fe.push(`${Ie}:${Ei(Te,!1)}`)}),fe.length>0?`${ze}(${fe.join("//")})`:ze}{const ze=function Bn(st,Qe){let ze=[];return In(st.children,(fe,Te)=>{Te===xt&&(ze=ze.concat(Qe(fe,Te)))}),In(st.children,(fe,Te)=>{Te!==xt&&(ze=ze.concat(Qe(fe,Te)))}),ze}(st,(fe,Te)=>Te===xt?[Ei(st.children[xt],!1)]:[`${Te}:${Ei(fe,!1)}`]);return 1===Object.keys(st.children).length&&null!=st.children[xt]?`${wi(st)}/${ze[0]}`:`${wi(st)}/(${ze.join("//")})`}}function kr(st){return encodeURIComponent(st).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(st){return kr(st).replace(/%3B/gi,";")}function Zr(st){return kr(st).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fi(st){return decodeURIComponent(st)}function Ui(st){return fi(st.replace(/\+/g,"%20"))}function hr(st){return`${Zr(st.path)}${function Ii(st){return Object.keys(st).map(Qe=>`;${Zr(Qe)}=${Zr(st[Qe])}`).join("")}(st.parameters)}`}const Hs=/^[^\/()?;=#]+/;function gi(st){const Qe=st.match(Hs);return Qe?Qe[0]:""}const Bi=/^[^=?&#]+/,Li=/^[^&#]+/;class ut{constructor(Qe){this.url=Qe,this.remaining=Qe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const Qe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Qe)}while(this.consumeOptional("&"));return Qe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Qe=[];for(this.peekStartsWith("(")||Qe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Qe.push(this.parseSegment());let ze={};this.peekStartsWith("/(")&&(this.capture("/"),ze=this.parseParens(!0));let fe={};return this.peekStartsWith("(")&&(fe=this.parseParens(!1)),(Qe.length>0||Object.keys(ze).length>0)&&(fe[xt]=new Bt(Qe,ze)),fe}parseSegment(){const Qe=gi(this.remaining);if(""===Qe&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Qe),new wn(fi(Qe),this.parseMatrixParams())}parseMatrixParams(){const Qe={};for(;this.consumeOptional(";");)this.parseParam(Qe);return Qe}parseParam(Qe){const ze=gi(this.remaining);if(!ze)return;this.capture(ze);let fe="";if(this.consumeOptional("=")){const Te=gi(this.remaining);Te&&(fe=Te,this.capture(fe))}Qe[fi(ze)]=fi(fe)}parseQueryParam(Qe){const ze=function Ts(st){const Qe=st.match(Bi);return Qe?Qe[0]:""}(this.remaining);if(!ze)return;this.capture(ze);let fe="";if(this.consumeOptional("=")){const Oe=function ps(st){const Qe=st.match(Li);return Qe?Qe[0]:""}(this.remaining);Oe&&(fe=Oe,this.capture(fe))}const Te=Ui(ze),Ie=Ui(fe);if(Qe.hasOwnProperty(Te)){let Oe=Qe[Te];Array.isArray(Oe)||(Oe=[Oe],Qe[Te]=Oe),Oe.push(Ie)}else Qe[Te]=Ie}parseParens(Qe){const ze={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const fe=gi(this.remaining),Te=this.remaining[fe.length];if("/"!==Te&&")"!==Te&&";"!==Te)throw new Error(`Cannot parse url '${this.url}'`);let Ie;fe.indexOf(":")>-1?(Ie=fe.substr(0,fe.indexOf(":")),this.capture(Ie),this.capture(":")):Qe&&(Ie=xt);const Oe=this.parseChildren();ze[Ie]=1===Object.keys(Oe).length?Oe[xt]:new Bt([],Oe),this.consumeOptional("//")}return ze}peekStartsWith(Qe){return this.remaining.startsWith(Qe)}consumeOptional(Qe){return!!this.peekStartsWith(Qe)&&(this.remaining=this.remaining.substring(Qe.length),!0)}capture(Qe){if(!this.consumeOptional(Qe))throw new Error(`Expected "${Qe}".`)}}class Zn{constructor(Qe){this._root=Qe}get root(){return this._root.value}parent(Qe){const ze=this.pathFromRoot(Qe);return ze.length>1?ze[ze.length-2]:null}children(Qe){const ze=Pn(Qe,this._root);return ze?ze.children.map(fe=>fe.value):[]}firstChild(Qe){const ze=Pn(Qe,this._root);return ze&&ze.children.length>0?ze.children[0].value:null}siblings(Qe){const ze=yr(Qe,this._root);return ze.length<2?[]:ze[ze.length-2].children.map(Te=>Te.value).filter(Te=>Te!==Qe)}pathFromRoot(Qe){return yr(Qe,this._root).map(ze=>ze.value)}}function Pn(st,Qe){if(st===Qe.value)return Qe;for(const ze of Qe.children){const fe=Pn(st,ze);if(fe)return fe}return null}function yr(st,Qe){if(st===Qe.value)return[Qe];for(const ze of Qe.children){const fe=yr(st,ze);if(fe.length)return fe.unshift(Qe),fe}return[]}class Pr{constructor(Qe,ze){this.value=Qe,this.children=ze}toString(){return`TreeNode(${this.value})`}}function ni(st){const Qe={};return st&&st.children.forEach(ze=>Qe[ze.value.outlet]=ze),Qe}class Yr extends Zn{constructor(Qe,ze){super(Qe),this.snapshot=ze,rn(this,Qe)}toString(){return this.snapshot.toString()}}function Lr(st,Qe){const ze=function Oi(st,Qe){const Oe=new Qr([],{},{},"",{},xt,Qe,null,st.root,-1,{});return new cs("",new Pr(Oe,[]))}(st,Qe),fe=new X([new wn("",{})]),Te=new X({}),Ie=new X({}),Oe=new X({}),Ge=new X(""),bt=new li(fe,Te,Oe,Ge,Ie,xt,Qe,ze.root);return bt.snapshot=ze.root,new Yr(new Pr(bt,[]),ze)}class li{constructor(Qe,ze,fe,Te,Ie,Oe,Ge,bt){this.url=Qe,this.params=ze,this.queryParams=fe,this.fragment=Te,this.data=Ie,this.outlet=Oe,this.component=Ge,this._futureSnapshot=bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ve.U)(Qe=>en(Qe)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ve.U)(Qe=>en(Qe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yi(st,Qe="emptyOnly"){const ze=st.pathFromRoot;let fe=0;if("always"!==Qe)for(fe=ze.length-1;fe>=1;){const Te=ze[fe],Ie=ze[fe-1];if(Te.routeConfig&&""===Te.routeConfig.path)fe--;else{if(Ie.component)break;fe--}}return function Un(st){return st.reduce((Qe,ze)=>({params:Object.assign(Object.assign({},Qe.params),ze.params),data:Object.assign(Object.assign({},Qe.data),ze.data),resolve:Object.assign(Object.assign({},Qe.resolve),ze._resolvedData)}),{params:{},data:{},resolve:{}})}(ze.slice(fe))}class Qr{constructor(Qe,ze,fe,Te,Ie,Oe,Ge,bt,Kt,dn,bn){this.url=Qe,this.params=ze,this.queryParams=fe,this.fragment=Te,this.data=Ie,this.outlet=Oe,this.component=Ge,this.routeConfig=bt,this._urlSegment=Kt,this._lastPathIndex=dn,this._resolve=bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(fe=>fe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cs extends Zn{constructor(Qe,ze){super(ze),this.url=Qe,rn(this,ze)}toString(){return gn(this._root)}}function rn(st,Qe){Qe.value._routerState=st,Qe.children.forEach(ze=>rn(st,ze))}function gn(st){const Qe=st.children.length>0?` { ${st.children.map(gn).join(", ")} } `:"";return`${st.value}${Qe}`}function kt(st){if(st.snapshot){const Qe=st.snapshot,ze=st._futureSnapshot;st.snapshot=ze,vr(Qe.queryParams,ze.queryParams)||st.queryParams.next(ze.queryParams),Qe.fragment!==ze.fragment&&st.fragment.next(ze.fragment),vr(Qe.params,ze.params)||st.params.next(ze.params),function Tr(st,Qe){if(st.length!==Qe.length)return!1;for(let ze=0;ze<st.length;++ze)if(!vr(st[ze],Qe[ze]))return!1;return!0}(Qe.url,ze.url)||st.url.next(ze.url),vr(Qe.data,ze.data)||st.data.next(ze.data)}else st.snapshot=st._futureSnapshot,st.data.next(st._futureSnapshot.data)}function An(st,Qe){const ze=vr(st.params,Qe.params)&&function Ut(st,Qe){return Cn(st,Qe)&&st.every((ze,fe)=>vr(ze.parameters,Qe[fe].parameters))}(st.url,Qe.url);return ze&&!(!st.parent!=!Qe.parent)&&(!st.parent||An(st.parent,Qe.parent))}function wr(st,Qe,ze){if(ze&&st.shouldReuseRoute(Qe.value,ze.value.snapshot)){const fe=ze.value;fe._futureSnapshot=Qe.value;const Te=function Jr(st,Qe,ze){return Qe.children.map(fe=>{for(const Te of ze.children)if(st.shouldReuseRoute(fe.value,Te.value.snapshot))return wr(st,fe,Te);return wr(st,fe)})}(st,Qe,ze);return new Pr(fe,Te)}{if(st.shouldAttach(Qe.value)){const Ie=st.retrieve(Qe.value);if(null!==Ie){const Oe=Ie.route;return Oe.value._futureSnapshot=Qe.value,Oe.children=Qe.children.map(Ge=>wr(st,Ge)),Oe}}const fe=function Br(st){return new li(new X(st.url),new X(st.params),new X(st.queryParams),new X(st.fragment),new X(st.data),st.outlet,st.component,st)}(Qe.value),Te=Qe.children.map(Ie=>wr(st,Ie));return new Pr(fe,Te)}}function Ai(st){return"object"==typeof st&&null!=st&&!st.outlets&&!st.segmentPath}function Fr(st){return"object"==typeof st&&null!=st&&st.outlets}function Ni(st,Qe,ze,fe,Te){let Ie={};if(fe&&In(fe,(Ge,bt)=>{Ie[bt]=Array.isArray(Ge)?Ge.map(Kt=>`${Kt}`):`${Ge}`}),st===Qe)return new Mt(ze,Ie,Te);const Oe=Ji(st,Qe,ze);return new Mt(Oe,Ie,Te)}function Ji(st,Qe,ze){const fe={};return In(st.children,(Te,Ie)=>{fe[Ie]=Te===Qe?ze:Ji(Te,Qe,ze)}),new Bt(st.segments,fe)}class Gs{constructor(Qe,ze,fe){if(this.isAbsolute=Qe,this.numberOfDoubleDots=ze,this.commands=fe,Qe&&fe.length>0&&Ai(fe[0]))throw new Error("Root segment cannot have matrix parameters");const Te=fe.find(Fr);if(Te&&Te!==sn(fe))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rs{constructor(Qe,ze,fe){this.segmentGroup=Qe,this.processChildren=ze,this.index=fe}}function yo(st,Qe,ze){if(st||(st=new Bt([],{})),0===st.segments.length&&st.hasChildren())return Oo(st,Qe,ze);const fe=function oo(st,Qe,ze){let fe=0,Te=Qe;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;Te<st.segments.length;){if(fe>=ze.length)return Ie;const Oe=st.segments[Te],Ge=ze[fe];if(Fr(Ge))break;const bt=`${Ge}`,Kt=fe<ze.length-1?ze[fe+1]:null;if(Te>0&&void 0===bt)break;if(bt&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!$i(bt,Kt,Oe))return Ie;fe+=2}else{if(!$i(bt,{},Oe))return Ie;fe++}Te++}return{match:!0,pathIndex:Te,commandIndex:fe}}(st,Qe,ze),Te=ze.slice(fe.commandIndex);if(fe.match&&fe.pathIndex<st.segments.length){const Ie=new Bt(st.segments.slice(0,fe.pathIndex),{});return Ie.children[xt]=new Bt(st.segments.slice(fe.pathIndex),st.children),Oo(Ie,0,Te)}return fe.match&&0===Te.length?new Bt(st.segments,{}):fe.match&&!st.hasChildren()?ho(st,Qe,ze):fe.match?Oo(st,0,Te):ho(st,Qe,ze)}function Oo(st,Qe,ze){if(0===ze.length)return new Bt(st.segments,{});{const fe=function Ds(st){return Fr(st[0])?st[0].outlets:{[xt]:st}}(ze),Te={};return In(fe,(Ie,Oe)=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(Te[Oe]=yo(st.children[Oe],Qe,Ie))}),In(st.children,(Ie,Oe)=>{void 0===fe[Oe]&&(Te[Oe]=Ie)}),new Bt(st.segments,Te)}}function ho(st,Qe,ze){const fe=st.segments.slice(0,Qe);let Te=0;for(;Te<ze.length;){const Ie=ze[Te];if(Fr(Ie)){const bt=po(Ie.outlets);return new Bt(fe,bt)}if(0===Te&&Ai(ze[0])){fe.push(new wn(st.segments[Qe].path,qs(ze[0]))),Te++;continue}const Oe=Fr(Ie)?Ie.outlets[xt]:`${Ie}`,Ge=Te<ze.length-1?ze[Te+1]:null;Oe&&Ge&&Ai(Ge)?(fe.push(new wn(Oe,qs(Ge))),Te+=2):(fe.push(new wn(Oe,{})),Te++)}return new Bt(fe,{})}function po(st){const Qe={};return In(st,(ze,fe)=>{"string"==typeof ze&&(ze=[ze]),null!==ze&&(Qe[fe]=ho(new Bt([],{}),0,ze))}),Qe}function qs(st){const Qe={};return In(st,(ze,fe)=>Qe[fe]=`${ze}`),Qe}function $i(st,Qe,ze){return st==ze.path&&vr(Qe,ze.parameters)}class Ys{constructor(Qe,ze,fe,Te){this.routeReuseStrategy=Qe,this.futureState=ze,this.currState=fe,this.forwardEvent=Te}activate(Qe){const ze=this.futureState._root,fe=this.currState?this.currState._root:null;this.deactivateChildRoutes(ze,fe,Qe),kt(this.futureState.root),this.activateChildRoutes(ze,fe,Qe)}deactivateChildRoutes(Qe,ze,fe){const Te=ni(ze);Qe.children.forEach(Ie=>{const Oe=Ie.value.outlet;this.deactivateRoutes(Ie,Te[Oe],fe),delete Te[Oe]}),In(Te,(Ie,Oe)=>{this.deactivateRouteAndItsChildren(Ie,fe)})}deactivateRoutes(Qe,ze,fe){const Te=Qe.value,Ie=ze?ze.value:null;if(Te===Ie)if(Te.component){const Oe=fe.getContext(Te.outlet);Oe&&this.deactivateChildRoutes(Qe,ze,Oe.children)}else this.deactivateChildRoutes(Qe,ze,fe);else Ie&&this.deactivateRouteAndItsChildren(ze,fe)}deactivateRouteAndItsChildren(Qe,ze){Qe.value.component&&this.routeReuseStrategy.shouldDetach(Qe.value.snapshot)?this.detachAndStoreRouteSubtree(Qe,ze):this.deactivateRouteAndOutlet(Qe,ze)}detachAndStoreRouteSubtree(Qe,ze){const fe=ze.getContext(Qe.value.outlet),Te=fe&&Qe.value.component?fe.children:ze,Ie=ni(Qe);for(const Oe of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[Oe],Te);if(fe&&fe.outlet){const Oe=fe.outlet.detach(),Ge=fe.children.onOutletDeactivated();this.routeReuseStrategy.store(Qe.value.snapshot,{componentRef:Oe,route:Qe,contexts:Ge})}}deactivateRouteAndOutlet(Qe,ze){const fe=ze.getContext(Qe.value.outlet),Te=fe&&Qe.value.component?fe.children:ze,Ie=ni(Qe);for(const Oe of Object.keys(Ie))this.deactivateRouteAndItsChildren(Ie[Oe],Te);fe&&fe.outlet&&(fe.outlet.deactivate(),fe.children.onOutletDeactivated(),fe.attachRef=null,fe.resolver=null,fe.route=null)}activateChildRoutes(Qe,ze,fe){const Te=ni(ze);Qe.children.forEach(Ie=>{this.activateRoutes(Ie,Te[Ie.value.outlet],fe),this.forwardEvent(new vt(Ie.value.snapshot))}),Qe.children.length&&this.forwardEvent(new Rt(Qe.value.snapshot))}activateRoutes(Qe,ze,fe){const Te=Qe.value,Ie=ze?ze.value:null;if(kt(Te),Te===Ie)if(Te.component){const Oe=fe.getOrCreateContext(Te.outlet);this.activateChildRoutes(Qe,ze,Oe.children)}else this.activateChildRoutes(Qe,ze,fe);else if(Te.component){const Oe=fe.getOrCreateContext(Te.outlet);if(this.routeReuseStrategy.shouldAttach(Te.snapshot)){const Ge=this.routeReuseStrategy.retrieve(Te.snapshot);this.routeReuseStrategy.store(Te.snapshot,null),Oe.children.onOutletReAttached(Ge.contexts),Oe.attachRef=Ge.componentRef,Oe.route=Ge.route.value,Oe.outlet&&Oe.outlet.attach(Ge.componentRef,Ge.route.value),kt(Ge.route.value),this.activateChildRoutes(Qe,null,Oe.children)}else{const Ge=function _o(st){for(let Qe=st.parent;Qe;Qe=Qe.parent){const ze=Qe.routeConfig;if(ze&&ze._loadedConfig)return ze._loadedConfig;if(ze&&ze.component)return null}return null}(Te.snapshot),bt=Ge?Ge.module.componentFactoryResolver:null;Oe.attachRef=null,Oe.route=Te,Oe.resolver=bt,Oe.outlet&&Oe.outlet.activateWith(Te,bt),this.activateChildRoutes(Qe,null,Oe.children)}}else this.activateChildRoutes(Qe,null,fe)}}class cn{constructor(Qe,ze){this.routes=Qe,this.module=ze}}function _r(st){return"function"==typeof st}function Jt(st){return st instanceof Mt}const rt=Symbol("INITIAL_VALUE");function Pt(){return(0,Le.w)(st=>function te(...st){const Qe=(0,N.yG)(st),ze=(0,N.jO)(st),{args:fe,keys:Te}=(0,z.D)(st);if(0===fe.length)return(0,Z.D)([],Qe);const Ie=new G.y(function ae(st,Qe,ze=D.y){return fe=>{re(Qe,()=>{const{length:Te}=st,Ie=new Array(Te);let Oe=Te,Ge=Te;for(let bt=0;bt<Te;bt++)re(Qe,()=>{const Kt=(0,Z.D)(st[bt],Qe);let dn=!1;Kt.subscribe((0,Q.x)(fe,bn=>{Ie[bt]=bn,dn||(dn=!0,Ge--),Ge||fe.next(ze(Ie.slice()))},()=>{--Oe||fe.complete()}))},fe)},fe)}}(fe,Qe,Te?Oe=>(0,B.n)(Te,Oe):D.y));return ze?Ie.pipe((0,k.Z)(ze)):Ie}(st.map(Qe=>Qe.pipe((0,Ce.q)(1),(0,je.O)(rt)))).pipe(le((Qe,ze)=>{let fe=!1;return ze.reduce((Te,Ie,Oe)=>Te!==rt?Te:(Ie===rt&&(fe=!0),fe||!1!==Ie&&Oe!==ze.length-1&&!Jt(Ie)?Te:Ie),Qe)},rt),(0,de.h)(Qe=>Qe!==rt),(0,ve.U)(Qe=>Jt(Qe)?Qe:!0===Qe),(0,Ce.q)(1)))}class tn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new un,this.attachRef=null}}class un{constructor(){this.contexts=new Map}onChildOutletCreated(Qe,ze){const fe=this.getOrCreateContext(Qe);fe.outlet=ze,this.contexts.set(Qe,fe)}onChildOutletDestroyed(Qe){const ze=this.getContext(Qe);ze&&(ze.outlet=null,ze.attachRef=null)}onOutletDeactivated(){const Qe=this.contexts;return this.contexts=new Map,Qe}onOutletReAttached(Qe){this.contexts=Qe}getOrCreateContext(Qe){let ze=this.getContext(Qe);return ze||(ze=new tn,this.contexts.set(Qe,ze)),ze}getContext(Qe){return this.contexts.get(Qe)||null}}let qt=(()=>{class st{constructor(ze,fe,Te,Ie,Oe){this.parentContexts=ze,this.location=fe,this.resolver=Te,this.changeDetector=Oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=Ie||xt,ze.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const ze=this.parentContexts.getContext(this.name);ze&&ze.route&&(ze.attachRef?this.attach(ze.attachRef,ze.route):this.activateWith(ze.route,ze.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const ze=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ze.instance),ze}attach(ze,fe){this.activated=ze,this._activatedRoute=fe,this.location.insert(ze.hostView),this.attachEvents.emit(ze.instance)}deactivate(){if(this.activated){const ze=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ze)}}activateWith(ze,fe){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ze;const Oe=(fe=fe||this.resolver).resolveComponentFactory(ze._futureSnapshot.routeConfig.component),Ge=this.parentContexts.getOrCreateContext(this.name).children,bt=new xn(ze,Ge,this.location.injector);this.activated=this.location.createComponent(Oe,this.location.length,bt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return st.\u0275fac=function(ze){return new(ze||st)(d.Y36(un),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},st.\u0275dir=d.lG2({type:st,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),st})();class xn{constructor(Qe,ze,fe){this.route=Qe,this.childContexts=ze,this.parent=fe}get(Qe,ze){return Qe===li?this.route:Qe===un?this.childContexts:this.parent.get(Qe,ze)}}let Kn=(()=>{class st{}return st.\u0275fac=function(ze){return new(ze||st)},st.\u0275cmp=d.Xpm({type:st,selectors:[["ng-component"]],decls:1,vars:0,template:function(ze,fe){1&ze&&d._UZ(0,"router-outlet")},directives:[qt],encapsulation:2}),st})();function yt(st,Qe=""){for(let ze=0;ze<st.length;ze++){const fe=st[ze];Ct(fe,nn(Qe,fe))}}function Ct(st,Qe){st.children&&yt(st.children,Qe)}function nn(st,Qe){return Qe?st||Qe.path?st&&!Qe.path?`${st}/`:!st&&Qe.path?Qe.path:`${st}/${Qe.path}`:"":st}function et(st){const Qe=st.children&&st.children.map(et),ze=Qe?Object.assign(Object.assign({},st),{children:Qe}):Object.assign({},st);return!ze.component&&(Qe||ze.loadChildren)&&ze.outlet&&ze.outlet!==xt&&(ze.component=Kn),ze}function St(st){return st.outlet||xt}function ht(st,Qe){const ze=st.filter(fe=>St(fe)===Qe);return ze.push(...st.filter(fe=>St(fe)!==Qe)),ze}const Wt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sn(st,Qe,ze){var fe;if(""===Qe.path)return"full"===Qe.pathMatch&&(st.hasChildren()||ze.length>0)?Object.assign({},Wt):{matched:!0,consumedSegments:[],remainingSegments:ze,parameters:{},positionalParamSegments:{}};const Ie=(Qe.matcher||pr)(ze,st,Qe);if(!Ie)return Object.assign({},Wt);const Oe={};In(Ie.posParams,(bt,Kt)=>{Oe[Kt]=bt.path});const Ge=Ie.consumed.length>0?Object.assign(Object.assign({},Oe),Ie.consumed[Ie.consumed.length-1].parameters):Oe;return{matched:!0,consumedSegments:Ie.consumed,remainingSegments:ze.slice(Ie.consumed.length),parameters:Ge,positionalParamSegments:null!==(fe=Ie.posParams)&&void 0!==fe?fe:{}}}function Jn(st,Qe,ze,fe,Te="corrected"){if(ze.length>0&&function ji(st,Qe,ze){return ze.some(fe=>_i(st,Qe,fe)&&St(fe)!==xt)}(st,ze,fe)){const Oe=new Bt(Qe,function ri(st,Qe,ze,fe){const Te={};Te[xt]=fe,fe._sourceSegment=st,fe._segmentIndexShift=Qe.length;for(const Ie of ze)if(""===Ie.path&&St(Ie)!==xt){const Oe=new Bt([],{});Oe._sourceSegment=st,Oe._segmentIndexShift=Qe.length,Te[St(Ie)]=Oe}return Te}(st,Qe,fe,new Bt(ze,st.children)));return Oe._sourceSegment=st,Oe._segmentIndexShift=Qe.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===ze.length&&function ki(st,Qe,ze){return ze.some(fe=>_i(st,Qe,fe))}(st,ze,fe)){const Oe=new Bt(st.segments,function mr(st,Qe,ze,fe,Te,Ie){const Oe={};for(const Ge of fe)if(_i(st,ze,Ge)&&!Te[St(Ge)]){const bt=new Bt([],{});bt._sourceSegment=st,bt._segmentIndexShift="legacy"===Ie?st.segments.length:Qe.length,Oe[St(Ge)]=bt}return Object.assign(Object.assign({},Te),Oe)}(st,Qe,ze,fe,st.children,Te));return Oe._sourceSegment=st,Oe._segmentIndexShift=Qe.length,{segmentGroup:Oe,slicedSegments:ze}}const Ie=new Bt(st.segments,st.children);return Ie._sourceSegment=st,Ie._segmentIndexShift=Qe.length,{segmentGroup:Ie,slicedSegments:ze}}function _i(st,Qe,ze){return(!(st.hasChildren()||Qe.length>0)||"full"!==ze.pathMatch)&&""===ze.path}function os(st,Qe,ze,fe){return!!(St(st)===fe||fe!==xt&&_i(Qe,ze,st))&&("**"===st.path||Sn(Qe,st,ze).matched)}function vo(st,Qe,ze){return 0===Qe.length&&!st.children[ze]}class fs{constructor(Qe){this.segmentGroup=Qe||null}}class no{constructor(Qe){this.urlTree=Qe}}function Dt(st){return(0,U._)(new fs(st))}function Et(st){return(0,U._)(new no(st))}class Ci{constructor(Qe,ze,fe,Te,Ie){this.configLoader=ze,this.urlSerializer=fe,this.urlTree=Te,this.config=Ie,this.allowRedirects=!0,this.ngModule=Qe.get(d.h0i)}apply(){const Qe=Jn(this.urlTree.root,[],[],this.config).segmentGroup,ze=new Bt(Qe.segments,Qe.children);return this.expandSegmentGroup(this.ngModule,this.config,ze,xt).pipe((0,ve.U)(Ie=>this.createUrlTree(Wo(Ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,_e.K)(Ie=>{if(Ie instanceof no)return this.allowRedirects=!1,this.match(Ie.urlTree);throw Ie instanceof fs?this.noMatchError(Ie):Ie}))}match(Qe){return this.expandSegmentGroup(this.ngModule,this.config,Qe.root,xt).pipe((0,ve.U)(Te=>this.createUrlTree(Wo(Te),Qe.queryParams,Qe.fragment))).pipe((0,_e.K)(Te=>{throw Te instanceof fs?this.noMatchError(Te):Te}))}noMatchError(Qe){return new Error(`Cannot match any routes. URL Segment: '${Qe.segmentGroup}'`)}createUrlTree(Qe,ze,fe){const Te=Qe.segments.length>0?new Bt([],{[xt]:Qe}):Qe;return new Mt(Te,ze,fe)}expandSegmentGroup(Qe,ze,fe,Te){return 0===fe.segments.length&&fe.hasChildren()?this.expandChildren(Qe,ze,fe).pipe((0,ve.U)(Ie=>new Bt([],Ie))):this.expandSegment(Qe,fe,ze,fe.segments,Te,!0)}expandChildren(Qe,ze,fe){const Te=[];for(const Ie of Object.keys(fe.children))"primary"===Ie?Te.unshift(Ie):Te.push(Ie);return(0,Z.D)(Te).pipe((0,Re.b)(Ie=>{const Oe=fe.children[Ie],Ge=ht(ze,Ie);return this.expandSegmentGroup(Qe,Ge,Oe,Ie).pipe((0,ve.U)(bt=>({segment:bt,outlet:Ie})))}),le((Ie,Oe)=>(Ie[Oe.outlet]=Oe.segment,Ie),{}),function pe(st,Qe){const ze=arguments.length>=2;return fe=>fe.pipe(st?(0,de.h)((Te,Ie)=>st(Te,Ie,fe)):D.y,q(1),ze?ye(Qe):ue(()=>new F))}())}expandSegment(Qe,ze,fe,Te,Ie,Oe){return(0,Z.D)(fe).pipe((0,Re.b)(Ge=>this.expandSegmentAgainstRoute(Qe,ze,fe,Ge,Te,Ie,Oe).pipe((0,_e.K)(Kt=>{if(Kt instanceof fs)return(0,R.of)(null);throw Kt}))),De(Ge=>!!Ge),(0,_e.K)((Ge,bt)=>{if(Ge instanceof F||"EmptyError"===Ge.name)return vo(ze,Te,Ie)?(0,R.of)(new Bt([],{})):Dt(ze);throw Ge}))}expandSegmentAgainstRoute(Qe,ze,fe,Te,Ie,Oe,Ge){return os(Te,ze,Ie,Oe)?void 0===Te.redirectTo?this.matchSegmentAgainstRoute(Qe,ze,Te,Ie,Oe):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Qe,ze,fe,Te,Ie,Oe):Dt(ze):Dt(ze)}expandSegmentAgainstRouteUsingRedirect(Qe,ze,fe,Te,Ie,Oe){return"**"===Te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Qe,fe,Te,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(Qe,ze,fe,Te,Ie,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(Qe,ze,fe,Te){const Ie=this.applyRedirectCommands([],fe.redirectTo,{});return fe.redirectTo.startsWith("/")?Et(Ie):this.lineralizeSegments(fe,Ie).pipe((0,nt.z)(Oe=>{const Ge=new Bt(Oe,{});return this.expandSegment(Qe,Ge,ze,Oe,Te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Qe,ze,fe,Te,Ie,Oe){const{matched:Ge,consumedSegments:bt,remainingSegments:Kt,positionalParamSegments:dn}=Sn(ze,Te,Ie);if(!Ge)return Dt(ze);const bn=this.applyRedirectCommands(bt,Te.redirectTo,dn);return Te.redirectTo.startsWith("/")?Et(bn):this.lineralizeSegments(Te,bn).pipe((0,nt.z)(qn=>this.expandSegment(Qe,ze,fe,qn.concat(Kt),Oe,!1)))}matchSegmentAgainstRoute(Qe,ze,fe,Te,Ie){if("**"===fe.path)return fe.loadChildren?(fe._loadedConfig?(0,R.of)(fe._loadedConfig):this.configLoader.load(Qe.injector,fe)).pipe((0,ve.U)(bn=>(fe._loadedConfig=bn,new Bt(Te,{})))):(0,R.of)(new Bt(Te,{}));const{matched:Oe,consumedSegments:Ge,remainingSegments:bt}=Sn(ze,fe,Te);return Oe?this.getChildConfig(Qe,fe,Te).pipe((0,nt.z)(dn=>{const bn=dn.module,qn=dn.routes,{segmentGroup:Ir,slicedSegments:Nr}=Jn(ze,Ge,bt,qn),Gr=new Bt(Ir.segments,Ir.children);if(0===Nr.length&&Gr.hasChildren())return this.expandChildren(bn,qn,Gr).pipe((0,ve.U)(ms=>new Bt(Ge,ms)));if(0===qn.length&&0===Nr.length)return(0,R.of)(new Bt(Ge,{}));const Si=St(fe)===Ie;return this.expandSegment(bn,Gr,qn,Nr,Si?xt:Ie,!0).pipe((0,ve.U)(us=>new Bt(Ge.concat(us.segments),us.children)))})):Dt(ze)}getChildConfig(Qe,ze,fe){return ze.children?(0,R.of)(new cn(ze.children,Qe)):ze.loadChildren?void 0!==ze._loadedConfig?(0,R.of)(ze._loadedConfig):this.runCanLoadGuards(Qe.injector,ze,fe).pipe((0,nt.z)(Te=>Te?this.configLoader.load(Qe.injector,ze).pipe((0,ve.U)(Ie=>(ze._loadedConfig=Ie,Ie))):function Xt(st){return(0,U._)(Dn(`Cannot load children because the guard of the route "path: '${st.path}'" returned false`))}(ze))):(0,R.of)(new cn([],Qe))}runCanLoadGuards(Qe,ze,fe){const Te=ze.canLoad;if(!Te||0===Te.length)return(0,R.of)(!0);const Ie=Te.map(Oe=>{const Ge=Qe.get(Oe);let bt;if(function hn(st){return st&&_r(st.canLoad)}(Ge))bt=Ge.canLoad(ze,fe);else{if(!_r(Ge))throw new Error("Invalid CanLoad guard");bt=Ge(ze,fe)}return Wn(bt)});return(0,R.of)(Ie).pipe(Pt(),(0,pt.b)(Oe=>{if(!Jt(Oe))return;const Ge=Dn(`Redirecting to "${this.urlSerializer.serialize(Oe)}"`);throw Ge.url=Oe,Ge}),(0,ve.U)(Oe=>!0===Oe))}lineralizeSegments(Qe,ze){let fe=[],Te=ze.root;for(;;){if(fe=fe.concat(Te.segments),0===Te.numberOfChildren)return(0,R.of)(fe);if(Te.numberOfChildren>1||!Te.children[xt])return(0,U._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${Qe.redirectTo}'`));Te=Te.children[xt]}}applyRedirectCommands(Qe,ze,fe){return this.applyRedirectCreatreUrlTree(ze,this.urlSerializer.parse(ze),Qe,fe)}applyRedirectCreatreUrlTree(Qe,ze,fe,Te){const Ie=this.createSegmentGroup(Qe,ze.root,fe,Te);return new Mt(Ie,this.createQueryParams(ze.queryParams,this.urlTree.queryParams),ze.fragment)}createQueryParams(Qe,ze){const fe={};return In(Qe,(Te,Ie)=>{if("string"==typeof Te&&Te.startsWith(":")){const Ge=Te.substring(1);fe[Ie]=ze[Ge]}else fe[Ie]=Te}),fe}createSegmentGroup(Qe,ze,fe,Te){const Ie=this.createSegments(Qe,ze.segments,fe,Te);let Oe={};return In(ze.children,(Ge,bt)=>{Oe[bt]=this.createSegmentGroup(Qe,Ge,fe,Te)}),new Bt(Ie,Oe)}createSegments(Qe,ze,fe,Te){return ze.map(Ie=>Ie.path.startsWith(":")?this.findPosParam(Qe,Ie,Te):this.findOrReturn(Ie,fe))}findPosParam(Qe,ze,fe){const Te=fe[ze.path.substring(1)];if(!Te)throw new Error(`Cannot redirect to '${Qe}'. Cannot find '${ze.path}'.`);return Te}findOrReturn(Qe,ze){let fe=0;for(const Te of ze){if(Te.path===Qe.path)return ze.splice(fe),Te;fe++}return Qe}}function Wo(st){const Qe={};for(const fe of Object.keys(st.children)){const Ie=Wo(st.children[fe]);(Ie.segments.length>0||Ie.hasChildren())&&(Qe[fe]=Ie)}return function ro(st){if(1===st.numberOfChildren&&st.children[xt]){const Qe=st.children[xt];return new Bt(st.segments.concat(Qe.segments),Qe.children)}return st}(new Bt(st.segments,Qe))}class io{constructor(Qe){this.path=Qe,this.route=this.path[this.path.length-1]}}class sa{constructor(Qe,ze){this.component=Qe,this.route=ze}}function Kr(st,Qe,ze){const fe=st._root;return Aa(fe,Qe?Qe._root:null,ze,[fe.value])}function ba(st,Qe,ze){const fe=function ws(st){if(!st)return null;for(let Qe=st.parent;Qe;Qe=Qe.parent){const ze=Qe.routeConfig;if(ze&&ze._loadedConfig)return ze._loadedConfig}return null}(Qe);return(fe?fe.module.injector:ze).get(st)}function Aa(st,Qe,ze,fe,Te={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=ni(Qe);return st.children.forEach(Oe=>{(function da(st,Qe,ze,fe,Te={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=st.value,Oe=Qe?Qe.value:null,Ge=ze?ze.getContext(st.value.outlet):null;if(Oe&&Ie.routeConfig===Oe.routeConfig){const bt=function Ea(st,Qe,ze){if("function"==typeof ze)return ze(st,Qe);switch(ze){case"pathParamsChange":return!Cn(st.url,Qe.url);case"pathParamsOrQueryParamsChange":return!Cn(st.url,Qe.url)||!vr(st.queryParams,Qe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!An(st,Qe)||!vr(st.queryParams,Qe.queryParams);default:return!An(st,Qe)}}(Oe,Ie,Ie.routeConfig.runGuardsAndResolvers);bt?Te.canActivateChecks.push(new io(fe)):(Ie.data=Oe.data,Ie._resolvedData=Oe._resolvedData),Aa(st,Qe,Ie.component?Ge?Ge.children:null:ze,fe,Te),bt&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&Te.canDeactivateChecks.push(new sa(Ge.outlet.component,Oe))}else Oe&&bo(Qe,Ge,Te),Te.canActivateChecks.push(new io(fe)),Aa(st,null,Ie.component?Ge?Ge.children:null:ze,fe,Te)})(Oe,Ie[Oe.value.outlet],ze,fe.concat([Oe.value]),Te),delete Ie[Oe.value.outlet]}),In(Ie,(Oe,Ge)=>bo(Oe,ze.getContext(Ge),Te)),Te}function bo(st,Qe,ze){const fe=ni(st),Te=st.value;In(fe,(Ie,Oe)=>{bo(Ie,Te.component?Qe?Qe.children.getContext(Oe):null:Qe,ze)}),ze.canDeactivateChecks.push(new sa(Te.component&&Qe&&Qe.outlet&&Qe.outlet.isActivated?Qe.outlet.component:null,Te))}class ea{}function $o(st){return new G.y(Qe=>Qe.error(st))}class Vo{constructor(Qe,ze,fe,Te,Ie,Oe){this.rootComponentType=Qe,this.config=ze,this.urlTree=fe,this.url=Te,this.paramsInheritanceStrategy=Ie,this.relativeLinkResolution=Oe}recognize(){const Qe=Jn(this.urlTree.root,[],[],this.config.filter(Oe=>void 0===Oe.redirectTo),this.relativeLinkResolution).segmentGroup,ze=this.processSegmentGroup(this.config,Qe,xt);if(null===ze)return null;const fe=new Qr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),Te=new Pr(fe,ze),Ie=new cs(this.url,Te);return this.inheritParamsAndData(Ie._root),Ie}inheritParamsAndData(Qe){const ze=Qe.value,fe=yi(ze,this.paramsInheritanceStrategy);ze.params=Object.freeze(fe.params),ze.data=Object.freeze(fe.data),Qe.children.forEach(Te=>this.inheritParamsAndData(Te))}processSegmentGroup(Qe,ze,fe){return 0===ze.segments.length&&ze.hasChildren()?this.processChildren(Qe,ze):this.processSegment(Qe,ze,ze.segments,fe)}processChildren(Qe,ze){const fe=[];for(const Ie of Object.keys(ze.children)){const Oe=ze.children[Ie],Ge=ht(Qe,Ie),bt=this.processSegmentGroup(Ge,Oe,Ie);if(null===bt)return null;fe.push(...bt)}const Te=Ca(fe);return function Xl(st){st.sort((Qe,ze)=>Qe.value.outlet===xt?-1:ze.value.outlet===xt?1:Qe.value.outlet.localeCompare(ze.value.outlet))}(Te),Te}processSegment(Qe,ze,fe,Te){for(const Ie of Qe){const Oe=this.processSegmentAgainstRoute(Ie,ze,fe,Te);if(null!==Oe)return Oe}return vo(ze,fe,Te)?[]:null}processSegmentAgainstRoute(Qe,ze,fe,Te){if(Qe.redirectTo||!os(Qe,ze,fe,Te))return null;let Ie,Oe=[],Ge=[];if("**"===Qe.path){const Ir=fe.length>0?sn(fe).parameters:{};Ie=new Qr(fe,Ir,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zo(Qe),St(Qe),Qe.component,Qe,hl(ze),Jo(ze)+fe.length,oa(Qe))}else{const Ir=Sn(ze,Qe,fe);if(!Ir.matched)return null;Oe=Ir.consumedSegments,Ge=Ir.remainingSegments,Ie=new Qr(Oe,Ir.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zo(Qe),St(Qe),Qe.component,Qe,hl(ze),Jo(ze)+Oe.length,oa(Qe))}const bt=function Js(st){return st.children?st.children:st.loadChildren?st._loadedConfig.routes:[]}(Qe),{segmentGroup:Kt,slicedSegments:dn}=Jn(ze,Oe,Ge,bt.filter(Ir=>void 0===Ir.redirectTo),this.relativeLinkResolution);if(0===dn.length&&Kt.hasChildren()){const Ir=this.processChildren(bt,Kt);return null===Ir?null:[new Pr(Ie,Ir)]}if(0===bt.length&&0===dn.length)return[new Pr(Ie,[])];const bn=St(Qe)===Te,qn=this.processSegment(bt,Kt,dn,bn?xt:Te);return null===qn?null:[new Pr(Ie,qn)]}}function $a(st){const Qe=st.value.routeConfig;return Qe&&""===Qe.path&&void 0===Qe.redirectTo}function Ca(st){const Qe=[],ze=new Set;for(const fe of st){if(!$a(fe)){Qe.push(fe);continue}const Te=Qe.find(Ie=>fe.value.routeConfig===Ie.value.routeConfig);void 0!==Te?(Te.children.push(...fe.children),ze.add(Te)):Qe.push(fe)}for(const fe of ze){const Te=Ca(fe.children);Qe.push(new Pr(fe.value,Te))}return Qe.filter(fe=>!ze.has(fe))}function hl(st){let Qe=st;for(;Qe._sourceSegment;)Qe=Qe._sourceSegment;return Qe}function Jo(st){let Qe=st,ze=Qe._segmentIndexShift?Qe._segmentIndexShift:0;for(;Qe._sourceSegment;)Qe=Qe._sourceSegment,ze+=Qe._segmentIndexShift?Qe._segmentIndexShift:0;return ze-1}function Zo(st){return st.data||{}}function oa(st){return st.resolve||{}}function Bs(st){return[...Object.keys(st),...Object.getOwnPropertySymbols(st)]}function wo(st){return(0,Le.w)(Qe=>{const ze=st(Qe);return ze?(0,Z.D)(ze).pipe((0,ve.U)(()=>Qe)):(0,R.of)(Qe)})}class Ls extends class fo{shouldDetach(Qe){return!1}store(Qe,ze){}shouldAttach(Qe){return!1}retrieve(Qe){return null}shouldReuseRoute(Qe,ze){return Qe.routeConfig===ze.routeConfig}}{}const aa=new d.OlP("ROUTES");class Dl{constructor(Qe,ze,fe,Te){this.injector=Qe,this.compiler=ze,this.onLoadStartListener=fe,this.onLoadEndListener=Te}load(Qe,ze){if(ze._loader$)return ze._loader$;this.onLoadStartListener&&this.onLoadStartListener(ze);const Te=this.loadModuleFactory(ze.loadChildren).pipe((0,ve.U)(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(ze);const Oe=Ie.create(Qe);return new cn(zt(Oe.injector.get(aa,void 0,d.XFs.Self|d.XFs.Optional)).map(et),Oe)}),(0,_e.K)(Ie=>{throw ze._loader$=void 0,Ie}));return ze._loader$=new Y.c(Te,()=>new v.x).pipe((0,Ne.x)()),ze._loader$}loadModuleFactory(Qe){return Wn(Qe()).pipe((0,nt.z)(ze=>ze instanceof d.YKP?(0,R.of)(ze):(0,Z.D)(this.compiler.compileModuleAsync(ze))))}}class el{shouldProcessUrl(Qe){return!0}extract(Qe){return Qe}merge(Qe,ze){return Qe}}function So(st){throw st}function fl(st,Qe,ze){return Qe.parse("/")}function so(st,Qe){return(0,R.of)(null)}const xa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ga={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class st{constructor(ze,fe,Te,Ie,Oe,Ge,bt){this.rootComponentType=ze,this.urlSerializer=fe,this.rootContexts=Te,this.location=Ie,this.config=bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new v.x,this.errorHandler=So,this.malformedUriErrorHandler=fl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:so,afterPreactivation:so},this.urlHandlingStrategy=new el,this.routeReuseStrategy=new Ls,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Oe.get(d.h0i),this.console=Oe.get(d.c2e);const bn=Oe.get(d.R0b);this.isNgZoneEnabled=bn instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(bt),this.currentUrlTree=function jn(){return new Mt(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dl(Oe,Ge,qn=>this.triggerEvent(new Tt(qn)),qn=>this.triggerEvent(new It(qn))),this.routerState=Lr(this.currentUrlTree,this.rootComponentType),this.transitions=new X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var ze;return null===(ze=this.location.getState())||void 0===ze?void 0:ze.\u0275routerPageId}setupNavigations(ze){const fe=this.events;return ze.pipe((0,de.h)(Te=>0!==Te.id),(0,ve.U)(Te=>Object.assign(Object.assign({},Te),{extractedUrl:this.urlHandlingStrategy.extract(Te.rawUrl)})),(0,Le.w)(Te=>{let Ie=!1,Oe=!1;return(0,R.of)(Te).pipe((0,pt.b)(Ge=>{this.currentNavigation={id:Ge.id,initialUrl:Ge.currentRawUrl,extractedUrl:Ge.extractedUrl,trigger:Ge.source,extras:Ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Le.w)(Ge=>{const bt=this.browserUrlTree.toString(),Kt=!this.navigated||Ge.extractedUrl.toString()!==bt||bt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Kt)&&this.urlHandlingStrategy.shouldProcessUrl(Ge.rawUrl))return ml(Ge.source)&&(this.browserUrlTree=Ge.extractedUrl),(0,R.of)(Ge).pipe((0,Le.w)(bn=>{const qn=this.transitions.getValue();return fe.next(new Fe(bn.id,this.serializeUrl(bn.extractedUrl),bn.source,bn.restoredState)),qn!==this.transitions.getValue()?J.E:Promise.resolve(bn)}),function ja(st,Qe,ze,fe){return(0,Le.w)(Te=>function Mr(st,Qe,ze,fe,Te){return new Ci(st,Qe,ze,fe,Te).apply()}(st,Qe,ze,Te.extractedUrl,fe).pipe((0,ve.U)(Ie=>Object.assign(Object.assign({},Te),{urlAfterRedirects:Ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pt.b)(bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:bn.urlAfterRedirects})}),function ha(st,Qe,ze,fe,Te){return(0,nt.z)(Ie=>function gc(st,Qe,ze,fe,Te="emptyOnly",Ie="legacy"){try{const Oe=new Vo(st,Qe,ze,fe,Te,Ie).recognize();return null===Oe?$o(new ea):(0,R.of)(Oe)}catch(Oe){return $o(Oe)}}(st,Qe,Ie.urlAfterRedirects,ze(Ie.urlAfterRedirects),fe,Te).pipe((0,ve.U)(Oe=>Object.assign(Object.assign({},Ie),{targetSnapshot:Oe}))))}(this.rootComponentType,this.config,bn=>this.serializeUrl(bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(bn=>{if("eager"===this.urlUpdateStrategy){if(!bn.extras.skipLocationChange){const Ir=this.urlHandlingStrategy.merge(bn.urlAfterRedirects,bn.rawUrl);this.setBrowserUrl(Ir,bn)}this.browserUrlTree=bn.urlAfterRedirects}const qn=new Be(bn.id,this.serializeUrl(bn.extractedUrl),this.serializeUrl(bn.urlAfterRedirects),bn.targetSnapshot);fe.next(qn)}));if(Kt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qn,extractedUrl:Ir,source:Nr,restoredState:Gr,extras:Si}=Ge,is=new Fe(qn,this.serializeUrl(Ir),Nr,Gr);fe.next(is);const us=Lr(Ir,this.rootComponentType).snapshot;return(0,R.of)(Object.assign(Object.assign({},Ge),{targetSnapshot:us,urlAfterRedirects:Ir,extras:Object.assign(Object.assign({},Si),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ge.rawUrl,Ge.resolve(null),J.E}),wo(Ge=>{const{targetSnapshot:bt,id:Kt,extractedUrl:dn,rawUrl:bn,extras:{skipLocationChange:qn,replaceUrl:Ir}}=Ge;return this.hooks.beforePreactivation(bt,{navigationId:Kt,appliedUrlTree:dn,rawUrlTree:bn,skipLocationChange:!!qn,replaceUrl:!!Ir})}),(0,pt.b)(Ge=>{const bt=new Je(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(bt)}),(0,ve.U)(Ge=>Object.assign(Object.assign({},Ge),{guards:Kr(Ge.targetSnapshot,Ge.currentSnapshot,this.rootContexts)})),function eo(st,Qe){return(0,nt.z)(ze=>{const{targetSnapshot:fe,currentSnapshot:Te,guards:{canActivateChecks:Ie,canDeactivateChecks:Oe}}=ze;return 0===Oe.length&&0===Ie.length?(0,R.of)(Object.assign(Object.assign({},ze),{guardsResult:!0})):function ao(st,Qe,ze,fe){return(0,Z.D)(st).pipe((0,nt.z)(Te=>function dl(st,Qe,ze,fe,Te){const Ie=Qe&&Qe.routeConfig?Qe.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,R.of)(!0);const Oe=Ie.map(Ge=>{const bt=ba(Ge,Qe,Te);let Kt;if(function yn(st){return st&&_r(st.canDeactivate)}(bt))Kt=Wn(bt.canDeactivate(st,Qe,ze,fe));else{if(!_r(bt))throw new Error("Invalid CanDeactivate guard");Kt=Wn(bt(st,Qe,ze,fe))}return Kt.pipe(De())});return(0,R.of)(Oe).pipe(Pt())}(Te.component,Te.route,ze,Qe,fe)),De(Te=>!0!==Te,!0))}(Oe,fe,Te,st).pipe((0,nt.z)(Ge=>Ge&&function Er(st){return"boolean"==typeof st}(Ge)?function vn(st,Qe,ze,fe){return(0,Z.D)(Qe).pipe((0,Re.b)(Te=>(0,A.z)(function pi(st,Qe){return null!==st&&Qe&&Qe(new Nt(st)),(0,R.of)(!0)}(Te.route.parent,fe),function ul(st,Qe){return null!==st&&Qe&&Qe(new Xe(st)),(0,R.of)(!0)}(Te.route,fe),function lo(st,Qe,ze){const fe=Qe[Qe.length-1],Ie=Qe.slice(0,Qe.length-1).reverse().map(Oe=>function Ms(st){const Qe=st.routeConfig?st.routeConfig.canActivateChild:null;return Qe&&0!==Qe.length?{node:st,guards:Qe}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>(0,V.P)(()=>{const Ge=Oe.guards.map(bt=>{const Kt=ba(bt,Oe.node,ze);let dn;if(function Vt(st){return st&&_r(st.canActivateChild)}(Kt))dn=Wn(Kt.canActivateChild(fe,st));else{if(!_r(Kt))throw new Error("Invalid CanActivateChild guard");dn=Wn(Kt(fe,st))}return dn.pipe(De())});return(0,R.of)(Ge).pipe(Pt())}));return(0,R.of)(Ie).pipe(Pt())}(st,Te.path,ze),function No(st,Qe,ze){const fe=Qe.routeConfig?Qe.routeConfig.canActivate:null;if(!fe||0===fe.length)return(0,R.of)(!0);const Te=fe.map(Ie=>(0,V.P)(()=>{const Oe=ba(Ie,Qe,ze);let Ge;if(function at(st){return st&&_r(st.canActivate)}(Oe))Ge=Wn(Oe.canActivate(Qe,st));else{if(!_r(Oe))throw new Error("Invalid CanActivate guard");Ge=Wn(Oe(Qe,st))}return Ge.pipe(De())}));return(0,R.of)(Te).pipe(Pt())}(st,Te.route,ze))),De(Te=>!0!==Te,!0))}(fe,Ie,st,Qe):(0,R.of)(Ge)),(0,ve.U)(Ge=>Object.assign(Object.assign({},ze),{guardsResult:Ge})))})}(this.ngModule.injector,Ge=>this.triggerEvent(Ge)),(0,pt.b)(Ge=>{if(Jt(Ge.guardsResult)){const Kt=Dn(`Redirecting to "${this.serializeUrl(Ge.guardsResult)}"`);throw Kt.url=Ge.guardsResult,Kt}const bt=new $e(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot,!!Ge.guardsResult);this.triggerEvent(bt)}),(0,de.h)(Ge=>!!Ge.guardsResult||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,""),!1)),wo(Ge=>{if(Ge.guards.canActivateChecks.length)return(0,R.of)(Ge).pipe((0,pt.b)(bt=>{const Kt=new ot(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);this.triggerEvent(Kt)}),(0,Le.w)(bt=>{let Kt=!1;return(0,R.of)(bt).pipe(function pl(st,Qe){return(0,nt.z)(ze=>{const{targetSnapshot:fe,guards:{canActivateChecks:Te}}=ze;if(!Te.length)return(0,R.of)(ze);let Ie=0;return(0,Z.D)(Te).pipe((0,Re.b)(Oe=>function Ma(st,Qe,ze,fe){return function Tl(st,Qe,ze,fe){const Te=Bs(st);if(0===Te.length)return(0,R.of)({});const Ie={};return(0,Z.D)(Te).pipe((0,nt.z)(Oe=>function Zi(st,Qe,ze,fe){const Te=ba(st,Qe,fe);return Wn(Te.resolve?Te.resolve(Qe,ze):Te(Qe,ze))}(st[Oe],Qe,ze,fe).pipe((0,pt.b)(Ge=>{Ie[Oe]=Ge}))),q(1),(0,nt.z)(()=>Bs(Ie).length===Te.length?(0,R.of)(Ie):J.E))}(st._resolve,st,Qe,fe).pipe((0,ve.U)(Ie=>(st._resolvedData=Ie,st.data=Object.assign(Object.assign({},st.data),yi(st,ze).resolve),null)))}(Oe.route,fe,st,Qe)),(0,pt.b)(()=>Ie++),q(1),(0,nt.z)(Oe=>Ie===Te.length?(0,R.of)(ze):J.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pt.b)({next:()=>Kt=!0,complete:()=>{Kt||(this.restoreHistory(bt),this.cancelNavigationTransition(bt,"At least one route resolver didn't emit any value."))}}))}),(0,pt.b)(bt=>{const Kt=new mt(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);this.triggerEvent(Kt)}))}),wo(Ge=>{const{targetSnapshot:bt,id:Kt,extractedUrl:dn,rawUrl:bn,extras:{skipLocationChange:qn,replaceUrl:Ir}}=Ge;return this.hooks.afterPreactivation(bt,{navigationId:Kt,appliedUrlTree:dn,rawUrlTree:bn,skipLocationChange:!!qn,replaceUrl:!!Ir})}),(0,ve.U)(Ge=>{const bt=function fr(st,Qe,ze){const fe=wr(st,Qe._root,ze?ze._root:void 0);return new Yr(fe,Qe)}(this.routeReuseStrategy,Ge.targetSnapshot,Ge.currentRouterState);return Object.assign(Object.assign({},Ge),{targetRouterState:bt})}),(0,pt.b)(Ge=>{this.currentUrlTree=Ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ge.urlAfterRedirects,Ge.rawUrl),this.routerState=Ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ge),this.browserUrlTree=Ge.urlAfterRedirects)}),((st,Qe,ze)=>(0,ve.U)(fe=>(new Ys(Qe,fe.targetRouterState,fe.currentRouterState,ze).activate(st),fe)))(this.rootContexts,this.routeReuseStrategy,Ge=>this.triggerEvent(Ge)),(0,pt.b)({next(){Ie=!0},complete(){Ie=!0}}),function Me(st){return(0,oe.e)((Qe,ze)=>{try{Qe.subscribe(ze)}finally{ze.add(st)}})}(()=>{var Ge;Ie||Oe||this.cancelNavigationTransition(Te,`Navigation ID ${Te.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ge=this.currentNavigation)||void 0===Ge?void 0:Ge.id)===Te.id&&(this.currentNavigation=null)}),(0,_e.K)(Ge=>{if(Oe=!0,function Xn(st){return st&&st[En]}(Ge)){const bt=Jt(Ge.url);bt||(this.navigated=!0,this.restoreHistory(Te,!0));const Kt=new ct(Te.id,this.serializeUrl(Te.extractedUrl),Ge.message);fe.next(Kt),bt?setTimeout(()=>{const dn=this.urlHandlingStrategy.merge(Ge.url,this.rawUrlTree),bn={skipLocationChange:Te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ml(Te.source)};this.scheduleNavigation(dn,"imperative",null,bn,{resolve:Te.resolve,reject:Te.reject,promise:Te.promise})},0):Te.resolve(!1)}else{this.restoreHistory(Te,!0);const bt=new we(Te.id,this.serializeUrl(Te.extractedUrl),Ge);fe.next(bt);try{Te.resolve(this.errorHandler(Ge))}catch(Kt){Te.reject(Kt)}}return J.E}))}))}resetRootComponentType(ze){this.rootComponentType=ze,this.routerState.root.component=this.rootComponentType}setTransition(ze){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),ze))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(ze=>{const fe="popstate"===ze.type?"popstate":"hashchange";"popstate"===fe&&setTimeout(()=>{var Te;const Ie={replaceUrl:!0},Oe=(null===(Te=ze.state)||void 0===Te?void 0:Te.navigationId)?ze.state:null;if(Oe){const bt=Object.assign({},Oe);delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(Ie.state=bt)}const Ge=this.parseUrl(ze.url);this.scheduleNavigation(Ge,fe,Oe,Ie)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(ze){this.events.next(ze)}resetConfig(ze){yt(ze),this.config=ze.map(et),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(ze,fe={}){const{relativeTo:Te,queryParams:Ie,fragment:Oe,queryParamsHandling:Ge,preserveFragment:bt}=fe,Kt=Te||this.routerState.root,dn=bt?this.currentUrlTree.fragment:Oe;let bn=null;switch(Ge){case"merge":bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ie);break;case"preserve":bn=this.currentUrlTree.queryParams;break;default:bn=Ie||null}return null!==bn&&(bn=this.removeEmptyProps(bn)),function ti(st,Qe,ze,fe,Te){if(0===ze.length)return Ni(Qe.root,Qe.root,Qe.root,fe,Te);const Ie=function Vi(st){if("string"==typeof st[0]&&1===st.length&&"/"===st[0])return new Gs(!0,0,st);let Qe=0,ze=!1;const fe=st.reduce((Te,Ie,Oe)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const Ge={};return In(Ie.outlets,(bt,Kt)=>{Ge[Kt]="string"==typeof bt?bt.split("/"):bt}),[...Te,{outlets:Ge}]}if(Ie.segmentPath)return[...Te,Ie.segmentPath]}return"string"!=typeof Ie?[...Te,Ie]:0===Oe?(Ie.split("/").forEach((Ge,bt)=>{0==bt&&"."===Ge||(0==bt&&""===Ge?ze=!0:".."===Ge?Qe++:""!=Ge&&Te.push(Ge))}),Te):[...Te,Ie]},[]);return new Gs(ze,Qe,fe)}(ze);if(Ie.toRoot())return Ni(Qe.root,Qe.root,new Bt([],{}),fe,Te);const Oe=function Ps(st,Qe,ze){if(st.isAbsolute)return new Rs(Qe.root,!0,0);if(-1===ze.snapshot._lastPathIndex){const Ie=ze.snapshot._urlSegment;return new Rs(Ie,Ie===Qe.root,0)}const fe=Ai(st.commands[0])?0:1;return function Is(st,Qe,ze){let fe=st,Te=Qe,Ie=ze;for(;Ie>Te;){if(Ie-=Te,fe=fe.parent,!fe)throw new Error("Invalid number of '../'");Te=fe.segments.length}return new Rs(fe,!1,Te-Ie)}(ze.snapshot._urlSegment,ze.snapshot._lastPathIndex+fe,st.numberOfDoubleDots)}(Ie,Qe,st),Ge=Oe.processChildren?Oo(Oe.segmentGroup,Oe.index,Ie.commands):yo(Oe.segmentGroup,Oe.index,Ie.commands);return Ni(Qe.root,Oe.segmentGroup,Ge,fe,Te)}(Kt,this.currentUrlTree,ze,bn,null!=dn?dn:null)}navigateByUrl(ze,fe={skipLocationChange:!1}){const Te=Jt(ze)?ze:this.parseUrl(ze),Ie=this.urlHandlingStrategy.merge(Te,this.rawUrlTree);return this.scheduleNavigation(Ie,"imperative",null,fe)}navigate(ze,fe={skipLocationChange:!1}){return function tl(st){for(let Qe=0;Qe<st.length;Qe++){const ze=st[Qe];if(null==ze)throw new Error(`The requested path contains ${ze} segment at index ${Qe}`)}}(ze),this.navigateByUrl(this.createUrlTree(ze,fe),fe)}serializeUrl(ze){return this.urlSerializer.serialize(ze)}parseUrl(ze){let fe;try{fe=this.urlSerializer.parse(ze)}catch(Te){fe=this.malformedUriErrorHandler(Te,this.urlSerializer,ze)}return fe}isActive(ze,fe){let Te;if(Te=!0===fe?Object.assign({},xa):!1===fe?Object.assign({},Ga):fe,Jt(ze))return ir(this.currentUrlTree,ze,Te);const Ie=this.parseUrl(ze);return ir(this.currentUrlTree,Ie,Te)}removeEmptyProps(ze){return Object.keys(ze).reduce((fe,Te)=>{const Ie=ze[Te];return null!=Ie&&(fe[Te]=Ie),fe},{})}processNavigations(){this.navigations.subscribe(ze=>{this.navigated=!0,this.lastSuccessfulId=ze.id,this.currentPageId=ze.targetPageId,this.events.next(new Ze(ze.id,this.serializeUrl(ze.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,ze.resolve(!0)},ze=>{this.console.warn(`Unhandled Navigation Error: ${ze}`)})}scheduleNavigation(ze,fe,Te,Ie,Oe){var Ge,bt;if(this.disposed)return Promise.resolve(!1);let Kt,dn,bn;Oe?(Kt=Oe.resolve,dn=Oe.reject,bn=Oe.promise):bn=new Promise((Nr,Gr)=>{Kt=Nr,dn=Gr});const qn=++this.navigationId;let Ir;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Te=this.location.getState()),Ir=Te&&Te.\u0275routerPageId?Te.\u0275routerPageId:Ie.replaceUrl||Ie.skipLocationChange?null!==(Ge=this.browserPageId)&&void 0!==Ge?Ge:0:(null!==(bt=this.browserPageId)&&void 0!==bt?bt:0)+1):Ir=0,this.setTransition({id:qn,targetPageId:Ir,source:fe,restoredState:Te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:ze,extras:Ie,resolve:Kt,reject:dn,promise:bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bn.catch(Nr=>Promise.reject(Nr))}setBrowserUrl(ze,fe){const Te=this.urlSerializer.serialize(ze),Ie=Object.assign(Object.assign({},fe.extras.state),this.generateNgRouterState(fe.id,fe.targetPageId));this.location.isCurrentPathEqualTo(Te)||fe.extras.replaceUrl?this.location.replaceState(Te,"",Ie):this.location.go(Te,"",Ie)}restoreHistory(ze,fe=!1){var Te,Ie;if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-ze.targetPageId;"popstate"!==ze.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.finalUrl)||0===Oe?this.currentUrlTree===(null===(Ie=this.currentNavigation)||void 0===Ie?void 0:Ie.finalUrl)&&0===Oe&&(this.resetState(ze),this.browserUrlTree=ze.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Oe)}else"replace"===this.canceledNavigationResolution&&(fe&&this.resetState(ze),this.resetUrlToCurrentUrlTree())}resetState(ze){this.routerState=ze.currentRouterState,this.currentUrlTree=ze.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ze.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(ze,fe){const Te=new ct(ze.id,this.serializeUrl(ze.extractedUrl),fe);this.triggerEvent(Te),ze.resolve(!1)}generateNgRouterState(ze,fe){return"computed"===this.canceledNavigationResolution?{navigationId:ze,\u0275routerPageId:fe}:{navigationId:ze}}}return st.\u0275fac=function(ze){d.$Z()},st.\u0275prov=d.Yz7({token:st,factory:st.\u0275fac}),st})();function ml(st){return"imperative"!==st}let Ks=(()=>{class st{constructor(ze,fe,Te,Ie,Oe){this.router=ze,this.route=fe,this.tabIndexAttribute=Te,this.renderer=Ie,this.el=Oe,this.commands=null,this.onChanges=new v.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ze){if(null!=this.tabIndexAttribute)return;const fe=this.renderer,Te=this.el.nativeElement;null!==ze?fe.setAttribute(Te,"tabindex",ze):fe.removeAttribute(Te,"tabindex")}ngOnChanges(ze){this.onChanges.next(this)}set routerLink(ze){null!=ze?(this.commands=Array.isArray(ze)?ze:[ze],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const ze={skipLocationChange:nl(this.skipLocationChange),replaceUrl:nl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ze),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nl(this.preserveFragment)})}}return st.\u0275fac=function(ze){return new(ze||st)(d.Y36(Fo),d.Y36(li),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},st.\u0275dir=d.lG2({type:st,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ze,fe){1&ze&&d.NdJ("click",function(){return fe.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),st})(),jo=(()=>{class st{constructor(ze,fe,Te){this.router=ze,this.route=fe,this.locationStrategy=Te,this.commands=null,this.href=null,this.onChanges=new v.x,this.subscription=ze.events.subscribe(Ie=>{Ie instanceof Ze&&this.updateTargetUrlAndHref()})}set routerLink(ze){this.commands=null!=ze?Array.isArray(ze)?ze:[ze]:null}ngOnChanges(ze){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(ze,fe,Te,Ie,Oe){if(0!==ze||fe||Te||Ie||Oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ge={skipLocationChange:nl(this.skipLocationChange),replaceUrl:nl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ge),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nl(this.preserveFragment)})}}return st.\u0275fac=function(ze){return new(ze||st)(d.Y36(Fo),d.Y36(li),d.Y36(Ye.S$))},st.\u0275dir=d.lG2({type:st,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(ze,fe){1&ze&&d.NdJ("click",function(Ie){return fe.onClick(Ie.button,Ie.ctrlKey,Ie.shiftKey,Ie.altKey,Ie.metaKey)}),2&ze&&d.uIk("target",fe.target)("href",fe.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),st})();function nl(st){return""===st||!!st}let Wl=(()=>{class st{constructor(ze,fe,Te,Ie,Oe,Ge){this.router=ze,this.element=fe,this.renderer=Te,this.cdr=Ie,this.link=Oe,this.linkWithHref=Ge,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=ze.events.subscribe(bt=>{bt instanceof Ze&&this.update()})}ngAfterContentInit(){(0,R.of)(this.links.changes,this.linksWithHrefs.changes,(0,R.of)(null)).pipe((0,xe.J)()).subscribe(ze=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var ze;null===(ze=this.linkInputChangesSubscription)||void 0===ze||ze.unsubscribe();const fe=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(Te=>!!Te).map(Te=>Te.onChanges);this.linkInputChangesSubscription=(0,Z.D)(fe).pipe((0,xe.J)()).subscribe(Te=>{this.isActive!==this.isLinkActive(this.router)(Te)&&this.update()})}set routerLinkActive(ze){const fe=Array.isArray(ze)?ze:ze.split(" ");this.classes=fe.filter(Te=>!!Te)}ngOnChanges(ze){this.update()}ngOnDestroy(){var ze;this.routerEventsSubscription.unsubscribe(),null===(ze=this.linkInputChangesSubscription)||void 0===ze||ze.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const ze=this.hasActiveLinks();this.isActive!==ze&&(this.isActive=ze,this.cdr.markForCheck(),this.classes.forEach(fe=>{ze?this.renderer.addClass(this.element.nativeElement,fe):this.renderer.removeClass(this.element.nativeElement,fe)}),this.isActiveChange.emit(ze))})}isLinkActive(ze){const fe=function gl(st){return!!st.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Te=>!!Te.urlTree&&ze.isActive(Te.urlTree,fe)}hasActiveLinks(){const ze=this.isLinkActive(this.router);return this.link&&ze(this.link)||this.linkWithHref&&ze(this.linkWithHref)||this.links.some(ze)||this.linksWithHrefs.some(ze)}}return st.\u0275fac=function(ze){return new(ze||st)(d.Y36(Fo),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Ks,8),d.Y36(jo,8))},st.\u0275dir=d.lG2({type:st,selectors:[["","routerLinkActive",""]],contentQueries:function(ze,fe,Te){if(1&ze&&(d.Suo(Te,Ks,5),d.Suo(Te,jo,5)),2&ze){let Ie;d.iGM(Ie=d.CRH())&&(fe.links=Ie),d.iGM(Ie=d.CRH())&&(fe.linksWithHrefs=Ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[d.TTD]}),st})();class Ko{}class Vl{preload(Qe,ze){return(0,R.of)(null)}}let Pl=(()=>{class st{constructor(ze,fe,Te,Ie){this.router=ze,this.injector=Te,this.preloadingStrategy=Ie,this.loader=new Dl(Te,fe,bt=>ze.triggerEvent(new Tt(bt)),bt=>ze.triggerEvent(new It(bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.h)(ze=>ze instanceof Ze),(0,Re.b)(()=>this.preload())).subscribe(()=>{})}preload(){const ze=this.injector.get(d.h0i);return this.processRoutes(ze,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ze,fe){const Te=[];for(const Ie of fe)if(Ie.loadChildren&&!Ie.canLoad&&Ie._loadedConfig){const Oe=Ie._loadedConfig;Te.push(this.processRoutes(Oe.module,Oe.routes))}else Ie.loadChildren&&!Ie.canLoad?Te.push(this.preloadConfig(ze,Ie)):Ie.children&&Te.push(this.processRoutes(ze,Ie.children));return(0,Z.D)(Te).pipe((0,xe.J)(),(0,ve.U)(Ie=>{}))}preloadConfig(ze,fe){return this.preloadingStrategy.preload(fe,()=>(fe._loadedConfig?(0,R.of)(fe._loadedConfig):this.loader.load(ze.injector,fe)).pipe((0,nt.z)(Ie=>(fe._loadedConfig=Ie,this.processRoutes(Ie.module,Ie.routes)))))}}return st.\u0275fac=function(ze){return new(ze||st)(d.LFG(Fo),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Ko))},st.\u0275prov=d.Yz7({token:st,factory:st.\u0275fac}),st})(),Ha=(()=>{class st{constructor(ze,fe,Te={}){this.router=ze,this.viewportScroller=fe,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(ze=>{ze instanceof Fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ze.navigationTrigger,this.restoredId=ze.restoredState?ze.restoredState.navigationId:0):ze instanceof Ze&&(this.lastId=ze.id,this.scheduleScrollEvent(ze,this.router.parseUrl(ze.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(ze=>{ze instanceof Zt&&(ze.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ze.position):ze.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ze.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ze,fe){this.router.triggerEvent(new Zt(ze,"popstate"===this.lastSource?this.store[this.restoredId]:null,fe))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return st.\u0275fac=function(ze){d.$Z()},st.\u0275prov=d.Yz7({token:st,factory:st.\u0275fac}),st})();const lt=new d.OlP("ROUTER_CONFIGURATION"),jt=new d.OlP("ROUTER_FORROOT_GUARD"),Tn=[Ye.Ye,{provide:er,useClass:or},{provide:Fo,useFactory:function Ba(st,Qe,ze,fe,Te,Ie,Oe={},Ge,bt){const Kt=new Fo(null,st,Qe,ze,fe,Te,zt(Ie));return Ge&&(Kt.urlHandlingStrategy=Ge),bt&&(Kt.routeReuseStrategy=bt),function zu(st,Qe){st.errorHandler&&(Qe.errorHandler=st.errorHandler),st.malformedUriErrorHandler&&(Qe.malformedUriErrorHandler=st.malformedUriErrorHandler),st.onSameUrlNavigation&&(Qe.onSameUrlNavigation=st.onSameUrlNavigation),st.paramsInheritanceStrategy&&(Qe.paramsInheritanceStrategy=st.paramsInheritanceStrategy),st.relativeLinkResolution&&(Qe.relativeLinkResolution=st.relativeLinkResolution),st.urlUpdateStrategy&&(Qe.urlUpdateStrategy=st.urlUpdateStrategy),st.canceledNavigationResolution&&(Qe.canceledNavigationResolution=st.canceledNavigationResolution)}(Oe,Kt),Oe.enableTracing&&Kt.events.subscribe(dn=>{var bn,qn;null===(bn=console.group)||void 0===bn||bn.call(console,`Router Event: ${dn.constructor.name}`),console.log(dn.toString()),console.log(dn),null===(qn=console.groupEnd)||void 0===qn||qn.call(console)}),Kt},deps:[er,un,Ye.Ye,d.zs3,d.Sil,aa,lt,[class kl{},new d.FiY],[class Qs{},new d.FiY]]},un,{provide:li,useFactory:function yl(st){return st.routerState.root},deps:[Fo]},Pl,Vl,class ql{preload(Qe,ze){return ze().pipe((0,_e.K)(()=>(0,R.of)(null)))}},{provide:lt,useValue:{enableTracing:!1}}];function Sr(){return new d.PXZ("Router",Fo)}let xi=(()=>{class st{constructor(ze,fe){}static forRoot(ze,fe){return{ngModule:st,providers:[Tn,wa(ze),{provide:jt,useFactory:mo,deps:[[Fo,new d.FiY,new d.tp0]]},{provide:lt,useValue:fe||{}},{provide:Ye.S$,useFactory:Yo,deps:[Ye.lw,[new d.tBr(Ye.mr),new d.FiY],lt]},{provide:Ha,useFactory:js,deps:[Fo,Ye.EM,lt]},{provide:Ko,useExisting:fe&&fe.preloadingStrategy?fe.preloadingStrategy:Vl},{provide:d.PXZ,multi:!0,useFactory:Sr},[ka,{provide:d.ip1,multi:!0,useFactory:Wc,deps:[ka]},{provide:rl,useFactory:_l,deps:[ka]},{provide:d.tb,multi:!0,useExisting:rl}]]}}static forChild(ze){return{ngModule:st,providers:[wa(ze)]}}}return st.\u0275fac=function(ze){return new(ze||st)(d.LFG(jt,8),d.LFG(Fo,8))},st.\u0275mod=d.oAB({type:st}),st.\u0275inj=d.cJS({}),st})();function js(st,Qe,ze){return ze.scrollOffset&&Qe.setOffset(ze.scrollOffset),new Ha(st,Qe,ze)}function Yo(st,Qe,ze={}){return ze.useHash?new Ye.Do(st,Qe):new Ye.b0(st,Qe)}function mo(st){return"guarded"}function wa(st){return[{provide:d.deG,multi:!0,useValue:st},{provide:aa,multi:!0,useValue:st}]}let ka=(()=>{class st{constructor(ze){this.injector=ze,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new v.x}appInitializer(){return this.injector.get(Ye.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let fe=null;const Te=new Promise(Ge=>fe=Ge),Ie=this.injector.get(Fo),Oe=this.injector.get(lt);return"disabled"===Oe.initialNavigation?(Ie.setUpLocationChangeListener(),fe(!0)):"enabled"===Oe.initialNavigation||"enabledBlocking"===Oe.initialNavigation?(Ie.hooks.afterPreactivation=()=>this.initNavigation?(0,R.of)(null):(this.initNavigation=!0,fe(!0),this.resultOfPreactivationDone),Ie.initialNavigation()):fe(!0),Te})}bootstrapListener(ze){const fe=this.injector.get(lt),Te=this.injector.get(Pl),Ie=this.injector.get(Ha),Oe=this.injector.get(Fo),Ge=this.injector.get(d.z2F);ze===Ge.components[0]&&(("enabledNonBlocking"===fe.initialNavigation||void 0===fe.initialNavigation)&&Oe.initialNavigation(),Te.setUpPreloading(),Ie.init(),Oe.resetRootComponentType(Ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return st.\u0275fac=function(ze){return new(ze||st)(d.LFG(d.zs3))},st.\u0275prov=d.Yz7({token:st,factory:st.\u0275fac}),st})();function Wc(st){return st.appInitializer.bind(st)}function _l(st){return st.bootstrapListener.bind(st)}const rl=new d.OlP("Router Initializer")},73386:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>de});var Y,d=p(15861),v=p(17626),X=p(74333),G=p(89726),z=p(55538),Z=p(86810),D=p(58817),k=p(47996),N=p(47877),B=p(63290),Q=p(62208),ne=p(10699),te=p(21726),ae=p(77712),$=(p(90912),p(76898)),F=p(99433),R=p(65234),U=p(84687),A=p(55463),V=p(33954),J=p(32584);let oe=0;const se=B.Z.getLogger("esri.Basemap");let le=Y=class extends((0,Z.eC)(k.Z)){constructor(q){super(q),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+oe++,this.baseLayers=new X.Z,this.referenceLayers=new X.Z;const ue=ye=>{ye.parent&&ye.parent!==this&&"remove"in ye.parent&&ye.parent.remove(ye),ye.parent=this,"elevation"===ye.type&&se.error(`Layer '${ye.title}, id:${ye.id}' of type '${ye.type}' is not supported as a basemap layer and will therefore be ignored.`)},ie=ye=>{ye.parent=null};this.baseLayers.on("after-add",ye=>ue(ye.item)),this.referenceLayers.on("after-add",ye=>ue(ye.item)),this.baseLayers.on("after-remove",ye=>ie(ye.item)),this.referenceLayers.on("after-remove",ye=>ie(ye.item))}initialize(){this.when().catch(q=>{se.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,q)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var ie;const q=this.baseLayers.removeAll();for(const ye of q)ye.destroy();const ue=this.referenceLayers.removeAll();for(const ye of ue)ye.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(ie=this.portalItem)||ie.destroy(),this.portalItem=null}normalizeCtorArgs(q){return q&&"resourceInfo"in q&&(this._set("resourceInfo",q.resourceInfo),delete(q=Nn({},q)).resourceInfo),q}set baseLayers(q){this._set("baseLayers",(0,G.Z)(q,this._get("baseLayers")))}_writeBaseLayers(q,ue,ie){const ye=[];q&&(ie=Wi(Nn({},ie),{layerContainerType:"basemap"}),this.baseLayers.forEach(pe=>{const Ce=(0,J.Nw)(pe,ie.webmap?ie.webmap.getLayerJSONFromResourceInfo(pe):null,ie);(0,Q.pC)(Ce)&&ye.push(Ce)}),this.referenceLayers.forEach(pe=>{const Ce=(0,J.Nw)(pe,ie.webmap?ie.webmap.getLayerJSONFromResourceInfo(pe):null,ie);(0,Q.pC)(Ce)&&(Ce.isReference=!0,ye.push(Ce))})),ue.baseMapLayers=ye}set referenceLayers(q){this._set("referenceLayers",(0,G.Z)(q,this._get("referenceLayers")))}writeTitle(q,ue){ue.title=q||"Basemap"}load(q){return this.addResolvingPromise(this._loadFromSource(q)),Promise.resolve(this)}loadAll(){return(0,N.G)(this,q=>{q(this.baseLayers,this.referenceLayers)})}clone(){const q={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(q.loadStatus="loaded"),new Y({resourceInfo:this.resourceInfo}).set(q)}read(q,ue){this.resourceInfo||this._set("resourceInfo",{data:q,context:ue}),super.read(q,ue)}write(q,ue){return q=q||{},ue&&ue.origin||(ue=Nn({origin:"web-map"},ue)),super.write(q,ue),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(q.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ie=>{const ye=(0,D.d9)(ie);return ye.url&&(0,te.oC)(ye.url)&&(ye.url=`https:${ye.url}`),ye.templateUrl&&(0,te.oC)(ye.templateUrl)&&(ye.templateUrl=`https:${ye.templateUrl}`),ye})),q}_loadFromSource(q){var ue=this;return(0,d.Z)(function*(){const{resourceInfo:ie,portalItem:ye}=ue;(0,ne.k_)(q);const pe=[];ie?(pe.push(ue._loadLayersFromJSON(ie.data,ie.context?ie.context.url:null,q)),ie.data.id&&!ie.data.title&&pe.push((0,V.g)(ie.data.id).then(Me=>{Me&&ue.read({title:Me},ie.context)}))):ye&&pe.push(ue._loadFromItem(ye,q)),yield Promise.all(pe)})()}_loadLayersFromJSON(q,ue,ie){var ye=this;return(0,d.Z)(function*(){const pe=ye.resourceInfo&&ye.resourceInfo.context,Ce=ye.portalItem&&ye.portalItem.portal||pe&&pe.portal||null,De=pe&&"web-scene"===pe.origin?"web-scene":"web-map",{populateOperationalLayers:Me}=yield Promise.all([p.e(7534),p.e(1074)]).then(p.bind(p,71074)),ve=[];if((0,ne.k_)(ie),q.baseMapLayers&&Array.isArray(q.baseMapLayers)){const Le={context:{origin:De,url:ue,portal:Ce,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},je=Me(ye.baseLayers,q.baseMapLayers.filter(Re=>!Re.isReference),Le);ve.push(je);const _e=Me(ye.referenceLayers,q.baseMapLayers.filter(Re=>Re.isReference),Le);ve.push(_e)}yield(0,ne.as)(ve)})()}_loadFromItem(q,ue){var ie=this;return(0,d.Z)(function*(){const ye=yield q.load(ue),pe=yield ye.fetchData("json",ue),Ce=(0,te.mN)(q.itemUrl);return ie._set("resourceInfo",{data:pe.baseMap,context:{origin:"web-map",portal:q.portal||U.Z.getDefault(),url:Ce}}),ie.read(ie.resourceInfo.data,ie.resourceInfo.context),ie.read({spatialReference:pe.spatialReference},ie.resourceInfo.context),ie.read({title:q.title,thumbnailUrl:q.thumbnailUrl},{origin:"portal-item",portal:q.portal||U.Z.getDefault(),url:Ce}),ie._loadLayersFromJSON(ie.resourceInfo.data,Ce,ue)})()}static fromId(q){const ue=V.s[q];if(ue){if(ue.deprecated){let ie=null;"dark-gray"===q?ie="dark-gray-vector":"gray"===q?ie="gray-vector":"streets"===q?ie="streets-vector":"topo"===q&&(ie="topo-vector"),(0,z.x9)(se,`The ${q} basemap has entered mature support and is no longer being updated.`,{replacement:ie,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return Y.fromJSON(ue)}return null}};(0,v._)([(0,ae.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(q,ue,ie,ye){this._writeBaseLayers(q,ue,ye)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:X.Z}},writer(q,ue,ie,ye){this._writeBaseLayers(q,ue,ye)}}}}}})],le.prototype,"baseLayers",null),(0,v._)([(0,ae.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],le.prototype,"id",void 0),(0,v._)([(0,ae.Cb)({type:A.default})],le.prototype,"portalItem",void 0),(0,v._)([(0,ae.Cb)()],le.prototype,"referenceLayers",null),(0,v._)([(0,ae.Cb)({readOnly:!0})],le.prototype,"resourceInfo",void 0),(0,v._)([(0,ae.Cb)({type:R.Z})],le.prototype,"spatialReference",void 0),(0,v._)([(0,ae.Cb)()],le.prototype,"thumbnailUrl",void 0),(0,v._)([(0,ae.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],le.prototype,"title",void 0),(0,v._)([(0,F.c)("title")],le.prototype,"writeTitle",null),le=Y=(0,v._)([(0,$.j)("esri.Basemap")],le);const de=le},91558:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>k});var N,B,d=p(20414),v=p(21286),X=p(62208),G=p(90912);function z(N){return(0,v.uZ)((0,G.vU)(N),0,255)}function Z(N,B,Q){return N=Number(N),isNaN(N)?Q:N<B?B:N>Q?Q:N}class D{constructor(B){this.r=255,this.g=255,this.b=255,this.a=1,B&&this.setColor(B)}static blendColors(B,Q,ne,te=new D){return te.r=Math.round(B.r+(Q.r-B.r)*ne),te.g=Math.round(B.g+(Q.g-B.g)*ne),te.b=Math.round(B.b+(Q.b-B.b)*ne),te.a=B.a+(Q.a-B.a)*ne,te._sanitize()}static fromRgb(B,Q){const ne=B.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(ne){const te=ne[2].split(/\s*,\s*/),ae=ne[1];if("rgb"===ae&&3===te.length||"rgba"===ae&&4===te.length){const re=te[0];if("%"===re.charAt(re.length-1)){const $=te.map(F=>2.56*parseFloat(F));return 4===te.length&&($[3]=parseFloat(te[3])),D.fromArray($,Q)}return D.fromArray(te.map($=>parseFloat($)),Q)}if("hsl"===ae&&3===te.length||"hsla"===ae&&4===te.length)return D.fromArray((0,d.B7)(parseFloat(te[0]),parseFloat(te[1])/100,parseFloat(te[2])/100,parseFloat(te[3])),Q)}return null}static fromHex(B,Q=new D){if(4!==B.length&&7!==B.length||"#"!==B[0])return null;const ne=4===B.length?4:8,te=(1<<ne)-1;let ae=Number("0x"+B.substr(1));return isNaN(ae)?null:(["b","g","r"].forEach(re=>{const $=ae&te;ae>>=ne,Q[re]=4===ne?17*$:$}),Q.a=1,Q)}static fromArray(B,Q=new D){return Q._set(Number(B[0]),Number(B[1]),Number(B[2]),Number(B[3])),isNaN(Q.a)&&(Q.a=1),Q._sanitize()}static fromString(B,Q){const ne=(0,d.St)(B)?(0,d.h$)(B):null;return ne&&D.fromArray(ne,Q)||D.fromRgb(B,Q)||D.fromHex(B,Q)}static fromJSON(B){return B&&new D([B[0],B[1],B[2],B[3]/255])}static toUnitRGB(B){return(0,X.pC)(B)?[B.r/255,B.g/255,B.b/255]:null}static toUnitRGBA(B){return(0,X.pC)(B)?[B.r/255,B.g/255,B.b/255,null!=B.a?B.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(B){var Q,ne,te,ae;return"string"==typeof B?D.fromString(B,this):Array.isArray(B)?D.fromArray(B,this):(this._set(null!=(Q=B.r)?Q:0,null!=(ne=B.g)?ne:0,null!=(te=B.b)?te:0,null!=(ae=B.a)?ae:1),B instanceof D||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const B=this.r.toString(16),Q=this.g.toString(16),ne=this.b.toString(16);return`#${B.length<2?"0"+B:B}${Q.length<2?"0"+Q:Q}${ne.length<2?"0"+ne:ne}`}toCss(B=!1){const Q=this.r+", "+this.g+", "+this.b;return B?`rgba(${Q}, ${this.a})`:`rgb(${Q})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(B=D.AlphaMode.ALWAYS){const Q=z(this.r),ne=z(this.g),te=z(this.b);return B===D.AlphaMode.ALWAYS||1!==this.a?[Q,ne,te,z(255*this.a)]:[Q,ne,te]}clone(){return new D(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(B){return(0,X.pC)(B)&&B.r===this.r&&B.g===this.g&&B.b===this.b&&B.a===this.a}_sanitize(){return this.r=Math.round(Z(this.r,0,255)),this.g=Math.round(Z(this.g,0,255)),this.b=Math.round(Z(this.b,0,255)),this.a=Z(this.a,0,1),this}_set(B,Q,ne,te){this.r=B,this.g=Q,this.b=ne,this.a=te}}D.prototype.declaredClass="esri.Color",(B=(N=D||(D={})).AlphaMode||(N.AlphaMode={}))[B.ALWAYS=0]="ALWAYS",B[B.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const k=D},88879:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>R});var d=p(17626),v=p(29132),X=p(73281),G=p(65787),z=p(79608),Z=p(86810),D=p(62208),k=p(86236),N=p(77712),te=(p(85931),p(8314),p(90912),p(76898)),ae=p(91179);function $(U){if(!(0,D.pC)(U))return null;const A={};for(const V in U){const J=U[V];J&&(A[V]=J.toJSON())}return 0!==Object.keys(A).length?A:null}let F=class extends((0,z.J)(Z.wq)){constructor(...U){super(...U),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,k.D)(),configurable:!0})}normalizeCtorArgs(U,A,V,J){return U&&!U.declaredClass?U:{geometry:U,symbol:A,attributes:V,popupTemplate:J}}set aggregateGeometries(U){const A=this._get("aggregateGeometries");JSON.stringify(A)!==JSON.stringify(U)&&this._set("aggregateGeometries",U)}set attributes(U){const A=this._get("attributes");A!==U&&(this._set("attributes",U),this._notifyLayer("attributes",A,U))}set geometry(U){const A=this._get("geometry");A!==U&&(this._set("geometry",U),this._notifyLayer("geometry",A,U))}set symbol(U){const A=this._get("symbol");A!==U&&(this._set("symbol",U),this._notifyLayer("symbol",A,U))}set visible(U){const A=this._get("visible");A!==U&&(this._set("visible",U),this._notifyLayer("visible",A,U))}getEffectivePopupTemplate(U=!1){if(this.popupTemplate)return this.popupTemplate;for(const A of[this.sourceLayer,this.layer])if(A){if("popupTemplate"in A&&A.popupTemplate)return A.popupTemplate;if(U&&"defaultPopupTemplate"in A&&(0,D.pC)(A.defaultPopupTemplate))return A.defaultPopupTemplate}return null}getAttribute(U){return this.attributes&&this.attributes[U]}setAttribute(U,A){if(this.attributes){const V=this.getAttribute(U);this.attributes[U]=A,this._notifyLayer("attributes",V,A,U)}else this.attributes={[U]:A},this._notifyLayer("attributes",void 0,A,U)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:$(this.aggregateGeometries),geometry:(0,D.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,D.pC)(this.symbol)?this.symbol.toJSON():null,attributes:Nn({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,D.pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(U,A,V,J){if(!this.layer||!("graphicChanged"in this.layer))return;const Y={graphic:this,property:U,oldValue:A,newValue:V};"attributes"===U&&(Y.attributeName=J),this.layer.graphicChanged(Y)}};(0,d._)([(0,N.Cb)({value:null,json:{read:function re(U){if(!U)return null;const A={};for(const V in U){const J=(0,ae.im)(U[V]);J&&(A[V]=J)}return 0!==Object.keys(A).length?A:null}}})],F.prototype,"aggregateGeometries",null),(0,d._)([(0,N.Cb)({value:null})],F.prototype,"attributes",null),(0,d._)([(0,N.Cb)({value:null,types:v.qM,json:{read:ae.im}})],F.prototype,"geometry",null),(0,d._)([(0,N.Cb)({type:Boolean})],F.prototype,"isAggregate",void 0),(0,d._)([(0,N.Cb)({clonable:"reference"})],F.prototype,"layer",void 0),(0,d._)([(0,N.Cb)({type:X.Z})],F.prototype,"popupTemplate",void 0),(0,d._)([(0,N.Cb)({clonable:"reference"})],F.prototype,"sourceLayer",void 0),(0,d._)([(0,N.Cb)({value:null,types:G.LB})],F.prototype,"symbol",null),(0,d._)([(0,N.Cb)({type:Boolean,value:!0})],F.prototype,"visible",null),F=(0,d._)([(0,te.j)("esri.Graphic")],F),(F||(F={})).generateUID=k.D;const R=F},73281:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Ke});var d=p(15861),v=p(17626),X=p(74333),G=p(86810),z=p(58817),Z=p(63290),D=p(10699),k=p(77712),N=p(66656),B=p(68653),Q=p(76898),ne=p(99433),te=p(90912),ae=p(36630),re=p(55664),$=p(55013),F=p(16615),R=p(82561),U=p(75484),A=p(64531),V=p(501);const Y={base:null,key:"type",typeMap:{attachment:re.Z,media:A.Z,text:V.Z,expression:R.Z,field:U.Z}};var q,oe=p(38439),se=p(25621);p(85931),p(8314);let ue=q=class extends G.wq{constructor(Fe){super(Fe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new q({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,v._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"returnTopmostRaster",void 0),(0,v._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],ue.prototype,"showNoDataRecords",void 0),ue=q=(0,v._)([(0,Q.j)("esri.popup.LayerOptions")],ue);const ie=ue;var pe,ye=p(51686);let Ce=pe=class extends G.wq{constructor(Fe){super(Fe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new pe({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,z.d9)(this.orderByFields):null})}};(0,v._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],Ce.prototype,"showRelatedRecords",void 0),(0,v._)([(0,k.Cb)({type:[ye.Z],json:{write:!0}})],Ce.prototype,"orderByFields",void 0),Ce=pe=(0,v._)([(0,Q.j)("esri.popup.RelatedRecordsInfo")],Ce);const De=Ce;var _e,Me=p(65560),ve=p(59397),Le=p(48753),je=p(10671);const Re=X.Z.ofType({key:"type",defaultKeyValue:"button",base:ve.Z,typeMap:{button:Le.Z,toggle:je.Z}}),nt={base:$.Z,key:"type",typeMap:{media:A.Z,custom:F.Z,text:V.Z,attachments:re.Z,fields:U.Z,expression:R.Z}},pt="esri.PopupTemplate",Ne=Z.Z.getLogger(pt),xe=["attachments","fields","media","text","expression"];let Ye=_e=class extends G.wq{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(Fe){return Array.isArray(Fe)?Fe.map(Ze=>(0,te.N7)(nt,Ze)):"string"==typeof Fe||"function"==typeof Fe||Fe instanceof HTMLElement||(0,D.y8)(Fe)?Fe:(Ne.error("content error","unsupported content value",{value:Fe}),null)}readContent(Fe,Ze){const{popupElements:ct}=Ze;return Array.isArray(ct)&&ct.length>0?this._readPopupInfoElements(Ze):this._readPopupInfo(Ze)}writeContent(Fe,Ze,ct,we){"string"!=typeof Fe?Array.isArray(Fe)&&(Ze.popupElements=Fe.filter(Be=>xe.includes(Be.type)).map(Be=>Be&&Be.toJSON(we)),Ze.popupElements.forEach(Be=>{"attachments"===Be.type?this._writeAttachmentContent(Ze):"media"===Be.type?this._writeMediaContent(Be,Ze):"text"===Be.type&&this._writeTextContent(Be,Ze)})):Ze.description=Fe}writeFieldInfos(Fe,Ze,ct,we){const{content:Be}=this,Je=Array.isArray(Be)?Be:null;if(Fe){const $e=Je?Je.filter(mt=>"fields"===mt.type):[],ot=$e.length&&$e.every(mt=>{var Tt;return null==(Tt=mt.fieldInfos)?void 0:Tt.length});Ze.fieldInfos=Fe.filter(Boolean).map(mt=>{const Tt=mt.toJSON(we);return ot&&(Tt.visible=!1),Tt})}if(Je)for(const $e of Je)"fields"===$e.type&&this._writeFieldsContent($e,Ze)}writeLayerOptions(Fe,Ze,ct,we){Ze[ct]=!Fe||null===Fe.showNoDataRecords&&null===Fe.returnTopmostRaster?null:Fe.toJSON(we)}writeTitle(Fe,Ze){Ze.title=Fe||""}clone(){const{actions:Fe}=this,Ze=Fe?(0,z.d9)(Fe.toArray()):[];return new _e({actions:Ze,content:Array.isArray(this.content)?(0,z.d9)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,z.d9)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,z.d9)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,z.d9)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,z.d9)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,z.d9)(this.relatedRecordsInfo):null})}collectRequiredFields(Fe,Ze){var ct=this;return(0,d.Z)(function*(){const we=ct.expressionInfos||[];yield ct._collectExpressionInfoFields(Fe,Ze,[...we,...ct._getContentExpressionInfos(ct.content,we)]),(0,ae.gd)(Fe,Ze,[...ct.outFields||[],...ct._getActionsFields(ct.actions),...ct._getTitleFields(ct.title),...ct._getContentFields(ct.content)])})()}getRequiredFields(Fe){var Ze=this;return(0,d.Z)(function*(){const ct=new Set;return yield Ze.collectRequiredFields(ct,Fe),[...ct].sort()})()}_writeFieldsContent(Fe,Ze){if(!Array.isArray(Fe.fieldInfos)||!Fe.fieldInfos.length)return;const ct=(0,z.d9)(Fe.fieldInfos);Array.isArray(Ze.fieldInfos)?ct.forEach(we=>{const Be=Ze.fieldInfos.find(Je=>Je.fieldName.toLowerCase()===we.fieldName.toLowerCase());Be?Be.visible=!0:Ze.fieldInfos.push(we)}):Ze.fieldInfos=ct}_writeAttachmentContent(Fe){Fe.showAttachments||(Fe.showAttachments=!0)}_writeTextContent(Fe,Ze){!Ze.description&&Fe.text&&(Ze.description=Fe.text)}_writeMediaContent(Fe,Ze){if(!Array.isArray(Fe.mediaInfos)||!Fe.mediaInfos.length)return;const ct=(0,z.d9)(Fe.mediaInfos);Ze.mediaInfos=Array.isArray(Ze.mediaInfos)?[...Ze.mediaInfos,...ct]:ct}_readPopupInfoElements({description:Fe,mediaInfos:Ze,popupElements:ct}){const we={description:!1,mediaInfos:!1};return ct.map(Be=>"media"===Be.type?(Be.mediaInfos||!Ze||we.mediaInfos||(Be.mediaInfos=Ze,we.mediaInfos=!0),A.Z.fromJSON(Be)):"text"===Be.type?(Be.text||!Fe||we.description||(Be.text=Fe,we.description=!0),V.Z.fromJSON(Be)):"attachments"===Be.type?re.Z.fromJSON(Be):"fields"===Be.type?U.Z.fromJSON(Be):"expression"===Be.type?R.Z.fromJSON(Be):void 0).filter(Boolean)}_readPopupInfo({description:Fe,mediaInfos:Ze,showAttachments:ct}){const we=[];return we.push(Fe?new V.Z({text:Fe}):new U.Z),Array.isArray(Ze)&&Ze.length&&we.push(A.Z.fromJSON({mediaInfos:Ze})),ct&&we.push(re.Z.fromJSON({displayType:"auto"})),we.length?we:Fe}_getContentElementFields(Fe){const Ze=null==Fe?void 0:Fe.type;if("attachments"===Ze)return[...this._extractFieldNames(Fe.title),...this._extractFieldNames(Fe.description)];if("custom"===Ze)return Fe.outFields||[];if("fields"===Ze)return[...this._extractFieldNames(Fe.title),...this._extractFieldNames(Fe.description),...this._getFieldInfoFields(Fe.fieldInfos||this.fieldInfos)];if("media"===Ze){const ct=Fe.mediaInfos||[];return[...this._extractFieldNames(Fe.title),...this._extractFieldNames(Fe.description),...ct.reduce((we,Be)=>[...we,...this._getMediaInfoFields(Be)],[])]}return"text"===Ze?this._extractFieldNames(Fe.text):[]}_getMediaInfoFields(Fe){const{caption:Ze,title:ct,value:we}=Fe,Be=we||{},{fields:Je=[],normalizeField:$e,tooltipField:ot,sourceURL:mt,linkURL:Tt}=Be,It=[...this._extractFieldNames(ct),...this._extractFieldNames(Ze),...this._extractFieldNames(mt),...this._extractFieldNames(Tt),...Je];return $e&&It.push($e),ot&&It.push(ot),It}_getContentExpressionInfos(Fe,Ze){return Array.isArray(Fe)?Fe.reduce((ct,we)=>[...ct,..."expression"===we.type&&we.expressionInfo?[we.expressionInfo]:[]],Ze):[]}_getContentFields(Fe){return"string"==typeof Fe?this._extractFieldNames(Fe):Array.isArray(Fe)?Fe.reduce((Ze,ct)=>[...Ze,...this._getContentElementFields(ct)],[]):[]}_collectExpressionInfoFields(Fe,Ze,ct){return(0,d.Z)(function*(){ct&&(yield Promise.all(ct.map(we=>(0,ae.io)(Fe,Ze,we.expression))))})()}_getFieldInfoFields(Fe){return Fe?Fe.filter(Ze=>void 0===Ze.visible||!!Ze.visible).map(Ze=>Ze.fieldName).filter(Ze=>!Ze.includes("relationships/")&&!Ze.includes("expression/")):[]}_getActionsFields(Fe){return Fe?Fe.toArray().reduce((Ze,ct)=>[...Ze,...this._getActionFields(ct)],[]):[]}_getActionFields(Fe){const{className:Ze,title:ct,type:we}=Fe,Be="button"===we||"toggle"===we?Fe.image:"";return[...this._extractFieldNames(ct),...this._extractFieldNames(Ze),...this._extractFieldNames(Be)]}_getTitleFields(Fe){return"string"==typeof Fe?this._extractFieldNames(Fe):[]}_extractFieldNames(Fe){if(!Fe||"string"!=typeof Fe)return[];const ct=Fe.match(/{[^}]*}/g);if(!ct)return[];const we=/\{(\w+):.+\}/,Be=ct.filter(Je=>!(0===Je.indexOf("{relationships/")||0===Je.indexOf("{expression/"))).map(Je=>Je.replace(we,"{$1}"));return Be?Be.map(Je=>Je.slice(1,-1)):[]}};(0,v._)([(0,k.Cb)({type:Re})],Ye.prototype,"actions",void 0),(0,v._)([(0,k.Cb)()],Ye.prototype,"content",void 0),(0,v._)([(0,N.p)("content")],Ye.prototype,"castContent",null),(0,v._)([(0,B.r)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Ye.prototype,"readContent",null),(0,v._)([(0,ne.c)("content",{popupElements:{type:X.Z.ofType(Y)},showAttachments:{type:Boolean},mediaInfos:{type:X.Z.ofType(Me.V)},description:{type:String}})],Ye.prototype,"writeContent",null),(0,v._)([(0,k.Cb)({type:[oe.Z],json:{write:!0}})],Ye.prototype,"expressionInfos",void 0),(0,v._)([(0,k.Cb)({type:[se.Z]})],Ye.prototype,"fieldInfos",void 0),(0,v._)([(0,ne.c)("fieldInfos")],Ye.prototype,"writeFieldInfos",null),(0,v._)([(0,k.Cb)({type:ie})],Ye.prototype,"layerOptions",void 0),(0,v._)([(0,ne.c)("layerOptions")],Ye.prototype,"writeLayerOptions",null),(0,v._)([(0,k.Cb)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ye.prototype,"lastEditInfoEnabled",void 0),(0,v._)([(0,k.Cb)()],Ye.prototype,"outFields",void 0),(0,v._)([(0,k.Cb)()],Ye.prototype,"overwriteActions",void 0),(0,v._)([(0,k.Cb)()],Ye.prototype,"returnGeometry",void 0),(0,v._)([(0,k.Cb)({json:{type:String}})],Ye.prototype,"title",void 0),(0,v._)([(0,ne.c)("title")],Ye.prototype,"writeTitle",null),(0,v._)([(0,k.Cb)({type:De,json:{write:!0}})],Ye.prototype,"relatedRecordsInfo",void 0),Ye=_e=(0,v._)([(0,Q.j)(pt)],Ye);const Ke=Ye},97478:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var ne,d=p(17626),v=p(86810),X=p(62208),G=p(28170),z=p(77712),N=(p(85931),p(8314),p(90912),p(68653)),B=p(76898),Q=p(99433);let te=ne=class extends v.wq{constructor(F){super(F),this.end=null,this.start=null}static get allTime(){return ae}static get empty(){return re}readEnd(F,R){return null!=R.end?new Date(R.end):null}writeEnd(F,R){R.end=F?F.getTime():null}get isAllTime(){return this.equals(ne.allTime)}get isEmpty(){return this.equals(ne.empty)}readStart(F,R){return null!=R.start?new Date(R.start):null}writeStart(F,R){R.start=F?F.getTime():null}clone(){return new ne({end:this.end,start:this.start})}equals(F){if(!F)return!1;const R=(0,X.pC)(this.start)?this.start.getTime():this.start,U=(0,X.pC)(this.end)?this.end.getTime():this.end,A=(0,X.pC)(F.start)?F.start.getTime():F.start,V=(0,X.pC)(F.end)?F.end.getTime():F.end;return R===A&&U===V}expandTo(F){if(this.isEmpty||this.isAllTime)return this.clone();const R=(0,X.yw)(this.start,A=>(0,G.JE)(A,F)),U=(0,X.yw)(this.end,A=>(0,G.Nm)((0,G.JE)(A,F),1,F));return new ne({start:R,end:U})}intersection(F){if(!F)return this.clone();if(this.isEmpty||F.isEmpty)return ne.empty;if(this.isAllTime)return F.clone();if(F.isAllTime)return this.clone();const R=(0,X.R2)(this.start,-1/0,oe=>oe.getTime()),U=(0,X.R2)(this.end,1/0,oe=>oe.getTime()),A=(0,X.R2)(F.start,-1/0,oe=>oe.getTime()),V=(0,X.R2)(F.end,1/0,oe=>oe.getTime());let J,Y;if(A>=R&&A<=U?J=A:R>=A&&R<=V&&(J=R),U>=A&&U<=V?Y=U:V>=R&&V<=U&&(Y=V),!isNaN(J)&&!isNaN(Y)){const oe=new ne;return oe.start=J===-1/0?null:new Date(J),oe.end=Y===1/0?null:new Date(Y),oe}return ne.empty}offset(F,R){if(this.isEmpty||this.isAllTime)return this.clone();const U=new ne,{start:A,end:V}=this;return(0,X.pC)(A)&&(U.start=(0,G.Nm)(A,F,R)),(0,X.pC)(V)&&(U.end=(0,G.Nm)(V,F,R)),U}union(F){if(!F||F.isEmpty)return this.clone();if(this.isEmpty)return F.clone();if(this.isAllTime||F.isAllTime)return ae.clone();const R=(0,X.pC)(this.start)&&(0,X.pC)(F.start)?new Date(Math.min(this.start.getTime(),F.start.getTime())):null,U=(0,X.pC)(this.end)&&(0,X.pC)(F.end)?new Date(Math.max(this.end.getTime(),F.end.getTime())):null;return new ne({start:R,end:U})}};(0,d._)([(0,z.Cb)({type:Date,json:{write:{allowNull:!0}}})],te.prototype,"end",void 0),(0,d._)([(0,N.r)("end")],te.prototype,"readEnd",null),(0,d._)([(0,Q.c)("end")],te.prototype,"writeEnd",null),(0,d._)([(0,z.Cb)({readOnly:!0,json:{read:!1}})],te.prototype,"isAllTime",null),(0,d._)([(0,z.Cb)({readOnly:!0,json:{read:!1}})],te.prototype,"isEmpty",null),(0,d._)([(0,z.Cb)({type:Date,json:{write:{allowNull:!0}}})],te.prototype,"start",void 0),(0,d._)([(0,N.r)("start")],te.prototype,"readStart",null),(0,d._)([(0,Q.c)("start")],te.prototype,"writeStart",null),te=ne=(0,d._)([(0,B.j)("esri.TimeExtent")],te);const ae=new te,re=new te({start:void 0,end:void 0}),$=te},20849:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var B,d=p(17626),v=p(86810),X=p(28170),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898)),N=p(58926);let Q=B=class extends v.wq{constructor(te){super(te),this.value=0,this.unit="milliseconds"}toMilliseconds(){return(0,X.rJ)(this.value,this.unit,"milliseconds")}clone(){return new B({value:this.value,unit:this.unit})}};(0,d._)([(0,G.Cb)({type:Number,json:{write:!0},nonNullable:!0})],Q.prototype,"value",void 0),(0,d._)([(0,G.Cb)({type:N.v.apiValues,json:{type:N.v.jsonValues,read:N.v.read,write:N.v.write},nonNullable:!0})],Q.prototype,"unit",void 0),Q=B=(0,d._)([(0,k.j)("esri.TimeInterval")],Q);const ne=Q},85807:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Y});var d=p(17626),v=p(79608),X=p(23719),G=p(86810),z=p(21286),Z=p(77712),N=(p(85931),p(8314),p(66656)),B=p(68653),Q=p(76898),ne=p(99433),te=p(90912),ae=p(49672);let re=class extends((0,v.J)(G.wq)){constructor(...oe){super(...oe),this.position=new ae.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(oe,se,le,de){if(oe&&"object"==typeof oe&&("x"in oe||Array.isArray(oe))){const q={position:oe};return null!=se&&(q.heading=se),null!=le&&(q.tilt=le),null!=de&&(q.fov=de),q}return oe}writePosition(oe,se,le,de){const q=oe.clone();q.x=(0,te.q9)(oe.x||0),q.y=(0,te.q9)(oe.y||0),q.z=oe.hasZ?(0,te.q9)(oe.z||0):oe.z,se[le]=q.write({},de)}readPosition(oe,se){const le=new ae.Z;return le.read(oe,se),le.x=(0,te.q9)(le.x||0),le.y=(0,te.q9)(le.y||0),le.z=le.hasZ?(0,te.q9)(le.z||0):le.z,le}equals(oe){return!!oe&&this.tilt===oe.tilt&&this.heading===oe.heading&&this.fov===oe.fov&&this.position.equals(oe.position)}};(0,d._)([(0,Z.Cb)({type:ae.Z,json:{write:{isRequired:!0}}})],re.prototype,"position",void 0),(0,d._)([(0,ne.c)("position")],re.prototype,"writePosition",null),(0,d._)([(0,B.r)("position")],re.prototype,"readPosition",null),(0,d._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.p)(oe=>X.BV.normalize((0,te.q9)(oe)))],re.prototype,"heading",void 0),(0,d._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.p)(oe=>(0,z.uZ)((0,te.q9)(oe),-180,180))],re.prototype,"tilt",void 0),(0,d._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],re.prototype,"fov",void 0),re=(0,d._)([(0,Q.j)("esri.Camera")],re);const $=re;var A,F=p(29132),R=p(62208),U=p(91179);let V=A=class extends G.wq{constructor(oe){super(oe),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(oe){return(oe%=360)<0&&(oe+=360),oe}clone(){return new A({rotation:this.rotation,scale:this.scale,targetGeometry:(0,R.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,R.pC)(this.camera)?this.camera.clone():null})}};function J(){return{enabled:!this.camera}}(0,d._)([(0,Z.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J}}}}})],V.prototype,"rotation",void 0),(0,d._)([(0,N.p)("rotation")],V.prototype,"castRotation",null),(0,d._)([(0,Z.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J}}}}})],V.prototype,"scale",void 0),(0,d._)([(0,Z.Cb)({types:F.qM,json:{read:U.im,write:!0,origins:{"web-scene":{read:U.im,write:{overridePolicy:J}}}}})],V.prototype,"targetGeometry",void 0),(0,d._)([(0,Z.Cb)({type:$,json:{write:!0}})],V.prototype,"camera",void 0),V=A=(0,d._)([(0,Q.j)("esri.Viewpoint")],V);const Y=V},7652:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>d});class d{constructor(X,G){this.definition=null,this.context=null,this.definition=X,this.context=G}}},98362:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>d});class d{constructor(X=[]){this._elements=X}length(){return this._elements.length}get(X){return this._elements[X]}toArray(){const X=[];for(let G=0;G<this.length();G++)X.push(this.get(G));return X}}},5371:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});var d=p(98362),v=p(26685);class X extends d.Z{constructor(z,Z,D,k,N){super(z),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=D,this._hasM=k,this._spRef=Z,this._cacheId=N}get(z){if(void 0===this._lazyPath[z]){const Z=this._elements[z];if(void 0===Z)return;this._lazyPath[z]=new v.Z(Z,this._spRef,this._hasZ,this._hasM,this._cacheId,z)}return this._lazyPath[z]}equalityTest(z){return z===this||null!==z&&z instanceof X&&z.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},26685:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});var d=p(98362),v=p(49672);class X extends d.Z{constructor(z,Z,D,k,N,B){super(z),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=Z,this._hasZ=D,this._hasM=k,this._cacheId=N,this._partId=B}get(z){if(void 0===this._lazyPt[z]){const Z=this._elements[z];if(void 0===Z)return;const D=this._hasZ,k=this._hasM;let N=null;N=D&&!k?new v.Z(Z[0],Z[1],Z[2],void 0,this._spRef):k&&!D?new v.Z(Z[0],Z[1],void 0,Z[2],this._spRef):D&&k?new v.Z(Z[0],Z[1],Z[2],Z[3],this._spRef):new v.Z(Z[0],Z[1],this._spRef),N.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+z.toString(),this._lazyPt[z]=N}return this._lazyPt[z]}equalityTest(z){return z===this||null!==z&&z instanceof X&&z.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},77132:(wt,Se,p)=>{"use strict";p.d(Se,{Bj:()=>X,EI:()=>ae,HD:()=>D,JW:()=>z,Lz:()=>$,Qk:()=>V,SV:()=>re,Sh:()=>Z,US:()=>se,dj:()=>G,hd:()=>le,hj:()=>N,q2:()=>J,tI:()=>R,tt:()=>ne,yE:()=>Y});var X,G,de,d=p(2004),v=p(36255);function z(de){return v.Z.fromJSON(de.toJSON())}function Z(de){return de.toJSON?de.toJSON():de}function D(de){return"string"==typeof de||de instanceof String}function N(de){return"number"==typeof de}function Q(de){return de instanceof Date}function ne(de,q){return de===q||!(!Q(de)||!Q(q))&&de.getTime()===q.getTime()}function ae(de){if(void 0===de)return null;if("number"==typeof de)return de;switch(de.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function re(de){if(null===de)return null;switch(de.type){case"polygon":case"multipoint":case"polyline":return de.extent;case"point":return new d.Z({xmin:de.x,ymin:de.y,xmax:de.x,ymax:de.y,spatialReference:de.spatialReference});case"extent":return de}return null}function $(de){if(void 0===de)return null;if("number"==typeof de||"number"==typeof de)return de;switch(de.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(de=X||(X={}))[de.Standardised=0]="Standardised",de[de.StandardisedNoInterval=1]="StandardisedNoInterval",de[de.SqlServer=2]="SqlServer",de[de.Oracle=3]="Oracle",de[de.Postgres=4]="Postgres",de[de.PGDB=5]="PGDB",de[de.FILEGDB=6]="FILEGDB",de[de.NotEvaluated=7]="NotEvaluated",function(de){de[de.InFeatureSet=0]="InFeatureSet",de[de.NotInFeatureSet=1]="NotInFeatureSet",de[de.Unknown=2]="Unknown"}(G||(G={}));const R=1e3,V={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},J={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},Y={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function se(de){return void 0===de?"":de=(de=(de=de.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function le(de,q){q||(q={}),"function"==typeof q&&(q={cmp:q});const ue="boolean"==typeof q.cycles&&q.cycles,ie=q.cmp&&(ye=q.cmp,function(Ce){return function(De,Me){return ye({key:De,value:Ce[De]},{key:Me,value:Ce[Me]})}});var ye;const pe=[];return function Ce(De){if(De&&De.toJSON&&"function"==typeof De.toJSON&&(De=De.toJSON()),void 0===De)return;if("number"==typeof De)return isFinite(De)?""+De:"null";if("object"!=typeof De)return JSON.stringify(De);let Me,ve;if(Array.isArray(De)){for(ve="[",Me=0;Me<De.length;Me++)Me&&(ve+=","),ve+=Ce(De[Me])||"null";return ve+"]"}if(null===De)return"null";if(pe.includes(De)){if(ue)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Le=pe.push(De)-1,je=Object.keys(De).sort(ie&&ie(De));for(ve="",Me=0;Me<je.length;Me++){const _e=je[Me],Re=Ce(De[_e]);Re&&(ve&&(ve+=","),ve+=JSON.stringify(_e)+":"+Re)}return pe.splice(Le,1),"{"+ve+"}"}(de)}},54346:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>k});var d=p(59318),X=(p(84792),p(26584)),G=p(63290),z=p(21726);const Z=G.Z.getLogger("esri.assets");function k(N){if(!d.Z.assetsPath)throw Z.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new X.Z("assets:path-not-set","config.assetsPath is not set");return(0,z.v_)(d.Z.assetsPath,N)}},71530:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>Q});var N,d=p(17626),v=p(91558),X=p(86810),G=p(58817),z=p(77712),D=(p(90912),p(76898)),k=p(60958);let B=N=class extends X.wq{constructor(){super(...arguments),this.color=new v.Z("white")}clone(){return new N({color:(0,G.d9)(this.color)})}};(0,d._)([(0,z.Cb)(k.a)],B.prototype,"color",void 0),B=N=(0,d._)([(0,D.j)("esri.symbols.callouts.LineCallout3DBorder")],B);const Q=B;Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}))},1719:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>X,c:()=>d,g:()=>v});var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(G){return G&&G.__esModule&&Object.prototype.hasOwnProperty.call(G,"default")?G.default:G}function X(G){throw new Error('Could not dynamically require "'+G+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}},39863:(wt,Se,p)=>{"use strict";p.d(Se,{E:()=>d,R:()=>v,t:()=>z});const d=1e-6,v=Math.random,X=Math.PI/180,G=180/Math.PI;function z(N){return N*X}Object.freeze(Object.defineProperty({__proto__:null,EPSILON:d,RANDOM:v,toRadian:z,toDegree:function Z(N){return N*G},equals:function D(N,B){return Math.abs(N-B)<=d*Math.max(1,Math.abs(N),Math.abs(B))}},Symbol.toStringTag,{value:"Module"}))},47562:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>Lt,A:()=>vt,B:()=>ve,C:()=>pe,D:()=>Ze,E:()=>Nt,F:()=>xe,G:()=>Zt,H:()=>Xn,I:()=>Y,J:()=>vr,K:()=>Tr,L:()=>zn,M:()=>ue,N:()=>J,O:()=>Ye,P:()=>Mn,Q:()=>Ar,R:()=>oe,S:()=>se,T:()=>Qn,U:()=>Dr,V:()=>an,W:()=>$e,X:()=>pn,Y:()=>zt,Z:()=>en,_:()=>xt,a:()=>Me,b:()=>Ce,c:()=>Wn,d:()=>Ht,e:()=>ye,f:()=>Tt,g:()=>Xe,h:()=>Je,i:()=>De,j:()=>pt,k:()=>It,l:()=>Le,m:()=>Be,n:()=>nt,o:()=>ie,p:()=>Ne,q:()=>we,r:()=>In,s:()=>je,t:()=>ot,u:()=>Hn,v:()=>le,w:()=>de,x:()=>q,y:()=>_e,z:()=>Re});var d=p(15861),v=p(7652),X=p(98362),G=p(5371),z=p(26685),Z=p(2004),D=p(21674),k=p(72854),N=p(49672),B=p(37118),Q=p(55214),ne=p(27122),te=p(62208),ae=p(75327),re=p(25748),$=p(56683),F=p(77132);class R{constructor(Bt){this.value=Bt}}class U{constructor(Bt){this.value=Bt}}class A{constructor(Bt){this.fn=Bt}}class V{constructor(Bt,wn){this.paramCount=wn,this.fn=Bt}}const J=A,Y=U,oe=R,se=V,le={type:"VOID"},de={type:"BREAK"},q={type:"CONTINUE"};function ue(Mt,Bt,wn){return""===Bt||null==Bt||Bt===wn||Bt===wn?Mt:Mt=Mt.split(Bt).join(wn)}function ie(Mt){return Mt instanceof A||Mt instanceof v.Z||Mt instanceof V}function ye(Mt){return!!(Ce(Mt)||Me(Mt)||pt(Mt)||De(Mt)||null===Mt||Mt===le||"number"==typeof Mt)}function pe(Mt,Bt){return void 0===Mt?Bt:Mt}function Ce(Mt){return"string"==typeof Mt||Mt instanceof String}function De(Mt){return"boolean"==typeof Mt}function Me(Mt){return"number"==typeof Mt}function ve(Mt){return"number"==typeof Mt&&isFinite(Mt)&&Math.floor(Mt)===Mt}function Le(Mt){return Mt instanceof Array}function je(Mt){return"esri.arcade.Feature"===(null==Mt?void 0:Mt.arcadeDeclaredClass)}function _e(Mt){return!0===(Mt&&Mt.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===Mt.declaredRootClass)}function Re(Mt){return!0===(Mt&&Mt.declaredRootClass&&"esri.arcade.featureSetCollection"===Mt.declaredRootClass)}function nt(Mt){return Mt instanceof X.Z}function pt(Mt){return Mt instanceof Date}function Ne(Mt,Bt,wn){if(Mt.length<Bt||Mt.length>wn)throw new Error("Function called with wrong number of Parameters")}function xe(Mt){return Mt<0?-Math.round(-Mt):Math.round(Mt)}function Ye(){let Mt=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Bt){const wn=(Mt+16*Math.random())%16|0;return Mt=Math.floor(Mt/16),("x"===Bt?wn:3&wn|8).toString(16)})}function Ke(Mt,Bt){return!1===isNaN(Mt)?null==Bt||""===Bt?Mt.toString():(Bt=ue(Bt,"\u2030",""),Bt=ue(Bt,"\xa4",""),(0,ae.WU)(Mt,{pattern:Bt})):Mt.toString()}function Fe(Mt,Bt){const wn=ne.ou.fromJSDate(Mt);return null==Bt||""===Bt?wn.toISO({suppressMilliseconds:!0}):wn.toFormat(Ze(Bt),{locale:(0,$.Kd)(),numberingSystem:"latn"})}function Ze(Mt){Mt=Mt.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let Bt="";const wn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const Ut of Mt.match(wn))switch(Ut){case"D":Bt+="d";break;case"DD":Bt+="dd";break;case"DDD":Bt+="o";break;case"d":Bt+="c";break;case"ddd":Bt+="ccc";break;case"dddd":Bt+="cccc";break;case"M":Bt+="L";break;case"MM":Bt+="LL";break;case"MMM":Bt+="LLL";break;case"MMMM":Bt+="LLLL";break;case"YY":Bt+="yy";break;case"Y":case"YYYY":Bt+="yyyy";break;case"Q":Bt+="q";break;case"Z":Bt+="ZZ";break;case"ZZ":Bt+="ZZZ";break;case"S":Bt+="'S'";break;case"SS":Bt+="'SS'";break;case"SSS":Bt+="u";break;case"A":case"a":Bt+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":Bt+=Ut;break;default:Ut.length>=2&&"["===Ut.slice(0,1)&&"]"===Ut.slice(-1)?Bt+=`'${Ut.slice(1,-1)}'`:Bt+=`'${Ut}'`}return Bt}function ct(Mt,Bt,wn){switch(wn){case">":return Mt>Bt;case"<":return Mt<Bt;case">=":return Mt>=Bt;case"<=":return Mt<=Bt}return!1}function we(Mt,Bt,wn){if(null===Mt){if(null===Bt||Bt===le)return ct(null,null,wn);if(Me(Bt))return ct(0,Bt,wn);if(Ce(Bt)||De(Bt))return ct(0,Tt(Bt),wn);if(pt(Bt))return ct(0,Bt.getTime(),wn)}if(Mt===le){if(null===Bt||Bt===le)return ct(null,null,wn);if(Me(Bt))return ct(0,Bt,wn);if(Ce(Bt)||De(Bt))return ct(0,Tt(Bt),wn);if(pt(Bt))return ct(0,Bt.getTime(),wn)}else if(Me(Mt)){if(Me(Bt))return ct(Mt,Bt,wn);if(De(Bt))return ct(Mt,Tt(Bt),wn);if(null===Bt||Bt===le)return ct(Mt,0,wn);if(Ce(Bt))return ct(Mt,Tt(Bt),wn);if(pt(Bt))return ct(Mt,Bt.getTime(),wn)}else if(Ce(Mt)){if(Ce(Bt))return ct(Je(Mt),Je(Bt),wn);if(pt(Bt))return ct(Tt(Mt),Bt.getTime(),wn);if(Me(Bt))return ct(Tt(Mt),Bt,wn);if(null===Bt||Bt===le)return ct(Tt(Mt),0,wn);if(De(Bt))return ct(Tt(Mt),Tt(Bt),wn)}else if(pt(Mt)){if(pt(Bt))return ct(Mt,Bt,wn);if(null===Bt||Bt===le)return ct(Mt.getTime(),0,wn);if(Me(Bt))return ct(Mt.getTime(),Bt,wn);if(De(Bt)||Ce(Bt))return ct(Mt.getTime(),Tt(Bt),wn)}else if(De(Mt)){if(De(Bt))return ct(Mt,Bt,wn);if(Me(Bt))return ct(Tt(Mt),Tt(Bt),wn);if(pt(Bt))return ct(Tt(Mt),Bt.getTime(),wn);if(null===Bt||Bt===le)return ct(Tt(Mt),0,wn);if(Ce(Bt))return ct(Tt(Mt),Tt(Bt),wn)}return!!Be(Mt,Bt)&&("<="===wn||">="===wn)}function Be(Mt,Bt){if(Mt===Bt||null===Mt&&Bt===le||null===Bt&&Mt===le)return!0;if(pt(Mt)&&pt(Bt))return Mt.getTime()===Bt.getTime();if(Mt instanceof G.Z||Mt instanceof z.Z)return Mt.equalityTest(Bt);if(Mt instanceof N.Z&&Bt instanceof N.Z){const wn=Mt.cache._arcadeCacheId,Ut=Bt.cache._arcadeCacheId;if(null!=wn)return wn===Ut}return void 0!==Mt&&void 0!==Bt&&null!==Mt&&null!==Bt&&"object"==typeof Mt&&"object"==typeof Bt&&(Mt._arcadeCacheId===Bt._arcadeCacheId&&null!=Mt._arcadeCacheId||Mt._underlyingGraphic===Bt._underlyingGraphic&&null!=Mt._underlyingGraphic)}function Je(Mt,Bt){if(Ce(Mt))return Mt;if(null===Mt)return"";if(Me(Mt))return Ke(Mt,Bt);if(De(Mt))return Mt.toString();if(pt(Mt))return Fe(Mt,Bt);if(Mt instanceof D.Z)return JSON.stringify(Mt.toJSON());if(Le(Mt)){const wn=[];for(let Ut=0;Ut<Mt.length;Ut++)wn[Ut]=mt(Mt[Ut]);return"["+wn.join(",")+"]"}if(Mt instanceof X.Z){const wn=[];for(let Ut=0;Ut<Mt.length();Ut++)wn[Ut]=mt(Mt.get(Ut));return"["+wn.join(",")+"]"}return null!==Mt&&"object"==typeof Mt&&void 0!==Mt.castToText?Mt.castToText():ie(Mt)?"object, Function":""}function $e(Mt){const Bt=[];if(!1===Le(Mt))return null;if(Mt instanceof X.Z){for(let wn=0;wn<Mt.length();wn++)Bt[wn]=Tt(Mt.get(wn));return Bt}for(let wn=0;wn<Mt.length;wn++)Bt[wn]=Tt(Mt[wn]);return Bt}function ot(Mt,Bt){if(Ce(Mt))return Mt;if(null===Mt)return"";if(Me(Mt))return Ke(Mt,Bt);if(De(Mt))return Mt.toString();if(pt(Mt))return Fe(Mt,Bt);if(Mt instanceof D.Z)return Mt instanceof Z.Z?'{"xmin":'+Mt.xmin.toString()+',"ymin":'+Mt.ymin.toString()+","+(Mt.hasZ?'"zmin":'+Mt.zmin.toString()+",":"")+(Mt.hasM?'"mmin":'+Mt.mmin.toString()+",":"")+'"xmax":'+Mt.xmax.toString()+',"ymax":'+Mt.ymax.toString()+","+(Mt.hasZ?'"zmax":'+Mt.zmax.toString()+",":"")+(Mt.hasM?'"mmax":'+Mt.mmax.toString()+",":"")+'"spatialReference":'+Dn(Mt.spatialReference)+"}":Dn(Mt.toJSON(),(wn,Ut)=>wn.key===Ut.key?0:"spatialReference"===wn.key?1:"spatialReference"===Ut.key||wn.key<Ut.key?-1:wn.key>Ut.key?1:0);if(Le(Mt)){const wn=[];for(let Ut=0;Ut<Mt.length;Ut++)wn[Ut]=mt(Mt[Ut]);return"["+wn.join(",")+"]"}if(Mt instanceof X.Z){const wn=[];for(let Ut=0;Ut<Mt.length();Ut++)wn[Ut]=mt(Mt.get(Ut));return"["+wn.join(",")+"]"}return null!==Mt&&"object"==typeof Mt&&void 0!==Mt.castToText?Mt.castToText():ie(Mt)?"object, Function":""}function mt(Mt){if(null===Mt)return"null";if(De(Mt)||Me(Mt)||Ce(Mt))return JSON.stringify(Mt);if(Mt instanceof D.Z||Mt instanceof X.Z||Mt instanceof Array)return ot(Mt);if(Mt instanceof Date)return JSON.stringify(Fe(Mt,""));if(null!==Mt&&"object"==typeof Mt){if(void 0!==Mt.castToText)return Mt.castToText()}else if(Mt===le)return"null";return"null"}function Tt(Mt,Bt){return Me(Mt)?Mt:null===Mt||""===Mt?0:pt(Mt)?NaN:De(Mt)?Mt?1:0:Le(Mt)||""===Mt||void 0===Mt?NaN:void 0!==Bt&&Ce(Mt)?(Bt=ue(Bt,"\u2030",""),Bt=ue(Bt,"\xa4",""),(0,ae.Qc)(Mt,{pattern:Bt})):Mt===le?0:Number(Mt)}function It(Mt){if(pt(Mt))return Mt;if(Ce(Mt)){const Bt=Rt(Mt);if(Bt)return Bt.toJSDate()}return null}function Nt(Mt){return pt(Mt)?ne.ou.fromJSDate(Mt):Ce(Mt)?Rt(Mt):null}function Rt(Mt){const Bt=/ (\d\d)/;let wn=ne.ou.fromISO(Mt);return wn.isValid||Bt.test(Mt)&&(Mt=Mt.replace(Bt,"T$1"),wn=ne.ou.fromISO(Mt),wn.isValid)?wn:null}function Xe(Mt){return De(Mt)?Mt:Ce(Mt)?"true"===(Mt=Mt.toLowerCase()):!!Me(Mt)&&0!==Mt&&!isNaN(Mt)}function vt(Mt,Bt){return(0,te.Wi)(Mt)?null:(null!=Mt.spatialReference||(Mt.spatialReference=Bt),Mt)}function Zt(Mt){if(null===Mt)return null;if(Mt instanceof N.Z)return"NaN"===Mt.x||null===Mt.x||isNaN(Mt.x)?null:Mt;if(Mt instanceof B.Z){if(0===Mt.rings.length)return null;for(const Bt of Mt.rings)if(Bt.length>0)return Mt;return null}if(Mt instanceof Q.Z){if(0===Mt.paths.length)return null;for(const Bt of Mt.paths)if(Bt.length>0)return Mt;return null}return Mt instanceof k.Z?0===Mt.points.length?null:Mt:Mt instanceof Z.Z?"NaN"===Mt.xmin||null===Mt.xmin||isNaN(Mt.xmin)?null:Mt:null}function xt(Mt,Bt){if(!Mt||!Mt.domain)return Bt;let wn=null;if("string"===Mt.field.type||"esriFieldTypeString"===Mt.field.type)Bt=Je(Bt);else{if(null==Bt)return null;if(""===Bt)return Bt;Bt=Tt(Bt)}for(let Ut=0;Ut<Mt.domain.codedValues.length;Ut++){const Cn=Mt.domain.codedValues[Ut];Cn.code===Bt&&(wn=Cn)}return null===wn?Bt:wn.name}function Lt(Mt,Bt){if(!Mt||!Mt.domain)return Bt;let wn=null;Bt=Je(Bt);for(let Ut=0;Ut<Mt.domain.codedValues.length;Ut++){const Cn=Mt.domain.codedValues[Ut];Cn.name===Bt&&(wn=Cn)}return null===wn?Bt:wn.code}function en(Mt,Bt,wn=null,Ut=null){if(!Bt||!Bt.fields)return null;let Cn,Bn,er=null;for(let or=0;or<Bt.fields.length;or++){const Hr=Bt.fields[or];Hr.name.toLowerCase()===Mt.toString().toLowerCase()&&(er=Hr)}if(null===er)throw new Error("Field not found");return null===Ut&&wn&&Bt.typeIdField&&(Ut=wn.hasField(Bt.typeIdField)?wn.field(Bt.typeIdField):null),null!=Ut&&Bt.types.some(function(or){return or.id===Ut&&(Cn=or.domains&&or.domains[er.name],Cn&&"inherited"===Cn.type&&(Cn=En(er.name,Bt),Bn=!0),!0)}),Bn||Cn||(Cn=En(Mt,Bt)),{field:er,domain:Cn}}function En(Mt,Bt){let wn;return Bt.fields.some(function(Ut){return Ut.name.toLowerCase()===Mt.toLowerCase()&&(wn=Ut.domain),!!wn}),wn}function Dn(Mt,Bt){Bt||(Bt={}),"function"==typeof Bt&&(Bt={cmp:Bt});const wn="boolean"==typeof Bt.cycles&&Bt.cycles,Ut=Bt.cmp&&(Cn=Bt.cmp,function(er){return function(or,Hr){return Cn({key:or,value:er[or]},{key:Hr,value:er[Hr]})}});var Cn;const Bn=[];return function er(or){if(or&&or.toJSON&&"function"==typeof or.toJSON&&(or=or.toJSON()),void 0===or)return;if("number"==typeof or)return isFinite(or)?""+or:"null";if("object"!=typeof or)return JSON.stringify(or);let Hr,wi;if(Array.isArray(or)){for(wi="[",Hr=0;Hr<or.length;Hr++)Hr&&(wi+=","),wi+=er(or[Hr])||"null";return wi+"]"}if(null===or)return"null";if(Bn.includes(or)){if(wn)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Ei=Bn.push(or)-1,kr=Object.keys(or).sort(Ut&&Ut(or));for(wi="",Hr=0;Hr<kr.length;Hr++){const Fi=kr[Hr],rs=er(or[Fi]);rs&&(wi&&(wi+=","),wi+=JSON.stringify(Fi)+":"+rs)}return Bn.splice(Ei,1),"{"+wi+"}"}(Mt)}function Xn(Mt){if(null===Mt)return null;const Bt=[];for(const wn of Mt)Bt.push(wn&&wn.arcadeDeclaredClass&&"esri.arcade.Feature"===wn.arcadeDeclaredClass?wn.geometry():wn);return Bt}function pr(Mt,Bt){if(!(Bt instanceof N.Z))throw new Error("Invalid Argument");Mt.push(Bt.hasZ?Bt.hasM?[Bt.x,Bt.y,Bt.z,Bt.m]:[Bt.x,Bt.y,Bt.z]:[Bt.x,Bt.y])}function Tr(Mt,Bt){if(Le(Mt)||nt(Mt)){let wn=!1,Ut=!1,Cn=[],Bn=Bt;if(Le(Mt)){for(const er of Mt)pr(Cn,er);Cn.length>0&&(Bn=Mt[0].spatialReference,wn=Mt[0].hasZ,Ut=Mt[0].hasM)}else if(Mt instanceof z.Z)Cn=Mt._elements,Cn.length>0&&(wn=Mt._hasZ,Ut=Mt._hasM,Bn=Mt.get(0).spatialReference);else{if(!nt(Mt))throw new Error("Invalid Argument");for(const er of Mt.toArray())pr(Cn,er);Cn.length>0&&(Bn=Mt.get(0).spatialReference,wn=!0===Mt.get(0).hasZ,Ut=!0===Mt.get(0).hasM)}return 0===Cn.length?null:(!1===(0,re.bu)(Cn,Ut,wn)&&(Cn=Cn.slice(0).reverse()),new B.Z({rings:[Cn],spatialReference:Bn,hasZ:wn,hasM:Ut}))}return Mt}function vr(Mt,Bt){if(Le(Mt)||nt(Mt)){let wn=!1,Ut=!1,Cn=[],Bn=Bt;if(Le(Mt)){for(const er of Mt)pr(Cn,er);Cn.length>0&&(Bn=Mt[0].spatialReference,wn=!0===Mt[0].hasZ,Ut=!0===Mt[0].hasM)}else if(Mt instanceof z.Z)Cn=Mt._elements,Cn.length>0&&(wn=Mt._hasZ,Ut=Mt._hasM,Bn=Mt.get(0).spatialReference);else if(nt(Mt)){for(const er of Mt.toArray())pr(Cn,er);Cn.length>0&&(Bn=Mt.get(0).spatialReference,wn=!0===Mt.get(0).hasZ,Ut=!0===Mt.get(0).hasM)}return 0===Cn.length?null:new Q.Z({paths:[Cn],spatialReference:Bn,hasZ:wn,hasM:Ut})}return Mt}function zn(Mt,Bt){if(Le(Mt)||nt(Mt)){let wn=!1,Ut=!1,Cn=[],Bn=Bt;if(Le(Mt)){for(const er of Mt)pr(Cn,er);Cn.length>0&&(Bn=Mt[0].spatialReference,wn=!0===Mt[0].hasZ,Ut=!0===Mt[0].hasM)}else if(Mt instanceof z.Z)Cn=Mt._elements,Cn.length>0&&(wn=Mt._hasZ,Ut=Mt._hasM,Bn=Mt.get(0).spatialReference);else if(nt(Mt)){for(const er of Mt.toArray())pr(Cn,er);Cn.length>0&&(Bn=Mt.get(0).spatialReference,wn=!0===Mt.get(0).hasZ,Ut=!0===Mt.get(0).hasM)}return 0===Cn.length?null:new k.Z({points:Cn,spatialReference:Bn,hasZ:wn,hasM:Ut})}return Mt}function zt(Mt,Bt=!1){const wn=[];if(null===Mt)return wn;if(!0===Le(Mt)){for(let Ut=0;Ut<Mt.length;Ut++){const Cn=Je(Mt[Ut]);""===Cn&&!0!==Bt||wn.push(Cn)}return wn}if(Mt instanceof X.Z){for(let Ut=0;Ut<Mt.length();Ut++){const Cn=Je(Mt.get(Ut));""===Cn&&!0!==Bt||wn.push(Cn)}return wn}if(ye(Mt)){const Ut=Je(Mt);return""===Ut&&!0!==Bt||wn.push(Ut),wn}return[]}let sn=0;function pn(Mt){return sn++,sn%100==0?(sn=0,new Promise(Bt=>{setTimeout(()=>{Bt(Mt)},0)})):Mt}function In(Mt,Bt,wn){switch(wn){case"&":return Mt&Bt;case"|":return Mt|Bt;case"^":return Mt^Bt;case"<<":return Mt<<Bt;case">>":return Mt>>Bt;case">>>":return Mt>>>Bt}}function Wn(Mt,Bt=null){return null==Mt?null:De(Mt)||Me(Mt)||Ce(Mt)?Mt:Mt instanceof D.Z?!0===(null==Bt?void 0:Bt.keepGeometryType)?Mt:Mt.toJSON():Mt instanceof X.Z?Mt.toArray().map(wn=>Wn(wn,Bt)):Mt instanceof Array?Mt.map(wn=>Wn(wn,Bt)):Mt instanceof Date?Mt:null!==Mt&&"object"==typeof Mt&&void 0!==Mt.castAsJson?Mt.castAsJson(Bt):null}function jn(Mt,Bt,wn,Ut,Cn){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(Mt,Bt,wn,Ut,Cn){const Bn=yield Ht(Mt,Bt,wn);Cn[Ut]=Bn})).apply(this,arguments)}function Ht(Mt){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(Mt,Bt=null,wn=null){if(Mt instanceof X.Z&&(Mt=Mt.toArray()),null==Mt)return null;if(ye(Mt)||Mt instanceof D.Z||Mt instanceof Date)return Wn(Mt,wn);if(Mt instanceof Array){const Ut=[],Cn=[];for(const Bn of Mt)null===Bn||ye(Bn)||Bn instanceof D.Z||Bn instanceof Date?Cn.push(Wn(Bn,wn)):(Cn.push(null),Ut.push(jn(Bn,Bt,wn,Cn.length-1,Cn)));return Ut.length>0&&(yield Promise.all(Ut)),Cn}return null!==Mt&&"object"==typeof Mt&&void 0!==Mt.castAsJsonAsync?Mt.castAsJsonAsync(Bt,wn):null})).apply(this,arguments)}function Qn(Mt,Bt,wn){const Ut=Mt.fullSchema();return null!==Ut&&Ut.fields?en(Bt,Ut,Mt,wn):null}function Ar(Mt){const Bt=Mt.fullSchema();return null===Bt?null:Bt.fields&&Bt.typeIdField?{subtypeField:Bt.typeIdField,subtypes:Bt.types?Bt.types.map(wn=>({name:wn.name,code:wn.id})):[]}:null}function Dr(Mt,Bt,wn,Ut){const Cn=Mt.fullSchema();if(null===Cn||!Cn.fields)return null;const Bn=en(Bt,Cn,Mt,Ut);if(void 0===wn)try{wn=Mt.field(Bt)}catch(er){return null}return xt(Bn,wn)}function an(Mt,Bt,wn,Ut){const Cn=Mt.fullSchema();if(null===Cn||!Cn.fields)return null;if(void 0===wn){try{wn=Mt.field(Bt)}catch(Bn){return null}return wn}return Lt(en(Bt,Cn,Mt,Ut),wn)}function Mn(Mt){const Bt=Mt.fullSchema();if(null===Bt||!Bt.fields)return null;const wn=[];for(const Ut of Bt.fields)wn.push((0,F.Sh)(Ut));return{objectIdField:Bt.objectIdField,globalIdField:Bt.globalIdField,geometryType:void 0===F.q2[Bt.geometryType]?"":F.q2[Bt.geometryType],fields:wn}}const Hn=Object.freeze(Object.defineProperty({__proto__:null,ReturnResultE:R,ImplicitResultE:U,NativeFunctionE:A,SizzleFunctionE:V,NativeFunction:J,ImplicitResult:Y,ReturnResult:oe,SizzleFunction:se,voidOperation:le,breakResult:de,continueResult:q,multiReplace:ue,isFunctionParameter:ie,isSimpleType:ye,defaultUndefined:pe,isString:Ce,isBoolean:De,isNumber:Me,isInteger:ve,isArray:Le,isFeature:je,isFeatureSet:_e,isFeatureSetCollection:Re,isImmutableArray:nt,isDate:pt,pcCheck:Ne,absRound:xe,generateUUID:Ye,formatNumber:Ke,formatDate:Fe,standardiseDateFormat:Ze,greaterThanLessThan:we,equalityTest:Be,toString:Je,toNumberArray:$e,toStringExplicit:ot,toNumber:Tt,toDate:It,toDateTime:Nt,toBoolean:Xe,fixSpatialReference:vt,fixNullGeometry:Zt,getDomainValue:xt,getDomainCode:Lt,getDomain:en,stableStringify:Dn,autoCastFeatureToGeometry:Xn,autoCastArrayOfPointsToPolygon:Tr,autoCastArrayOfPointsToPolyline:vr,autoCastArrayOfPointsToMultiPoint:zn,toStringArray:zt,tick:pn,binaryOperator:In,castAsJson:Wn,castAsJsonAsync:Ht,featureFullDomain:Qn,featureSubtypes:Ar,featureDomainValueLookup:Dr,featureDomainCodeLookup:an,featureSchema:Mn},Symbol.toStringTag,{value:"Module"}))},31478:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>te,b:()=>z,c:()=>Q,f:()=>ne,i:()=>X,m:()=>D,r:()=>k,s:()=>N,t:()=>B});var d=p(39863);function X(se){return se[0]=1,se[1]=0,se[2]=0,se[3]=1,se[4]=0,se[5]=0,se}function z(se,le){const de=le[0],q=le[1],ue=le[2],ie=le[3],ye=le[4],pe=le[5];let Ce=de*ie-q*ue;return Ce?(Ce=1/Ce,se[0]=ie*Ce,se[1]=-q*Ce,se[2]=-ue*Ce,se[3]=de*Ce,se[4]=(ue*pe-ie*ye)*Ce,se[5]=(q*ye-de*pe)*Ce,se):null}function D(se,le,de){const q=le[0],ue=le[1],ie=le[2],ye=le[3],pe=le[4],Ce=le[5],De=de[0],Me=de[1],ve=de[2],Le=de[3],je=de[4],_e=de[5];return se[0]=q*De+ie*Me,se[1]=ue*De+ye*Me,se[2]=q*ve+ie*Le,se[3]=ue*ve+ye*Le,se[4]=q*je+ie*_e+pe,se[5]=ue*je+ye*_e+Ce,se}function k(se,le,de){const q=le[0],ue=le[1],ie=le[2],ye=le[3],pe=le[4],Ce=le[5],De=Math.sin(de),Me=Math.cos(de);return se[0]=q*Me+ie*De,se[1]=ue*Me+ye*De,se[2]=q*-De+ie*Me,se[3]=ue*-De+ye*Me,se[4]=pe,se[5]=Ce,se}function N(se,le,de){const ue=le[1],ie=le[2],ye=le[3],pe=le[4],Ce=le[5],De=de[0],Me=de[1];return se[0]=le[0]*De,se[1]=ue*De,se[2]=ie*Me,se[3]=ye*Me,se[4]=pe,se[5]=Ce,se}function B(se,le,de){const q=le[0],ue=le[1],ie=le[2],ye=le[3],pe=le[4],Ce=le[5],De=de[0],Me=de[1];return se[0]=q,se[1]=ue,se[2]=ie,se[3]=ye,se[4]=q*De+ie*Me+pe,se[5]=ue*De+ye*Me+Ce,se}function Q(se,le){const de=Math.sin(le),q=Math.cos(le);return se[0]=q,se[1]=de,se[2]=-de,se[3]=q,se[4]=0,se[5]=0,se}function ne(se,le){return se[0]=le[0],se[1]=0,se[2]=0,se[3]=le[1],se[4]=0,se[5]=0,se}function te(se,le){return se[0]=1,se[1]=0,se[2]=0,se[3]=1,se[4]=le[0],se[5]=le[1],se}function F(se,le,de){return se[0]=le[0]-de[0],se[1]=le[1]-de[1],se[2]=le[2]-de[2],se[3]=le[3]-de[3],se[4]=le[4]-de[4],se[5]=le[5]-de[5],se}Object.freeze(Object.defineProperty({__proto__:null,copy:function v(se,le){return se[0]=le[0],se[1]=le[1],se[2]=le[2],se[3]=le[3],se[4]=le[4],se[5]=le[5],se},identity:X,set:function G(se,le,de,q,ue,ie,ye){return se[0]=le,se[1]=de,se[2]=q,se[3]=ue,se[4]=ie,se[5]=ye,se},invert:z,determinant:function Z(se){return se[0]*se[3]-se[1]*se[2]},multiply:D,rotate:k,scale:N,translate:B,fromRotation:Q,fromScaling:ne,fromTranslation:te,str:function ae(se){return"mat2d("+se[0]+", "+se[1]+", "+se[2]+", "+se[3]+", "+se[4]+", "+se[5]+")"},frob:function re(se){return Math.sqrt(se[0]**2+se[1]**2+se[2]**2+se[3]**2+se[4]**2+se[5]**2+1)},add:function $(se,le,de){return se[0]=le[0]+de[0],se[1]=le[1]+de[1],se[2]=le[2]+de[2],se[3]=le[3]+de[3],se[4]=le[4]+de[4],se[5]=le[5]+de[5],se},subtract:F,multiplyScalar:function R(se,le,de){return se[0]=le[0]*de,se[1]=le[1]*de,se[2]=le[2]*de,se[3]=le[3]*de,se[4]=le[4]*de,se[5]=le[5]*de,se},multiplyScalarAndAdd:function U(se,le,de,q){return se[0]=le[0]+de[0]*q,se[1]=le[1]+de[1]*q,se[2]=le[2]+de[2]*q,se[3]=le[3]+de[3]*q,se[4]=le[4]+de[4]*q,se[5]=le[5]+de[5]*q,se},exactEquals:function A(se,le){return se[0]===le[0]&&se[1]===le[1]&&se[2]===le[2]&&se[3]===le[3]&&se[4]===le[4]&&se[5]===le[5]},equals:function V(se,le){const de=se[0],q=se[1],ue=se[2],ie=se[3],ye=se[4],pe=se[5],Ce=le[0],De=le[1],Me=le[2],ve=le[3],Le=le[4],je=le[5];return Math.abs(de-Ce)<=d.E*Math.max(1,Math.abs(de),Math.abs(Ce))&&Math.abs(q-De)<=d.E*Math.max(1,Math.abs(q),Math.abs(De))&&Math.abs(ue-Me)<=d.E*Math.max(1,Math.abs(ue),Math.abs(Me))&&Math.abs(ie-ve)<=d.E*Math.max(1,Math.abs(ie),Math.abs(ve))&&Math.abs(ye-Le)<=d.E*Math.max(1,Math.abs(ye),Math.abs(Le))&&Math.abs(pe-je)<=d.E*Math.max(1,Math.abs(pe),Math.abs(je))},mul:D,sub:F},Symbol.toStringTag,{value:"Module"}))},12225:(wt,Se,p)=>{"use strict";function d(){const k=new Float32Array(6);return k[0]=1,k[3]=1,k}function z(k,N,B,Q){const ne=N[Q],te=N[Q+1];k[Q]=B[0]*ne+B[2]*te+B[4],k[Q+1]=B[1]*ne+B[3]*te+B[5]}function Z(k,N,B,Q=0,ne=0,te=2){const ae=ne||N.length/te;for(let re=Q;re<ae;re++)z(k,N,B,re*te)}p.d(Se,{c:()=>d,t:()=>Z}),Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(k){const N=new Float32Array(6);return N[0]=k[0],N[1]=k[1],N[2]=k[2],N[3]=k[3],N[4]=k[4],N[5]=k[5],N},fromValues:function X(k,N,B,Q,ne,te){const ae=new Float32Array(6);return ae[0]=k,ae[1]=N,ae[2]=B,ae[3]=Q,ae[4]=ne,ae[5]=te,ae},createView:function G(k,N){return new Float32Array(k,N,6)},transform:z,transformMany:Z},Symbol.toStringTag,{value:"Module"}))},46342:(wt,Se,p)=>{"use strict";function d(){return[1,0,0,1,0,0]}p.d(Se,{c:()=>d}),Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(Z){return[Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]]},fromValues:function X(Z,D,k,N,B,Q){return[Z,D,k,N,B,Q]},createView:function G(Z,D){return new Float64Array(Z,D,6)}},Symbol.toStringTag,{value:"Module"}))},30217:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>V,b:()=>z,c:()=>Q,d:()=>te,f:()=>v,h:()=>re,i:()=>ye,j:()=>ae,m:()=>B,r:()=>ne,s:()=>G,t:()=>Z});var d=p(39863);function v(Me,ve){return Me[0]=ve[0],Me[1]=ve[1],Me[2]=ve[2],Me[3]=ve[4],Me[4]=ve[5],Me[5]=ve[6],Me[6]=ve[8],Me[7]=ve[9],Me[8]=ve[10],Me}function G(Me,ve,Le,je,_e,Re,nt,pt,Ne,xe){return Me[0]=ve,Me[1]=Le,Me[2]=je,Me[3]=_e,Me[4]=Re,Me[5]=nt,Me[6]=pt,Me[7]=Ne,Me[8]=xe,Me}function z(Me){return Me[0]=1,Me[1]=0,Me[2]=0,Me[3]=0,Me[4]=1,Me[5]=0,Me[6]=0,Me[7]=0,Me[8]=1,Me}function Z(Me,ve){if(Me===ve){const Le=ve[1],je=ve[2],_e=ve[5];Me[1]=ve[3],Me[2]=ve[6],Me[3]=Le,Me[5]=ve[7],Me[6]=je,Me[7]=_e}else Me[0]=ve[0],Me[1]=ve[3],Me[2]=ve[6],Me[3]=ve[1],Me[4]=ve[4],Me[5]=ve[7],Me[6]=ve[2],Me[7]=ve[5],Me[8]=ve[8];return Me}function B(Me,ve,Le){const je=ve[0],_e=ve[1],Re=ve[2],nt=ve[3],pt=ve[4],Ne=ve[5],xe=ve[6],Ye=ve[7],Ke=ve[8],Fe=Le[0],Ze=Le[1],ct=Le[2],we=Le[3],Be=Le[4],Je=Le[5],$e=Le[6],ot=Le[7],mt=Le[8];return Me[0]=Fe*je+Ze*nt+ct*xe,Me[1]=Fe*_e+Ze*pt+ct*Ye,Me[2]=Fe*Re+Ze*Ne+ct*Ke,Me[3]=we*je+Be*nt+Je*xe,Me[4]=we*_e+Be*pt+Je*Ye,Me[5]=we*Re+Be*Ne+Je*Ke,Me[6]=$e*je+ot*nt+mt*xe,Me[7]=$e*_e+ot*pt+mt*Ye,Me[8]=$e*Re+ot*Ne+mt*Ke,Me}function Q(Me,ve,Le){const je=ve[0],_e=ve[1],Re=ve[2],nt=ve[3],pt=ve[4],Ne=ve[5],xe=ve[6],Ye=ve[7],Ke=ve[8],Fe=Le[0],Ze=Le[1];return Me[0]=je,Me[1]=_e,Me[2]=Re,Me[3]=nt,Me[4]=pt,Me[5]=Ne,Me[6]=Fe*je+Ze*nt+xe,Me[7]=Fe*_e+Ze*pt+Ye,Me[8]=Fe*Re+Ze*Ne+Ke,Me}function ne(Me,ve,Le){const je=ve[0],_e=ve[1],Re=ve[2],nt=ve[3],pt=ve[4],Ne=ve[5],xe=ve[6],Ye=ve[7],Ke=ve[8],Fe=Math.sin(Le),Ze=Math.cos(Le);return Me[0]=Ze*je+Fe*nt,Me[1]=Ze*_e+Fe*pt,Me[2]=Ze*Re+Fe*Ne,Me[3]=Ze*nt-Fe*je,Me[4]=Ze*pt-Fe*_e,Me[5]=Ze*Ne-Fe*Re,Me[6]=xe,Me[7]=Ye,Me[8]=Ke,Me}function te(Me,ve,Le){const je=Le[0],_e=Le[1],Re=Le[2];return Me[0]=je*ve[0],Me[1]=je*ve[1],Me[2]=je*ve[2],Me[3]=_e*ve[3],Me[4]=_e*ve[4],Me[5]=_e*ve[5],Me[6]=Re*ve[6],Me[7]=Re*ve[7],Me[8]=Re*ve[8],Me}function ae(Me,ve,Le){const je=Le[0],_e=Le[1];return Me[0]=je*ve[0],Me[1]=je*ve[1],Me[2]=je*ve[2],Me[3]=_e*ve[3],Me[4]=_e*ve[4],Me[5]=_e*ve[5],Me}function re(Me,ve){return Me[0]=1,Me[1]=0,Me[2]=0,Me[3]=0,Me[4]=1,Me[5]=0,Me[6]=ve[0],Me[7]=ve[1],Me[8]=1,Me}function V(Me,ve){const Le=ve[0],je=ve[1],_e=ve[2],Re=ve[3],nt=ve[4],pt=ve[5],Ne=ve[6],xe=ve[7],Ye=ve[8],Ke=ve[9],Fe=ve[10],Ze=ve[11],ct=ve[12],we=ve[13],Be=ve[14],Je=ve[15],$e=Le*pt-je*nt,ot=Le*Ne-_e*nt,mt=Le*xe-Re*nt,Tt=je*Ne-_e*pt,It=je*xe-Re*pt,Nt=_e*xe-Re*Ne,Rt=Ye*we-Ke*ct,Xe=Ye*Be-Fe*ct,vt=Ye*Je-Ze*ct,Zt=Ke*Be-Fe*we,xt=Ke*Je-Ze*we,Lt=Fe*Je-Ze*Be;let en=$e*Lt-ot*xt+mt*Zt+Tt*vt-It*Xe+Nt*Rt;return en?(en=1/en,Me[0]=(pt*Lt-Ne*xt+xe*Zt)*en,Me[1]=(Ne*vt-nt*Lt-xe*Xe)*en,Me[2]=(nt*xt-pt*vt+xe*Rt)*en,Me[3]=(_e*xt-je*Lt-Re*Zt)*en,Me[4]=(Le*Lt-_e*vt+Re*Xe)*en,Me[5]=(je*vt-Le*xt-Re*Rt)*en,Me[6]=(we*Nt-Be*It+Je*Tt)*en,Me[7]=(Be*mt-ct*Nt-Je*ot)*en,Me[8]=(ct*It-we*mt+Je*$e)*en,Me):null}function le(Me,ve,Le){return Me[0]=ve[0]-Le[0],Me[1]=ve[1]-Le[1],Me[2]=ve[2]-Le[2],Me[3]=ve[3]-Le[3],Me[4]=ve[4]-Le[4],Me[5]=ve[5]-Le[5],Me[6]=ve[6]-Le[6],Me[7]=ve[7]-Le[7],Me[8]=ve[8]-Le[8],Me}function ye(Me){const ve=d.E,Le=Me[0],je=Me[1],_e=Me[2],Re=Me[3],nt=Me[4],pt=Me[5],Ne=Me[6],xe=Me[7],Ye=Me[8];return Math.abs(1-(Le*Le+Re*Re+Ne*Ne))<=ve&&Math.abs(1-(je*je+nt*nt+xe*xe))<=ve&&Math.abs(1-(_e*_e+pt*pt+Ye*Ye))<=ve}Object.freeze(Object.defineProperty({__proto__:null,fromMat4:v,copy:function X(Me,ve){return Me[0]=ve[0],Me[1]=ve[1],Me[2]=ve[2],Me[3]=ve[3],Me[4]=ve[4],Me[5]=ve[5],Me[6]=ve[6],Me[7]=ve[7],Me[8]=ve[8],Me},set:G,identity:z,transpose:Z,invert:function D(Me,ve){const Le=ve[0],je=ve[1],_e=ve[2],Re=ve[3],nt=ve[4],pt=ve[5],Ne=ve[6],xe=ve[7],Ye=ve[8],Ke=Ye*nt-pt*xe,Fe=-Ye*Re+pt*Ne,Ze=xe*Re-nt*Ne;let ct=Le*Ke+je*Fe+_e*Ze;return ct?(ct=1/ct,Me[0]=Ke*ct,Me[1]=(-Ye*je+_e*xe)*ct,Me[2]=(pt*je-_e*nt)*ct,Me[3]=Fe*ct,Me[4]=(Ye*Le-_e*Ne)*ct,Me[5]=(-pt*Le+_e*Re)*ct,Me[6]=Ze*ct,Me[7]=(-xe*Le+je*Ne)*ct,Me[8]=(nt*Le-je*Re)*ct,Me):null},adjoint:function k(Me,ve){const Le=ve[0],je=ve[1],_e=ve[2],Re=ve[3],nt=ve[4],pt=ve[5],Ne=ve[6],xe=ve[7],Ye=ve[8];return Me[0]=nt*Ye-pt*xe,Me[1]=_e*xe-je*Ye,Me[2]=je*pt-_e*nt,Me[3]=pt*Ne-Re*Ye,Me[4]=Le*Ye-_e*Ne,Me[5]=_e*Re-Le*pt,Me[6]=Re*xe-nt*Ne,Me[7]=je*Ne-Le*xe,Me[8]=Le*nt-je*Re,Me},determinant:function N(Me){const _e=Me[3],Re=Me[4],nt=Me[5],pt=Me[6],Ne=Me[7],xe=Me[8];return Me[0]*(xe*Re-nt*Ne)+Me[1]*(-xe*_e+nt*pt)+Me[2]*(Ne*_e-Re*pt)},multiply:B,translate:Q,rotate:ne,scale:te,scaleByVec2:ae,fromTranslation:re,fromRotation:function $(Me,ve){const Le=Math.sin(ve),je=Math.cos(ve);return Me[0]=je,Me[1]=Le,Me[2]=0,Me[3]=-Le,Me[4]=je,Me[5]=0,Me[6]=0,Me[7]=0,Me[8]=1,Me},fromScaling:function F(Me,ve){return Me[0]=ve[0],Me[1]=0,Me[2]=0,Me[3]=0,Me[4]=ve[1],Me[5]=0,Me[6]=0,Me[7]=0,Me[8]=1,Me},fromMat2d:function R(Me,ve){return Me[0]=ve[0],Me[1]=ve[1],Me[2]=0,Me[3]=ve[2],Me[4]=ve[3],Me[5]=0,Me[6]=ve[4],Me[7]=ve[5],Me[8]=1,Me},fromQuat:function U(Me,ve){const Le=ve[0],je=ve[1],_e=ve[2],Re=ve[3],nt=Le+Le,pt=je+je,Ne=_e+_e,xe=Le*nt,Ye=je*nt,Ke=je*pt,Fe=_e*nt,Ze=_e*pt,ct=_e*Ne,we=Re*nt,Be=Re*pt,Je=Re*Ne;return Me[0]=1-Ke-ct,Me[3]=Ye-Je,Me[6]=Fe+Be,Me[1]=Ye+Je,Me[4]=1-xe-ct,Me[7]=Ze-we,Me[2]=Fe-Be,Me[5]=Ze+we,Me[8]=1-xe-Ke,Me},normalFromMat4Legacy:function A(Me,ve){const Le=ve[0],je=ve[1],_e=ve[2],Re=ve[4],nt=ve[5],pt=ve[6],Ne=ve[8],xe=ve[9],Ye=ve[10],Ke=Ye*nt-pt*xe,Fe=-Ye*Re+pt*Ne,Ze=xe*Re-nt*Ne,ct=Le*Ke+je*Fe+_e*Ze;if(!ct)return null;const we=1/ct;return Me[0]=Ke*we,Me[1]=(-Ye*je+_e*xe)*we,Me[2]=(pt*je-_e*nt)*we,Me[3]=Fe*we,Me[4]=(Ye*Le-_e*Ne)*we,Me[5]=(-pt*Le+_e*Re)*we,Me[6]=Ze*we,Me[7]=(-xe*Le+je*Ne)*we,Me[8]=(nt*Le-je*Re)*we,Me},normalFromMat4:V,projection:function J(Me,ve,Le){return Me[0]=2/ve,Me[1]=0,Me[2]=0,Me[3]=0,Me[4]=-2/Le,Me[5]=0,Me[6]=-1,Me[7]=1,Me[8]=1,Me},str:function Y(Me){return"mat3("+Me[0]+", "+Me[1]+", "+Me[2]+", "+Me[3]+", "+Me[4]+", "+Me[5]+", "+Me[6]+", "+Me[7]+", "+Me[8]+")"},frob:function oe(Me){return Math.sqrt(Me[0]**2+Me[1]**2+Me[2]**2+Me[3]**2+Me[4]**2+Me[5]**2+Me[6]**2+Me[7]**2+Me[8]**2)},add:function se(Me,ve,Le){return Me[0]=ve[0]+Le[0],Me[1]=ve[1]+Le[1],Me[2]=ve[2]+Le[2],Me[3]=ve[3]+Le[3],Me[4]=ve[4]+Le[4],Me[5]=ve[5]+Le[5],Me[6]=ve[6]+Le[6],Me[7]=ve[7]+Le[7],Me[8]=ve[8]+Le[8],Me},subtract:le,multiplyScalar:function de(Me,ve,Le){return Me[0]=ve[0]*Le,Me[1]=ve[1]*Le,Me[2]=ve[2]*Le,Me[3]=ve[3]*Le,Me[4]=ve[4]*Le,Me[5]=ve[5]*Le,Me[6]=ve[6]*Le,Me[7]=ve[7]*Le,Me[8]=ve[8]*Le,Me},multiplyScalarAndAdd:function q(Me,ve,Le,je){return Me[0]=ve[0]+Le[0]*je,Me[1]=ve[1]+Le[1]*je,Me[2]=ve[2]+Le[2]*je,Me[3]=ve[3]+Le[3]*je,Me[4]=ve[4]+Le[4]*je,Me[5]=ve[5]+Le[5]*je,Me[6]=ve[6]+Le[6]*je,Me[7]=ve[7]+Le[7]*je,Me[8]=ve[8]+Le[8]*je,Me},exactEquals:function ue(Me,ve){return Me[0]===ve[0]&&Me[1]===ve[1]&&Me[2]===ve[2]&&Me[3]===ve[3]&&Me[4]===ve[4]&&Me[5]===ve[5]&&Me[6]===ve[6]&&Me[7]===ve[7]&&Me[8]===ve[8]},equals:function ie(Me,ve){const Le=Me[0],je=Me[1],_e=Me[2],Re=Me[3],nt=Me[4],pt=Me[5],Ne=Me[6],xe=Me[7],Ye=Me[8],Ke=ve[0],Fe=ve[1],Ze=ve[2],ct=ve[3],we=ve[4],Be=ve[5],Je=ve[6],$e=ve[7],ot=ve[8];return Math.abs(Le-Ke)<=d.E*Math.max(1,Math.abs(Le),Math.abs(Ke))&&Math.abs(je-Fe)<=d.E*Math.max(1,Math.abs(je),Math.abs(Fe))&&Math.abs(_e-Ze)<=d.E*Math.max(1,Math.abs(_e),Math.abs(Ze))&&Math.abs(Re-ct)<=d.E*Math.max(1,Math.abs(Re),Math.abs(ct))&&Math.abs(nt-we)<=d.E*Math.max(1,Math.abs(nt),Math.abs(we))&&Math.abs(pt-Be)<=d.E*Math.max(1,Math.abs(pt),Math.abs(Be))&&Math.abs(Ne-Je)<=d.E*Math.max(1,Math.abs(Ne),Math.abs(Je))&&Math.abs(xe-$e)<=d.E*Math.max(1,Math.abs(xe),Math.abs($e))&&Math.abs(Ye-ot)<=d.E*Math.max(1,Math.abs(Ye),Math.abs(ot))},isOrthoNormal:ye,mul:B,sub:le},Symbol.toStringTag,{value:"Module"}))},49966:(wt,Se,p)=>{"use strict";function d(){const Z=new Float32Array(9);return Z[0]=1,Z[4]=1,Z[8]=1,Z}function v(Z){const D=new Float32Array(9);return D[0]=Z[0],D[1]=Z[1],D[2]=Z[2],D[3]=Z[3],D[4]=Z[4],D[5]=Z[5],D[6]=Z[6],D[7]=Z[7],D[8]=Z[8],D}p.d(Se,{a:()=>v,c:()=>d}),Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:v,fromValues:function X(Z,D,k,N,B,Q,ne,te,ae){const re=new Float32Array(9);return re[0]=Z,re[1]=D,re[2]=k,re[3]=N,re[4]=B,re[5]=Q,re[6]=ne,re[7]=te,re[8]=ae,re},createView:function G(Z,D){return new Float32Array(Z,D,9)}},Symbol.toStringTag,{value:"Module"}))},28347:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>D,d:()=>U,e:()=>te,f:()=>F,h:()=>ne,i:()=>z,j:()=>Q,m:()=>B,p:()=>Ke,s:()=>G,t:()=>Z,u:()=>R,v:()=>Ye,w:()=>xe,z:()=>A});var d=p(28093),v=p(39863);function G(we,Be,Je,$e,ot,mt,Tt,It,Nt,Rt,Xe,vt,Zt,xt,Lt,en,En){return we[0]=Be,we[1]=Je,we[2]=$e,we[3]=ot,we[4]=mt,we[5]=Tt,we[6]=It,we[7]=Nt,we[8]=Rt,we[9]=Xe,we[10]=vt,we[11]=Zt,we[12]=xt,we[13]=Lt,we[14]=en,we[15]=En,we}function z(we){return we[0]=1,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=1,we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[10]=1,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we}function Z(we,Be){if(we===Be){const Je=Be[1],$e=Be[2],ot=Be[3],mt=Be[6],Tt=Be[7],It=Be[11];we[1]=Be[4],we[2]=Be[8],we[3]=Be[12],we[4]=Je,we[6]=Be[9],we[7]=Be[13],we[8]=$e,we[9]=mt,we[11]=Be[14],we[12]=ot,we[13]=Tt,we[14]=It}else we[0]=Be[0],we[1]=Be[4],we[2]=Be[8],we[3]=Be[12],we[4]=Be[1],we[5]=Be[5],we[6]=Be[9],we[7]=Be[13],we[8]=Be[2],we[9]=Be[6],we[10]=Be[10],we[11]=Be[14],we[12]=Be[3],we[13]=Be[7],we[14]=Be[11],we[15]=Be[15];return we}function D(we,Be){const Je=Be[0],$e=Be[1],ot=Be[2],mt=Be[3],Tt=Be[4],It=Be[5],Nt=Be[6],Rt=Be[7],Xe=Be[8],vt=Be[9],Zt=Be[10],xt=Be[11],Lt=Be[12],en=Be[13],En=Be[14],Dn=Be[15],Xn=Je*It-$e*Tt,pr=Je*Nt-ot*Tt,Tr=Je*Rt-mt*Tt,vr=$e*Nt-ot*It,zn=$e*Rt-mt*It,zt=ot*Rt-mt*Nt,sn=Xe*en-vt*Lt,pn=Xe*En-Zt*Lt,In=Xe*Dn-xt*Lt,Wn=vt*En-Zt*en,jn=vt*Dn-xt*en,$n=Zt*Dn-xt*En;let Ht=Xn*$n-pr*jn+Tr*Wn+vr*In-zn*pn+zt*sn;return Ht?(Ht=1/Ht,we[0]=(It*$n-Nt*jn+Rt*Wn)*Ht,we[1]=(ot*jn-$e*$n-mt*Wn)*Ht,we[2]=(en*zt-En*zn+Dn*vr)*Ht,we[3]=(Zt*zn-vt*zt-xt*vr)*Ht,we[4]=(Nt*In-Tt*$n-Rt*pn)*Ht,we[5]=(Je*$n-ot*In+mt*pn)*Ht,we[6]=(En*Tr-Lt*zt-Dn*pr)*Ht,we[7]=(Xe*zt-Zt*Tr+xt*pr)*Ht,we[8]=(Tt*jn-It*In+Rt*sn)*Ht,we[9]=($e*In-Je*jn-mt*sn)*Ht,we[10]=(Lt*zn-en*Tr+Dn*Xn)*Ht,we[11]=(vt*Tr-Xe*zn-xt*Xn)*Ht,we[12]=(It*pn-Tt*Wn-Nt*sn)*Ht,we[13]=(Je*Wn-$e*pn+ot*sn)*Ht,we[14]=(en*pr-Lt*vr-En*Xn)*Ht,we[15]=(Xe*vr-vt*pr+Zt*Xn)*Ht,we):null}function B(we,Be,Je){const $e=Be[0],ot=Be[1],mt=Be[2],Tt=Be[3],It=Be[4],Nt=Be[5],Rt=Be[6],Xe=Be[7],vt=Be[8],Zt=Be[9],xt=Be[10],Lt=Be[11],en=Be[12],En=Be[13],Dn=Be[14],Xn=Be[15];let pr=Je[0],Tr=Je[1],vr=Je[2],zn=Je[3];return we[0]=pr*$e+Tr*It+vr*vt+zn*en,we[1]=pr*ot+Tr*Nt+vr*Zt+zn*En,we[2]=pr*mt+Tr*Rt+vr*xt+zn*Dn,we[3]=pr*Tt+Tr*Xe+vr*Lt+zn*Xn,pr=Je[4],Tr=Je[5],vr=Je[6],zn=Je[7],we[4]=pr*$e+Tr*It+vr*vt+zn*en,we[5]=pr*ot+Tr*Nt+vr*Zt+zn*En,we[6]=pr*mt+Tr*Rt+vr*xt+zn*Dn,we[7]=pr*Tt+Tr*Xe+vr*Lt+zn*Xn,pr=Je[8],Tr=Je[9],vr=Je[10],zn=Je[11],we[8]=pr*$e+Tr*It+vr*vt+zn*en,we[9]=pr*ot+Tr*Nt+vr*Zt+zn*En,we[10]=pr*mt+Tr*Rt+vr*xt+zn*Dn,we[11]=pr*Tt+Tr*Xe+vr*Lt+zn*Xn,pr=Je[12],Tr=Je[13],vr=Je[14],zn=Je[15],we[12]=pr*$e+Tr*It+vr*vt+zn*en,we[13]=pr*ot+Tr*Nt+vr*Zt+zn*En,we[14]=pr*mt+Tr*Rt+vr*xt+zn*Dn,we[15]=pr*Tt+Tr*Xe+vr*Lt+zn*Xn,we}function Q(we,Be,Je){const $e=Je[0],ot=Je[1],mt=Je[2];if(Be===we)we[12]=Be[0]*$e+Be[4]*ot+Be[8]*mt+Be[12],we[13]=Be[1]*$e+Be[5]*ot+Be[9]*mt+Be[13],we[14]=Be[2]*$e+Be[6]*ot+Be[10]*mt+Be[14],we[15]=Be[3]*$e+Be[7]*ot+Be[11]*mt+Be[15];else{const Tt=Be[0],It=Be[1],Nt=Be[2],Rt=Be[3],Xe=Be[4],vt=Be[5],Zt=Be[6],xt=Be[7],Lt=Be[8],en=Be[9],En=Be[10],Dn=Be[11];we[0]=Tt,we[1]=It,we[2]=Nt,we[3]=Rt,we[4]=Xe,we[5]=vt,we[6]=Zt,we[7]=xt,we[8]=Lt,we[9]=en,we[10]=En,we[11]=Dn,we[12]=Tt*$e+Xe*ot+Lt*mt+Be[12],we[13]=It*$e+vt*ot+en*mt+Be[13],we[14]=Nt*$e+Zt*ot+En*mt+Be[14],we[15]=Rt*$e+xt*ot+Dn*mt+Be[15]}return we}function ne(we,Be,Je){const $e=Je[0],ot=Je[1],mt=Je[2];return we[0]=Be[0]*$e,we[1]=Be[1]*$e,we[2]=Be[2]*$e,we[3]=Be[3]*$e,we[4]=Be[4]*ot,we[5]=Be[5]*ot,we[6]=Be[6]*ot,we[7]=Be[7]*ot,we[8]=Be[8]*mt,we[9]=Be[9]*mt,we[10]=Be[10]*mt,we[11]=Be[11]*mt,we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15],we}function te(we,Be,Je,$e){let ot,mt,Tt,It,Nt,Rt,Xe,vt,Zt,xt,Lt,en,En,Dn,Xn,pr,Tr,vr,zn,zt,sn,pn,In,Wn,jn=$e[0],$n=$e[1],Ht=$e[2],ir=Math.sqrt(jn*jn+$n*$n+Ht*Ht);return ir<v.E?null:(ir=1/ir,jn*=ir,$n*=ir,Ht*=ir,ot=Math.sin(Je),mt=Math.cos(Je),Tt=1-mt,It=Be[0],Nt=Be[1],Rt=Be[2],Xe=Be[3],vt=Be[4],Zt=Be[5],xt=Be[6],Lt=Be[7],en=Be[8],En=Be[9],Dn=Be[10],Xn=Be[11],pr=jn*jn*Tt+mt,Tr=$n*jn*Tt+Ht*ot,vr=Ht*jn*Tt-$n*ot,zn=jn*$n*Tt-Ht*ot,zt=$n*$n*Tt+mt,sn=Ht*$n*Tt+jn*ot,pn=jn*Ht*Tt+$n*ot,In=$n*Ht*Tt-jn*ot,Wn=Ht*Ht*Tt+mt,we[0]=It*pr+vt*Tr+en*vr,we[1]=Nt*pr+Zt*Tr+En*vr,we[2]=Rt*pr+xt*Tr+Dn*vr,we[3]=Xe*pr+Lt*Tr+Xn*vr,we[4]=It*zn+vt*zt+en*sn,we[5]=Nt*zn+Zt*zt+En*sn,we[6]=Rt*zn+xt*zt+Dn*sn,we[7]=Xe*zn+Lt*zt+Xn*sn,we[8]=It*pn+vt*In+en*Wn,we[9]=Nt*pn+Zt*In+En*Wn,we[10]=Rt*pn+xt*In+Dn*Wn,we[11]=Xe*pn+Lt*In+Xn*Wn,Be!==we&&(we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15]),we)}function F(we,Be){return we[0]=1,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=1,we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[10]=1,we[11]=0,we[12]=Be[0],we[13]=Be[1],we[14]=Be[2],we[15]=1,we}function R(we,Be){return we[0]=Be[0],we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=Be[1],we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[10]=Be[2],we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we}function U(we,Be,Je){let $e,ot,mt,Tt=Je[0],It=Je[1],Nt=Je[2],Rt=Math.sqrt(Tt*Tt+It*It+Nt*Nt);return Rt<v.E?null:(Rt=1/Rt,Tt*=Rt,It*=Rt,Nt*=Rt,$e=Math.sin(Be),ot=Math.cos(Be),mt=1-ot,we[0]=Tt*Tt*mt+ot,we[1]=It*Tt*mt+Nt*$e,we[2]=Nt*Tt*mt-It*$e,we[3]=0,we[4]=Tt*It*mt-Nt*$e,we[5]=It*It*mt+ot,we[6]=Nt*It*mt+Tt*$e,we[7]=0,we[8]=Tt*Nt*mt+It*$e,we[9]=It*Nt*mt-Tt*$e,we[10]=Nt*Nt*mt+ot,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we)}function A(we,Be){const Je=Math.sin(Be),$e=Math.cos(Be);return we[0]=1,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=$e,we[6]=Je,we[7]=0,we[8]=0,we[9]=-Je,we[10]=$e,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we}function Y(we,Be,Je){const $e=Be[0],ot=Be[1],mt=Be[2],Tt=Be[3],It=$e+$e,Nt=ot+ot,Rt=mt+mt,Xe=$e*It,vt=$e*Nt,Zt=$e*Rt,xt=ot*Nt,Lt=ot*Rt,en=mt*Rt,En=Tt*It,Dn=Tt*Nt,Xn=Tt*Rt;return we[0]=1-(xt+en),we[1]=vt+Xn,we[2]=Zt-Dn,we[3]=0,we[4]=vt-Xn,we[5]=1-(Xe+en),we[6]=Lt+En,we[7]=0,we[8]=Zt+Dn,we[9]=Lt-En,we[10]=1-(Xe+xt),we[11]=0,we[12]=Je[0],we[13]=Je[1],we[14]=Je[2],we[15]=1,we}const se=(0,d.c)();function nt(we,Be,Je){return we[0]=Be[0]-Je[0],we[1]=Be[1]-Je[1],we[2]=Be[2]-Je[2],we[3]=Be[3]-Je[3],we[4]=Be[4]-Je[4],we[5]=Be[5]-Je[5],we[6]=Be[6]-Je[6],we[7]=Be[7]-Je[7],we[8]=Be[8]-Je[8],we[9]=Be[9]-Je[9],we[10]=Be[10]-Je[10],we[11]=Be[11]-Je[11],we[12]=Be[12]-Je[12],we[13]=Be[13]-Je[13],we[14]=Be[14]-Je[14],we[15]=Be[15]-Je[15],we}function xe(we,Be){return we[0]===Be[0]&&we[1]===Be[1]&&we[2]===Be[2]&&we[3]===Be[3]&&we[4]===Be[4]&&we[5]===Be[5]&&we[6]===Be[6]&&we[7]===Be[7]&&we[8]===Be[8]&&we[9]===Be[9]&&we[10]===Be[10]&&we[11]===Be[11]&&we[12]===Be[12]&&we[13]===Be[13]&&we[14]===Be[14]&&we[15]===Be[15]}function Ye(we,Be){if(we===Be)return!0;const Je=we[0],$e=we[1],ot=we[2],mt=we[3],Tt=we[4],It=we[5],Nt=we[6],Rt=we[7],Xe=we[8],vt=we[9],Zt=we[10],xt=we[11],Lt=we[12],en=we[13],En=we[14],Dn=we[15],Xn=Be[0],pr=Be[1],Tr=Be[2],vr=Be[3],zn=Be[4],zt=Be[5],sn=Be[6],pn=Be[7],In=Be[8],Wn=Be[9],jn=Be[10],$n=Be[11],Ht=Be[12],ir=Be[13],Qn=Be[14],Ar=Be[15];return Math.abs(Je-Xn)<=v.E*Math.max(1,Math.abs(Je),Math.abs(Xn))&&Math.abs($e-pr)<=v.E*Math.max(1,Math.abs($e),Math.abs(pr))&&Math.abs(ot-Tr)<=v.E*Math.max(1,Math.abs(ot),Math.abs(Tr))&&Math.abs(mt-vr)<=v.E*Math.max(1,Math.abs(mt),Math.abs(vr))&&Math.abs(Tt-zn)<=v.E*Math.max(1,Math.abs(Tt),Math.abs(zn))&&Math.abs(It-zt)<=v.E*Math.max(1,Math.abs(It),Math.abs(zt))&&Math.abs(Nt-sn)<=v.E*Math.max(1,Math.abs(Nt),Math.abs(sn))&&Math.abs(Rt-pn)<=v.E*Math.max(1,Math.abs(Rt),Math.abs(pn))&&Math.abs(Xe-In)<=v.E*Math.max(1,Math.abs(Xe),Math.abs(In))&&Math.abs(vt-Wn)<=v.E*Math.max(1,Math.abs(vt),Math.abs(Wn))&&Math.abs(Zt-jn)<=v.E*Math.max(1,Math.abs(Zt),Math.abs(jn))&&Math.abs(xt-$n)<=v.E*Math.max(1,Math.abs(xt),Math.abs($n))&&Math.abs(Lt-Ht)<=v.E*Math.max(1,Math.abs(Lt),Math.abs(Ht))&&Math.abs(en-ir)<=v.E*Math.max(1,Math.abs(en),Math.abs(ir))&&Math.abs(En-Qn)<=v.E*Math.max(1,Math.abs(En),Math.abs(Qn))&&Math.abs(Dn-Ar)<=v.E*Math.max(1,Math.abs(Dn),Math.abs(Ar))}function Ke(we){const Be=v.E,Je=we[0],$e=we[1],ot=we[2],mt=we[4],Tt=we[5],It=we[6],Nt=we[8],Rt=we[9],Xe=we[10];return Math.abs(1-(Je*Je+mt*mt+Nt*Nt))<=Be&&Math.abs(1-($e*$e+Tt*Tt+Rt*Rt))<=Be&&Math.abs(1-(ot*ot+It*It+Xe*Xe))<=Be}Object.freeze(Object.defineProperty({__proto__:null,copy:function X(we,Be){return we[0]=Be[0],we[1]=Be[1],we[2]=Be[2],we[3]=Be[3],we[4]=Be[4],we[5]=Be[5],we[6]=Be[6],we[7]=Be[7],we[8]=Be[8],we[9]=Be[9],we[10]=Be[10],we[11]=Be[11],we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15],we},set:G,identity:z,transpose:Z,invert:D,adjoint:function k(we,Be){const Je=Be[0],$e=Be[1],ot=Be[2],mt=Be[3],Tt=Be[4],It=Be[5],Nt=Be[6],Rt=Be[7],Xe=Be[8],vt=Be[9],Zt=Be[10],xt=Be[11],Lt=Be[12],en=Be[13],En=Be[14],Dn=Be[15];return we[0]=It*(Zt*Dn-xt*En)-vt*(Nt*Dn-Rt*En)+en*(Nt*xt-Rt*Zt),we[1]=-($e*(Zt*Dn-xt*En)-vt*(ot*Dn-mt*En)+en*(ot*xt-mt*Zt)),we[2]=$e*(Nt*Dn-Rt*En)-It*(ot*Dn-mt*En)+en*(ot*Rt-mt*Nt),we[3]=-($e*(Nt*xt-Rt*Zt)-It*(ot*xt-mt*Zt)+vt*(ot*Rt-mt*Nt)),we[4]=-(Tt*(Zt*Dn-xt*En)-Xe*(Nt*Dn-Rt*En)+Lt*(Nt*xt-Rt*Zt)),we[5]=Je*(Zt*Dn-xt*En)-Xe*(ot*Dn-mt*En)+Lt*(ot*xt-mt*Zt),we[6]=-(Je*(Nt*Dn-Rt*En)-Tt*(ot*Dn-mt*En)+Lt*(ot*Rt-mt*Nt)),we[7]=Je*(Nt*xt-Rt*Zt)-Tt*(ot*xt-mt*Zt)+Xe*(ot*Rt-mt*Nt),we[8]=Tt*(vt*Dn-xt*en)-Xe*(It*Dn-Rt*en)+Lt*(It*xt-Rt*vt),we[9]=-(Je*(vt*Dn-xt*en)-Xe*($e*Dn-mt*en)+Lt*($e*xt-mt*vt)),we[10]=Je*(It*Dn-Rt*en)-Tt*($e*Dn-mt*en)+Lt*($e*Rt-mt*It),we[11]=-(Je*(It*xt-Rt*vt)-Tt*($e*xt-mt*vt)+Xe*($e*Rt-mt*It)),we[12]=-(Tt*(vt*En-Zt*en)-Xe*(It*En-Nt*en)+Lt*(It*Zt-Nt*vt)),we[13]=Je*(vt*En-Zt*en)-Xe*($e*En-ot*en)+Lt*($e*Zt-ot*vt),we[14]=-(Je*(It*En-Nt*en)-Tt*($e*En-ot*en)+Lt*($e*Nt-ot*It)),we[15]=Je*(It*Zt-Nt*vt)-Tt*($e*Zt-ot*vt)+Xe*($e*Nt-ot*It),we},determinant:function N(we){const Be=we[0],Je=we[1],$e=we[2],ot=we[3],mt=we[4],Tt=we[5],It=we[6],Nt=we[7],Rt=we[8],Xe=we[9],vt=we[10],Zt=we[11],xt=we[12],Lt=we[13],en=we[14],En=we[15];return(Be*Tt-Je*mt)*(vt*En-Zt*en)-(Be*It-$e*mt)*(Xe*En-Zt*Lt)+(Be*Nt-ot*mt)*(Xe*en-vt*Lt)+(Je*It-$e*Tt)*(Rt*En-Zt*xt)-(Je*Nt-ot*Tt)*(Rt*en-vt*xt)+($e*Nt-ot*It)*(Rt*Lt-Xe*xt)},multiply:B,translate:Q,scale:ne,rotate:te,rotateX:function ae(we,Be,Je){const $e=Math.sin(Je),ot=Math.cos(Je),mt=Be[4],Tt=Be[5],It=Be[6],Nt=Be[7],Rt=Be[8],Xe=Be[9],vt=Be[10],Zt=Be[11];return Be!==we&&(we[0]=Be[0],we[1]=Be[1],we[2]=Be[2],we[3]=Be[3],we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15]),we[4]=mt*ot+Rt*$e,we[5]=Tt*ot+Xe*$e,we[6]=It*ot+vt*$e,we[7]=Nt*ot+Zt*$e,we[8]=Rt*ot-mt*$e,we[9]=Xe*ot-Tt*$e,we[10]=vt*ot-It*$e,we[11]=Zt*ot-Nt*$e,we},rotateY:function re(we,Be,Je){const $e=Math.sin(Je),ot=Math.cos(Je),mt=Be[0],Tt=Be[1],It=Be[2],Nt=Be[3],Rt=Be[8],Xe=Be[9],vt=Be[10],Zt=Be[11];return Be!==we&&(we[4]=Be[4],we[5]=Be[5],we[6]=Be[6],we[7]=Be[7],we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15]),we[0]=mt*ot-Rt*$e,we[1]=Tt*ot-Xe*$e,we[2]=It*ot-vt*$e,we[3]=Nt*ot-Zt*$e,we[8]=mt*$e+Rt*ot,we[9]=Tt*$e+Xe*ot,we[10]=It*$e+vt*ot,we[11]=Nt*$e+Zt*ot,we},rotateZ:function $(we,Be,Je){const $e=Math.sin(Je),ot=Math.cos(Je),mt=Be[0],Tt=Be[1],It=Be[2],Nt=Be[3],Rt=Be[4],Xe=Be[5],vt=Be[6],Zt=Be[7];return Be!==we&&(we[8]=Be[8],we[9]=Be[9],we[10]=Be[10],we[11]=Be[11],we[12]=Be[12],we[13]=Be[13],we[14]=Be[14],we[15]=Be[15]),we[0]=mt*ot+Rt*$e,we[1]=Tt*ot+Xe*$e,we[2]=It*ot+vt*$e,we[3]=Nt*ot+Zt*$e,we[4]=Rt*ot-mt*$e,we[5]=Xe*ot-Tt*$e,we[6]=vt*ot-It*$e,we[7]=Zt*ot-Nt*$e,we},fromTranslation:F,fromScaling:R,fromRotation:U,fromXRotation:A,fromYRotation:function V(we,Be){const Je=Math.sin(Be),$e=Math.cos(Be);return we[0]=$e,we[1]=0,we[2]=-Je,we[3]=0,we[4]=0,we[5]=1,we[6]=0,we[7]=0,we[8]=Je,we[9]=0,we[10]=$e,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we},fromZRotation:function J(we,Be){const Je=Math.sin(Be),$e=Math.cos(Be);return we[0]=$e,we[1]=Je,we[2]=0,we[3]=0,we[4]=-Je,we[5]=$e,we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[10]=1,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we},fromRotationTranslation:Y,fromQuat2:function oe(we,Be){const Je=se,$e=-Be[0],ot=-Be[1],mt=-Be[2],Tt=Be[3],It=Be[4],Nt=Be[5],Rt=Be[6],Xe=Be[7],vt=$e*$e+ot*ot+mt*mt+Tt*Tt;return vt>0?(Je[0]=2*(It*Tt+Xe*$e+Nt*mt-Rt*ot)/vt,Je[1]=2*(Nt*Tt+Xe*ot+Rt*$e-It*mt)/vt,Je[2]=2*(Rt*Tt+Xe*mt+It*ot-Nt*$e)/vt):(Je[0]=2*(It*Tt+Xe*$e+Nt*mt-Rt*ot),Je[1]=2*(Nt*Tt+Xe*ot+Rt*$e-It*mt),Je[2]=2*(Rt*Tt+Xe*mt+It*ot-Nt*$e)),Y(we,Be,Je),we},getTranslation:function le(we,Be){return we[0]=Be[12],we[1]=Be[13],we[2]=Be[14],we},getScaling:function de(we,Be){const Je=Be[0],$e=Be[1],ot=Be[2],mt=Be[4],Tt=Be[5],It=Be[6],Nt=Be[8],Rt=Be[9],Xe=Be[10];return we[0]=Math.sqrt(Je*Je+$e*$e+ot*ot),we[1]=Math.sqrt(mt*mt+Tt*Tt+It*It),we[2]=Math.sqrt(Nt*Nt+Rt*Rt+Xe*Xe),we},getRotation:function q(we,Be){const Je=Be[0]+Be[5]+Be[10];let $e=0;return Je>0?($e=2*Math.sqrt(Je+1),we[3]=.25*$e,we[0]=(Be[6]-Be[9])/$e,we[1]=(Be[8]-Be[2])/$e,we[2]=(Be[1]-Be[4])/$e):Be[0]>Be[5]&&Be[0]>Be[10]?($e=2*Math.sqrt(1+Be[0]-Be[5]-Be[10]),we[3]=(Be[6]-Be[9])/$e,we[0]=.25*$e,we[1]=(Be[1]+Be[4])/$e,we[2]=(Be[8]+Be[2])/$e):Be[5]>Be[10]?($e=2*Math.sqrt(1+Be[5]-Be[0]-Be[10]),we[3]=(Be[8]-Be[2])/$e,we[0]=(Be[1]+Be[4])/$e,we[1]=.25*$e,we[2]=(Be[6]+Be[9])/$e):($e=2*Math.sqrt(1+Be[10]-Be[0]-Be[5]),we[3]=(Be[1]-Be[4])/$e,we[0]=(Be[8]+Be[2])/$e,we[1]=(Be[6]+Be[9])/$e,we[2]=.25*$e),we},fromRotationTranslationScale:function ue(we,Be,Je,$e){const ot=Be[0],mt=Be[1],Tt=Be[2],It=Be[3],Nt=ot+ot,Rt=mt+mt,Xe=Tt+Tt,vt=ot*Nt,Zt=ot*Rt,xt=ot*Xe,Lt=mt*Rt,en=mt*Xe,En=Tt*Xe,Dn=It*Nt,Xn=It*Rt,pr=It*Xe,Tr=$e[0],vr=$e[1],zn=$e[2];return we[0]=(1-(Lt+En))*Tr,we[1]=(Zt+pr)*Tr,we[2]=(xt-Xn)*Tr,we[3]=0,we[4]=(Zt-pr)*vr,we[5]=(1-(vt+En))*vr,we[6]=(en+Dn)*vr,we[7]=0,we[8]=(xt+Xn)*zn,we[9]=(en-Dn)*zn,we[10]=(1-(vt+Lt))*zn,we[11]=0,we[12]=Je[0],we[13]=Je[1],we[14]=Je[2],we[15]=1,we},fromRotationTranslationScaleOrigin:function ie(we,Be,Je,$e,ot){const mt=Be[0],Tt=Be[1],It=Be[2],Nt=Be[3],Rt=mt+mt,Xe=Tt+Tt,vt=It+It,Zt=mt*Rt,xt=mt*Xe,Lt=mt*vt,en=Tt*Xe,En=Tt*vt,Dn=It*vt,Xn=Nt*Rt,pr=Nt*Xe,Tr=Nt*vt,vr=$e[0],zn=$e[1],zt=$e[2],sn=ot[0],pn=ot[1],In=ot[2],Wn=(1-(en+Dn))*vr,jn=(xt+Tr)*vr,$n=(Lt-pr)*vr,Ht=(xt-Tr)*zn,ir=(1-(Zt+Dn))*zn,Qn=(En+Xn)*zn,Ar=(Lt+pr)*zt,Dr=(En-Xn)*zt,an=(1-(Zt+en))*zt;return we[0]=Wn,we[1]=jn,we[2]=$n,we[3]=0,we[4]=Ht,we[5]=ir,we[6]=Qn,we[7]=0,we[8]=Ar,we[9]=Dr,we[10]=an,we[11]=0,we[12]=Je[0]+sn-(Wn*sn+Ht*pn+Ar*In),we[13]=Je[1]+pn-(jn*sn+ir*pn+Dr*In),we[14]=Je[2]+In-($n*sn+Qn*pn+an*In),we[15]=1,we},fromQuat:function ye(we,Be){const Je=Be[0],$e=Be[1],ot=Be[2],mt=Be[3],Tt=Je+Je,It=$e+$e,Nt=ot+ot,Rt=Je*Tt,Xe=$e*Tt,vt=$e*It,Zt=ot*Tt,xt=ot*It,Lt=ot*Nt,en=mt*Tt,En=mt*It,Dn=mt*Nt;return we[0]=1-vt-Lt,we[1]=Xe+Dn,we[2]=Zt-En,we[3]=0,we[4]=Xe-Dn,we[5]=1-Rt-Lt,we[6]=xt+en,we[7]=0,we[8]=Zt+En,we[9]=xt-en,we[10]=1-Rt-vt,we[11]=0,we[12]=0,we[13]=0,we[14]=0,we[15]=1,we},frustum:function pe(we,Be,Je,$e,ot,mt,Tt){const It=1/(Je-Be),Nt=1/(ot-$e),Rt=1/(mt-Tt);return we[0]=2*mt*It,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=2*mt*Nt,we[6]=0,we[7]=0,we[8]=(Je+Be)*It,we[9]=(ot+$e)*Nt,we[10]=(Tt+mt)*Rt,we[11]=-1,we[12]=0,we[13]=0,we[14]=Tt*mt*2*Rt,we[15]=0,we},perspective:function Ce(we,Be,Je,$e,ot){const mt=1/Math.tan(Be/2);let Tt;return we[0]=mt/Je,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=mt,we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[11]=-1,we[12]=0,we[13]=0,we[15]=0,null!=ot&&ot!==1/0?(Tt=1/($e-ot),we[10]=(ot+$e)*Tt,we[14]=2*ot*$e*Tt):(we[10]=-1,we[14]=-2*$e),we},perspectiveFromFieldOfView:function De(we,Be,Je,$e){const ot=Math.tan(Be.upDegrees*Math.PI/180),mt=Math.tan(Be.downDegrees*Math.PI/180),Tt=Math.tan(Be.leftDegrees*Math.PI/180),It=Math.tan(Be.rightDegrees*Math.PI/180),Nt=2/(Tt+It),Rt=2/(ot+mt);return we[0]=Nt,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=Rt,we[6]=0,we[7]=0,we[8]=-(Tt-It)*Nt*.5,we[9]=(ot-mt)*Rt*.5,we[10]=$e/(Je-$e),we[11]=-1,we[12]=0,we[13]=0,we[14]=$e*Je/(Je-$e),we[15]=0,we},ortho:function Me(we,Be,Je,$e,ot,mt,Tt){const It=1/(Be-Je),Nt=1/($e-ot),Rt=1/(mt-Tt);return we[0]=-2*It,we[1]=0,we[2]=0,we[3]=0,we[4]=0,we[5]=-2*Nt,we[6]=0,we[7]=0,we[8]=0,we[9]=0,we[10]=2*Rt,we[11]=0,we[12]=(Be+Je)*It,we[13]=(ot+$e)*Nt,we[14]=(Tt+mt)*Rt,we[15]=1,we},lookAt:function ve(we,Be,Je,$e){let ot,mt,Tt,It,Nt,Rt,Xe,vt,Zt,xt;const Lt=Be[0],en=Be[1],En=Be[2],Dn=$e[0],Xn=$e[1],pr=$e[2],Tr=Je[0],vr=Je[1],zn=Je[2];return Math.abs(Lt-Tr)<v.E&&Math.abs(en-vr)<v.E&&Math.abs(En-zn)<v.E?z(we):(Xe=Lt-Tr,vt=en-vr,Zt=En-zn,xt=1/Math.sqrt(Xe*Xe+vt*vt+Zt*Zt),Xe*=xt,vt*=xt,Zt*=xt,ot=Xn*Zt-pr*vt,mt=pr*Xe-Dn*Zt,Tt=Dn*vt-Xn*Xe,xt=Math.sqrt(ot*ot+mt*mt+Tt*Tt),xt?(xt=1/xt,ot*=xt,mt*=xt,Tt*=xt):(ot=0,mt=0,Tt=0),It=vt*Tt-Zt*mt,Nt=Zt*ot-Xe*Tt,Rt=Xe*mt-vt*ot,xt=Math.sqrt(It*It+Nt*Nt+Rt*Rt),xt?(xt=1/xt,It*=xt,Nt*=xt,Rt*=xt):(It=0,Nt=0,Rt=0),we[0]=ot,we[1]=It,we[2]=Xe,we[3]=0,we[4]=mt,we[5]=Nt,we[6]=vt,we[7]=0,we[8]=Tt,we[9]=Rt,we[10]=Zt,we[11]=0,we[12]=-(ot*Lt+mt*en+Tt*En),we[13]=-(It*Lt+Nt*en+Rt*En),we[14]=-(Xe*Lt+vt*en+Zt*En),we[15]=1,we)},targetTo:function Le(we,Be,Je,$e){const ot=Be[0],mt=Be[1],Tt=Be[2],It=$e[0],Nt=$e[1],Rt=$e[2];let Xe=ot-Je[0],vt=mt-Je[1],Zt=Tt-Je[2],xt=Xe*Xe+vt*vt+Zt*Zt;xt>0&&(xt=1/Math.sqrt(xt),Xe*=xt,vt*=xt,Zt*=xt);let Lt=Nt*Zt-Rt*vt,en=Rt*Xe-It*Zt,En=It*vt-Nt*Xe;return xt=Lt*Lt+en*en+En*En,xt>0&&(xt=1/Math.sqrt(xt),Lt*=xt,en*=xt,En*=xt),we[0]=Lt,we[1]=en,we[2]=En,we[3]=0,we[4]=vt*En-Zt*en,we[5]=Zt*Lt-Xe*En,we[6]=Xe*en-vt*Lt,we[7]=0,we[8]=Xe,we[9]=vt,we[10]=Zt,we[11]=0,we[12]=ot,we[13]=mt,we[14]=Tt,we[15]=1,we},str:function je(we){return"mat4("+we[0]+", "+we[1]+", "+we[2]+", "+we[3]+", "+we[4]+", "+we[5]+", "+we[6]+", "+we[7]+", "+we[8]+", "+we[9]+", "+we[10]+", "+we[11]+", "+we[12]+", "+we[13]+", "+we[14]+", "+we[15]+")"},frob:function _e(we){return Math.sqrt(we[0]**2+we[1]**2+we[2]**2+we[3]**2+we[4]**2+we[5]**2+we[6]**2+we[7]**2+we[8]**2+we[9]**2+we[10]**2+we[11]**2+we[12]**2+we[13]**2+we[14]**2+we[15]**2)},add:function Re(we,Be,Je){return we[0]=Be[0]+Je[0],we[1]=Be[1]+Je[1],we[2]=Be[2]+Je[2],we[3]=Be[3]+Je[3],we[4]=Be[4]+Je[4],we[5]=Be[5]+Je[5],we[6]=Be[6]+Je[6],we[7]=Be[7]+Je[7],we[8]=Be[8]+Je[8],we[9]=Be[9]+Je[9],we[10]=Be[10]+Je[10],we[11]=Be[11]+Je[11],we[12]=Be[12]+Je[12],we[13]=Be[13]+Je[13],we[14]=Be[14]+Je[14],we[15]=Be[15]+Je[15],we},subtract:nt,multiplyScalar:function pt(we,Be,Je){return we[0]=Be[0]*Je,we[1]=Be[1]*Je,we[2]=Be[2]*Je,we[3]=Be[3]*Je,we[4]=Be[4]*Je,we[5]=Be[5]*Je,we[6]=Be[6]*Je,we[7]=Be[7]*Je,we[8]=Be[8]*Je,we[9]=Be[9]*Je,we[10]=Be[10]*Je,we[11]=Be[11]*Je,we[12]=Be[12]*Je,we[13]=Be[13]*Je,we[14]=Be[14]*Je,we[15]=Be[15]*Je,we},multiplyScalarAndAdd:function Ne(we,Be,Je,$e){return we[0]=Be[0]+Je[0]*$e,we[1]=Be[1]+Je[1]*$e,we[2]=Be[2]+Je[2]*$e,we[3]=Be[3]+Je[3]*$e,we[4]=Be[4]+Je[4]*$e,we[5]=Be[5]+Je[5]*$e,we[6]=Be[6]+Je[6]*$e,we[7]=Be[7]+Je[7]*$e,we[8]=Be[8]+Je[8]*$e,we[9]=Be[9]+Je[9]*$e,we[10]=Be[10]+Je[10]*$e,we[11]=Be[11]+Je[11]*$e,we[12]=Be[12]+Je[12]*$e,we[13]=Be[13]+Je[13]*$e,we[14]=Be[14]+Je[14]*$e,we[15]=Be[15]+Je[15]*$e,we},exactEquals:xe,equals:Ye,isOrthoNormal:Ke,mul:B,sub:nt},Symbol.toStringTag,{value:"Module"}))},55494:(wt,Se,p)=>{"use strict";function d(){const D=new Float32Array(16);return D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}p.d(Se,{c:()=>d});const z=d();Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(D){const k=new Float32Array(16);return k[0]=D[0],k[1]=D[1],k[2]=D[2],k[3]=D[3],k[4]=D[4],k[5]=D[5],k[6]=D[6],k[7]=D[7],k[8]=D[8],k[9]=D[9],k[10]=D[10],k[11]=D[11],k[12]=D[12],k[13]=D[13],k[14]=D[14],k[15]=D[15],k},fromValues:function X(D,k,N,B,Q,ne,te,ae,re,$,F,R,U,A,V,J){const Y=new Float32Array(16);return Y[0]=D,Y[1]=k,Y[2]=N,Y[3]=B,Y[4]=Q,Y[5]=ne,Y[6]=te,Y[7]=ae,Y[8]=re,Y[9]=$,Y[10]=F,Y[11]=R,Y[12]=U,Y[13]=A,Y[14]=V,Y[15]=J,Y},createView:function G(D,k){return new Float32Array(D,k,16)},IDENTITY:z},Symbol.toStringTag,{value:"Module"}))},44956:(wt,Se,p)=>{"use strict";p.d(Se,{e:()=>B,f:()=>N,g:()=>k,h:()=>ae,i:()=>z,j:()=>U,l:()=>D,p:()=>le});var d=p(54346),v=p(8314);let X,G=null;function z(){return!!G}function D(){return X||(X=p.e(3714).then(p.bind(p,73714)).then(de=>de.p).then(({default:de})=>de({locateFile:q=>(0,d.V)(`esri/geometry/support/${q}`)})).then(de=>{V(de)}),X)}var k,N,B,de;(function(de){function q(pe,Ce,De){G.ensureCache.prepare();const Me=oe(De),ve=De===Me,Le=G.ensureFloat64(Me),je=G._pe_geog_to_proj(G.getPointer(pe),Ce,Le);return je&&se(De,Ce,Le,ve),je}function ie(pe,Ce,De){return ye(pe,Ce,De,0)}function ye(pe,Ce,De,Me){G.ensureCache.prepare();const ve=oe(De),Le=De===ve,je=G.ensureFloat64(ve),_e=G._pe_proj_to_geog_center(G.getPointer(pe),Ce,je,Me);return _e&&se(De,Ce,je,Le),_e}de.geogToProj=q,de.projGeog=function ue(pe,Ce,De,Me){switch(Me){case N.PE_TRANSFORM_P_TO_G:return ie(pe,Ce,De);case N.PE_TRANSFORM_G_TO_P:return q(pe,Ce,De)}return 0},de.projToGeog=ie,de.projToGeogCenter=ye})(k||(k={})),(de=N||(N={})).init=function q(){de.PE_BUFFER_MAX=G.PeDefs.prototype.PE_BUFFER_MAX,de.PE_NAME_MAX=G.PeDefs.prototype.PE_NAME_MAX,de.PE_MGRS_MAX=G.PeDefs.prototype.PE_MGRS_MAX,de.PE_USNG_MAX=G.PeDefs.prototype.PE_USNG_MAX,de.PE_DD_MAX=G.PeDefs.prototype.PE_DD_MAX,de.PE_DDM_MAX=G.PeDefs.prototype.PE_DDM_MAX,de.PE_DMS_MAX=G.PeDefs.prototype.PE_DMS_MAX,de.PE_UTM_MAX=G.PeDefs.prototype.PE_UTM_MAX,de.PE_PARM_MAX=G.PeDefs.prototype.PE_PARM_MAX,de.PE_TYPE_NONE=G.PeDefs.prototype.PE_TYPE_NONE,de.PE_TYPE_GEOGCS=G.PeDefs.prototype.PE_TYPE_GEOGCS,de.PE_TYPE_PROJCS=G.PeDefs.prototype.PE_TYPE_PROJCS,de.PE_TYPE_GEOGTRAN=G.PeDefs.prototype.PE_TYPE_GEOGTRAN,de.PE_TYPE_COORDSYS=G.PeDefs.prototype.PE_TYPE_COORDSYS,de.PE_TYPE_UNIT=G.PeDefs.prototype.PE_TYPE_UNIT,de.PE_TYPE_LINUNIT=G.PeDefs.prototype.PE_TYPE_LINUNIT,de.PE_STR_OPTS_NONE=G.PeDefs.prototype.PE_STR_OPTS_NONE,de.PE_STR_AUTH_NONE=G.PeDefs.prototype.PE_STR_AUTH_NONE,de.PE_STR_AUTH_TOP=G.PeDefs.prototype.PE_STR_AUTH_TOP,de.PE_STR_NAME_CANON=G.PeDefs.prototype.PE_STR_NAME_CANON,de.PE_PARM_X0=G.PeDefs.prototype.PE_PARM_X0,de.PE_PARM_ND=G.PeDefs.prototype.PE_PARM_ND,de.PE_TRANSFORM_1_TO_2=G.PeDefs.prototype.PE_TRANSFORM_1_TO_2,de.PE_TRANSFORM_2_TO_1=G.PeDefs.prototype.PE_TRANSFORM_2_TO_1,de.PE_TRANSFORM_P_TO_G=G.PeDefs.prototype.PE_TRANSFORM_P_TO_G,de.PE_TRANSFORM_G_TO_P=G.PeDefs.prototype.PE_TRANSFORM_G_TO_P,de.PE_HORIZON_RECT=G.PeDefs.prototype.PE_HORIZON_RECT,de.PE_HORIZON_POLY=G.PeDefs.prototype.PE_HORIZON_POLY,de.PE_HORIZON_LINE=G.PeDefs.prototype.PE_HORIZON_LINE,de.PE_HORIZON_DELTA=G.PeDefs.prototype.PE_HORIZON_DELTA},function(de){const q={},ue={},ie=Re=>{if(Re){const nt=Re.getType();switch(nt){case N.PE_TYPE_GEOGCS:Re=G.castObject(Re,G.PeGeogcs);break;case N.PE_TYPE_PROJCS:Re=G.castObject(Re,G.PeProjcs);break;case N.PE_TYPE_GEOGTRAN:Re=G.castObject(Re,G.PeGeogtran);break;default:nt&N.PE_TYPE_UNIT&&(Re=G.castObject(Re,G.PeUnit))}}return Re};function Ce(Re,nt){let pt=null,Ne=q[Re];if(Ne||(Ne={},q[Re]=Ne),Ne.hasOwnProperty(String(nt)))pt=Ne[nt];else{const xe=G.PeFactory.prototype.factoryByType(Re,nt);G.compare(xe,G.NULL)||(pt=xe,Ne[nt]=pt)}return pt=ie(pt),pt}de.initialize=function ye(){G.PeFactory.prototype.initialize(null)},de.coordsys=function pe(Re){return Ce(N.PE_TYPE_COORDSYS,Re)},de.factoryByType=Ce,de.fromString=function De(Re,nt){let pt=null,Ne=ue[Re];if(Ne||(Ne={},ue[Re]=Ne),Ne.hasOwnProperty(nt))pt=Ne[nt];else{const xe=G.PeFactory.prototype.fromString(Re,nt);G.compare(xe,G.NULL)||(pt=xe,Ne[nt]=pt)}return pt=ie(pt),pt},de.geogcs=function Me(Re){return Ce(N.PE_TYPE_GEOGCS,Re)},de.geogtran=function ve(Re){return Ce(N.PE_TYPE_GEOGTRAN,Re)},de.getCode=function Le(Re){return G.PeFactory.prototype.getCode(Re)},de.projcs=function je(Re){return Ce(N.PE_TYPE_PROJCS,Re)},de.unit=function _e(Re){return Ce(N.PE_TYPE_UNIT,Re)}}(B||(B={}));let Q=null;var ne,te,ae,re,$,F,R,U,A;function V(de){function q(pe,Ce,De){pe[Ce]=De(pe[Ce])}G=de,N.init(),ne.init(),$.init(),R.init(),U.init(),Q=class extends G.PeGCSExtent{destroy(){G.destroy(this)}};const ue=[G.PeDatum,G.PeGeogcs,G.PeGeogtran,G.PeObject,G.PeParameter,G.PePrimem,G.PeProjcs,G.PeSpheroid,G.PeUnit];for(const pe of ue)q(pe.prototype,"getName",Ce=>function(){return Ce.call(this,new Array(N.PE_NAME_MAX))});for(const pe of[G.PeGeogtran,G.PeProjcs])q(pe.prototype,"getParameters",Ce=>function(){const De=new Array(N.PE_PARM_MAX);let Me=Ce.call(this);for(let ve=0;ve<De.length;ve++){const Le=G.getValue(Me,"*");De[ve]=Le?G.wrapPointer(Le,G.PeParameter):null,Me+=Int32Array.BYTES_PER_ELEMENT}return De});q(G.PeHorizon.prototype,"getCoord",pe=>function(){const Ce=this.getSize();if(!Ce)return null;const De=[];return se(De,Ce,pe.call(this)),De}),q(G.PeGTlistExtendedEntry.prototype,"getEntries",pe=>{const Ce=G._pe_getPeGTlistExtendedGTsSize();return function(){let De=null;const Me=pe.call(this);if(!G.compare(Me,G.NULL)){De=[Me];const ve=this.getSteps();if(ve>1){const Le=G.getPointer(Me);for(let je=1;je<ve;je++)De.push(G.wrapPointer(Le+Ce*je,G.PeGTlistExtendedGTs))}}return De}});const ie=G._pe_getPeHorizonSize(),ye=pe=>function(){let Ce=this._cache;if(Ce||(Ce=new Map,this._cache=Ce),Ce.has(pe))return Ce.get(pe);let De=null;const Me=pe.call(this);if(!G.compare(Me,G.NULL)){De=[Me];const ve=Me.getNump();if(ve>1){const Le=G.getPointer(Me);for(let je=1;je<ve;je++)De.push(G.wrapPointer(Le+ie*je,G.PeHorizon))}}return Ce.set(pe,De),De};q(G.PeProjcs.prototype,"horizonGcsGenerate",ye),q(G.PeProjcs.prototype,"horizonPcsGenerate",ye),G.PeObject.prototype.toString=function(pe=N.PE_STR_OPTS_NONE){G.ensureCache.prepare();const Ce=G.getPointer(this),De=G.ensureInt8(new Array(N.PE_BUFFER_MAX));return G.UTF8ToString(G._pe_object_to_string_ext(Ce,pe,De))}}function J(de){if(!de)return;const q=G.getClass(de);if(!q)return;const ue=G.getCache(q);if(!ue)return;const ie=G.getPointer(de);ie&&delete ue[ie]}function Y(de,q){const ue=[],ie=new Array(q);for(let ye=0;ye<de;ye++)ue.push(G.ensureInt8(ie));return ue}function oe(de){let q;return Array.isArray(de[0])?(q=[],de.forEach(ue=>{q.push(ue[0],ue[1])})):q=de,q}function se(de,q,ue,ie=!1){if(ie)for(let ye=0;ye<2*q;ye++)de[ye]=G.getValue(ue+ye*Float64Array.BYTES_PER_ELEMENT,"double");else{const ye=0===de.length;for(let pe=0;pe<q;pe++)ye&&(de[pe]=new Array(2)),de[pe][0]=G.getValue(ue,"double"),de[pe][1]=G.getValue(ue+Float64Array.BYTES_PER_ELEMENT,"double"),ue+=2*Float64Array.BYTES_PER_ELEMENT}}(function(de){let q;de.init=function ue(){de.PE_GTLIST_OPTS_COMMON=G.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,q=G._pe_getPeGTlistExtendedEntrySize()},de.getGTlist=function ie(ye,pe,Ce,De,Me,ve){let Le=null;const je=new G.PeInteger(ve);try{const _e=G.PeGTlistExtended.prototype.getGTlist(ye,pe,Ce,De,Me,je);if((ve=je.val)&&(Le=[_e],ve>1)){const Re=G.getPointer(_e);for(let nt=1;nt<ve;nt++)Le.push(G.wrapPointer(Re+q*nt,G.PeGTlistExtendedEntry))}}finally{G.destroy(je)}return Le}})(ne||(ne={})),function(de){de.destroy=function q(ue){if(ue&&ue.length){for(const ie of ue)J(ie),ie.getEntries().forEach(ye=>{J(ye);const pe=ye.getGeogtran();J(pe),pe.getParameters().forEach(J),[pe.getGeogcs1(),pe.getGeogcs2()].forEach(Ce=>{J(Ce);const De=Ce.getDatum();J(De),J(De.getSpheroid()),J(Ce.getPrimem()),J(Ce.getUnit())})});G.PeGTlistExtendedEntry.prototype.Delete(ue[0])}}}(te||(te={})),function(de){de.geogToGeog=function q(ue,ie,ye,pe,Ce){G.ensureCache.prepare();const De=oe(ye),Me=ye===De,ve=G.ensureFloat64(De);let Le=0;pe&&(Le=G.ensureFloat64(pe));const je=G._pe_geog_to_geog(G.getPointer(ue),ie,ve,Le,Ce);return je&&se(ye,ie,ve,Me),je}}(ae||(ae={})),function(de){const q=(ve,Le,je,_e,Re,nt)=>{let pt,Ne;switch(G.ensureCache.prepare(),ve){case"dd":pt=G._pe_geog_to_dd,Ne=N.PE_DD_MAX;break;case"ddm":pt=G._pe_geog_to_ddm,Ne=N.PE_DDM_MAX;break;case"dms":pt=G._pe_geog_to_dms,Ne=N.PE_DMS_MAX}let xe=0;Le&&(xe=G.getPointer(Le));const Ye=oe(_e),Ke=G.ensureFloat64(Ye),Fe=Y(je,Ne),Ze=pt(xe,je,Ke,Re,G.ensureInt32(Fe));if(Ze)for(let ct=0;ct<je;ct++)nt[ct]=G.UTF8ToString(Fe[ct]);return Ze},ue=(ve,Le,je,_e,Re)=>{let nt;switch(G.ensureCache.prepare(),ve){case"dd":nt=G._pe_dd_to_geog;break;case"ddm":nt=G._pe_ddm_to_geog;break;case"dms":nt=G._pe_dms_to_geog}let pt=0;Le&&(pt=G.getPointer(Le));const Ne=_e.map(Fe=>G.ensureString(Fe)),xe=G.ensureInt32(Ne),Ye=G.ensureFloat64(new Array(2*je)),Ke=nt(pt,je,xe,Ye);return Ke&&se(Re,je,Ye),Ke};de.geogToDms=function ie(ve,Le,je,_e,Re){return q("dms",ve,Le,je,_e,Re)},de.dmsToGeog=function ye(ve,Le,je,_e){return ue("dms",ve,Le,je,_e)},de.geogToDdm=function pe(ve,Le,je,_e,Re){return q("ddm",ve,Le,je,_e,Re)},de.ddmToGeog=function Ce(ve,Le,je,_e){return ue("ddm",ve,Le,je,_e)},de.geogToDd=function De(ve,Le,je,_e,Re){return q("dd",ve,Le,je,_e,Re)},de.ddToGeog=function Me(ve,Le,je,_e){return ue("dd",ve,Le,je,_e)}}(re||(re={})),function(de){de.init=function q(){de.PE_MGRS_STYLE_NEW=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,de.PE_MGRS_STYLE_OLD=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,de.PE_MGRS_STYLE_AUTO=G.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,de.PE_MGRS_180_ZONE_1_PLUS=G.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,de.PE_MGRS_ADD_SPACES=G.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},de.geogToMgrsExtended=function ue(ye,pe,Ce,De,Me,ve,Le){G.ensureCache.prepare();let je=0;ye&&(je=G.getPointer(ye));const _e=oe(Ce),Re=G.ensureFloat64(_e),nt=Y(pe,N.PE_MGRS_MAX),pt=G.ensureInt32(nt),Ne=G._pe_geog_to_mgrs_extended(je,pe,Re,De,Me,ve,pt);if(Ne)for(let xe=0;xe<pe;xe++)Le[xe]=G.UTF8ToString(nt[xe]);return Ne},de.mgrsToGeogExtended=function ie(ye,pe,Ce,De,Me){G.ensureCache.prepare();let ve=0;ye&&(ve=G.getPointer(ye));const Le=Ce.map(nt=>G.ensureString(nt)),je=G.ensureInt32(Le),_e=G.ensureFloat64(new Array(2*pe)),Re=G._pe_mgrs_to_geog_extended(ve,pe,je,De,_e);return Re&&se(Me,pe,_e),Re}}($||($={})),function(de){de.geogToUsng=function q(ie,ye,pe,Ce,De,Me,ve){G.ensureCache.prepare();let Le=0;ie&&(Le=G.getPointer(ie));const je=oe(pe),_e=G.ensureFloat64(je),Re=Y(ye,N.PE_MGRS_MAX),nt=G.ensureInt32(Re),pt=G._pe_geog_to_usng(Le,ye,_e,Ce,De,Me,nt);if(pt)for(let Ne=0;Ne<ye;Ne++)ve[Ne]=G.UTF8ToString(Re[Ne]);return pt},de.usngToGeog=function ue(ie,ye,pe,Ce){G.ensureCache.prepare();let De=0;ie&&(De=G.getPointer(ie));const Me=pe.map(_e=>G.ensureString(_e)),ve=G.ensureInt32(Me),Le=G.ensureFloat64(new Array(2*ye)),je=G._pe_usng_to_geog(De,ye,ve,Le);return je&&se(Ce,ye,Le),je}}(F||(F={})),function(de){de.init=function q(){de.PE_UTM_OPTS_NONE=G.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,de.PE_UTM_OPTS_ADD_SPACES=G.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,de.PE_UTM_OPTS_NS=G.PeNotationUtm.prototype.PE_UTM_OPTS_NS},de.geogToUtm=function ue(ye,pe,Ce,De,Me){G.ensureCache.prepare();let ve=0;ye&&(ve=G.getPointer(ye));const Le=oe(Ce),je=G.ensureFloat64(Le),_e=Y(pe,N.PE_UTM_MAX),Re=G.ensureInt32(_e),nt=G._pe_geog_to_utm(ve,pe,je,De,Re);if(nt)for(let pt=0;pt<pe;pt++)Me[pt]=G.UTF8ToString(_e[pt]);return nt},de.utmToGeog=function ie(ye,pe,Ce,De,Me){G.ensureCache.prepare();let ve=0;ye&&(ve=G.getPointer(ye));const Le=Ce.map(nt=>G.ensureString(nt)),je=G.ensureInt32(Le),_e=G.ensureFloat64(new Array(2*pe)),Re=G._pe_utm_to_geog(ve,pe,je,De,_e);return Re&&se(Me,pe,_e),Re}}(R||(R={})),function(de){const q=new Map;de.init=function ue(){de.PE_PCSINFO_OPTION_NONE=G.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,de.PE_PCSINFO_OPTION_DOMAIN=G.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,de.PE_POLE_OUTSIDE_BOUNDARY=G.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,de.PE_POLE_POINT=G.PePCSInfo.prototype.PE_POLE_POINT},de.generate=function ie(ye,pe=de.PE_PCSINFO_OPTION_DOMAIN){let Ce,De;return q.has(ye)&&(De=q.get(ye),De[pe]&&(Ce=De[pe])),Ce||(Ce=G.PePCSInfo.prototype.generate(ye,pe),De||(De=[],q.set(ye,De)),De[pe]=Ce),Ce}}(U||(U={})),function(de){de.versionString=function q(){return G.PeVersion.prototype.version_string()}}(A||(A={}));const le=Object.freeze(Object.defineProperty({__proto__:null,get _pe(){return G},isLoaded:z,isSupported:function Z(){return!!(0,v.Z)("esri-wasm")},load:D,get PeCSTransformations(){return k},get PeDefs(){return N},get PeFactory(){return B},get PeGCSExtent(){return Q},get PeGTlistExtended(){return ne},get PeGTlistExtendedEntry(){return te},get PeGTTransformations(){return ae},get PeNotationDms(){return re},get PeNotationMgrs(){return $},get PeNotationUsng(){return F},get PeNotationUtm(){return R},get PePCSInfo(){return U},get PeVersion(){return A},_init:V},Symbol.toStringTag,{value:"Module"}))},29840:(wt,Se,p)=>{"use strict";p.d(Se,{M:()=>ne,e:()=>B,f:()=>X,i:()=>N,p:()=>te,r:()=>z,t:()=>G,w:()=>Z});var d=p(62208),v=p(21726);function X(ae,re){const $=re&&re.url&&re.url.path;if(ae&&$&&(ae=(0,v.hF)(ae,$,{preserveProtocolRelative:!0}),re.portalItem&&re.readResourcePaths)){const F=(0,v.PF)(ae,re.portalItem.itemUrl);k.test(F)&&re.readResourcePaths.push(re.portalItem.resourceFromPath(F).path)}return Q(ae,re&&re.portal)}function G(ae,re,$=ne.YES){if(!ae)return ae;!(0,v.YP)(ae)&&re&&re.blockedRelativeUrls&&re.blockedRelativeUrls.push(ae);let F=(0,v.hF)(ae);if(re){const R=re.verifyItemRelativeUrls&&re.verifyItemRelativeUrls.rootPath||re.url&&re.url.path;if(R){const U=Q(R,re.portal);F=(0,v.PF)(Q(F,re.portal),U,U),F!==ae&&re.verifyItemRelativeUrls&&re.verifyItemRelativeUrls.writtenUrls.push(F)}}return F=B(F,re&&re.portal),(0,v.YP)(F)&&(F=(0,v.Fv)(F)),(null==re?void 0:re.resources)&&(null==re?void 0:re.portalItem)&&!(0,v.YP)(F)&&!(0,v.HK)(F)&&$===ne.YES&&re.resources.toKeep.push({resource:re.portalItem.resourceFromPath(F)}),F}function z(ae,re,$){return X(ae,$)}function Z(ae,re,$,F){const R=G(ae,F);void 0!==R&&(re[$]=R)}const D=/\/items\/([^\/]+)\/resources\//,k=/^\.\/resources\//;function N(ae){const re=(0,d.pC)(ae)?ae.match(D):null;return(0,d.pC)(re)?re[1]:null}function B(ae,re){return re&&!re.isPortal&&re.urlKey&&re.customBaseUrl?(0,v.Ie)(ae,`${re.urlKey}.${re.customBaseUrl}`,re.portalHostname):ae}function Q(ae,re){if(!re||re.isPortal||!re.urlKey||!re.customBaseUrl)return ae;const $=`${re.urlKey}.${re.customBaseUrl}`,F=(0,v.TI)();return(0,v.D6)(F,`${F.scheme}://${$}`)?(0,v.Ie)(ae,re.portalHostname,$):(0,v.Ie)(ae,$,re.portalHostname)}var ne,ae;(ae=ne||(ne={}))[ae.YES=0]="YES",ae[ae.NO=1]="NO";const te=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:X,toJSON:G,read:z,write:Z,itemIdFromResourceUrl:N,ensureMainOnlineDomain:B,get MarkKeep(){return ne}},Symbol.toStringTag,{value:"Module"}))},14259:(wt,Se,p)=>{"use strict";p.d(Se,{q:()=>z});var d,X,G={exports:{}};d=G,void 0!==(X=function(){function D(B,Q,ne,te,ae){for(;te>ne;){if(te-ne>600){var re=te-ne+1,$=Q-ne+1,F=Math.log(re),R=.5*Math.exp(2*F/3),U=.5*Math.sqrt(F*R*(re-R)/re)*($-re/2<0?-1:1);D(B,Q,Math.max(ne,Math.floor(Q-$*R/re+U)),Math.min(te,Math.floor(Q+(re-$)*R/re+U)),ae)}var A=B[Q],V=ne,J=te;for(k(B,ne,Q),ae(B[te],A)>0&&k(B,ne,te);V<J;){for(k(B,V,J),V++,J--;ae(B[V],A)<0;)V++;for(;ae(B[J],A)>0;)J--}0===ae(B[ne],A)?k(B,ne,J):k(B,++J,te),J<=Q&&(ne=J+1),Q<=J&&(te=J-1)}}function k(B,Q,ne){var te=B[Q];B[Q]=B[ne],B[ne]=te}function N(B,Q){return B<Q?-1:B>Q?1:0}return function Z(B,Q,ne,te,ae){D(B,Q,ne||0,te||B.length-1,ae||N)}}())&&(d.exports=X);const z=G.exports},76279:(wt,Se,p)=>{"use strict";p.d(Se,{r:()=>v});var d=p(14259);function v(F,R){if(!(this instanceof v))return new v(F,R);this._maxEntries=Math.max(4,F||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),R&&("function"==typeof R?this.toBBox=R:this._initFormat(R)),this.clear()}function X(F,R,U){if(!U)return R.indexOf(F);for(var A=0;A<R.length;A++)if(U(F,R[A]))return A;return-1}function G(F,R){z(F,0,F.children.length,R,F)}function z(F,R,U,A,V){V||(V=re(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var J,Y=R;Y<U;Y++)J=F.children[Y],Z(V,F.leaf?A(J):J);return V}function Z(F,R){return F.minX=Math.min(F.minX,R.minX),F.minY=Math.min(F.minY,R.minY),F.maxX=Math.max(F.maxX,R.maxX),F.maxY=Math.max(F.maxY,R.maxY),F}function D(F,R){return F.minX-R.minX}function k(F,R){return F.minY-R.minY}function N(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function B(F){return F.maxX-F.minX+(F.maxY-F.minY)}function Q(F,R){return(Math.max(R.maxX,F.maxX)-Math.min(R.minX,F.minX))*(Math.max(R.maxY,F.maxY)-Math.min(R.minY,F.minY))}function ne(F,R){var U=Math.max(F.minX,R.minX),A=Math.max(F.minY,R.minY),V=Math.min(F.maxX,R.maxX),J=Math.min(F.maxY,R.maxY);return Math.max(0,V-U)*Math.max(0,J-A)}function te(F,R){return F.minX<=R.minX&&F.minY<=R.minY&&R.maxX<=F.maxX&&R.maxY<=F.maxY}function ae(F,R){return R.minX<=F.maxX&&R.minY<=F.maxY&&R.maxX>=F.minX&&R.maxY>=F.minY}function re(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $(F,R,U,A,V){for(var J,Y=[R,U];Y.length;)(U=Y.pop())-(R=Y.pop())<=A||(J=R+Math.ceil((U-R)/A/2)*A,(0,d.q)(F,J,R,U,V),Y.push(R,J,J,U))}v.prototype={all:function(){return this._all(this.data,[])},search:function(F){var R=this.data,U=[],A=this.toBBox;if(!ae(F,R))return U;for(var V,J,Y,oe,se=[];R;){for(V=0,J=R.children.length;V<J;V++)Y=R.children[V],ae(F,oe=R.leaf?A(Y):Y)&&(R.leaf?U.push(Y):te(F,oe)?this._all(Y,U):se.push(Y));R=se.pop()}return U},collides:function(F){var R=this.data,U=this.toBBox;if(!ae(F,R))return!1;for(var A,V,J,Y,oe=[];R;){for(A=0,V=R.children.length;A<V;A++)if(J=R.children[A],ae(F,Y=R.leaf?U(J):J)){if(R.leaf||te(F,Y))return!0;oe.push(J)}R=oe.pop()}return!1},load:function(F){if(!F||!F.length)return this;if(F.length<this._minEntries){for(var R=0,U=F.length;R<U;R++)this.insert(F[R]);return this}var A=this._build(F.slice(),0,F.length-1,0);if(this.data.children.length)if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var V=this.data;this.data=A,A=V}this._insert(A,this.data.height-A.height-1,!0)}else this.data=A;return this},insert:function(F){return F&&this._insert(F,this.data.height-1),this},clear:function(){return this.data=re([]),this},remove:function(F,R){if(!F)return this;for(var U,A,V,J,Y=this.data,oe=this.toBBox(F),se=[],le=[];Y||se.length;){if(Y||(Y=se.pop(),A=se[se.length-1],U=le.pop(),J=!0),Y.leaf&&-1!==(V=X(F,Y.children,R)))return Y.children.splice(V,1),se.push(Y),this._condense(se),this;J||Y.leaf||!te(Y,oe)?A?(U++,Y=A.children[U],J=!1):Y=null:(se.push(Y),le.push(U),U=0,A=Y,Y=Y.children[0])}return this},toBBox:function(F){return F},compareMinX:D,compareMinY:k,toJSON:function(){return this.data},fromJSON:function(F){return this.data=F,this},_all:function(F,R){for(var U=[];F;)F.leaf?R.push.apply(R,F.children):U.push.apply(U,F.children),F=U.pop();return R},_build:function(F,R,U,A){var V,J=U-R+1,Y=this._maxEntries;if(J<=Y)return G(V=re(F.slice(R,U+1)),this.toBBox),V;A||(A=Math.ceil(Math.log(J)/Math.log(Y)),Y=Math.ceil(J/Math.pow(Y,A-1))),(V=re([])).leaf=!1,V.height=A;var oe,se,le,de,q=Math.ceil(J/Y),ue=q*Math.ceil(Math.sqrt(Y));for($(F,R,U,ue,this.compareMinX),oe=R;oe<=U;oe+=ue)for($(F,oe,le=Math.min(oe+ue-1,U),q,this.compareMinY),se=oe;se<=le;se+=q)de=Math.min(se+q-1,le),V.children.push(this._build(F,se,de,A-1));return G(V,this.toBBox),V},_chooseSubtree:function(F,R,U,A){for(var V,J,Y,oe,se,le,de,q;A.push(R),!R.leaf&&A.length-1!==U;){for(de=q=1/0,V=0,J=R.children.length;V<J;V++)se=N(Y=R.children[V]),(le=Q(F,Y)-se)<q?(q=le,de=se<de?se:de,oe=Y):le===q&&se<de&&(de=se,oe=Y);R=oe||R.children[0]}return R},_insert:function(F,R,U){var V=U?F:(0,this.toBBox)(F),J=[],Y=this._chooseSubtree(V,this.data,R,J);for(Y.children.push(F),Z(Y,V);R>=0&&J[R].children.length>this._maxEntries;)this._split(J,R),R--;this._adjustParentBBoxes(V,J,R)},_split:function(F,R){var U=F[R],A=U.children.length,V=this._minEntries;this._chooseSplitAxis(U,V,A);var J=this._chooseSplitIndex(U,V,A),Y=re(U.children.splice(J,U.children.length-J));Y.height=U.height,Y.leaf=U.leaf,G(U,this.toBBox),G(Y,this.toBBox),R?F[R-1].children.push(Y):this._splitRoot(U,Y)},_splitRoot:function(F,R){this.data=re([F,R]),this.data.height=F.height+1,this.data.leaf=!1,G(this.data,this.toBBox)},_chooseSplitIndex:function(F,R,U){var A,V,J,Y,oe,se,le,de;for(se=le=1/0,A=R;A<=U-R;A++)Y=ne(V=z(F,0,A,this.toBBox),J=z(F,A,U,this.toBBox)),oe=N(V)+N(J),Y<se?(se=Y,de=A,le=oe<le?oe:le):Y===se&&oe<le&&(le=oe,de=A);return de},_chooseSplitAxis:function(F,R,U){var A=F.leaf?this.compareMinX:D,V=F.leaf?this.compareMinY:k;this._allDistMargin(F,R,U,A)<this._allDistMargin(F,R,U,V)&&F.children.sort(A)},_allDistMargin:function(F,R,U,A){F.children.sort(A);var V,J,Y=this.toBBox,oe=z(F,0,R,Y),se=z(F,U-R,U,Y),le=B(oe)+B(se);for(V=R;V<U-R;V++)J=F.children[V],Z(oe,F.leaf?Y(J):J),le+=B(oe);for(V=U-R-1;V>=R;V--)J=F.children[V],Z(se,F.leaf?Y(J):J),le+=B(se);return le},_adjustParentBBoxes:function(F,R,U){for(var A=U;A>=0;A--)Z(R[A],F)},_condense:function(F){for(var R,U=F.length-1;U>=0;U--)0===F[U].children.length?U>0?(R=F[U-1].children).splice(R.indexOf(F[U]),1):this.clear():G(F[U],this.toBBox)},_initFormat:function(F){var R=["return a"," - b",";"];this.compareMinX=new Function("a","b",R.join(F[0])),this.compareMinY=new Function("a","b",R.join(F[1])),this.toBBox=new Function("a","return {minX: a"+F[0]+", minY: a"+F[1]+", maxX: a"+F[2]+", maxY: a"+F[3]+"};")}}},17626:(wt,Se,p)=>{"use strict";function d(v,X,G,z){var Z,D=arguments.length,k=D<3?X:null===z?z=Object.getOwnPropertyDescriptor(X,G):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(v,X,G,z);else for(var N=v.length-1;N>=0;N--)(Z=v[N])&&(k=(D<3?Z(k):D>3?Z(X,G,k):Z(X,G))||k);return D>3&&k&&Object.defineProperty(X,G,k),k}p.d(Se,{_:()=>d})},67831:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>X,b:()=>G,c:()=>v,f:()=>te,g:()=>z,h:()=>J,i:()=>V,j:()=>re,k:()=>Le,m:()=>Y,n:()=>U,o:()=>F,s:()=>$,t:()=>de});var d=p(39863);function v(xe,Ye){return xe[0]=Ye[0],xe[1]=Ye[1],xe}function X(xe,Ye,Ke){return xe[0]=Ye,xe[1]=Ke,xe}function G(xe,Ye,Ke){return xe[0]=Ye[0]+Ke[0],xe[1]=Ye[1]+Ke[1],xe}function z(xe,Ye,Ke){return xe[0]=Ye[0]-Ke[0],xe[1]=Ye[1]-Ke[1],xe}function Z(xe,Ye,Ke){return xe[0]=Ye[0]*Ke[0],xe[1]=Ye[1]*Ke[1],xe}function D(xe,Ye,Ke){return xe[0]=Ye[0]/Ke[0],xe[1]=Ye[1]/Ke[1],xe}function te(xe,Ye,Ke){return xe[0]=Ye[0]*Ke,xe[1]=Ye[1]*Ke,xe}function re(xe,Ye){const Ke=Ye[0]-xe[0],Fe=Ye[1]-xe[1];return Math.sqrt(Ke*Ke+Fe*Fe)}function $(xe,Ye){const Ke=Ye[0]-xe[0],Fe=Ye[1]-xe[1];return Ke*Ke+Fe*Fe}function F(xe){const Ye=xe[0],Ke=xe[1];return Math.sqrt(Ye*Ye+Ke*Ke)}function R(xe){const Ye=xe[0],Ke=xe[1];return Ye*Ye+Ke*Ke}function U(xe,Ye){return xe[0]=-Ye[0],xe[1]=-Ye[1],xe}function V(xe,Ye){const Ke=Ye[0],Fe=Ye[1];let Ze=Ke*Ke+Fe*Fe;return Ze>0&&(Ze=1/Math.sqrt(Ze),xe[0]=Ye[0]*Ze,xe[1]=Ye[1]*Ze),xe}function J(xe,Ye){return xe[0]*Ye[0]+xe[1]*Ye[1]}function Y(xe,Ye,Ke){const Fe=Ye[0]*Ke[1]-Ye[1]*Ke[0];return xe[0]=xe[1]=0,xe[2]=Fe,xe}function de(xe,Ye,Ke){const Fe=Ye[0],Ze=Ye[1];return xe[0]=Ke[0]*Fe+Ke[2]*Ze+Ke[4],xe[1]=Ke[1]*Fe+Ke[3]*Ze+Ke[5],xe}const Le=z;Object.freeze(Object.defineProperty({__proto__:null,copy:v,set:X,add:G,subtract:z,multiply:Z,divide:D,ceil:function k(xe,Ye){return xe[0]=Math.ceil(Ye[0]),xe[1]=Math.ceil(Ye[1]),xe},floor:function N(xe,Ye){return xe[0]=Math.floor(Ye[0]),xe[1]=Math.floor(Ye[1]),xe},min:function B(xe,Ye,Ke){return xe[0]=Math.min(Ye[0],Ke[0]),xe[1]=Math.min(Ye[1],Ke[1]),xe},max:function Q(xe,Ye,Ke){return xe[0]=Math.max(Ye[0],Ke[0]),xe[1]=Math.max(Ye[1],Ke[1]),xe},round:function ne(xe,Ye){return xe[0]=Math.round(Ye[0]),xe[1]=Math.round(Ye[1]),xe},scale:te,scaleAndAdd:function ae(xe,Ye,Ke,Fe){return xe[0]=Ye[0]+Ke[0]*Fe,xe[1]=Ye[1]+Ke[1]*Fe,xe},distance:re,squaredDistance:$,length:F,squaredLength:R,negate:U,inverse:function A(xe,Ye){return xe[0]=1/Ye[0],xe[1]=1/Ye[1],xe},normalize:V,dot:J,cross:Y,lerp:function oe(xe,Ye,Ke,Fe){const Ze=Ye[0],ct=Ye[1];return xe[0]=Ze+Fe*(Ke[0]-Ze),xe[1]=ct+Fe*(Ke[1]-ct),xe},random:function se(xe,Ye){Ye=Ye||1;const Ke=2*(0,d.R)()*Math.PI;return xe[0]=Math.cos(Ke)*Ye,xe[1]=Math.sin(Ke)*Ye,xe},transformMat2:function le(xe,Ye,Ke){const Fe=Ye[0],Ze=Ye[1];return xe[0]=Ke[0]*Fe+Ke[2]*Ze,xe[1]=Ke[1]*Fe+Ke[3]*Ze,xe},transformMat2d:de,transformMat3:function q(xe,Ye,Ke){const Fe=Ye[0],Ze=Ye[1];return xe[0]=Ke[0]*Fe+Ke[3]*Ze+Ke[6],xe[1]=Ke[1]*Fe+Ke[4]*Ze+Ke[7],xe},transformMat4:function ue(xe,Ye,Ke){const Fe=Ye[0],Ze=Ye[1];return xe[0]=Ke[0]*Fe+Ke[4]*Ze+Ke[12],xe[1]=Ke[1]*Fe+Ke[5]*Ze+Ke[13],xe},rotate:function ie(xe,Ye,Ke,Fe){const Ze=Ye[0]-Ke[0],ct=Ye[1]-Ke[1],we=Math.sin(Fe),Be=Math.cos(Fe);return xe[0]=Ze*Be-ct*we+Ke[0],xe[1]=Ze*we+ct*Be+Ke[1],xe},angle:function ye(xe,Ye){const Ke=xe[0],Fe=xe[1],Ze=Ye[0],ct=Ye[1];let we=Ke*Ke+Fe*Fe;we>0&&(we=1/Math.sqrt(we));let Be=Ze*Ze+ct*ct;Be>0&&(Be=1/Math.sqrt(Be));const Je=(Ke*Ze+Fe*ct)*we*Be;return Je>1?0:Je<-1?Math.PI:Math.acos(Je)},str:function pe(xe){return"vec2("+xe[0]+", "+xe[1]+")"},exactEquals:function Ce(xe,Ye){return xe[0]===Ye[0]&&xe[1]===Ye[1]},equals:function De(xe,Ye){const Ke=xe[0],Fe=xe[1],Ze=Ye[0],ct=Ye[1];return Math.abs(Ke-Ze)<=d.E*Math.max(1,Math.abs(Ke),Math.abs(Ze))&&Math.abs(Fe-ct)<=d.E*Math.max(1,Math.abs(Fe),Math.abs(ct))},projectAndScale:function Me(xe,Ye,Ke,Fe,Ze){let ct=Ye[0]-Ke[0],we=Ye[1]-Ke[1];const Be=(Fe[0]*ct+Fe[1]*we)*(Ze-1);return ct=Fe[0]*Be,we=Fe[1]*Be,xe[0]=Ye[0]+ct,xe[1]=Ye[1]+we,xe},len:F,sub:Le,mul:Z,div:D,dist:re,sqrDist:$,sqrLen:R},Symbol.toStringTag,{value:"Module"}))},9545:(wt,Se,p)=>{"use strict";function d(){return new Float32Array(2)}function X(ae,re){const $=new Float32Array(2);return $[0]=ae,$[1]=re,$}function z(){return d()}function Z(){return X(1,1)}function D(){return X(1,0)}function k(){return X(0,1)}p.d(Se,{c:()=>d,f:()=>X});const N=z(),B=Z(),Q=D(),ne=k();Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(ae){const re=new Float32Array(2);return re[0]=ae[0],re[1]=ae[1],re},fromValues:X,createView:function G(ae,re){return new Float32Array(ae,re,2)},zeros:z,ones:Z,unitX:D,unitY:k,ZEROS:N,ONES:B,UNIT_X:Q,UNIT_Y:ne},Symbol.toStringTag,{value:"Module"}))},99770:(wt,Se,p)=>{"use strict";function d(){return[0,0]}function X(re,$){return[re,$]}function z(re,$){return new Float64Array(re,$,2)}function D(){return X(1,1)}function k(){return X(1,0)}function N(){return X(0,1)}p.d(Se,{Z:()=>B,a:()=>d,c:()=>z,f:()=>X});const B=[0,0],Q=D(),ne=k(),te=N();Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(re){return[re[0],re[1]]},fromValues:X,fromArray:function G(re){const $=[0,0],F=Math.min(2,re.length);for(let R=0;R<F;++R)$[R]=re[R];return $},createView:z,zeros:function Z(){return[0,0]},ones:D,unitX:k,unitY:N,ZEROS:B,ONES:Q,UNIT_X:ne,UNIT_Y:te},Symbol.toStringTag,{value:"Module"}))},84161:(wt,Se,p)=>{"use strict";p.d(Se,{C:()=>R,G:()=>N,a:()=>Z,b:()=>D,c:()=>G,d:()=>A,e:()=>se,f:()=>le,g:()=>F,h:()=>de,i:()=>U,k:()=>nt,l:()=>X,m:()=>ye,n:()=>oe,p:()=>V,q:()=>Ce,r:()=>Ne,s:()=>z,t:()=>pe,u:()=>ct});var d=p(28093),v=p(39863);function X(Je){const $e=Je[0],ot=Je[1],mt=Je[2];return Math.sqrt($e*$e+ot*ot+mt*mt)}function G(Je,$e){return Je[0]=$e[0],Je[1]=$e[1],Je[2]=$e[2],Je}function z(Je,$e,ot,mt){return Je[0]=$e,Je[1]=ot,Je[2]=mt,Je}function Z(Je,$e,ot){return Je[0]=$e[0]+ot[0],Je[1]=$e[1]+ot[1],Je[2]=$e[2]+ot[2],Je}function D(Je,$e,ot){return Je[0]=$e[0]-ot[0],Je[1]=$e[1]-ot[1],Je[2]=$e[2]-ot[2],Je}function k(Je,$e,ot){return Je[0]=$e[0]*ot[0],Je[1]=$e[1]*ot[1],Je[2]=$e[2]*ot[2],Je}function N(Je,$e,ot){return Je[0]=$e[0]/ot[0],Je[1]=$e[1]/ot[1],Je[2]=$e[2]/ot[2],Je}function F(Je,$e,ot){return Je[0]=$e[0]*ot,Je[1]=$e[1]*ot,Je[2]=$e[2]*ot,Je}function R(Je,$e,ot,mt){return Je[0]=$e[0]+ot[0]*mt,Je[1]=$e[1]+ot[1]*mt,Je[2]=$e[2]+ot[2]*mt,Je}function U(Je,$e){const ot=$e[0]-Je[0],mt=$e[1]-Je[1],Tt=$e[2]-Je[2];return Math.sqrt(ot*ot+mt*mt+Tt*Tt)}function A(Je,$e){const ot=$e[0]-Je[0],mt=$e[1]-Je[1],Tt=$e[2]-Je[2];return ot*ot+mt*mt+Tt*Tt}function V(Je){const $e=Je[0],ot=Je[1],mt=Je[2];return $e*$e+ot*ot+mt*mt}function oe(Je,$e){const ot=$e[0],mt=$e[1],Tt=$e[2];let It=ot*ot+mt*mt+Tt*Tt;return It>0&&(It=1/Math.sqrt(It),Je[0]=$e[0]*It,Je[1]=$e[1]*It,Je[2]=$e[2]*It),Je}function se(Je,$e){return Je[0]*$e[0]+Je[1]*$e[1]+Je[2]*$e[2]}function le(Je,$e,ot){const mt=$e[0],Tt=$e[1],It=$e[2],Nt=ot[0],Rt=ot[1],Xe=ot[2];return Je[0]=Tt*Xe-It*Rt,Je[1]=It*Nt-mt*Xe,Je[2]=mt*Rt-Tt*Nt,Je}function de(Je,$e,ot,mt){const Tt=$e[0],It=$e[1],Nt=$e[2];return Je[0]=Tt+mt*(ot[0]-Tt),Je[1]=It+mt*(ot[1]-It),Je[2]=Nt+mt*(ot[2]-Nt),Je}function ye(Je,$e,ot){const mt=$e[0],Tt=$e[1],It=$e[2];return Je[0]=ot[0]*mt+ot[4]*Tt+ot[8]*It+ot[12],Je[1]=ot[1]*mt+ot[5]*Tt+ot[9]*It+ot[13],Je[2]=ot[2]*mt+ot[6]*Tt+ot[10]*It+ot[14],Je}function pe(Je,$e,ot){const mt=$e[0],Tt=$e[1],It=$e[2];return Je[0]=mt*ot[0]+Tt*ot[3]+It*ot[6],Je[1]=mt*ot[1]+Tt*ot[4]+It*ot[7],Je[2]=mt*ot[2]+Tt*ot[5]+It*ot[8],Je}function Ce(Je,$e,ot){const mt=ot[0],Tt=ot[1],It=ot[2],Rt=$e[0],Xe=$e[1],vt=$e[2];let Zt=Tt*vt-It*Xe,xt=It*Rt-mt*vt,Lt=mt*Xe-Tt*Rt,en=Tt*Lt-It*xt,En=It*Zt-mt*Lt,Dn=mt*xt-Tt*Zt;const Xn=2*ot[3];return Zt*=Xn,xt*=Xn,Lt*=Xn,en*=2,En*=2,Dn*=2,Je[0]=Rt+Zt+en,Je[1]=Xe+xt+En,Je[2]=vt+Lt+Dn,Je}const je=(0,d.c)(),_e=(0,d.c)();function nt(Je,$e){return Je[0]===$e[0]&&Je[1]===$e[1]&&Je[2]===$e[2]}function Ne(Je,$e,ot){const mt=ot[0]-$e[0],Tt=ot[1]-$e[1],It=ot[2]-$e[2];let Nt=mt*mt+Tt*Tt+It*It;return Nt>0?(Nt=1/Math.sqrt(Nt),Je[0]=mt*Nt,Je[1]=Tt*Nt,Je[2]=It*Nt,Je):(Je[0]=0,Je[1]=0,Je[2]=0,Je)}const ct=X;Object.freeze(Object.defineProperty({__proto__:null,length:X,copy:G,set:z,add:Z,subtract:D,multiply:k,divide:N,ceil:function B(Je,$e){return Je[0]=Math.ceil($e[0]),Je[1]=Math.ceil($e[1]),Je[2]=Math.ceil($e[2]),Je},floor:function Q(Je,$e){return Je[0]=Math.floor($e[0]),Je[1]=Math.floor($e[1]),Je[2]=Math.floor($e[2]),Je},abs:function ne(Je,$e){return Je[0]=Math.abs($e[0]),Je[1]=Math.abs($e[1]),Je[2]=Math.abs($e[2]),Je},sign:function te(Je,$e){return Je[0]=Math.sign($e[0]),Je[1]=Math.sign($e[1]),Je[2]=Math.sign($e[2]),Je},min:function ae(Je,$e,ot){return Je[0]=Math.min($e[0],ot[0]),Je[1]=Math.min($e[1],ot[1]),Je[2]=Math.min($e[2],ot[2]),Je},max:function re(Je,$e,ot){return Je[0]=Math.max($e[0],ot[0]),Je[1]=Math.max($e[1],ot[1]),Je[2]=Math.max($e[2],ot[2]),Je},round:function $(Je,$e){return Je[0]=Math.round($e[0]),Je[1]=Math.round($e[1]),Je[2]=Math.round($e[2]),Je},scale:F,scaleAndAdd:R,distance:U,squaredDistance:A,squaredLength:V,negate:function J(Je,$e){return Je[0]=-$e[0],Je[1]=-$e[1],Je[2]=-$e[2],Je},inverse:function Y(Je,$e){return Je[0]=1/$e[0],Je[1]=1/$e[1],Je[2]=1/$e[2],Je},normalize:oe,dot:se,cross:le,lerp:de,hermite:function q(Je,$e,ot,mt,Tt,It){const Nt=It*It,Rt=Nt*(2*It-3)+1,Xe=Nt*(It-2)+It,vt=Nt*(It-1),Zt=Nt*(3-2*It);return Je[0]=$e[0]*Rt+ot[0]*Xe+mt[0]*vt+Tt[0]*Zt,Je[1]=$e[1]*Rt+ot[1]*Xe+mt[1]*vt+Tt[1]*Zt,Je[2]=$e[2]*Rt+ot[2]*Xe+mt[2]*vt+Tt[2]*Zt,Je},bezier:function ue(Je,$e,ot,mt,Tt,It){const Nt=1-It,Rt=Nt*Nt,Xe=It*It,vt=Rt*Nt,Zt=3*It*Rt,xt=3*Xe*Nt,Lt=Xe*It;return Je[0]=$e[0]*vt+ot[0]*Zt+mt[0]*xt+Tt[0]*Lt,Je[1]=$e[1]*vt+ot[1]*Zt+mt[1]*xt+Tt[1]*Lt,Je[2]=$e[2]*vt+ot[2]*Zt+mt[2]*xt+Tt[2]*Lt,Je},random:function ie(Je,$e){$e=$e||1;const ot=2*(0,v.R)()*Math.PI,mt=2*(0,v.R)()-1,Tt=Math.sqrt(1-mt*mt)*$e;return Je[0]=Math.cos(ot)*Tt,Je[1]=Math.sin(ot)*Tt,Je[2]=mt*$e,Je},transformMat4:ye,transformMat3:pe,transformQuat:Ce,rotateX:function De(Je,$e,ot,mt){const Tt=[],It=[];return Tt[0]=$e[0]-ot[0],Tt[1]=$e[1]-ot[1],Tt[2]=$e[2]-ot[2],It[0]=Tt[0],It[1]=Tt[1]*Math.cos(mt)-Tt[2]*Math.sin(mt),It[2]=Tt[1]*Math.sin(mt)+Tt[2]*Math.cos(mt),Je[0]=It[0]+ot[0],Je[1]=It[1]+ot[1],Je[2]=It[2]+ot[2],Je},rotateY:function Me(Je,$e,ot,mt){const Tt=[],It=[];return Tt[0]=$e[0]-ot[0],Tt[1]=$e[1]-ot[1],Tt[2]=$e[2]-ot[2],It[0]=Tt[2]*Math.sin(mt)+Tt[0]*Math.cos(mt),It[1]=Tt[1],It[2]=Tt[2]*Math.cos(mt)-Tt[0]*Math.sin(mt),Je[0]=It[0]+ot[0],Je[1]=It[1]+ot[1],Je[2]=It[2]+ot[2],Je},rotateZ:function ve(Je,$e,ot,mt){const Tt=[],It=[];return Tt[0]=$e[0]-ot[0],Tt[1]=$e[1]-ot[1],Tt[2]=$e[2]-ot[2],It[0]=Tt[0]*Math.cos(mt)-Tt[1]*Math.sin(mt),It[1]=Tt[0]*Math.sin(mt)+Tt[1]*Math.cos(mt),It[2]=Tt[2],Je[0]=It[0]+ot[0],Je[1]=It[1]+ot[1],Je[2]=It[2]+ot[2],Je},angle:function Le(Je,$e){G(je,Je),G(_e,$e),oe(je,je),oe(_e,_e);const ot=se(je,_e);return ot>1?0:ot<-1?Math.PI:Math.acos(ot)},str:function Re(Je){return"vec3("+Je[0]+", "+Je[1]+", "+Je[2]+")"},exactEquals:nt,equals:function pt(Je,$e){if(Je===$e)return!0;const ot=Je[0],mt=Je[1],Tt=Je[2],It=$e[0],Nt=$e[1],Rt=$e[2];return Math.abs(ot-It)<=v.E*Math.max(1,Math.abs(ot),Math.abs(It))&&Math.abs(mt-Nt)<=v.E*Math.max(1,Math.abs(mt),Math.abs(Nt))&&Math.abs(Tt-Rt)<=v.E*Math.max(1,Math.abs(Tt),Math.abs(Rt))},direction:Ne,sub:D,mul:k,div:N,dist:U,sqrDist:A,len:ct,sqrLen:V},Symbol.toStringTag,{value:"Module"}))},28093:(wt,Se,p)=>{"use strict";function d(){return[0,0,0]}function v(F){return[F[0],F[1],F[2]]}function X(F,R,U){return[F,R,U]}function G(F){const R=[0,0,0],U=Math.min(3,F.length);for(let A=0;A<U;++A)R[A]=F[A];return R}function z(F,R){return new Float64Array(F,R,3)}function D(){return X(1,1,1)}function k(){return X(1,0,0)}function N(){return X(0,1,0)}function B(){return X(0,0,1)}p.d(Se,{O:()=>ne,Z:()=>Q,a:()=>v,b:()=>z,c:()=>d,d:()=>G,f:()=>X});const Q=[0,0,0],ne=D(),te=k(),ae=N(),re=B();Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:v,fromValues:X,fromArray:G,createView:z,zeros:function Z(){return[0,0,0]},ones:D,unitX:k,unitY:N,unitZ:B,ZEROS:Q,ONES:ne,UNIT_X:te,UNIT_Y:ae,UNIT_Z:re},Symbol.toStringTag,{value:"Module"}))},993:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>G,b:()=>te,c:()=>v,d:()=>J,e:()=>F,f:()=>R,g:()=>q,h:()=>ue,l:()=>Y,n:()=>V,s:()=>X});var d=p(39863);function v(je,_e){return je[0]=_e[0],je[1]=_e[1],je[2]=_e[2],je[3]=_e[3],je}function X(je,_e,Re,nt,pt){return je[0]=_e,je[1]=Re,je[2]=nt,je[3]=pt,je}function G(je,_e,Re){return je[0]=_e[0]+Re[0],je[1]=_e[1]+Re[1],je[2]=_e[2]+Re[2],je[3]=_e[3]+Re[3],je}function z(je,_e,Re){return je[0]=_e[0]-Re[0],je[1]=_e[1]-Re[1],je[2]=_e[2]-Re[2],je[3]=_e[3]-Re[3],je}function Z(je,_e,Re){return je[0]=_e[0]*Re[0],je[1]=_e[1]*Re[1],je[2]=_e[2]*Re[2],je[3]=_e[3]*Re[3],je}function D(je,_e,Re){return je[0]=_e[0]/Re[0],je[1]=_e[1]/Re[1],je[2]=_e[2]/Re[2],je[3]=_e[3]/Re[3],je}function te(je,_e,Re){return je[0]=_e[0]*Re,je[1]=_e[1]*Re,je[2]=_e[2]*Re,je[3]=_e[3]*Re,je}function re(je,_e){const Re=_e[0]-je[0],nt=_e[1]-je[1],pt=_e[2]-je[2],Ne=_e[3]-je[3];return Math.sqrt(Re*Re+nt*nt+pt*pt+Ne*Ne)}function $(je,_e){const Re=_e[0]-je[0],nt=_e[1]-je[1],pt=_e[2]-je[2],Ne=_e[3]-je[3];return Re*Re+nt*nt+pt*pt+Ne*Ne}function F(je){const _e=je[0],Re=je[1],nt=je[2],pt=je[3];return Math.sqrt(_e*_e+Re*Re+nt*nt+pt*pt)}function R(je){const _e=je[0],Re=je[1],nt=je[2],pt=je[3];return _e*_e+Re*Re+nt*nt+pt*pt}function V(je,_e){const Re=_e[0],nt=_e[1],pt=_e[2],Ne=_e[3];let xe=Re*Re+nt*nt+pt*pt+Ne*Ne;return xe>0&&(xe=1/Math.sqrt(xe),je[0]=Re*xe,je[1]=nt*xe,je[2]=pt*xe,je[3]=Ne*xe),je}function J(je,_e){return je[0]*_e[0]+je[1]*_e[1]+je[2]*_e[2]+je[3]*_e[3]}function Y(je,_e,Re,nt){const pt=_e[0],Ne=_e[1],xe=_e[2],Ye=_e[3];return je[0]=pt+nt*(Re[0]-pt),je[1]=Ne+nt*(Re[1]-Ne),je[2]=xe+nt*(Re[2]-xe),je[3]=Ye+nt*(Re[3]-Ye),je}function q(je,_e){return je[0]===_e[0]&&je[1]===_e[1]&&je[2]===_e[2]&&je[3]===_e[3]}function ue(je,_e){const Re=je[0],nt=je[1],pt=je[2],Ne=je[3],xe=_e[0],Ye=_e[1],Ke=_e[2],Fe=_e[3];return Math.abs(Re-xe)<=d.E*Math.max(1,Math.abs(Re),Math.abs(xe))&&Math.abs(nt-Ye)<=d.E*Math.max(1,Math.abs(nt),Math.abs(Ye))&&Math.abs(pt-Ke)<=d.E*Math.max(1,Math.abs(pt),Math.abs(Ke))&&Math.abs(Ne-Fe)<=d.E*Math.max(1,Math.abs(Ne),Math.abs(Fe))}Object.freeze(Object.defineProperty({__proto__:null,copy:v,set:X,add:G,subtract:z,multiply:Z,divide:D,ceil:function k(je,_e){return je[0]=Math.ceil(_e[0]),je[1]=Math.ceil(_e[1]),je[2]=Math.ceil(_e[2]),je[3]=Math.ceil(_e[3]),je},floor:function N(je,_e){return je[0]=Math.floor(_e[0]),je[1]=Math.floor(_e[1]),je[2]=Math.floor(_e[2]),je[3]=Math.floor(_e[3]),je},min:function B(je,_e,Re){return je[0]=Math.min(_e[0],Re[0]),je[1]=Math.min(_e[1],Re[1]),je[2]=Math.min(_e[2],Re[2]),je[3]=Math.min(_e[3],Re[3]),je},max:function Q(je,_e,Re){return je[0]=Math.max(_e[0],Re[0]),je[1]=Math.max(_e[1],Re[1]),je[2]=Math.max(_e[2],Re[2]),je[3]=Math.max(_e[3],Re[3]),je},round:function ne(je,_e){return je[0]=Math.round(_e[0]),je[1]=Math.round(_e[1]),je[2]=Math.round(_e[2]),je[3]=Math.round(_e[3]),je},scale:te,scaleAndAdd:function ae(je,_e,Re,nt){return je[0]=_e[0]+Re[0]*nt,je[1]=_e[1]+Re[1]*nt,je[2]=_e[2]+Re[2]*nt,je[3]=_e[3]+Re[3]*nt,je},distance:re,squaredDistance:$,length:F,squaredLength:R,negate:function U(je,_e){return je[0]=-_e[0],je[1]=-_e[1],je[2]=-_e[2],je[3]=-_e[3],je},inverse:function A(je,_e){return je[0]=1/_e[0],je[1]=1/_e[1],je[2]=1/_e[2],je[3]=1/_e[3],je},normalize:V,dot:J,lerp:Y,random:function oe(je,_e){let Re,nt,pt,Ne,xe,Ye;_e=_e||1;do{Re=2*(0,d.R)()-1,nt=2*(0,d.R)()-1,xe=Re*Re+nt*nt}while(xe>=1);do{pt=2*(0,d.R)()-1,Ne=2*(0,d.R)()-1,Ye=pt*pt+Ne*Ne}while(Ye>=1);const Ke=Math.sqrt((1-xe)/Ye);return je[0]=_e*Re,je[1]=_e*nt,je[2]=_e*pt*Ke,je[3]=_e*Ne*Ke,je},transformMat4:function se(je,_e,Re){const nt=_e[0],pt=_e[1],Ne=_e[2],xe=_e[3];return je[0]=Re[0]*nt+Re[4]*pt+Re[8]*Ne+Re[12]*xe,je[1]=Re[1]*nt+Re[5]*pt+Re[9]*Ne+Re[13]*xe,je[2]=Re[2]*nt+Re[6]*pt+Re[10]*Ne+Re[14]*xe,je[3]=Re[3]*nt+Re[7]*pt+Re[11]*Ne+Re[15]*xe,je},transformQuat:function le(je,_e,Re){const nt=_e[0],pt=_e[1],Ne=_e[2],xe=Re[0],Ye=Re[1],Ke=Re[2],Fe=Re[3],Ze=Fe*nt+Ye*Ne-Ke*pt,ct=Fe*pt+Ke*nt-xe*Ne,we=Fe*Ne+xe*pt-Ye*nt,Be=-xe*nt-Ye*pt-Ke*Ne;return je[0]=Ze*Fe+Be*-xe+ct*-Ke-we*-Ye,je[1]=ct*Fe+Be*-Ye+we*-xe-Ze*-Ke,je[2]=we*Fe+Be*-Ke+Ze*-Ye-ct*-xe,je[3]=_e[3],je},str:function de(je){return"vec4("+je[0]+", "+je[1]+", "+je[2]+", "+je[3]+")"},exactEquals:q,equals:ue,sub:z,mul:Z,div:D,dist:re,sqrDist:$,len:F,sqrLen:R},Symbol.toStringTag,{value:"Module"}))},4794:(wt,Se,p)=>{"use strict";function d(){return[0,0,0,0]}function X(U,A,V,J){return[U,A,V,J]}function z(U,A){return new Float64Array(U,A,4)}function D(){return X(1,1,1,1)}function k(){return X(1,0,0,0)}function N(){return X(0,1,0,0)}function B(){return X(0,0,1,0)}function Q(){return X(0,0,0,1)}p.d(Se,{a:()=>z,c:()=>d,f:()=>X});const te=D(),ae=k(),re=N(),$=B(),F=Q();Object.freeze(Object.defineProperty({__proto__:null,create:d,clone:function v(U){return[U[0],U[1],U[2],U[3]]},fromValues:X,fromArray:function G(U){const A=[0,0,0,0],V=Math.min(4,U.length);for(let J=0;J<V;++J)A[J]=U[J];return A},createView:z,zeros:function Z(){return[0,0,0,0]},ones:D,unitX:k,unitY:N,unitZ:B,unitW:Q,ZEROS:[0,0,0,0],ONES:te,UNIT_X:ae,UNIT_Y:re,UNIT_Z:$,UNIT_W:F},Symbol.toStringTag,{value:"Module"}))},20414:(wt,Se,p)=>{"use strict";p.d(Se,{B7:()=>Z,St:()=>v,VL:()=>G,h$:()=>X,rW:()=>D});const d={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function v(k){return d[k]||d[k.toLowerCase()]}function X(k){var N;return null!=(N=d[k])?N:d[k.toLowerCase()]}function G(k){return[...X(k)]}function z(k,N,B){B<0&&++B,B>1&&--B;const Q=6*B;return Q<1?k+(N-k)*Q:2*B<1?N:3*B<2?k+(N-k)*(2/3-B)*6:k}function Z(k,N,B,Q=1){const ne=(k%360+360)%360/360,te=B<=.5?B*(N+1):B+N-B*N,ae=2*B-te;return[Math.round(255*z(ae,te,ne+1/3)),Math.round(255*z(ae,te,ne)),Math.round(255*z(ae,te,ne-1/3)),Q]}function D(k){const N=k.length>5,B=N?8:4,Q=(1<<B)-1,ne=N?1:17,te=N?9===k.length:5===k.length;let ae=Number("0x"+k.substr(1));if(isNaN(ae))return null;const re=[0,0,0,1];let $;return te&&($=ae&Q,ae>>=B,re[3]=ne*$/255),$=ae&Q,ae>>=B,re[2]=ne*$,$=ae&Q,ae>>=B,re[1]=ne*$,$=ae&Q,ae>>=B,re[0]=ne*$,re}},59318:(wt,Se,p)=>{var G;p.d(Se,{Z:()=>X}),p(8314);var v=p(94113);const X={apiKey:void 0,applicationUrl:null==(G=globalThis.location)?void 0:G.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,v.RH)(X,globalThis.esriConfig,!0),delete X.has),X.assetsPath||(X.assetsPath=`https://js.arcgis.com/${"4.24.5".slice(0,-2)}/@arcgis/core/assets`),X.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(X,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),X.request.corsEnabledServers=[],X.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},14517:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ie});var d=p(56354),v=p(62208),X=p(34595),G=p(44648),z=p(34117),D=(p(8314),p(58817)),k=p(63290),N=p(27899),B=p(31283),Q=p(36082),ne=p(2345),te=p(12196);class ae{constructor(pe,Ce,De){this.properties=pe,this.propertyName=Ce,this.metadata=De,this._observers=null,this._accessed=null,this._handles=null,this.flags=ne.v.Dirty|(De.nonNullable?ne.v.NonNullable:0)|(De.hasOwnProperty("value")?ne.v.HasDefaultValue:0)|(void 0===De.get?ne.v.DepTrackingInitialized:0)|(void 0===De.dependsOn?ne.v.AutoTracked:0)}destroy(){if(this.flags&ne.v.Dirty&&this._observers){const pe=this._observers.slice();for(const Ce of pe)Ce.onCommitted()}this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){(0,Q.it)(this);const pe=this.properties.store,Ce=this.propertyName,De=this.flags,Me=pe.get(Ce);if(De&ne.v.Computing||~De&ne.v.Dirty&&pe.has(Ce))return Me;this.flags|=ne.v.Computing;const ve=this.properties.host;let Le;De&ne.v.AutoTracked?Le=(0,Q.LJ)(this,this.metadata.get,ve):((0,Q.GF)(ve,this),Le=this.metadata.get.call(ve)),pe.set(Ce,Le,B.s3.COMPUTED);const je=pe.get(Ce);return je===Me?this.flags&=~ne.v.Dirty:(0,Q.gb)(this.commit,this),this.flags&=~ne.v.Computing,je}onObservableAccessed(pe){pe!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(pe)||this._accessed.push(pe))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=ne.v.DepTrackingInitialized;const pe=this._accessed;if(null===pe)return;let Ce=this._handles;null===Ce&&(Ce=this._handles=[]);for(let De=0;De<pe.length;++De)Ce.push(pe[De].observe(this));pe.length=0}observe(pe){return null===this._observers&&(this._observers=[]),this._observers.includes(pe)||this._observers.push(pe),new te.X(this._observers,pe)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&ne.v.Overriden&&(this.flags|=ne.v.Dirty);const pe=this._observers;if(null!==pe)for(let Ce=0;Ce<pe.length;++Ce)pe[Ce].onInvalidated()}commit(){this.flags&=~ne.v.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const pe=this._observers.slice();for(let Ce=0;Ce<pe.length;++Ce)pe[Ce].onCommitted()}_clearObservationHandles(){const pe=this._handles;if(null!==pe){for(let Ce=0;Ce<pe.length;++Ce)pe[Ce].remove();pe.length=0}}}class re{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(pe){const Ce=new re;return this._values.forEach((De,Me)=>{pe&&pe.has(Me)||Ce.set(Me,(0,D.d9)(De))}),Ce}get(pe){return this._values.get(pe)}originOf(){return B.s3.USER}keys(){return[...this._values.keys()]}set(pe,Ce){this._values.set(pe,Ce)}delete(pe){this._values.delete(pe)}has(pe){return this._values.has(pe)}forEach(pe){this._values.forEach(pe)}}var $=p(52323);function F(ye,pe,Ce){return void 0!==ye}function R(ye,pe,Ce,De){return!(void 0===ye||null==Ce&&ye.flags&ne.v.NonNullable)}k.Z.getLogger("esri.core.accessorSupport.Properties");class A{constructor(pe){this.host=pe,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=G.F.INITIALIZING,this.store=new re,this._origin=B.s3.USER;const Ce=this.host.constructor.__accessorMetadata__,De=Ce.properties;for(const Me in De){const ve=new ae(this,Me,De[Me]);this.properties.set(Me,ve)}this.metadatas=De,this._autoDestroy=Ce.autoDestroy}initialize(){this.lifecycle=G.F.CONSTRUCTING}constructed(){this.lifecycle=G.F.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[pe,Ce]of this.properties){const De=this.internalGet(pe);De&&(ye=De)&&"function"==typeof ye.destroy&&(De.destroy(),~Ce.flags&ne.v.NonNullable&&this._internalSet(Ce,null)),Ce.destroy()}else for(const[pe,Ce]of this.properties)Ce.destroy();var ye}get initialized(){return this.lifecycle!==G.F.INITIALIZING}get(pe){const Ce=this.properties.get(pe);if(Ce.metadata.get)return Ce.getComputed();(0,Q.it)(Ce);const De=this.store;return De.has(pe)?De.get(pe):Ce.metadata.value}originOf(pe){const Ce=this.store.originOf(pe);if(void 0===Ce){const De=this.properties.get(pe);if(void 0!==De&&De.flags&ne.v.HasDefaultValue)return"defaults"}return(0,B.x3)(Ce)}has(pe){return!!this.properties.has(pe)&&this.store.has(pe)}keys(){return[...this.properties.keys()]}internalGet(pe){const Ce=this.properties.get(pe);if(F(Ce))return this.store.has(pe)?this.store.get(pe):Ce.metadata.value}internalSet(pe,Ce){const De=this.properties.get(pe);F(De)&&this._internalSet(De,Ce)}getDependsInfo(pe,Ce,De){const Me=this.properties.get(Ce);if(!F(Me))return"";const ve=new Set,Le=(0,Q.LJ)({onObservableAccessed:_e=>ve.add(_e),onTrackingEnd:()=>{}},()=>{var _e;return null==(_e=Me.metadata.get)?void 0:_e.call(pe)});let je=`${De}${pe.declaredClass.split(".").pop()}.${Ce}: ${Le}\n`;if(0===ve.size)return je;De+="  ";for(const _e of ve){if(!(_e instanceof ae))continue;const Re=_e.properties.host,nt=_e.propertyName,pt=(0,$.vw)(Re);je+=pt?pt.getDependsInfo(Re,nt,De):`${De}${nt}: undefined\n`}return je}setAtOrigin(pe,Ce,De){const Me=this.properties.get(pe);if(F(Me))return this._setAtOrigin(Me,Ce,De)}isOverridden(pe){const Ce=this.properties.get(pe);return void 0!==Ce&&!!(Ce.flags&ne.v.Overriden)}clearOverride(pe){const Ce=this.properties.get(pe);void 0!==Ce&&Ce.flags&ne.v.Overriden&&(Ce.flags&=~ne.v.Overriden,Ce.notifyChange())}override(pe,Ce){const De=this.properties.get(pe);if(!R(De,0,Ce))return;const Me=De.metadata.cast;if(Me){const ve=this._cast(Me,Ce),{valid:Le,value:je}=ve;if(J.release(ve),!Le)return;Ce=je}De.flags|=ne.v.Overriden,this._internalSet(De,Ce)}set(pe,Ce){const De=this.properties.get(pe);if(!R(De,0,Ce))return;const Me=De.metadata.cast;if(Me){const Le=this._cast(Me,Ce),{valid:je,value:_e}=Le;if(J.release(Le),!je)return;Ce=_e}const ve=De.metadata.set;ve?ve.call(this.host,Ce):this._internalSet(De,Ce)}setDefaultOrigin(pe){this._origin=(0,B.M9)(pe)}getDefaultOrigin(){return(0,B.x3)(this._origin)}notifyChange(pe){const Ce=this.properties.get(pe);void 0!==Ce&&Ce.notifyChange()}invalidate(pe){const Ce=this.properties.get(pe);void 0!==Ce&&Ce.invalidate()}commit(pe){const Ce=this.properties.get(pe);void 0!==Ce&&Ce.commit()}_internalSet(pe,Ce){this._setAtOrigin(pe,Ce,this.lifecycle!==G.F.INITIALIZING?this._origin:B.s3.DEFAULTS)}_setAtOrigin(pe,Ce,De){const Me=this.store,ve=pe.propertyName;Me.has(ve,De)&&(0,D.fS)(Ce,Me.get(ve))&&~pe.flags&ne.v.Overriden&&De===Me.originOf(ve)||(pe.invalidate(),Me.set(ve,Ce,De),pe.commit(),(0,Q.mS)(this.host,pe))}_cast(pe,Ce){const De=J.acquire();return De.valid=!0,De.value=Ce,pe&&(De.value=pe.call(this.host,Ce,De)),De}}const J=new N.Z(class V{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var de,Y=p(82255),oe=p(61972),se=p(77712),le=p(76898);function q(ye){var pe;if(null==ye)return{value:ye};if(Array.isArray(ye))return{type:[ye[0]],value:null};switch(typeof ye){case"object":return(null==(pe=ye.constructor)?void 0:pe.__accessorMetadata__)||ye instanceof Date?{type:ye.constructor,value:ye}:ye;case"boolean":return{type:Boolean,value:ye};case"string":return{type:String,value:ye};case"number":return{type:Number,value:ye};case"function":return{type:ye,value:null};default:return}}const ue=Symbol("Accessor-Handles");class ie{constructor(...pe){if(this[de]=null,this.constructor===ie)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new A(this)}),pe.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,pe))}static createSubclass(pe={}){if(Array.isArray(pe))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:Ce,declaredClass:De,constructor:Me}=pe;delete pe.declaredClass,delete pe.properties,delete pe.constructor;const ve=this;class Le extends ve{constructor(..._e){super(..._e),this.inherited=null,Me&&Me.apply(this,_e)}}(0,z.JT)(Le.prototype);for(const je in pe){const _e=pe[je];Le.prototype[je]="function"==typeof _e?function(...Re){const nt=this.inherited;let pt;this.inherited=function(...Ne){if(ve.prototype[je])return ve.prototype[je].apply(this,Ne)};try{pt=_e.apply(this,Re)}catch(Ne){throw this.inherited=nt,Ne}return this.inherited=nt,pt}:pe[je]}for(const je in Ce){const _e=q(Ce[je]);(0,se.Cb)(_e)(Le.prototype,je)}return(0,le.j)(De)(Le)}postscript(pe){const Ce=this.__accessor__,De=Ce.ctorArgs||pe;Ce.initialize(),De&&(this.set(De),Ce.ctorArgs=null),Ce.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||((0,v.yw)(this[ue],pe=>{pe.forEach(Ce=>Ce.remove())}),this[ue]=null,(0,oe.BT)(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===G.F.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(pe){this.get(pe)}get(pe){return(0,X.U2)(this,pe)}hasOwnProperty(pe){return this.__accessor__?this.__accessor__.has(pe):Object.prototype.hasOwnProperty.call(this,pe)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(pe,Ce){return(0,Y.t)(this,pe,Ce),this}watch(pe,Ce,De){return(0,oe.YP)(this,pe,Ce,De)}own(pe){let Ce=this[ue];if((0,v.Wi)(Ce)&&(Ce=this[ue]=new Set),(0,d.TW)(pe))for(const De of pe)Ce.add(De);else Ce.add(pe)}_clearOverride(pe){return this.__accessor__.clearOverride(pe)}_override(pe,Ce){return this.__accessor__.override(pe,Ce)}_isOverridden(pe){return this.__accessor__.isOverridden(pe)}notifyChange(pe){this.__accessor__.notifyChange(pe)}_get(pe){return this.__accessor__.internalGet(pe)}_set(pe,Ce){return this.__accessor__.internalSet(pe,Ce),this}}de=ue},35575:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});var d=p(27899);function v(z){z.length=0}class X{constructor(Z=50,D=50){this._pool=new d.Z(Array,void 0,v,D,Z)}acquire(){return this._pool.acquire()}release(Z){this._pool.release(Z)}prune(){this._pool.prune(0)}static acquire(){return G.acquire()}static release(Z){return G.release(Z)}static prune(){G.prune()}}const G=new X(100)},79608:(wt,Se,p)=>{"use strict";p.d(Se,{J:()=>B,j:()=>Q});var d=p(17626),v=p(14517),G=(p(8314),p(58817)),z=p(63290),Z=p(62208),D=p(31283),k=p(52323),N=p(76898);z.Z.getLogger("esri.core.Clonable");const B=ne=>{let te=class extends ne{clone(){var A;const ae=(0,Z.s3)((0,k.vw)(this),"unable to clone instance of non-accessor class"),re=ae.metadatas,$=ae.store,F={},R=new Map;for(const V in re){const J=re[V],Y=null==$?void 0:$.originOf(V),oe=J.clonable;if(J.readOnly||!1===oe||Y!==D.s3.USER&&Y!==D.s3.DEFAULTS&&Y!==D.s3.WEB_MAP&&Y!==D.s3.WEB_SCENE)continue;const se=this[V];let le=null;le="function"==typeof oe?oe(se):"reference"===oe?se:(0,G.Vo)(se),null!=se&&null==le||(Y===D.s3.DEFAULTS?R.set(V,le):F[V]=le)}const U=new(Object.getPrototypeOf(this).constructor)(F);if(R.size){const V=null==(A=(0,k.vw)(U))?void 0:A.store;if(V)for(const[J,Y]of R)V.set(J,Y,D.s3.DEFAULTS)}return U}};return te=(0,d._)([(0,N.j)("esri.core.Clonable")],te),te};let Q=class extends(B(v.Z)){};Q=(0,d._)([(0,N.j)("esri.core.Clonable")],Q)},74333:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ue});var D,ie,d=p(17626),v=p(35575),X=p(61885),G=p(58817),z=p(62208),Z=p(27899);(ie=D||(D={}))[ie.ADD=1]="ADD",ie[ie.REMOVE=2]="REMOVE",ie[ie.MOVE=4]="MOVE";var re,k=p(50618),N=p(77712),B=p(90912),Q=p(61039),ne=p(76898),te=p(36082),ae=p(48902);const F=new Z.Z(class ${constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(ye){this.defaultPrevented=!1,this.item=ye}},void 0,ie=>{ie.item=null,ie.target=null,ie.defaultPrevented=!1,ie.cancellable=!1}),R=()=>{};function U(ie){return ie?ie instanceof q?ie.toArray():ie.length?Array.prototype.slice.apply(ie):[]:[]}function A(ie){if(ie&&ie.length)return ie[0]}function V(ie,ye,pe,Ce){const De=Math.min(ie.length-pe,ye.length-Ce);let Me=0;for(;Me<De&&ie[pe+Me]===ye[Ce+Me];)Me++;return Me}function J(ie,ye,pe,Ce){ye&&ye.forEach((De,Me,ve)=>{ie.push(De),J(ie,pe.call(Ce,De,Me,ve),pe,Ce)})}const Y=new Set,oe=new Set,se=new Set,le=new Map;let de=0,q=re=class extends X.Z.EventedAccessor{constructor(ie){super(ie),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new ae.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:de++})}static isCollection(ie){return null!=ie&&ie instanceof re}normalizeCtorArgs(ie){return ie?Array.isArray(ie)||ie instanceof re?{items:ie}:ie:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,te.it)(this._observable),this._items}set items(ie){this._emitBeforeChanges(D.ADD)||(this._splice(0,this.length,U(ie)),this._emitAfterChanges(D.ADD))}hasEventListener(ie){return"change"===ie?this._chgListeners.length>0:this._emitter.hasEventListener(ie)}on(ie,ye){if("change"===ie){const pe=this._chgListeners,Ce={removed:!1,callback:ye};return pe.push(Ce),this._notifications&&this._notifications.push({listeners:pe.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=R,Ce.removed=!0,pe.splice(pe.indexOf(Ce),1)}}}return this._emitter.on(ie,ye)}once(ie,ye){const pe=this.on(ie,ye);return{remove(){pe.remove()}}}add(ie,ye){if((0,te.it)(this._observable),this._emitBeforeChanges(D.ADD))return this;const pe=this.getNextIndex(null!=ye?ye:null);return this._splice(pe,0,[ie]),this._emitAfterChanges(D.ADD),this}addMany(ie,ye=this._items.length){if((0,te.it)(this._observable),!ie||!ie.length)return this;if(this._emitBeforeChanges(D.ADD))return this;const pe=this.getNextIndex(ye);return this._splice(pe,0,U(ie)),this._emitAfterChanges(D.ADD),this}at(ie){if((0,te.it)(this._observable),(ie=Math.trunc(ie)||0)<0&&(ie+=this.length),!(ie<0||ie>=this.length))return this._items[ie]}removeAll(){if((0,te.it)(this._observable),!this.length||this._emitBeforeChanges(D.REMOVE))return[];const ie=this._splice(0,this.length)||[];return this._emitAfterChanges(D.REMOVE),ie}clone(){return(0,te.it)(this._observable),this._createNewInstance({items:this._items.map(G.d9)})}concat(...ie){(0,te.it)(this._observable);const ye=ie.map(U);return this._createNewInstance({items:this._items.concat(...ye)})}drain(ie,ye){if((0,te.it)(this._observable),!this.length||this._emitBeforeChanges(D.REMOVE))return;const pe=(0,z.j0)(this._splice(0,this.length)),Ce=pe.length;for(let De=0;De<Ce;De++)ie.call(ye,pe[De],De,pe);this._emitAfterChanges(D.REMOVE)}every(ie,ye){return(0,te.it)(this._observable),this._items.every(ie,ye)}filter(ie,ye){let pe;return(0,te.it)(this._observable),pe=2===arguments.length?this._items.filter(ie,ye):this._items.filter(ie),this._createNewInstance({items:pe})}find(ie,ye){return(0,te.it)(this._observable),this._items.find(ie,ye)}findIndex(ie,ye){return(0,te.it)(this._observable),this._items.findIndex(ie,ye)}flatten(ie,ye){(0,te.it)(this._observable);const pe=[];return J(pe,this,ie,ye),new re(pe)}forEach(ie,ye){return(0,te.it)(this._observable),this._items.forEach(ie,ye)}getItemAt(ie){return(0,te.it)(this._observable),this._items[ie]}getNextIndex(ie){(0,te.it)(this._observable);const ye=this.length;return(ie=null==ie?ye:ie)<0?ie=0:ie>ye&&(ie=ye),ie}includes(ie,ye=0){return(0,te.it)(this._observable),this._items.includes(ie,ye)}indexOf(ie,ye=0){return(0,te.it)(this._observable),this._items.indexOf(ie,ye)}join(ie=","){return(0,te.it)(this._observable),this._items.join(ie)}lastIndexOf(ie,ye=this.length-1){return(0,te.it)(this._observable),this._items.lastIndexOf(ie,ye)}map(ie,ye){(0,te.it)(this._observable);const pe=this._items.map(ie,ye);return new re({items:pe})}reorder(ie,ye=this.length-1){(0,te.it)(this._observable);const pe=this.indexOf(ie);if(-1!==pe){if(ye<0?ye=0:ye>=this.length&&(ye=this.length-1),pe!==ye){if(this._emitBeforeChanges(D.MOVE))return ie;this._splice(pe,1),this._splice(ye,0,[ie]),this._emitAfterChanges(D.MOVE)}return ie}}pop(){if((0,te.it)(this._observable),!this.length||this._emitBeforeChanges(D.REMOVE))return;const ie=A(this._splice(this.length-1,1));return this._emitAfterChanges(D.REMOVE),ie}push(...ie){return(0,te.it)(this._observable),this._emitBeforeChanges(D.ADD)||(this._splice(this.length,0,ie),this._emitAfterChanges(D.ADD)),this.length}reduce(ie,ye){(0,te.it)(this._observable);const pe=this._items;return 2===arguments.length?pe.reduce(ie,ye):pe.reduce(ie)}reduceRight(ie,ye){(0,te.it)(this._observable);const pe=this._items;return 2===arguments.length?pe.reduceRight(ie,ye):pe.reduceRight(ie)}remove(ie){return(0,te.it)(this._observable),this.removeAt(this.indexOf(ie))}removeAt(ie){if((0,te.it)(this._observable),ie<0||ie>=this.length||this._emitBeforeChanges(D.REMOVE))return;const ye=A(this._splice(ie,1));return this._emitAfterChanges(D.REMOVE),ye}removeMany(ie){if((0,te.it)(this._observable),!ie||!ie.length||this._emitBeforeChanges(D.REMOVE))return[];const ye=ie instanceof re?ie.toArray():ie,pe=this._items,Ce=[],De=ye.length;for(let Me=0;Me<De;Me++){const Le=pe.indexOf(ye[Me]);if(Le>-1){const je=1+V(ye,pe,Me+1,Le+1),_e=this._splice(Le,je);_e&&_e.length>0&&Ce.push.apply(Ce,_e),Me+=je-1}}return this._emitAfterChanges(D.REMOVE),Ce}reverse(){if((0,te.it)(this._observable),this._emitBeforeChanges(D.MOVE))return this;const ie=this._splice(0,this.length);return ie&&(ie.reverse(),this._splice(0,0,ie)),this._emitAfterChanges(D.MOVE),this}shift(){if((0,te.it)(this._observable),!this.length||this._emitBeforeChanges(D.REMOVE))return;const ie=A(this._splice(0,1));return this._emitAfterChanges(D.REMOVE),ie}slice(ie=0,ye=this.length){return(0,te.it)(this._observable),this._createNewInstance({items:this._items.slice(ie,ye)})}some(ie,ye){return(0,te.it)(this._observable),this._items.some(ie,ye)}sort(ie){if((0,te.it)(this._observable),!this.length||this._emitBeforeChanges(D.MOVE))return this;const ye=(0,z.j0)(this._splice(0,this.length));return arguments.length?ye.sort(ie):ye.sort(),this._splice(0,0,ye),this._emitAfterChanges(D.MOVE),this}splice(ie,ye,...pe){(0,te.it)(this._observable);const Ce=(ye?D.REMOVE:0)|(pe.length?D.ADD:0);if(this._emitBeforeChanges(Ce))return[];const De=this._splice(ie,ye,pe)||[];return this._emitAfterChanges(Ce),De}toArray(){return(0,te.it)(this._observable),this._items.slice()}toJSON(){return(0,te.it)(this._observable),this.toArray()}toLocaleString(){return(0,te.it)(this._observable),this._items.toLocaleString()}toString(){return(0,te.it)(this._observable),this._items.toString()}unshift(...ie){return(0,te.it)(this._observable),!ie.length||this._emitBeforeChanges(D.ADD)||(this._splice(0,0,ie),this._emitAfterChanges(D.ADD)),this.length}_createNewInstance(ie){return new this.constructor(ie)}_splice(ie,ye,pe){const Ce=this._items,De=this.itemType;let Me,ve;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,k.Os)(()=>this._dispatchChange())),ye){if(ve=Ce.splice(ie,ye),this.hasEventListener("before-remove")){const Le=F.acquire();Le.target=this,Le.cancellable=!0;for(let je=0,_e=ve.length;je<_e;je++)Me=ve[je],Le.reset(Me),this.emit("before-remove",Le),Le.defaultPrevented&&(ve.splice(je,1),Ce.splice(ie,0,Me),ie+=1,je-=1,_e-=1);F.release(Le)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const Le=F.acquire();Le.target=this,Le.cancellable=!1;const je=ve.length;for(let _e=0;_e<je;_e++)Le.reset(ve[_e]),this.emit("after-remove",Le);F.release(Le)}}if(pe&&pe.length){if(De){const Re=[];for(const nt of pe){const pt=De.ensureType(nt);null==pt&&null!=nt||Re.push(pt)}pe=Re}const Le=this.hasEventListener("before-add"),je=this.hasEventListener("after-add"),_e=ie===this.length;if(Le||je){const Re=F.acquire();Re.target=this,Re.cancellable=!0;const nt=F.acquire();nt.target=this,nt.cancellable=!1;for(const pt of pe)Le?(Re.reset(pt),this.emit("before-add",Re),Re.defaultPrevented||(_e?Ce.push(pt):Ce.splice(ie++,0,pt),this._set("length",Ce.length),je&&(nt.reset(pt),this.emit("after-add",nt)))):(_e?Ce.push(pt):Ce.splice(ie++,0,pt),this._set("length",Ce.length),nt.reset(pt),this.emit("after-add",nt));F.release(nt),F.release(Re)}else{if(_e)for(const Re of pe)Ce.push(Re);else Ce.splice(ie,0,...pe);this._set("length",Ce.length)}}return(pe&&pe.length||ve&&ve.length)&&this._notifyChangeEvent(pe,ve),ve}_emitBeforeChanges(ie){let ye=!1;if(this.hasEventListener("before-changes")){const pe=F.acquire();pe.target=this,pe.cancellable=!0,pe.type=ie,this.emit("before-changes",pe),ye=pe.defaultPrevented,F.release(pe)}return ye}_emitAfterChanges(ie){if(this.hasEventListener("after-changes")){const ye=F.acquire();ye.target=this,ye.cancellable=!1,ye.type=ie,this.emit("after-changes",ye),F.release(ye)}this._observable.notify()}_notifyChangeEvent(ie,ye){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:ie,removed:ye})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const ie=this._notifications;this._notifications=null;for(const ye of ie){const pe=ye.changes;Y.clear(),oe.clear(),se.clear();for(const{added:je,removed:_e}of pe){if(je)if(0===se.size&&0===oe.size)for(const Re of je)Y.add(Re);else for(const Re of je)oe.has(Re)?(se.add(Re),oe.delete(Re)):se.has(Re)||Y.add(Re);if(_e)if(0===se.size&&0===Y.size)for(const Re of _e)oe.add(Re);else for(const Re of _e)Y.has(Re)?Y.delete(Re):(se.delete(Re),oe.add(Re))}const Ce=v.Z.acquire();Y.forEach(je=>{Ce.push(je)});const De=v.Z.acquire();oe.forEach(je=>{De.push(je)});const Me=this._items,ve=ye.items,Le=v.Z.acquire();if(se.forEach(je=>{ve.indexOf(je)!==Me.indexOf(je)&&Le.push(je)}),ye.listeners&&(Ce.length||De.length||Le.length)){const je={target:this,added:Ce,removed:De,moved:Le},_e=ye.listeners.length;for(let Re=0;Re<_e;Re++){const nt=ye.listeners[Re];nt.removed||nt.callback.call(this,je)}}v.Z.release(Ce),v.Z.release(De),v.Z.release(Le)}Y.clear(),oe.clear(),se.clear()}};q.ofType=ie=>{if(!ie)return re;if(le.has(ie))return le.get(ie);let ye=null;if("function"==typeof ie)ye=ie.prototype.declaredClass;else if(ie.base)ye=ie.base.prototype.declaredClass;else for(const Ce in ie.typeMap){const De=ie.typeMap[Ce].prototype.declaredClass;ye?ye+=` | ${De}`:ye=De}let pe=class extends re{};return(0,d._)([(0,Q.c)({Type:ie,ensureType:"function"==typeof ie?(0,B.se)(ie):(0,B.N7)(ie)})],pe.prototype,"itemType",void 0),pe=(0,d._)([(0,ne.j)(`esri.core.Collection<${ye}>`)],pe),le.set(ie,pe),pe},(0,d._)([(0,N.Cb)()],q.prototype,"length",void 0),(0,d._)([(0,N.Cb)()],q.prototype,"items",null),q=re=(0,d._)([(0,ne.j)("esri.core.Collection")],q);const ue=q},46882:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var d=p(17626),v=p(74333),X=p(80542),G=p(62208),N=(p(8314),p(26584),p(63290),p(61972),p(21352)),B=p(77712),te=(p(85931),p(90912),p(76898));let ae=class extends((0,X.p)(v.Z)){constructor($){super($),this.getCollections=null}initialize(){this.handles.add((0,N.EH)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const $=(0,G.pC)(this.getCollections)?this.getCollections():null;if((0,G.Wi)($))return void this.removeAll();let F=0;for(const R of $)(0,G.pC)(R)&&(F=this._processCollection(F,R));this.splice(F,this.length)}_createNewInstance($){return new v.Z($)}_processCollection($,F){if(!F)return $;const R=this.itemFilterFunction?this.itemFilterFunction:U=>!!U;for(const U of F)if(U){if(R(U)){const A=this.indexOf(U,$);A>=0?A!==$&&this.reorder(U,$):this.add(U,$),++$}if(this.getChildrenFunction){const A=this.getChildrenFunction(U);if(Array.isArray(A))for(const V of A)$=this._processCollection($,V);else $=this._processCollection($,A)}}return $}};(0,d._)([(0,B.Cb)()],ae.prototype,"getCollections",void 0),(0,d._)([(0,B.Cb)()],ae.prototype,"getChildrenFunction",void 0),(0,d._)([(0,B.Cb)()],ae.prototype,"itemFilterFunction",void 0),ae=(0,d._)([(0,te.j)("esri.core.CollectionFlattener")],ae);const re=ae},23719:(wt,Se,p)=>{"use strict";p.d(Se,{BV:()=>Z});var d=p(21286);class v{constructor(k,N){this.min=k,this.max=N,this.range=N-k}ndiff(k,N=0){return Math.ceil((k-N)/this.range)*this.range+N}_normalize(k,N,B,Q=0,ne=!1){return(B-=Q)<k?B+=this.ndiff(k-B):B>N&&(B-=this.ndiff(B-N)),ne&&B===N&&(B=k),B+Q}normalize(k,N=0,B=!1){return this._normalize(this.min,this.max,k,N,B)}clamp(k,N=0){return(0,d.uZ)(k-N,this.min,this.max)+N}monotonic(k,N,B){return k<N?N:N+this.ndiff(k-N,B)}minimalMonotonic(k,N,B){return this._normalize(k,k+this.range,N,B)}center(k,N,B){return N=this.monotonic(k,N,B),this.normalize((k+N)/2,B)}diff(k,N,B){return this.monotonic(k,N,B)-k}shortestSignedDiff(k,N){k=this.normalize(k);const B=(N=this.normalize(N))-k,Q=N<k?this.minimalMonotonic(k,N)-k:N-this.minimalMonotonic(N,k);return Math.abs(B)<Math.abs(Q)?B:Q}contains(k,N,B){return N=this.minimalMonotonic(k,N),(B=this.minimalMonotonic(k,B))>k&&B<N}}function X(D){for(const k in D){const N=D[k];N instanceof Function&&(D[k]=N.bind(D))}return D}X(new v(0,2*Math.PI)),X(new v(-Math.PI,Math.PI));const Z=X(new v(0,360))},26584:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>G});var d=p(58817),v=p(63290),X=p(90888);class G extends X.Z{constructor(Z,D,k){if(super(Z,D,k),!(this instanceof G))return new G(Z,D,k)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(Z,D)=>{if(D&&"object"==typeof D&&"function"==typeof D.toJSON)return D;try{return(0,d.d9)(D)}catch(k){return"[object]"}}))}}catch(Z){throw v.Z.getLogger("esri.core.Error").error(Z),Z}return{name:this.name,message:this.message,details:this.details}}static fromJSON(Z){return new G(Z.name,Z.message,Z.details)}}G.prototype.type="error"},61885:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Z});var d=p(17626),v=p(14517),X=p(54024),G=p(76898);class z{constructor(){this._emitter=new z.EventEmitter(this)}emit(k,N){return this._emitter.emit(k,N)}on(k,N){return this._emitter.on(k,N)}once(k,N){return this._emitter.once(k,N)}hasEventListener(k){return this._emitter.hasEventListener(k)}}!function(D){class k{constructor(Q=null){this.target=Q,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(Q,ne){const te=this._listenersMap&&this._listenersMap.get(Q);if(!te)return!1;const ae=this.target||this;return[...te].forEach(re=>{re.call(ae,ne)}),te.length>0}on(Q,ne){if(Array.isArray(Q)){const ae=Q.map(re=>this.on(re,ne));return(0,X.AL)(ae)}if(Q.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const te=this._listenersMap.get(Q)||[];return te.push(ne),this._listenersMap.set(Q,te),{remove:()=>{const ae=this._listenersMap&&this._listenersMap.get(Q)||[],re=ae.indexOf(ne);re>=0&&ae.splice(re,1)}}}once(Q,ne){const te=this.on(Q,ae=>{te.remove(),ne.call(null,ae)});return te}hasEventListener(Q){const ne=this._listenersMap&&this._listenersMap.get(Q);return null!=ne&&ne.length>0}}D.EventEmitter=k,D.EventedMixin=B=>{let Q=class extends B{constructor(){super(...arguments),this._emitter=new k}destroy(){this._emitter.clear()}emit(ne,te){return this._emitter.emit(ne,te)}on(ne,te){return this._emitter.on(ne,te)}once(ne,te){return this._emitter.once(ne,te)}hasEventListener(ne){return this._emitter.hasEventListener(ne)}};return Q=(0,d._)([(0,G.j)("esri.core.Evented")],Q),Q};let N=class extends v.Z{constructor(){super(...arguments),this._emitter=new z.EventEmitter(this)}destroy(){this._emitter.clear()}emit(B,Q){return this._emitter.emit(B,Q)}on(B,Q){return this._emitter.on(B,Q)}once(B,Q){return this._emitter.once(B,Q)}hasEventListener(B){return this._emitter.hasEventListener(B)}};N=(0,d._)([(0,G.j)("esri.core.Evented")],N),D.EventedAccessor=N}(z||(z={}));const Z=z},80542:(wt,Se,p)=>{"use strict";p.d(Se,{p:()=>D,r:()=>k});var d=p(17626),v=p(14517),X=p(72392),G=p(77712),z=p(76898),Z=p(17760);const D=N=>{let B=class extends N{destroy(){var Q,ne;this.destroyed||(null==(Q=this._get("handles"))||Q.destroy(),null==(ne=this._get("updatingHandles"))||ne.destroy())}get handles(){return this._get("handles")||new X.Z}get updatingHandles(){return this._get("updatingHandles")||new Z.t}};return(0,d._)([(0,G.Cb)({readOnly:!0})],B.prototype,"handles",null),(0,d._)([(0,G.Cb)({readOnly:!0})],B.prototype,"updatingHandles",null),B=(0,d._)([(0,z.j)("esri.core.HandleOwner")],B),B};let k=class extends(D(v.Z)){};k=(0,d._)([(0,z.j)("esri.core.HandleOwner")],k)},72392:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>k});var d=p(17626),v=p(14517),X=p(74333),G=p(62208),z=p(77712),Z=p(76898);let D=class extends v.Z{constructor(N){super(N),this._groups=new Map}destroy(){this.removeAll()}get size(){let N=0;return this._groups.forEach(B=>{N+=B.length}),N}add(N,B){if(!this._isHandle(N)&&!Array.isArray(N)&&!X.Z.isCollection(N))return this;const Q=this._getOrCreateGroup(B);return Array.isArray(N)||X.Z.isCollection(N)?N.forEach(ne=>this._isHandle(ne)&&Q.push(ne)):Q.push(N),this.notifyChange("size"),this}forEach(N,B){if("function"==typeof N)this._groups.forEach(Q=>Q.forEach(N));else{const Q=this._getGroup(N);Q&&B&&Q.forEach(B)}}has(N){return this._groups.has(this._ensureGroupKey(N))}remove(N){if(Array.isArray(N)||X.Z.isCollection(N))return N.forEach(this.remove,this),this;if(!this.has(N))return this;const B=this._getGroup(N);for(let Q=0;Q<B.length;Q++)B[Q].remove();return this._deleteGroup(N),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(N=>{for(let B=0;B<N.length;B++)N[B].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(N){return N&&!!N.remove}_getOrCreateGroup(N){if(this.has(N))return this._getGroup(N);const B=[];return this._groups.set(this._ensureGroupKey(N),B),B}_getGroup(N){return(0,G.j0)(this._groups.get(this._ensureGroupKey(N)))}_deleteGroup(N){return this._groups.delete(this._ensureGroupKey(N))}_ensureGroupKey(N){return N||"_default_"}};(0,d._)([(0,z.Cb)({readOnly:!0})],D.prototype,"size",null),D=(0,d._)([(0,Z.j)("esri.core.Handles")],D);const k=D},61996:(wt,Se,p)=>{"use strict";p.d(Se,{IG:()=>G});var d=p(17626),v=p(76898);let X=0;const G=D=>{let k=class extends D{constructor(...N){super(...N),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+X++})}};return k=(0,d._)([(0,v.j)("esri.core.Identifiable")],k),k};let Z=class extends(G(class{})){};Z=(0,d._)([(0,v.j)("esri.core.Identifiable")],Z)},78498:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(1036);class v{constructor(G,z){this._storage=new d.WJ,this._storage.maxSize=G,z&&this._storage.registerRemoveFunc("",z)}put(G,z){this._storage.put(G,z,1,1)}pop(G){return this._storage.pop(G)}get(G){return this._storage.get(G)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},86810:(wt,Se,p)=>{"use strict";p.d(Se,{wq:()=>$,eC:()=>te});var d=p(17626),v=p(14517),X=p(62208),G=p(58817),z=p(31283);class Z{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(R){const U=new Z;return this._values.forEach((A,V)=>{R&&R.has(V)||U.set(V,(0,G.d9)(A.value),A.origin)}),U}get(R,U){U=this._normalizeOrigin(U);const A=this._values.get(R);return null==U||(null==A?void 0:A.origin)===U?null==A?void 0:A.value:void 0}originOf(R){var U,A;return null!=(A=null==(U=this._values.get(R))?void 0:U.origin)?A:z.s3.USER}keys(R){R=this._normalizeOrigin(R);const U=[...this._values.keys()];return null==R?U:U.filter(A=>{var V;return(null==(V=this._values.get(A))?void 0:V.origin)===R})}set(R,U,A){if((A=this._normalizeOrigin(A))===z.s3.DEFAULTS){const V=this._values.get(R);if(V&&null!=V.origin&&V.origin>A)return}this._values.set(R,new D(U,A))}delete(R,U){var A;null!=(U=this._normalizeOrigin(U))&&(null==(A=this._values.get(R))?void 0:A.origin)!==U||this._values.delete(R)}has(R,U){var A;return null!=(U=this._normalizeOrigin(U))?(null==(A=this._values.get(R))?void 0:A.origin)===U:this._values.has(R)}forEach(R){this._values.forEach(({value:U},A)=>R(U,A))}_normalizeOrigin(R){if(null!=R)return R===z.s3.DEFAULTS?R:z.s3.USER}}class D{constructor(R,U){this.value=R,this.origin=U}}var k=p(12590),N=p(29338),B=p(52323),Q=p(36054),ne=p(76898);const te=F=>{let R=class extends F{constructor(...U){super(...U);const A=(0,X.j0)((0,B.vw)(this)),V=A.store,J=new Z;A.store=J,(0,k.M)(A,V,J)}read(U,A){(0,N.i)(this,U,A)}write(U={},A){return(0,Q.c)(this,U,A)}toJSON(U){return this.write({},U)}static fromJSON(U,A){return ae.call(this,U,A)}};return R=(0,d._)([(0,ne.j)("esri.core.JSONSupport")],R),R.prototype.toJSON.isDefaultToJSON=!0,R};function ae(F,R){if(!F)return null;if(F.declaredClass)throw new Error("JSON object is already hydrated");const U=new this;return U.read(F,R),U}let $=class extends(te(v.Z)){};$=(0,d._)([(0,ne.j)("esri.core.JSONSupport")],$)},93961:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(1036);class v{constructor(G,z){this._storage=new d.WJ,this._storage.maxSize=G,z&&this._storage.registerRemoveFunc("",z)}put(G,z,Z){this._storage.put(G,z,Z,1)}pop(G){return this._storage.pop(G)}get(G){return this._storage.get(G)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(G){this._storage.maxSize=G}}},47996:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var d=p(17626),v=p(26584),X=p(60330),G=p(10699),z=p(14889),Z=p(77712),D=p(76898);const Q="loaded",ne=re=>{let $=class extends re{constructor(...F){super(...F),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(R=>{const U=this.load.bind(this);this.load=A=>{const V=new Promise((J,Y)=>{const oe=(0,G.$F)(A,Y);this.destroyed&&Y(new v.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(J,Y).finally(()=>{oe&&oe.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const J=this._loadController=new AbortController;U({signal:J.signal}),(0,G.fu)(J.signal,()=>{this._promiseProps.abort()})}return R(),V}})),this.when(()=>{this._set("loadStatus",Q),this._loadController=null},R=>{this._set("loadStatus","failed"),this._set("loadError",R),this._loadController=null})}get loaded(){return this.loadStatus===Q}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var F;return this.isFulfilled()||(this._set("loadError",new v.Z("load:cancelled","Cancelled")),null==(F=this._loadController)||F.abort()),this}};return(0,d._)([(0,Z.Cb)({readOnly:!0})],$.prototype,"loaded",null),(0,d._)([(0,Z.Cb)({readOnly:!0})],$.prototype,"loadError",void 0),(0,d._)([(0,Z.Cb)({clonable:!1})],$.prototype,"loadStatus",void 0),(0,d._)([(0,Z.Cb)({type:[z.Z],readOnly:!0})],$.prototype,"loadWarnings",null),$=(0,d._)([(0,D.j)("esri.core.Loadable")],$),$};let te=class extends(ne(X.D)){};var re;te=(0,d._)([(0,D.j)("esri.core.Loadable")],te),(re=te||(te={})).LoadableMixin=ne,re.isLoadable=function $(F){return!(!F||!F.load)};const ae=te},63290:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Z});var d=p(59318),X=(p(8314),p(62208)),G=p(77275);const z={info:0,warn:1,error:2,none:3};class Z{constructor(k){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=k.level&&(this.level=k.level),null!=k.writer&&(this.writer=k.writer),this._module=k.module,Z._loggers[this.module]=this;const N=this.module.lastIndexOf(".");-1!==N&&(this._parent=Z.getLogger(this.module.slice(0,N)))}get module(){return this._module}get parent(){return this._parent}error(...k){this._log("error","always",...k)}warn(...k){this._log("warn","always",...k)}info(...k){this._log("info","always",...k)}errorOnce(...k){this._log("error","once",...k)}warnOnce(...k){this._log("warn","once",...k)}infoOnce(...k){this._log("info","once",...k)}errorOncePerTick(...k){this._log("error","oncePerTick",...k)}warnOncePerTick(...k){this._log("warn","oncePerTick",...k)}infoOncePerTick(...k){this._log("info","oncePerTick",...k)}get test(){const k=this;return{loggedMessages:k._loggedMessages,clearLoggedWarnings:()=>k._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(k={}){const N=Z._loggers;return Z._loggers=k,N},set throttlingDisabled(k){Z._throttlingDisabled=k}}}static getLogger(k){let N=Z._loggers[k];return N||(N=new Z({module:k})),N}_log(k,N,...B){if(this._matchLevel(k)){if("always"!==N&&!Z._throttlingDisabled){const Q=this._argsToKey(B),ne=this._loggedMessages[k].get(Q);if("once"===N&&null!=ne||"oncePerTick"===N&&ne&&ne>=Z._tickCounter)return;this._loggedMessages[k].set(Q,Z._tickCounter),Z._scheduleTickCounterIncrement()}for(const Q of d.Z.log.interceptors)if(Q(k,this.module,...B))return;this._inheritedWriter()(k,this.module,...B)}}_parentWithMember(k,N){let B=this;for(;(0,X.pC)(B);){const Q=B[k];if((0,X.pC)(Q))return Q;B=B.parent}return N}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(k,N,...B){console[k](`[${N}]`,...B)}_matchLevel(k){return z[this._parentWithMember("level",d.Z.log.level?d.Z.log.level:"warn")]<=z[k]}_argsToKey(...k){return(0,G.hP)(JSON.stringify(k,(B,Q)=>"object"!=typeof Q||Array.isArray(Q)?Q:"[Object]"))}static _scheduleTickCounterIncrement(){Z._tickCounterScheduled||(Z._tickCounterScheduled=!0,Promise.resolve().then(()=>{Z._tickCounter++,Z._tickCounterScheduled=!1}))}}Z._loggers={},Z._tickCounter=0,Z._tickCounterScheduled=!1,Z._throttlingDisabled=!1},88159:(wt,Se,p)=>{"use strict";function d(z,Z){for(const[D,k]of z)if(Z(k,D))return!0;return!1}function X(z,Z,D){const k=z.get(Z);if(void 0!==k)return k;const N=D();return z.set(Z,N),N}p.d(Se,{oE:()=>d,s1:()=>X})},1036:(wt,Se,p)=>{"use strict";p.d(Se,{WJ:()=>Z,Xq:()=>z});var G,D,d=p(62208),v=p(77029);(D=G||(G={}))[D.ALL=0]="ALL",D[D.SOME=1]="SOME";class z{constructor(k,N,B){this._namespace=k,this._storage=N,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",B&&(this._storage.registerRemoveFunc(this._namespace,B),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(k,N,B,Q=0){this._storage.put(this._namespace+k,N,B,Q)}get(k){const N=this._storage.get(this._namespace+k);return void 0===N?++this._miss:++this._hit,N}pop(k){const N=this._storage.pop(this._namespace+k);return void 0===N?++this._miss:++this._hit,N}updateSize(k,N,B){this._storage.updateSize(this._namespace+k,N,B)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class Z{constructor(k=10485760){this._maxSize=k,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new v.Z,this._users=new v.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(k){this._users.push(k)}deregister(k){this._users.removeUnordered(k)}registerRemoveFunc(k,N){this._removeFuncs.push([k,N])}deregisterRemoveFunc(k){this._removeFuncs.filterInPlace(N=>N[0]!==k)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(k){this._maxSize=Math.max(k,0),this._checkSizeLimit()}put(k,N,B,Q){const ne=this._db.get(k);if(ne&&(this._size-=ne.size,this._db.delete(k),ne.entry!==N&&this._notifyRemove(k,ne.entry,G.ALL)),B>this._maxSize)return void this._notifyRemove(k,N,G.ALL);if(void 0===N)return void console.warn("Refusing to cache undefined entry ");if(!B||B<0)return void console.warn("Refusing to cache entry with invalid size "+B);const te=1+Math.max(Q,-3)- -3;this._db.set(k,{entry:N,size:B,lifetime:te,lives:te}),this._size+=B,this._checkSizeLimit()}updateSize(k,N,B){const Q=this._db.get(k);if(Q&&Q.entry===N){for(this._size-=Q.size;B>this._maxSize;){const ne=this._notifyRemove(k,N,G.SOME);if(!((0,d.pC)(ne)&&ne>0))return void this._db.delete(k);B=ne}Q.size=B,this._size+=B,this._checkSizeLimit()}}pop(k){const N=this._db.get(k);if(N)return this._size-=N.size,this._db.delete(k),++this._hit,N.entry;++this._miss}get(k){const N=this._db.get(k);if(void 0!==N)return this._db.delete(k),N.lives=N.lifetime,this._db.set(k,N),++this._hit,N.entry;++this._miss}getStats(){const k={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},N={},B=new Array;this._db.forEach((te,ae)=>{const re=te.lifetime;B[re]=(B[re]||0)+te.size,this._users.forAll($=>{const F=$.namespace;ae.startsWith(F)&&(N[F]=(N[F]||0)+te.size)})});const Q={};this._users.forAll(te=>{const ae=te.namespace;!isNaN(te.hitRate)&&te.hitRate>0?(N[ae]=N[ae]||0,Q[ae]=Math.round(100*te.hitRate)+"%"):Q[ae]="0%"});const ne=Object.keys(N);ne.sort((te,ae)=>N[ae]-N[te]),ne.forEach(te=>k[te]=Math.round(N[te]/2**20)+"MB / "+Q[te]);for(let te=B.length-1;te>=0;--te){const ae=B[te];ae&&(k["Priority "+(te+-3-1)]=Math.round(ae/this.size*100)+"%")}return k}resetStats(){this._hit=this._miss=0,this._users.forAll(k=>k.resetHitRate())}clear(k){this._db.forEach((N,B)=>{B.startsWith(k)&&(this._size-=N.size,this._db.delete(B),this._notifyRemove(B,N.entry,G.ALL))})}clearAll(){this._db.forEach((k,N)=>this._notifyRemove(N,k.entry,G.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(k,N,B){let Q;return this._removeFuncs.some(ne=>{if(k.startsWith(ne[0])){const te=ne[1](N,B);return"number"==typeof te&&(Q=te),!0}return!1}),Q}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[k,N]of this._db){if(this._db.delete(k),N.lives<=1){this._size-=N.size;const B=this._notifyRemove(k,N.entry,G.SOME);(0,d.pC)(B)&&B>0&&(this._size+=B,N.lives=N.lifetime,N.size=B,this._db.set(k,N))}else--N.lives,this._db.set(k,N);if(this._size<=.9*this.maxSize)return}}}},90888:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});var d=p(94113);class X{constructor(z,Z,D){this.name=z,this.details=D,this.message=void 0,this instanceof X&&(this.message=Z&&function v(G,z){return G.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(Z,D)=>{if(""===D)return"$";const k=(0,d.hS)(D,z),N=null==k?"":k;if(void 0===N)throw new Error(`could not find key "${D}" in template`);return N.toString()})}(Z,D)||"")}toString(){return"["+this.name+"]: "+this.message}}},99959:(wt,Se,p)=>{"use strict";p.d(Se,{R:()=>F,w:()=>R});var d=p(17626),v=p(14517),X=p(62208),G=p(12590),z=p(58817),Z=p(31283);class D{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Z.kk),this._values=new Map,this.multipleOriginsSupported=!0}clone(A){const V=new D,J=this._originStores[Z.s3.DEFAULTS];J&&J.forEach((Y,oe)=>{V.set(oe,(0,z.d9)(Y),Z.s3.DEFAULTS)});for(let Y=Z.s3.SERVICE;Y<Z.kk;Y++){const oe=this._originStores[Y];oe&&oe.forEach((se,le)=>{A&&A.has(le)||V.set(le,(0,z.d9)(se),Y)})}return V}get(A,V){const J=void 0===V?this._values:this._originStores[V];return J?J.get(A):void 0}keys(A){const V=null==A?this._values:this._originStores[A];return V?[...V.keys()]:[]}set(A,V,J=Z.s3.USER){let Y=this._originStores[J];if(Y||(Y=new Map,this._originStores[J]=Y),Y.set(A,V),!this._values.has(A)||(0,X.j0)(this._propertyOriginMap.get(A))<=J){const oe=this._values.get(A);return this._values.set(A,V),this._propertyOriginMap.set(A,J),oe!==V}return!1}delete(A,V=Z.s3.USER){const J=this._originStores[V];if(!J)return;const Y=J.get(A);if(J.delete(A),this._values.has(A)&&this._propertyOriginMap.get(A)===V){this._values.delete(A);for(let oe=V-1;oe>=0;oe--){const se=this._originStores[oe];if(se&&se.has(A)){this._values.set(A,se.get(A)),this._propertyOriginMap.set(A,oe);break}}}return Y}has(A,V){const J=void 0===V?this._values:this._originStores[V];return!!J&&J.has(A)}revert(A,V){for(;V>0&&!this.has(A,V);)--V;const J=this._originStores[V],Y=J&&J.get(A),oe=this._values.get(A);return this._values.set(A,Y),this._propertyOriginMap.set(A,V),oe!==Y}originOf(A){return this._propertyOriginMap.get(A)||Z.s3.DEFAULTS}forEach(A){this._values.forEach(A)}}var k=p(29338),N=p(52323),B=p(76898);const Q=U=>{let A=class extends U{constructor(...V){super(...V);const J=(0,X.j0)((0,N.vw)(this)),Y=J.store,oe=new D;J.store=oe,(0,G.M)(J,Y,oe)}read(V,J){(0,k.i)(this,V,J)}getAtOrigin(V,J){const Y=ne(this),oe=(0,Z.M9)(J);if("string"==typeof V)return Y.get(V,oe);const se={};return V.forEach(le=>{se[le]=Y.get(le,oe)}),se}originOf(V){return(0,Z.x3)(this.originIdOf(V))}originIdOf(V){return ne(this).originOf(V)}revert(V,J){const Y=ne(this),oe=(0,Z.M9)(J),se=(0,N.vw)(this);let le;le="string"==typeof V?"*"===V?Y.keys(oe):[V]:V,le.forEach(de=>{se.invalidate(de),Y.revert(de,oe),se.commit(de)})}};return A=(0,d._)([(0,B.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],A),A};function ne(U){return(0,N.vw)(U).store}let te=class extends(Q(v.Z)){};te=(0,d._)([(0,B.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],te);var ae=p(36054);const re=U=>{let A=class extends U{constructor(...V){super(...V)}clear(V,J="user"){return $(this).delete(V,(0,Z.M9)(J))}write(V={},J){return(0,ae.c)(this,V=V||{},J),V}setAtOrigin(V,J,Y){(0,N.vw)(this).setAtOrigin(V,J,(0,Z.M9)(Y))}removeOrigin(V){const J=$(this),Y=(0,Z.M9)(V),oe=J.keys(Y);for(const se of oe)J.originOf(se)===Y&&J.set(se,J.get(se,Y),Z.s3.USER)}updateOrigin(V,J){const Y=$(this),oe=(0,Z.M9)(J),se=this.get(V);for(let le=oe+1;le<Z.kk;++le)Y.delete(V,le);Y.set(V,se,oe)}toJSON(V){return this.write({},V)}};return A=(0,d._)([(0,B.j)("esri.core.WriteableMultiOriginJSONSupport")],A),A.prototype.toJSON.isDefaultToJSON=!0,A};function $(U){return(0,N.vw)(U).store}const F=U=>{let A=class extends(re(Q(U))){constructor(...V){super(...V)}};return A=(0,d._)([(0,B.j)("esri.core.MultiOriginJSONSupport")],A),A};let R=class extends(F(v.Z)){};R=(0,d._)([(0,B.j)("esri.core.MultiOriginJSONSupport")],R)},27899:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});let X=(()=>{class G{constructor(Z,D,k,N=1,B=0){if(this.ctor=Z,this.acquireFunction=D,this.releaseFunction=k,this.allocationSize=N,this._pool=new Array(B),this._initialSize=B,this.ctor)for(let Q=0;Q<B;Q++)this._pool[Q]=new this.ctor;this.allocationSize=Math.max(N,1)}destroy(){this.prune(0)}acquire(...Z){let D;if(G.test.disabled)D=new this.ctor;else{if(0===this._pool.length){const k=this.allocationSize;for(let N=0;N<k;N++)this._pool[N]=new this.ctor}D=this._pool.pop()}return this.acquireFunction?this.acquireFunction(D,...Z):function v(G){return G&&G.acquire&&"function"==typeof G.acquire}(D)&&D.acquire(...Z),D}release(Z){Z&&!G.test.disabled&&(this.releaseFunction?this.releaseFunction(Z):function d(G){return G&&G.release&&"function"==typeof G.release}(Z)&&Z.release(),this._pool.push(Z))}prune(Z=this._initialSize){if(!(Z>=this._pool.length)){for(let D=Z;D<this._pool.length;++D)this._dispose(this._pool[D]);this._pool.length=Z}}_dispose(Z){Z.dispose&&"function"==typeof Z.dispose&&Z.dispose()}}return G.test={disabled:!1},G})()},73362:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});class v{constructor(G,z=29){this.name=G,this._counter=0,this._items=new Array(z)}record(G){this._items[++this._counter%this._items.length]=G}get median(){return this._items.slice().sort((G,z)=>G-z)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((G,z)=>G+z,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},77029:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Z});var v,d=p(85931);!function(k){const N=(te,ae,re,$)=>{let F=ae,R=ae;const U=re>>>1,A=te[F-1];for(;R<=U;){R=F<<1,R<re&&$(te[R-1],te[R])<0&&++R;const V=te[R-1];if($(V,A)<=0)break;te[F-1]=V,F=R}te[F-1]=A},B=(te,ae)=>te<ae?-1:te>ae?1:0;k.sort=function Q(te,ae,re,$){void 0===ae&&(ae=0),void 0===re&&(re=te.length),void 0===$&&($=B);for(let R=re>>>1;R>ae;R--)N(te,R,re,$);const F=ae+1;for(let R=re-1;R>ae;R--){const U=te[ae];te[ae]=te[R],te[R]=U,N(te,F,R,$)}},k.iterableSort=function*ne(te,ae,re,$){void 0===ae&&(ae=0),void 0===re&&(re=te.length),void 0===$&&($=B);for(let R=re>>>1;R>ae;R--)N(te,R,re,$),yield;const F=ae+1;for(let R=re-1;R>ae;R--){const U=te[ae];te[ae]=te[R],te[R]=U,N(te,F,R,$),yield}}}(v||(v={}));const X=v;class Z{constructor(N){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new d.SO,N&&(N.initialSize&&(this.data=new Array(N.initialSize)),N.allocator&&(this._allocator=N.allocator),void 0!==N.deallocator&&(this._deallocator=N.deallocator),N.shrink&&(this._shrink=()=>D(this)))}toArray(){return this.data.slice(0,this.length)}filter(N){const B=new Array;for(let Q=0;Q<this._length;Q++){const ne=this.data[Q];N(ne)&&B.push(ne)}return B}getItemAt(N){if(!(N<0||N>=this._length))return this.data[N]}includes(N,B){const Q=this.data.indexOf(N,B);return-1!==Q&&Q<this.length}get length(){return this._length}set length(N){if(N>this._length){if(this._allocator){for(;this._length<N;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=N}else{if(this._deallocator)for(let B=N;B<this._length;++B)this.data[B]=this._deallocator(this.data[B]);this._length=N,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(N){this.data[this._length++]=N}pushArray(N,B=N.length){for(let Q=0;Q<B;Q++)this.data[this._length++]=N[Q]}fill(N,B){for(let Q=0;Q<B;Q++)this.data[this._length++]=N}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const N=this.data[this._length];return++this._length,N}unshift(N){this.data.unshift(N),this._length++,D(this)}pop(){if(0===this.length)return;const N=this.data[this.length-1];return this.length=this.length-1,this._shrink(),N}remove(N){const B=(0,d.cq)(this.data,N,this.length,this._hint);if(-1!==B)return this.data.splice(B,1),this.length=this.length-1,N}removeUnordered(N){const B=(0,d.e$)(this.data,N,this.length,this._hint);return void 0!==B&&(this.length=this.length-1),this._shrink(),B}removeUnorderedIndex(N){if(!(N>=this.length||N<0))return this.swapElements(N,this.length-1),this.pop()}removeUnorderedMany(N,B=N.length,Q){this.length=(0,d.FY)(this.data,N,this.length,B,this._hint,Q),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(N,B){N>=this.length||B>=this.length||N===B||([this.data[N],this.data[B]]=[this.data[B],this.data[N]])}sort(N){X.sort(this.data,0,this.length,N)}iterableSort(N){return X.iterableSort(this.data,0,this.length,N)}some(N,B){for(let Q=0;Q<this.length;++Q)if(N.call(B,this.data[Q],Q,this.data))return!0;return!1}filterInPlace(N,B){let Q=0;for(let ne=0;ne<this._length;++ne){const te=this.data[ne];N.call(B,te,ne,this.data)&&(this.data[ne]=this.data[Q],this.data[Q]=te,Q++)}if(this._deallocator)for(let ne=Q;ne<this._length;ne++)this.data[ne]=this._deallocator(this.data[ne]);return this._length=Q,this._shrink(),this}forAll(N,B){const Q=this.length,ne=this.data;for(let te=0;te<Q;++te)N.call(B,ne[te],te,ne)}forEach(N,B){for(let Q=0;Q<this.length;++Q)N.call(B,this.data[Q],Q,this.data)}map(N,B){const Q=new Array(this.length);for(let ne=0;ne<this.length;++ne)Q[ne]=N.call(B,this.data[ne],ne,this.data);return Q}reduce(N,B){let Q=B;for(let ne=0;ne<this.length;++ne)Q=N(Q,this.data[ne],ne,this.data);return Q}has(N){const B=this.length,Q=this.data;for(let ne=0;ne<B;++ne)if(Q[ne]===N)return!0;return!1}}function D(k){k.data.length>1.5*k.length&&(k.data.length=Math.floor(1.1*k.length))}},60330:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>N,v:()=>k});var Z,B,d=p(17626),v=p(14517),X=p(62208),G=p(10699),z=p(76898);(B=Z||(Z={}))[B.PENDING=0]="PENDING",B[B.RESOLVED=1]="RESOLVED",B[B.REJECTED=2]="REJECTED";class D{constructor(Q){this.instance=Q,this._resolver=(0,G.dD)(),this._status=Z.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Z.RESOLVED,this._cleanUp()},()=>{this._status=Z.REJECTED,this._cleanUp()})}addResolvingPromise(Q){this._resolvingPromises.push(Q),this._tryResolve()}isResolved(){return this._status===Z.RESOLVED}isRejected(){return this._status===Z.REJECTED}isFulfilled(){return this._status!==Z.PENDING}abort(){this._resolver.reject((0,G.zE)())}when(Q,ne){return this._resolver.promise.then(Q,ne)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const Q=(0,G.dD)(),ne=[...this._resolvingPromises,(0,X.j0)(Q.promise)],te=this._allPromise=Promise.all(ne);te.then(()=>{this.isFulfilled()||this._allPromise!==te||this._resolver.resolve(this.instance)},ae=>{this.isFulfilled()||this._allPromise!==te||(0,G.D_)(ae)||this._resolver.reject(ae)}),Q.resolve()}}const k=B=>{let Q=class extends B{constructor(...ne){super(...ne),this._promiseProps=new D(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(ne,te){return new Promise((ae,re)=>{this._promiseProps.when(ae,re)}).then(ne,te)}catch(ne){return this.when(null,ne)}addResolvingPromise(ne){ne&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in ne?ne.when():ne)}};return Q=(0,d._)([(0,z.j)("esri.core.Promise")],Q),Q};let N=class extends(k(v.Z)){};N=(0,d._)([(0,z.j)("esri.core.Promise")],N)},35133:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(62208);class v{constructor(G=(z=>z.values().next().value)){this._peeker=G,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let G;for(G of this._items);return G}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(G){this.contains(G)||this._items.add(G)}contains(G){return this._items.has(G)}pop(){if(0===this.length)return;const G=this.peek();return this._items.delete((0,d.j0)(G)),G}popLast(){if(0===this.length)return;const G=this.last();return this._items.delete((0,d.j0)(G)),G}remove(G){this._items.delete(G)}filter(G){return this._items.forEach(z=>{G(z)||this._items.delete(z)}),this}}},4619:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>d});class d{constructor(X=1){this._seed=X}set seed(X){this._seed=null==X?Math.random()*d._m:X}getInt(){return this._seed=(d._a*this._seed+d._c)%d._m,this._seed}getFloat(){return this.getInt()/(d._m-1)}getIntRange(X,G){return Math.round(this.getFloatRange(X,G))}getFloatRange(X,G){const z=G-X;return X+this.getInt()/d._m*z}}d._m=2147483647,d._a=48271,d._c=0},94530:(wt,Se,p)=>{"use strict";p.d(Se,{e:()=>X});var d=p(62208),v=p(27899);class X extends v.Z{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=(0,d.Bd)(this._set)}acquire(...z){const Z=super.acquire(...z);return this._set.delete(Z),Z}release(z){z&&!this._set.has(z)&&(super.release(z),this._set.add(z))}_dispose(z){this._set.delete(z),super._dispose(z)}}},14889:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(90888);class v extends d.Z{constructor(G,z,Z){if(super(G,z,Z),!(this instanceof v))return new v(G,z,Z)}}v.prototype.type="warning"},31283:(wt,Se,p)=>{"use strict";p.d(Se,{M9:()=>G,Wm:()=>D,kk:()=>X,s3:()=>v,x3:()=>z});var v,B,d=p(62208);(B=v||(v={}))[B.DEFAULTS=0]="DEFAULTS",B[B.COMPUTED=1]="COMPUTED",B[B.SERVICE=2]="SERVICE",B[B.PORTAL_ITEM=3]="PORTAL_ITEM",B[B.WEB_SCENE=4]="WEB_SCENE",B[B.WEB_MAP=5]="WEB_MAP",B[B.USER=6]="USER";const X=v.USER+1;function G(B){switch(B){case"defaults":return v.DEFAULTS;case"service":return v.SERVICE;case"portal-item":return v.PORTAL_ITEM;case"web-scene":return v.WEB_SCENE;case"web-map":return v.WEB_MAP;case"user":return v.USER}}function z(B){switch(B){case v.DEFAULTS:return"defaults";case v.SERVICE:return"service";case v.PORTAL_ITEM:return"portal-item";case v.WEB_SCENE:return"web-scene";case v.WEB_MAP:return"web-map";case v.USER:return"user"}return(0,d.j0)(void 0)}function D(B){return z(B)}},83960:(wt,Se,p)=>{"use strict";p.d(Se,{B:()=>v});var d=p(77712);function v(X,G){const z=G?Wi(Nn({},G),{source:X}):X;return(0,d.Cb)({aliasOf:z})}},66656:(wt,Se,p)=>{"use strict";p.d(Se,{p:()=>D});var d=p(90912),v=p(34117);const X=Object.prototype.toString;function G(k){const N="__accessorMetadata__"in k?(0,d.se)(k):k;return function(...B){if(B.push(N),"number"==typeof B[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return z.apply(this,B)}}function z(k,N,B,Q){(0,v.VZ)(k,N).cast=Q}function D(...k){if(3!==k.length||"string"!=typeof k[1])return 1===k.length&&"[object Function]"===X.call(k[0])?G(k[0]):1===k.length&&"string"==typeof k[0]?function Z(k){return(N,B)=>{(0,v.VZ)(N,k).cast=N[B]}}(k[0]):void 0}},55342:(wt,Se,p)=>{"use strict";p.d(Se,{J:()=>X});var d=p(2076),v=p(77712);function X(G,z={}){var k;const Z=G instanceof d.X?G:new d.X(G,z),D={type:null==(k=null==z?void 0:z.ignoreUnknown)||k?Z.apiValues:String,json:{type:Z.jsonValues,read:!(null==z?void 0:z.readOnly)&&{reader:Z.read},write:{writer:Z.write}}};return void 0!==(null==z?void 0:z.readOnly)&&(D.readOnly=!!z.readOnly),void 0!==(null==z?void 0:z.default)&&(D.json.default=z.default),void 0!==(null==z?void 0:z.name)&&(D.json.name=z.name),(0,v.Cb)(D)}},77712:(wt,Se,p)=>{"use strict";p.d(Se,{CJ:()=>D,Cb:()=>Z,Eg:()=>N});var d=p(63290),v=p(90912),X=p(34595),G=p(34117),z=p(82255);function Z(B={}){return(Q,ne)=>{if(Q===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${Q.name}.${ne}. Accessor does not support static properties.`);const te=Object.getOwnPropertyDescriptor(Q,ne),ae=(0,G.VZ)(Q,ne);te&&(te.get||te.set?(ae.get=te.get||ae.get,ae.set=te.set||ae.set):"value"in te&&("value"in B&&d.Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${ne}" on "${Q.constructor.name}" already defined in the metadata`,B),ae.value=B.value=te.value)),null!=B.readOnly&&(ae.readOnly=B.readOnly);const re=B.aliasOf;if(re){const R="string"==typeof re?re:re.source,U="string"==typeof re?null:!0===re.overridable;let A;ae.dependsOn=[R],ae.get=function(){let V=(0,X.U2)(this,R);if("function"==typeof V){A||(A=R.split(".").slice(0,-1).join("."));const J=(0,X.U2)(this,A);J&&(V=V.bind(J))}return V},ae.readOnly||(ae.set=U?function(V){void 0!==V?this._override(ne,V):this._clearOverride(ne)}:function(V){(0,z.t)(this,R,V)})}const $=B.type,F=B.types;ae.cast||($?ae.cast=function k(B){let Q=0,ne=B;if((0,v.AY)(B))return(0,v.sY)(B);for(;Array.isArray(ne)&&1===ne.length&&"string"!=typeof ne[0]&&"number"!=typeof ne[0];)ne=ne[0],Q++;const te=ne;if((0,v.gB)(te))return 0===Q?(0,v.i$)(te):(0,v.Iu)((0,v.i$)(te),Q);if(1===Q)return(0,v.rY)(te);if(Q>1)return(0,v.di)(te,Q);return B.from?B.from:(0,v.se)(B)}($):F&&(ae.cast=Array.isArray(F)?(0,v.Ls)((0,v.N7)(F[0])):(0,v.N7)(F))),B.range&&(ae.cast=N(ae.cast,B.range)),(0,G.tz)(ae,B)}}function D(B,Q,ne){const te=(0,G.VZ)(B,ne);te.json||(te.json={});let ae=te.json;return void 0!==Q&&(ae.origins||(ae.origins={}),ae.origins[Q]||(ae.origins[Q]={}),ae=ae.origins[Q]),ae}function N(B,Q){return ne=>{let te=+B(ne);return null!=Q.step&&(te=Math.round(te/Q.step)*Q.step),null!=Q.min&&(te=Math.max(Q.min,te)),null!=Q.max&&(te=Math.min(Q.max,te)),te}}},68653:(wt,Se,p)=>{"use strict";p.d(Se,{r:()=>v});var d=p(77712);function v(X,G,z){let Z,D;return void 0===G||Array.isArray(G)?(D=X,z=G,Z=[void 0]):(D=G,Z=Array.isArray(X)?X:[X]),(k,N)=>{const B=k.constructor.prototype;Z.forEach(Q=>{const ne=(0,d.CJ)(k,Q,D);ne.read&&"object"==typeof ne.read||(ne.read={}),ne.read.reader=B[N],z&&(ne.read.source=(ne.read.source||[]).concat(z))})}}},61039:(wt,Se,p)=>{"use strict";function d(v){return(X,G)=>{X[G]=v}}p.d(Se,{c:()=>d})},76898:(wt,Se,p)=>{"use strict";p.d(Se,{j:()=>k}),p(8314);var v=p(44648),X=p(34117),G=p(36082),z=p(33794);const Z=new Set,D=new Set;function k(Q){return ne=>{ne.prototype.declaredClass=Q,function B(Q){const te=(0,X.JT)(Q.prototype).properties,ae={};for(const re of Object.getOwnPropertyNames(te)){const $=te[re];(0,z.OM)($),ae[re]={enumerable:!0,configurable:!0,get:N(re,$),set(F){const R=this.__accessor__;if(void 0!==R){if(!Object.isFrozen(this)){if(R.initialized&&$.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${re}' of ${this.declaredClass}`);if(R.lifecycle===v.F.CONSTRUCTED&&$.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${re}' of ${this.declaredClass}`);R.set(re,F)}}else Object.defineProperty(this,re,{enumerable:!0,configurable:!0,writable:!0,value:F})}}}Object.defineProperties(Q.prototype,ae)}(ne);const te=[],ae=[];let re=ne.prototype;for(;re;)re.hasOwnProperty("initialize")&&!Z.has(re.initialize)&&(Z.add(re.initialize),te.push(re.initialize)),re.hasOwnProperty("destroy")&&!D.has(re.destroy)&&(D.add(re.destroy),ae.push(re.destroy)),re=Object.getPrototypeOf(re);Z.clear(),D.clear();class $ extends ne{constructor(...R){if(super(...R),this.constructor===$&&"function"==typeof this.postscript){if(te.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let U=te.length-1;U>=0;U--)te[U].call(this)}}),ae.length){let U=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!U){U=!0;for(let A=0;A<ae.length;A++)ae[A].call(this)}}})}this.postscript(...R)}}}return $.__accessorMetadata__=(0,X.JT)(ne.prototype),$.prototype.declaredClass=Q,$}}function N(Q,ne){return null==ne.get?function(){const te=this.__accessor__.properties.get(Q);if(void 0===te)return;(0,G.it)(te);const ae=this.__accessor__.store;return ae.has(Q)?ae.get(Q):te.metadata.value}:function(){const te=this.__accessor__.properties.get(Q);if(void 0!==te)return te.getComputed()}}},99433:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>v});var d=p(77712);function v(X,G,z){let Z,D;return void 0===G?(D=X,Z=[void 0]):"string"!=typeof G?(D=X,Z=[void 0],z=G):(D=G,Z=Array.isArray(X)?X:[X]),(k,N)=>{const B=k.constructor.prototype;for(const Q of Z){const ne=(0,d.CJ)(k,Q,D);ne.write&&"object"==typeof ne.write||(ne.write={}),z&&(ne.write.target=z),ne.write.writer=B[N]}}}},12590:(wt,Se,p)=>{"use strict";p.d(Se,{M:()=>v});var d=p(31283);function v(X,G,z){G.keys().forEach(D=>{z.set(D,G.get(D),d.s3.DEFAULTS)}),Object.keys(X.metadatas).forEach(D=>{X.internalGet(D)&&z.set(D,X.internalGet(D),d.s3.DEFAULTS)})}},84682:(wt,Se,p)=>{"use strict";p.d(Se,{Hg:()=>ae,V7:()=>te,uD:()=>ne});var d=p(14517),v=p(74333),X=p(62208),G=p(52323);const z=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function Z($){return $ instanceof d.Z}function D($){return $ instanceof v.Z?Object.keys($.items):Z($)?(0,G.vw)($).keys():$?Object.keys($):[]}function k($,F){return $ instanceof v.Z?$.items[F]:$[F]}function B($){return $?$.declaredClass:null}function Q($,F){const R=$.diff;if(R&&"function"==typeof R)return R($,F);const U=D($),A=D(F);if(0===U.length&&0===A.length)return;if(!U.length||!A.length||function N($,F){return!(!Array.isArray($)||!Array.isArray(F))&&$.length!==F.length}($,F))return{type:"complete",oldValue:$,newValue:F};const V=A.filter(de=>!U.includes(de)),J=U.filter(de=>!A.includes(de)),Y=U.filter(de=>A.includes(de)&&k($,de)!==k(F,de)).concat(V,J).sort(),oe=B($);if(oe&&z.includes(oe)&&Y.length)return{type:"complete",oldValue:$,newValue:F};let se;const le=Z($)&&Z(F);for(const de of Y){const q=k($,de),ue=k(F,de);let ie;if((le||"function"!=typeof q&&"function"!=typeof ue)&&q!==ue&&(null!=q||null!=ue)){if(R&&R[de]&&"function"==typeof R[de])ie=R[de](q,ue);else if(q instanceof Date&&ue instanceof Date){if(q.getTime()===ue.getTime())continue;ie={type:"complete",oldValue:q,newValue:ue}}else ie="object"==typeof q&&"object"==typeof ue&&B(q)===B(ue)?Q(q,ue):{type:"complete",oldValue:q,newValue:ue};(0,X.pC)(ie)&&((0,X.pC)(se)?se.diff[de]=ie:se={type:"partial",diff:{[de]:ie}})}}return se}function ne($,F){if((0,X.Wi)($))return!1;const R=F.split(".");let U=$;for(const A of R){if("complete"===U.type)return!0;if("partial"!==U.type)return!1;{const V=U.diff[A];if(!V)return!1;U=V}}return!0}function te($,F){for(const R of F)if(ne($,R))return!0;return!1}function ae($,F){if(!("function"==typeof $||"function"==typeof F||(0,X.Wi)($)&&(0,X.Wi)(F)))return(0,X.Wi)($)||(0,X.Wi)(F)||"object"==typeof $&&"object"==typeof F&&B($)!==B(F)?{type:"complete",oldValue:$,newValue:F}:Q($,F)}},90912:(wt,Se,p)=>{"use strict";p.d(Se,{AY:()=>ye,Iu:()=>oe,Ls:()=>V,N7:()=>q,TJ:()=>$,V5:()=>ie,Zs:()=>D,di:()=>se,gB:()=>le,i$:()=>de,q9:()=>k,rY:()=>J,sY:()=>pe,se:()=>A,vU:()=>N,z8:()=>ue}),p(8314);var v=p(63290),X=p(88159);const G=v.Z.getLogger("esri.core.Accessor");function z(ve){return null==ve?ve:new Date(ve)}function Z(ve){return null==ve?ve:!!ve}function D(ve){return null==ve?ve:ve.toString()}function k(ve){return null==ve?ve:(ve=parseFloat(ve),isNaN(ve)?0:ve)}function N(ve){return null==ve?ve:Math.round(parseFloat(ve))}function B(ve){return ve&&ve.constructor&&void 0!==ve.constructor.__accessorMetadata__}function Q(ve,Le){return null!=Le&&ve&&!(Le instanceof ve)}function ne(ve){return ve&&"isCollection"in ve}function te(ve){return ve&&ve.Type?"function"==typeof ve.Type?ve.Type:ve.Type.base:null}function re(ve,Le){return!!B(Le)&&(G.error("Accessor#set","Assigning an instance of '"+(Le.declaredClass||"unknown")+"' which is not a subclass of '"+F(ve)+"'"),!0)}function $(ve,Le){return null==Le?Le:ne(ve)?function ae(ve,Le){if(!Le||!Le.constructor||!ne(Le.constructor))return re(ve,Le)?Le:new ve(Le);const je=te(ve.prototype.itemType),_e=te(Le.constructor.prototype.itemType);return je?_e?je===_e?Le:je.prototype.isPrototypeOf(_e.prototype)?new ve(Le):(re(ve,Le),Le):new ve(Le):Le}(ve,Le):Q(ve,Le)?re(ve,Le)?Le:new ve(Le):Le}function F(ve){return ve&&ve.prototype&&ve.prototype.declaredClass||"unknown"}const R=new WeakMap;function U(ve){switch(ve){case Number:return k;case ue:return N;case Boolean:return Z;case String:return D;case Date:return z;default:return(0,X.s1)(R,ve,()=>$.bind(null,ve))}}function A(ve,Le){const je=U(ve);return 1===arguments.length?je:je(Le)}function V(ve,Le,je){return 1===arguments.length?V.bind(null,ve):Le&&(Array.isArray(Le)?Le.map(_e=>ve(_e,je)):[ve(Le,je)])}function J(ve,Le){return 1===arguments.length?V(A.bind(null,ve)):V(A.bind(null,ve),Le)}function Y(ve,Le,je){return 0!==Le&&Array.isArray(je)?je.map(_e=>Y(ve,Le-1,_e)):ve(je)}function oe(ve,Le,je){if(2===arguments.length)return oe.bind(null,ve,Le);if(!je)return je;let _e=Le,Re=je=Y(ve,Le,je);for(;_e>0&&Array.isArray(Re);)_e--,Re=Re[0];if(void 0!==Re)for(let nt=0;nt<_e;nt++)je=[je];return je}function se(ve,Le,je){return 2===arguments.length?oe(A.bind(null,ve),Le):oe(A.bind(null,ve),Le,je)}function le(ve){return!!Array.isArray(ve)&&!ve.some(Le=>{const je=typeof Le;return!("string"===je||"number"===je||"function"===je&&ve.length>1)})}function de(ve,Le){if(2===arguments.length)return de(ve).call(null,Le);const je=new Set,_e=ve.filter(Ne=>"function"!=typeof Ne),Re=ve.filter(Ne=>"function"==typeof Ne);for(const Ne of ve)"string"!=typeof Ne&&"number"!=typeof Ne||je.add(Ne);let nt=null,pt=null;return(Ne,xe)=>{if(null==Ne)return Ne;const Ye=typeof Ne,Ke="string"===Ye||"number"===Ye;return Ke&&(je.has(Ne)||Re.some(Fe=>"string"===Ye&&Fe===String||"number"===Ye&&Fe===Number))||"object"===Ye&&Re.some(Fe=>!Q(Ne,Fe))?Ne:(Ke&&_e.length?(nt||(nt=_e.map(Fe=>"string"==typeof Fe?`'${Fe}'`:`${Fe}`).join(", ")),G.error("Accessor#set",`'${Ne}' is not a valid value for this property, only the following values are valid: ${nt}`)):"object"==typeof Ne&&Re.length?(pt||(pt=Re.map(Fe=>F(Fe)).join(", ")),G.error("Accessor#set",`'${Ne}' is not a valid value for this property, value must be one of ${pt}`)):G.error("Accessor#set",`'${Ne}' is not a valid value for this property`),xe&&(xe.valid=!1),null)}}function q(ve,Le){if(2===arguments.length)return q(ve).call(null,Le);const je={},_e=[],Re=[];for(const xe in ve.typeMap){const Ye=ve.typeMap[xe];je[xe]=A(Ye),_e.push(F(Ye)),Re.push(xe)}const nt=()=>`'${_e.join("', '")}'`,pt=()=>`'${Re.join("', '")}'`,Ne="string"==typeof ve.key?xe=>xe[ve.key]:ve.key;return xe=>{if(ve.base&&!Q(ve.base,xe)||null==xe)return xe;const Ye=Ne(xe)||ve.defaultKeyValue,Ke=je[Ye];if(!Ke)return G.error("Accessor#set",`Invalid property value, value needs to be one of ${nt()}, or a plain object that can autocast (having .type = ${pt()})`),null;if(!Q(ve.typeMap[Ye],xe))return xe;if("string"==typeof ve.key&&!B(xe)){const Fe={};for(const Ze in xe)Ze!==ve.key&&(Fe[Ze]=xe[Ze]);return Ke(Fe)}return Ke(xe)}}class ue{}const ie={native:ve=>({type:"native",value:ve}),array:ve=>({type:"array",value:ve}),oneOf:ve=>({type:"one-of",values:ve})};function ye(ve){if(!ve||!("type"in ve))return!1;switch(ve.type){case"native":case"array":case"one-of":return!0}return!1}function pe(ve){switch(ve.type){case"native":return A(ve.value);case"array":return V(pe(ve.value));case"one-of":return function Ce(ve){let Le=null;return(je,_e)=>Me(je,ve)?je:(null==Le&&(Le=De(ve)),G.error("Accessor#set",`Invalid property value, value needs to be of type ${Le}`),_e&&(_e.valid=!1),null)}(ve);default:return null}}function De(ve){switch(ve.type){case"native":switch(ve.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ue:return"integer";case Date:return"date";default:return F(ve.value)}case"array":return`array of ${De(ve.value)}`;case"one-of":{const Le=ve.values.map(je=>De(je));return`one of ${Le.slice(0,Le.length-1)} or ${Le[Le.length-1]}`}}return"unknown"}function Me(ve,Le){if(null==ve)return!0;switch(Le.type){case"native":switch(Le.value){case Number:case ue:return"number"==typeof ve;case Boolean:return"boolean"==typeof ve;case String:return"string"==typeof ve}return ve instanceof Le.value;case"array":return!!Array.isArray(ve)&&!ve.some(je=>!Me(je,Le.value));case"one-of":return Le.values.some(je=>Me(ve,je))}}},33794:(wt,Se,p)=>{"use strict";p.d(Se,{hk:()=>Q,HS:()=>N,Ah:()=>B,OM:()=>F});var d=p(90912),X=p(383);function z(R){R.name&&(R.read&&"object"==typeof R.read?void 0===R.read.source&&(R.read.source=R.name):R.read={source:R.name},R.write&&"object"==typeof R.write?void 0===R.write.target&&(R.write.target=R.name):R.write={target:R.name})}function Z(R){"boolean"==typeof R.read?R.read={enabled:R.read}:"function"==typeof R.read?R.read={enabled:!0,reader:R.read}:R.read&&"object"==typeof R.read&&void 0===R.read.enabled&&(R.read.enabled=!0)}function D(R){"boolean"==typeof R.write?R.write={enabled:R.write}:"function"==typeof R.write?R.write={enabled:!0,writer:R.write}:R.write&&"object"==typeof R.write&&void 0===R.write.enabled&&(R.write.enabled=!0)}var k=p(23025);function N(R,U){return Q(R,"read",U)}function B(R,U){return Q(R,"write",U)}function Q(R,U,A){let V=R&&R.json;if(R&&R.json&&R.json.origins&&A){const J=R.json.origins[A.origin];J&&("any"===U||U in J)&&(V=J)}return V}function ae(R){return R.type?re(R):$(R)}function re(R){if(!R.type)return;let U=0,A=R.type;for(;Array.isArray(A)&&!(0,d.gB)(A);)A=A[0],U++;return{type:A,ndimArray:U}}function $(R){if(!R.types)return;let U=0,A=R.types;for(;Array.isArray(A);)A=A[0],U++;return{types:A,ndimArray:U}}function F(R){(function G(R){if(R.json||(R.json={}),Z(R.json),D(R.json),z(R.json),R.json.origins)for(const U in R.json.origins)Z(R.json.origins[U]),D(R.json.origins[U]),z(R.json.origins[U]);return!0})(R)&&(function v(R){if(R.json&&R.json.origins){const U=R.json.origins,A={"web-document":["web-scene","web-map"]};for(const V in A)if(U[V]){const J=U[V];A[V].forEach(Y=>{U[Y]=J}),delete U[V]}}}(R),function ne(R){const U=function te(R){return R.json.types?$(R.json):R.type?re(R):$(R)}(R);if(R.json.origins)for(const A in R.json.origins){const V=R.json.origins[A],J=V.types?ae(V):U;(0,X.U)(J,V,!1),V.types&&!V.write&&R.json.write&&R.json.write.enabled&&(V.write=Nn({},R.json.write)),(0,k.U)(J,V)}(0,X.U)(U,R.json,!0),(0,k.U)(U,R.json)}(R))}},383:(wt,Se,p)=>{"use strict";p.d(Se,{U:()=>D,d:()=>k});var d=p(63290),v=p(94113),X=p(14889),G=p(34117),z=p(94056);const Z=d.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function D(A,V,J){var Y,oe;A&&(!J&&!V.read||(null==(Y=V.read)?void 0:Y.reader)||!1===(null==(oe=V.read)?void 0:oe.enabled)||function re(A){return"types"in A?F(A.types):$(A.type)}(A)&&(0,v.RB)("read.reader",k(A),V))}function k(A){var J,Y,oe;const V=null!=(J=A.ndimArray)?J:0;if(V>1)return function ne(A){var oe;const V=N(A),J=Q.bind(null,V),Y=null!=(oe=A.ndimArray)?oe:0;return(se,le,de)=>{if(null==se)return se;se=J(se,de,Y);let q=Y,ue=se;for(;q>0&&Array.isArray(ue);)q--,ue=ue[0];if(void 0!==ue)for(let ie=0;ie<q;ie++)se=[se];return se}}(A);if(1===V)return te(A);if("type"in A&&ae(A.type)){const se=null==(oe=null==(Y=A.type.prototype)?void 0:Y.itemType)?void 0:oe.Type,le=te("function"==typeof se?{type:se}:{types:se});return(de,q,ue)=>{const ie=le(de,q,ue);return ie&&new A.type(ie)}}return N(A)}function N(A){return"type"in A?function B(A){return A.prototype.read?(V,J,Y)=>{if(null==V)return V;const oe=typeof V;if("object"!==oe)return void Z.error(`Expected JSON value of type 'object' to deserialize type '${A.prototype.declaredClass}', but got '${oe}'`);const se=new A;return se.read(V,Y),se}:A.fromJSON}(A.type):function R(A){var Y;let V=null;const J=null!=(Y=A.errorContext)?Y:"type";return(oe,se,le)=>{if(null==oe)return oe;const de=typeof oe;if("object"!==de)return void Z.error(`Expected JSON value of type 'object' to deserialize, but got '${de}'`);V||(V=function U(A){var J,Y;const V={};for(const oe in A.typeMap){const se=A.typeMap[oe],le=(0,G.JT)(se.prototype);if("function"==typeof A.key)continue;const de=le.properties[A.key];if(!de)continue;(null==(J=de.json)?void 0:J.type)&&Array.isArray(de.json.type)&&1===de.json.type.length&&"string"==typeof de.json.type[0]&&(V[de.json.type[0]]=se);const q=null==(Y=de.json)?void 0:Y.write;if(!q||!q.writer){V[oe]=se;continue}const ue=q.target,ie="string"==typeof ue?ue:A.key,ye={};q.writer(oe,ye,ie),ye[ie]&&(V[ye[ie]]=se)}return V}(A));const q=A.key;if("string"!=typeof q)return;const ue=oe[q],ie=ue?V[ue]:A.defaultKeyValue?A.typeMap[A.defaultKeyValue]:void 0;if(!ie){const pe=`Type '${ue||"unknown"}' is not supported`;return le&&le.messages&&oe&&le.messages.push(new X.Z(`${J}:unsupported`,pe,{definition:oe,context:le})),void Z.error(pe)}const ye=new ie;return ye.read(oe,le),ye}}(A.types)}function Q(A,V,J,Y){return 0!==Y&&Array.isArray(V)?V.map(oe=>Q(A,oe,J,Y-1)):A(V,void 0,J)}function te(A){const V=N(A);return(J,Y,oe)=>{if(null==J)return J;if(Array.isArray(J)){const le=[];for(const de of J){const q=V(de,void 0,oe);void 0!==q&&le.push(q)}return le}const se=V(J,void 0,oe);return void 0!==se?[se]:void 0}}function ae(A){if(!(0,z.u)(A))return!1;const V=A.prototype.itemType;return!(!V||!V.Type)&&("function"==typeof V.Type?$(V.Type):F(V.Type))}function $(A){return!Array.isArray(A)&&!!A&&A.prototype&&("read"in A.prototype||"fromJSON"in A||ae(A))}function F(A){for(const V in A.typeMap)if(!$(A.typeMap[V]))return!1;return!0}},94056:(wt,Se,p)=>{"use strict";function d(v){return!!v&&v.prototype&&v.prototype.declaredClass&&0===v.prototype.declaredClass.indexOf("esri.core.Collection")}p.d(Se,{u:()=>d})},23025:(wt,Se,p)=>{"use strict";p.d(Se,{U:()=>Z,k:()=>ne});var d=p(26584),v=p(63290),X=p(94113),G=p(94056);const z=v.Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function Z($,F){var U;if(!F.write||F.write.writer||!1===F.write.enabled&&!F.write.overridePolicy)return;const R=null!=(U=null==$?void 0:$.ndimArray)?U:0;F.write.writer=$&&(1===R||"type"in $&&(0,G.u)($.type))?te:R>1?function re($){return(F,R,U,A)=>{let V;if(null===F)V=null;else{V=ae(F,A,$);let J=$,Y=V;for(;J>0&&Array.isArray(Y);)J--,Y=Y[0];if(void 0!==Y)for(let oe=0;oe<J;oe++)V=[V]}(0,X.RB)(U,V,R)}}(R):F.types?Array.isArray(F.types)?function N($){return(F,R,U,A)=>F&&Array.isArray(F)?B(F.filter(V=>k(V,$,A)),R,U,A):B(F,R,U,A)}(F.types[0]):function D($){return(F,R,U,A)=>F?k(F,$,A)?B(F,R,U,A):void 0:B(F,R,U,A)}(F.types):B}function k($,F,R){var U,A;for(const V in F.typeMap)if($ instanceof F.typeMap[V])return!0;if(null==R?void 0:R.messages){const V=null!=(U=F.errorContext)?U:"type",J=`Values of type '${null!=(A="function"!=typeof F.key?$[F.key]:$.declaredClass)?A:"Unknown"}' cannot be written`;R&&R.messages&&$&&R.messages.push(new d.Z(`${V}:unsupported`,J,{definition:$,context:R})),z.error(J)}return!1}function B($,F,R,U){(0,X.RB)(R,Q($,U),F)}function Q($,F){return $&&"function"==typeof $.write?$.write({},F):$&&"function"==typeof $.toJSON?$.toJSON():"number"==typeof $?ne($):$}function ne($){return $===-1/0?-Number.MAX_VALUE:$===1/0?Number.MAX_VALUE:isNaN($)?null:$}function te($,F,R,U){let A;null===$?A=null:$&&"function"==typeof $.map?(A=$.map(V=>Q(V,U)),"function"==typeof A.toArray&&(A=A.toArray())):A=[Q($,U)],(0,X.RB)(R,A,F)}function ae($,F,R){return 0!==R&&Array.isArray($)?$.map(U=>ae(U,F,R-1)):Q($,F)}},34595:(wt,Se,p)=>{"use strict";p.d(Se,{$z:()=>G,Gg:()=>Z,U2:()=>z});var d=p(52323);function v(D,k){const N="?"===D[D.length-1]?D.slice(0,-1):D;if(null!=k.getItemAt||Array.isArray(k)){const Q=parseInt(N,10);if(!isNaN(Q))return Array.isArray(k)?k[Q]:k.getItemAt(Q)}const B=(0,d.vw)(k);return(0,d.b6)(B,N)?B.get(N):k[N]}function X(D,k,N){if(null==D)return D;const B=v(k[N],D);return!B&&N<k.length-1?void 0:N===k.length-1?B:X(B,k,N+1)}function G(D,k,N=0){return"string"!=typeof k||k.includes(".")?X(D,(0,d.NI)(k),N):v(k,D)}function z(D,k){return G(D,k)}function Z(D,k){return void 0!==G(k,D)}},44648:(wt,Se,p)=>{"use strict";var d,v;p.d(Se,{F:()=>d}),(v=d||(d={}))[v.INITIALIZING=0]="INITIALIZING",v[v.CONSTRUCTING=1]="CONSTRUCTING",v[v.CONSTRUCTED=2]="CONSTRUCTED"},34117:(wt,Se,p)=>{"use strict";p.d(Se,{JT:()=>z,VZ:()=>D,tz:()=>B});var d=p(58817),v=p(62208),X=p(52323);class G{constructor($){this.autoDestroy=!1,this.properties=$}}function z(re){let $=re.constructor.__accessorMetadata__;const F=Object.prototype.hasOwnProperty.call(re.constructor,"__accessorMetadata__");if($){if(!F){const R=Object.create($.properties),U=$.autoDestroy;for(const A in R)R[A]=(0,d.d9)(R[A]);$=new G(R),$.autoDestroy=U,Object.defineProperty(re.constructor,"__accessorMetadata__",{value:$,enumerable:!1,configurable:!0,writable:!0})}}else $=new G({}),Object.defineProperty(re.constructor,"__accessorMetadata__",{value:$,enumerable:!1,configurable:!0,writable:!0});return(0,v.j0)(re.constructor.__accessorMetadata__)}function D(re,$){const F=function Z(re){return z(re).properties}(re);let R=F[$];return R||(R=F[$]={}),R}function B(re,$){return(0,X.TS)(re,$,ne)}const Q=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function ne(re){return Q.test(re)?"replace":"merge"}},29338:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>B,i:()=>N});var d=p(34595),v=p(52323),X=p(33794);function G(Q,ne,te){if(!Q||!Q.read||!1===Q.read.enabled||!Q.read.source)return!1;const ae=Q.read.source;if("string"==typeof ae){if(ae===ne||ae.includes(".")&&0===ae.indexOf(ne)&&(0,d.Gg)(ae,te))return!0}else for(const re of ae)if(re===ne||re.includes(".")&&0===re.indexOf(ne)&&(0,d.Gg)(re,te))return!0;return!1}function Z(Q,ne,te,ae,re){let $=(0,X.HS)(ne[te],re);(function z(Q){return Q&&(!Q.read||!1!==Q.read.enabled&&!Q.read.source)})($)&&(Q[te]=!0);for(const F of Object.getOwnPropertyNames(ne))$=(0,X.HS)(ne[F],re),G($,te,ae)&&(Q[F]=!0)}function D(Q,ne,te,ae){const $=(0,X.hk)(te.metadatas[ne],"any",ae),F=$&&$.default;if(void 0===F)return;const R="function"==typeof F?F.call(Q,ne,ae):F;void 0!==R&&te.set(ne,R)}const k={origin:"service"};function N(Q,ne,te=k){if(!ne||"object"!=typeof ne)return;const ae=(0,v.vw)(Q),re=ae.metadatas,$={};for(const F of Object.getOwnPropertyNames(ne))Z($,re,F,ne,te);ae.setDefaultOrigin(te.origin);for(const F of Object.getOwnPropertyNames($)){const R=(0,X.HS)(re[F],te).read,U=R&&R.source;let A;A=U&&"string"==typeof U?(0,d.$z)(ne,U):ne[F],R&&R.reader&&(A=R.reader.call(Q,A,ne,te)),void 0!==A&&ae.set(F,A)}if(!te||!te.ignoreDefaults){ae.setDefaultOrigin("defaults");for(const F of Object.getOwnPropertyNames(re))$[F]||D(Q,F,ae,te)}ae.setDefaultOrigin("user")}function B(Q,ne,te,ae=k){var $;const re=Wi(Nn({},ae),{messages:[]});te(re),null==($=re.messages)||$.forEach(F=>{"warning"!==F.type||Q.loaded?ae&&ae.messages&&ae.messages.push(F):Q.loadWarnings.push(F)})}},82255:(wt,Se,p)=>{"use strict";p.d(Se,{t:()=>z});var d=p(26584),v=p(8314),X=p(63290),G=p(34595);function z(N,B,Q){if(N&&B)if("object"==typeof B)for(const ne of Object.getOwnPropertyNames(B))z(N,ne,B[ne]);else{if(B.includes(".")){const te=B.split("."),ae=te.splice(te.length-1,1)[0];return void z((0,G.U2)(N,te),ae,Q)}const ne=N.__accessor__;null!=ne&&function Z(N,B){if((0,v.Z)("esri-unknown-property-errors")&&!function D(N,B){return null!=B.metadatas[N]}(N,B))throw new d.Z("set:unknown-property",function k(N,B){return"setting unknown property '"+N+"' on instance of "+B.host.declaredClass}(N,B))}(B,ne),N[B]=Q}}X.Z.getLogger("esri.core.accessorSupport.set")},36082:(wt,Se,p)=>{"use strict";p.d(Se,{GF:()=>U,LJ:()=>ne,gb:()=>te,it:()=>N,mS:()=>F}),p(8314);var v=p(63290),X=p(52323),G=p(2345);let z,Z=[];const D=v.Z.getLogger("esri.core.Accessor");function N(V){void 0!==z&&z.onObservableAccessed(V)}let B=!1,Q=!1;function ne(V,J,Y){if(B)return ae(V,J,Y);re(V);const oe=J.call(Y);return $(),oe}function te(V,J){return ne(void 0,V,J)}function ae(V,J,Y){const oe=B;B=!0,re(V);let se=null;try{se=J.call(Y)}catch(le){Q&&D.error(le)}return $(),B=oe,se}function re(V){z=V,Z.push(V)}function $(){const V=Z.pop();z=Z.length>0?Z[Z.length-1]:void 0,void 0!==V&&V.onTrackingEnd()}function F(V,J){if(J.flags&G.v.DepTrackingInitialized)return;const Y=Q;Q=!1,J.flags&G.v.AutoTracked?ae(J,J.metadata.get,V):U(V,J),Q=Y}const R=[];function U(V,J){J.flags&G.v.ExplicitlyTracking||(J.flags|=G.v.ExplicitlyTracking,ae(J,()=>{const Y=J.metadata.dependsOn||R;for(const oe of Y)if("string"!=typeof oe||oe.includes(".")){const se=(0,X.NI)(oe);for(let le=0,de=V;le<se.length&&null!=de&&"object"==typeof de;++le)de=A(de,se[le],le!==se.length-1)}else A(V,oe,!1)}),J.flags&=~G.v.ExplicitlyTracking)}function A(V,J,Y){var le;const oe="?"===J[J.length-1]?J.slice(0,-1):J;if(null!=V.getItemAt||Array.isArray(V)){const de=parseInt(oe,10);if(!isNaN(de))return Array.isArray(V)?V[de]:V.getItemAt(de)}const se=null==(le=(0,X.vw)(V))?void 0:le.properties.get(oe);return se&&(N(se),F(V,se)),Y?V[oe]:void 0}},21352:(wt,Se,p)=>{"use strict";p.d(Se,{EH:()=>D,U5:()=>z,Xz:()=>Z});var d=p(36082),v=p(819);let X=!1;const G=[];function z(B,Q){let ne=new v.M(function re(){if(!ne||ae)return;if(X)return void k(re);const F=te;ne.clear(),X=!0,ae=!0,te=(0,d.LJ)(ne,B),ae=!1,X=!1,Q(te,F),N()}),te=null,ae=!1;return ae=!0,te=(0,d.LJ)(ne,B),ae=!1,{remove:function $(){ne&&(ne.destroy(),ne=null,te=null)}}}function Z(B,Q){let ne=new v.M(function ae(){Q(te,$)}),te=null;function $(){return ne?(ne.clear(),te=(0,d.LJ)(ne,B),te):null}return $(),{remove:function re(){ne&&(ne.destroy(),ne=null),te=null}}}function D(B){let Q=new v.M(function te(){Q&&!ne&&(X?k(te):(Q.clear(),X=!0,ne=!0,(0,d.LJ)(Q,B),ne=!1,X=!1,N()))}),ne=!1;return ne=!0,(0,d.LJ)(Q,B),ne=!1,{remove:function ae(){Q&&(Q.destroy(),Q=null)}}}function k(B){G.includes(B)||G.unshift(B)}function N(){for(;G.length;)G.pop()()}},2345:(wt,Se,p)=>{"use strict";var d,v;p.d(Se,{v:()=>d}),(v=d||(d={}))[v.Dirty=1]="Dirty",v[v.Overriden=2]="Overriden",v[v.Computing=4]="Computing",v[v.NonNullable=8]="NonNullable",v[v.HasDefaultValue=16]="HasDefaultValue",v[v.DepTrackingInitialized=32]="DepTrackingInitialized",v[v.AutoTracked=64]="AutoTracked",v[v.ExplicitlyTracking=128]="ExplicitlyTracking"},12196:(wt,Se,p)=>{"use strict";p.d(Se,{X:()=>v});var d=p(85931);class v{constructor(G,z){this._observers=G,this._observer=z}remove(){(0,d.Od)(this._observers,this._observer)}}},48902:(wt,Se,p)=>{"use strict";p.d(Se,{s:()=>v});var d=p(12196);class v{constructor(){this._observers=[]}observe(G){return this._observers.includes(G)||this._observers.push(G),new d.X(this._observers,G)}notify(){const G=this._observers.slice();for(let z=0;z<G.length;++z){const Z=G[z];Z.onInvalidated(),Z.onCommitted()}}}},819:(wt,Se,p)=>{"use strict";p.d(Se,{M:()=>d});class d{constructor(X){this._notify=X,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const X=this._invalidCount;if(1===X)return this._invalidCount=0,void this._notify();this._invalidCount=X>0?X-1:0}onObservableAccessed(X){this._accessed.includes(X)||this._accessed.push(X)}onTrackingEnd(){const X=this._handles,G=this._accessed;for(let z=0;z<G.length;++z)X.push(G[z].observe(this));G.length=0}clear(){const X=this._handles;for(let G=0;G<X.length;++G)X[G].remove();X.length=0}}},52323:(wt,Se,p)=>{"use strict";p.d(Se,{IH:()=>re,NI:()=>B,Qc:()=>ae,TS:()=>D,b6:()=>z,vw:()=>G});var d=p(54024),v=p(58817),X=p(62208);function G($){return $?$.__accessor__?$.__accessor__:$.propertyInvalidated?$:null:null}function z($,F){return null!=$&&$.metadatas&&null!=$.metadatas[F]}function D($,F,R){return k($,F,R?{policy:R,path:""}:null)}function k($,F,R){return F?Object.keys(F).reduce((U,A)=>{let V=null,J="merge";if(R&&(V=R.path?`${R.path}.${A}`:A,J=R.policy(V)),"replace"===J)return U[A]=F[A],U;if(void 0===U[A])return U[A]=(0,v.d9)(F[A]),U;let Y=U[A],oe=F[A];if(Y===oe)return U;if(Array.isArray(oe)||Array.isArray(U))Y=U[A]=Y?Array.isArray(Y)?Y.concat():[Y]:[],oe&&(Array.isArray(oe)||(oe=[oe]),oe.forEach(se=>{Y.includes(se)||Y.push(se)}));else if(oe&&"object"==typeof oe)if(R){const se=R.path;R.path=(0,X.j0)(V),U[A]=k(Y,oe,R),R.path=se}else U[A]=k(Y,oe,null);else U.hasOwnProperty(A)&&!F.hasOwnProperty(A)||(U[A]=oe);return U},$||{}):$}function B($){return Array.isArray($)?$:$.split(".")}function Q($){return $.includes(",")?$.split(",").map(F=>F.trim()):[$.trim()]}function ae($,F,R,U){const A=function ne($){if(Array.isArray($)){const F=[];for(const R of $)F.push(...Q(R));return F}return Q($)}(F);if(1!==A.length){const V=A.map(J=>U($,J,R));return(0,d.AL)(V)}return U($,A[0],R)}function re($){let F=!1;return()=>{F||(F=!0,$())}}},61972:(wt,Se,p)=>{"use strict";p.d(Se,{Fs:()=>Y,NC:()=>ie,BT:()=>U,YP:()=>le,aQ:()=>ue});var Q,ye,d=p(35575),v=p(58817),X=p(94530),G=p(50618),D=p(86236),k=p(34595),N=p(21352),B=p(52323);(ye=Q||(Q={}))[ye.Untracked=0]="Untracked",ye[ye.Tracked=1]="Tracked";class ne{constructor(){this.uid=(0,D.D)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(pe,Ce,De,Me,ve){return this.pool.acquire(Q.Untracked,pe,Ce,De,Me,ve,v.fS)}static acquireTracked(pe,Ce,De,Me){return this.pool.acquire(Q.Tracked,pe,Ce,De,null,null,Me)}notify(pe,Ce){this.type===Q.Untracked?this.callback.call(this.target,pe,Ce,this.path,this.target):this.callback.call(null,pe,Ce)}acquire(pe,Ce,De,Me,ve,Le,je){this.uid=(0,D.D)(),this.removed=!1,this.type=pe,this.oldValue=Ce,this.callback=De,this.getValue=Me,this.target=ve,this.path=Le,this.equals=je}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,D.D)(),this.removed=!0}}ne.pool=new X.e(ne);const te=new d.Z,ae=new Set;let re;function $(ye){ae.delete(ye),ae.add(ye),re||(re=(0,G.Os)(A))}function F(ye){if(ye.removed)return;const pe=ye.oldValue,Ce=ye.getValue();ye.equals(pe,Ce)||(ye.oldValue=Ce,ye.notify(Ce,pe))}function U(ye){for(const pe of ae.values())pe.target===ye&&(pe.removed=!0)}function A(){let ye=10;for(;re&&ye--;){re=null;const pe=V(),Ce=te.acquire();for(const De of pe){const Me=De.uid;F(De),Me===De.uid&&De.removed&&Ce.push(De)}for(const De of ae)De.removed&&(Ce.push(De),ae.delete(De));for(const De of Ce)ne.pool.release(De);te.release(Ce),te.release(pe),J.forEach(De=>De())}}function V(){const ye=te.acquire();ye.length=ae.size;let pe=0;for(const Ce of ae)ye[pe]=Ce,++pe;return ae.clear(),ye}const J=new Set;function Y(ye){return J.add(ye),{remove(){J.delete(ye)}}}function le(ye,pe,Ce,De=!1){return!ye.__accessor__||ye.__accessor__.destroyed?{remove(){}}:De?function se(ye,pe,Ce){const De=(0,B.Qc)(ye,pe,Ce,(Me,ve,Le)=>{let je=!1;return(0,N.U5)(()=>(0,k.$z)(Me,ve),(_e,Re)=>{Me.__accessor__.destroyed?De.remove():je||(je=!0,(0,v.fS)(Re,_e)||Le.call(Me,_e,Re,ve,Me),je=!1)})});return De}(ye,pe,Ce):function oe(ye,pe,Ce){let De=(0,B.Qc)(ye,pe,Ce,(Me,ve,Le)=>{let je,_e,Re=(0,N.Xz)(()=>(0,k.$z)(Me,ve),(nt,pt)=>{Me.__accessor__.destroyed||je&&je.uid!==_e?De.remove():(je||(je=ne.acquireUntracked(nt,Le,pt,Me,ve),_e=je.uid),$(je))});return{remove:(0,B.IH)(()=>{Re.remove(),je&&(je.uid!==_e||je.removed||(je.removed=!0,$(je)),je=null),De=Re=null})}});return De}(ye,pe,Ce)}function ue(ye,pe,Ce=!1,De=v.y7){return Ce?function q(ye,pe,Ce){let De=!1;return(0,N.U5)(ye,(Me,ve)=>{De||(De=!0,Ce(ve,Me)||pe(Me,ve),De=!1)})}(ye,pe,De):function de(ye,pe,Ce){let De,Me,ve=(0,N.Xz)(ye,(Le,je)=>{De&&De.uid!==Me?ve.remove():(De||(De=ne.acquireTracked(Le,pe,je,Ce),Me=De.uid),$(De))});return{remove:(0,B.IH)(()=>{ve.remove(),De&&(De.uid!==Me||De.removed||(De.removed=!0,$(De)),De=null),ve=null})}}(ye,pe,De)}function ie(ye){return function z(ye,pe){for(const Ce of ye.entries())if(pe(Ce[0]))return!0;return!1}(ae,pe=>pe.oldValue===ye)}},36054:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>ne,d:()=>Q});var d=p(85931),v=p(26584),X=p(63290),G=p(31283),z=p(52323),Z=p(33794);const D=X.Z.getLogger("esri.core.accessorSupport.write");function k(te,ae,re,$,F){var U,A;const R={};return null==(A=null==(U=ae.write)?void 0:U.writer)||A.call(te,$,R,re,F),R}function N(te,ae,re,$,F,R){if(!$||!$.write)return!1;const U=te.get(re);if(!F&&$.write.overridePolicy){const A=$.write.overridePolicy.call(te,U,re,R);void 0!==A&&(F=A)}if(F||(F=$.write),!F||!1===F.enabled)return!1;if((null===U&&!F.allowNull&&!F.writerEnsuresNonNull||void 0===U)&&F.isRequired){const A=new v.Z("web-document-write:property-required",`Missing value for required property '${re}' on '${te.declaredClass}'`,{propertyName:re,target:te});return A&&R&&R.messages?R.messages.push(A):A&&!R&&D.error(A.name,A.message),!1}return!(void 0===U||null===U&&!F.allowNull&&!F.writerEnsuresNonNull||(!ae.store.multipleOriginsSupported||ae.store.originOf(re)===G.s3.DEFAULTS)&&function B(te,ae,re,$,F){const R=$.default;if(void 0===R)return!1;if(null!=$.defaultEquals)return $.defaultEquals(F);if("function"==typeof R){if(Array.isArray(F)){const U=R.call(te,ae,re);return(0,d.fS)(U,F)}return!1}return R===F}(te,re,R,$,U)||!F.ignoreOrigin&&R&&R.origin&&ae.store.multipleOriginsSupported&&ae.store.originOf(re)<(0,G.M9)(R.origin))}function Q(te,ae,re,$){const F=(0,z.vw)(te),U=(0,Z.Ah)(F.metadatas[ae],$);return!!U&&N(te,F,ae,U,re,$)}function ne(te,ae,re){var R,U;if(te&&"function"==typeof te.toJSON&&(!te.toJSON.isDefaultToJSON||!te.write))return(0,z.TS)(ae,te.toJSON(re));const $=(0,z.vw)(te),F=$.metadatas;for(const A in F){const V=(0,Z.Ah)(F[A],re);if(!N(te,$,A,V,void 0,re))continue;const J=te.get(A),Y=k(te,V,V.write&&"string"==typeof V.write.target?V.write.target:A,J,re);Object.keys(Y).length>0&&(ae=(0,z.TS)(ae,Y),(null==(U=null==(R=null==re?void 0:re.resources)?void 0:R.pendingOperations)?void 0:U.length)&&Promise.all(re.resources.pendingOperations).then(()=>(0,z.TS)(ae,Y)),re&&re.writtenProperties&&re.writtenProperties.push({target:te,propName:A,oldOrigin:(0,G.Wm)($.store.originOf(A)),newOrigin:re.origin}))}return ae}},85931:(wt,Se,p)=>{"use strict";p.d(Se,{FY:()=>le,Od:()=>ye,SO:()=>V,Tw:()=>k,Vx:()=>B,a9:()=>$,cq:()=>Y,e$:()=>oe,e5:()=>Q,fS:()=>N,w6:()=>F,zG:()=>te});var d=p(62208),v=p(4619);function k(pe,Ce){return pe.filter(Ce?(De,Me,ve)=>ve.findIndex(Ce.bind(null,De))===Me:(De,Me,ve)=>ve.indexOf(De)===Me)}function N(pe,Ce,De){if((0,d.Wi)(pe)&&(0,d.Wi)(Ce))return!0;if((0,d.Wi)(pe)||(0,d.Wi)(Ce)||pe.length!==Ce.length)return!1;if(De){for(let Me=0;Me<pe.length;Me++)if(!De(pe[Me],Ce[Me]))return!1}else for(let Me=0;Me<pe.length;Me++)if(pe[Me]!==Ce[Me])return!1;return!0}function B(pe,Ce){let De=pe.length!==Ce.length;pe.length=Ce.length;for(let Me=0;Me<Ce.length;++Me)pe[Me]!==Ce[Me]&&(pe[Me]=Ce[Me],De=!0);return De}function Q(pe,Ce,De){let Me,ve;return De?(Me=Ce.filter(Le=>!pe.some(je=>De(je,Le))),ve=pe.filter(Le=>!Ce.some(je=>De(je,Le)))):(Me=Ce.filter(Le=>!pe.includes(Le)),ve=pe.filter(Le=>!Ce.includes(Le))),{added:Me,removed:ve}}function te(pe){return pe&&"number"==typeof pe.length}const re=!!Array.prototype.fill;function $(pe,Ce){if(re)return new Array(pe).fill(Ce);const De=new Array(pe);for(let Me=0;Me<pe;Me++)De[Me]=Ce;return De}function F(pe,Ce){void 0===Ce&&(Ce=pe,pe=0);const De=new Array(Ce-pe);for(let Me=pe;Me<Ce;Me++)De[Me-pe]=Me;return De}class V{constructor(){this.last=0}}const J=new V;function Y(pe,Ce,De,Me){Me=Me||J;const ve=Math.max(0,Me.last-10);for(let je=ve;je<De;++je)if(pe[je]===Ce)return Me.last=je,je;const Le=Math.min(ve,De);for(let je=0;je<Le;++je)if(pe[je]===Ce)return Me.last=je,je;return-1}function oe(pe,Ce,De,Me){const ve=null==De?pe.length:De,Le=Y(pe,Ce,ve,Me);if(-1!==Le)return pe[Le]=pe[ve-1],null==De&&pe.pop(),Ce}const se=new Set;function le(pe,Ce,De=pe.length,Me=Ce.length,ve,Le){if(0===Me||0===De)return De;se.clear();for(let _e=0;_e<Me;++_e)se.add(Ce[_e]);ve=ve||J;const je=Math.max(0,ve.last-10);for(let _e=je;_e<De;++_e)if(se.has(pe[_e])&&(Le&&Le.push(pe[_e]),se.delete(pe[_e]),pe[_e]=pe[De-1],--De,--_e,0===se.size||0===De))return se.clear(),De;for(let _e=0;_e<je;++_e)if(se.has(pe[_e])&&(Le&&Le.push(pe[_e]),se.delete(pe[_e]),pe[_e]=pe[De-1],--De,--_e,0===se.size||0===De))return se.clear(),De;return se.clear(),De}function ye(pe,Ce){const De=pe.indexOf(Ce);return-1!==De?(pe.splice(De,1),Ce):null}new v.Z},59213:(wt,Se,p)=>{"use strict";p.d(Se,{Ed:()=>G,UI:()=>z,mt:()=>N,q6:()=>D});var d=p(15861),v=p(62208),X=p(10699);function G(ne,te,ae){return(0,X.as)(ne.map((re,$)=>te.apply(ae,[re,$])))}function z(ne,te,ae){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(ne,te,ae){return(yield(0,X.as)(ne.map((re,$)=>te.apply(ae,[re,$])))).map(re=>re.value)})).apply(this,arguments)}function D(ne){return k.apply(this,arguments)}function k(){return(k=(0,d.Z)(function*(ne){if((0,v.Wi)(ne))return{ok:!1,error:new Error("no promise provided")};try{return{ok:!0,value:yield ne}}catch(te){return{ok:!1,error:te}}})).apply(this,arguments)}function N(ne){return B.apply(this,arguments)}function B(){return(B=(0,d.Z)(function*(ne){try{return{ok:!0,value:yield ne}}catch(te){return(0,X.r9)(te),{ok:!1,error:te}}})).apply(this,arguments)}},27306:(wt,Se,p)=>{"use strict";function d(Z){return 32+Z.length}function X(Z){if(!Z)return 0;let D=32;for(const k in Z)if(Z.hasOwnProperty(k)){const N=Z[k];switch(typeof N){case"string":D+=d(N);break;case"number":D+=16;break;case"boolean":D+=4}}return D}function G(Z,D){return 32+Z.length*D}var z,Z;p.d(Se,{Y8:()=>z,do:()=>G,f2:()=>X}),(Z=z||(z={}))[Z.KILOBYTES=1024]="KILOBYTES",Z[Z.MEGABYTES=1048576]="MEGABYTES",Z[Z.GIGABYTES=1073741824]="GIGABYTES"},84244:(wt,Se,p)=>{"use strict";p.d(Se,{m:()=>v});const v=function d(X){return{setTimeout:(G,z)=>{const Z=X.setTimeout(G,z);return{remove:()=>X.clearTimeout(Z)}}}}(globalThis)},89726:(wt,Se,p)=>{"use strict";p.d(Se,{R:()=>X,Z:()=>v});var d=p(74333);function v(z,Z,D=d.Z){return Z||(Z=new D),Z===z||(Z.removeAll(),function G(z){return z&&(Array.isArray(z)||"items"in z&&Array.isArray(z.items))}(z)?Z.addMany(z):z&&Z.add(z)),Z}function X(z){return z}},78260:(wt,Se,p)=>{"use strict";function v(de){return"h"in de&&"s"in de&&"v"in de}function X(de){return"l"in de&&"a"in de&&"b"in de}function G(de){return"l"in de&&"c"in de&&"h"in de}p.d(Se,{Y3:()=>Y,_Y:()=>J,sJ:()=>oe,xr:()=>V});const Z=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],D=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function k(de,q){const ue=[];let ie,ye;if(de[0].length!==q.length)throw"dimensions do not match";const pe=de.length,Ce=de[0].length;let De=0;for(ie=0;ie<pe;ie++){for(De=0,ye=0;ye<Ce;ye++)De+=de[ie][ye]*q[ye];ue.push(De)}return ue}function N(de){const q=[de.r/255,de.g/255,de.b/255].map(ie=>ie<=.04045?ie/12.92:((ie+.055)/1.055)**2.4),ue=k(Z,q);return{x:100*ue[0],y:100*ue[1],z:100*ue[2]}}function B(de){const q=k(D,[de.x/100,de.y/100,de.z/100]).map(ue=>Math.min(1,Math.max(ue<=.0031308?12.92*ue:1.055*ue**.4166666666666667-.055,0)));return{r:Math.round(255*q[0]),g:Math.round(255*q[1]),b:Math.round(255*q[2])}}function Q(de){const q=[de.x/95.047,de.y/100,de.z/108.883].map(ue=>ue>.008856451679035631?ue**.3333333333333333:7.787037037037035*ue+.13793103448275862);return{l:116*q[1]-16,a:500*(q[0]-q[1]),b:200*(q[1]-q[2])}}function ne(de){const q=de.l,ue=[(q+16)/116+de.a/500,(q+16)/116,(q+16)/116-de.b/200].map(ie=>ie>6/29?ie**3:3*(6/29)**2*(ie-4/29));return{x:95.047*ue[0],y:100*ue[1],z:108.883*ue[2]}}function V(de){return function d(de){return"r"in de&&"g"in de&&"b"in de}(de)?de:G(de)?function R(de){return B(ne(function ae(de){const ue=de.c,ie=de.h;return{l:de.l,a:ue*Math.cos(ie),b:ue*Math.sin(ie)}}(de)))}(de):X(de)?function $(de){return B(ne(de))}(de):function z(de){return"x"in de&&"y"in de&&"z"in de}(de)?B(de):v(de)?function A(de){const q=(de.h+360)%360/60,ie=de.v/100*255,ye=ie*(de.s/100),pe=ye*(1-Math.abs(q%2-1));let Ce;switch(Math.floor(q)){case 0:Ce={r:ye,g:pe,b:0};break;case 1:Ce={r:pe,g:ye,b:0};break;case 2:Ce={r:0,g:ye,b:pe};break;case 3:Ce={r:0,g:pe,b:ye};break;case 4:Ce={r:pe,g:0,b:ye};break;case 5:case 6:Ce={r:ye,g:0,b:pe};break;default:Ce={r:0,g:0,b:0}}return Ce.r=Math.round(Ce.r+ie-ye),Ce.g=Math.round(Ce.g+ie-ye),Ce.b=Math.round(Ce.b+ie-ye),Ce}(de):de}function J(de){return v(de)?de:function U(de){const q=de.r,ue=de.g,ie=de.b,ye=Math.max(q,ue,ie),pe=ye-Math.min(q,ue,ie);let Ce=ye,De=0===pe?0:ye===q?(ue-ie)/pe%6:ye===ue?(ie-q)/pe+2:(q-ue)/pe+4,Me=0===pe?0:pe/Ce;return De<0&&(De+=6),De*=60,Me*=100,Ce*=100/255,{h:De,s:Me,v:Ce}}(V(de))}function Y(de){return X(de)?de:function re(de){return Q(N(de))}(V(de))}function oe(de){return G(de)?de:function F(de){return function te(de){const q=de.l,ue=de.a,ie=de.b,ye=Math.sqrt(ue*ue+ie*ie);let pe=Math.atan2(ie,ue);return pe=pe>0?pe:pe+2*Math.PI,{l:q,c:ye,h:pe}}(Q(N(de)))}(V(de))}},94573:(wt,Se,p)=>{"use strict";function v(Z){}function G(Z){return()=>Z}p.d(Se,{Bg:()=>v,sM:()=>G}),p(8314)},55538:(wt,Se,p)=>{"use strict";p.d(Se,{Mr:()=>Z,x9:()=>D});var d=p(8314);const v=new Set;function Z(k,N,B={}){if((0,d.Z)("esri-deprecation-warnings")){const{moduleName:Q}=B;D(k,"Property: "+(Q?Q+"::":"")+N,B)}}function D(k,N,B={}){if((0,d.Z)("esri-deprecation-warnings")){const{replacement:Q,version:ne,see:te,warnOnce:ae}=B;let re=N;Q&&(re+=`\n\t\u{1f6e0}\ufe0f Replacement: ${Q}`),ne&&(re+=`\n\t\u2699\ufe0f Version: ${ne}`),te&&(re+=`\n\t\u{1f517} See ${te} for more details.`),function X(k,N,B=!1){B&&v.has(N)||(B&&v.add(N),k.warn(`\u{1f6d1} DEPRECATED - ${N}`))}(k,re,ae)}}},40764:(wt,Se,p)=>{"use strict";function d(k){return"string"==typeof k?document.getElementById(k):k}function v(k){for(;k.hasChildNodes();)k.removeChild(k.firstChild)}function G(k,N){const B=N.parentNode;B&&B.insertBefore(k,N)}function z(k,N){for(;;){const B=k.firstChild;if(!B)break;N.appendChild(B)}}p.d(Se,{L7:()=>d,Vt:()=>G,YD:()=>z,cS:()=>v}),(()=>{if("function"==typeof Element.prototype.closest)return(N,B)=>N.closest(B);Element.prototype.matches||Element})()},17770:(wt,Se,p)=>{"use strict";function d(D){return D&&("function"==typeof D.on||"function"==typeof D.addEventListener)}function v(D,k,N){if(!d(D))throw new TypeError("target is not a Evented or EventTarget object");if("on"in D)return D.on(k,N);if(Array.isArray(k)){const B=k.slice();for(const Q of B)D.addEventListener(Q,N);return{remove(){for(const Q of B)D.removeEventListener(Q,N)}}}return D.addEventListener(k,N),{remove(){D.removeEventListener(k,N)}}}function X(D,k,N){if(!d(D))throw new TypeError("target is not a Evented or EventTarget object");if("once"in D)return D.once(k,N);const B=v(D,k,Q=>{B.remove(),N.call(D,Q)});return{remove(){B.remove()}}}p.d(Se,{IH:()=>X,kK:()=>Z,on:()=>v,vT:()=>d});const z={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Z({key:D}){return z[D]||D}},54024:(wt,Se,p)=>{"use strict";p.d(Se,{AL:()=>v,kB:()=>X});var d=p(62208);function v(k){return X(()=>k.forEach(N=>(0,d.pC)(N)&&N.remove()))}function X(k){return{remove:()=>{k&&(k(),k=void 0)}}}},8314:(wt,Se,p)=>{var X,G,z,Z;let d;function v(D){return"function"==typeof d[D]?d[D]=d[D](globalThis):d[D]}p.d(Se,{Z:()=>v}),d=(null==(X=globalThis.dojoConfig)?void 0:X.has)||(null==(G=globalThis.esriConfig)?void 0:G.has)?Nn(Nn({},null==(z=globalThis.dojoConfig)?void 0:z.has),null==(Z=globalThis.esriConfig)?void 0:Z.has):{},v.add=(D,k,N,B)=>((B||void 0===d[D])&&(d[D]=k),N&&v(D)),v.cache=d,v.add("esri-deprecation-warnings",!0),(()=>{var k;v.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const D="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(v.add("host-browser",D),v.add("host-node","object"==typeof globalThis.process&&(null==(k=globalThis.process.versions)?void 0:k.node)&&globalThis.process.versions.v8),v.add("dom",D),v("host-browser")){const N=navigator,B=N.userAgent,Q=N.appVersion,ne=parseFloat(Q);if(v.add("wp",parseFloat(B.split("Windows Phone")[1])||void 0),v.add("msapp",parseFloat(B.split("MSAppHost/")[1])||void 0),v.add("khtml",Q.includes("Konqueror")?ne:void 0),v.add("edge",parseFloat(B.split("Edge/")[1])||void 0),v.add("opr",parseFloat(B.split("OPR/")[1])||void 0),v.add("webkit",!v("wp")&&!v("edge")&&parseFloat(B.split("WebKit/")[1])||void 0),v.add("chrome",!v("edge")&&!v("opr")&&parseFloat(B.split("Chrome/")[1])||void 0),v.add("android",!v("wp")&&parseFloat(B.split("Android ")[1])||void 0),v.add("safari",!Q.includes("Safari")||v("wp")||v("chrome")||v("android")||v("edge")||v("opr")?void 0:parseFloat(Q.split("Version/")[1])),v.add("mac",Q.includes("Macintosh")),!v("wp")&&B.match(/(iPhone|iPod|iPad)/)){const te=RegExp.$1.replace(/P/,"p"),ae=B.match(/OS ([\d_]+)/)?RegExp.$1:"1",re=parseFloat(ae.replace(/_/,".").replace(/_/g,""));v.add(te,re),v.add("ios",re)}v.add("trident",parseFloat(Q.split("Trident/")[1])||void 0),v("webkit")||(!B.includes("Gecko")||v("wp")||v("khtml")||v("trident")||v("edge")||v.add("mozilla",ne),v("mozilla")&&v.add("ff",parseFloat(B.split("Firefox/")[1]||B.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const D=navigator.userAgent,k=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(D),N=/iPhone/i.test(D);k&&v.add("esri-mobile",k),N&&v.add("esri-iPhone",N),v.add("esri-geolocation",!!navigator.geolocation)}v.add("esri-canvas-svg-support",!v("trident")),v.add("esri-wasm","WebAssembly"in globalThis),v.add("esri-shared-array-buffer",()=>{const D="SharedArrayBuffer"in globalThis,k=!1===globalThis.crossOriginIsolated;return D&&!k}),v.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),v.add("esri-atomics","Atomics"in globalThis),v.add("esri-workers","Worker"in globalThis),v.add("web-feat:cache","caches"in globalThis),v.add("esri-workers-arraybuffer-transfer",!v("safari")||Number(v("safari"))>=12),v.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),v.add("featurelayer-simplify-payload-size-factors",[1,1,4]),v.add("featurelayer-snapshot-enabled",!0),v.add("featurelayer-snapshot-point-min-threshold",8e4),v.add("featurelayer-snapshot-point-max-threshold",4e5),v.add("featurelayer-snapshot-point-coverage",.1),v.add("featurelayer-advanced-symbols",!1),v.add("featurelayer-pbf",!0),v.add("featurelayer-pbf-statistics",!1),v.add("feature-layers-workers",!0),v.add("feature-polyline-generalization-factor",1),v.add("mapview-transitions-duration",200),v.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),v.add("mapserver-pbf-enabled",!1),v.add("mapimagelayer-popup-identify-max-tolerance",20),v.add("heatmap-allow-raster-fallback",!0),v.add("heatmap-force-raster",!1),v("host-webworker")||v("host-browser")&&(v.add("esri-csp-restrictions",()=>{try{new Function}catch(D){return!0}return!1}),v.add("esri-image-decode",()=>{if("decode"in new Image){const D=new Image;return D.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void D.decode().then(()=>{v.add("esri-image-decode",!0,!0,!0)}).catch(()=>{v.add("esri-image-decode",!1,!0,!0)})}return!1}),v.add("esri-url-encodes-apostrophe",()=>{const D=window.document.createElement("a");return D.href="?'",D.href.includes("?%27")}))})()},56354:(wt,Se,p)=>{"use strict";function d(G){const z=[];return function*(){yield*z;for(const Z of G)z.push(Z),yield Z}}function v(G,z){for(const Z of G)if(null!=Z&&z(Z))return Z}function X(G){return null!=G&&"function"==typeof G[Symbol.iterator]}p.d(Se,{Fs:()=>d,TW:()=>X,sE:()=>v})},2076:(wt,Se,p)=>{"use strict";p.d(Se,{X:()=>v,w:()=>X});var d=p(94113);class v{constructor(z,Z={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=z,this.options=Z,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(z),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=D=>this.fromJSON(D),this.write=(D,k,N)=>{const B=this.toJSON(D);void 0!==B&&(0,d.RB)(N,B,k)},this.write.isJSONMapWriter=!0}toJSON(z){if(this.apiToJSON.hasOwnProperty(z)){const Z=this.apiToJSON[z];return this.options.useNumericKeys?+Z:Z}return this.options.ignoreUnknown?void 0:z}fromJSON(z){return this.jsonToAPI.hasOwnProperty(z)?this.jsonToAPI[z]:this.options.ignoreUnknown?void 0:z}_invertMap(z){const Z={};for(const D in z)Z[z[D]]=D;return Z}_getKeysSorted(z){const Z=[];for(const D in z)Z.push(D);return Z.sort(),Z}}function X(){return function(G,z){return new v(G,Nn({ignoreUnknown:!0},z))}}},58817:(wt,Se,p)=>{"use strict";p.d(Se,{Vo:()=>D,d9:()=>Z,fS:()=>te,y7:()=>ae,yd:()=>z});var d=p(85931),X=(p(8314),p(62208)),G=p(55713);function z(U,A){let V;if(A)for(V in U)U.hasOwnProperty(V)&&(void 0===U[V]?delete U[V]:U[V]instanceof Object&&z(U[V],!0));else for(V in U)U.hasOwnProperty(V)&&void 0===U[V]&&delete U[V];return U}function Z(U){if(!U||"object"!=typeof U||"function"==typeof U)return U;const A=ne(U);if((0,X.pC)(A))return A;if(k(U))return U.clone();if(N(U))return U.map(Z);if(B(U))return U.clone();const V={};for(const J of Object.getOwnPropertyNames(U))V[J]=Z(U[J]);return V}function D(U){if(!U||"object"!=typeof U||"function"==typeof U)return U;const A=ne(U);if((0,X.pC)(A))return A;if(N(U)){let V=!0;const J=U.map(Y=>{const oe=D(Y);return null!=Y&&null==oe&&(V=!1),oe});return V?J:null}if(k(U))return U.clone();if(!B(U)){const V=new(Object.getPrototypeOf(U).constructor);for(const J of Object.getOwnPropertyNames(U)){const Y=U[J],oe=D(Y);if(null!=Y&&null==oe)return null;V[J]=oe}return V}return null}function k(U){return"function"==typeof U.clone}function N(U){return"function"==typeof U.map&&"function"==typeof U.forEach}function B(U){return"function"==typeof U.notifyChange&&"function"==typeof U.watch}function Q(U){if("[object Object]"!==Object.prototype.toString.call(U))return!1;const A=Object.getPrototypeOf(U);return null===A||A===Object.prototype}function ne(U){if((0,G.W0)(U)||(0,G.lq)(U)||(0,G.KZ)(U)||(0,G.z3)(U)||(0,G.Uc)(U)||(0,G.Hx)(U)||(0,G.ZY)(U)||(0,G.xZ)(U)||(0,G.fS)(U))return(0,G.tP)(U);if(U instanceof Date)return new Date(U.getTime());if(U instanceof ArrayBuffer)return U.slice(0,U.byteLength);if(U instanceof Map){const A=new Map;return U.forEach((V,J)=>{A.set(J,Z(V))}),A}if(U instanceof Set){const A=new Set;return U.forEach(V=>{A.add(Z(V))}),A}return null}function te(U,A){return U===A||"number"==typeof U&&isNaN(U)&&"number"==typeof A&&isNaN(A)||"function"==typeof(U||{}).getTime&&"function"==typeof(A||{}).getTime&&U.getTime()===A.getTime()||!1}function ae(U,A){return U===A||(null==U||"string"==typeof U?U===A:"number"==typeof U?U===A||"number"==typeof A&&isNaN(U)&&isNaN(A):U instanceof Date?A instanceof Date&&U.getTime()===A.getTime():Array.isArray(U)?Array.isArray(A)&&(0,d.fS)(U,A):U instanceof Set?A instanceof Set&&function $(U,A){if(U.size!==A.size)return!1;for(const V of U)if(!A.has(V))return!1;return!0}(U,A):U instanceof Map?A instanceof Map&&function F(U,A){if(U.size!==A.size)return!1;for(const[V,J]of U){const Y=A.get(V);if(Y!==J||void 0===Y&&!A.has(V))return!1}return!0}(U,A):!!Q(U)&&Q(A)&&function re(U,A){if(null===U||null===A)return!1;const V=Object.keys(U);if(null===A||Object.keys(A).length!==V.length)return!1;for(const J of V)if(U[J]!==A[J]||!Object.prototype.hasOwnProperty.call(A,J))return!1;return!0}(U,A))}},47877:(wt,Se,p)=>{"use strict";p.d(Se,{G:()=>Z,w:()=>k});var d=p(15861),v=p(59213),X=p(74333),G=p(47996),z=p(62208);function Z(Q,ne){return D.apply(this,arguments)}function D(){return(D=(0,d.Z)(function*(Q,ne){return yield Q.load(),k(Q,ne)})).apply(this,arguments)}function k(Q,ne){return N.apply(this,arguments)}function N(){return N=(0,d.Z)(function*(Q,ne){const te=[],ae=(...$)=>{for(const F of $)(0,z.Wi)(F)||(Array.isArray(F)?ae(...F):X.Z.isCollection(F)?F.forEach(R=>ae(R)):G.Z.isLoadable(F)&&te.push(F))};ne(ae);let re=null;if(yield(0,v.UI)(te,function(){var $=(0,d.Z)(function*(F){!1!==(yield(0,v.q6)(B(F)?F.loadAll():F.load())).ok||re||(re=F)});return function(F){return $.apply(this,arguments)}}()),re)throw re.loadError;return Q}),N.apply(this,arguments)}function B(Q){return"loadAll"in Q&&"function"==typeof Q.loadAll}},21286:(wt,Se,p)=>{"use strict";p.d(Se,{BV:()=>te,Kt:()=>$,Sf:()=>G,Vl:()=>ne,W8:()=>R,Y8:()=>F,ZF:()=>re,_3:()=>de,fp:()=>k,jE:()=>Y,oK:()=>U,oc:()=>le,t7:()=>B,uZ:()=>z,wt:()=>D});var d=p(84161);p(993);const X=new Float32Array(1);function G(q){--q;for(let ue=1;ue<32;ue<<=1)q|=q>>ue;return q+1}function z(q,ue,ie){return Math.min(Math.max(q,ue),ie)}function D(q){return 0==(q&q-1)}function k(q){return q--,q|=q>>1,q|=q>>2,q|=q>>4,q|=q>>8,q|=q>>16,++q}function B(q,ue,ie){return q+(ue-q)*ie}function ne(q){return q*Math.PI/180}function te(q){return 180*q/Math.PI}function re(q){return Math.acos(z(q,-1,1))}function $(q){return Math.asin(z(q,-1,1))}function F(q,ue,ie=1e-6){if(isNaN(q)||isNaN(ue))return!1;if(q===ue)return!0;const ye=Math.abs(q-ue),pe=Math.abs(q),Ce=Math.abs(ue);if(0===q||0===ue||pe<1e-12&&Ce<1e-12){if(ye>.01*ie)return!1}else if(ye/(pe+Ce)>ie)return!1;return!0}function R(q,ue,ie=1e-6){return!isNaN(q)&&!isNaN(ue)&&(q>ue?q-ue:ue-q)<=ie}function U(q){return A(Math.max(-de,Math.min(q,de)))}function A(q){return X[0]=q,X[0]}function Y(q,ue){const ie=(0,d.l)(q),ye=$(q[2]/ie),pe=Math.atan2(q[1]/ie,q[0]/ie);return(0,d.s)(ue,ie,ye,pe),ue}function le(q){const ie=q[3]*q[3]+q[4]*q[4]+q[5]*q[5],ye=q[6]*q[6]+q[7]*q[7]+q[8]*q[8];return!(R(q[0]*q[0]+q[1]*q[1]+q[2]*q[2],1)&&R(ie,1)&&R(ye,1))}const de=A(34028234663852886e22)},62208:(wt,Se,p)=>{"use strict";function v(se){return null!=se}function X(se){return null==se}function z(se,le){return v(se)?le(se):null}function Z(se){return se}function D(se,le){if(X(se))throw new Error(le);return se}function k(se,le){return v(se)?se:"function"==typeof le?le():le}function N(se,le){return v(se)?se:le}function B(se){return v(se)&&se.destroy(),null}function Q(se){return v(se)&&se.dispose(),null}function ne(se){return v(se)&&se.remove(),null}function te(se){return v(se)&&se.abort(),null}function ae(se){return v(se)&&se.release(),null}function re(se,le,de){return v(se)&&v(le)?v(de)?de(se,le):se.equals(le):se===le}function $(se){return null}function R(se,le){const de=new Array;for(const q of se)de.push(A(q,null,le));return de}function U(se,le){for(const de of se)z(de,le)}function A(se,le,de){return v(se)?de(se):le}function J(se){return se.filter(le=>v(le))}function Y(se,...le){let de=se;for(let q=0;q<le.length&&de;++q)de=de[le[q]];return de}function oe(se){return se}p.d(Se,{Bd:()=>$,Fd:()=>R,IM:()=>te,JR:()=>U,O3:()=>Q,Pt:()=>k,R2:()=>A,RY:()=>ae,SC:()=>B,U2:()=>Y,Wg:()=>Z,Wi:()=>X,_W:()=>re,hw:()=>ne,j0:()=>oe,lV:()=>J,pC:()=>v,s3:()=>D,yl:()=>N,yw:()=>z})},79682:(wt,Se,p)=>{"use strict";p.d(Se,{Y:()=>v});const d=[];function v(X){d.push(X),1===d.length&&queueMicrotask(()=>{const G=d.slice();d.length=0;for(const z of G)z()})}},75327:(wt,Se,p)=>{"use strict";p.d(Se,{Qc:()=>Q,WU:()=>z,lt:()=>B});var d=p(77275),v=p(56683);const X={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function G($){$||($=(0,v.Kd)());let F=$ in X;if(!F){const V=$.split("-");V.length>1&&V[0]in X&&($=V[0],F=!0),F||($="en")}const[R,U,A="#,##0.###"]=X[$];return{decimal:R,group:U,pattern:A}}function z($,F){const R=G((F=Nn({},F)).locale);F.customs=R;const U=F.pattern||R.pattern;return isNaN($)||Math.abs($)===1/0?null:function D($,F,R){const U=(R=R||{}).customs.group,A=R.customs.decimal,V=F.split(";"),J=V[0];if((F=V[$<0?1:0]||"-"+J).includes("%"))$*=100;else if(F.includes("\u2030"))$*=1e3;else{if(F.includes("\xa4"))throw new Error("currency notation not supported");if(F.includes("E"))throw new Error("exponential notation not supported")}const Y=Z,oe=J.match(Y);if(!oe)throw new Error("unable to find a number expression in pattern: "+F);return!1===R.fractional&&(R.places=0),F.replace(Y,function k($,F,R){!0===(R=R||{}).places&&(R.places=0),R.places===1/0&&(R.places=6);const U=F.split("."),A="string"==typeof R.places&&R.places.indexOf(",");let V=R.places;A?V=R.places.substring(A+1):V>=0||(V=(U[1]||[]).length),R.round<0||($=Number($.toFixed(Number(V))));const J=String(Math.abs($)).split("."),Y=J[1]||"";if(U[1]||R.places){A&&(R.places=R.places.substring(0,A));const ie=void 0!==R.places?R.places:U[1]&&U[1].lastIndexOf("0")+1;ie>Y.length&&(J[1]=Y.padEnd(Number(ie),"0")),V<Y.length&&(J[1]=Y.substr(0,Number(V)))}else J[1]&&J.pop();const oe=U[0].replace(",","");let se=oe.indexOf("0");-1!==se&&(se=oe.length-se,se>J[0].length&&(J[0]=J[0].padStart(se,"0")),oe.includes("#")||(J[0]=J[0].substr(J[0].length-se)));let le,de,q=U[0].lastIndexOf(",");if(-1!==q){le=U[0].length-q-1;const ie=U[0].substr(0,q);q=ie.lastIndexOf(","),-1!==q&&(de=ie.length-q-1)}const ue=[];for(let ie=J[0];ie;){const ye=ie.length-le;ue.push(ye>0?ie.substr(ye):ie),ie=ye>0?ie.slice(0,ye):"",de&&(le=de,de=void 0)}return J[0]=ue.reverse().join(R.group||","),J.join(R.decimal||".")}($,oe[0],{decimal:A,group:U,places:R.places,round:R.round}))}($,U,F)}const Z=/[#0,]*[#0](?:\.0*#*)?/;function B($){const F=G(($=$||{}).locale),R=$.pattern||F.pattern,U=F.group,A=F.decimal;let V=1;if(R.includes("%"))V/=100;else if(R.includes("\u2030"))V/=1e3;else if(R.includes("\xa4"))throw new Error("currency notation not supported");const J=R.split(";");return 1===J.length&&J.push("-"+J[0]),{regexp:ae(J,oe=>(oe="(?:"+(0,d.Qs)(oe,".")+")").replace(Z,se=>{const le={signed:!1,separator:$.strict?U:[U,""],fractional:$.fractional,decimal:A,exponent:!1},de=se.split(".");let q=$.places;1===de.length&&1!==V&&(de[1]="###"),1===de.length||0===q?le.fractional=!1:(void 0===q&&(q=$.pattern?de[1].lastIndexOf("0")+1:1/0),q&&null==$.fractional&&(le.fractional=!0),!$.places&&q<de[1].length&&(q+=","+de[1].length),le.places=q);const ue=de[0].split(",");return ue.length>1&&(le.groupSize=ue.pop().length,ue.length>1&&(le.groupSize2=ue.pop().length)),"("+function ne($){"places"in($=$||{})||($.places=1/0),"string"!=typeof $.decimal&&($.decimal="."),"fractional"in $&&!/^0/.test(String($.places))||($.fractional=[!0,!1]),"exponent"in $||($.exponent=[!0,!1]),"eSigned"in $||($.eSigned=[!0,!1]);const F=te($),R=ae($.fractional,A=>{let V="";return A&&0!==$.places&&(V="\\"+$.decimal,$.places===1/0?V="(?:"+V+"\\d+)?":V+="\\d{"+$.places+"}"),V},!0);let U=F+R;return R&&(U="(?:(?:"+U+")|(?:"+R+"))"),U+ae($.exponent,A=>A?"([eE]"+te({signed:$.eSigned})+")":"")}(le)+")"}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:U,decimal:A,factor:V}}function Q($,F){const R=B(F),U=new RegExp("^"+R.regexp+"$").exec($);if(!U)return NaN;let A=U[1];if(!U[1]){if(!U[2])return NaN;A=U[2],R.factor*=-1}return A=A.replace(new RegExp("["+R.group+"\\s\\xa0]","g"),"").replace(R.decimal,"."),Number(A)*R.factor}function te($){return"signed"in($=$||{})||($.signed=[!0,!1]),"separator"in $?"groupSize"in $||($.groupSize=3):$.separator="",ae($.signed,F=>F?"[-+]":"",!0)+ae($.separator,F=>{if(!F)return"(?:\\d+)";" "===(F=(0,d.Qs)(F))?F="\\s":"\xa0"===F&&(F="\\s\\xa0");const R=$.groupSize,U=$.groupSize2;if(U){const A="(?:0|[1-9]\\d{0,"+(U-1)+"}(?:["+F+"]\\d{"+U+"})*["+F+"]\\d{"+R+"})";return R-U>0?"(?:"+A+"|(?:0|[1-9]\\d{0,"+(R-1)+"}))":A}return"(?:0|[1-9]\\d{0,"+(R-1)+"}(?:["+F+"]\\d{"+R+"})*)"},!0)}const ae=($,F,R)=>{if(!($ instanceof Array))return F($);const U=[];for(let A=0;A<$.length;A++)U.push(F($[A]));return re(U.join("|"),R)},re=($,F)=>"("+(F?"?:":"")+$+")"},94113:(wt,Se,p)=>{"use strict";p.d(Se,{RB:()=>G,RH:()=>v,hS:()=>X});var d=p(58817);function v(D,k,N=!1){return Z(D,k,N)}function X(D,k){if(null!=k)return k[D]||z(D.split("."),!1,k)}function G(D,k,N){const B=D.split("."),Q=B.pop(),ne=z(B,!0,N);ne&&Q&&(ne[Q]=k)}function z(D,k,N){let B=N;for(const Q of D){if(null==B)return;if(!(Q in B)){if(!k)return;B[Q]={}}B=B[Q]}return B}function Z(D,k,N){return k?Object.keys(k).reduce((B,Q)=>{let ne=B[Q],te=k[Q];return ne===te?B:void 0===ne?(B[Q]=(0,d.d9)(te),B):(Array.isArray(te)||Array.isArray(B)?(ne=B[Q]=ne?Array.isArray(ne)?ne.concat():[ne]:[],te&&(Array.isArray(te)||(te=[te]),N?te.forEach(ae=>{ne.includes(ae)||ne.push(ae)}):B[Q]=te.concat())):te&&"object"==typeof te?B[Q]=Z(ne,te,N):B.hasOwnProperty(Q)&&!k.hasOwnProperty(Q)||(B[Q]=te),B)},D||{}):D}},24192:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>D});var X,k,d=p(8314),v=p(27899);(k=X||(X={}))[k.varint=0]="varint",k[k.fixed64=1]="fixed64",k[k.delimited=2]="delimited",k[k.fixed32=5]="fixed32",k[k.unknown=99]="unknown";const G=4294967296,z=new TextDecoder("utf-8"),Z=(0,d.Z)("safari")||(0,d.Z)("ios")?6:(0,d.Z)("ff")?12:32;class D{constructor(N,B,Q=0,ne=(N?N.byteLength:0)){this._tag=0,this._dataType=X.unknown,this._init(N,B,Q,ne)}_init(N,B,Q,ne){this._data=N,this._dataView=B,this._pos=Q,this._end=ne}clone(){return new D(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(N){this._pos=N}nextTag(N){for(;;){if(this._pos===this._end)return!1;const B=this._decodeVarint();if(this._tag=B>>3,this._dataType=7&B,!N||N===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const N=this._decodeVarint();return this._tag=N>>3,this._dataType=7&N,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let N=4294967295;return N=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?N:(N=(N|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?N:(N=(N|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?N:(N=(N|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?N:(N=(N|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?N:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const N=this.getUInt32();return N>>>1^-(1&N)|0}getSInt64(){return this._decodeSVarint()}getBool(){const N=0!==this._data[this._pos];return this._skip(1),N}getEnum(){return this._decodeVarint()}getFixed64(){const N=this._dataView,B=this._pos,Q=N.getUint32(B,!0)+N.getUint32(B+4,!0)*G;return this._skip(8),Q}getSFixed64(){const N=this._dataView,B=this._pos,Q=N.getUint32(B,!0)+N.getInt32(B+4,!0)*G;return this._skip(8),Q}getDouble(){const N=this._dataView.getFloat64(this._pos,!0);return this._skip(8),N}getFixed32(){const N=this._dataView.getUint32(this._pos,!0);return this._skip(4),N}getSFixed32(){const N=this._dataView.getInt32(this._pos,!0);return this._skip(4),N}getFloat(){const N=this._dataView.getFloat32(this._pos,!0);return this._skip(4),N}getString(){const N=this._getLength(),B=this._pos,Q=this._toString(this._data,B,B+N);return this._skip(N),Q}getBytes(){const N=this._getLength(),B=this._pos,Q=this._toBytes(this._data,B,B+N);return this._skip(N),Q}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(N,B,Q,ne){const te=this.getMessage(),ae=N(te,B,Q,ne);return te.release(),ae}processMessage(N){const B=this.getMessage(),Q=N(B);return B.release(),Q}getMessage(){const N=this._getLength(),B=D.pool.acquire();return B._init(this._data,this._dataView,this._pos,this._pos+N),this._skip(N),B}release(){D.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case X.varint:this._decodeVarint();break;case X.fixed64:this._skip(8);break;case X.delimited:this._skip(this._getLength());break;case X.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(N){this._skip(N)}_skip(N){if(this._pos+N>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=N}_decodeVarint(){const N=this._data;let B,Q=this._pos,ne=0;if(this._end-Q>=10)do{if(B=N[Q++],ne|=127&B,0==(128&B)||(B=N[Q++],ne|=(127&B)<<7,0==(128&B))||(B=N[Q++],ne|=(127&B)<<14,0==(128&B))||(B=N[Q++],ne|=(127&B)<<21,0==(128&B))||(B=N[Q++],ne+=268435456*(127&B),0==(128&B))||(B=N[Q++],ne+=34359738368*(127&B),0==(128&B))||(B=N[Q++],ne+=4398046511104*(127&B),0==(128&B))||(B=N[Q++],ne+=562949953421312*(127&B),0==(128&B))||(B=N[Q++],ne+=72057594037927940*(127&B),0==(128&B))||(B=N[Q++],ne+=0x8000000000000000*(127&B),0==(128&B)))break;throw new Error("Varint too long!")}while(0);else{let te=1;for(;Q!==this._end&&(B=N[Q],0!=(128&B));)++Q,ne+=(127&B)*te,te*=128;if(Q===this._end)throw new Error("Varint overrun!");++Q,ne+=B*te}return this._pos=Q,ne}_decodeSVarint(){const N=this._decodeVarint();return N%2?-(N+1)/2:N/2}_getLength(){if(this._dataType!==X.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(N,B,Q){if((Q=Math.min(this._end,Q))-B>Z){const ae=N.subarray(B,Q);return z.decode(ae)}let ne="",te="";for(let ae=B;ae<Q;++ae){const re=N[ae];128&re?te+="%"+re.toString(16):(ne+=decodeURIComponent(te)+String.fromCharCode(re),te="")}return te.length&&(ne+=decodeURIComponent(te)),ne}_toBytes(N,B,Q){return Q=Math.min(this._end,Q),new Uint8Array(N.buffer,B,Q-B)}}D.pool=new v.Z(D,null,k=>{k._data=null,k._dataView=null})},10699:(wt,Se,p)=>{"use strict";p.d(Se,{$F:()=>R,D_:()=>V,Ds:()=>Me,H9:()=>$,Hc:()=>ae,Hl:()=>U,R8:()=>J,WW:()=>ue,Yn:()=>_e,as:()=>de,dD:()=>le,e4:()=>ye,fu:()=>F,gx:()=>De,hh:()=>ve,k_:()=>ne,r9:()=>re,vr:()=>je,y8:()=>Ce,zE:()=>Q});var d=p(15861),v=p(84244),G=(p(55538),p(26584)),z=p(17770),D=(p(63290),p(62208));function Q(nt="Aborted"){return new G.Z("AbortError",nt)}function ne(nt,pt="Aborted"){if(ae(nt))throw Q(pt)}function te(nt){return(0,D.pC)(nt)?"aborted"in nt?nt:nt.signal:nt}function ae(nt){const pt=te(nt);return(0,D.pC)(pt)&&pt.aborted}function re(nt){if(V(nt))throw nt}function $(nt){if(!V(nt))throw nt}function F(nt,pt){const Ne=te(nt);if(!(0,D.Wi)(Ne)){if(!Ne.aborted)return(0,z.IH)(Ne,"abort",()=>pt());pt()}}function R(nt,pt){const Ne=te(nt);if(!(0,D.Wi)(Ne))return ne(Ne),(0,z.IH)(Ne,"abort",()=>pt(Q()))}function U(nt,pt){const Ne=te(pt);return(0,D.Wi)(Ne)?nt:new Promise((xe,Ye)=>{let Ke=F(pt,()=>Ye(Q()));const Fe=()=>Ke=(0,D.hw)(Ke);nt.then(Fe,Fe),nt.then(xe,Ye)})}function V(nt){return nt&&"AbortError"===nt.name}function J(nt){return Y.apply(this,arguments)}function Y(){return(Y=(0,d.Z)(function*(nt){try{return yield nt}catch(pt){if(!V(pt))throw pt}})).apply(this,arguments)}function le(){let nt=null;const pt=new Promise((Ne,xe)=>{nt={promise:void 0,resolve:Ne,reject:xe}});return nt.promise=pt,nt}function de(nt){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(nt){if(!nt)return;if("function"!=typeof nt.forEach){const Ne=Object.keys(nt),xe=Ne.map(Fe=>nt[Fe]),Ye=yield de(xe),Ke={};return Ne.map((Fe,Ze)=>Ke[Fe]=Ye[Ze]),Ke}const pt=nt;return new Promise(Ne=>{const xe=[];let Ye=pt.length;0===Ye&&Ne(xe),pt.forEach(Ke=>{const Fe={promise:Ke||Promise.resolve(Ke)};xe.push(Fe),Fe.promise.then(Ze=>{Fe.value=Ze}).catch(Ze=>{Fe.error=Ze}).then(()=>{--Ye,0===Ye&&Ne(xe)})})})})).apply(this,arguments)}function ue(nt){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(nt){return(yield de(nt)).filter(pt=>!!pt.value).map(pt=>pt.value)})).apply(this,arguments)}function ye(nt,pt,Ne){const xe=new AbortController;return F(Ne,()=>xe.abort()),new Promise((Ye,Ke)=>{let Fe=setTimeout(()=>{Fe=0,Ye(pt)},nt);F(xe,()=>{Fe&&(clearTimeout(Fe),Ke(Q()))})})}function Ce(nt){return nt&&"function"==typeof nt.then}function De(nt){return Ce(nt)?nt:Promise.resolve(nt)}function Me(nt,pt=-1){let Ne,xe,Ye,Ke,Fe=null;const Ze=(...ct)=>{if(Ne){xe=ct,Ke&&Ke.reject(Q()),Ke=le();const $e=(0,D.j0)(Ke.promise);if(Fe){const ot=Fe;Fe=null,ot.abort()}return $e}if(Ye=Ke||le(),Ke=null,pt>0){const $e=new AbortController;Ne=De(nt(...ct,$e.signal));const ot=Ne;ye(pt).then(()=>{Ne===ot&&(Ke?$e.abort():Fe=$e)})}else Ne=1,Ne=De(nt(...ct));const we=()=>{const $e=xe;xe=Ye=Ne=Fe=null,null!=$e&&Ze(...$e)},Be=Ne,Je=Ye;return Be.then(we,we),Be.then(Je.resolve,Je.reject),(0,D.j0)(Je.promise)};return Ze}function ve(){let nt,pt;const Ne=new Promise((Ye,Ke)=>{nt=Ye,pt=Ke}),xe=Ye=>{nt(Ye)};return xe.resolve=Ye=>nt(Ye),xe.reject=Ye=>pt(Ye),xe.timeout=(Ye,Ke)=>v.m.setTimeout(()=>xe.reject(Ke),Ye),xe.promise=Ne,xe}function je(nt,pt){let Ne,xe=new AbortController;const Ye=nt(xe.signal);let Ke={promise:Ye,finished:!1,abort:()=>{xe&&(xe.abort(),xe=null)}};const Fe=()=>{Ke&&(Ke.finished=!0,Ke=null),(0,D.pC)(Ne)&&(Ne.remove(),Ne=null),xe=null};return Ye.then(Fe,Fe),Ne=F(pt,()=>{(0,D.pC)(Ke)&&Ke.abort()}),Ke}function _e(nt){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.Z)(function*(nt){yield Promise.resolve(),ne(nt)})).apply(this,arguments)}},32917:(wt,Se,p)=>{"use strict";p.d(Se,{N1:()=>ne,Wy:()=>$,YP:()=>D,Z_:()=>F,gx:()=>k,nn:()=>R,on:()=>B,tX:()=>U});var d=p(17770),v=p(54024),X=p(62208),G=p(10699),z=p(61972);function D(A,V,J={}){return N(A,V,J,ae)}function k(A,V,J={}){return N(A,V,J,re)}function N(A,V,J={},Y){let oe=null;const se=J.once?(le,de)=>{Y(le)&&((0,X.hw)(oe),V(le,de))}:(le,de)=>{Y(le)&&V(le,de)};if(oe=(0,z.aQ)(A,se,J.sync,J.equals),J.initial){const le=A();se(le,le)}return oe}function B(A,V,J,Y={}){let oe=null,se=null,le=null;function de(){var ie;oe&&se&&(se.remove(),null==(ie=Y.onListenerRemove)||ie.call(Y,oe),oe=null,se=null)}function q(ie){Y.once&&Y.once&&(0,X.hw)(le),J(ie)}const ue=D(A,(ie,ye)=>{var pe;de(),(0,d.vT)(ie)&&(oe=ie,se=(0,d.on)(ie,V,q),null==(pe=Y.onListenerAdd)||pe.call(Y,ie))},{sync:Y.sync,initial:!0});return le=(0,v.kB)(()=>{ue.remove(),de()}),le}function ne(A,V){return function te(A,V,J){if((0,G.Hc)(J))return Promise.reject((0,G.zE)());const Y=A();if(null==V?void 0:V(Y))return Promise.resolve(Y);let oe=null;function se(){oe=(0,X.hw)(oe)}return new Promise((le,de)=>{oe=(0,v.AL)([(0,G.fu)(J,()=>{se(),de((0,G.zE)())}),N(A,q=>{se(),le(q)},{sync:!1,once:!0},null!=V?V:ae)])})}(A,re,V)}function ae(A){return!0}function re(A){return!!A}function $(A,V,J={}){let Y=!1;const oe=D(A,(se,le)=>{Y||V(se,le)},J);return{remove(){oe.remove()},pause(){Y=!0},resume(){Y=!1}}}p(21352);const F={sync:!0},R={initial:!0},U={sync:!0,initial:!0}},50618:(wt,Se,p)=>{"use strict";p.d(Se,{A:()=>R,MU:()=>de,Os:()=>F});var d=p(62208),v=p(79682),X=p(73362),G=p(77029),z=p(10699),Z=p(27422);class D{constructor(pe){this.phases=pe,this.paused=!1,this.ticks=-1,this.removed=!1}}class k{constructor(pe){this.callback=pe,this.isActive=!0}remove(){this.isActive=!1}}let N=0;const Q={time:(0,Z.HA)(0),deltaTime:(0,Z.HA)(0),elapsedFrameTime:(0,Z.HA)(0),frameDuration:(0,Z.HA)(0)},ne=["prepare","preRender","render","postRender","update","finish"],te=[],ae=new G.Z;class re{constructor(pe){this._task=pe}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const $={frameTasks:ae,willDispatch:!1,clearFrameTasks:function A(ye=!1){ae.forAll(pe=>{pe.removed=!0}),ye&&se()},dispatch:le,executeFrameTasks:function Y(ye){const pe=(0,Z.HA)(ye-N);N=ye;const Ce=1e3/60,De=Math.max(0,pe-Ce);for(let Me=0;Me<ne.length;Me++){const ve=performance.now(),Le=ne[Me];ae.forAll(je=>{var _e;je.paused||je.removed||(0===Me&&je.ticks++,je.phases[Le]&&(Q.time=ye,Q.deltaTime=0===je.ticks?(0,Z.HA)(0):pe,Q.elapsedFrameTime=(0,Z.HA)(performance.now()-ye),Q.frameDuration=(0,Z.HA)(Ce-De),null==(_e=je.phases[Le])||_e.call(je,Q)))}),ue[Me].record(performance.now()-ve)}se(),ie.record(performance.now()-ye)}};function F(ye){const pe=new k(ye);return te.push(pe),$.willDispatch||($.willDispatch=!0,(0,v.Y)(le)),pe}function R(ye){const pe=new D(ye);return ae.push(pe),null==U&&(N=performance.now(),U=requestAnimationFrame(J)),new re(pe)}let U=null;function J(){const ye=performance.now();U=null,U=ae.length>0?requestAnimationFrame(J):null,$.executeFrameTasks(ye)}const oe=new G.Z;function se(){ae.forAll(ye=>{ye.removed&&oe.push(ye)}),ae.removeUnorderedMany(oe.data,oe.length),oe.clear()}function le(){for(;te.length;){const ye=(0,d.j0)(te.shift());ye.isActive&&ye.callback()}$.willDispatch=!1}function de(ye=1,pe){const Ce=(0,z.hh)(),De=()=>{(0,z.Hc)(pe)?Ce.reject((0,z.zE)()):0===ye?Ce():(--ye,(0,v.Y)(()=>De()))};return De(),Ce.promise}const ue=ne.map(ye=>new X.Z(ye)),ie=new X.Z("total")},23841:(wt,Se,p)=>{"use strict";p.d(Se,{F2:()=>G,Wz:()=>z,s1:()=>k,t_:()=>Z,vW:()=>D});const d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function G(F){return F?F/72*96:0}function z(F){return F?72*F/96:0}function Z(F){if("string"==typeof F){const R=F.match(d);if(R){const U=Number(R[1]),A=R[3]&&R[3].toLowerCase(),V="-"===F.charAt(0),J="px"===A?z(U):U;return V?-J:J}return console.warn("screenUtils.toPt: input not recognized!"),null}return F}function D(F=0,R=0){return{x:F,y:R}}function k(F=0,R=0){return[F,R]}},95737:(wt,Se,p)=>{"use strict";p.d(Se,{E:()=>X,_:()=>z});var d=p(15861),v=p(62208);function X(Z,D){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(Z,D){const{WhereClause:k}=yield p.e(410).then(p.bind(p,10410));return k.create(Z,D)})).apply(this,arguments)}function z(Z,D){return(0,v.pC)(Z)?(0,v.pC)(D)?`(${Z}) AND (${D})`:Z:D}},77275:(wt,Se,p)=>{"use strict";p.d(Se,{Cb:()=>D,Qs:()=>z,gx:()=>G,hP:()=>Z});var d=p(94113);const v=/\{([^\}]+)\}/g;function X(k){return null==k?"":k}function G(k,N){return k.replace(v,"object"==typeof N?(B,Q)=>X((0,d.hS)(Q,N)):(B,Q)=>X(N(Q)))}function z(k,N){return k.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,B=>N&&N.includes(B)?B:`\\${B}`)}function Z(k){let N=0;for(let B=0;B<k.length;B++)N=(N<<5)-N+k.charCodeAt(B),N|=0;return N}function D(k){return(new DOMParser).parseFromString(k||"","text/html").body.innerText||""}},28705:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>ne,z:()=>te});var d=p(17626),v=p(74333),X=p(89726),G=p(80542),Z=(p(8314),p(63290)),D=p(62208),k=p(77712),Q=(p(85931),p(90912),p(76898));Z.Z.getLogger("esri.core.support.OwningCollection");let ne=class extends((0,G.p)(v.Z)){constructor(ae){super(ae),this.handles.add([this.on("before-add",re=>{(0,D.Wi)(re.item)&&re.preventDefault()}),this.on("after-add",re=>this._own(re.item)),this.on("after-remove",re=>this._release(re.item))])}get owner(){return this._get("owner")}set owner(ae){ae!==this._get("owner")&&(this._releaseAll(),this._set("owner",ae),this._ownAll())}_ownAll(){for(const ae of this.items)this._own(ae)}_releaseAll(){for(const ae of this.items)this._release(ae)}_createNewInstance(ae){return this.itemType?new(v.Z.ofType(this.itemType.Type))(ae):new v.Z(ae)}};function te(ae,re){return{type:ae,cast:X.R,set($){const F=(0,X.Z)($,this._get(re),ae);F.owner=this,this._set(re,F)}}}(0,d._)([(0,k.Cb)()],ne.prototype,"owner",null),ne=(0,d._)([(0,Q.j)("esri.core.support.OwningCollection")],ne)},17760:(wt,Se,p)=>{"use strict";p.d(Se,{t:()=>N});var d=p(17626),v=p(14517),X=p(72392),G=p(62208),z=p(32917),Z=p(50618),D=p(77712),k=p(76898);let N=class extends v.Z{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new X.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(ne,te,ae={}){return this._installWatch(ne,te,ae,z.YP)}addWhen(ne,te,ae={}){return this._installWatch(ne,te,ae,z.gx)}addOnCollectionChange(ne,te,{initial:ae=!1,final:re=!1}={}){const $=++this.handleId;return this.handles.add([(0,z.on)(ne,"after-changes",this._createSyncUpdatingCallback(),z.Z_),(0,z.on)(ne,"change",te,{onListenerAdd:ae?F=>te({added:F.toArray(),removed:[]}):void 0,onListenerRemove:re?F=>te({added:[],removed:F.toArray()}):void 0})],$),{remove:()=>this.handles.remove($)}}addPromise(ne){if((0,G.Wi)(ne))return ne;const te=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(ne)&&(0!==this.pendingPromises.size||this.handles.has(B)||this._set("updating",!1))}},te),this.pendingPromises.add(ne),this._set("updating",!0);const ae=()=>this.handles.remove(te);return ne.then(ae,ae),ne}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(ne,te,ae={},re){const $=++this.handleId;ae.sync||this._installSyncUpdatingWatch(ne,$);const F=re(ne,te,ae);return this.handles.add(F,$),{remove:()=>this.handles.remove($)}}_installSyncUpdatingWatch(ne,te){const ae=this._createSyncUpdatingCallback(),re=(0,z.YP)(ne,ae,{sync:!0,equals:()=>!1});return this.handles.add(re,te),re}_createSyncUpdatingCallback(){return()=>{this.handles.remove(B),++this.scheduleHandleId;const ne=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,Z.Os)(()=>{ne===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(B))}),B)}}};(0,d._)([(0,D.Cb)({readOnly:!0})],N.prototype,"updating",void 0),N=(0,d._)([(0,k.j)("esri.core.support.WatchUpdatingTracking")],N);const B=-42;var Q,ne;(ne=Q||(Q={}))[ne.NONE=0]="NONE",ne[ne.SYNC=1]="SYNC",ne[ne.INIT=2]="INIT"},7074:(wt,Se,p)=>{"use strict";function d(v,X,G,z){let Z=null,D=1e3;"number"==typeof X?(D=X,z=G):(Z=null!=X?X:null,D=G);let k,N=0;const B=()=>{N=0,v.apply(z,k)},Q=(...ne)=>{Z&&Z.apply(z,ne),k=ne,D?N||(N=setTimeout(B,D)):B()};return Q.remove=()=>{N&&(clearTimeout(N),N=0)},Q.forceUpdate=()=>{N&&(clearTimeout(N),B())},Q.hasPendingUpdates=()=>!!N,Q}p.d(Se,{P:()=>d})},27422:(wt,Se,p)=>{"use strict";function d(z){return z}p.d(Se,{HA:()=>d})},28170:(wt,Se,p)=>{"use strict";p.d(Se,{JE:()=>D,Nm:()=>z,rJ:()=>ne}),p(8314);const v={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},X={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function z(te,ae,re){const $=new Date(te.getTime());if(ae&&re){const F=X[re],{getter:R,setter:U,multiplier:A}=F;if("months"===re){const V=function G(te,ae){const re=new Date(te,ae+1,1);return re.setDate(0),re.getDate()}($.getFullYear(),$.getMonth()+ae);$.getDate()>V&&$.setDate(V)}$[U]($[R]()+ae*A)}return $}function D(te,ae){switch(ae){case"milliseconds":return new Date(te.getTime());case"seconds":return new Date(te.getFullYear(),te.getMonth(),te.getDate(),te.getHours(),te.getMinutes(),te.getSeconds());case"minutes":return new Date(te.getFullYear(),te.getMonth(),te.getDate(),te.getHours(),te.getMinutes());case"hours":return new Date(te.getFullYear(),te.getMonth(),te.getDate(),te.getHours());case"days":return new Date(te.getFullYear(),te.getMonth(),te.getDate());case"weeks":return new Date(te.getFullYear(),te.getMonth(),te.getDate()-te.getDay());case"months":return new Date(te.getFullYear(),te.getMonth(),1);case"years":return new Date(te.getFullYear(),0,1);case"decades":return new Date(te.getFullYear()-te.getFullYear()%10,0,1);case"centuries":return new Date(te.getFullYear()-te.getFullYear()%100,0,1);default:return new Date}}function ne(te,ae,re){return 0===te?0:te*v[ae]/v[re]}},55713:(wt,Se,p)=>{"use strict";function d(re,$){if(re.forEach)re.forEach($);else for(let F=0;F<re.length;F++)$(re[F],F,re)}function v(re,$,F){if(re.slice)return re.slice($,F);void 0===$?$=0:($<0&&($+=re.length),$=Math.min(re.length,Math.max(0,$))),void 0===F?F=re.length:(F<0&&(F+=re.length),F=Math.min(re.length,Math.max(0,F)));const R=Math.max(0,F-$),U=new re.constructor(R);for(let A=0;A<R;A++)U[A]=re[$+A];return U}function X(re){return re instanceof ArrayBuffer||re&&re.constructor&&"ArrayBuffer"===re.constructor.name}function G(re){return re instanceof Int8Array||re&&re.constructor&&"Int8Array"===re.constructor.name}function z(re){return re instanceof Uint8Array||re&&re.constructor&&"Uint8Array"===re.constructor.name}function Z(re){return re instanceof Uint8ClampedArray||re&&re.constructor&&"Uint8ClampedArray"===re.constructor.name}function D(re){return re instanceof Int16Array||re&&re.constructor&&"Int16Array"===re.constructor.name}function k(re){return re instanceof Uint16Array||re&&re.constructor&&"Uint16Array"===re.constructor.name}function N(re){return re instanceof Int32Array||re&&re.constructor&&"Int32Array"===re.constructor.name}function B(re){return re instanceof Uint32Array||re&&re.constructor&&"Uint32Array"===re.constructor.name}function Q(re){return re instanceof Float32Array||re&&re.constructor&&"Float32Array"===re.constructor.name}function ne(re){return re instanceof Float64Array||re&&re.constructor&&"Float64Array"===re.constructor.name}p.d(Se,{Ed:()=>d,Hx:()=>N,KZ:()=>Z,Uc:()=>k,W0:()=>G,ZY:()=>B,eP:()=>X,fS:()=>ne,lq:()=>z,tP:()=>v,xZ:()=>Q,z3:()=>D})},86236:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>X});let d=0;function X(){return++d}},16730:(wt,Se,p)=>{"use strict";p.d(Se,{$C:()=>nt,En:()=>ie,Jo:()=>Zt,_R:()=>Ne,c9:()=>Ye,cM:()=>xe,gV:()=>vt,hd:()=>N,qE:()=>ct,ty:()=>Re}),p(8314);var v=p(2076),X=p(62208),G=p(12080),z=p(65234),Z=p(94425),D=p(37053),k=p(84029);const N=39.37,B=Z.sv.radius*Math.PI/200,Q=/UNIT\[([^\]]+)\]\]$/i,ne=k.Z,te=/UNIT\[([^\]]+)\]/i,ae=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),re=(0,v.w)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),$=Lt=>Lt*Lt,F=Lt=>Lt*Lt*Lt,R={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:$(.001)},"square-centimeters":{inBaseUnits:$(.01)},"square-decimeters":{inBaseUnits:$(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:$(1e3)},"square-inches":{inBaseUnits:$(.0254)},"square-feet":{inBaseUnits:$(.3048)},"square-yards":{inBaseUnits:$(.9144)},"square-miles":{inBaseUnits:$(1609.344)},"square-us-feet":{inBaseUnits:$(1200/3937)},acres:{inBaseUnits:.0015625*$(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*F(.001)},"cubic-centimeters":{inBaseUnits:1e3*F(.01)},"cubic-decimeters":{inBaseUnits:1e3*F(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*F(1e3)},"cubic-inches":{inBaseUnits:1e3*F(.0254)},"cubic-feet":{inBaseUnits:1e3*F(.3048)},"cubic-yards":{inBaseUnits:1e3*F(.9144)},"cubic-miles":{inBaseUnits:1e3*F(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},U=(()=>{const Lt={};for(const en in R)for(const En in R[en].units)Lt[En]=en;return Lt})();function le(Lt){const en=U[Lt];if(!en)throw new Error("unknown type");return en}function ue(Lt,en=null){return en=en||le(Lt),R[en].baseUnit===Lt}function ie(Lt,en,En){if(en===En)return Lt;const Dn=le(en);if(Dn!==le(En))throw new Error("incompatible units");const Xn=ue(en,Dn)?Lt:function A(Lt,en,En){return Lt*R[En].units[en].inBaseUnits}(Lt,en,Dn);return ue(En,Dn)?Xn:function V(Lt,en,En){return Lt/R[En].units[en].inBaseUnits}(Xn,En,Dn)}function Re(Lt,en,En){return ie(Lt,en,"meters")/(En*Math.PI/180)}function nt(Lt){return re.fromJSON(Lt.toLowerCase())||null}function Ne(Lt){if(Lt&&"object"==typeof Lt&&!(0,D.N$)(Lt))return 1;const en=Ye(Lt);return en>1e5?1:en}function xe(Lt){return Ye(Lt)>=(Lt instanceof z.Z?(0,G.Iu)(Lt).metersPerDegree:1e5)?"meters":ct(Lt)}function Ye(Lt,en=Z.sv.metersPerDegree){return(0,X.Pt)(function Ke(Lt,en=!1){let En,Dn,Xn=null;if(null!=Lt&&("object"==typeof Lt?(En=Lt.wkid,Dn=Lt.wkt):"number"==typeof Lt?En=Lt:"string"==typeof Lt&&(Dn=Lt)),En){if((0,D.o$)(En))return Z.yr.metersPerDegree;if((0,D.ME)(En))return Z.Z1.metersPerDegree;Xn=ne.values[ne[En]],!Xn&&en&&ae.has(En)&&(Xn=B)}else Dn&&(ot(Dn)?Xn=Fe(Q.exec(Dn),Xn):$e(Dn)&&(Xn=Fe(te.exec(Dn),Xn)));return Xn}(Lt,!0),en)}function Fe(Lt,en){return Lt&&Lt[1]?Ze(Lt[1]):en}function Ze(Lt){return parseFloat(Lt.split(",")[1])}function ct(Lt){let en,En,Dn=null;if(null!=Lt&&("object"==typeof Lt?(en=Lt.wkid,En=Lt.wkt):"number"==typeof Lt?en=Lt:"string"==typeof Lt&&(En=Lt)),en)Dn=ne.units[ne[en]];else if(En){const Xn=ot(En)?Q:$e(En)?te:null;if(Xn){const pr=Xn.exec(En);pr&&pr[1]&&(Dn=function Tt(Lt){const en=/[\\"\\']{1}([^\\"\\']+)/.exec(Lt);let En=en&&en[1];if(!En||!ne.units.includes(En)){const Dn=Ze(Lt);En=null;const Xn=ne.values;for(let pr=0;pr<Xn.length;++pr)if(Math.abs(Dn-Xn[pr])<1e-7){En=ne.units[pr];break}}return En}(pr[1]))}}return(0,X.pC)(Dn)?nt(Dn):null}function $e(Lt){return/^GEOCCS/i.test(Lt)}function ot(Lt){return/^PROJCS/i.test(Lt)}const Rt={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Xe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},vt=(0,v.w)()(Rt),Zt=(0,v.w)()(Xe);(0,v.w)()(Nn(Nn({},Rt),Xe))},21726:(wt,Se,p)=>{"use strict";p.d(Se,{$U:()=>en,AH:()=>Be,B7:()=>ue,D6:()=>Re,Fv:()=>Ye,HK:()=>we,Hu:()=>Dr,Ie:()=>ir,L:()=>Y,Ml:()=>Mt,P$:()=>Fe,PF:()=>xe,Qj:()=>Wn,R9:()=>$,TI:()=>J,YP:()=>Ze,Yd:()=>sn,ZN:()=>an,_l:()=>mt,b7:()=>ie,ed:()=>ve,fl:()=>Mn,hF:()=>Ne,hO:()=>pr,io:()=>Nt,jc:()=>ct,kl:()=>nt,mN:()=>le,oC:()=>xt,oh:()=>_e,qg:()=>ye,rS:()=>Je,sJ:()=>ot,tD:()=>Me,tm:()=>Le,u0:()=>de,v_:()=>Ke,vt:()=>pn,zd:()=>Ar});var d=p(59318),v=p(26584),X=p(63290),G=p(62208);const z=X.Z.getLogger("esri.core.urlUtils"),Z=d.Z.request,D="esri/config: esriConfig.request.proxyUrl is not set.",k=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,N=/^\s*http:/i,B=/^\s*https:/i,Q=/^\s*file:/i,ne=/:\d+$/,te=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,ae=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),re=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class ${constructor(Cn=""){this.uri=Cn,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let Bn=(0,G.j0)(this.uri.match(ae));this.scheme=Bn[2]||(Bn[1]?"":null),this.authority=Bn[4]||(Bn[3]?"":null),this.path=Bn[5],this.query=Bn[7]||(Bn[6]?"":null),this.fragment=Bn[9]||(Bn[8]?"":null),null!=this.authority&&(Bn=(0,G.j0)(this.authority.match(re)),this.user=Bn[3]||null,this.password=Bn[4]||null,this.host=Bn[6]||Bn[7],this.port=Bn[9]||null)}toString(){return this.uri}}const F={};let U=new $(d.Z.applicationUrl);let V=function oe(){const Ut=(0,G.j0)(U.path),Cn=Ut.substring(0,Ut.lastIndexOf(Ut.split("/")[Ut.split("/").length-1]));return`${U.scheme}://${U.host}${null!=U.port?`:${U.port}`:""}${Cn}`}();const J=()=>U,Y=()=>V;function le(Ut){const Cn={path:null,query:null},Bn=new $(Ut),er=Ut.indexOf("?");return null===Bn.query?Cn.path=Ut:(Cn.path=Ut.substring(0,er),Cn.query=de(Bn.query)),Bn.fragment&&(Cn.hash=Bn.fragment,null===Bn.query&&(Cn.path=Cn.path.substring(0,Cn.path.length-(Bn.fragment.length+1)))),Cn}function de(Ut){const Cn=Ut.split("&"),Bn={};for(const er of Cn){if(!er)continue;const or=er.indexOf("=");let Hr,wi;or<0?(Hr=decodeURIComponent(er),wi=""):(Hr=decodeURIComponent(er.slice(0,or)),wi=decodeURIComponent(er.slice(or+1)));let Ei=Bn[Hr];"string"==typeof Ei&&(Ei=Bn[Hr]=[Ei]),Array.isArray(Ei)?Ei.push(wi):Bn[Hr]=wi}return Bn}function q(Ut){return Ut&&"object"==typeof Ut&&"toJSON"in Ut&&"function"==typeof Ut.toJSON}function ue(Ut,Cn){return Ut?Cn&&"function"==typeof Cn?Object.keys(Ut).map(Bn=>encodeURIComponent(Bn)+"="+encodeURIComponent(Cn(Bn,Ut[Bn]))).join("&"):Object.keys(Ut).map(Bn=>{const er=Ut[Bn];if(null==er)return"";const or=encodeURIComponent(Bn)+"=",Hr=Cn&&Cn[Bn];return Hr?or+encodeURIComponent(Hr(er)):Array.isArray(er)?er.map(wi=>q(wi)?or+encodeURIComponent(JSON.stringify(wi)):or+encodeURIComponent(wi)).join("&"):q(er)?or+encodeURIComponent(JSON.stringify(er)):or+encodeURIComponent(er)}).filter(Bn=>Bn).join("&"):""}function ie(Ut=!1){let Cn,Bn=Z.proxyUrl;if("string"==typeof Ut){Cn=en(Ut);const er=ve(Ut);er&&(Bn=er.proxyUrl)}else Cn=!!Ut;if(!Bn)throw z.warn(D),new v.Z("urlutils:proxy-not-set",D);return Cn&&vr()&&(Bn=pr(Bn)),le(Bn)}function ye(Ut){const Cn=ve(Ut);let Bn,er;if(Cn){const or=Ce(Cn.proxyUrl);Bn=or.path,er=or.query?de(or.query):null}if(Bn){const or=le(Ut);Ut=Bn+"?"+or.path;const Hr=ue(Nn(Nn({},er),or.query));Hr&&(Ut=`${Ut}?${Hr}`)}return Ut}const pe={path:"",query:""};function Ce(Ut){const Cn=Ut.indexOf("?");return-1!==Cn?(pe.path=Ut.slice(0,Cn),pe.query=Ut.slice(Cn+1)):(pe.path=Ut,pe.query=null),pe}function De(Ut){return(Ut=zn(Ut=function In(Ut){return Ut&&"/"===Ut[Ut.length-1]?Ut:`${Ut}/`}(Ut=Ce(Ut).path),!0)).toLowerCase()}function Me(Ut){const Cn={proxyUrl:Ut.proxyUrl,urlPrefix:De(Ut.urlPrefix)},Bn=Z.proxyRules,er=Cn.urlPrefix;let or=Bn.length;for(let Hr=0;Hr<Bn.length;Hr++){const wi=Bn[Hr].urlPrefix;if(0===er.indexOf(wi)){if(er.length===wi.length)return-1;or=Hr;break}0===wi.indexOf(er)&&(or=Hr+1)}return Bn.splice(or,0,Cn),or}function ve(Ut){const Cn=Z.proxyRules,Bn=De(Ut);for(let er=0;er<Cn.length;er++)if(0===Bn.indexOf(Cn[er].urlPrefix))return Cn[er]}function Le(Ut,Cn){return Ut=je(Ut),Cn=je(Cn),zn(Ut)===zn(Cn)}function je(Ut){const Cn=(Ut=Ye(Ut)).indexOf("/sharing");return Cn>0?Ut.substring(0,Cn):Ut.replace(/\/+$/,"")}function _e(Ut){const Cn=er=>null==er||er instanceof RegExp&&er.test(Ut)||"string"==typeof er&&Ut.startsWith(er),Bn=Z.interceptors;if(Bn)for(const er of Bn)if(Array.isArray(er.urls)){if(er.urls.some(Cn))return er}else if(Cn(er.urls))return er;return null}function Re(Ut,Cn,Bn=!1){const er=Qn(Ut),or=Qn(Cn);return!(!Bn&&er.scheme!==or.scheme)&&null!=er.host&&null!=or.host&&er.host.toLowerCase()===or.host.toLowerCase()&&er.port===or.port}function nt(Ut){if("string"==typeof Ut){if(!Ze(Ut))return!0;Ut=Qn(Ut)}if(Re(Ut,U))return!0;const Cn=Z.trustedServers||[];for(let Bn=0;Bn<Cn.length;Bn++){const er=pt(Cn[Bn]);for(let or=0;or<er.length;or++)if(Re(Ut,er[or]))return!0}return!1}function pt(Ut){return F[Ut]||(F[Ut]=Lt(Ut)||xt(Ut)?[new $(Ne(Ut))]:[new $(`http://${Ut}`),new $(`https://${Ut}`)]),F[Ut]}function Ne(Ut,Cn=V,Bn){return xt(Ut)?Bn&&Bn.preserveProtocolRelative?Ut:"http"===U.scheme&&U.authority===Fe(Ut).slice(2)?`http:${Ut}`:`https:${Ut}`:Lt(Ut)?Ut:(0,G.j0)(Ke("/"===Ut[0]?function zt(Ut){const Cn=Ut.indexOf("//"),Bn=Ut.indexOf("/",Cn+2);return-1===Bn?Ut:Ut.slice(0,Bn)}(Cn):Cn,Ut))}function xe(Ut,Cn=V,Bn){if(!Ze(Ut))return Ut;const er=Ye(Ut),or=er.toLowerCase(),Hr=Ye(Cn).toLowerCase().replace(/\/+$/,""),wi=Bn?Ye(Bn).toLowerCase().replace(/\/+$/,""):null;if(wi&&0!==Hr.indexOf(wi))return Ut;const Ei=(Zr,fi,Ui)=>-1===(Ui=Zr.indexOf(fi,Ui))?Zr.length:Ui;let kr=Ei(or,"/",or.indexOf("//")+2),Fi=-1;for(;or.slice(0,kr+1)===Hr.slice(0,kr)+"/"&&(Fi=kr+1,kr!==or.length);)kr=Ei(or,"/",kr+1);if(-1===Fi||wi&&Fi<wi.length)return Ut;Ut=er.slice(Fi);const rs=Hr.slice(Fi-1).replace(/[^/]+/g,"").length;if(rs>0)for(let Zr=0;Zr<rs;Zr++)Ut=`../${Ut}`;else Ut=`./${Ut}`;return Ut}function Ye(Ut){return function Ht(Ut){const Cn=Z.httpsDomains;if(!function En(Ut){return N.test(Ut)||"http"===U.scheme&&xt(Ut)}(Ut))return Ut;const Bn=Ut.indexOf("/",7);let er;if(er=-1===Bn?Ut:Ut.slice(0,Bn),er=er.toLowerCase().slice(7),ne.test(er)){if(!er.endsWith(":80"))return Ut;er=er.slice(0,-3),Ut=Ut.replace(":80","")}return function Tr(){return"http"===U.scheme}()&&er===U.authority&&!te.test(Ut)||(vr()&&er===U.authority||Cn&&Cn.some(or=>er===or||er.endsWith(`.${or}`))||vr()&&!ve(Ut))&&(Ut=pr(Ut)),Ut}(Ut=function $n(Ut){return Ut.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(Ut=function jn(Ut){if(/^https?:\/\//i.test(Ut)){const Cn=Ce(Ut);Ut=(Ut=Cn.path.replace(/\/{2,}/g,"/")).replace("/","//"),Cn.query&&(Ut+=`?${Cn.query}`)}return Ut}(Ut=Ne(Ut=Ut.trim()))))}function Ke(...Ut){const Cn=Ut.filter(G.pC);if(!Cn||!Cn.length)return;const Bn=[];if(Ze(Cn[0])){const or=Cn[0],Hr=or.indexOf("//");-1!==Hr&&(Bn.push(or.slice(0,Hr+1)),function Dn(Ut){return Q.test(Ut)}(Cn[0])&&(Bn[0]+="/"),Cn[0]=or.slice(Hr+2))}else"/"===Cn[0][0]&&Bn.push("");const er=Cn.reduce((or,Hr)=>Hr?or.concat(Hr.split("/")):or,[]);for(let or=0;or<er.length;or++){const Hr=er[or];".."===Hr&&Bn.length>0&&".."!==Bn[Bn.length-1]?Bn.pop():(!Hr&&or===er.length-1||Hr&&("."!==Hr||0===Bn.length))&&Bn.push(Hr)}return Bn.join("/")}function Fe(Ut,Cn=!1){if(ct(Ut)||we(Ut))return null;let Bn=Ut.indexOf("://");if(-1===Bn&&xt(Ut))Bn=2;else{if(-1===Bn)return null;Bn+=3}const er=Ut.indexOf("/",Bn);return-1!==er&&(Ut=Ut.slice(0,er)),Cn&&(Ut=zn(Ut,!0)),Ut}function Ze(Ut){return xt(Ut)||Lt(Ut)}function ct(Ut){return null!=Ut&&"blob:"===Ut.slice(0,5)}function we(Ut){return"data:"===Ut.slice(0,5)}function Be(Ut){const Cn=ot(Ut);if(!Cn||!Cn.isBase64)return null;const Bn=atob(Cn.data),er=new Uint8Array(Bn.length);for(let or=0;or<Bn.length;or++)er[or]=Bn.charCodeAt(or);return er.buffer}function Je(Ut){return btoa(String.fromCharCode.apply(null,Ut)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const $e=/^data:(.*?)(;base64)?,(.*)$/;function ot(Ut){const Cn=Ut.match($e);if(!Cn)return null;const[,Bn,er,or]=Cn;return{mediaType:Bn,isBase64:!!er,data:or}}function mt(Ut){return Ut.isBase64?`data:${Ut.mediaType};base64,${Ut.data}`:`data:${Ut.mediaType},${Ut.data}`}function Nt(Ut,Cn){(function Xe(Ut,Cn){if(!Ut)return!1;const Bn=document.createElement("a");if(!("download"in Bn))return!1;const er=URL.createObjectURL(Ut);return Bn.download=Cn,Bn.href=er,Bn.style.display="none",document.body.appendChild(Bn),Bn.click(),document.body.removeChild(Bn),URL.revokeObjectURL(er),!0})(Ut,Cn)||function Zt(Ut,Cn){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(Ut,Cn)}(Ut,Cn)}function xt(Ut){return null!=Ut&&void 0!==Ut&&"/"===Ut[0]&&"/"===Ut[1]}function Lt(Ut){return k.test(Ut)}function en(Ut){return B.test(Ut)||"https"===U.scheme&&xt(Ut)}function pr(Ut){return xt(Ut)?`https:${Ut}`:Ut.replace(N,"https:")}function vr(){return"https"===U.scheme}function zn(Ut,Cn=!1){return xt(Ut)?Ut.slice(2):(Ut=Ut.replace(k,""),Cn&&Ut.length>1&&"/"===Ut[0]&&"/"===Ut[1]&&(Ut=Ut.slice(2)),Ut)}function sn(Ut){let Cn=0;if(Ze(Ut)){const er=Ut.indexOf("//");-1!==er&&(Cn=er+2)}const Bn=Ut.lastIndexOf("/");return Bn<Cn?Ut:Ut.slice(0,Bn+1)}function pn(Ut,Cn){if(!Ut)return"";const Bn=le(Ut).path.replace(/\/+$/,""),er=Bn.substring(Bn.lastIndexOf("/")+1);if(!(null==Cn?void 0:Cn.length))return er;const or=new RegExp(`.(${Cn.join("|")})$`,"ig");return er.replace(or,"")}function Wn(Ut){return Ut.replace(/\/+$/,"")}function ir(Ut,Cn,Bn){if(!(Cn&&Bn&&Ut&&Ze(Ut)))return Ut;const er=Ut.indexOf("//"),or=Ut.indexOf("/",er+2),Hr=Ut.indexOf(":",er+2),wi=Math.min(or<0?Ut.length:or,Hr<0?Ut.length:Hr);return Ut.slice(er+2,wi).toLowerCase()!==Cn.toLowerCase()?Ut:`${Ut.slice(0,er+2)}${Bn}${Ut.slice(wi)}`}function Qn(Ut){return"string"==typeof Ut?new $(Ne(Ut)):(Ut.scheme||(Ut.scheme=U.scheme),Ut)}function Ar(Ut){return wn.test(Ut)}function Dr(Ut,Cn){const Bn=le(Ut),er=Object.keys(Bn.query||{});return er.length>0&&Cn&&Cn.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${er.join(", ")}.`),Bn.path}function an(Ut,Cn,Bn){const er=le(Ut),or=er.query||{};return or[Cn]=String(Bn),`${er.path}?${ue(or)}`}function Mn(Ut,Cn){const Bn=le(Ut),er=Bn.query||{};for(const Hr in Cn)er[Hr]=Cn[Hr];const or=ue(er);return or?`${Bn.path}?${or}`:Bn.path}function Mt(Ut){if((0,G.Wi)(Ut))return null;const Cn=Ut.match(Bt);return Cn?Cn[1]:null}const Bt=/.*?\.([^\/]*)$/,wn=/(^data:image\/svg|\.svg$)/i},35948:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>v});const d="randomUUID"in crypto;function v(){if(d)return crypto.randomUUID();const X=crypto.getRandomValues(new Uint16Array(8));X[3]=4095&X[3]|16384,X[4]=16383&X[4]|32768;const G=z=>X[z].toString(16);return G(0)+G(1)+"-"+G(2)+"-"+G(3)+"-"+G(4)+"-"+G(5)+G(6)+G(7)}},93662:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>D});var d=p(54024),v=p(63290),X=p(10699),G=p(35133),z=p(89951);const Z=v.Z.getLogger("esri.core.workers.Connection");class D{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new G.Z}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(N,B){return new Promise((Q,ne)=>{let te=!0;const ae=re=>{(0,X.k_)(B.signal),te&&(te=!1,re())};this._clients.length=N.length,this._clientPromises.length=N.length,this._inUseClients.length=N.length;for(let re=0;re<N.length;++re){const $=N[re];(0,X.y8)($)?this._clientPromises[re]=$.then(F=>(this._clients[re]=new z.Z(F,B,()=>this._ongoingJobsQueue.pop()),ae(Q),this._clients[re]),()=>(ae(ne),null)):(this._clients[re]=new z.Z($,B,()=>this._ongoingJobsQueue.pop()),this._clientPromises[re]=Promise.resolve(this._clients[re]),ae(Q))}})}broadcast(N,B,Q){const ne=new Array(this._clientPromises.length);for(let te=0;te<this._clientPromises.length;++te)ne[te]=this._clientPromises[te].then(re=>re.invoke(N,B,Q));return ne}close(){let N;for(;N=this._ongoingJobsQueue.pop();)N.deferred.reject((0,X.zE)(`Worker closing, aborting job calling '${N.methodName}'`));for(const B of this._clientPromises)B.then(Q=>Q.close());this._clients.length=0,this._clientPromises.length=0}invoke(N,B,Q){let ne=null;Array.isArray(Q)?(Z.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),ne={transferList:Q}):ne=Q;const te=(0,X.dD)();this._ongoingJobsQueue.push({methodName:N,data:B,invokeOptions:ne,deferred:te});for(let ae=0;ae<this._clientPromises.length;ae++){const re=this._clients[ae];re?re.jobAdded():this._clientPromises[ae].then($=>$.jobAdded())}return te.promise}on(N,B){return Promise.all(this._clientPromises).then(()=>(0,d.AL)(this._clients.map(Q=>Q.on(N,B))))}openPorts(){return new Promise(N=>{const B=new Array(this._clientPromises.length);let Q=B.length;for(let ne=0;ne<this._clientPromises.length;++ne)this._clientPromises[ne].then(te=>{B[ne]=te.openPort(),0==--Q&&N(B)})})}get test(){return{numClients:this._clients.length}}}},89951:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>F});var d=p(24263),v=p(26584),X=p(17770),G=p(62208),z=p(10699),Z=p(13126),D=p(38365);const k={statsWorker:()=>Promise.all([p.e(5735),p.e(4135)]).then(p.bind(p,44135)),geometryEngineWorker:()=>Promise.all([p.e(4918),p.e(8592),p.e(1843)]).then(p.bind(p,77692)),CSVSourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(8175),p.e(7373),p.e(4896)]).then(p.bind(p,54896)),EdgeProcessingWorker:()=>Promise.all([p.e(479),p.e(6239)]).then(p.bind(p,36239)),ElevationSamplerWorker:()=>Promise.all([p.e(479),p.e(853),p.e(8149)]).then(p.bind(p,28149)),FeatureServiceSnappingSourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(8175),p.e(7373),p.e(6354)]).then(p.bind(p,86354)),GeoJSONSourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(8175),p.e(7373),p.e(8592),p.e(4079)]).then(p.bind(p,84079)),LercWorker:()=>p.e(7300).then(p.bind(p,57300)),MemorySourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(8175),p.e(7373),p.e(8592),p.e(7728)]).then(p.bind(p,7728)),PBFDecoderWorker:()=>p.e(6089).then(p.bind(p,46089)),Pipeline:()=>Promise.all([p.e(5086),p.e(3755),p.e(410),p.e(9091),p.e(5735),p.e(3308),p.e(8175),p.e(9628),p.e(8592),p.e(6407)]).then(p.bind(p,68402)),PointCloudWorker:()=>Promise.all([p.e(8592),p.e(1107)]).then(p.bind(p,61107)),RasterWorker:()=>Promise.all([p.e(7692),p.e(6926),p.e(8594),p.e(581),p.e(8592),p.e(5976)]).then(p.bind(p,15976)),SceneLayerSnappingSourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(479),p.e(6239),p.e(8592),p.e(4642)]).then(p.bind(p,41060)),SceneLayerWorker:()=>Promise.all([p.e(8592),p.e(1167)]).then(p.bind(p,83320)),WFSSourceWorker:()=>Promise.all([p.e(410),p.e(5735),p.e(3308),p.e(8175),p.e(7373),p.e(3774),p.e(8592),p.e(2305)]).then(p.bind(p,62305)),WorkerTileHandler:()=>Promise.all([p.e(4821),p.e(3751),p.e(4522),p.e(8364),p.e(9057)]).then(p.bind(p,90195))},{CLOSE:N,ABORT:B,INVOKE:Q,RESPONSE:ne,OPEN_PORT:te,ON:ae}=Z.Cs;class ${constructor(U){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=U,this._timer=null,this._process=this._process.bind(this)}push(U){U.type===Z.Cs.ABORT?this._cancelledJobIds.add(U.jobId):(this._invokeMessages.push(U),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const U of this._invokeMessages)this._cancelledJobIds.has(U.jobId)||this._invoke(U);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class F{constructor(U,A,V){this._port=U,this._getNextJob=V,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new $(J=>this._onInvokeMessage(J)),this._client=A.client,this._onMessage=this._onMessage.bind(this),this._channel=A.channel,this._schedule=A.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(U){const A=new MessageChannel;let V;V="function"==typeof U?new U:"default"in U&&"function"==typeof U.default?new U.default:U;const J=new F(A.port1,{channel:A,client:V},()=>null);return"object"==typeof V&&"remoteClient"in V&&(V.remoteClient=J),F.clients.set(J,V),A.port2}static loadWorker(U){const A=k[U];return A?A():Promise.resolve(null)}close(){this._post({type:N}),this._close()}isBusy(){return this._outJobs.size>0}invoke(U,A,V){const J=V&&V.signal,Y=V&&V.transferList;if(!this._port)return Promise.reject(new v.Z("worker:port-closed",`Cannot call invoke('${U}'), port is closed`,{methodName:U,data:A}));const oe=(0,Z.jt)();return new Promise((se,le)=>{if((0,z.Hc)(J))return this._processWork(),void le((0,z.zE)());const de=(0,z.fu)(J,()=>{const ue=this._outJobs.get(oe);ue&&(this._outJobs.delete(oe),this._processWork(),(0,G.hw)(ue.abortHandle),this._post({type:B,jobId:oe}),le((0,z.zE)()))});this._outJobs.set(oe,{resolve:se,reject:le,abortHandle:de,debugInfo:U}),this._post({type:Q,jobId:oe,methodName:U,abortable:null!=J},A,Y)})}on(U,A){const V=new MessageChannel;function J(Y){A(Y.data)}return this._port.postMessage({type:Z.Cs.ON,eventType:U,port:V.port2},[V.port2]),V.port1.addEventListener("message",J),V.port1.start(),{remove(){V.port1.postMessage({type:Z.Cs.CLOSE}),V.port1.close(),V.port1.removeEventListener("message",J)}}}jobAdded(){this._processWork()}openPort(){const U=new MessageChannel;return this._post({type:te,port:U.port2}),U.port1}_processWork(){if(this._outJobs.size>=2)return;const U=this._getNextJob();if(!U)return;const{methodName:A,data:V,invokeOptions:J,deferred:Y}=U;this.invoke(A,V,J).then(oe=>Y.resolve(oe)).catch(oe=>Y.reject(oe))}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(U=>{(0,G.hw)(U.abortHandle),U.reject((0,z.zE)(`Worker closing, aborting job calling '${U.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(U){(0,G.pC)(this._schedule)?this._schedule(()=>this._processMessage(U)):this._processMessage(U)}_processMessage(U){const A=(0,Z.QM)(U);if(A)switch(A.type){case ne:this._onResponseMessage(A);break;case Q:this._invokeQueue.push(A);break;case B:this._onAbortMessage(A);break;case N:this._onCloseMessage();break;case te:this._onOpenPortMessage(A);break;case ae:this._onOnMessage(A)}}_onAbortMessage(U){const A=this._inJobs,V=U.jobId,J=A.get(V);this._invokeQueue.push(U),J&&(J.controller&&J.controller.abort(),A.delete(V))}_onCloseMessage(){const U=this._client;this._close(),U&&"destroy"in U&&F.clients.get(this)===U&&U.destroy(),F.clients.delete(this),U&&U.remoteClient&&(U.remoteClient=null)}_onInvokeMessage(U){const{methodName:A,jobId:V,data:J,abortable:Y}=U,oe=Y?new AbortController:null,se=this._inJobs;let le,de=this._client,q=de[A];try{if(!q&&A&&A.includes(".")){const ue=A.split(".");for(let ie=0;ie<ue.length-1;ie++)de=de[ue[ie]],q=de[ue[ie+1]]}if("function"!=typeof q)throw new TypeError(`${A} is not a function`);le=q.call(de,J,{client:this,signal:oe?oe.signal:null})}catch(ue){return void this._post({type:ne,jobId:V,error:(0,Z.AB)(ue)})}(0,z.y8)(le)?(se.set(V,{controller:oe,promise:le}),le.then(ue=>{se.has(V)&&(se.delete(V),this._post({type:ne,jobId:V},ue))},ue=>{se.has(V)&&(se.delete(V),(0,z.D_)(ue)||this._post({type:ne,jobId:V,error:(0,Z.AB)(ue||{message:`Error encountered at method ${A}`})}))})):this._post({type:ne,jobId:V},le)}_onOpenPortMessage(U){new F(U.port,{client:this._client},()=>null)}_onOnMessage(U){const{port:A}=U,V=this._client.on(U.eventType,Y=>{A.postMessage(Y)}),J=(0,X.on)(U.port,"message",Y=>{(0,Z.QM)(Y).type===Z.Cs.CLOSE&&(J.remove(),V.remove(),A.close())})}_onResponseMessage(U){const{jobId:A,error:V,data:J}=U,Y=this._outJobs;if(!Y.has(A))return;const oe=Y.get(A);this._processWork(),Y.delete(A),(0,G.hw)(oe.abortHandle),V?oe.reject(v.Z.fromJSON(JSON.parse(V))):oe.resolve(J)}_post(U,A,V){return(0,Z.oi)(this._port,U,A,V)}}F.kernelInfo={revision:D.$,version:d.i8,buildDate:D.r},F.clients=new Map},13126:(wt,Se,p)=>{"use strict";p.d(Se,{AB:()=>Z,Cs:()=>v,QM:()=>k,jt:()=>G,oi:()=>D});var v,Q,d=p(8314);(Q=v||(v={}))[Q.HANDSHAKE=0]="HANDSHAKE",Q[Q.OPEN=1]="OPEN",Q[Q.OPENED=2]="OPENED",Q[Q.RESPONSE=3]="RESPONSE",Q[Q.INVOKE=4]="INVOKE",Q[Q.ABORT=5]="ABORT",Q[Q.CLOSE=6]="CLOSE",Q[Q.OPEN_PORT=7]="OPEN_PORT",Q[Q.ON=8]="ON";let X=0;function G(){return X++}function Z(Q){return Q?"string"==typeof Q?JSON.stringify({name:"message",message:Q}):Q.toJSON?JSON.stringify(Q):JSON.stringify({name:Q.name,message:Q.message,details:Q.details||{stack:Q.stack}}):null}function D(Q,ne,te,ae){if(ne.type===v.OPEN_PORT)return void Q.postMessage(ne,[ne.port]);if(ne.type!==v.INVOKE&&ne.type!==v.RESPONSE)return void Q.postMessage(ne);let re;!function z(Q){return Q&&"object"==typeof Q&&("result"in Q||"transferList"in Q)}(te)?(re=N(ae),ne.data=te):(re=N(te.transferList),ne.data=te.result),re?Q.postMessage(ne,re):Q.postMessage(ne)}function k(Q){if(!Q)return null;const ne=Q.data;return ne?"string"==typeof ne?JSON.parse(ne):ne:null}function N(Q){if(!Q||!Q.length)return null;if((0,d.Z)("esri-workers-arraybuffer-transfer"))return Q;const ne=Q.filter(te=>!function B(Q){return Q instanceof ArrayBuffer||Q&&Q.constructor&&"ArrayBuffer"===Q.constructor.name}(te));return ne.length?ne:null}},59289:(wt,Se,p)=>{"use strict";p.d(Se,{j2:()=>Ke,bA:()=>we});var d=p(15861),v=p(26584),X=p(8314),G=p(10699),z=p(93662),Z=p(89951),D=p(24263),k=p(63290),N=p(62208),B=p(13126),Q=p(54346),ne=p(59318),ae=(p(52515),p(21726));const $={};var U=p(79682);class A{constructor(){const Nt=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(Rt=>{this[Rt]=(...Xe)=>Nt[Rt](...Xe)})}}class V{constructor(){this._dispatcher=new A,this._workerPostMessage({type:B.Cs.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(Nt){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=Nt,Nt&&this.addEventListener("message",Nt)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(Nt){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=Nt,Nt&&this.addEventListener("messageerror",Nt)}get onerror(){return this._onerrorHandler}set onerror(Nt){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=Nt,Nt&&this.addEventListener("error",Nt)}postMessage(Nt){(0,U.Y)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:Nt}))})}dispatchEvent(Nt){return this._dispatcher.dispatchEvent(Nt)}addEventListener(Nt,Rt,Xe){this._dispatcher.addEventListener(Nt,Rt,Xe)}removeEventListener(Nt,Rt,Xe){this._dispatcher.removeEventListener(Nt,Rt,Xe)}_workerPostMessage(Nt){(0,U.Y)(()=>{this.dispatchEvent(new MessageEvent("message",{data:Nt}))})}_workerMessageHandler(Nt){var Rt=this;return(0,d.Z)(function*(){const Xe=(0,B.QM)(Nt);if(Xe&&Xe.type===B.Cs.OPEN){const{modulePath:vt,jobId:Zt}=Xe;let xt=yield Z.Z.loadWorker(vt);xt||(xt=yield import(vt));const Lt=Z.Z.connect(xt);Rt._workerPostMessage({type:B.Cs.OPENED,jobId:Zt,data:Lt})}})()}}var J=p(56683),Y=p(38365);const oe=k.Z.getLogger("esri.core.workers"),{HANDSHAKE:se}=B.Cs,le='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let de,q;const ue="Failed to create Worker. Fallback to execute module in main thread";function ye(){return(ye=(0,d.Z)(function*(){if(!(0,X.Z)("esri-workers")||((0,X.Z)("mozilla"),0))return pe(new V);if(!de&&!q)try{const Nt=le.replace('"{CONFIGURATION}"',`'${De()}'`);de=URL.createObjectURL(new Blob([Nt],{type:"text/javascript"}))}catch(Nt){q=Nt||{}}let It;if(de)try{It=new Worker(de,{name:"esri-worker-"+Me++})}catch(Nt){oe.warn(ue,q),It=new V}else oe.warn(ue,q),It=new V;return pe(It)})).apply(this,arguments)}function pe(It){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(It){return new Promise(Nt=>{function Rt(vt){const Zt=(0,B.QM)(vt);Zt&&Zt.type===se&&(It.removeEventListener("message",Rt),It.removeEventListener("error",Xe),Nt(It))}function Xe(vt){vt.preventDefault(),It.removeEventListener("message",Rt),It.removeEventListener("error",Xe),oe.warn("Failed to create Worker. Fallback to execute module in main thread",vt),(It=new V).addEventListener("message",Rt),It.addEventListener("error",Xe)}It.addEventListener("message",Rt),It.addEventListener("error",Xe)})})).apply(this,arguments)}function De(){let It;if(null!=ne.Z.default){const vt=Nn({},ne.Z);delete vt.default,It=JSON.parse(JSON.stringify(vt))}else It=JSON.parse(JSON.stringify(ne.Z));It.assetsPath=(0,ae.hF)(It.assetsPath),It.request.interceptors=[],It.log.interceptors=[],It.locale=(0,J.Kd)(),It.has={"esri-csp-restrictions":(0,X.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,X.Z)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,X.Z)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,X.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,X.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,X.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,X.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,X.Z)("esri-atomics"),"esri-shared-array-buffer":(0,X.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,X.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,X.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,X.Z)("feature-polyline-generalization-factor"),"host-webworker":1},It.workers.loaderUrl&&(It.workers.loaderUrl=(0,ae.hF)(It.workers.loaderUrl)),It.workers.workerPath=(0,ae.hF)(It.workers.workerPath?It.workers.workerPath:(0,Q.V)("esri/core/workers/RemoteClient.js")),It.workers.useDynamicImport=!1;const Nt=ne.Z.workers.loaderConfig,Rt=function R(It){var Rt;const Nt={async:It.async,isDebug:It.isDebug,locale:It.locale,baseUrl:It.baseUrl,has:Nn({},It.has),map:Nn({},It.map),packages:It.packages&&It.packages.concat()||[],paths:Nn({},It.paths)};return It.hasOwnProperty("async")||(Nt.async=!0),It.hasOwnProperty("isDebug")||(Nt.isDebug=!1),It.baseUrl||(Nt.baseUrl=$.baseUrl),null==(Rt=$.packages)||Rt.forEach(Xe=>{!function F(It,Nt){for(const Rt of It)if(Rt.name===Nt.name)return;It.push(Nt)}(Nt.packages,Xe)}),Nt}({baseUrl:null==Nt?void 0:Nt.baseUrl,locale:(0,J.Kd)(),has:Nn({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null==Nt?void 0:Nt.has),map:Nn({},null==Nt?void 0:Nt.map),paths:Nn({},null==Nt?void 0:Nt.paths),packages:(null==Nt?void 0:Nt.packages)||[]});return JSON.stringify({esriConfig:It,loaderConfig:Rt,kernelInfo:{version:D.i8,buildDate:Y.r,revision:Y.$}})}let Me=0;const ve=k.Z.getLogger("esri.core.workers"),{ABORT:Le,INVOKE:je,OPEN:_e,OPENED:Re,RESPONSE:nt}=B.Cs;class pt{constructor(Nt,Rt){this._outJobs=new Map,this._inJobs=new Map,this.worker=Nt,this.id=Rt,Nt.addEventListener("message",this._onMessage.bind(this)),Nt.addEventListener("error",Xe=>{Xe.preventDefault(),ve.error(Xe)})}static create(Nt){return(0,d.Z)(function*(){const Rt=yield function ie(){return ye.apply(this,arguments)}();return new pt(Rt,Nt)})()}terminate(){this.worker.terminate()}open(Nt,Rt={}){var Xe=this;return(0,d.Z)(function*(){const{signal:vt}=Rt,Zt=(0,B.jt)();return new Promise((xt,Lt)=>{const en={resolve:xt,reject:Lt,abortHandle:(0,G.$F)(vt,()=>{Xe._outJobs.delete(Zt),Xe._post({type:Le,jobId:Zt})})};Xe._outJobs.set(Zt,en),Xe._post({type:_e,jobId:Zt,modulePath:Nt})})})()}_onMessage(Nt){const Rt=(0,B.QM)(Nt);if(Rt)switch(Rt.type){case Re:this._onOpenedMessage(Rt);break;case nt:this._onResponseMessage(Rt);break;case Le:this._onAbortMessage(Rt);break;case je:this._onInvokeMessage(Rt)}}_onAbortMessage(Nt){const Rt=this._inJobs,Xe=Nt.jobId,vt=Rt.get(Xe);vt&&(vt.controller&&vt.controller.abort(),Rt.delete(Xe))}_onInvokeMessage(Nt){const{methodName:Rt,jobId:Xe,data:vt,abortable:Zt}=Nt,xt=Zt?new AbortController:null,Lt=this._inJobs,en=D.Nv[Rt];let En;try{if("function"!=typeof en)throw new TypeError(`${Rt} is not a function`);En=en.call(null,vt,{signal:xt?xt.signal:null})}catch(Dn){return void this._post({type:nt,jobId:Xe,error:(0,B.AB)(Dn)})}(0,G.y8)(En)?(Lt.set(Xe,{controller:xt,promise:En}),En.then(Dn=>{Lt.has(Xe)&&(Lt.delete(Xe),this._post({type:nt,jobId:Xe},Dn))},Dn=>{Lt.has(Xe)&&(Lt.delete(Xe),Dn||(Dn={message:"Error encountered at method"+Rt}),(0,G.D_)(Dn)||this._post({type:nt,jobId:Xe,error:(0,B.AB)(Dn||{message:`Error encountered at method ${Rt}`})}))})):this._post({type:nt,jobId:Xe},En)}_onOpenedMessage(Nt){const{jobId:Rt,data:Xe}=Nt,vt=this._outJobs.get(Rt);vt&&(this._outJobs.delete(Rt),(0,N.hw)(vt.abortHandle),vt.resolve(Xe))}_onResponseMessage(Nt){const{jobId:Rt,error:Xe,data:vt}=Nt,Zt=this._outJobs.get(Rt);Zt&&(this._outJobs.delete(Rt),(0,N.hw)(Zt.abortHandle),Xe?Zt.reject(v.Z.fromJSON(JSON.parse(Xe))):Zt.resolve(vt))}_post(Nt,Rt,Xe){return(0,B.oi)(this.worker,Nt,Rt,Xe)}}let Ne=(0,X.Z)("esri-workers-debug")?1:(0,X.Z)("host-browser")?navigator.hardwareConcurrency-1:0;Ne||(Ne=(0,X.Z)("safari")&&(0,X.Z)("mac")||(0,X.Z)("trident")?7:2);let xe=0;const Ye=[];function Ke(){mt()}function Ze(It,Nt){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(It,Nt){const Rt=new z.Z;return yield Rt.open(It,Nt),Rt})).apply(this,arguments)}function we(It){return Be.apply(this,arguments)}function Be(){return(Be=(0,d.Z)(function*(It,Nt={}){if("string"!=typeof It)throw new v.Z("workers:undefined-module","modulePath is missing");let Rt=Nt.strategy||"distributed";if((0,X.Z)("host-webworker")&&!(0,X.Z)("esri-workers")&&(Rt="local"),"local"===Rt){let Xe=yield Z.Z.loadWorker(It);Xe||(Xe=yield import(It)),(0,G.k_)(Nt.signal);const vt=Nt.client||Xe;return Ze([Z.Z.connect(Xe)],Wi(Nn({},Nt),{client:vt}))}if(yield mt(),(0,G.k_)(Nt.signal),"dedicated"===Rt){const Xe=xe++%Ne;return Ze([yield Ye[Xe].open(It,Nt)],Nt)}if(Nt.maxNumWorkers&&Nt.maxNumWorkers>0){const Xe=Math.min(Nt.maxNumWorkers,Ne);if(Xe<Ne){const vt=new Array(Xe);for(let Zt=0;Zt<Xe;++Zt){const xt=xe++%Ne;vt[Zt]=Ye[xt].open(It,Nt)}return Ze(vt,Nt)}}return Ze(Ye.map(Xe=>Xe.open(It,Nt)),Nt)})).apply(this,arguments)}let $e,ot=null;function mt(){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(){if(ot)return ot;$e=new AbortController;const It=[];for(let Nt=0;Nt<Ne;Nt++){const Rt=pt.create(Nt).then(Xe=>(Ye[Nt]=Xe,Xe));It.push(Rt)}return ot=Promise.all(It),ot})).apply(this,arguments)}},29132:(wt,Se,p)=>{"use strict";p.d(Se,{qM:()=>ne});var d=p(90912),v=p(2004),X=p(21674),G=p(72854),z=p(49672),Z=p(37118),D=p(55214);p(65234),p(71774),p(91179);const ne={base:X.Z,key:"type",typeMap:{extent:v.Z,multipoint:G.Z,point:z.Z,polyline:D.Z,polygon:Z.Z}};(0,d.N7)(ne)},2004:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>A});var $,d=p(17626),v=p(62208),X=p(77275),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898)),N=p(21674),B=p(49672),Q=p(65234),ne=p(33190),te=p(11519),ae=p(37053),re=p(46367);function R(V,J,Y){return null==J?Y:null==Y?J:V(J,Y)}let U=$=class extends N.Z{constructor(...V){super(...V),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(V,J,Y,oe,se){return function F(V){return V&&("esri.geometry.SpatialReference"===V.declaredClass||null!=V.wkid)}(V)?{spatialReference:V,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof V?(V.spatialReference=null==V.spatialReference?Q.Z.WGS84:V.spatialReference,V):{xmin:V,ymin:J,xmax:Y,ymax:oe,spatialReference:null==se?Q.Z.WGS84:se}}static fromBounds(V,J){return new $({xmin:V[0],ymin:V[1],xmax:V[2],ymax:V[3],spatialReference:J})}static fromPoint(V){return new $({xmin:V.x,ymin:V.y,zmin:V.z,xmax:V.x,ymax:V.y,zmax:V.z,spatialReference:V.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const V=new B.Z({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(V.z=.5*(this.zmin+this.zmax)),this.hasM&&(V.m=.5*(this.mmin+this.mmax)),V}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(V){const J=this.center;return null!=V.z&&this.hasZ?this.offset(V.x-J.x,V.y-J.y,V.z-J.z):this.offset(V.x-J.x,V.y-J.y)}clone(){const V=new $;return V.xmin=this.xmin,V.ymin=this.ymin,V.xmax=this.xmax,V.ymax=this.ymax,V.spatialReference=this.spatialReference,null!=this.zmin&&(V.zmin=this.zmin,V.zmax=this.zmax),null!=this.mmin&&(V.mmin=this.mmin,V.mmax=this.mmax),V}contains(V){if(!V)return!1;const J=this.spatialReference,Y=V.spatialReference;return J&&Y&&!J.equals(Y)&&(0,re.Q8)(J,Y)&&(V=J.isWebMercator?(0,re.$)(V):(0,re.Sx)(V,!0)),"point"===V.type?(0,ne.aV)(this,V):"extent"===V.type&&(0,ne.uP)(this,V)}equals(V){if(this===V)return!0;if((0,v.Wi)(V))return!1;const J=this.spatialReference,Y=V.spatialReference;return J&&Y&&!J.equals(Y)&&(0,re.Q8)(J,Y)&&(V=J.isWebMercator?(0,re.$)(V):(0,re.Sx)(V,!0)),this.xmin===V.xmin&&this.ymin===V.ymin&&this.zmin===V.zmin&&this.mmin===V.mmin&&this.xmax===V.xmax&&this.ymax===V.ymax&&this.zmax===V.zmax&&this.mmax===V.mmax}expand(V){const J=.5*(1-V),Y=this.width*J,oe=this.height*J;if(this.xmin+=Y,this.ymin+=oe,this.xmax-=Y,this.ymax-=oe,this.hasZ){const se=(this.zmax-this.zmin)*J;this.zmin+=se,this.zmax-=se}if(this.hasM){const se=(this.mmax-this.mmin)*J;this.mmin+=se,this.mmax-=se}return this}intersects(V){if((0,v.Wi)(V))return!1;"mesh"===V.type&&(V=V.extent);const J=this.spatialReference,Y=V.spatialReference;return J&&Y&&!J.equals(Y)&&(0,re.Q8)(J,Y)&&(V=J.isWebMercator?(0,re.$)(V):(0,re.Sx)(V,!0)),(0,te.IY)(V.type)(this,V)}normalize(){const V=this._normalize(!1,!0);return Array.isArray(V)?V:[V]}offset(V,J,Y){return this.xmin+=V,this.ymin+=J,this.xmax+=V,this.ymax+=J,null!=Y&&(this.zmin+=Y,this.zmax+=Y),this}shiftCentralMeridian(){return this._normalize(!0)}union(V){return this===V||(this.xmin=Math.min(this.xmin,V.xmin),this.ymin=Math.min(this.ymin,V.ymin),this.xmax=Math.max(this.xmax,V.xmax),this.ymax=Math.max(this.ymax,V.ymax),(this.hasZ||V.hasZ)&&(this.zmin=R(Math.min,this.zmin,V.zmin),this.zmax=R(Math.max,this.zmax,V.zmax)),(this.hasM||V.hasM)&&(this.mmin=R(Math.min,this.mmin,V.mmin),this.mmax=R(Math.max,this.mmax,V.mmax))),this}intersection(V){return this===V?this:(0,v.Wi)(V)||!this.intersects(V)?null:(this.xmin=Math.max(this.xmin,V.xmin),this.ymin=Math.max(this.ymin,V.ymin),this.xmax=Math.min(this.xmax,V.xmax),this.ymax=Math.min(this.ymax,V.ymax),(this.hasZ||V.hasZ)&&(this.zmin=R(Math.max,this.zmin,V.zmin),this.zmax=R(Math.min,this.zmax,V.zmax)),(this.hasM||V.hasM)&&(this.mmin=R(Math.max,this.mmin,V.mmin),this.mmax=R(Math.min,this.mmax,V.mmax)),this)}toJSON(V){return this.write({},V)}_shiftCM(V=(0,ae.C5)(this.spatialReference)){if(!V||!this.spatialReference)return this;const J=this.spatialReference,Y=this._getCM(V);if(Y){const oe=J.isWebMercator?(0,re.Sx)(Y):Y;this.xmin-=Y.x,this.xmax-=Y.x,J.isWebMercator||(oe.x=this._normalizeX(oe.x,V).x),this.spatialReference=new Q.Z((0,X.gx)(J.isWGS84?V.altTemplate:V.wkTemplate,{Central_Meridian:oe.x}))}return this}_getCM(V){let J=null;const[Y,oe]=V.valid,se=this.xmin,le=this.xmax;return se>=Y&&se<=oe&&le>=Y&&le<=oe||(J=this.center),J}_normalize(V,J,Y){const oe=this.spatialReference;if(!oe)return this;if(!(Y=Y||(0,ae.C5)(oe)))return this;const se=this._getParts(Y).map(q=>q.extent);if(se.length<2)return se[0]||this;if(se.length>2)return V?this._shiftCM(Y):this.set({xmin:Y.valid[0],xmax:Y.valid[1]});if(V)return this._shiftCM(Y);if(J)return se;let le=!0,de=!0;return se.forEach(q=>{q.hasZ||(le=!1),q.hasM||(de=!1)}),{rings:se.map(q=>{const ue=[[q.xmin,q.ymin],[q.xmin,q.ymax],[q.xmax,q.ymax],[q.xmax,q.ymin],[q.xmin,q.ymin]];if(le){const ie=(q.zmax-q.zmin)/2;for(let ye=0;ye<ue.length;ye++)ue[ye].push(ie)}if(de){const ie=(q.mmax-q.mmin)/2;for(let ye=0;ye<ue.length;ye++)ue[ye].push(ie)}return ue}),hasZ:le,hasM:de,spatialReference:oe}}_getParts(V){let J=this.cache._parts;if(!J){J=[];const{ymin:se,ymax:le,spatialReference:de}=this,q=this.width,ue=this.xmin,ie=this.xmax;let ye;V=V||(0,ae.C5)(de);const[pe,Ce]=V.valid;ye=this._normalizeX(this.xmin,V);const De=ye.x,Me=ye.frameId;ye=this._normalizeX(this.xmax,V);const ve=ye.x,Le=ye.frameId,je=De===ve&&q>0;if(q>2*Ce){const _e=new $(ue<ie?De:ve,se,Ce,le,de),Re=new $(pe,se,ue<ie?ve:De,le,de),nt=new $(0,se,Ce,le,de),pt=new $(pe,se,0,le,de),Ne=[],xe=[];_e.contains(nt)&&Ne.push(Me),_e.contains(pt)&&xe.push(Me),Re.contains(nt)&&Ne.push(Le),Re.contains(pt)&&xe.push(Le);for(let Ye=Me+1;Ye<Le;Ye++)Ne.push(Ye),xe.push(Ye);J.push({extent:_e,frameIds:[Me]},{extent:Re,frameIds:[Le]},{extent:nt,frameIds:Ne},{extent:pt,frameIds:xe})}else De>ve||je?J.push({extent:new $(De,se,Ce,le,de),frameIds:[Me]},{extent:new $(pe,se,ve,le,de),frameIds:[Le]}):J.push({extent:new $(De,se,ve,le,de),frameIds:[Me]});this.cache._parts=J}const Y=this.hasZ,oe=this.hasM;if(Y||oe){const se={};Y&&(se.zmin=this.zmin,se.zmax=this.zmax),oe&&(se.mmin=this.mmin,se.mmax=this.mmax);for(let le=0;le<J.length;le++)J[le].extent.set(se)}return J}_normalizeX(V,J){const[Y,oe]=J.valid,se=2*oe;let le,de=0;return V>oe?(le=Math.ceil(Math.abs(V-oe)/se),V-=le*se,de=le):V<Y&&(le=Math.ceil(Math.abs(V-Y)/se),V+=le*se,de=-le),{x:V,frameId:de}}};(0,d._)([(0,G.Cb)({readOnly:!0})],U.prototype,"cache",null),(0,d._)([(0,G.Cb)({readOnly:!0})],U.prototype,"center",null),(0,d._)([(0,G.Cb)({readOnly:!0})],U.prototype,"extent",null),(0,d._)([(0,G.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],U.prototype,"hasM",null),(0,d._)([(0,G.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],U.prototype,"hasZ",null),(0,d._)([(0,G.Cb)({readOnly:!0})],U.prototype,"height",null),(0,d._)([(0,G.Cb)({readOnly:!0})],U.prototype,"width",null),(0,d._)([(0,G.Cb)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],U.prototype,"xmin",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],U.prototype,"ymin",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],U.prototype,"mmin",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],U.prototype,"zmin",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],U.prototype,"xmax",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],U.prototype,"ymax",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],U.prototype,"mmax",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],U.prototype,"zmax",void 0),U=$=(0,d._)([(0,k.j)("esri.geometry.Extent")],U),U.prototype.toJSON.isDefaultToJSON=!0;const A=U},21674:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(68653)),k=p(76898),N=p(65234);let B=class extends v.wq{constructor(...ne){super(...ne),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=N.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(ne,te){if(ne instanceof N.Z)return ne;if(null!=ne){const ae=new N.Z;return ae.read(ne,te),ae}return ne}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(ne){return this.cache[ne]}setCacheValue(ne,te){this.cache[ne]=te}};(0,d._)([(0,X.Cb)()],B.prototype,"type",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],B.prototype,"cache",null),(0,d._)([(0,X.Cb)({readOnly:!0})],B.prototype,"extent",null),(0,d._)([(0,X.Cb)({type:Boolean,json:{write:{overridePolicy:ne=>({enabled:ne})}}})],B.prototype,"hasM",void 0),(0,d._)([(0,X.Cb)({type:Boolean,json:{write:{overridePolicy:ne=>({enabled:ne})}}})],B.prototype,"hasZ",void 0),(0,d._)([(0,X.Cb)({type:N.Z,json:{write:!0}})],B.prototype,"spatialReference",void 0),(0,d._)([(0,D.r)("spatialReference")],B.prototype,"readSpatialReference",null),B=(0,d._)([(0,k.j)("esri.geometry.Geometry")],B);const Q=B},79334:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>A});var te,d=p(17626),v=p(85931),X=p(2076),G=p(86810),z=p(16730),Z=p(14889),D=p(77712),B=(p(8314),p(90912),p(68653)),Q=p(76898),ne=p(99433);const ae=(0,X.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),re=ae.jsonValues.slice();(0,v.e$)(re,"orthometric");const $=(0,X.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let F=te=class extends G.wq{constructor(V){super(V),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(V,J,Y){return ae.write(V,J,Y)}readHeightModel(V,J,Y){return ae.read(V)||(Y&&Y.messages&&Y.messages.push(function U(V,J){return new Z.Z("height-model:unsupported",`Height model of value '${V}' is not supported`,J)}(V,{context:Y})),null)}readHeightUnit(V,J,Y){return $.read(V)||(Y&&Y.messages&&Y.messages.push(R(V,{context:Y})),null)}readHeightUnitService(V,J,Y){return(0,z.$C)(V)||$.read(V)||(Y&&Y.messages&&Y.messages.push(R(V,{context:Y})),null)}readVertCRS(V,J){return J.vertCRS||J.ellipsoid||J.geoid}clone(){return new te({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(V){return!!V&&(this===V||this.heightModel===V.heightModel&&this.heightUnit===V.heightUnit&&this.vertCRS===V.vertCRS)}static deriveUnitFromSR(V,J){const Y=(0,z.cM)(J);return new te({heightModel:V.heightModel,heightUnit:Y,vertCRS:V.vertCRS})}write(V,J){return J=Nn({origin:"web-scene"},J),super.write(V,J)}static fromJSON(V){if(!V)return null;const J=new te;return J.read(V,{origin:"web-scene"}),J}};function R(V,J){return new Z.Z("height-unit:unsupported",`Height unit of value '${V}' is not supported`,J)}(0,d._)([(0,D.Cb)({type:ae.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:re,default:"ellipsoidal"}}}})],F.prototype,"heightModel",void 0),(0,d._)([(0,ne.c)("web-scene","heightModel")],F.prototype,"writeHeightModel",null),(0,d._)([(0,B.r)(["web-scene","service"],"heightModel")],F.prototype,"readHeightModel",null),(0,d._)([(0,D.Cb)({type:$.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:$.jsonValues,write:$.write}}}})],F.prototype,"heightUnit",void 0),(0,d._)([(0,B.r)("web-scene","heightUnit")],F.prototype,"readHeightUnit",null),(0,d._)([(0,B.r)("service","heightUnit")],F.prototype,"readHeightUnitService",null),(0,d._)([(0,D.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],F.prototype,"vertCRS",void 0),(0,d._)([(0,B.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],F.prototype,"readVertCRS",null),F=te=(0,d._)([(0,Q.j)("esri.geometry.HeightModelInfo")],F);const A=F},72854:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var Q,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(76898)),Z=p(99433),D=p(2004),k=p(21674),N=p(49672),B=p(18945);function ne($){return(F,R)=>null==F?R:null==R?F:$(F,R)}let ae=Q=class extends k.Z{constructor(...$){super(...$),this.points=[],this.type="multipoint"}normalizeCtorArgs($,F){if(!$&&!F)return null;const R={};Array.isArray($)?(R.points=$,R.spatialReference=F):function te($){return $&&("esri.geometry.SpatialReference"===$.declaredClass||null!=$.wkid)}($)?R.spatialReference=$:($.points&&(R.points=$.points),$.spatialReference&&(R.spatialReference=$.spatialReference),$.hasZ&&(R.hasZ=$.hasZ),$.hasM&&(R.hasM=$.hasM));const U=R.points&&R.points[0];return U&&(void 0===R.hasZ&&void 0===R.hasM?(R.hasZ=U.length>2,R.hasM=!1):void 0===R.hasZ?R.hasZ=U.length>3:void 0===R.hasM&&(R.hasM=U.length>3)),R}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const $=this.points;if(!$.length)return null;const F=new D.Z,R=this.hasZ,U=this.hasM,A=R?3:2,V=$[0],J=ne(Math.min),Y=ne(Math.max);let oe,se,le,de,[q,ue]=V,[ie,ye]=V;for(let pe=0,Ce=$.length;pe<Ce;pe++){const De=$[pe],[Me,ve]=De;if(q=J(q,Me),ue=J(ue,ve),ie=Y(ie,Me),ye=Y(ye,ve),R&&De.length>2){const Le=De[2];oe=J(oe,Le),le=Y(le,Le)}if(U&&De.length>A){const Le=De[A];se=J(se,Le),de=Y(de,Le)}}return F.xmin=q,F.ymin=ue,F.xmax=ie,F.ymax=ye,F.spatialReference=this.spatialReference,R?(F.zmin=oe,F.zmax=le):(F.zmin=null,F.zmax=null),U?(F.mmin=se,F.mmax=de):(F.mmin=null,F.mmax=null),F}writePoints($,F){F.points=(0,v.d9)(this.points)}addPoint($){return(0,B.l)(this,$),Array.isArray($)?this.points.push($):this.points.push($.toArray()),this.notifyChange("points"),this}clone(){const $={points:(0,v.d9)(this.points),spatialReference:this.spatialReference};return this.hasZ&&($.hasZ=!0),this.hasM&&($.hasM=!0),new Q($)}getPoint($){if(!this._validateInputs($))return null;const F=this.points[$],R={x:F[0],y:F[1],spatialReference:this.spatialReference};let U=2;return this.hasZ&&(R.z=F[2],U=3),this.hasM&&(R.m=F[U]),new N.Z(R)}removePoint($){if(!this._validateInputs($))return null;const F=new N.Z(this.points.splice($,1)[0],this.spatialReference);return this.notifyChange("points"),F}setPoint($,F){return this._validateInputs($)?((0,B.l)(this,F),Array.isArray(F)||(F=F.toArray()),this.points[$]=F,this.notifyChange("points"),this):this}toJSON($){return this.write({},$)}_validateInputs($){return null!=$&&$>=0&&$<this.points.length}};(0,d._)([(0,X.Cb)({readOnly:!0})],ae.prototype,"cache",null),(0,d._)([(0,X.Cb)()],ae.prototype,"extent",null),(0,d._)([(0,X.Cb)({type:[[Number]],json:{write:{isRequired:!0}}})],ae.prototype,"points",void 0),(0,d._)([(0,Z.c)("points")],ae.prototype,"writePoints",null),ae=Q=(0,d._)([(0,z.j)("esri.geometry.Multipoint")],ae),ae.prototype.toJSON.isDefaultToJSON=!0;const re=ae},49672:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>se});var A,d=p(17626),v=p(63290),X=p(62208),G=p(77712),D=(p(85931),p(8314),p(66656)),k=p(68653),N=p(76898),B=p(99433),Q=p(90912),ne=p(21674),te=p(65234),R=p(37053),U=p(46367);const V=[0,0];function J(le){return le&&("esri.geometry.SpatialReference"===le.declaredClass||null!=le.wkid)}const Y=v.Z.getLogger("esri.geometry.Point");let oe=A=class extends ne.Z{constructor(...le){super(...le),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(le,de){de._set("x",le._get("x")),de._set("y",le._get("y")),de._set("z",le._get("z")),de._set("m",le._get("m"));const q=le._get("spatialReference");de._set("spatialReference",Object.isFrozen(q)?q:q.clone())}normalizeCtorArgs(le,de,q,ue,ie){let ye;if(Array.isArray(le))ye=le,ie=de,le=ye[0],de=ye[1],q=ye[2],ue=ye[3];else if(le&&"object"==typeof le){if(ye=le,le=null!=ye.x?ye.x:ye.longitude,de=null!=ye.y?ye.y:ye.latitude,q=ye.z,ue=ye.m,(ie=ye.spatialReference)&&"esri.geometry.SpatialReference"!==ie.declaredClass&&(ie=new te.Z(ie)),null!=ye.longitude||null!=ye.latitude)if(null==ye.longitude)Y.warn(".longitude=","Latitude was defined without longitude");else if(null==ye.latitude)Y.warn(".latitude=","Longitude was defined without latitude");else if(!ye.declaredClass&&ie&&ie.isWebMercator){const Ce=(0,U.hG)(ye.longitude,ye.latitude,V);le=Ce[0],de=Ce[1]}}else J(q)?(ie=q,q=null):J(ue)&&(ie=ue,ue=null);const pe={x:le,y:de};return null==pe.x&&null!=pe.y?Y.warn(".y=","Y coordinate was defined without an X coordinate"):null==pe.y&&null!=pe.x&&Y.warn(".x=","X coordinate was defined without a Y coordinate"),null!=ie&&(pe.spatialReference=ie),null!=q&&(pe.z=q),null!=ue&&(pe.m=ue),pe}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(le){le!==(void 0!==this._get("m"))&&(this._set("m",le?0:void 0),this._set("hasM",le))}get hasZ(){return void 0!==this.z}set hasZ(le){le!==(void 0!==this._get("z"))&&(this._set("z",le?0:void 0),this._set("hasZ",le))}get latitude(){const{spatialReference:le,x:de,y:q}=this;if(le){if(le.isWebMercator)return(0,U.R6)(de,q,V)[1];if(le.isGeographic)return q}return null}set latitude(le){const{spatialReference:de,x:q}=this;de&&(de.isWebMercator?this._set("y",(0,U.hG)(q,le,V)[1]):de.isGeographic&&this._set("y",le),this._set("latitude",le))}get longitude(){const{x:le,y:de,spatialReference:q}=this;if(q){if(q.isWebMercator)return(0,U.R6)(le,de,V)[0];if(q.isGeographic)return le}return null}set longitude(le){const{y:de,spatialReference:q}=this;q&&(q.isWebMercator?this._set("x",(0,U.hG)(le,de,V)[0]):q.isGeographic&&this._set("x",le),this._set("longitude",le))}writeX(le,de,q){de[q]=isNaN(le)?"NaN":le}readX(le){return"string"==typeof le?NaN:le}clone(){const le=new A;return le.x=this.x,le.y=this.y,le.z=this.z,le.m=this.m,le.spatialReference=this.spatialReference,le}copy(le){return A.copy(le,this),this}equals(le){if((0,X.Wi)(le))return!1;const{x:de,y:q,z:ue,m:ie,spatialReference:ye}=this,{z:pe,m:Ce}=le;let{x:De,y:Me,spatialReference:ve}=le;if(!ye.equals(ve))if(ye.isWebMercator&&ve.isWGS84)[De,Me]=(0,U.hG)(De,Me),ve=ye;else{if(!ye.isWGS84||!ve.isWebMercator)return!1;[De,Me]=(0,U.R6)(De,Me),ve=ye}return de===De&&q===Me&&ue===pe&&ie===Ce&&ye.wkid===ve.wkid}offset(le,de,q){return function ae(le,de,q,ue){var ie;return le.x=le.x+de,le.y=le.y+q,null!=ue&&(le.z=(null!=(ie=le.z)?ie:0)+ue),le}(this,le,de,q)}normalize(){if(!this.spatialReference)return this;const le=(0,R.C5)(this.spatialReference);if(!le)return this;let de=this.x;const[q,ue]=le.valid,ie=2*ue;let ye;return de>ue?(ye=Math.ceil(Math.abs(de-ue)/ie),de-=ye*ie):de<q&&(ye=Math.ceil(Math.abs(de-q)/ie),de+=ye*ie),this._set("x",de),this}distance(le){return function $(le,de){const q=le.x-de.x,ue=le.y-de.y,ie=le.hasZ&&de.hasZ?le.z-de.z:0;return Math.sqrt(q*q+ue*ue+ie*ie)}(this,le)}toArray(){const le=this.hasZ,de=this.hasM;return le&&de?[this.x,this.y,this.z,this.m]:le?[this.x,this.y,this.z]:de?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(le){return this.write({},le)}};(0,d._)([(0,G.Cb)({readOnly:!0})],oe.prototype,"cache",null),(0,d._)([(0,G.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],oe.prototype,"hasM",null),(0,d._)([(0,G.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],oe.prototype,"hasZ",null),(0,d._)([(0,G.Cb)({type:Number})],oe.prototype,"latitude",null),(0,d._)([(0,G.Cb)({type:Number})],oe.prototype,"longitude",null),(0,d._)([(0,G.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,D.p)(le=>isNaN(le)?le:(0,Q.q9)(le))],oe.prototype,"x",void 0),(0,d._)([(0,B.c)("x")],oe.prototype,"writeX",null),(0,d._)([(0,k.r)("x")],oe.prototype,"readX",null),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],oe.prototype,"y",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],oe.prototype,"z",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],oe.prototype,"m",void 0),oe=A=(0,d._)([(0,N.j)("esri.geometry.Point")],oe),oe.prototype.toJSON.isDefaultToJSON=!0;const se=oe},37118:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Y});var A,d=p(17626),v=p(85931),X=p(58817),G=p(62208),z=p(77712),D=(p(90912),p(76898)),k=p(99433),N=p(2004),B=p(21674),Q=p(49672),ne=p(65234),te=p(27105),ae=p(33190),re=p(25748),$=p(15176),F=p(11519),R=p(46367),U=p(18945);function V(oe){return!Array.isArray(oe[0])}let J=A=class extends B.Z{constructor(...oe){super(...oe),this.rings=[],this.type="polygon"}static fromExtent(oe){const se=oe.clone().normalize(),le=oe.spatialReference;let de=!1,q=!1;for(const ie of se)ie.hasZ&&(de=!0),ie.hasM&&(q=!0);const ue={rings:se.map(ie=>{const ye=[[ie.xmin,ie.ymin],[ie.xmin,ie.ymax],[ie.xmax,ie.ymax],[ie.xmax,ie.ymin],[ie.xmin,ie.ymin]];if(de&&ie.hasZ){const pe=ie.zmin+.5*(ie.zmax-ie.zmin);for(let Ce=0;Ce<ye.length;Ce++)ye[Ce].push(pe)}if(q&&ie.hasM){const pe=ie.mmin+.5*(ie.mmax-ie.mmin);for(let Ce=0;Ce<ye.length;Ce++)ye[Ce].push(pe)}return ye}),spatialReference:le};return de&&(ue.hasZ=!0),q&&(ue.hasM=!0),new A(ue)}normalizeCtorArgs(oe,se){let le,de,q=null,ue=null;return oe&&!Array.isArray(oe)?(q=oe.rings?oe.rings:null,se||(oe.spatialReference?se=oe.spatialReference:oe.rings||(se=oe)),le=oe.hasZ,de=oe.hasM):q=oe,q=q||[],q.length&&q[0]&&null!=q[0][0]&&"number"==typeof q[0][0]&&(q=[q]),ue=q[0]&&q[0][0],ue&&(void 0===le&&void 0===de?(le=ue.length>2,de=ue.length>3):void 0===le?le=de?ue.length>3:ue.length>2:void 0===de&&(de=le?ue.length>3:ue.length>2)),{rings:q,spatialReference:se=se||ne.Z.WGS84,hasZ:le,hasM:de}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const oe=(0,te.tO)(this);if(!oe||isNaN(oe[0])||isNaN(oe[1])||this.hasZ&&isNaN(oe[2]))return null;const se=new Q.Z;return se.x=oe[0],se.y=oe[1],se.spatialReference=this.spatialReference,this.hasZ&&(se.z=oe[2]),se}get extent(){const{spatialReference:oe}=this,se=(0,$._w)(this);if(!se)return null;const le=new N.Z(se);return le.spatialReference=oe,le}get isSelfIntersecting(){return(0,F.Ff)(this.rings)}writeRings(oe,se){se.rings=(0,X.d9)(this.rings)}addRing(oe){if(!oe)return;const se=this.rings,le=se.length;if(V(oe)){const de=[];for(let q=0,ue=oe.length;q<ue;q++)de[q]=oe[q].toArray();se[le]=de}else se[le]=oe.concat();return this.notifyChange("rings"),this}clone(){const oe=new A;return oe.spatialReference=this.spatialReference,oe.rings=(0,X.d9)(this.rings),oe.hasZ=this.hasZ,oe.hasM=this.hasM,oe}equals(oe){if(this===oe)return!0;if((0,G.Wi)(oe))return!1;const se=this.spatialReference,le=oe.spatialReference;if((0,G.pC)(se)!==(0,G.pC)(le)||(0,G.pC)(se)&&(0,G.pC)(le)&&!se.equals(le)||this.rings.length!==oe.rings.length)return!1;const de=([q,ue,ie,ye],[pe,Ce,De,Me])=>q===pe&&ue===Ce&&(null==ie&&null==De||ie===De)&&(null==ye&&null==Me||ye===Me);for(let q=0;q<this.rings.length;q++)if(!(0,v.fS)(this.rings[q],oe.rings[q],de))return!1;return!0}contains(oe){if(!oe)return!1;const se=(0,R.iV)(oe,this.spatialReference);return(0,ae.CI)(this,(0,G.pC)(se)?se:oe)}isClockwise(oe){let se;return se=V(oe)?oe.map(le=>this.hasZ?this.hasM?[le.x,le.y,le.z,le.m]:[le.x,le.y,le.z]:[le.x,le.y]):oe,(0,re.bu)(se,this.hasM,this.hasZ)}getPoint(oe,se){if(!this._validateInputs(oe,se))return null;const le=this.rings[oe][se],de=this.hasZ,q=this.hasM;return de&&!q?new Q.Z(le[0],le[1],le[2],void 0,this.spatialReference):q&&!de?new Q.Z(le[0],le[1],void 0,le[2],this.spatialReference):de&&q?new Q.Z(le[0],le[1],le[2],le[3],this.spatialReference):new Q.Z(le[0],le[1],this.spatialReference)}insertPoint(oe,se,le){return this._validateInputs(oe,se,!0)?((0,U.l)(this,le),Array.isArray(le)||(le=le.toArray()),this.rings[oe].splice(se,0,le),this.notifyChange("rings"),this):this}removePoint(oe,se){if(!this._validateInputs(oe,se))return null;const le=new Q.Z(this.rings[oe].splice(se,1)[0],this.spatialReference);return this.notifyChange("rings"),le}removeRing(oe){if(!this._validateInputs(oe,null))return null;const se=this.rings.splice(oe,1)[0],le=this.spatialReference,de=se.map(q=>new Q.Z(q,le));return this.notifyChange("rings"),de}setPoint(oe,se,le){return this._validateInputs(oe,se)?((0,U.l)(this,le),Array.isArray(le)||(le=le.toArray()),this.rings[oe][se]=le,this.notifyChange("rings"),this):this}_validateInputs(oe,se,le=!1){if(null==oe||oe<0||oe>=this.rings.length)return!1;if(null!=se){const de=this.rings[oe];if(le&&(se<0||se>de.length)||!le&&(se<0||se>=de.length))return!1}return!0}toJSON(oe){return this.write({},oe)}};(0,d._)([(0,z.Cb)({readOnly:!0})],J.prototype,"cache",null),(0,d._)([(0,z.Cb)({readOnly:!0})],J.prototype,"centroid",null),(0,d._)([(0,z.Cb)({readOnly:!0})],J.prototype,"extent",null),(0,d._)([(0,z.Cb)({readOnly:!0})],J.prototype,"isSelfIntersecting",null),(0,d._)([(0,z.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],J.prototype,"rings",void 0),(0,d._)([(0,k.c)("rings")],J.prototype,"writeRings",null),J=A=(0,d._)([(0,D.j)("esri.geometry.Polygon")],J),J.prototype.toJSON.isDefaultToJSON=!0;const Y=J},55214:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var te,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(76898)),Z=p(99433),D=p(2004),k=p(21674),N=p(49672),B=p(65234),Q=p(15176),ne=p(18945);let re=te=class extends k.Z{constructor(...F){super(...F),this.paths=[],this.type="polyline"}normalizeCtorArgs(F,R){let U,A,V=null,J=null;return F&&!Array.isArray(F)?(V=F.paths?F.paths:null,R||(F.spatialReference?R=F.spatialReference:F.paths||(R=F)),U=F.hasZ,A=F.hasM):V=F,V=V||[],V.length&&V[0]&&null!=V[0][0]&&"number"==typeof V[0][0]&&(V=[V]),J=V[0]&&V[0][0],J&&(void 0===U&&void 0===A?(U=J.length>2,A=!1):void 0===U?U=!A&&J.length>3:void 0===A&&(A=!U&&J.length>3)),{paths:V,spatialReference:R=R||B.Z.WGS84,hasZ:U,hasM:A}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:F}=this,R=(0,Q.Wn)(this);if(!R)return null;const U=new D.Z(R);return U.spatialReference=F,U}writePaths(F,R){R.paths=(0,v.d9)(this.paths)}addPath(F){if(!F)return;const R=this.paths,U=R.length;if(function ae(F){return!Array.isArray(F[0])}(F)){const A=[];for(let V=0,J=F.length;V<J;V++)A[V]=F[V].toArray();R[U]=A}else R[U]=F.concat();return this.notifyChange("paths"),this}clone(){const F=new te;return F.spatialReference=this.spatialReference,F.paths=(0,v.d9)(this.paths),F.hasZ=this.hasZ,F.hasM=this.hasM,F}getPoint(F,R){if(!this._validateInputs(F,R))return null;const U=this.paths[F][R],A=this.hasZ,V=this.hasM;return A&&!V?new N.Z(U[0],U[1],U[2],void 0,this.spatialReference):V&&!A?new N.Z(U[0],U[1],void 0,U[2],this.spatialReference):A&&V?new N.Z(U[0],U[1],U[2],U[3],this.spatialReference):new N.Z(U[0],U[1],this.spatialReference)}insertPoint(F,R,U){return this._validateInputs(F,R,!0)?((0,ne.l)(this,U),Array.isArray(U)||(U=U.toArray()),this.paths[F].splice(R,0,U),this.notifyChange("paths"),this):this}removePath(F){if(!this._validateInputs(F,null))return null;const R=this.paths.splice(F,1)[0],U=this.spatialReference,A=R.map(V=>new N.Z(V,U));return this.notifyChange("paths"),A}removePoint(F,R){if(!this._validateInputs(F,R))return null;const U=new N.Z(this.paths[F].splice(R,1)[0],this.spatialReference);return this.notifyChange("paths"),U}setPoint(F,R,U){return this._validateInputs(F,R)?((0,ne.l)(this,U),Array.isArray(U)||(U=U.toArray()),this.paths[F][R]=U,this.notifyChange("paths"),this):this}_validateInputs(F,R,U=!1){if(null==F||F<0||F>=this.paths.length)return!1;if(null!=R){const A=this.paths[F];if(U&&(R<0||R>A.length)||!U&&(R<0||R>=A.length))return!1}return!0}toJSON(F){return this.write({},F)}};(0,d._)([(0,X.Cb)({readOnly:!0})],re.prototype,"cache",null),(0,d._)([(0,X.Cb)({readOnly:!0})],re.prototype,"extent",null),(0,d._)([(0,X.Cb)({type:[[[Number]]],json:{write:{isRequired:!0}}})],re.prototype,"paths",void 0),(0,d._)([(0,Z.c)("paths")],re.prototype,"writePaths",null),re=te=(0,d._)([(0,z.j)("esri.geometry.Polyline")],re),re.prototype.toJSON.isDefaultToJSON=!0;const $=re},65234:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(86810),X=p(58817),G=p(90912),z=p(77712),Z=p(76898),D=p(99433),k=p(37053);let B=N=class extends v.wq{constructor(ne){super(ne),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(ne){if(!ne)return null;if(ne.wkid){if(102100===ne.wkid)return N.WebMercator;if(4326===ne.wkid)return N.WGS84}const te=new N;return te.read(ne),te}normalizeCtorArgs(ne){return ne&&"object"==typeof ne?ne:{["string"==typeof ne?"wkt":"wkid"]:ne}}get isWGS84(){return(0,k.oR)(this)}get isWebMercator(){return(0,k.sS)(this)}get isGeographic(){return(0,k.sT)(this)}get isWrappable(){return(0,k.MP)(this)}writeWkt(ne,te){this.wkid||(te.wkt=ne)}clone(){if(this===N.WGS84)return N.WGS84;if(this===N.WebMercator)return N.WebMercator;const ne=new N;return null!=this.wkid?(ne.wkid=this.wkid,null!=this.latestWkid&&(ne.latestWkid=this.latestWkid),null!=this.vcsWkid&&(ne.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(ne.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(ne.wkt=this.wkt),this.imageCoordinateSystem&&(ne.imageCoordinateSystem=(0,X.d9)(this.imageCoordinateSystem)),ne}equals(ne){if(null==ne)return!1;if(this.imageCoordinateSystem||ne.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==ne.imageCoordinateSystem)return!1;const{id:te,referenceServiceName:ae}=ne.imageCoordinateSystem,{geodataXform:re}=ne.imageCoordinateSystem,$=this.imageCoordinateSystem;return null==te||re?JSON.stringify($)===JSON.stringify(ne.imageCoordinateSystem):ae?$.id===te&&$.referenceServiceName===ae:$.id===te}return(0,k.fS)(this,ne)}toJSON(ne){return this.write(void 0,ne)}};B.GCS_NAD_1927=null,B.WGS84=null,B.WebMercator=null,B.PlateCarree=null,(0,d._)([(0,z.Cb)({readOnly:!0})],B.prototype,"isWGS84",null),(0,d._)([(0,z.Cb)({readOnly:!0})],B.prototype,"isWebMercator",null),(0,d._)([(0,z.Cb)({readOnly:!0})],B.prototype,"isGeographic",null),(0,d._)([(0,z.Cb)({readOnly:!0})],B.prototype,"isWrappable",null),(0,d._)([(0,z.Cb)({type:G.z8,json:{write:!0}})],B.prototype,"latestWkid",void 0),(0,d._)([(0,z.Cb)({type:G.z8,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],B.prototype,"wkid",void 0),(0,d._)([(0,z.Cb)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],B.prototype,"wkt",void 0),(0,d._)([(0,D.c)("wkt"),(0,D.c)("web-scene","wkt")],B.prototype,"writeWkt",null),(0,d._)([(0,z.Cb)({type:G.z8,json:{write:!0}})],B.prototype,"vcsWkid",void 0),(0,d._)([(0,z.Cb)({type:G.z8,json:{write:!0}})],B.prototype,"latestVcsWkid",void 0),(0,d._)([(0,z.Cb)()],B.prototype,"imageCoordinateSystem",void 0),B=N=(0,d._)([(0,Z.j)("esri.geometry.SpatialReference")],B),B.prototype.toJSON.isDefaultToJSON=!0,B.GCS_NAD_1927=new B({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),B.WGS84=new B(k.Zn),B.WebMercator=new B(k.R_),B.PlateCarree=new B(k.WR),Object.freeze&&(Object.freeze(B.GCS_NAD_1927),Object.freeze(B.WGS84),Object.freeze(B.WebMercator));const Q=B},55915:(wt,Se,p)=>{"use strict";p.d(Se,{Bm:()=>pn,CM:()=>Xn,KC:()=>Zt,Up:()=>Ne,Wt:()=>Tt,dz:()=>Me,iQ:()=>xe,iV:()=>Ce,jF:()=>Hr,kR:()=>ye,oj:()=>De,rS:()=>ve,zD:()=>pe});var d=p(15861),v=p(26584),X=p(21286),G=p(62208),z=p(10699),Z=p(16730),D=p(36082),k=p(48902),N=p(28347),Q=(p(84161),p(28093)),ne=p(2004),te=p(72854),ae=p(44956),re=p(49672),$=p(37118),F=p(55214),R=p(12080),A=(p(65401),p(94425)),V=p(37299),J=p(98346),Y=p(37053),oe=p(6178),se=p(33696);let le=null,de=null,q=null,ue={};const ie=new k.s;function ye(){return!!le&&(0,ae.i)()}function pe(rn){return(0,G.Wi)(q)&&(q=Promise.all([(0,ae.l)(),p.e(4918).then(p.bind(p,4918)).then(gn=>gn.g),p.e(8592).then(p.bind(p,77777))])),q.then(([,gn,{hydratedAdapter:kt}])=>{(0,z.k_)(rn),de=kt,le=gn.default,le._enableProjection(ae.p),ie.notify()})}function Ce(rn,gn,kt=null,An=null){return Array.isArray(rn)?0===rn.length?[]:De(de,rn,rn[0].spatialReference,gn,kt,An):De(de,[rn],rn.spatialReference,gn,kt,An)[0]}function De(rn,gn,kt,An,fr=null,wr=null){if((0,G.Wi)(kt)||(0,G.Wi)(An))return gn;if(Ne(kt,An,fr))return gn.map(Jr=>(0,G.Wg)(function Fe(rn,gn,kt){return rn?"x"in rn?function ct(rn,gn,kt,An,fr){Qr[0]=rn.x,Qr[1]=rn.y;const wr=rn.z;return Qr[2]=void 0!==wr?wr:fr,Xn(Qr,gn,0,Qr,An,0,1)?(kt.x=Qr[0],kt.y=Qr[1],kt.spatialReference=An,void 0===wr?(kt.z=void 0,kt.hasZ=!1):(kt.z=Qr[2],kt.hasZ=!0),void 0===rn.m?(kt.m=void 0,kt.hasM=!1):(kt.m=rn.m,kt.hasM=!0),kt):null}(rn,gn,new re.Z,kt,0):"xmin"in rn?function Rt(rn,gn,kt,An,fr){const{xmin:wr,ymin:Jr,xmax:Br,ymax:ti,hasZ:Ai,hasM:Fr}=rn;return xt(wr,Jr,Ai?rn.zmin:fr,gn,Qr,An)?(kt.xmin=Qr[0],kt.ymin=Qr[1],Ai&&(kt.zmin=Qr[2]),xt(Br,ti,Ai?rn.zmax:fr,gn,Qr,An)?(kt.xmax=Qr[0],kt.ymax=Qr[1],Ai&&(kt.zmax=Qr[2]),Fr&&(kt.mmin=rn.mmin,kt.mmax=rn.mmax),kt.spatialReference=An,kt):null):null}(rn,gn,new ne.Z,kt,0):"rings"in rn?It(rn,gn,new $.Z,kt,0):"paths"in rn?function $e(rn,gn,kt,An,fr){const{paths:wr,hasZ:Jr,hasM:Br}=rn,ti=[];return Tr(wr,Jr,Br,gn,ti,An,fr)?(kt.paths=ti,kt.spatialReference=An,kt.hasZ=Jr,kt.hasM=Br,kt):null}(rn,gn,new F.Z,kt,0):"points"in rn?function Be(rn,gn,kt,An,fr){const{points:wr,hasZ:Jr,hasM:Br}=rn,ti=[],Ai=wr.length,Fr=[];for(const Ni of wr)Fr.push(Ni[0],Ni[1],Jr?Ni[2]:fr);if(!Xn(Fr,gn,0,Fr,An,0,Ai))return null;for(let Ni=0;Ni<Ai;++Ni){const Ji=3*Ni,Gs=Fr[Ji],Vi=Fr[Ji+1];ti.push(Jr&&Br?[Gs,Vi,Fr[Ji+2],wr[Ni][3]]:Jr?[Gs,Vi,Fr[Ji+2]]:Br?[Gs,Vi,wr[Ni][2]]:[Gs,Vi])}return kt.points=ti,kt.spatialReference=An,kt.hasZ=Jr,kt.hasM=Br,kt}(rn,gn,new te.Z,kt,0):null:null}(Jr,kt,An)));if((0,G.Wi)(fr)){const Jr=J.Z.cacheKey(kt,An);void 0!==ue[Jr]?fr=ue[Jr]:(fr=ve(kt,An,null),(0,G.Wi)(fr)&&(fr=new J.Z),ue[Jr]=fr)}if((0,G.Wi)(le))throw new je;return(0,G.pC)(wr)?le._project(rn,gn,kt,An,fr,wr):le._project(rn,gn,kt,An,fr)}function Me(rn,gn){return(0,G.Wi)(rn)?{pending:null,geometry:null}:(0,Y.fS)(rn.spatialReference,gn)?{pending:null,geometry:rn}:(0,Y.JY)(rn.spatialReference)&&(0,Y.JY)(gn)?Ne(rn.spatialReference,gn)||ye()?{pending:null,geometry:pt(rn,gn)}:((0,D.it)(ie),{pending:pe(),geometry:null}):{pending:null,geometry:null}}function ve(rn,gn,kt=null){if((0,G.Wi)(le))throw new je;if((0,G.Wi)(rn)||(0,G.Wi)(gn))return null;const An=le._getTransformation(de,rn,gn,kt,null==kt?void 0:kt.spatialReference);return null!==An?J.Z.fromGE(An):null}class je extends v.Z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var _e,rn;function pt(rn,gn){try{const kt=Ce(rn,gn);if(null==kt)return null;"xmin"in rn&&"xmin"in kt&&(kt.zmin=rn.zmin,kt.zmax=rn.zmax);const An=(0,se.k)(kt.type,rn.spatialReference,gn);return(0,G.pC)(An)&&An(kt),kt}catch(kt){if(!(kt instanceof je))throw kt;return null}}function Ne(rn,gn,kt){return!kt&&(!!(0,Y.fS)(rn,gn)||(0,Y.JY)(rn)&&(0,Y.JY)(gn)&&!!ut(rn,gn,ni))}function xe(rn,gn,kt,An){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,d.Z)(function*(rn,gn,kt,An){if(ye())return(0,z.Yn)(An);if(Array.isArray(rn)){for(const{source:fr,dest:wr,geographicTransformation:Jr}of rn)if(!Ne(fr,wr,Jr))return pe(An)}else if(!Ne(rn,gn,kt))return pe(An);return(0,z.Yn)(An)}),Ye.apply(this,arguments)}function Tt(rn,gn,kt=gn.spatialReference,An=0){return(0,G.pC)(kt)&&(0,G.pC)(It(rn,rn.spatialReference,gn,kt,An))}function It(rn,gn,kt,An,fr){const{rings:wr,hasZ:Jr,hasM:Br}=rn,ti=[];return Tr(wr,Jr,Br,gn,ti,An,fr)?(kt.rings=ti,kt.spatialReference=An,kt.hasZ=Jr,kt.hasM=Br,kt):null}function Zt(rn,gn,kt,An=0){Qr[0]=rn.x,Qr[1]=rn.y;const fr=rn.z;return Qr[2]=void 0!==fr?fr:An,Xn(Qr,rn.spatialReference,0,gn,kt,0,1)}function xt(rn,gn,kt,An,fr,wr){return li[0]=rn,li[1]=gn,li[2]=kt,Xn(li,An,0,fr,wr,0,1)}function Xn(rn,gn,kt,An,fr,wr,Jr=1){const Br=ut(gn,fr,ni);if((0,G.Wi)(Br))return!1;if(Br===Ht){if(rn===An&&kt===wr)return!0;const Ai=kt+3*Jr;for(let Fr=kt,Ni=wr;Fr<Ai;Fr++,Ni++)An[Ni]=rn[Fr];return!0}const ti=kt+3*Jr;for(let Ai=kt,Fr=wr;Ai<ti;Ai+=3,Fr+=3)Br(rn,Ai,An,Fr);return!0}function Tr(rn,gn,kt,An,fr,wr,Jr=0){const Br=new Array;for(const Ai of rn)for(const Fr of Ai)Br.push(Fr[0],Fr[1],gn?Fr[2]:Jr);if(!Xn(Br,An,0,Br,wr,0,Br.length/3))return!1;let ti=0;fr.length=0;for(const Ai of rn){const Fr=new Array;for(const Ni of Ai)gn&&kt?Fr.push([Br[ti++],Br[ti++],Br[ti++],Ni[3]]):gn?Fr.push([Br[ti++],Br[ti++],Br[ti++]]):kt?(Fr.push([Br[ti++],Br[ti++],Ni[2]]),ti++):(Fr.push([Br[ti++],Br[ti++]]),ti++);fr.push(Fr)}return!0}function pn(rn,gn,kt,An){if((0,G.Wi)(rn)||(0,G.Wi)(An))return!1;const fr=$n(rn,yr),wr=$n(An,Pr);if(fr===wr&&!In(wr)&&(fr!==_e.UNKNOWN||(0,Y.fS)(rn,An)))return(0,N.f)(kt,gn),!0;if(In(wr)){const Jr=ps[fr][_e.LON_LAT],Br=ps[_e.LON_LAT][wr];return!(0,G.Wi)(Jr)&&!(0,G.Wi)(Br)&&(Jr(gn,0,yi,0),Br(yi,0,Un,0),Wn(Lr*yi[0],Lr*yi[1],kt),kt[12]=Un[0],kt[13]=Un[1],kt[14]=Un[2],!0)}if((wr===_e.WEB_MERCATOR||wr===_e.PLATE_CARREE)&&(fr===_e.WGS84||fr===_e.CGCS2000&&wr===_e.PLATE_CARREE||fr===_e.SPHERICAL_ECEF||fr===_e.WEB_MERCATOR)){const Jr=ps[fr][_e.LON_LAT],Br=ps[_e.LON_LAT][wr];return!(0,G.Wi)(Jr)&&!(0,G.Wi)(Br)&&(Jr(gn,0,yi,0),Br(yi,0,Un,0),fr===_e.SPHERICAL_ECEF?function jn(rn,gn,kt){Wn(rn,gn,kt),(0,N.t)(kt,kt)}(Lr*yi[0],Lr*yi[1],kt):(0,N.i)(kt),kt[12]=Un[0],kt[13]=Un[1],kt[14]=Un[2],!0)}return!1}function In(rn){return rn===_e.SPHERICAL_ECEF||rn===_e.SPHERICAL_MARS_PCPF||rn===_e.SPHERICAL_MOON_PCPF}function Wn(rn,gn,kt){const An=Math.sin(rn),fr=Math.cos(rn),wr=Math.sin(gn),Jr=Math.cos(gn),Br=kt;return Br[0]=-An,Br[4]=-wr*fr,Br[8]=Jr*fr,Br[12]=0,Br[1]=fr,Br[5]=-wr*An,Br[9]=Jr*An,Br[13]=0,Br[2]=0,Br[6]=Jr,Br[10]=wr,Br[14]=0,Br[3]=0,Br[7]=0,Br[11]=0,Br[15]=1,Br}function $n(rn,gn){return gn.spatialReference===rn?gn.spatialReferenceId:(gn.spatialReference=rn,"metersPerUnit"in gn&&(gn.metersPerUnit=(0,Z.c9)(rn,1)),gn.spatialReferenceId=rn.wkt===R.GG.wkt?_e.SPHERICAL_ECEF:(0,Y.oR)(rn)?_e.WGS84:(0,Y.sS)(rn)?_e.WEB_MERCATOR:(0,Y.QM)(rn)?_e.PLATE_CARREE:rn.wkt===R.wY.wkt?_e.WGS84_ECEF:rn.wkid===oe.W.CGCS2000?_e.CGCS2000:rn.wkt===R.HQ.wkt?_e.SPHERICAL_MARS_PCPF:rn.wkt===R.VY.wkt?_e.SPHERICAL_MOON_PCPF:(0,Y.BZ)(rn)?_e.GCSMARS2000:(0,Y.V2)(rn)?_e.GCSMOON2000:_e.UNKNOWN)}function Ht(rn,gn,kt,An){rn!==kt&&(kt[An++]=rn[gn++],kt[An++]=rn[gn++],kt[An]=rn[gn])}function ir(rn,gn,kt,An){kt[An++]=Oi*(rn[gn++]/A.sv.radius),kt[An++]=Oi*(Math.PI/2-2*Math.atan(Math.exp(-rn[gn++]/A.sv.radius))),kt[An]=rn[gn]}function an(rn,gn,kt,An){!function Dr(rn,gn,kt,An,fr){const wr=.4999999*Math.PI,Jr=(0,X.uZ)(Lr*rn[gn+1],-wr,wr),Br=Math.sin(Jr);kt[An++]=Lr*rn[gn]*fr.radius,kt[An++]=fr.halfSemiMajorAxis*Math.log((1+Br)/(1-Br)),kt[An]=rn[gn+2]}(rn,gn,kt,An,A.sv)}(rn=_e||(_e={}))[rn.UNKNOWN=0]="UNKNOWN",rn[rn.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",rn[rn.WGS84=2]="WGS84",rn[rn.WEB_MERCATOR=3]="WEB_MERCATOR",rn[rn.WGS84_ECEF=4]="WGS84_ECEF",rn[rn.CGCS2000=5]="CGCS2000",rn[rn.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",rn[rn.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",rn[rn.GCSMARS2000=8]="GCSMARS2000",rn[rn.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",rn[rn.GCSMOON2000=10]="GCSMOON2000",rn[rn.LON_LAT=11]="LON_LAT",rn[rn.PLATE_CARREE=12]="PLATE_CARREE";const Mn=A.sv.radius*Math.PI/180,Hn=180/(A.sv.radius*Math.PI);function Mt(rn,gn,kt,An){kt[An]=rn[gn]*Mn,kt[An+1]=rn[gn+1]*Mn,kt[An+2]=rn[gn+2]}function Bt(rn,gn,kt,An){kt[An]=rn[gn]*Hn,kt[An+1]=rn[gn+1]*Hn,kt[An+2]=rn[gn+2]}function Hr(rn){if((0,G.Wi)(rn))return!1;const gn=$n(rn,yr);return!!ps[gn][_e.WGS84_COMPARABLE_LON_LAT]}function Ei(rn,gn,kt,An,fr){const wr=fr+rn[gn+2],Jr=Lr*rn[gn+1],Br=Lr*rn[gn],ti=Math.cos(Jr);kt[An++]=Math.cos(Br)*ti*wr,kt[An++]=Math.sin(Br)*ti*wr,kt[An]=Math.sin(Jr)*wr}function kr(rn,gn,kt,An){Ei(rn,gn,kt,An,A.Z1.radius)}function Fi(rn,gn,kt,An){Ei(rn,gn,kt,An,A.yr.radius)}function rs(rn,gn,kt,An){Ei(rn,gn,kt,An,A.sv.radius)}function Zr(rn,gn,kt,An,fr){const wr=rn[gn],Jr=rn[gn+1],Br=rn[gn+2],ti=Math.sqrt(wr*wr+Jr*Jr+Br*Br),Ai=(0,X.Kt)(Br/(0===ti?1:ti)),Fr=Math.atan2(Jr,wr);kt[An++]=Oi*Fr,kt[An++]=Oi*Ai,kt[An]=ti-fr}function fi(rn,gn,kt,An){Zr(rn,gn,kt,An,A.Z1.radius)}function Ui(rn,gn,kt,An){Zr(rn,gn,kt,An,A.yr.radius)}function hr(rn,gn,kt,An){Zr(rn,gn,kt,An,A.sv.radius)}function gi(rn,gn,kt,An){!function Hs(rn,gn,kt,An,fr){const wr=Lr*rn[gn],Jr=Lr*rn[gn+1],Br=rn[gn+2],ti=Math.sin(Jr),Ai=Math.cos(Jr),Fr=fr.radius/Math.sqrt(1-fr.eccentricitySquared*ti*ti);kt[An++]=(Fr+Br)*Ai*Math.cos(wr),kt[An++]=(Fr+Br)*Ai*Math.sin(wr),kt[An++]=(Fr*(1-fr.eccentricitySquared)+Br)*ti}(rn,gn,kt,An,A.sv)}function Bi(rn,gn,kt,An){const fr=V.cD,wr=rn[gn],Jr=rn[gn+1],Br=rn[gn+2];let ti,Ai,Fr,Ni,Ji,Gs,Vi,Rs,Ps,Is,Ds,yo,Oo,oo,ho,po,qs,$i,gs,Ys,_o;ti=Math.abs(Br),Ai=wr*wr+Jr*Jr,Fr=Math.sqrt(Ai),Ni=Ai+Br*Br,Ji=Math.sqrt(Ni),Ys=Math.atan2(Jr,wr),Gs=Br*Br/Ni,Vi=Ai/Ni,oo=fr.a2/Ji,ho=fr.a3-fr.a4/Ji,Vi>.3?(Rs=ti/Ji*(1+Vi*(fr.a1+oo+Gs*ho)/Ji),gs=Math.asin(Rs),Is=Rs*Rs,Ps=Math.sqrt(1-Is)):(Ps=Fr/Ji*(1-Gs*(fr.a5-oo-Vi*ho)/Ji),gs=Math.acos(Ps),Is=1-Ps*Ps,Rs=Math.sqrt(Is)),Ds=1-A.sv.eccentricitySquared*Is,yo=A.sv.radius/Math.sqrt(Ds),Oo=fr.a6*yo,oo=Fr-yo*Ps,ho=ti-Oo*Rs,qs=Ps*oo+Rs*ho,po=Ps*ho-Rs*oo,$i=po/(Oo/Ds+qs),gs+=$i,_o=qs+po*$i/2,Br<0&&(gs=-gs),kt[An++]=Oi*Ys,kt[An++]=Oi*gs,kt[An]=_o}const ps={[_e.WGS84]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:Ht,[_e.SPHERICAL_ECEF]:rs,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:an,[_e.PLATE_CARREE]:Mt,[_e.WGS84]:Ht,[_e.WGS84_ECEF]:gi},[_e.CGCS2000]:{[_e.CGCS2000]:Ht,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:Ht,[_e.SPHERICAL_ECEF]:rs,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:Mt,[_e.WGS84]:null,[_e.WGS84_ECEF]:gi},[_e.GCSMARS2000]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:Ht,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:null,[_e.SPHERICAL_ECEF]:null,[_e.SPHERICAL_MARS_PCPF]:Fi,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:null,[_e.WGS84]:null,[_e.WGS84_ECEF]:null},[_e.GCSMOON2000]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:Ht,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:null,[_e.SPHERICAL_ECEF]:null,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:kr,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:null,[_e.WGS84]:null,[_e.WGS84_ECEF]:null},[_e.WEB_MERCATOR]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:ir,[_e.WGS84_COMPARABLE_LON_LAT]:ir,[_e.SPHERICAL_ECEF]:function Qn(rn,gn,kt,An){ir(rn,gn,kt,An),rs(kt,An,kt,An)},[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:Ht,[_e.PLATE_CARREE]:function wn(rn,gn,kt,An){ir(rn,gn,kt,An),Mt(kt,An,kt,An)},[_e.WGS84]:ir,[_e.WGS84_ECEF]:function Ar(rn,gn,kt,An){ir(rn,gn,kt,An),gi(kt,An,kt,An)}},[_e.WGS84_ECEF]:{[_e.CGCS2000]:Bi,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Bi,[_e.WGS84_COMPARABLE_LON_LAT]:Bi,[_e.SPHERICAL_ECEF]:function Ts(rn,gn,kt,An){Bi(rn,gn,kt,An),rs(kt,An,kt,An)},[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:function Li(rn,gn,kt,An){Bi(rn,gn,kt,An),an(kt,An,kt,An)},[_e.PLATE_CARREE]:function Ut(rn,gn,kt,An){Bi(rn,gn,kt,An),Mt(kt,An,kt,An)},[_e.WGS84]:Bi,[_e.WGS84_ECEF]:Ht},[_e.SPHERICAL_ECEF]:{[_e.CGCS2000]:hr,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:hr,[_e.WGS84_COMPARABLE_LON_LAT]:hr,[_e.SPHERICAL_ECEF]:Ht,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:function Ii(rn,gn,kt,An){hr(rn,gn,kt,An),an(kt,An,kt,An)},[_e.PLATE_CARREE]:function Cn(rn,gn,kt,An){hr(rn,gn,kt,An),Mt(kt,An,kt,An)},[_e.WGS84]:hr,[_e.WGS84_ECEF]:function Hi(rn,gn,kt,An){hr(rn,gn,kt,An),gi(kt,An,kt,An)}},[_e.SPHERICAL_MARS_PCPF]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:Ui,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Ui,[_e.WGS84_COMPARABLE_LON_LAT]:null,[_e.SPHERICAL_ECEF]:null,[_e.SPHERICAL_MARS_PCPF]:Ht,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:null,[_e.WGS84]:null,[_e.WGS84_ECEF]:null},[_e.SPHERICAL_MOON_PCPF]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:fi,[_e.LON_LAT]:fi,[_e.WGS84_COMPARABLE_LON_LAT]:null,[_e.SPHERICAL_ECEF]:null,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:Ht,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:null,[_e.WGS84]:null,[_e.WGS84_ECEF]:null},[_e.UNKNOWN]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:null,[_e.WGS84_COMPARABLE_LON_LAT]:null,[_e.SPHERICAL_ECEF]:null,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:Ht,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:null,[_e.WGS84]:null,[_e.WGS84_ECEF]:null},[_e.LON_LAT]:{[_e.CGCS2000]:Ht,[_e.GCSMARS2000]:Ht,[_e.GCSMOON2000]:Ht,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:Ht,[_e.SPHERICAL_ECEF]:rs,[_e.SPHERICAL_MARS_PCPF]:Fi,[_e.SPHERICAL_MOON_PCPF]:kr,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:an,[_e.PLATE_CARREE]:Mt,[_e.WGS84]:Ht,[_e.WGS84_ECEF]:gi},[_e.WGS84_COMPARABLE_LON_LAT]:{[_e.CGCS2000]:null,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Ht,[_e.WGS84_COMPARABLE_LON_LAT]:Ht,[_e.SPHERICAL_ECEF]:rs,[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:null,[_e.PLATE_CARREE]:Mt,[_e.WGS84]:Ht,[_e.WGS84_ECEF]:gi},[_e.PLATE_CARREE]:{[_e.CGCS2000]:Bt,[_e.GCSMARS2000]:null,[_e.GCSMOON2000]:null,[_e.LON_LAT]:Bt,[_e.WGS84_COMPARABLE_LON_LAT]:Bt,[_e.SPHERICAL_ECEF]:function Bn(rn,gn,kt,An){Bt(rn,gn,kt,An),rs(kt,An,kt,An)},[_e.SPHERICAL_MARS_PCPF]:null,[_e.SPHERICAL_MOON_PCPF]:null,[_e.UNKNOWN]:null,[_e.WEB_MERCATOR]:function er(rn,gn,kt,An){Bt(rn,gn,kt,An),an(kt,An,kt,An)},[_e.PLATE_CARREE]:Ht,[_e.WGS84]:Bt,[_e.WGS84_ECEF]:function or(rn,gn,kt,An){Bt(rn,gn,kt,An),gi(kt,An,kt,An)}}};function ut(rn,gn,kt=Pn()){return(0,G.Wi)(rn)||(0,G.Wi)(gn)?null:function Zn(rn,gn,kt){if((0,G.Wi)(rn)||(0,G.Wi)(gn)||kt.source.spatialReference===rn&&kt.dest.spatialReference===gn)return kt;const An=$n(rn,kt.source),fr=$n(gn,kt.dest);return kt.projector=An===_e.UNKNOWN&&fr===_e.UNKNOWN?(0,Y.fS)(rn,gn)?Ht:null:ps[An][fr],kt}(rn,gn,kt).projector}function Pn(){return{source:{spatialReference:null,spatialReferenceId:_e.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:_e.UNKNOWN,metersPerUnit:1},projector:Ht}}const yr={spatialReference:null,spatialReferenceId:_e.UNKNOWN},Pr={spatialReference:null,spatialReferenceId:_e.UNKNOWN},ni=Pn(),Lr=(Pn(),(0,X.Vl)(1)),Oi=(0,X.BV)(1),li=(0,Q.c)(),yi=(0,Q.c)(),Un=(0,Q.c)(),Qr=(0,Q.c)();(0,Q.c)()},12080:(wt,Se,p)=>{"use strict";p.d(Se,{GG:()=>z,HQ:()=>Z,Iu:()=>Q,VY:()=>D,e8:()=>ne,rS:()=>B,wY:()=>k});var d=p(65234),v=p(94425),X=p(37053);function G(te){return new d.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${te.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const z=G(v.sv),Z=G(v.yr),D=G(v.Z1),k=new d.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${v.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function B(te){return te&&((0,X.BZ)(te)||te===Z)?Z:te&&((0,X.V2)(te)||te===D)?D:z}function Q(te){return te&&((0,X.BZ)(te)||te===Z)?v.yr:te&&((0,X.V2)(te)||te===D)?v.Z1:v.sv}function ne(te){return(0,X.o$)(te)?v.yr:(0,X.ME)(te)?v.Z1:v.sv}},94425:(wt,Se,p)=>{"use strict";p.d(Se,{Z1:()=>G,sv:()=>v,yr:()=>X});class d{constructor(Z,D,k,N){this.semiMajorAxis=Z,this.flattening=D,this.outerAtmosphereRimWidth=k,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=N||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const v=new d(6378137,1/298.257223563,3e5,.006694379990137799),X=new d(3396190,1/169.8944472236118,23e4),G=new d(1737400,0,0)},98346:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>X});let d=0;class v{constructor(z=null){this.uid=d++,z?(this._wkt=void 0!==z.wkt?z.wkt:null,this._wkid=void 0!==z.wkid?z.wkid:-1,this._isInverse=void 0!==z.isInverse&&!0===z.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(z){const Z=new v;return Z._wkt=z.wkt,Z._wkid=z.wkid,Z._isInverse=z.isInverse,Z}get wkt(){return this._wkt}set wkt(z){this._wkt=z,this.uid=d++}get wkid(){return this._wkid}set wkid(z){this._wkid=z,this.uid=d++}get isInverse(){return this._isInverse}set isInverse(z){this._isInverse=z,this.uid=d++}getInverse(){const z=new v;return z._wkt=this.wkt,z._wkid=this._wkid,z._isInverse=!this.isInverse,z}}class X{constructor(z){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,z&&z.steps)for(const Z of z.steps)this.steps.push(Z instanceof v?Z:new v({wkid:Z.wkid,wkt:Z.wkt,isInverse:Z.isInverse}))}static cacheKey(z,Z){return[null!=z.wkid?z.wkid.toString():"-1",null!=z.wkt?z.wkt.toString():"",null!=Z.wkid?Z.wkid.toString():"-1",null!=Z.wkt?Z.wkt.toString():""].join(",")}static fromGE(z){const Z=new X;let D="";for(const k of z.steps){const N=v.fromGE(k);Z.steps.push(N),D+=N.uid.toString()+","}return Z._cached_projection={},Z._gtlistentry=null,Z._chain=D,Z}getInverse(){const z=new X;z.steps=[];for(let Z=this.steps.length-1;Z>=0;Z--)z.steps.push(this.steps[Z].getInverse());return z}getGTListEntry(){let z="";for(const Z of this.steps)z+=Z.uid.toString()+",";return z!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=z),this._gtlistentry}assignCachedGe(z,Z,D){this._cached_projection[X.cacheKey(z,Z)]=D}getCachedGeTransformation(z,Z){let D="";for(const N of this.steps)D+=N.uid.toString()+",";D!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=D);const k=this._cached_projection[X.cacheKey(z,Z)];return void 0===k?null:k}}},6178:(wt,Se,p)=>{"use strict";var d,v;p.d(Se,{W:()=>d}),(v=d||(d={}))[v.CGCS2000=4490]="CGCS2000",v[v.GCSMARS2000=104971]="GCSMARS2000",v[v.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",v[v.GCSMOON2000=104903]="GCSMOON2000"},84029:(wt,Se,p)=>{"use strict";let d;p.d(Se,{Z:()=>v});const v={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(d=2e3;d<=2045;d++)v[d]=0;for(d=2056;d<=2065;d++)v[d]=0;for(d=2067;d<=2135;d++)v[d]=0;for(d=2137;d<=2154;d++)v[d]=0;for(d=2161;d<=2170;d++)v[d]=0;for(d=2172;d<=2193;d++)v[d]=0;for(d=2195;d<=2198;d++)v[d]=0;for(d=2200;d<=2203;d++)v[d]=0;for(d=2205;d<=2217;d++)v[d]=0;for(d=2222;d<=2224;d++)v[d]=1;for(d=2225;d<=2250;d++)v[d]=2;for(d=2251;d<=2253;d++)v[d]=1;for(d=2257;d<=2264;d++)v[d]=2;for(d=2274;d<=2279;d++)v[d]=2;for(d=2280;d<=2282;d++)v[d]=1;for(d=2283;d<=2289;d++)v[d]=2;for(d=2290;d<=2292;d++)v[d]=0;for(d=2308;d<=2313;d++)v[d]=0;for(d=2315;d<=2491;d++)v[d]=0;for(d=2494;d<=2866;d++)v[d]=0;for(d=2867;d<=2869;d++)v[d]=1;for(d=2870;d<=2888;d++)v[d]=2;for(d=2891;d<=2895;d++)v[d]=2;for(d=2896;d<=2898;d++)v[d]=1;for(d=2902;d<=2908;d++)v[d]=2;for(d=2915;d<=2920;d++)v[d]=2;for(d=2921;d<=2923;d++)v[d]=1;for(d=2924;d<=2930;d++)v[d]=2;for(d=2931;d<=2962;d++)v[d]=0;for(d=2964;d<=2968;d++)v[d]=2;for(d=2969;d<=2973;d++)v[d]=0;for(d=2975;d<=2991;d++)v[d]=0;for(d=2995;d<=3051;d++)v[d]=0;for(d=3054;d<=3079;d++)v[d]=0;for(d=3081;d<=3088;d++)v[d]=0;for(d=3092;d<=3101;d++)v[d]=0;for(d=3106;d<=3138;d++)v[d]=0;for(d=3146;d<=3151;d++)v[d]=0;for(d=3153;d<=3166;d++)v[d]=0;for(d=3168;d<=3172;d++)v[d]=0;for(d=3174;d<=3203;d++)v[d]=0;for(d=3294;d<=3358;d++)v[d]=0;for(d=3367;d<=3403;d++)v[d]=0;for(d=3408;d<=3416;d++)v[d]=0;for(d=3417;d<=3438;d++)v[d]=2;for(d=3441;d<=3446;d++)v[d]=2;for(d=3447;d<=3450;d++)v[d]=0;for(d=3451;d<=3459;d++)v[d]=2;for(d=3460;d<=3478;d++)v[d]=0;for(d=3554;d<=3559;d++)v[d]=0;for(d=3560;d<=3570;d++)v[d]=2;for(d=3571;d<=3581;d++)v[d]=0;for(d=3594;d<=3597;d++)v[d]=0;for(d=3601;d<=3604;d++)v[d]=0;for(d=3637;d<=3639;d++)v[d]=0;for(d=3665;d<=3667;d++)v[d]=0;for(d=3693;d<=3695;d++)v[d]=0;for(d=3701;d<=3727;d++)v[d]=0;for(d=3728;d<=3739;d++)v[d]=2;for(d=3740;d<=3751;d++)v[d]=0;for(d=3753;d<=3760;d++)v[d]=2;for(d=3761;d<=3773;d++)v[d]=0;for(d=3775;d<=3777;d++)v[d]=0;for(d=3779;d<=3781;d++)v[d]=0;for(d=3783;d<=3785;d++)v[d]=0;for(d=3788;d<=3791;d++)v[d]=0;for(d=3797;d<=3802;d++)v[d]=0;for(d=3814;d<=3816;d++)v[d]=0;for(d=3825;d<=3829;d++)v[d]=0;for(d=3832;d<=3841;d++)v[d]=0;for(d=3844;d<=3852;d++)v[d]=0;for(d=3873;d<=3885;d++)v[d]=0;for(d=3890;d<=3893;d++)v[d]=0;for(d=3907;d<=3912;d++)v[d]=0;for(d=3942;d<=3950;d++)v[d]=0;for(d=3968;d<=3970;d++)v[d]=0;for(d=3973;d<=3976;d++)v[d]=0;for(d=3986;d<=3989;d++)v[d]=0;for(d=3994;d<=3997;d++)v[d]=0;for(d=4048;d<=4051;d++)v[d]=0;for(d=4056;d<=4063;d++)v[d]=0;for(d=4093;d<=4096;d++)v[d]=0;for(d=4390;d<=4398;d++)v[d]=0;for(d=4399;d<=4413;d++)v[d]=2;for(d=4418;d<=4433;d++)v[d]=2;for(d=4455;d<=4457;d++)v[d]=2;for(d=4484;d<=4489;d++)v[d]=0;for(d=4491;d<=4554;d++)v[d]=0;for(d=4568;d<=4589;d++)v[d]=0;for(d=4652;d<=4656;d++)v[d]=0;for(d=4766;d<=4800;d++)v[d]=0;for(d=5014;d<=5016;d++)v[d]=0;for(d=5069;d<=5072;d++)v[d]=0;for(d=5105;d<=5130;d++)v[d]=0;for(d=5173;d<=5188;d++)v[d]=0;for(d=5253;d<=5259;d++)v[d]=0;for(d=5269;d<=5275;d++)v[d]=0;for(d=5292;d<=5311;d++)v[d]=0;for(d=5329;d<=5331;d++)v[d]=0;for(d=5343;d<=5349;d++)v[d]=0;for(d=5355;d<=5357;d++)v[d]=0;for(d=5387;d<=5389;d++)v[d]=0;for(d=5459;d<=5463;d++)v[d]=0;for(d=5479;d<=5482;d++)v[d]=0;for(d=5518;d<=5520;d++)v[d]=0;for(d=5530;d<=5539;d++)v[d]=0;for(d=5550;d<=5552;d++)v[d]=0;for(d=5562;d<=5583;d++)v[d]=0;for(d=5623;d<=5625;d++)v[d]=2;for(d=5631;d<=5639;d++)v[d]=0;for(d=5649;d<=5653;d++)v[d]=0;for(d=5663;d<=5680;d++)v[d]=0;for(d=5682;d<=5685;d++)v[d]=0;for(d=5875;d<=5877;d++)v[d]=0;for(d=5896;d<=5899;d++)v[d]=0;for(d=5921;d<=5940;d++)v[d]=0;for(d=6050;d<=6125;d++)v[d]=0;for(d=6244;d<=6275;d++)v[d]=0;for(d=6328;d<=6348;d++)v[d]=0;for(d=6350;d<=6356;d++)v[d]=0;for(d=6366;d<=6372;d++)v[d]=0;for(d=6381;d<=6387;d++)v[d]=0;for(d=6393;d<=6404;d++)v[d]=0;for(d=6480;d<=6483;d++)v[d]=0;for(d=6511;d<=6514;d++)v[d]=0;for(d=6579;d<=6581;d++)v[d]=0;for(d=6619;d<=6624;d++)v[d]=0;for(d=6625;d<=6627;d++)v[d]=2;for(d=6628;d<=6632;d++)v[d]=0;for(d=6634;d<=6637;d++)v[d]=0;for(d=6669;d<=6692;d++)v[d]=0;for(d=6707;d<=6709;d++)v[d]=0;for(d=6720;d<=6723;d++)v[d]=0;for(d=6732;d<=6738;d++)v[d]=0;for(d=6931;d<=6933;d++)v[d]=0;for(d=6956;d<=6959;d++)v[d]=0;for(d=7005;d<=7007;d++)v[d]=0;for(d=7057;d<=7070;d++)v[d]=2;for(d=7074;d<=7082;d++)v[d]=0;for(d=7109;d<=7118;d++)v[d]=0;for(d=7119;d<=7127;d++)v[d]=1;for(d=7374;d<=7376;d++)v[d]=0;for(d=7528;d<=7586;d++)v[d]=0;for(d=7587;d<=7645;d++)v[d]=2;for(d=7692;d<=7696;d++)v[d]=0;for(d=7755;d<=7787;d++)v[d]=0;for(d=7791;d<=7795;d++)v[d]=0;for(d=7799;d<=7801;d++)v[d]=0;for(d=7803;d<=7805;d++)v[d]=0;for(d=7825;d<=7831;d++)v[d]=0;for(d=7845;d<=7859;d++)v[d]=0;for(d=8013;d<=8032;d++)v[d]=0;for(d=8065;d<=8068;d++)v[d]=1;for(d=8518;d<=8529;d++)v[d]=2;for(d=8533;d<=8536;d++)v[d]=2;for(d=8538;d<=8540;d++)v[d]=2;for(d=8677;d<=8679;d++)v[d]=0;for(d=8836;d<=8840;d++)v[d]=0;for(d=8857;d<=8859;d++)v[d]=0;for(d=8908;d<=8910;d++)v[d]=0;for(d=9154;d<=9159;d++)v[d]=0;for(d=9205;d<=9218;d++)v[d]=0;for(d=9271;d<=9273;d++)v[d]=0;for(d=9295;d<=9297;d++)v[d]=0;for(d=9356;d<=9360;d++)v[d]=0;for(d=9404;d<=9407;d++)v[d]=0;for(d=9476;d<=9482;d++)v[d]=0;for(d=9487;d<=9494;d++)v[d]=0;for(d=9697;d<=9699;d++)v[d]=0;for(d=20002;d<=20032;d++)v[d]=0;for(d=20062;d<=20092;d++)v[d]=0;for(d=20135;d<=20138;d++)v[d]=0;for(d=20248;d<=20258;d++)v[d]=0;for(d=20348;d<=20358;d++)v[d]=0;for(d=20436;d<=20440;d++)v[d]=0;for(d=20822;d<=20824;d++)v[d]=0;for(d=20904;d<=20932;d++)v[d]=0;for(d=20934;d<=20936;d++)v[d]=0;for(d=21004;d<=21032;d++)v[d]=0;for(d=21035;d<=21037;d++)v[d]=0;for(d=21095;d<=21097;d++)v[d]=0;for(d=21148;d<=21150;d++)v[d]=0;for(d=21207;d<=21264;d++)v[d]=0;for(d=21307;d<=21364;d++)v[d]=0;for(d=21413;d<=21423;d++)v[d]=0;for(d=21453;d<=21463;d++)v[d]=0;for(d=21473;d<=21483;d++)v[d]=0;for(d=21780;d<=21782;d++)v[d]=0;for(d=21891;d<=21894;d++)v[d]=0;for(d=21896;d<=21899;d++)v[d]=0;for(d=22171;d<=22177;d++)v[d]=0;for(d=22181;d<=22187;d++)v[d]=0;for(d=22191;d<=22197;d++)v[d]=0;for(d=22234;d<=22236;d++)v[d]=0;for(d=22521;d<=22525;d++)v[d]=0;for(d=22991;d<=22994;d++)v[d]=0;for(d=23028;d<=23038;d++)v[d]=0;for(d=23830;d<=23853;d++)v[d]=0;for(d=23866;d<=23872;d++)v[d]=0;for(d=23877;d<=23884;d++)v[d]=0;for(d=23886;d<=23894;d++)v[d]=0;for(d=23946;d<=23948;d++)v[d]=0;for(d=24311;d<=24313;d++)v[d]=0;for(d=24342;d<=24347;d++)v[d]=0;for(d=24370;d<=24374;d++)v[d]=10;for(d=24375;d<=24381;d++)v[d]=0;for(d=24718;d<=24721;d++)v[d]=0;for(d=24817;d<=24821;d++)v[d]=0;for(d=24877;d<=24882;d++)v[d]=0;for(d=24891;d<=24893;d++)v[d]=0;for(d=25391;d<=25395;d++)v[d]=0;for(d=25828;d<=25838;d++)v[d]=0;for(d=26191;d<=26195;d++)v[d]=0;for(d=26391;d<=26393;d++)v[d]=0;for(d=26701;d<=26722;d++)v[d]=0;for(d=26729;d<=26799;d++)v[d]=2;for(d=26801;d<=26803;d++)v[d]=2;for(d=26811;d<=26813;d++)v[d]=2;for(d=26847;d<=26870;d++)v[d]=2;for(d=26891;d<=26899;d++)v[d]=0;for(d=26901;d<=26923;d++)v[d]=0;for(d=26929;d<=26946;d++)v[d]=0;for(d=26948;d<=26998;d++)v[d]=0;for(d=27037;d<=27040;d++)v[d]=0;for(d=27205;d<=27232;d++)v[d]=0;for(d=27258;d<=27260;d++)v[d]=0;for(d=27391;d<=27398;d++)v[d]=0;for(d=27561;d<=27564;d++)v[d]=0;for(d=27571;d<=27574;d++)v[d]=0;for(d=27581;d<=27584;d++)v[d]=0;for(d=27591;d<=27594;d++)v[d]=0;for(d=28191;d<=28193;d++)v[d]=0;for(d=28348;d<=28358;d++)v[d]=0;for(d=28402;d<=28432;d++)v[d]=0;for(d=28462;d<=28492;d++)v[d]=0;for(d=29118;d<=29122;d++)v[d]=0;for(d=29168;d<=29172;d++)v[d]=0;for(d=29177;d<=29185;d++)v[d]=0;for(d=29187;d<=29195;d++)v[d]=0;for(d=29900;d<=29903;d++)v[d]=0;for(d=30161;d<=30179;d++)v[d]=0;for(d=30491;d<=30494;d++)v[d]=0;for(d=30729;d<=30732;d++)v[d]=0;for(d=31251;d<=31259;d++)v[d]=0;for(d=31265;d<=31268;d++)v[d]=0;for(d=31275;d<=31279;d++)v[d]=0;for(d=31281;d<=31297;d++)v[d]=0;for(d=31461;d<=31469;d++)v[d]=0;for(d=31491;d<=31495;d++)v[d]=0;for(d=31917;d<=31922;d++)v[d]=0;for(d=31965;d<=32e3;d++)v[d]=0;for(d=32001;d<=32003;d++)v[d]=2;for(d=32005;d<=32031;d++)v[d]=2;for(d=32033;d<=32060;d++)v[d]=2;for(d=32064;d<=32067;d++)v[d]=2;for(d=32074;d<=32077;d++)v[d]=2;for(d=32081;d<=32086;d++)v[d]=0;for(d=32107;d<=32130;d++)v[d]=0;for(d=32133;d<=32158;d++)v[d]=0;for(d=32164;d<=32167;d++)v[d]=2;for(d=32180;d<=32199;d++)v[d]=0;for(d=32201;d<=32260;d++)v[d]=0;for(d=32301;d<=32360;d++)v[d]=0;for(d=32601;d<=32662;d++)v[d]=0;for(d=32664;d<=32667;d++)v[d]=2;for(d=32701;d<=32761;d++)v[d]=0;for(d=53001;d<=53004;d++)v[d]=0;for(d=53008;d<=53019;d++)v[d]=0;for(d=53021;d<=53032;d++)v[d]=0;for(d=53034;d<=53037;d++)v[d]=0;for(d=53042;d<=53046;d++)v[d]=0;for(d=53074;d<=53080;d++)v[d]=0;for(d=54001;d<=54004;d++)v[d]=0;for(d=54008;d<=54019;d++)v[d]=0;for(d=54021;d<=54032;d++)v[d]=0;for(d=54034;d<=54037;d++)v[d]=0;for(d=54042;d<=54046;d++)v[d]=0;for(d=54048;d<=54053;d++)v[d]=0;for(d=54074;d<=54080;d++)v[d]=0;for(d=54098;d<=54101;d++)v[d]=0;for(d=102001;d<=102040;d++)v[d]=0;for(d=102042;d<=102063;d++)v[d]=0;for(d=102065;d<=102067;d++)v[d]=0;for(d=102070;d<=102117;d++)v[d]=0;for(d=102122;d<=102216;d++)v[d]=0;for(d=102221;d<=102377;d++)v[d]=0;for(d=102382;d<=102388;d++)v[d]=0;for(d=102389;d<=102398;d++)v[d]=2;for(d=102399;d<=102444;d++)v[d]=0;for(d=102445;d<=102447;d++)v[d]=2;for(d=102448;d<=102458;d++)v[d]=0;for(d=102459;d<=102468;d++)v[d]=2;for(d=102469;d<=102499;d++)v[d]=0;for(d=102500;d<=102519;d++)v[d]=1;for(d=102520;d<=102524;d++)v[d]=0;for(d=102525;d<=102529;d++)v[d]=2;for(d=102530;d<=102588;d++)v[d]=0;for(d=102590;d<=102598;d++)v[d]=0;for(d=102601;d<=102603;d++)v[d]=0;for(d=102605;d<=102628;d++)v[d]=0;for(d=102629;d<=102646;d++)v[d]=2;for(d=102648;d<=102700;d++)v[d]=2;for(d=102701;d<=102703;d++)v[d]=0;for(d=102707;d<=102730;d++)v[d]=2;for(d=102733;d<=102758;d++)v[d]=2;for(d=102767;d<=102900;d++)v[d]=0;for(d=102901;d<=102933;d++)v[d]=2;for(d=102934;d<=102950;d++)v[d]=13;for(d=102951;d<=102955;d++)v[d]=0;for(d=102961;d<=102963;d++)v[d]=0;for(d=102965;d<=102969;d++)v[d]=0;for(d=102971;d<=102973;d++)v[d]=0;for(d=102975;d<=102989;d++)v[d]=0;for(d=102990;d<=102992;d++)v[d]=1;for(d=102997;d<=103002;d++)v[d]=0;for(d=103003;d<=103008;d++)v[d]=2;for(d=103009;d<=103011;d++)v[d]=0;for(d=103012;d<=103014;d++)v[d]=2;for(d=103019;d<=103021;d++)v[d]=0;for(d=103022;d<=103024;d++)v[d]=2;for(d=103029;d<=103031;d++)v[d]=0;for(d=103032;d<=103034;d++)v[d]=2;for(d=103065;d<=103068;d++)v[d]=0;for(d=103074;d<=103076;d++)v[d]=0;for(d=103077;d<=103079;d++)v[d]=1;for(d=103080;d<=103082;d++)v[d]=0;for(d=103083;d<=103085;d++)v[d]=2;for(d=103090;d<=103093;d++)v[d]=0;for(d=103097;d<=103099;d++)v[d]=0;for(d=103100;d<=103102;d++)v[d]=2;for(d=103107;d<=103109;d++)v[d]=0;for(d=103110;d<=103112;d++)v[d]=2;for(d=103113;d<=103116;d++)v[d]=0;for(d=103117;d<=103120;d++)v[d]=2;for(d=103153;d<=103157;d++)v[d]=0;for(d=103158;d<=103162;d++)v[d]=2;for(d=103163;d<=103165;d++)v[d]=0;for(d=103166;d<=103168;d++)v[d]=1;for(d=103169;d<=103171;d++)v[d]=2;for(d=103186;d<=103188;d++)v[d]=0;for(d=103189;d<=103191;d++)v[d]=2;for(d=103192;d<=103195;d++)v[d]=0;for(d=103196;d<=103199;d++)v[d]=2;for(d=103200;d<=103224;d++)v[d]=0;for(d=103225;d<=103227;d++)v[d]=1;for(d=103232;d<=103237;d++)v[d]=0;for(d=103238;d<=103243;d++)v[d]=2;for(d=103244;d<=103246;d++)v[d]=0;for(d=103247;d<=103249;d++)v[d]=2;for(d=103254;d<=103256;d++)v[d]=0;for(d=103257;d<=103259;d++)v[d]=2;for(d=103264;d<=103266;d++)v[d]=0;for(d=103267;d<=103269;d++)v[d]=2;for(d=103300;d<=103375;d++)v[d]=0;for(d=103381;d<=103383;d++)v[d]=0;for(d=103384;d<=103386;d++)v[d]=1;for(d=103387;d<=103389;d++)v[d]=0;for(d=103390;d<=103392;d++)v[d]=2;for(d=103397;d<=103399;d++)v[d]=0;for(d=103400;d<=103471;d++)v[d]=2;for(d=103476;d<=103478;d++)v[d]=0;for(d=103479;d<=103481;d++)v[d]=2;for(d=103486;d<=103488;d++)v[d]=0;for(d=103489;d<=103491;d++)v[d]=2;for(d=103492;d<=103495;d++)v[d]=0;for(d=103496;d<=103499;d++)v[d]=2;for(d=103528;d<=103543;d++)v[d]=0;for(d=103544;d<=103548;d++)v[d]=2;for(d=103549;d<=103551;d++)v[d]=0;for(d=103552;d<=103554;d++)v[d]=1;for(d=103555;d<=103557;d++)v[d]=2;for(d=103558;d<=103560;d++)v[d]=0;for(d=103571;d<=103573;d++)v[d]=0;for(d=103574;d<=103576;d++)v[d]=2;for(d=103577;d<=103580;d++)v[d]=0;for(d=103581;d<=103583;d++)v[d]=2;for(d=103595;d<=103694;d++)v[d]=0;for(d=103696;d<=103699;d++)v[d]=0;for(d=103700;d<=103793;d++)v[d]=2;for(d=103794;d<=103887;d++)v[d]=0;for(d=103900;d<=103971;d++)v[d]=2},5548:(wt,Se,p)=>{"use strict";p.d(Se,{Gv:()=>xe,HH:()=>k,JR:()=>je,TC:()=>B,Tn:()=>De,Ue:()=>z,al:()=>Z,cS:()=>ve,dp:()=>J,fS:()=>nt,op:()=>Ce,pp:()=>ne,t8:()=>Me});var d=p(62208),v=p(2004);function z(Fe=Ye){return[Fe[0],Fe[1],Fe[2],Fe[3],Fe[4],Fe[5]]}function Z(Fe,Ze,ct,we,Be,Je,$e=z()){return $e[0]=Fe,$e[1]=Ze,$e[2]=ct,$e[3]=we,$e[4]=Be,$e[5]=Je,$e}function k(Fe,Ze){const ct=isFinite(Fe[2])||isFinite(Fe[5]);return new v.Z(ct?{xmin:Fe[0],xmax:Fe[3],ymin:Fe[1],ymax:Fe[4],zmin:Fe[2],zmax:Fe[5],spatialReference:Ze}:{xmin:Fe[0],xmax:Fe[3],ymin:Fe[1],ymax:Fe[4],spatialReference:Ze})}function B(Fe,Ze){Fe[0]=Math.min(Fe[0],Ze[0]),Fe[1]=Math.min(Fe[1],Ze[1]),Fe[2]=Math.min(Fe[2],Ze[2]),Fe[3]=Math.max(Fe[3],Ze[3]),Fe[4]=Math.max(Fe[4],Ze[4]),Fe[5]=Math.max(Fe[5],Ze[5])}function ne(Fe,Ze){Fe[0]=Math.min(Fe[0],Ze[0]),Fe[1]=Math.min(Fe[1],Ze[1]),Fe[2]=Math.min(Fe[2],Ze[2]),Fe[3]=Math.max(Fe[3],Ze[0]),Fe[4]=Math.max(Fe[4],Ze[1]),Fe[5]=Math.max(Fe[5],Ze[2])}function J(Fe,Ze=[0,0,0]){return Ze[0]=function F(Fe){return Fe[0]>=Fe[3]?0:Fe[3]-Fe[0]}(Fe),Ze[1]=function R(Fe){return Fe[1]>=Fe[4]?0:Fe[4]-Fe[1]}(Fe),Ze[2]=function U(Fe){return Fe[2]>=Fe[5]?0:Fe[5]-Fe[2]}(Fe),Ze}function Ce(Fe,Ze,ct=Fe){return ct[0]=Ze[0],ct[1]=Ze[1],ct[2]=Ze[2],ct!==Fe&&(ct[3]=Fe[3],ct[4]=Fe[4],ct[5]=Fe[5]),ct}function De(Fe,Ze,ct=Fe){return ct[3]=Ze[0],ct[4]=Ze[1],ct[5]=Ze[2],ct!==Fe&&(ct[0]=Fe[0],ct[1]=Fe[1],ct[2]=Fe[2]),Fe}function Me(Fe,Ze){return Fe[0]=Ze[0],Fe[1]=Ze[1],Fe[2]=Ze[2],Fe[3]=Ze[3],Fe[4]=Ze[4],Fe[5]=Ze[5],Fe}function ve(Fe){return Fe?Me(Fe,xe):z(xe)}function je(Fe,Ze){return Fe[0]=Ze[0],Fe[1]=Ze[1],Fe[2]=Number.NEGATIVE_INFINITY,Fe[3]=Ze[2],Fe[4]=Ze[3],Fe[5]=Number.POSITIVE_INFINITY,Fe}function _e(Fe){return 6===Fe.length}function nt(Fe,Ze,ct){if((0,d.Wi)(Fe)||(0,d.Wi)(Ze))return Fe===Ze;if(!_e(Fe)||!_e(Ze))return!1;if(ct){for(let we=0;we<Fe.length;we++)if(!ct(Fe[we],Ze[we]))return!1}else for(let we=0;we<Fe.length;we++)if(Fe[we]!==Ze[we])return!1;return!0}p(65401);const xe=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Ye=[0,0,0,0,0,0];z()},65401:(wt,Se,p)=>{"use strict";p.d(Se,{BD:()=>A,Cb:()=>F,HH:()=>Q,Ho:()=>ne,SO:()=>R,Ue:()=>Z,Zm:()=>le,al:()=>N,bf:()=>$,cS:()=>ve,d9:()=>D,jE:()=>oe,kK:()=>de,oJ:()=>B,r3:()=>q}),p(8314),p(21286);var X=p(62208),G=p(2004);function Z(xe=pt){return[xe[0],xe[1],xe[2],xe[3]]}function D(xe){return[xe[0],xe[1],xe[2],xe[3]]}function N(xe,Ye,Ke,Fe,Ze=Z()){return Ze[0]=xe,Ze[1]=Ye,Ze[2]=Ke,Ze[3]=Fe,Ze}function B(xe,Ye=Z()){return Ye[0]=xe.xmin,Ye[1]=xe.ymin,Ye[2]=xe.xmax,Ye[3]=xe.ymax,Ye}function Q(xe,Ye){return new G.Z({xmin:xe[0],ymin:xe[1],xmax:xe[2],ymax:xe[3],spatialReference:Ye})}function ne(xe,Ye){Ye[0]<xe[0]&&(xe[0]=Ye[0]),Ye[0]>xe[2]&&(xe[2]=Ye[0]),Ye[1]<xe[1]&&(xe[1]=Ye[1]),Ye[1]>xe[3]&&(xe[3]=Ye[1])}function $(xe){return(0,X.Wi)(xe)||xe[0]>=xe[2]?0:xe[2]-xe[0]}function F(xe){return xe[1]>=xe[3]?0:xe[3]-xe[1]}function R(xe){return $(xe)*F(xe)}function A(xe,Ye){return oe(xe,Ye[0],Ye[1])}function oe(xe,Ye,Ke){return Ye>=xe[0]&&Ke>=xe[1]&&Ye<=xe[2]&&Ke<=xe[3]}function le(xe,Ye,Ke){return Ye[0]>=xe[0]-Ke&&Ye[1]>=xe[1]-Ke&&Ye[0]<=xe[2]+Ke&&Ye[1]<=xe[3]+Ke}function de(xe,Ye){return Math.max(Ye[0],xe[0])<=Math.min(Ye[2],xe[2])&&Math.max(Ye[1],xe[1])<=Math.min(Ye[3],xe[3])}function q(xe,Ye){return Ye[0]>=xe[0]&&Ye[2]<=xe[2]&&Ye[1]>=xe[1]&&Ye[3]<=xe[3]}function ve(xe){return xe?function k(xe,Ye){return xe!==Ye&&(xe[0]=Ye[0],xe[1]=Ye[1],xe[2]=Ye[2],xe[3]=Ye[3]),xe}(xe,nt):Z(nt)}const nt=[1/0,1/0,-1/0,-1/0],pt=[0,0,0,0]},32442:(wt,Se,p)=>{"use strict";function d($){return void 0!==$.xmin&&void 0!==$.ymin&&void 0!==$.xmax&&void 0!==$.ymax}function v($){return void 0!==$.points}function X($){return void 0!==$.x&&void 0!==$.y}function G($){return void 0!==$.paths}function z($){return void 0!==$.rings}function Z($){return(F,R)=>null==F?R:null==R?F:$(F,R)}p.d(Se,{$P:()=>N,C6:()=>Q,Yg:()=>B,lC:()=>te});const D=Z(Math.min),k=Z(Math.max);function N($,F){return G(F)?Q($,F.paths,!1,!1):z(F)?Q($,F.rings,!1,!1):v(F)?te($,F.points,!1,!1,!1,!1):d(F)?ne($,F):(X(F)&&($[0]=F.x,$[1]=F.y,$[2]=F.x,$[3]=F.y),$)}function B($,F){return G(F)?Q($,F.paths,!0,!1):z(F)?Q($,F.rings,!0,!1):v(F)?te($,F.points,!0,!1,!0,!1):d(F)?ne($,F,0,0,!0,!1):(X(F)&&($[0]=F.x,$[1]=F.y,$[2]=F.z,$[3]=F.x,$[4]=F.y,$[5]=F.z),$)}function Q($,F,R,U){const A=R?3:2;if(!F.length||!F[0].length)return null;let V,J,Y,oe,[se,le]=F[0][0],[de,q]=F[0][0];for(let ue=0;ue<F.length;ue++){const ie=F[ue];for(let ye=0;ye<ie.length;ye++){const pe=ie[ye],[Ce,De]=pe;if(se=D(se,Ce),le=D(le,De),de=k(de,Ce),q=k(q,De),R&&pe.length>2){const Me=pe[2];V=D(V,Me),J=k(J,Me)}if(U&&pe.length>A){const Me=pe[A];Y=D(V,Me),oe=k(J,Me)}}}return R?U?($[0]=se,$[1]=le,$[2]=V,$[3]=Y,$[4]=de,$[5]=q,$[6]=J,$[7]=oe,$.length=8,$):($[0]=se,$[1]=le,$[2]=V,$[3]=de,$[4]=q,$[5]=J,$.length=6,$):U?($[0]=se,$[1]=le,$[2]=Y,$[3]=de,$[4]=q,$[5]=oe,$.length=6,$):($[0]=se,$[1]=le,$[2]=de,$[3]=q,$.length=4,$)}function ne($,F,R,U,A,V){const J=F.xmin,Y=F.xmax,oe=F.ymin,se=F.ymax;let le=F.zmin,de=F.zmax,q=F.mmin,ue=F.mmax;return A?(le=le||0,de=de||0,V?(q=q||0,ue=ue||0,$[0]=J,$[1]=oe,$[2]=le,$[3]=q,$[4]=Y,$[5]=se,$[6]=de,$[7]=ue,$):($[0]=J,$[1]=oe,$[2]=le,$[3]=Y,$[4]=se,$[5]=de,$)):V?(q=q||0,ue=ue||0,$[0]=J,$[1]=oe,$[2]=q,$[3]=Y,$[4]=se,$[5]=ue,$):($[0]=J,$[1]=oe,$[2]=Y,$[3]=se,$)}function te($,F,R,U,A,V){const J=R?3:2,Y=U&&V,oe=R&&A;if(!F.length||!F[0].length)return null;let se,le,de,q,[ue,ie]=F[0],[ye,pe]=F[0];for(let Ce=0;Ce<F.length;Ce++){const De=F[Ce],[Me,ve]=De;if(ue=D(ue,Me),ie=D(ie,ve),ye=k(ye,Me),pe=k(pe,ve),oe&&De.length>2){const Le=De[2];se=D(se,Le),le=k(le,Le)}if(Y&&De.length>J){const Le=De[J];de=D(se,Le),q=k(le,Le)}}return A?(se=se||0,le=le||0,V?(de=de||0,q=q||0,$[0]=ue,$[1]=ie,$[2]=se,$[3]=de,$[4]=ye,$[5]=pe,$[6]=le,$[7]=q,$):($[0]=ue,$[1]=ie,$[2]=se,$[3]=ye,$[4]=pe,$[5]=le,$)):V?(de=de||0,q=q||0,$[0]=ue,$[1]=ie,$[2]=de,$[3]=ye,$[4]=pe,$[5]=q,$):($[0]=ue,$[1]=ie,$[2]=ye,$[3]=pe,$)}},27105:(wt,Se,p)=>{"use strict";p.d(Se,{$G:()=>v,tO:()=>X});var d=p(25748);function v(D){return D?D.hasZ?[D.xmax-D.xmin/2,D.ymax-D.ymin/2,D.zmax-D.zmin/2]:[D.xmax-D.xmin/2,D.ymax-D.ymin/2]:null}function X(D){return D?function G(D,k){if(!D||!D.length)return null;const N=[],B=[],Q=k?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let ne=0,te=D.length;ne<te;ne++){const ae=z(D[ne],k,Q);ae&&B.push(ae)}if(B.sort((ne,te)=>{let ae=ne[2]-te[2];return 0===ae&&k&&(ae=ne[4]-te[4]),ae}),B.length&&(N[0]=B[0][0],N[1]=B[0][1],k&&(N[2]=B[0][3]),(N[0]<Q[0]||N[0]>Q[1]||N[1]<Q[2]||N[1]>Q[3]||k&&(N[2]<Q[4]||N[2]>Q[5]))&&(N.length=0)),!N.length){const ne=D[0]&&D[0].length?function Z(D,k){const N=k?[0,0,0]:[0,0],B=k?[0,0,0]:[0,0];let Q=0,ne=0,te=0,ae=0;for(let re=0,$=D.length;re<$-1;re++){const F=D[re],R=D[re+1];if(F&&R){N[0]=F[0],N[1]=F[1],B[0]=R[0],B[1]=R[1],k&&F.length>2&&R.length>2&&(N[2]=F[2],B[2]=R[2]);const U=(0,d.xA)(N,B);if(U){Q+=U;const A=(0,d.Gi)(F,R);ne+=U*A[0],te+=U*A[1],k&&A.length>2&&(ae+=U*A[2])}}}return Q>0?k?[ne/Q,te/Q,ae/Q]:[ne/Q,te/Q]:D.length?D[0]:null}(D[0],k):null;if(!ne)return null;N[0]=ne[0],N[1]=ne[1],k&&ne.length>2&&(N[2]=ne[2])}return N}(D.rings,D.hasZ):null}function z(D,k,N){let B=0,Q=0,ne=0,te=0,ae=0;const re=D.length?D[0][0]:0,$=D.length?D[0][1]:0,F=D.length&&k?D[0][2]:0;for(let U=0;U<D.length;U++){const A=D[U],V=D[(U+1)%D.length],[J,Y,oe]=A,se=J-re,le=Y-$,de=k?oe-F:void 0,[q,ue,ie]=V,ye=q-re,pe=ue-$,Ce=k?ie-F:void 0,De=se*pe-ye*le;if(te+=De,B+=(se+ye)*De,Q+=(le+pe)*De,k&&A.length>2&&V.length>2){const Me=se*Ce-ye*de;ne+=(de+Ce)*Me,ae+=Me}J<N[0]&&(N[0]=J),J>N[1]&&(N[1]=J),Y<N[2]&&(N[2]=Y),Y>N[3]&&(N[3]=Y),k&&(oe<N[4]&&(N[4]=oe),oe>N[5]&&(N[5]=oe))}if(te>0&&(te*=-1),ae>0&&(ae*=-1),!te)return null;te*=.5,ae*=.5;const R=[B/(6*te)+re,Q/(6*te)+$,te];return k&&(N[4]===N[5]||0===ae?(R[3]=(N[4]+N[5])/2,R[4]=0):(R[3]=ne/(6*ae)+F,R[4]=ae)),R}},33190:(wt,Se,p)=>{"use strict";p.d(Se,{CI:()=>N,OQ:()=>Z,Qg:()=>D,aV:()=>X,lQ:()=>G,uP:()=>z,wP:()=>Q});var d=p(62208);const v=[0,0];function X(ae,re){return!!(0,d.pC)(re)&&k(ae,re.x,re.y,re.z)}function G(ae,re){if(!re.points||re.points.length)return!1;for(const $ of re.points)if(!Z(ae,$))return!1;return!0}function z(ae,re){const{xmin:$,ymin:F,zmin:R,xmax:U,ymax:A,zmax:V}=re;return ae.hasZ&&re.hasZ?k(ae,$,F,R)&&k(ae,$,A,R)&&k(ae,U,A,R)&&k(ae,U,F,R)&&k(ae,$,F,V)&&k(ae,$,A,V)&&k(ae,U,A,V)&&k(ae,U,F,V):k(ae,$,F)&&k(ae,$,A)&&k(ae,U,A)&&k(ae,U,F)}function Z(ae,re){return k(ae,re[0],re[1])}function D(ae,re){return k(ae,re[0],re[1],re[2])}function k(ae,re,$,F){return re>=ae.xmin&&re<=ae.xmax&&$>=ae.ymin&&$<=ae.ymax&&(null==F||!ae.hasZ||F>=ae.zmin&&F<=ae.zmax)}function N(ae,re){return v[1]=re.y,v[0]=re.x,function B(ae,re){return Q(ae.rings,re)}(ae,v)}function Q(ae,re){if(!ae)return!1;if(function ne(ae){return!Array.isArray(ae[0][0])}(ae))return te(!1,ae,re);let $=!1;for(let F=0,R=ae.length;F<R;F++)$=te($,ae[F],re);return $}function te(ae,re,$){const[F,R]=$;let U=ae,A=0;for(let V=0,J=re.length;V<J;V++){A++,A===J&&(A=0);const[Y,oe]=re[V],[se,le]=re[A];(oe<R&&le>=R||le<R&&oe>=R)&&Y+(R-oe)/(le-oe)*(se-Y)<F&&(U=!U)}return U}},25748:(wt,Se,p)=>{"use strict";function X($,F){const R=F[0]-$[0],U=F[1]-$[1];if($.length>2&&F.length>2){const A=$[2]-F[2];return Math.sqrt(R*R+U*U+A*A)}return Math.sqrt(R*R+U*U)}function z($,F,R,U){const[A,V]=F,[J,Y]=R[U],[oe,se]=R[U+1],le=oe-J,de=se-Y,ie=Math.min(1,Math.max(0,((A-J)*le+(V-Y)*de)/(le*le+de*de)));return $[0]=J+le*ie,$[1]=Y+de*ie,$}function Z($,F){return function G($,F,R){const U=$[0]+R*(F[0]-$[0]),A=$[1]+R*(F[1]-$[1]);return $.length>2&&F.length>2?[U,A,$[2]+R*(F[2]-$[2])]:[U,A]}($,F,.5)}function N($,F,R){const U=$.length;let A=0,V=0,J=0;for(let Y=0;Y<U;Y++){const oe=$[Y],se=$[(Y+1)%U];let le=2;A+=oe[0]*se[1]-se[0]*oe[1],oe.length>2&&se.length>2&&R&&(V+=oe[0]*se[2]-se[0]*oe[2],le=3),oe.length>le&&se.length>le&&F&&(J+=oe[0]*se[le]-se[0]*oe[le])}return A<=0&&V<=0&&J<=0}function B($){if("rings"in $){for(const F of $.rings)F.length<3||F[0][0]===F[F.length-1][0]&&F[0][1]===F[F.length-1][1]||F.push([F[0][0],F[0][1]]);if($.rings.length>0&&!N($.rings[0],$.hasM,$.hasZ))for(let F=0;F<$.rings.length;++F)$.rings[F]=$.rings[F].reverse()}}function Q($){if("rings"in $)for(const F of $.rings)F.length<3||F[0][0]===F[F.length-1][0]&&F[0][1]===F[F.length-1][1]||F.push([F[0][0],F[0][1]])}p.d(Se,{Gi:()=>Z,Tx:()=>z,Zy:()=>Q,bu:()=>N,pW:()=>B,xA:()=>X}),p(37053)},15176:(wt,Se,p)=>{"use strict";p.d(Se,{Wn:()=>F,_w:()=>$,aO:()=>te});var d=p(32442);const D=[];function k(R,U,A,V){return{xmin:R,ymin:U,xmax:A,ymax:V}}function N(R,U,A,V,J,Y){return{xmin:R,ymin:U,zmin:A,xmax:V,ymax:J,zmax:Y}}function B(R,U,A,V,J,Y){return{xmin:R,ymin:U,mmin:A,xmax:V,ymax:J,mmax:Y}}function Q(R,U,A,V,J,Y,oe,se){return{xmin:R,ymin:U,zmin:A,mmin:V,xmax:J,ymax:Y,zmax:oe,mmax:se}}function ne(R,U=!1,A=!1){return U?A?Q(R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7]):N(R[0],R[1],R[2],R[3],R[4],R[5]):A?B(R[0],R[1],R[2],R[3],R[4],R[5]):k(R[0],R[1],R[2],R[3])}function te(R){return R?function v(R){return void 0!==R.xmin&&void 0!==R.ymin&&void 0!==R.xmax&&void 0!==R.ymax}(R)?R:function G(R){return void 0!==R.x&&void 0!==R.y}(R)?function re(R){const{x:U,y:A,z:V,m:J}=R,Y=null!=J;return null!=V?Y?Q(U,A,V,J,U,A,V,J):N(U,A,V,U,A,V):Y?B(U,A,J,U,A,J):k(U,A,U,A)}(R):function Z(R){return void 0!==R.rings}(R)?$(R):function z(R){return void 0!==R.paths}(R)?F(R):function X(R){return void 0!==R.points}(R)?function ae(R){const{hasZ:U,hasM:A,points:V}=R;return ne((0,d.lC)(D,V,U,A),U,A)}(R):null:null}function $(R){const{hasZ:U,hasM:A,rings:V}=R,J=(0,d.C6)(D,V,U,A);return J?ne(J,U,A):null}function F(R){const{hasZ:U,hasM:A,paths:V}=R,J=(0,d.C6)(D,V,U,A);return J?ne(J,U,A):null}},37299:(wt,Se,p)=>{"use strict";p.d(Se,{Dg:()=>D,Yr:()=>v,cD:()=>Z,yB:()=>X});var d=p(94425);const v=Math.PI/180,X=/SPHEROID\[([^\]]+)]/i,G=d.sv.radius,z=d.sv.eccentricitySquared,Z={a1:G*z,a2:G*z*G*z,a3:G*z*z/2,a4:G*z*G*z*2.5,a5:G*z+G*z*z/2,a6:1-z},D={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.sv.radius,f:d.sv.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:d.Z1.radius,f:d.Z1.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:d.yr.radius,f:d.yr.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:d.yr.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},11519:(wt,Se,p)=>{"use strict";p.d(Se,{Ff:()=>re,IY:()=>R,UT:()=>F,h_:()=>X});var d=p(33190);function v(U,A){return(0,d.aV)(U,A)}function X(U,A){let J,Y,oe;if(U.xmin<=A.xmin){if(J=A.xmin,U.xmax<J)return!1}else if(J=U.xmin,A.xmax<J)return!1;if(U.ymin<=A.ymin){if(Y=A.ymin,U.ymax<Y)return!1}else if(Y=U.ymin,A.ymax<Y)return!1;if(U.hasZ&&A.hasZ&&A.hasZ)if(U.zmin<=A.zmin){if(oe=A.zmin,U.zmax<oe)return!1}else if(oe=U.zmin,A.zmax<oe)return!1;return!0}function G(U,A){const{points:V,hasZ:J}=A,Y=J?d.Qg:d.OQ;for(const oe of V)if(Y(U,oe))return!0;return!1}const z=[0,0],Z=[0,0],D=[0,0],k=[0,0],N=[z,Z,D,k],B=[[D,z],[z,Z],[Z,k],[k,D]];function Q(U,A){return function ne(U,A){z[0]=U.xmin,z[1]=U.ymax,Z[0]=U.xmax,Z[1]=U.ymax,D[0]=U.xmin,D[1]=U.ymin,k[0]=U.xmax,k[1]=U.ymin;for(const V of N)if((0,d.wP)(A,V))return!0;for(const V of A){if(!V.length)continue;let J=V[0];if((0,d.OQ)(U,J))return!0;for(let Y=1;Y<V.length;Y++){const oe=V[Y];if((0,d.OQ)(U,oe)||$(J,oe,B))return!0;J=oe}}return!1}(U,A.rings)}function te(U,A){z[0]=U.xmin,z[1]=U.ymax,Z[0]=U.xmax,Z[1]=U.ymax,D[0]=U.xmin,D[1]=U.ymin,k[0]=U.xmax,k[1]=U.ymin;const V=A.paths;for(const J of V){if(!V.length)continue;let Y=J[0];if((0,d.OQ)(U,Y))return!0;for(let oe=1;oe<J.length;oe++){const se=J[oe];if((0,d.OQ)(U,se)||$(Y,se,B))return!0;Y=se}}return!1}const ae=[0,0];function re(U){for(let A=0;A<U.length;A++){const V=U[A];for(let Y=0;Y<V.length-1;Y++){const oe=V[Y],se=V[Y+1];for(let le=A+1;le<U.length;le++)for(let de=0;de<U[le].length-1;de++){const q=U[le][de],ue=U[le][de+1];if(F(oe,se,q,ue,ae)&&!(ae[0]===oe[0]&&ae[1]===oe[1]||ae[0]===q[0]&&ae[1]===q[1]||ae[0]===se[0]&&ae[1]===se[1]||ae[0]===ue[0]&&ae[1]===ue[1]))return!0}}const J=V.length;if(!(J<=4))for(let Y=0;Y<J-3;Y++){let oe=J-1;0===Y&&(oe=J-2);const se=V[Y],le=V[Y+1];for(let de=Y+2;de<oe;de++){const q=V[de],ue=V[de+1];if(F(se,le,q,ue,ae)&&!(ae[0]===se[0]&&ae[1]===se[1]||ae[0]===q[0]&&ae[1]===q[1]||ae[0]===le[0]&&ae[1]===le[1]||ae[0]===ue[0]&&ae[1]===ue[1]))return!0}}}return!1}function $(U,A,V){for(let J=0;J<V.length;J++)if(F(U,A,V[J][0],V[J][1]))return!0;return!1}function F(U,A,V,J,Y){const[oe,se]=U,[le,de]=A,[q,ue]=V,[ie,ye]=J,pe=ie-q,Ce=oe-q,De=le-oe,Me=ye-ue,ve=se-ue,Le=de-se,je=Me*De-pe*Le;if(0===je)return!1;const _e=(pe*ve-Me*Ce)/je,Re=(De*ve-Le*Ce)/je;return _e>=0&&_e<=1&&Re>=0&&Re<=1&&(Y&&(Y[0]=oe+_e*(le-oe),Y[1]=se+_e*(de-se)),!0)}function R(U){switch(U){case"esriGeometryEnvelope":case"extent":return X;case"esriGeometryMultipoint":case"multipoint":return G;case"esriGeometryPoint":case"point":return v;case"esriGeometryPolygon":case"polygon":return Q;case"esriGeometryPolyline":case"polyline":return te}}},91179:(wt,Se,p)=>{"use strict";p.d(Se,{Ji:()=>$,YX:()=>N,aW:()=>B,im:()=>re,l9:()=>ne,oU:()=>te,q9:()=>R,wp:()=>Q});var d=p(62208),v=p(2004),X=p(21674),G=p(72854),z=p(49672),Z=p(37118),D=p(55214);function N(U){return void 0!==U.xmin&&void 0!==U.ymin&&void 0!==U.xmax&&void 0!==U.ymax}function B(U){return void 0!==U.points}function Q(U){return void 0!==U.x&&void 0!==U.y}function ne(U){return void 0!==U.paths}function te(U){return void 0!==U.rings}function re(U){return(0,d.Wi)(U)?null:U instanceof X.Z?U:Q(U)?z.Z.fromJSON(U):ne(U)?D.Z.fromJSON(U):te(U)?Z.Z.fromJSON(U):B(U)?G.Z.fromJSON(U):N(U)?v.Z.fromJSON(U):null}function $(U){return U?Q(U)?"esriGeometryPoint":ne(U)?"esriGeometryPolyline":te(U)?"esriGeometryPolygon":N(U)?"esriGeometryEnvelope":B(U)?"esriGeometryMultipoint":null:null}const F={esriGeometryPoint:z.Z,esriGeometryPolyline:D.Z,esriGeometryPolygon:Z.Z,esriGeometryEnvelope:v.Z,esriGeometryMultipoint:G.Z};function R(U){return U&&F[U]||null}},13924:(wt,Se,p)=>{"use strict";p.d(Se,{aX:()=>ie,or:()=>Ce,hR:()=>le});var d=p(15861),v=p(59318),X=p(26584),G=p(63290),z=p(62208),Z=p(37118),D=p(55214),k=p(74618),N=p(37053),B=p(46367),ne=(p(29132),p(84792)),te=p(21726),ae=p(91179);function re(De,Me,ve,Le){return $.apply(this,arguments)}function $(){return($=(0,d.Z)(function*(De,Me,ve,Le){const je="string"==typeof De?(0,te.mN)(De):De,_e=Me[0].spatialReference,Re=Wi(Nn({},Le),{query:Wi(Nn({},je.query),{f:"json",sr:JSON.stringify(_e),target:JSON.stringify({geometryType:(0,ae.Ji)(Me[0]),geometries:Me}),cutter:JSON.stringify(ve)})}),nt=yield(0,ne.default)(je.path+"/cut",Re),{cutIndexes:pt,geometries:Ne=[]}=nt.data;return{cutIndexes:pt,geometries:Ne.map(xe=>{const Ye=(0,ae.im)(xe);return Ye.spatialReference=_e,Ye})}})).apply(this,arguments)}function F(De,Me,ve){return R.apply(this,arguments)}function R(){return(R=(0,d.Z)(function*(De,Me,ve){const Le="string"==typeof De?(0,te.mN)(De):De,je=Me[0].spatialReference,_e=(0,ae.Ji)(Me[0]),Re=Wi(Nn({},ve),{query:Wi(Nn({},Le.query),{f:"json",sr:je.wkid?je.wkid:JSON.stringify(je),geometries:JSON.stringify(U(Me))})});return A((yield(0,ne.default)(Le.path+"/simplify",Re)).data,_e,je)})).apply(this,arguments)}function U(De){return{geometryType:(0,ae.Ji)(De[0]),geometries:De.map(Me=>Me.toJSON())}}function A(De,Me,ve){const Le=(0,ae.q9)(Me);return De.map(je=>{const _e=Le.fromJSON(je);return _e.spatialReference=ve,_e})}const V=G.Z.getLogger("esri.geometry.support.normalizeUtils");function Y(De){return"polygon"===De[0].type}function oe(De){return"polyline"===De[0].type}function le(De,Me){if(!(De instanceof D.Z||De instanceof Z.Z)){const je="straightLineDensify: the input geometry is neither polyline nor polygon";throw V.error(je),new X.Z(je)}const ve=(0,k.x3)(De),Le=[];for(const je of ve){const _e=[];Le.push(_e),_e.push([je[0][0],je[0][1]]);for(let Re=0;Re<je.length-1;Re++){const nt=je[Re][0],pt=je[Re][1],Ne=je[Re+1][0],xe=je[Re+1][1],Ye=Math.sqrt((Ne-nt)*(Ne-nt)+(xe-pt)*(xe-pt)),Ke=(xe-pt)/Ye,Fe=(Ne-nt)/Ye,Ze=Ye/Me;if(Ze>1){for(let Je=1;Je<=Ze-1;Je++){const $e=Je*Me;_e.push([Fe*$e+nt,Ke*$e+pt])}const ct=(Ye+Math.floor(Ze-1)*Me)/2;_e.push([Fe*ct+nt,Ke*ct+pt])}_e.push([Ne,xe])}}return function J(De){return"polygon"===De.type}(De)?new Z.Z({rings:Le,spatialReference:De.spatialReference}):new D.Z({paths:Le,spatialReference:De.spatialReference})}function de(De,Me,ve){if(Me){const Le=le(De,1e6);De=(0,B.Sx)(Le,!0)}return ve&&(De=(0,k.Sy)(De,ve)),De}function q(De,Me,ve){if(Array.isArray(De)){const Le=De[0];if(Le>Me){const je=(0,k.XZ)(Le,Me);De[0]=Le+je*(-2*Me)}else if(Le<ve){const je=(0,k.XZ)(Le,ve);De[0]=Le+je*(-2*ve)}}else{const Le=De.x;if(Le>Me){const je=(0,k.XZ)(Le,Me);De=De.clone().offset(je*(-2*Me),0)}else if(Le<ve){const je=(0,k.XZ)(Le,ve);De=De.clone().offset(je*(-2*ve),0)}}return De}function ue(De,Me){let ve=-1;for(let Le=0;Le<Me.cutIndexes.length;Le++){const je=Me.cutIndexes[Le],_e=Me.geometries[Le],Re=(0,k.x3)(_e);for(let nt=0;nt<Re.length;nt++){const pt=Re[nt];pt.some(Ne=>{if(Ne[0]<180)return!0;{let xe=0;for(let Ke=0;Ke<pt.length;Ke++){const Fe=pt[Ke][0];xe=Fe>xe?Fe:xe}xe=Number(xe.toFixed(9));const Ye=-360*(0,k.XZ)(xe,180);for(let Ke=0;Ke<pt.length;Ke++){const Fe=_e.getPoint(nt,Ke);_e.setPoint(nt,Ke,Fe.clone().offset(Ye,0))}return!0}})}if(je===ve){if(Y(De))for(const nt of(0,k.x3)(_e))De[je]=De[je].addRing(nt);else if(oe(De))for(const nt of(0,k.x3)(_e))De[je]=De[je].addPath(nt)}else ve=je,De[je]=_e}return De}function ie(De,Me,ve){return ye.apply(this,arguments)}function ye(){return(ye=(0,d.Z)(function*(De,Me,ve){var ot;if(!Array.isArray(De))return ie([De],Me);Me&&"string"!=typeof Me&&V.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const Le="string"==typeof Me?Me:null!=(ot=null==Me?void 0:Me.url)?ot:v.Z.geometryServiceUrl;let je,_e,Re,nt,pt,Ne,xe,Ye,Ke=0;const Fe=[],Ze=[];for(const mt of De)if((0,z.Wi)(mt))Ze.push(mt);else if(je||(je=mt.spatialReference,_e=(0,N.C5)(je),Re=je.isWebMercator,Ne=Re?102100:4326,nt=k.UZ[Ne].maxX,pt=k.UZ[Ne].minX,xe=k.UZ[Ne].plus180Line,Ye=k.UZ[Ne].minus180Line),_e)if("mesh"===mt.type)Ze.push(mt);else if("point"===mt.type)Ze.push(q(mt.clone(),nt,pt));else if("multipoint"===mt.type){const Tt=mt.clone();Tt.points=Tt.points.map(It=>q(It,nt,pt)),Ze.push(Tt)}else if("extent"===mt.type){const Tt=mt.clone()._normalize(!1,!1,_e);Ze.push(Tt.rings?new Z.Z(Tt):Tt)}else if(mt.extent){const Tt=mt.extent,It=(0,k.XZ)(Tt.xmin,pt)*(2*nt);let Nt=0===It?mt.clone():(0,k.Sy)(mt.clone(),It);Tt.offset(It,0),Tt.intersects(xe)&&Tt.xmax!==nt?(Ke=Tt.xmax>Ke?Tt.xmax:Ke,Nt=de(Nt,Re),Fe.push(Nt),Ze.push("cut")):Tt.intersects(Ye)&&Tt.xmin!==pt?(Ke=Tt.xmax*(2*nt)>Ke?Tt.xmax*(2*nt):Ke,Nt=de(Nt,Re,360),Fe.push(Nt),Ze.push("cut")):Ze.push(Nt)}else Ze.push(mt.clone());else Ze.push(mt);let ct=(0,k.XZ)(Ke,nt),we=-90;const Be=ct,Je=new D.Z;for(;ct>0;){const mt=360*ct-180;Je.addPath([[mt,we],[mt,-1*we]]),we*=-1,ct--}if(Fe.length>0&&Be>0){const mt=ue(Fe,yield re(Le,Fe,Je,ve)),Tt=[],It=[];for(let Xe=0;Xe<Ze.length;Xe++){const vt=Ze[Xe];if("cut"!==vt)It.push(vt);else{const Zt=mt.shift(),xt=De[Xe];(0,z.pC)(xt)&&"polygon"===xt.type&&xt.rings&&xt.rings.length>1&&Zt.rings.length>=xt.rings.length?(Tt.push(Zt),It.push("simplify")):It.push(Re?(0,B.$)(Zt):Zt)}}if(!Tt.length)return It;const Nt=yield F(Le,Tt,ve),Rt=[];for(let Xe=0;Xe<It.length;Xe++){const vt=It[Xe];Rt.push("simplify"!==vt?vt:Re?(0,B.$)(Nt.shift()):Nt.shift())}return Rt}const $e=[];for(let mt=0;mt<Ze.length;mt++){const Tt=Ze[mt];if("cut"!==Tt)$e.push(Tt);else{const It=Fe.shift();$e.push(!0===Re?(0,B.$)(It):It)}}return $e})).apply(this,arguments)}function Ce(De,Me){const ve=(0,N.C5)(Me);if(ve){const[Le,je]=ve.valid,_e=je-Le;if(De<Le)for(;De<Le;)De+=_e;if(De>je)for(;De>je;)De-=_e}return De}},74618:(wt,Se,p)=>{"use strict";p.d(Se,{Sy:()=>Z,UZ:()=>G,XZ:()=>z,x3:()=>D});var d=p(55214),v=p(65234),X=p(91179);const G={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new d.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:v.Z.WebMercator}),minus180Line:new d.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:v.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new d.Z({paths:[[[180,-180],[180,180]]],spatialReference:v.Z.WGS84}),minus180Line:new d.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:v.Z.WGS84})}};function z(k,N){return Math.ceil((k-N)/(2*N))}function Z(k,N){const B=D(k);for(const Q of B)for(const ne of Q)ne[0]+=N;return k}function D(k){return(0,X.oU)(k)?k.rings:k.paths}},83137:(wt,Se,p)=>{"use strict";p.d(Se,{D9:()=>Z,dp:()=>G,yZ:()=>X});var d=p(16730);function X(D,k){const N=k||D.extent,B=D.width,Q=(0,d.c9)(N&&N.spatialReference);return N&&B?N.width/B*Q*d.hd*96:0}function G(D,k){return D/((0,d.c9)(k)*d.hd*96)}function Z(D,k){const N=D.extent,B=D.width,Q=G(k,N.spatialReference);return N.clone().expand(Q*B/N.width)}},37053:(wt,Se,p)=>{"use strict";p.d(Se,{BZ:()=>A,C5:()=>ne,JY:()=>oe,ME:()=>V,MP:()=>Y,N$:()=>ae,QM:()=>R,R_:()=>le,V2:()=>J,WR:()=>de,Zn:()=>se,fS:()=>Q,o$:()=>U,oR:()=>re,sS:()=>F,sT:()=>te,yW:()=>$});var d=p(62208),v=p(77275),X=p(6178),G=p(84029);const z={102113:!0,102100:!0,3857:!0,3785:!0},Z={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},D='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',k=[-20037508.342788905,20037508.342788905],N=[-20037508.342787,20037508.342787],B={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:k,origin:N,dx:1e-5},102100:{wkTemplate:D,valid:k,origin:N,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:k,origin:N,dx:1e-5},3857:{wkTemplate:D,valid:k,origin:N,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Q(q,ue){return!(0,d.Wi)(q)&&!(0,d.Wi)(ue)&&(q===ue||(null!=q.wkid||null!=ue.wkid?q.wkid===ue.wkid||F(q)&&F(ue)||null!=ue.latestWkid&&q.wkid===ue.latestWkid||null!=q.latestWkid&&ue.wkid===q.latestWkid:!(!q.wkt||!ue.wkt)&&q.wkt.toUpperCase()===ue.wkt.toUpperCase()))}function ne(q){return oe(q)&&q.wkid&&B[q.wkid]||null}function te(q){return!!oe(q)&&(q.wkid?null==G.Z[q.wkid]:!!q.wkt&&!!/^\s*GEOGCS/i.test(q.wkt))}function ae(q){return!(A(q)||J(q))}function re(q){return oe(q)&&4326===q.wkid}function $(q){return oe(q)&&q.wkid===X.W.CGCS2000}function F(q){return oe(q)&&null!=q.wkid&&!0===z[q.wkid]}function R(q){return oe(q)&&32662===q.wkid}function U(q){return q===X.W.GCSMARS2000||q===X.W.GCSMARS2000_SPHERE}function A(q){return oe(q)&&null!=q.wkid&&U(q.wkid)}function V(q){return q===X.W.GCSMOON2000}function J(q){return oe(q)&&null!=q.wkid&&V(q.wkid)}function Y(q){return oe(q)&&null!=q.wkid&&!0===Z[q.wkid]}function oe(q){return(0,d.pC)(q)&&(null!=q.wkid&&q.wkid>=2e3||null!=q.wkt)}const se={wkid:4326,wkt:(0,v.gx)(B[4326].wkTemplate,{Central_Meridian:"0.0"})},le={wkid:102100,latestWkid:3857},de={wkid:32662}},71774:(wt,Se,p)=>{"use strict";p.d(Se,{Mk:()=>X,P$:()=>G});var d=p(2076);const X=(0,d.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),G=(0,d.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},46367:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>U,Q8:()=>re,R6:()=>R,Sx:()=>A,hG:()=>F,iV:()=>$,mZ:()=>Q,tp:()=>B});var d=p(58817),v=p(62208),X=p(65234),G=p(94425),z=p(37053);function k(V){return 57.29577951308232*V}function N(V){return.017453292519943*V}function B(V){return V/G.sv.radius}function Q(V){return Math.PI/2-2*Math.atan(Math.exp(-V/G.sv.radius))}function ne(V){return null!=V.wkid||null!=V.wkt}const te=[0,0];function ae(V,J,Y,oe,se){const le=V,de=se;if(de.spatialReference=Y,"x"in le&&"x"in de)[de.x,de.y]=J(le.x,le.y,te,oe);else if("xmin"in le&&"xmin"in de)[de.xmin,de.ymin]=J(le.xmin,le.ymin,te,oe),[de.xmax,de.ymax]=J(le.xmax,le.ymax,te,oe);else if("paths"in le&&"paths"in de||"rings"in le&&"rings"in de){const q="paths"in le?le.paths:le.rings,ue=[];let ie;for(let ye=0;ye<q.length;ye++){const pe=q[ye];ie=[],ue.push(ie);for(let Ce=0;Ce<pe.length;Ce++)ie.push(J(pe[Ce][0],pe[Ce][1],[0,0],oe)),pe[Ce].length>2&&ie[Ce].push(pe[Ce][2]),pe[Ce].length>3&&ie[Ce].push(pe[Ce][3])}"paths"in de?de.paths=ue:de.rings=ue}else if("points"in le&&"points"in de){const q=le.points,ue=[];for(let ie=0;ie<q.length;ie++)ue[ie]=J(q[ie][0],q[ie][1],[0,0],oe),q[ie].length>2&&ue[ie].push(q[ie][2]),q[ie].length>3&&ue[ie].push(q[ie][3]);de.points=ue}return se}function re(V,J){const Y=V&&(ne(V)?V:V.spatialReference),oe=J&&(ne(J)?J:J.spatialReference);return!(V&&"type"in V&&"mesh"===V.type||J&&"type"in J&&"mesh"===J.type||!Y||!oe)&&(!!(0,z.fS)(oe,Y)||(0,z.sS)(oe)&&(0,z.oR)(Y)||(0,z.sS)(Y)&&(0,z.oR)(oe))}function $(V,J){if((0,v.Wi)(V))return null;const Y=V.spatialReference,oe=J&&(ne(J)?J:J.spatialReference);return re(Y,oe)?(0,z.fS)(Y,oe)?(0,d.d9)(V):(0,z.sS)(oe)?ae(V,F,X.Z.WebMercator,!1,(0,d.d9)(V)):(0,z.oR)(oe)?ae(V,R,X.Z.WGS84,!1,(0,d.d9)(V)):null:null}function F(V,J,Y=[0,0]){J>89.99999?J=89.99999:J<-89.99999&&(J=-89.99999);const oe=N(J);return Y[0]=N(V)*G.sv.radius,Y[1]=G.sv.halfSemiMajorAxis*Math.log((1+Math.sin(oe))/(1-Math.sin(oe))),Y}function R(V,J,Y=[0,0],oe=!1){const se=k(V/G.sv.radius);return Y[0]=oe?se:se-360*Math.floor((se+180)/360),Y[1]=k(Math.PI/2-2*Math.atan(Math.exp(-J/G.sv.radius))),Y}function U(V,J=!1,Y=(0,d.d9)(V)){return ae(V,F,X.Z.WebMercator,J,Y)}function A(V,J=!1,Y=(0,d.d9)(V)){return ae(V,R,X.Z.WGS84,J,Y)}},18945:(wt,Se,p)=>{"use strict";function d(v,X,G=!1){let{hasM:z,hasZ:Z}=v;Array.isArray(X)?4!==X.length||z||Z?3===X.length&&G&&!z?(Z=!0,z=!1):3===X.length&&z&&Z&&(z=!1,Z=!1):(z=!0,Z=!0):(Z=!Z&&X.hasZ&&(!z||X.hasM),z=!z&&X.hasM&&(!Z||X.hasZ)),v.hasZ=Z,v.hasM=z}p.d(Se,{l:()=>d})},33696:(wt,Se,p)=>{"use strict";p.d(Se,{k:()=>G});var d=p(62208),v=p(16730),X=p(37053);function G(B,Q,ne){if((0,d.Wi)(Q)||(0,d.Wi)(ne)||ne.vcsWkid||(0,X.fS)(Q,ne))return null;const te=(0,v._R)(Q)/(0,v._R)(ne);if(1===te)return null;switch(B){case"point":case"esriGeometryPoint":return ae=>function z(B,Q){B&&null!=B.z&&(B.z*=Q)}(ae,te);case"polyline":case"esriGeometryPolyline":return ae=>function D(B,Q){if(B)for(const ne of B.paths)for(const te of ne)te.length>2&&(te[2]*=Q)}(ae,te);case"polygon":case"esriGeometryPolygon":return ae=>function Z(B,Q){if(B)for(const ne of B.rings)for(const te of ne)te.length>2&&(te[2]*=Q)}(ae,te);case"multipoint":case"esriGeometryMultipoint":return ae=>function k(B,Q){if(B)for(const ne of B.points)ne.length>2&&(ne[2]*=Q)}(ae,te);case"extent":case"esriGeometryExtent":return ae=>function N(B,Q){B&&null!=B.zmin&&null!=B.zmax&&(B.zmin*=Q,B.zmax*=Q)}(ae,te);default:return null}}},52515:(wt,Se,p)=>{"use strict";p(88411),p(15348),p(97059),p(56683);var z=p(41840),Z=p(15861),D=p(84792),k=p(26584),N=p(62208);function Q(){return(Q=(0,Z.Z)(function*(R,U,A,V){const J=U.exec(A);if(!J)throw new k.Z("esri-intl:invalid-bundle",`Bundle id "${A}" is not compatible with the pattern "${U}"`);const Y=J[1]?`${J[1]}/`:"",oe=J[2],se=(0,z.Su)(V),le=`${Y}${oe}.json`,de=se?`${Y}${oe}_${se}.json`:le;let q;try{q=yield ne(R(de))}catch(ue){if(de===le)throw new k.Z("intl:unknown-bundle",`Bundle "${A}" cannot be loaded`,{error:ue});try{q=yield ne(R(le))}catch(ie){throw new k.Z("intl:unknown-bundle",`Bundle "${A}" cannot be loaded`,{error:ie})}}return q})).apply(this,arguments)}function ne(R){return te.apply(this,arguments)}function te(){return(te=(0,Z.Z)(function*(R){if((0,N.pC)($.fetchBundleAsset))return $.fetchBundleAsset(R);const U=yield(0,D.default)(R,{responseType:"text"});return JSON.parse(U.data)})).apply(this,arguments)}class ae{constructor({base:U="",pattern:A,location:V=new URL(window.location.href)}){let J;J="string"==typeof V?Y=>new URL(Y,new URL(V,window.location.href)).href:V instanceof URL?Y=>new URL(Y,V).href:V,this.pattern="string"==typeof A?new RegExp(`^${A}`):A,this.getAssetUrl=J,U=U?U.endsWith("/")?U:U+"/":"",this.matcher=new RegExp(`^${U}(?:(.*)/)?(.*)$`)}fetchMessageBundle(U,A){return function B(R,U,A,V){return Q.apply(this,arguments)}(this.getAssetUrl,this.matcher,U,A)}}const $={};var F=p(54346);(0,z.tz)(function re(R){return new ae(R)}({pattern:"esri/",location:F.V}))},88411:(wt,Se,p)=>{"use strict";p.d(Se,{Ze:()=>R,p6:()=>U});var d=p(2076),v=p(56683);const X={year:"numeric",month:"numeric",day:"numeric"},G={year:"numeric",month:"long",day:"numeric"},z={year:"numeric",month:"short",day:"numeric"},Z={year:"numeric",month:"long",weekday:"long",day:"numeric"},D={hour:"numeric",minute:"numeric"},k=Wi(Nn({},D),{second:"numeric"}),N={"short-date":X,"short-date-short-time":Nn(Nn({},X),D),"short-date-short-time-24":Wi(Nn(Nn({},X),D),{hour12:!1}),"short-date-long-time":Nn(Nn({},X),k),"short-date-long-time-24":Wi(Nn(Nn({},X),k),{hour12:!1}),"short-date-le":X,"short-date-le-short-time":Nn(Nn({},X),D),"short-date-le-short-time-24":Wi(Nn(Nn({},X),D),{hour12:!1}),"short-date-le-long-time":Nn(Nn({},X),k),"short-date-le-long-time-24":Wi(Nn(Nn({},X),k),{hour12:!1}),"long-month-day-year":G,"long-month-day-year-short-time":Nn(Nn({},G),D),"long-month-day-year-short-time-24":Wi(Nn(Nn({},G),D),{hour12:!1}),"long-month-day-year-long-time":Nn(Nn({},G),k),"long-month-day-year-long-time-24":Wi(Nn(Nn({},G),k),{hour12:!1}),"day-short-month-year":z,"day-short-month-year-short-time":Nn(Nn({},z),D),"day-short-month-year-short-time-24":Wi(Nn(Nn({},z),D),{hour12:!1}),"day-short-month-year-long-time":Nn(Nn({},z),k),"day-short-month-year-long-time-24":Wi(Nn(Nn({},z),k),{hour12:!1}),"long-date":Z,"long-date-short-time":Nn(Nn({},Z),D),"long-date-short-time-24":Wi(Nn(Nn({},Z),D),{hour12:!1}),"long-date-long-time":Nn(Nn({},Z),k),"long-date-long-time-24":Wi(Nn(Nn({},Z),k),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":D,"long-time":k},B=(0,d.w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ae=(B.toJSON.bind(B),B.fromJSON.bind(B),{ar:"ar-u-nu-latn-ca-gregory"});let re=new WeakMap,$=N["short-date-short-time"];function R(A){return N[A]||null}function U(A,V){return function F(A){const V=A||$;if(!re.has(V)){const J=(0,v.Kd)(),Y=ae[(0,v.Kd)()]||J;re.set(V,new Intl.DateTimeFormat(Y,V))}return re.get(V)}(V).format(A)}(0,v.Ze)(()=>{re=new WeakMap,$=N["short-date-short-time"]})},56683:(wt,Se,p)=>{var re,$,F,R;let v;p.d(Se,{Kd:()=>z,Ze:()=>te,qe:()=>Q});const X=null!=(F=null==(re=globalThis.esriConfig)?void 0:re.locale)?F:null==($=globalThis.dojoConfig)?void 0:$.locale;function G(){var U,A;return null!=(A=null!=X?X:null==(U=globalThis.navigator)?void 0:U.language)?A:"en"}function z(){return void 0===v&&(v=G()),v}const B=[];function Q(U){return B.push(U),{remove(){B.splice(B.indexOf(U),1)}}}const ne=[];function te(U){return ne.push(U),{remove(){B.splice(ne.indexOf(U),1)}}}null==(R=globalThis.addEventListener)||R.call(globalThis,"languagechange",function ae(){const U=G();v!==U&&(v=U,[...ne].forEach(A=>{A.call(null,U)}),[...B].forEach(A=>{A.call(null,U)}))})},41840:(wt,Se,p)=>{"use strict";p.d(Se,{ME:()=>ne,Su:()=>ae,tz:()=>Q});var d=p(15861),v=p(26584),X=p(10699),G=p(56683);const z=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Z={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function D(A){var V;return null!=(V=Z[A])&&V}const k=[],N=new Map;function B(A){for(const V of N.keys())F(A.pattern,V)&&N.delete(V)}function Q(A){return k.includes(A)||(B(A),k.unshift(A)),{remove(){const V=k.indexOf(A);V>-1&&(k.splice(V,1),B(A))}}}function ne(A){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(A){const V=(0,G.Kd)();N.has(A)||N.set(A,re(A,V));const J=N.get(A);return yield R.add(J),J})).apply(this,arguments)}function ae(A){if(!z.test(A))return null;const[,V,J]=z.exec(A),Y=V+(J?"-"+J.toUpperCase():"");return D(Y)?Y:D(V)?V:null}function re(A,V){return $.apply(this,arguments)}function $(){return($=(0,d.Z)(function*(A,V){const J=[];for(const Y of k)if(F(Y.pattern,A))try{return yield Y.fetchMessageBundle(A,V)}catch(oe){J.push(oe)}throw J.length?new v.Z("intl:message-bundle-error",`Errors occurred while loading "${A}"`,{errors:J}):new v.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${A}"`)})).apply(this,arguments)}function F(A,V){return"string"==typeof A?V.startsWith(A):A.test(V)}(0,G.Ze)(()=>{N.clear()});const R=new class{constructor(){this._numLoading=0}waitForAll(){var A=this;return(0,d.Z)(function*(){A._dfd&&(yield A._dfd.promise)})()}add(A){return this._increase(),A.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,X.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},15348:(wt,Se,p)=>{"use strict";p.d(Se,{sh:()=>D,uf:()=>k});var d=p(62208),v=p(56683);const X={ar:"ar-u-nu-latn"};let G=new WeakMap,z={};function D(N={}){const B={};return null!=N.digitSeparator&&(B.useGrouping=N.digitSeparator),null!=N.places&&(B.minimumFractionDigits=B.maximumFractionDigits=N.places),B}function k(N,B){return-0===N&&(N=0),function Z(N){const B=N||z;if(!G.has(B)){const Q=(0,v.Kd)(),ne=X[(0,v.Kd)()]||Q;G.set(B,new Intl.NumberFormat(ne,N))}return(0,d.j0)(G.get(B))}(B).format(N)}(0,v.Ze)(()=>{G=new WeakMap,z={}})},97059:(wt,Se,p)=>{"use strict";p.d(Se,{n:()=>D});var d=p(63290),v=p(94113),X=p(77275),G=p(88411),z=p(15348);const Z=d.Z.getLogger("esri.intl");function D(ne,te,ae={}){const{format:re={}}=ae;return(0,X.gx)(ne,$=>function k(ne,te,ae){let re,$;const F=ne.indexOf(":");if(-1===F?re=ne.trim():(re=ne.slice(0,F).trim(),$=ne.slice(F+1).trim()),!re)return"";const R=(0,v.hS)(re,te);if(null==R)return"";const U=ae[$]||ae[re];return U?function N(ne,te){switch(te.type){case"date":return(0,G.p6)(ne,te.intlOptions);case"number":return(0,z.uf)(ne,te.intlOptions);default:return Z.warn("missing format descriptor for key {key}"),Q(ne)}}(R,U):$?function B(ne,te){switch(te.toLowerCase()){case"dateformat":return(0,G.p6)(ne);case"numberformat":return(0,z.uf)(ne);default:return Z.warn(`inline format is unsupported since 4.12: ${te}`),/^(dateformat|datestring)/i.test(te)?(0,G.p6)(ne):/^numberformat/i.test(te)?(0,z.uf)(ne):Q(ne)}}(R,$):Q(R)}($,te,re))}function Q(ne){switch(typeof ne){case"string":return ne;case"number":return(0,z.uf)(ne);case"boolean":return""+ne;default:return ne instanceof Date?(0,G.p6)(ne):""}}},24263:(wt,Se,p)=>{"use strict";p.d(Se,{Dp:()=>k,Nv:()=>z,i8:()=>G,id:()=>Z,qh:()=>D});var d=p(15861),v=p(8314),X=p(21726);const G="4.24",z={request:(N,B)=>(0,d.Z)(function*(){var $;const{default:Q}=yield Promise.resolve().then(p.bind(p,84792)),ne=N.options,te=ne.responseType;ne.signal=null==B?void 0:B.signal,ne.responseType="native"===te||"native-request-init"===te?"native-request-init":["blob","json","text"].includes(te)&&(null==($=(0,X.oh)(N.url))?void 0:$.after)?te:"array-buffer";const ae=yield Q(N.url,ne),re={data:ae.data,ssl:ae.ssl};switch(ae.requestOptions.responseType){case"native-request-init":return delete re.data.signal,re;case"blob":re.data=yield re.data.arrayBuffer();break;case"json":re.data=(new TextEncoder).encode(JSON.stringify(re.data)).buffer;break;case"text":re.data=(new TextEncoder).encode(re.data).buffer}return{result:re,transferList:[re.data]}})()};let Z;function D(N){Z=N}function k(N){const B=Z&&Z.findCredential(N);return B&&B.token?(0,X.ZN)(N,"token",B.token):N}(0,v.Z)("host-webworker")||((0,v.Z)("edge")||(0,v.Z)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},32258:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>Kn});var _e,d=p(15861),v=p(17626),X=p(73281),B=(p(4832),p(49067),p(96794),p(69747),p(40425),p(69357),p(40342)),Q=p(14726),ne=p(33474),te=p(32088),ae=p(84792),re=p(65787),$=p(79608),F=p(74333),R=p(26584),U=p(72392),A=p(8314),V=p(2076),J=p(58817),Y=p(63290),oe=p(62208),se=p(99959),le=p(94113),de=p(10699),q=p(95737),ue=p(21726),ie=p(77712),ye=p(66656),pe=p(68653),Ce=p(76898),De=p(99433),Me=p(383),ve=p(86810),je=(p(85931),p(90912));let Re=_e=class extends ve.wq{constructor(yt){super(yt),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new _e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Re.prototype,"expression",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Re.prototype,"name",void 0),(0,v._)([(0,ie.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],Re.prototype,"returnType",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Re.prototype,"title",void 0),Re=_e=(0,v._)([(0,Ce.j)("esri.form.ExpressionInfo")],Re);const nt=Re;let pt=class extends ve.wq{constructor(yt){super(yt),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],pt.prototype,"description",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],pt.prototype,"label",void 0),(0,v._)([(0,ie.Cb)()],pt.prototype,"type",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],pt.prototype,"visibilityExpression",void 0),pt=(0,v._)([(0,Ce.j)("esri.form.elements.Element")],pt);const Ne=pt;var xe;let Ye=xe=class extends ve.wq{constructor(yt){super(yt),this.type=null}clone(){return new xe({type:this.type})}};(0,v._)([(0,ie.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Ye.prototype,"type",void 0),Ye=xe=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.AttachmentInput")],Ye);const Ke=Ye;var Fe;let Ze=Fe=class extends Ne{constructor(yt){super(yt),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new Fe({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ze.prototype,"attachmentKeyword",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],Ze.prototype,"editable",void 0),(0,v._)([(0,ie.Cb)({type:Ke,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ze.prototype,"input",void 0),(0,v._)([(0,ie.Cb)({type:["attachment"],json:{read:!1,write:!0}})],Ze.prototype,"type",void 0),Ze=Fe=(0,v._)([(0,Ce.j)("esri.form.elements.AttachmentElement")],Ze);const ct=Ze;let we=class extends ve.wq{constructor(yt){super(yt),this.type=null}};(0,v._)([(0,ie.Cb)()],we.prototype,"type",void 0),we=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.Input")],we);const Be=we;let Je=class extends Be{constructor(yt){super(yt),this.maxLength=null,this.minLength=0}};(0,v._)([(0,ie.Cb)({type:Number,json:{write:!0}})],Je.prototype,"maxLength",void 0),(0,v._)([(0,ie.Cb)({type:Number,json:{write:!0}})],Je.prototype,"minLength",void 0),Je=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.TextInput")],Je);const $e=Je;var ot;let mt=ot=class extends $e{constructor(yt){super(yt),this.type="barcode-scanner"}clone(){return new ot({maxLength:this.maxLength,minLength:this.minLength})}};(0,v._)([(0,ie.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],mt.prototype,"type",void 0),mt=ot=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.BarcodeScannerInput")],mt);const Tt=mt;var It;let Nt=It=class extends Be{constructor(yt){super(yt),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new It({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Nt.prototype,"noValueOptionLabel",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],Nt.prototype,"showNoValueOption",void 0),(0,v._)([(0,ie.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],Nt.prototype,"type",void 0),Nt=It=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.ComboBoxInput")],Nt);const Rt=Nt;var Xe;function vt(yt){return null!=yt?new Date(yt):null}function Zt(yt){return yt?yt.getTime():null}let xt=Xe=class extends Be{constructor(yt){super(yt),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(yt,Ct){return vt(Ct.max)}writeMax(yt,Ct){Ct.max=Zt(yt)}readMin(yt,Ct){return vt(Ct.min)}writeMin(yt,Ct){Ct.min=Zt(yt)}clone(){return new Xe({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],xt.prototype,"includeTime",void 0),(0,v._)([(0,ie.Cb)({type:Date,json:{type:Number,write:!0}})],xt.prototype,"max",void 0),(0,v._)([(0,pe.r)("max")],xt.prototype,"readMax",null),(0,v._)([(0,De.c)("max")],xt.prototype,"writeMax",null),(0,v._)([(0,ie.Cb)({type:Date,json:{type:Number,write:!0}})],xt.prototype,"min",void 0),(0,v._)([(0,pe.r)("min")],xt.prototype,"readMin",null),(0,v._)([(0,De.c)("min")],xt.prototype,"writeMin",null),(0,v._)([(0,ie.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],xt.prototype,"type",void 0),xt=Xe=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.DateTimePickerInput")],xt);const Lt=xt;var en;let En=en=class extends Be{constructor(yt){super(yt),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new en({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],En.prototype,"noValueOptionLabel",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],En.prototype,"showNoValueOption",void 0),(0,v._)([(0,ie.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],En.prototype,"type",void 0),En=en=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.RadioButtonsInput")],En);const Dn=En;var Xn;let pr=Xn=class extends Be{constructor(yt){super(yt),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new Xn({offValue:this.offValue,onValue:this.onValue})}};(0,v._)([(0,ie.Cb)({type:[String,Number],json:{write:!0}})],pr.prototype,"offValue",void 0),(0,v._)([(0,ie.Cb)({type:[String,Number],json:{write:!0}})],pr.prototype,"onValue",void 0),(0,v._)([(0,ie.Cb)({type:["switch"],json:{read:!1,write:!0}})],pr.prototype,"type",void 0),pr=Xn=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.SwitchInput")],pr);const Tr=pr;var vr;let zn=vr=class extends $e{constructor(yt){super(yt),this.type="text-area"}clone(){return new vr({maxLength:this.maxLength,minLength:this.minLength})}};(0,v._)([(0,ie.Cb)({type:["text-area"],json:{read:!1,write:!0}})],zn.prototype,"type",void 0),zn=vr=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.TextAreaInput")],zn);const zt=zn;var sn;let pn=sn=class extends $e{constructor(yt){super(yt),this.type="text-box"}clone(){return new sn({maxLength:this.maxLength,minLength:this.minLength})}};(0,v._)([(0,ie.Cb)({type:["text-box"],json:{read:!1,write:!0}})],pn.prototype,"type",void 0),pn=sn=(0,v._)([(0,Ce.j)("esri.form.elements.inputs.TextBoxInput")],pn);const Wn={base:Be,key:"type",typeMap:{"barcode-scanner":Tt,"combo-box":Rt,"datetime-picker":Lt,"radio-buttons":Dn,switch:Tr,"text-area":zt,"text-box":pn}};var $n,jn=p(26141);let Ht=$n=class extends Ne{constructor(yt){super(yt),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new $n({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,v._)([(0,ie.Cb)({types:jn.V5,json:{read:{reader:jn.im},write:!0}})],Ht.prototype,"domain",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],Ht.prototype,"editable",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ht.prototype,"editableExpression",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ht.prototype,"fieldName",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ht.prototype,"hint",void 0),(0,v._)([(0,ie.Cb)({types:Wn,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Ht.prototype,"input",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ht.prototype,"requiredExpression",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:!1,write:!0}})],Ht.prototype,"type",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Ht.prototype,"valueExpression",void 0),Ht=$n=(0,v._)([(0,Ce.j)("esri.form.elements.FieldElement")],Ht);const ir=Ht;var Ar,Qn=p(51686);let Dr=Ar=class extends Ne{constructor(yt){super(yt),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Ar({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,J.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,v._)([(0,ie.Cb)({type:Number,json:{write:!0}})],Dr.prototype,"displayCount",void 0),(0,v._)([(0,ie.Cb)({type:["list"],json:{write:!0}})],Dr.prototype,"displayType",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{write:!0}})],Dr.prototype,"editable",void 0),(0,v._)([(0,ie.Cb)({type:[Qn.Z],json:{write:!0}})],Dr.prototype,"orderByFields",void 0),(0,v._)([(0,ie.Cb)({type:Number,json:{write:!0}})],Dr.prototype,"relationshipId",void 0),(0,v._)([(0,ie.Cb)({type:["relationship"],json:{read:!1,write:!0}})],Dr.prototype,"type",void 0),Dr=Ar=(0,v._)([(0,Ce.j)("esri.form.elements.RelationshipElement")],Dr);const an=Dr;function Mn(yt){return{typesWithGroup:{base:Ne,key:"type",typeMap:{attachment:ct,field:ir,group:yt,relationship:an}},typesWithoutGroup:{base:Ne,key:"type",typeMap:{attachment:ct,field:ir,relationship:an}}}}function Hn(yt,Ct,nn=!0){if(!yt)return null;const et=nn?Ct.typesWithGroup.typeMap:Ct.typesWithoutGroup.typeMap;return yt.filter(St=>et[St.type]).map(St=>et[St.type].fromJSON(St))}function Mt(yt,Ct,nn=!0){if(!yt)return null;const et=nn?Ct.typesWithGroup.typeMap:Ct.typesWithoutGroup.typeMap;return yt.filter(St=>et[St.type]).map(St=>St.toJSON())}function Bt(yt,Ct,nn=!0){return yt?yt.map(et=>(0,je.N7)(nn?Ct.typesWithGroup:Ct.typesWithoutGroup,et)):null}var wn;let Ut=wn=class extends Ne{constructor(yt){super(yt),this.elements=null,this.initialState="expanded",this.type="group"}castElements(yt){return Bt(yt,Cn,!1)}readElements(yt,Ct){return Hn(Ct.formElements,Cn,!1)}writeElements(yt,Ct){Ct.formElements=Mt(yt,Cn,!1)}clone(){return new wn({description:this.description,elements:(0,J.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,v._)([(0,ie.Cb)({json:{write:!0}})],Ut.prototype,"elements",void 0),(0,v._)([(0,ye.p)("elements")],Ut.prototype,"castElements",null),(0,v._)([(0,pe.r)("elements",["formElements"])],Ut.prototype,"readElements",null),(0,v._)([(0,De.c)("elements")],Ut.prototype,"writeElements",null),(0,v._)([(0,ie.Cb)({type:["collapsed","expanded"],json:{write:!0}})],Ut.prototype,"initialState",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:!1,write:!0}})],Ut.prototype,"type",void 0),Ut=wn=(0,v._)([(0,Ce.j)("esri.form.elements.GroupElement")],Ut);const Cn=Mn(Ut);var er;const or=Mn(Ut);let Hr=er=class extends ve.wq{constructor(yt){super(yt),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(yt){return Bt(yt,or)}readElements(yt,Ct){return Hn(Ct.formElements,or)}writeElements(yt,Ct){Ct.formElements=Mt(yt,or)}clone(){return new er({description:this.description,expressionInfos:(0,J.d9)(this.expressionInfos),elements:(0,J.d9)(this.elements),title:this.title})}};(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Hr.prototype,"description",void 0),(0,v._)([(0,ie.Cb)({json:{write:!0}})],Hr.prototype,"elements",void 0),(0,v._)([(0,ye.p)("elements")],Hr.prototype,"castElements",null),(0,v._)([(0,pe.r)("elements",["formElements"])],Hr.prototype,"readElements",null),(0,v._)([(0,De.c)("elements")],Hr.prototype,"writeElements",null),(0,v._)([(0,ie.Cb)({type:[nt],json:{write:!0}})],Hr.prototype,"expressionInfos",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{write:!0}})],Hr.prototype,"title",void 0),Hr=er=(0,v._)([(0,Ce.j)("esri.form.FormTemplate")],Hr);const wi=Hr;var Ei=p(2004),kr=p(79334),Fi=p(65234),rs=p(44917),fi=(p(29132),p(88879)),Ui=p(80542),hr=p(47996),Ii=p(60330),Hi=p(59289),Hs=p(61039),gi=p(20514),Bi=p(61515),Ts=p(17253),Li=p(37118),ps=p(71774);let ut=0;const Zn=Y.Z.getLogger("esri.layers.graphics.sources.MemorySource");let Pn=class extends(hr.Z.LoadableMixin((0,Ii.v)((0,Ui.p)(F.Z)))){constructor(yt){super(yt),this._idToClientGraphic=null,this.type="memory"}load(yt){const Ct=(0,oe.pC)(yt)?yt.signal:null;return this.addResolvingPromise(this._startWorker(Ct)),Promise.resolve(this)}destroy(){var yt;null==(yt=this._connection)||yt.close(),this._connection=null}get workerGeometryType(){var Ct;const yt=null==(Ct=this.layer)?void 0:Ct.geometryType;return yt?this._geometryTypeRequiresClientGraphicMapping(yt)?"polygon":yt:null}applyEdits(yt){return this.load().then(()=>this._applyEdits(yt))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(yt,Ct={}){var nn=this;return(0,d.Z)(function*(){yield nn.load(Ct);const et=yield nn._connection.invoke("queryFeatures",yt?yt.toJSON():null,Ct);(0,Bi.p)(yt,nn.layer.spatialReference,et);const St=Ts.default.fromJSON(et);if(!nn._requiresClientGraphicMapping())return St;const ht=nn.layer.objectIdField;for(const Wt of St.features){const Jn=nn._idToClientGraphic.get(Wt.attributes[ht]);Jn&&(Wt.geometry=Jn.geometry)}return St.geometryType=nn.layer.geometryType,St})()}queryFeaturesJSON(yt,Ct={}){var nn=this;return(0,d.Z)(function*(){if(nn._requiresClientGraphicMapping())throw new R.Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield nn.load(Ct);const et=yield nn._connection.invoke("queryFeatures",yt?yt.toJSON():null,Ct);return(0,Bi.p)(yt,nn.layer.spatialReference,et),et})()}queryFeatureCount(yt,Ct={}){return this.load(Ct).then(()=>this._connection.invoke("queryFeatureCount",yt?yt.toJSON():null,Ct))}queryObjectIds(yt,Ct={}){return this.load(Ct).then(()=>this._connection.invoke("queryObjectIds",yt?yt.toJSON():null,Ct))}queryExtent(yt,Ct={}){return this.load(Ct).then(()=>this._connection.invoke("queryExtent",yt?yt.toJSON():null,Ct)).then(nn=>({count:nn.count,extent:Ei.Z.fromJSON(nn.extent)}))}querySnapping(yt,Ct={}){return this.load(Ct).then(()=>this._connection.invoke("querySnapping",yt,Ct))}_applyEdits(yt){var Ct=this;return(0,d.Z)(function*(){if(!Ct._connection)throw new R.Z("feature-layer-source:edit-failure","Memory source not loaded");const nn=Ct.layer.objectIdField;let et=null;const St=[],ht=[];yield Promise.all([Ct._prepareClientMapping(yt.addFeatures,null),Ct._prepareClientMapping(yt.updateFeatures,null)]);const Wt=ri=>"objectId"in ri&&null!=ri.objectId?ri.objectId:"attributes"in ri&&null!=ri.attributes[nn]?ri.attributes[nn]:null;if(yt.addFeatures&&(et=Ct._prepareAddFeatures(yt.addFeatures)),yt.deleteFeatures)for(const ri of yt.deleteFeatures){const ji=Wt(ri);null!=ji&&St.push(ji)}const Sn=yt.updateFeatures&&Ct._idToClientGraphic?new Map:null;if(yt.updateFeatures)for(const ri of yt.updateFeatures)if(ht.push(Ct._serializeFeature(ri)),Sn){const ji=Wt(ri);null!=ji&&Sn.set(ji,ri)}(0,gi.P)(et?et.features:null,ht,Ct.layer.spatialReference);const{fullExtent:Jn,featureEditResults:mr}=yield Ct._connection.invoke("applyEdits",{adds:et?et.features:[],updates:ht,deletes:St});return Ct.fullExtent=Jn,et&&et.finish(mr.uidToObjectId),Ct._updateClientGraphicIds(Sn,mr),Ct._createEditsResult(mr)})()}_prepareClientMapping(yt,Ct){var nn=this;return(0,d.Z)(function*(){if("mesh"!==nn.layerOrSourceGeometryType||(0,oe.Wi)(yt))return;const et=[];for(const{geometry:St}of yt)!(0,oe.pC)(St)||"mesh"!==St.type||St.hasExtent||St.loaded||et.push(St.load({signal:Ct}));et.length&&(yield Promise.all(et))})()}_updateClientGraphicIds(yt,Ct){if(this._idToClientGraphic){if(yt)for(const nn of Ct.updateResults){if(!nn.success)continue;const et=yt.get(nn.objectId);null!=et&&this._addIdToClientGraphic(et)}for(const nn of Ct.deleteResults)nn.success&&this._idToClientGraphic.delete(nn.objectId)}}_createEditsResult(yt){return{addFeatureResults:yt.addResults?yt.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:yt.updateResults?yt.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:yt.deleteResults?yt.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(yt){const Ct=!0===yt.success?null:yt.error||{code:void 0,description:void 0};return{objectId:yt.objectId,globalId:yt.globalId,error:Ct?new R.Z("feature-layer-source:edit-failure",Ct.description,{code:Ct.code}):null}}_prepareAddFeatures(yt){const Ct=new Map,nn=new Array(yt.length);let et=null;for(let ht=0;ht<yt.length;ht++){const Wt=yt[ht],Sn=this._serializeFeature(Wt);!et&&(0,oe.pC)(Wt.geometry)&&(et=Wt.geometry.type),nn[ht]=Sn,Ct.set(`${Sn.uid}`,Wt)}const St=this;return{features:nn,inferredGeometryType:et,finish(ht){const Wt=St.sourceJSON.objectIdField;for(const Sn in ht){const Jn=ht[Sn],mr=Ct.get(Sn);mr&&(mr.attributes||(mr.attributes={}),-1===Jn?delete mr.attributes[Wt]:mr.attributes[Wt]=Jn,St._addIdToClientGraphic(mr))}}}}_addIdToClientGraphic(yt){if(!this._idToClientGraphic)return;const nn=yt.attributes&&yt.attributes[this.sourceJSON.objectIdField];null!=nn&&this._idToClientGraphic.set(nn,yt)}get layerOrSourceGeometryType(){var yt,Ct,nn;return null!=(nn=null==(yt=this.layer)?void 0:yt.geometryType)?nn:null==(Ct=this.sourceJSON)?void 0:Ct.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(yt){return this._geometryTypeRequiresClientGraphicMapping(yt.type)}_geometryTypeRequiresClientGraphicMapping(yt){return"mesh"===yt||"multipatch"===yt||"extent"===yt}_serializeFeature(yt){const{attributes:Ct}=yt,nn=this._geometryForSerialization(yt),et=(ut++).toString();return nn?{uid:et,geometry:nn.toJSON(),attributes:Ct}:{uid:et,attributes:Ct}}_geometryForSerialization(yt){const{geometry:Ct}=yt;return(0,oe.Wi)(Ct)?null:this._geometryRequiresClientGraphicMapping(Ct)?Ct.extent?Li.Z.fromExtent(Ct.extent):null:Ct}_startWorker(yt){var Ct=this;return(0,d.Z)(function*(){Ct._connection=yield(0,Hi.bA)("MemorySourceWorker",{strategy:(0,A.Z)("feature-layers-workers")?"dedicated":"local",signal:yt});const{fields:nn,spatialReference:et,objectIdField:St,hasM:ht,hasZ:Wt,timeInfo:Sn}=Ct.layer,Jn="defaults"===Ct.layer.originOf("spatialReference");yield Ct._prepareClientMapping(Ct.items,yt);const mr=Ct._prepareAddFeatures(Ct.items);Ct.handles.add(Ct.on("before-changes",_i=>{Zn.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),_i.preventDefault()}));const ri={features:mr.features,fields:nn&&nn.map(_i=>_i.toJSON()),geometryType:ps.P$.toJSON(Ct.workerGeometryType),hasM:"mesh"!==Ct.layerOrSourceGeometryType&&ht,hasZ:"mesh"===Ct.layerOrSourceGeometryType||Wt,objectIdField:St,spatialReference:Jn?null:et&&et.toJSON(),timeInfo:Sn?Sn.toJSON():null},ji=yield Ct._connection.invoke("load",ri,{signal:yt});for(const _i of ji.warnings)Zn.warn(_i.message,{layer:Ct.layer,warning:_i});ji.featureErrors.length&&Zn.warn(`Encountered ${ji.featureErrors.length} validation errors while loading features`,ji.featureErrors);const ki=ji.layerDefinition;Ct._geometryTypeRequiresClientGraphicMapping(mr.inferredGeometryType)&&(ki.geometryType=ps.P$.toJSON(mr.inferredGeometryType)),Ct.sourceJSON=ki,Ct._requiresClientGraphicMapping()&&(Ct._idToClientGraphic=new Map),mr.finish(ji.assignedObjectIds)})()}};(0,v._)([(0,Hs.c)({Type:fi.Z,ensureType:(0,je.se)(fi.Z)})],Pn.prototype,"itemType",void 0),(0,v._)([(0,ie.Cb)()],Pn.prototype,"type",void 0),(0,v._)([(0,ie.Cb)({constructOnly:!0})],Pn.prototype,"layer",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0})],Pn.prototype,"workerGeometryType",null),(0,v._)([(0,ie.Cb)()],Pn.prototype,"sourceJSON",void 0),Pn=(0,v._)([(0,Ce.j)("esri.layers.graphics.sources.MemorySource")],Pn);var kt,yr=p(50085),Pr=p(65088),ni=p(552),Yr=p(50107),Lr=p(35126),Oi=p(49286),li=p(32629),yi=p(6647),Un=p(30346),Qr=p(99555),cs=p(97941),rn=p(38305),gn=p(13812);let An=kt=class extends ve.wq{constructor(yt){super(yt)}clone(){const{name:yt,fields:Ct,isAscending:nn,isUnique:et,description:St}=this;return new kt({name:yt,fields:Ct,isAscending:nn,isUnique:et,description:St})}};(0,v._)([(0,ie.Cb)({constructOnly:!0})],An.prototype,"name",void 0),(0,v._)([(0,ie.Cb)({constructOnly:!0})],An.prototype,"fields",void 0),(0,v._)([(0,ie.Cb)({constructOnly:!0})],An.prototype,"isAscending",void 0),(0,v._)([(0,ie.Cb)({constructOnly:!0})],An.prototype,"isUnique",void 0),(0,v._)([(0,ie.Cb)({constructOnly:!0})],An.prototype,"description",void 0),An=kt=(0,v._)([(0,Ce.j)("esri.layers.support.FeatureIndex")],An);var fr=p(47717),wr=p(32777),Jr=p(41638),Br=p(55911),ti=p(36630),Ai=p(16730);let Fr=class extends((0,$.J)(ve.wq)){constructor(yt){super(yt),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,v._)([(0,ie.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Fr.prototype,"shapeAreaField",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Fr.prototype,"shapeLengthField",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:yt=>Ai.gV.read(yt)||Ai.Jo.read(yt)}})],Fr.prototype,"units",void 0),Fr=(0,v._)([(0,Ce.j)("esri.layers.support.GeometryFieldsInfo")],Fr);const Ni=Fr;var Ji=p(170),Gs=p(62667),Vi=p(2430);const Rs=new V.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Ps=new V.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Is=class extends((0,$.J)(ve.wq)){constructor(yt){super(yt),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,v._)([(0,ie.Cb)({json:{read:Rs.read,write:Rs.write}})],Is.prototype,"cardinality",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"composite",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"id",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"keyField",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"keyFieldInRelationshipTable",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"name",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"relatedTableId",void 0),(0,v._)([(0,ie.Cb)({json:{read:!0,write:!0}})],Is.prototype,"relationshipTableId",void 0),(0,v._)([(0,ie.Cb)({json:{read:Ps.read,write:Ps.write}})],Is.prototype,"role",void 0),Is=(0,v._)([(0,Ce.j)("esri.layers.support.Relationship")],Is);const Ds=Is;var yo=p(62708),Oo=p(5676),oo=p(15283),ho=p(39683),po=p(67736),qs=p(84952),$i=p(67010),gs=p(6871),Ys=p(49430),_o=p(92236);const cn=new V.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),_r={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Er="FeatureLayer",Jt=Y.Z.getLogger("esri.layers.FeatureLayer");function hn(yt,Ct){return new R.Z("layer:unsupported",`Layer (${yt.title}, ${yt.id}) of type '${yt.declaredClass}' ${Ct}`,{layer:yt})}function at(yt){return yt&&yt instanceof F.Z}function Vt(yt,Ct,nn){return!!(yt&&yt.hasOwnProperty(Ct)?yt[Ct]:nn)}function yn(yt,Ct,nn){return yt&&yt.hasOwnProperty(Ct)?yt[Ct]:nn}function rt(yt){var nn;const Ct=null==(nn=null==yt?void 0:yt.supportedSpatialAggregationStatistics)?void 0:nn.map(et=>et.toLowerCase());return{envelope:!!(null==Ct?void 0:Ct.includes("envelopeaggregate")),centroid:!!(null==Ct?void 0:Ct.includes("centroidaggregate")),convexHull:!!(null==Ct?void 0:Ct.includes("convexhullaggregate"))}}function Pt(yt,Ct){var et;const nn=null==(et=null==yt?void 0:yt.supportedOperationsWithCacheHint)?void 0:et.map(St=>St.toLowerCase());return!!(null==nn?void 0:nn.includes(Ct.toLowerCase()))}const tn=(0,Br.v)();function un(yt,Ct,nn){const et=!!(null==nn?void 0:nn.writeLayerSchema);return{enabled:et,ignoreOrigin:et}}let qt=class extends((0,Lr.b)((0,ni.h)((0,li.c)((0,cs.n)((0,Qr.M)((0,Un.Q)((0,Pr.Y)((0,Oi.q)((0,yi.I)((0,se.R)((0,Yr.N)((0,yr.V)((0,$.J)(rs.Z)))))))))))))){constructor(...yt){super(...yt),this._handles=new U.Z,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Fi.Z.WGS84,this.subtypeCode=null,this.subtypeField=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(F.Z.ofType(An)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var yt;null==(yt=this.source)||yt.destroy(),this._handles=(0,oe.SC)(this._handles)}normalizeCtorArgs(yt,Ct){return"string"==typeof yt?Nn({url:yt},Ct):yt}load(yt){var Ct=this;const nn=(0,oe.pC)(yt)?yt.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(nn).then(St=>this._initLayerProperties(St)));const et=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},yt).catch(de.r9).then((0,d.Z)(function*(){if(Ct.url&&null==Ct.layerId&&/FeatureServer|MapServer\/*$/i.test(Ct.url)){const St=yield Ct._fetchFirstLayerId(nn);null!=St&&(Ct.layerId=St)}if(!Ct.url&&!Ct._hasMemorySource())throw new R.Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return Ct._initLayerProperties(yield Ct.createGraphicsSource(nn))})).then(()=>this.finishLoadEditablePortalLayer(yt));return this.addResolvingPromise(et),Promise.resolve(this)}readCapabilities(yt,Ct){return{analytics:this._readAnalyticsCapabilities(Ct=Ct.layerDefinition||Ct),attachment:this._readAttachmentCapabilities(Ct),data:this._readDataCapabilities(Ct),metadata:this._readMetadataCapabilities(Ct),operations:this._readOperationsCapabilities(Ct.capabilities||yt,Ct),query:this._readQueryCapabilities(Ct),queryRelated:this._readQueryRelatedCapabilities(Ct),queryTopFeatures:this._readQueryTopFeaturesCapabilities(Ct),editing:this._readEditingCapabilities(Ct)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(yt){null!=yt?this._override("editingEnabled",yt):this._clearOverride("editingEnabled")}readEditingEnabled(yt,Ct){return this._readEditingEnabled(Ct,!1)}readEditingEnabledFromWebMap(yt,Ct,nn){return this._readEditingEnabled(Ct,!0,nn)}writeEditingEnabled(yt,Ct){this._writeEditingEnabled(yt,Ct,!1)}writeEditingEnabledToWebMap(yt,Ct,nn,et){this._writeEditingEnabled(yt,Ct,!0,et)}readEditingInfo(yt,Ct){const{editingInfo:nn}=Ct;return nn?{lastEditDate:null!=nn.lastEditDate?new Date(nn.lastEditDate):null}:null}readIsTable(yt,Ct){return"Table"===(Ct=Ct&&Ct.layerDefinition||Ct).type||!Ct.geometryType}writeIsTable(yt,Ct,nn,et){(null==et?void 0:et.writeLayerSchema)&&(0,le.RB)(nn,yt?"Table":"Feature Layer",Ct)}readMinScale(yt,Ct){return Ct.effectiveMinScale||yt||0}readMaxScale(yt,Ct){return Ct.effectiveMaxScale||yt||0}readGlobalIdFieldFromService(yt,Ct){if((Ct=Ct.layerDefinition||Ct).globalIdField)return Ct.globalIdField;if(Ct.fields)for(const nn of Ct.fields)if("esriFieldTypeGlobalID"===nn.type)return nn.name}readObjectIdFieldFromService(yt,Ct){if((Ct=Ct.layerDefinition||Ct).objectIdField)return Ct.objectIdField;if(Ct.fields)for(const nn of Ct.fields)if("esriFieldTypeOID"===nn.type)return nn.name}get parsedUrl(){const yt=this.url?(0,ue.mN)(this.url):null;return null!=yt&&(null!=this.dynamicDataSource?yt.path=(0,ue.v_)(yt.path,"dynamicLayer"):null!=this.layerId&&(yt.path=(0,ue.v_)(yt.path,this.layerId.toString()))),yt}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(yt){(0,ti.YN)(yt,this.fieldsIndex),this._set("renderer",yt)}readRenderer(yt,Ct,nn){const et=(Ct=Ct.layerDefinition||Ct).drawingInfo&&Ct.drawingInfo.renderer||void 0;if(et){const St=(0,ne.a)(et,Ct,nn)||void 0;return St||Jt.error("Failed to create renderer",{rendererDefinition:Ct.drawingInfo.renderer,layer:this,context:nn}),St}if(Ct.defaultSymbol)return Ct.types&&Ct.types.length?new Q.Z({defaultSymbol:xn(Ct.defaultSymbol,Ct,nn),field:Ct.typeIdField,uniqueValueInfos:Ct.types.map(St=>({id:St.id,symbol:xn(St.symbol,St,nn)}))}):new B.Z({symbol:xn(Ct.defaultSymbol,Ct,nn)})}set source(yt){const Ct=this._get("source");Ct!==yt&&(at(Ct)&&this._resetMemorySource(Ct),at(yt)&&this._initMemorySource(yt),this._set("source",yt))}castSource(yt){return yt?Array.isArray(yt)||yt instanceof F.Z?new Pn({layer:this,items:yt}):yt:null}readSource(yt,Ct){const nn=Ts.default.fromJSON(Ct.featureSet);return new Pn({layer:this,items:nn&&nn.features||[]})}readServiceDefinitionExpression(yt,Ct){return Ct.definitionQuery||Ct.definitionExpression}readTemplates(yt,Ct){const nn=Ct.editFieldsInfo,et=nn&&nn.creatorField,St=nn&&nn.editorField;return yt=yt&&yt.map(ht=>wr.Z.fromJSON(ht)),this._fixTemplates(yt,et),this._fixTemplates(yt,St),yt}readTitle(yt,Ct){const nn=Ct.layerDefinition&&Ct.layerDefinition.name||Ct.name,et=Ct.title||Ct.layerDefinition&&Ct.layerDefinition.title;if(nn){const St=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,rn.a7)(this.url,nn):nn;let ht=nn;if(!ht&&this.url){const Wt=(0,rn.Qc)(this.url);(0,oe.pC)(Wt)&&(ht=Wt.title)}return ht?("item-title-and-service-name"===this.sublayerTitleMode&&St&&St!==ht&&(ht=St+" - "+ht),(0,rn.ld)(ht)):void 0}if("item-title"===this.sublayerTitleMode&&et)return et}readTitleFromWebMap(yt,Ct){return Ct.title||Ct.layerDefinition&&Ct.layerDefinition.name}readTypeIdField(yt,Ct){let nn=(Ct=Ct.layerDefinition||Ct).typeIdField;if(nn&&Ct.fields){nn=nn.toLowerCase();const et=Ct.fields.find(St=>St.name.toLowerCase()===nn);et&&(nn=et.name)}return nn}readTypes(yt,Ct){yt=(Ct=Ct.layerDefinition||Ct).types;const nn=Ct.editFieldsInfo,et=nn&&nn.creatorField,St=nn&&nn.editorField;return yt&&yt.map(ht=>(ht=Jr.Z.fromJSON(ht),this._fixTemplates(ht.templates,et),this._fixTemplates(ht.templates,St),ht))}set url(yt){const Ct=(0,rn.XG)({layer:this,url:yt,nonStandardUrlAllowed:!0,logger:Jt});this._set("url",Ct.url),null!=Ct.layerId&&this._set("layerId",Ct.layerId)}writeUrl(yt,Ct,nn,et){(0,rn.wH)(this,yt,null,Ct,et)}readVersion(yt,Ct){return Ct.currentVersion?Ct.currentVersion:Ct.hasOwnProperty("capabilities")||Ct.hasOwnProperty("drawingInfo")||Ct.hasOwnProperty("hasAttachments")||Ct.hasOwnProperty("htmlPopupType")||Ct.hasOwnProperty("relationships")||Ct.hasOwnProperty("timeInfo")||Ct.hasOwnProperty("typeIdField")||Ct.hasOwnProperty("types")?10:9.3}readVisible(yt,Ct){return Ct.layerDefinition&&null!=Ct.layerDefinition.defaultVisibility?!!Ct.layerDefinition.defaultVisibility:null!=Ct.visibility?!!Ct.visibility:void 0}addAttachment(yt,Ct){return this.load().then(()=>this._checkAttachmentSupport(yt)).then(()=>{if(!("addAttachment"in this.source))throw new R.Z(Er,"Layer source does not support addAttachment capability");return this.source.addAttachment(yt,Ct)})}updateAttachment(yt,Ct,nn){return this.load().then(()=>this._checkAttachmentSupport(yt)).then(()=>{if(!("updateAttachment"in this.source))throw new R.Z(Er,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(yt,Ct,nn)})}applyEdits(yt,Ct){var nn=this;return(0,d.Z)(function*(){const et=yield p.e(1913).then(p.bind(p,81913));return yield nn.load(),et.applyEdits(nn,nn.source,yt,Ct)})()}on(yt,Ct){return super.on(yt,Ct)}createPopupTemplate(yt){return(0,Ys.eZ)(this,yt)}createGraphicsSource(yt){var Ct=this;return(0,d.Z)(function*(){if(Ct._hasMemorySource())return Ct.source.load({signal:yt});const{default:nn}=yield(0,de.Hl)(p.e(114).then(p.bind(p,30114)),yt);return new nn({layer:Ct}).load({signal:yt})})()}createQuery(){const yt=new qs.Z,Ct=this.get("capabilities.data"),nn=this.get("capabilities.query");yt.dynamicDataSource=this.dynamicDataSource,yt.historicMoment=this.historicMoment,yt.gdbVersion=this.gdbVersion,yt.returnGeometry=!0,nn&&(yt.compactGeometryEnabled=nn.supportsCompactGeometry,yt.defaultSpatialReferenceEnabled=nn.supportsDefaultSpatialReference),Ct&&(Ct.supportsZ&&null!=this.returnZ&&(yt.returnZ=this.returnZ),Ct.supportsM&&null!=this.returnM&&(yt.returnM=this.returnM)),yt.outFields=["*"];const et=(0,oe.pC)(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,St=(0,q._)(this.definitionExpression,et);yt.where=St||"1=1";const{timeOffset:ht,timeExtent:Wt}=this;return yt.timeExtent=null!=ht&&null!=Wt?Wt.offset(-ht.value,ht.unit):Wt||null,yt.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,yt}deleteAttachments(yt,Ct){return this.load().then(()=>this._checkAttachmentSupport(yt)).then(()=>{if(!("deleteAttachments"in this.source))throw new R.Z(Er,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(yt,Ct)})}fetchRecomputedExtents(yt){return this.load({signal:null==yt?void 0:yt.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(yt);throw new R.Z(Er,"Layer source does not support fetchUpdates capability")})}getFeatureType(yt){const{typeIdField:Ct,types:nn}=this;if(!Ct||!yt)return null;const et=yt.attributes?yt.attributes[Ct]:void 0;if(null==et)return null;let St=null;return nn.some(ht=>{const{id:Wt}=ht;return null!=Wt&&(Wt.toString()===et.toString()&&(St=ht),!!St)}),St}getFieldDomain(yt,Ct){const et=this.getFeatureType(Ct&&Ct.feature);if(et){const St=et.domains&&et.domains[yt];if(St&&"inherited"!==St.type)return St}return this._getLayerDomain(yt)}getField(yt){return this.fieldsIndex.get(yt)}queryAttachments(yt,Ct){return yt=po.Z.from(yt),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new R.Z(Er,"this layer doesn't support attachments");const{attachmentTypes:nn,objectIds:et,globalIds:St,num:ht,size:Wt,start:Sn,where:Jn}=yt;if(!this.get("capabilities.operations.supportsQueryAttachments")){const ri=nn&&nn.length,ji=St&&St.length,ki=Wt&&Wt.length;if(et&&et.length>1||ri||ji||ki||ht||Sn||Jn)throw new R.Z(Er,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",yt)}if(!(et&&et.length||Jn))throw new R.Z(Er,"'objectIds' or 'where' are required to perform attachment query",yt);if(!("queryAttachments"in this.source))throw new R.Z(Er,"Layer source does not support queryAttachments capability",yt);return this.source.queryAttachments(yt)})}queryFeatures(yt,Ct){return this.load().then(()=>this.source.queryFeatures(qs.Z.from(yt)||this.createQuery(),Ct)).then(nn=>{if(null==nn?void 0:nn.features)for(const et of nn.features)et.layer=et.sourceLayer=this;return nn})}queryObjectIds(yt,Ct){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(qs.Z.from(yt)||this.createQuery(),Ct);throw new R.Z(Er,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(yt,Ct){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(qs.Z.from(yt)||this.createQuery(),Ct);throw new R.Z(Er,"Layer source does not support queryFeatureCount capability")})}queryExtent(yt,Ct){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(qs.Z.from(yt)||this.createQuery(),Ct);throw new R.Z(Er,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(yt,Ct){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures($i.Z.from(yt),Ct);throw new R.Z(Er,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(yt,Ct){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount($i.Z.from(yt),Ct);throw new R.Z(Er,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(yt,Ct){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(gs.Z.from(yt),Ct).then(nn=>{if(null==nn?void 0:nn.features)for(const et of nn.features)et.layer=et.sourceLayer=this;return nn});throw new R.Z(Er,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(yt,Ct){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(gs.Z.from(yt),Ct);throw new R.Z(Er,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(yt,Ct){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(gs.Z.from(yt),Ct);throw new R.Z(Er,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(yt,Ct){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(gs.Z.from(yt),Ct);throw new R.Z(Er,"Layer source does not support queryFeatureCount capability")})}read(yt,Ct){const nn=yt.featureCollection;if(nn){const et=nn.layers;et&&1===et.length&&(super.read(et[0],Ct),null!=nn.showLegend&&super.read({showLegend:nn.showLegend},Ct))}super.read(yt,Ct),Ct&&"service"===Ct.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(yt,Ct){var ht;Ct=Wi(Nn({},Ct),{writeLayerSchema:null!=(ht=null==Ct?void 0:Ct.writeLayerSchema)?ht:this._hasMemorySource()});const{origin:nn,layerContainerType:et,messages:St}=Ct;if(this.dynamicDataSource)return null==St||St.push(hn(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===nn||"web-map"===nn&&"tables"!==et)return null==St||St.push(hn(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return null==St||St.push(hn(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===nn&&"tables"===et)return null==St||St.push(hn(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(yt,Ct)}clone(){if(this._hasMemorySource())throw new R.Z(Er,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(yt){return!!this.loaded&&("memory"===this.source.type||(0,Oo.D)(this,yt))}save(yt){var Ct=this;return(0,d.Z)(function*(){return(yield Promise.all([p.e(8592),p.e(6533)]).then(p.bind(p,36912))).save(Ct,yt)})()}saveAs(yt,Ct){var nn=this;return(0,d.Z)(function*(){return(yield Promise.all([p.e(8592),p.e(6533)]).then(p.bind(p,36912))).saveAs(nn,yt,Ct)})()}_readEditingEnabled(yt,Ct,nn){var St;let et=null==(St=yt.layerDefinition)?void 0:St.capabilities;return et?this._hasEditingCapability(et):(et=yt.capabilities,Ct&&"web-map"===(null==nn?void 0:nn.origin)&&!this._hasMemorySource()&&et?this._hasEditingCapability(et):void 0)}_hasEditingCapability(yt){return yt.toLowerCase().split(",").map(Ct=>Ct.trim()).includes("editing")}_writeEditingEnabled(yt,Ct,nn,et){var St,ht;if(!yt){const Wt=(null==(ht=null==(St=this.capabilities)?void 0:St.operations)?void 0:ht.supportsSync)?"Query,Sync":"Query";(0,le.RB)("layerDefinition.capabilities",Wt,Ct),nn&&!(null==et?void 0:et.writeLayerSchema)&&(Ct.capabilities=Wt)}}_checkAttachmentSupport(yt){const{attributes:Ct}=yt,{objectIdField:nn}=this;return this.get("capabilities.data.supportsAttachment")?yt?Ct?Ct[nn]?void 0:Promise.reject(new R.Z(Er,`feature is missing the identifying attribute ${nn}`)):Promise.reject(new R.Z(Er,"'attributes' are required on a feature to query attachments")):Promise.reject(new R.Z(Er,"A feature is required to add/delete/update attachments")):Promise.reject(new R.Z(Er,"this layer doesn't support attachments"))}_getLayerDomain(yt){const Ct=this.fieldsIndex.get(yt);return Ct?Ct.domain:null}_fetchFirstLayerId(yt){return(0,ae.default)(this.url,{query:Wi(Nn({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:yt}).then(Ct=>{const nn=Ct.data;if(nn)return Array.isArray(nn.layers)&&nn.layers.length>0?nn.layers[0].id:Array.isArray(nn.tables)&&nn.tables.length>0?nn.tables[0].id:void 0})}_initLayerProperties(yt){var Ct=this;return(0,d.Z)(function*(){return Ct._set("source",yt),yt.sourceJSON&&(Ct.sourceJSON=yt.sourceJSON,Ct.read(yt.sourceJSON,{origin:"service",url:Ct.parsedUrl})),Ct._verifySource(),Ct._verifyFields(),(0,ti.YN)(Ct.renderer,Ct.fieldsIndex),(0,ti.UF)(Ct.timeInfo,Ct.fieldsIndex),(0,ho.y)(Ct,{origin:"service"})})()}hasDataChanged(){var yt=this;return(0,d.Z)(function*(){var Ct,nn;if(null==(Ct=yt.source)?void 0:Ct.refresh)try{const{dataChanged:et,updates:St}=yield null==(nn=yt.source)?void 0:nn.refresh();if((0,oe.pC)(St)&&(yt.sourceJSON=Nn(Nn({},yt.sourceJSON),St),yt.read(St,{origin:"service",url:yt.parsedUrl})),et)return!0}catch(et){}if(yt.definitionExpression)try{return(yield(0,q.E)(yt.definitionExpression,yt.fieldsIndex)).hasDateFunctions}catch(et){}return!1})()}_verifyFields(){var Ct;const yt=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+yt+")"),this.isTable||this._hasMemorySource()||-1!==yt.search(/\/FeatureServer\//i)||(null==(Ct=this.fields)?void 0:Ct.some(nn=>"geometry"===nn.type))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+yt+")")}_fixTemplates(yt,Ct){yt&&yt.forEach(nn=>{const et=nn.prototype&&nn.prototype.attributes;et&&Ct&&delete et[Ct]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new R.Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new R.Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(yt){yt.forEach(Ct=>{Ct.layer=this,Ct.sourceLayer=this}),this._handles.add([yt.on("after-add",Ct=>{Ct.item.layer=this,Ct.item.sourceLayer=this}),yt.on("after-remove",Ct=>{Ct.item.layer=null,Ct.item.sourceLayer=null})],"fl-source")}_resetMemorySource(yt){yt.forEach(Ct=>{Ct.layer=null,Ct.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAnalyticsCapabilities(yt){return{supportsCacheHint:Pt(yt.advancedQueryCapabilities,"queryAnalytics")}}_readAttachmentCapabilities(yt){const Ct=yt.attachmentProperties,nn={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Pt(yt.advancedQueryCapabilities,"queryAttachments"),supportsResize:Vt(yt,"supportsAttachmentsResizing",!1)};return Ct&&Array.isArray(Ct)&&Ct.forEach(et=>{const St=_r[et.name];St&&(nn[St]=!!et.isEnabled)}),nn}_readDataCapabilities(yt){return{isVersioned:Vt(yt,"isDataVersioned",!1),supportsAttachment:Vt(yt,"hasAttachments",!1),supportsM:Vt(yt,"hasM",!1),supportsZ:Vt(yt,"hasZ",!1)}}_readMetadataCapabilities(yt){return{supportsAdvancedFieldProperties:Vt(yt,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(yt,Ct){const nn=yt?yt.toLowerCase().split(",").map(ji=>ji.trim()):[],et=this.url?(0,rn.Qc)(this.url):null,St=nn.includes((0,oe.pC)(et)&&"MapServer"===et.serverType?"data":"query"),ht=nn.includes("editing")&&!Ct.datesInUnknownTimezone;let Wt=ht&&nn.includes("create"),Sn=ht&&nn.includes("delete"),Jn=ht&&nn.includes("update");const mr=nn.includes("changetracking"),ri=Ct.advancedQueryCapabilities;return ht&&!(Wt||Sn||Jn)&&(Wt=Sn=Jn=!0),{supportsCalculate:Vt(Ct,"supportsCalculate",!1),supportsTruncate:Vt(Ct,"supportsTruncate",!1),supportsValidateSql:Vt(Ct,"supportsValidateSql",!1),supportsAdd:Wt,supportsDelete:Sn,supportsEditing:ht,supportsChangeTracking:mr,supportsQuery:St,supportsQueryAnalytics:Vt(ri,"supportsQueryAnalytic",!1),supportsQueryAttachments:Vt(ri,"supportsQueryAttachments",!1),supportsQueryTopFeatures:Vt(ri,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Vt(Ct,"supportsAttachmentsResizing",!1),supportsSync:nn.includes("sync"),supportsUpdate:Jn,supportsExceedsLimitStatistics:Vt(Ct,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(yt){var Jn;const Ct=yt.advancedQueryCapabilities,nn=yt.ownershipBasedAccessControlForFeatures,et=yt.archivingInfo,St=null==(Jn=this.url)?void 0:Jn.includes("MapServer"),ht=!(0,A.Z)("mapserver-pbf-enabled")&&St&&this.version<10.81,Wt=(0,rn.M8)(this.url),Sn=(yt.supportedQueryFormats||"").split(",").reduce((mr,ri)=>{const ji=ri.toLowerCase().trim();return ji&&mr.add(ji),mr},new Set);return{supportsStatistics:Vt(Ct,"supportsStatistics",yt.supportsStatistics),supportsPercentileStatistics:Vt(Ct,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Vt(Ct,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:rt(Ct),supportsCentroid:Vt(Ct,"supportsReturningGeometryCentroid",!1),supportsDistance:Vt(Ct,"supportsQueryWithDistance",!1),supportsDistinct:Vt(Ct,"supportsDistinct",yt.supportsAdvancedQueries),supportsExtent:Vt(Ct,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Vt(Ct,"supportsReturningGeometryProperties",!1),supportsHavingClause:Vt(Ct,"supportsHavingClause",!1),supportsOrderBy:Vt(Ct,"supportsOrderBy",yt.supportsAdvancedQueries),supportsPagination:Vt(Ct,"supportsPagination",!1),supportsQuantization:Vt(yt,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Vt(yt,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Vt(yt,"supportsReturningQueryGeometry",!1),supportsResultType:Vt(Ct,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Vt(Ct,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Vt(Ct,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Vt(yt,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Vt(Ct,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Vt(nn,"allowOthersToQuery",!0),supportsHistoricMoment:Vt(et,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!ht&&Sn.has("pbf"),supportsDisjointSpatialRelationship:Vt(Ct,"supportsDisjointSpatialRel",!1),supportsCacheHint:Vt(Ct,"supportsQueryWithCacheHint",!1)||Pt(Ct,"query"),supportsDefaultSpatialReference:Vt(Ct,"supportsDefaultSR",!1),supportsCompactGeometry:Wt,maxRecordCountFactor:yn(yt,"maxRecordCountFactor",void 0),maxRecordCount:yn(yt,"maxRecordCount",void 0),standardMaxRecordCount:yn(yt,"standardMaxRecordCount",void 0),tileMaxRecordCount:yn(yt,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(yt){const Ct=yt.advancedQueryCapabilities,nn=Vt(Ct,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Vt(Ct,"supportsQueryRelatedPagination",!1),supportsCount:nn,supportsOrderBy:nn,supportsCacheHint:Pt(Ct,"queryRelated")}}_readQueryTopFeaturesCapabilities(yt){return{supportsCacheHint:Pt(yt.advancedQueryCapabilities,"queryTopFilter")}}_readEditingCapabilities(yt){const Ct=yt.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Vt(yt,"allowGeometryUpdates",!0),supportsGlobalId:Vt(yt,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Vt(yt,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Vt(yt,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Vt(yt,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Vt(yt,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Vt(Ct,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Vt(Ct,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Vt(Ct,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Vt(Ct,"allowOthersToUpdate",!0)}}};(0,v._)([(0,ie.Cb)({readOnly:!0,json:{read:!1}})],qt.prototype,"capabilities",void 0),(0,v._)([(0,pe.r)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],qt.prototype,"readCapabilities",null),(0,v._)([(0,ie.Cb)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],qt.prototype,"charts",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"createQueryVersion",null),(0,v._)([(0,ie.Cb)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],qt.prototype,"copyright",void 0),(0,v._)([(0,ie.Cb)({type:Boolean})],qt.prototype,"datesInUnknownTimezone",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],qt.prototype,"displayField",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],qt.prototype,"definitionExpression",void 0),(0,v._)([(0,ie.Cb)({types:re.LB,readOnly:!0})],qt.prototype,"defaultSymbol",void 0),(0,v._)([(0,ie.Cb)({type:oo.n})],qt.prototype,"dynamicDataSource",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"editFieldsInfo",void 0),(0,v._)([(0,ie.Cb)({type:Boolean})],qt.prototype,"editingEnabled",null),(0,v._)([(0,pe.r)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],qt.prototype,"readEditingEnabled",null),(0,v._)([(0,pe.r)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],qt.prototype,"readEditingEnabledFromWebMap",null),(0,v._)([(0,De.c)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],qt.prototype,"writeEditingEnabled",null),(0,v._)([(0,De.c)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],qt.prototype,"writeEditingEnabledToWebMap",null),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"editingInfo",void 0),(0,v._)([(0,pe.r)("editingInfo")],qt.prototype,"readEditingInfo",null),(0,v._)([(0,ie.Cb)((()=>{const yt=(0,J.d9)(gn.PV),Ct=yt.json.origins;return Ct["web-map"]={read:!1,write:!1},Ct["portal-item"]={read:!1,write:!1},yt})())],qt.prototype,"elevationInfo",void 0),(0,v._)([(0,ie.Cb)(fr.d)],qt.prototype,"featureReduction",void 0),(0,v._)([(0,ie.Cb)(Wi(Nn({},tn.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:un}}}}}))],qt.prototype,"fields",void 0),(0,v._)([(0,ie.Cb)(tn.fieldsIndex)],qt.prototype,"fieldsIndex",void 0),(0,v._)([(0,ie.Cb)({type:Vi.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],qt.prototype,"floorInfo",void 0),(0,v._)([(0,ie.Cb)({type:wi,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],qt.prototype,"formTemplate",void 0),(0,v._)([(0,ie.Cb)({type:Ei.Z,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],qt.prototype,"fullExtent",void 0),(0,v._)([(0,ie.Cb)()],qt.prototype,"gdbVersion",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0,type:Ni,json:{read:{source:"geometryProperties"}}})],qt.prototype,"geometryFieldsInfo",void 0),(0,v._)([(0,ie.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:cn.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:un,writer(yt,Ct,nn){const et=yt?cn.toJSON(yt):null;et&&(0,le.RB)(nn,et,Ct)}}}},read:{source:"layerDefinition.geometryType",reader:cn.read}}})],qt.prototype,"geometryType",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],qt.prototype,"hasM",void 0),(0,v._)([(0,ie.Cb)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],qt.prototype,"hasZ",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0,type:kr.Z})],qt.prototype,"heightModelInfo",void 0),(0,v._)([(0,ie.Cb)({type:Date})],qt.prototype,"historicMoment",void 0),(0,v._)([(0,ie.Cb)(gn.id)],qt.prototype,"id",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],qt.prototype,"infoFor3D",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],qt.prototype,"isTable",void 0),(0,v._)([(0,pe.r)("service","isTable",["type","geometryType"]),(0,pe.r)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],qt.prototype,"readIsTable",null),(0,v._)([(0,De.c)("web-map","isTable")],qt.prototype,"writeIsTable",null),(0,v._)([(0,ie.Cb)(gn.iR)],qt.prototype,"labelsVisible",void 0),(0,v._)([(0,ie.Cb)({type:[Ji.Z],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Gs.r},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Gs.r},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],qt.prototype,"labelingInfo",void 0),(0,v._)([(0,ie.Cb)((()=>{const yt=(0,J.d9)(gn.bT);return yt.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(Ct,nn,et){(0,le.RB)(et,(0,_o.a)(Ct),nn)}}},yt})())],qt.prototype,"opacity",void 0),(0,v._)([(0,ie.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],qt.prototype,"layerId",void 0),(0,v._)([(0,ie.Cb)(gn.rn)],qt.prototype,"legendEnabled",void 0),(0,v._)([(0,ie.Cb)({type:["show","hide"],json:(()=>{const yt=(0,J.d9)(gn.rT.json);return yt.origins["portal-item"]={read:!1,write:!1},yt})()})],qt.prototype,"listMode",void 0),(0,v._)([(0,ie.Cb)(gn.rO)],qt.prototype,"minScale",void 0),(0,v._)([(0,pe.r)("service","minScale",["minScale","effectiveMinScale"])],qt.prototype,"readMinScale",null),(0,v._)([(0,ie.Cb)(gn.u1)],qt.prototype,"maxScale",void 0),(0,v._)([(0,pe.r)("service","maxScale",["maxScale","effectiveMaxScale"])],qt.prototype,"readMaxScale",null),(0,v._)([(0,ie.Cb)({type:String})],qt.prototype,"globalIdField",void 0),(0,v._)([(0,pe.r)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,pe.r)("service","globalIdField",["globalIdField","fields"])],qt.prototype,"readGlobalIdFieldFromService",null),(0,v._)([(0,ie.Cb)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:un}}}}})],qt.prototype,"objectIdField",void 0),(0,v._)([(0,pe.r)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,pe.r)("service","objectIdField",["objectIdField","fields"])],qt.prototype,"readObjectIdFieldFromService",null),(0,v._)([(0,ie.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],qt.prototype,"operationalLayerType",void 0),(0,v._)([(0,ie.Cb)(tn.outFields)],qt.prototype,"outFields",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"parsedUrl",null),(0,v._)([(0,ie.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],qt.prototype,"path",void 0),(0,v._)([(0,ie.Cb)(gn.C_)],qt.prototype,"popupEnabled",void 0),(0,v._)([(0,ie.Cb)({type:X.Z,json:{name:"popupInfo",write:!0}})],qt.prototype,"popupTemplate",void 0),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"defaultPopupTemplate",null),(0,v._)([(0,ie.Cb)({type:[Ds],readOnly:!0})],qt.prototype,"relationships",void 0),(0,v._)([(0,ie.Cb)({types:te.A,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:te.o,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(yt,Ct,nn)=>({ignoreOrigin:null==nn?void 0:nn.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(yt,Ct,nn)=>({ignoreOrigin:null==nn?void 0:nn.writeLayerSchema})}}})],qt.prototype,"renderer",null),(0,v._)([(0,pe.r)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,pe.r)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],qt.prototype,"readRenderer",null),(0,v._)([(0,ie.Cb)()],qt.prototype,"sourceJSON",void 0),(0,v._)([(0,ie.Cb)({type:Boolean})],qt.prototype,"returnM",void 0),(0,v._)([(0,ie.Cb)({type:Boolean})],qt.prototype,"returnZ",void 0),(0,v._)([(0,ie.Cb)((()=>{const yt=(0,J.d9)(gn.YI);return yt.json.origins["portal-item"]={read:!1,write:!1},yt})())],qt.prototype,"screenSizePerspectiveEnabled",void 0),(0,v._)([(0,ie.Cb)({clonable:!1})],qt.prototype,"source",null),(0,v._)([(0,ye.p)("source")],qt.prototype,"castSource",null),(0,v._)([(0,pe.r)("portal-item","source",["featureSet"]),(0,pe.r)("web-map","source",["featureSet"])],qt.prototype,"readSource",null),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"serviceDefinitionExpression",void 0),(0,v._)([(0,pe.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],qt.prototype,"readServiceDefinitionExpression",null),(0,v._)([(0,ie.Cb)({type:Fi.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],qt.prototype,"spatialReference",void 0),(0,v._)([(0,ie.Cb)({type:Number})],qt.prototype,"subtypeCode",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{origins:{service:{read:!0}}}})],qt.prototype,"subtypeField",void 0),(0,v._)([(0,ie.Cb)({type:[wr.Z]})],qt.prototype,"templates",void 0),(0,v._)([(0,pe.r)("templates",["editFieldsInfo","creatorField","editorField","templates"])],qt.prototype,"readTemplates",null),(0,v._)([(0,ie.Cb)({type:yo.Z})],qt.prototype,"timeInfo",void 0),(0,v._)([(0,ie.Cb)()],qt.prototype,"title",void 0),(0,v._)([(0,pe.r)("service","title",["name"]),(0,pe.r)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],qt.prototype,"readTitle",null),(0,v._)([(0,pe.r)("web-map","title",["layerDefinition.name","title"])],qt.prototype,"readTitleFromWebMap",null),(0,v._)([(0,ie.Cb)({type:String})],qt.prototype,"sublayerTitleMode",void 0),(0,v._)([(0,ie.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],qt.prototype,"trackIdField",void 0),(0,v._)([(0,ie.Cb)({json:{read:!1}})],qt.prototype,"type",void 0),(0,v._)([(0,ie.Cb)({type:String})],qt.prototype,"typeIdField",void 0),(0,v._)([(0,pe.r)("service","typeIdField"),(0,pe.r)("typeIdField",["layerDefinition.typeIdField"])],qt.prototype,"readTypeIdField",null),(0,v._)([(0,ie.Cb)({type:[Jr.Z]})],qt.prototype,"types",void 0),(0,v._)([(0,pe.r)("service","types",["types"]),(0,pe.r)("types",["layerDefinition.types"])],qt.prototype,"readTypes",null),(0,v._)([(0,ie.Cb)({readOnly:!0,json:{write:!1}})],qt.prototype,"serverGens",void 0),(0,v._)([(0,ie.Cb)({type:F.Z.ofType(An),readOnly:!0})],qt.prototype,"indexes",void 0),(0,v._)([(0,ie.Cb)(gn.HQ)],qt.prototype,"url",null),(0,v._)([(0,De.c)("url")],qt.prototype,"writeUrl",null),(0,v._)([(0,ie.Cb)({readOnly:!0})],qt.prototype,"userIsAdmin",void 0),(0,v._)([(0,ie.Cb)({json:{origins:{service:{read:!0}},read:!1}})],qt.prototype,"version",void 0),(0,v._)([(0,pe.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],qt.prototype,"readVersion",null),(0,v._)([(0,ie.Cb)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],qt.prototype,"visible",void 0),(0,v._)([(0,pe.r)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],qt.prototype,"readVisible",null),qt=(0,v._)([(0,Ce.j)("esri.layers.FeatureLayer")],qt);const xn=(0,Me.d)({types:re.QT}),Kn=qt},44917:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>se});var d=p(15861),v=p(17626),G=(p(29132),p(84792)),z=p(26584),Z=p(61885),D=p(61996),k=p(47996),N=p(63290),B=p(10699),Q=p(21726),ne=p(77712),$=(p(85931),p(8314),p(90912),p(76898)),F=p(59318);const R=N.Z.getLogger("esri.layers.support.fromPortalItem");function A(){return(A=(0,d.Z)(function*(le){const de="portalItem"in le?le:{portalItem:le},q=yield p.e(7534).then(p.bind(p,7534));try{return yield q.fromItem(de)}catch(ue){const ie=de&&de.portalItem;throw R.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+(ie&&ie.portal&&ie.portal.url||F.Z.portalUrl)+"', id: '"+(ie&&ie.id||"unset")+"')",ue),ue}})).apply(this,arguments)}var V=p(2004),J=p(65234);let Y=0,oe=class extends(Z.Z.EventedMixin((0,D.IG)(k.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new V.Z(-180,-90,180,90,J.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+Y++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=J.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static fromArcGISServerUrl(le){return(0,d.Z)(function*(){const de="string"==typeof le?{url:le}:le;return(yield Promise.all([p.e(8592),p.e(164)]).then(p.bind(p,24578))).fromUrl(de)})()}static fromPortalItem(le){return function U(le){return A.apply(this,arguments)}(le)}initialize(){this.when().catch(le=>{var de,q;(0,B.D_)(le)||N.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(de=this.title)?de:"no title"}', id: '${null!=(q=this.id)?q:"no id"}')`,{error:le})})}destroy(){if(this.parent){const le=this,de=this.parent;"layers"in de&&de.layers.includes(le)?de.layers.remove(le):"tables"in de&&de.tables.includes(le)?de.tables.remove(le):"baseLayers"in de&&de.baseLayers.includes(le)?de.baseLayers.remove(le):"baseLayers"in de&&de.referenceLayers.includes(le)&&de.referenceLayers.remove(le)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const le=this.url;return le?(0,Q.mN)(le):null}fetchAttributionData(){var le=this;return(0,d.Z)(function*(){const de=le.attributionDataUrl;if(le.hasAttributionData&&de)return(yield(0,G.default)(de,{query:{f:"json"},responseType:"json"})).data;throw new z.Z("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,v._)([(0,ne.Cb)({type:String})],oe.prototype,"attributionDataUrl",void 0),(0,v._)([(0,ne.Cb)({type:V.Z})],oe.prototype,"fullExtent",void 0),(0,v._)([(0,ne.Cb)({readOnly:!0})],oe.prototype,"hasAttributionData",null),(0,v._)([(0,ne.Cb)({type:String,clonable:!1})],oe.prototype,"id",void 0),(0,v._)([(0,ne.Cb)({type:Boolean,nonNullable:!0})],oe.prototype,"legendEnabled",void 0),(0,v._)([(0,ne.Cb)({type:["show","hide","hide-children"]})],oe.prototype,"listMode",void 0),(0,v._)([(0,ne.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],oe.prototype,"opacity",void 0),(0,v._)([(0,ne.Cb)({clonable:!1})],oe.prototype,"parent",void 0),(0,v._)([(0,ne.Cb)({readOnly:!0})],oe.prototype,"parsedUrl",null),(0,v._)([(0,ne.Cb)({type:Boolean})],oe.prototype,"popupEnabled",void 0),(0,v._)([(0,ne.Cb)({type:Boolean})],oe.prototype,"attributionVisible",void 0),(0,v._)([(0,ne.Cb)({type:J.Z})],oe.prototype,"spatialReference",void 0),(0,v._)([(0,ne.Cb)({type:String})],oe.prototype,"title",void 0),(0,v._)([(0,ne.Cb)({readOnly:!0,json:{read:!1}})],oe.prototype,"type",void 0),(0,v._)([(0,ne.Cb)()],oe.prototype,"url",void 0),(0,v._)([(0,ne.Cb)({type:Boolean,nonNullable:!0})],oe.prototype,"visible",void 0),oe=(0,v._)([(0,$.j)("esri.layers.Layer")],oe);const se=oe},28678:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>q});var d=p(17626),X=(p(29132),p(84792)),G=p(26584),z=p(99959),Z=p(77275),D=p(21726),k=p(77712),ne=(p(85931),p(8314),p(90912),p(68653)),te=p(76898),ae=p(99433),re=p(44917),$=p(552),F=p(49286),R=p(6647),U=p(30346),A=p(99555),V=p(72258),J=p(2584),Y=p(91309),oe=p(2004),se=p(65234),le=p(49672);let de=class extends((0,$.h)((0,U.Q)((0,A.M)((0,F.q)((0,R.I)((0,z.R)(re.Z))))))){constructor(...ue){super(...ue),this.copyright="",this.fullExtent=new oe.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,se.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=se.Z.WebMercator,this.subDomains=null,this.tileInfo=new J.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new le.Z({x:-20037508.342787,y:20037508.342787,spatialReference:se.Z.WebMercator}),spatialReference:se.Z.WebMercator,lods:[new V.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new V.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new V.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new V.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new V.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new V.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new V.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new V.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new V.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new V.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new V.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new V.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new V.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new V.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new V.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new V.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new V.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new V.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new V.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new V.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new V.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new V.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new V.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new V.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(ue,ie){return"string"==typeof ue?Nn({urlTemplate:ue},ie):ue}load(ue){const ie=this.loadFromPortal({supportedTypes:["WMTS"]},ue).then(()=>{let ye="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const pe=new D.R9(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&pe.authority.includes("{subDomain}")&&(ye="is missing 'subDomains' property")}else ye="spatialReference must match tileInfo.spatialReference";else ye="is missing the required 'urlTemplate' property value";if(ye)throw new G.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${ye}`)});return this.addResolvingPromise(ie),Promise.resolve(this)}get levelValues(){const ue=[];if(!this.tileInfo)return null;for(const ie of this.tileInfo.lods)ue[ie.level]=ie.levelValue||ie.level;return ue}readSpatialReference(ue,ie){return ue||ie.fullExtent&&ie.fullExtent.spatialReference&&se.Z.fromJSON(ie.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const ue=[],{urlTemplate:ie,subDomains:ye}=this,pe=new D.R9(ie),Ce=pe.scheme?pe.scheme+"://":"//",De=Ce+pe.authority+"/";if(pe.authority.includes("{subDomain}")){if(ye&&ye.length>0&&pe.authority.split(".").length>1)for(const Me of ye)ue.push(Ce+pe.authority.replace(/\{subDomain\}/gi,Me)+"/")}else ue.push(De);return ue.map(Me=>("/"!==Me.charAt(Me.length-1)&&(Me+="/"),Me))}get urlPath(){if(!this.urlTemplate)return null;const ue=this.urlTemplate,ie=new D.R9(ue);return ue.substring(((ie.scheme?ie.scheme+"://":"//")+ie.authority+"/").length)}readUrlTemplate(ue,ie){return ue||ie.templateUrl}writeUrlTemplate(ue,ie){ue&&(0,D.oC)(ue)&&(ue="https:"+ue),ue&&(ue=ue.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),ue=(0,D.Fv)(ue)),ie.templateUrl=ue}fetchTile(ue,ie,ye,pe={}){const{signal:Ce}=pe,De=this.getTileUrl(ue,ie,ye),Me={responseType:"image",signal:Ce,query:Nn({},this.refreshParameters)};return(0,X.default)(De,Me).then(ve=>ve.data)}getTileUrl(ue,ie,ye){const pe=this.levelValues[ue];return this.tileServers[ie%this.tileServers.length]+(0,Z.gx)(this.urlPath,{level:pe,z:pe,col:ye,x:ye,row:ie,y:ie})}};(0,d._)([(0,k.Cb)({type:String,value:"",json:{write:!0}})],de.prototype,"copyright",void 0),(0,d._)([(0,k.Cb)({type:oe.Z,json:{write:!0},nonNullable:!0})],de.prototype,"fullExtent",void 0),(0,d._)([(0,k.Cb)({readOnly:!0,json:{read:!1,write:!1}})],de.prototype,"legendEnabled",void 0),(0,d._)([(0,k.Cb)({type:["show","hide"]})],de.prototype,"listMode",void 0),(0,d._)([(0,k.Cb)({json:{read:!0,write:!0}})],de.prototype,"blendMode",void 0),(0,d._)([(0,k.Cb)()],de.prototype,"levelValues",null),(0,d._)([(0,k.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],de.prototype,"isReference",void 0),(0,d._)([(0,k.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],de.prototype,"operationalLayerType",void 0),(0,d._)([(0,k.Cb)({readOnly:!0,json:{read:!1,write:!1}})],de.prototype,"popupEnabled",void 0),(0,d._)([(0,k.Cb)({type:se.Z})],de.prototype,"spatialReference",void 0),(0,d._)([(0,ne.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],de.prototype,"readSpatialReference",null),(0,d._)([(0,k.Cb)({type:[String],json:{write:!0}})],de.prototype,"subDomains",void 0),(0,d._)([(0,k.Cb)({type:J.Z,json:{write:!0}})],de.prototype,"tileInfo",void 0),(0,d._)([(0,k.Cb)({readOnly:!0})],de.prototype,"tileServers",null),(0,d._)([(0,k.Cb)({json:{read:!1}})],de.prototype,"type",void 0),(0,d._)([(0,k.Cb)()],de.prototype,"urlPath",null),(0,d._)([(0,k.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],de.prototype,"urlTemplate",void 0),(0,d._)([(0,ne.r)("urlTemplate",["urlTemplate","templateUrl"])],de.prototype,"readUrlTemplate",null),(0,d._)([(0,ae.c)("urlTemplate",{templateUrl:{type:String}})],de.prototype,"writeUrlTemplate",null),(0,d._)([(0,k.Cb)({type:Y.B,json:{write:!0}})],de.prototype,"wmtsInfo",void 0),de=(0,d._)([(0,te.j)("esri.layers.WebTileLayer")],de);const q=de},58141:(wt,Se,p)=>{"use strict";p.d(Se,{rk:()=>te,Tj:()=>ae,GI:()=>re,CE:()=>$,Tq:()=>F,Zx:()=>R,Ee:()=>V});var d=p(20414),v=p(23841),X=p(55494),G=p(28347);class te{constructor(Y,oe,se){this.strength=Y,this.radius=oe,this.threshold=se,this.type="bloom"}interpolate(Y,oe,se){this.strength=U(Y.strength,oe.strength,se),this.radius=U(Y.radius,oe.radius,se),this.threshold=U(Y.threshold,oe.threshold,se)}clone(){return new te(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:A(this.radius),strength:this.strength,threshold:this.threshold}}}class ae{constructor(Y){this.radius=Y,this.type="blur"}interpolate(Y,oe,se){this.radius=Math.round(U(Y.radius,oe.radius,se))}clone(){return new ae(this.radius)}toJSON(){return{type:"blur",radius:A(this.radius)}}}class re{constructor(Y,oe){this.type=Y,this.amount=oe,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(Y,oe,se){this.amount=U(Y.amount,oe.amount,se),this._updateMatrix()}clone(){return new re(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const Y=this._colorMatrix||(0,X.c)();switch(this.type){case"brightness":this._colorMatrix=((J,Y)=>{const oe=(0,G.s)(J,Y,0,0,0,0,Y,0,0,0,0,Y,0,0,0,0,1);return(0,G.t)(oe,oe)})(Y,this.amount);break;case"contrast":this._colorMatrix=((J,Y)=>{const oe=(0,G.s)(J,Y,0,0,.5-.5*Y,0,Y,0,.5-.5*Y,0,0,Y,.5-.5*Y,0,0,0,1);return(0,G.t)(oe,oe)})(Y,this.amount);break;case"grayscale":this._colorMatrix=((J,Y)=>{const oe=1-this.amount,se=(0,G.s)(J,.2126+.7874*oe,.7152-.7152*oe,.0722-.0722*oe,0,.2126-.2126*oe,.7152+.2848*oe,.0722-.0722*oe,0,.2126-.2126*oe,.7152-.7152*oe,.0722+.9278*oe,0,0,0,0,1);return(0,G.t)(se,se)})(Y);break;case"invert":this._colorMatrix=((J,Y)=>{const oe=1-2*Y,se=(0,G.s)(J,oe,0,0,Y,0,oe,0,Y,0,0,oe,Y,0,0,0,1);return(0,G.t)(se,se)})(Y,this.amount);break;case"saturate":this._colorMatrix=((J,Y)=>{const oe=(0,G.s)(J,.213+.787*Y,.715-.715*Y,.072-.072*Y,0,.213-.213*Y,.715+.285*Y,.072-.072*Y,0,.213-.213*Y,.715-.715*Y,.072+.928*Y,0,0,0,0,1);return(0,G.t)(oe,oe)})(Y,this.amount);break;case"sepia":this._colorMatrix=((J,Y)=>{const oe=1-this.amount,se=(0,G.s)(J,.393+.607*oe,.769-.769*oe,.189-.189*oe,0,.349-.349*oe,.686+.314*oe,.168-.168*oe,0,.272-.272*oe,.534-.534*oe,.131+.869*oe,0,0,0,0,1);return(0,G.t)(se,se)})(Y)}}}class ${constructor(Y,oe,se,le){this.offsetX=Y,this.offsetY=oe,this.blurRadius=se,this.color=le,this.type="drop-shadow"}interpolate(Y,oe,se){this.offsetX=U(Y.offsetX,oe.offsetX,se),this.offsetY=U(Y.offsetY,oe.offsetY,se),this.blurRadius=U(Y.blurRadius,oe.blurRadius,se),this.color[0]=Math.round(U(Y.color[0],oe.color[0],se)),this.color[1]=Math.round(U(Y.color[1],oe.color[1],se)),this.color[2]=Math.round(U(Y.color[2],oe.color[2],se)),this.color[3]=U(Y.color[3],oe.color[3],se)}clone(){return new $(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const Y=[...this.color];return Y[3]*=255,{type:"drop-shadow",xoffset:A(this.offsetX),yoffset:A(this.offsetY),blurRadius:A(this.blurRadius),color:Y}}}class F{constructor(Y){this.angle=Y,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(Y,oe,se){this.angle=U(Y.angle,oe.angle,se),this._updateMatrix()}clone(){return new F(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const Y=this._colorMatrix||(0,X.c)();this._colorMatrix=((J,Y)=>{const oe=Math.sin(Y*Math.PI/180),se=Math.cos(Y*Math.PI/180),le=(0,G.s)(J,.213+.787*se-.213*oe,.715-.715*se-.715*oe,.072-.072*se+.928*oe,0,.213-.213*se+.143*oe,.715+.285*se+.14*oe,.072-.072*se-.283*oe,0,.213-.213*se-.787*oe,.715-.715*se+.715*oe,.072+.928*se+.072*oe,0,0,0,0,1);return(0,G.t)(le,le)})(Y,this.angle)}}class R{constructor(Y){this.amount=Y,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(Y,oe,se){this.amount=U(Y.amount,oe.amount,se)}clone(){return new R(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function U(J,Y,oe){return J+(Y-J)*oe}function A(J){return Math.round(1e3*(0,v.Wz)(J))/1e3}function V(J){switch(J.type){case"grayscale":case"sepia":case"invert":return new re(J.type,0);case"saturate":case"brightness":case"contrast":return new re(J.type,1);case"opacity":return new R(1);case"hue-rotate":return new F(0);case"blur":return new ae(0);case"drop-shadow":return new $(0,0,0,[...(0,d.h$)("transparent")]);case"bloom":return new te(0,0,1)}}},71149:(wt,Se,p)=>{"use strict";p.d(Se,{cW:()=>Z,ij:()=>z,rM:()=>B});var d=p(26584),v=p(94113),X=p(29538),G=p(53390);function z(te,ae,re){var $;try{return function k(te){if(!te||0===te.length)return null;if(function N(te){const ae=te[0];return!!ae&&"scale"in ae}(te)){const ae=[];for(const re of te)ae.push({scale:re.scale,value:B(re.value)});return ae}return B(te)}(te)}catch(F){null==($=null==re?void 0:re.messages)||$.push(F)}return null}function Z(te,ae,re,$){try{const F=function D(te){const ae=(0,X.Q)(te);return ae?(0,G.Cb)(ae)?ae.map(re=>re.toJSON()):ae.map(({scale:re,effects:$})=>({scale:re,value:$.map(F=>F.toJSON())})):null}(te);(0,v.RB)(re,F,ae)}catch(F){$.messages&&$.messages.push(F)}}function B(te){if(!te||!te.length)return"";const ae=[];for(const re of te){let $=[];switch(re.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":$=[Q(re,"amount")];break;case"blur":$=[Q(re,"radius","pt")];break;case"hue-rotate":$=[Q(re,"angle","deg")];break;case"drop-shadow":$=[Q(re,"xoffset","pt"),Q(re,"yoffset","pt"),Q(re,"blurRadius","pt"),ne(re,"color")];break;case"bloom":$=[Q(re,"strength"),Q(re,"radius","pt"),Q(re,"threshold")]}const F=`${re.type}(${$.filter(Boolean).join(" ")})`;(0,X.Q)(F),ae.push(F)}return ae.join(" ")}function Q(te,ae,re){if(null==te[ae])throw new d.Z("effect:missing-parameter",`Missing parameter '${ae}' in ${te.type} effect`,{effect:te});return re?te[ae]+re:""+te[ae]}function ne(te,ae){if(null==te[ae])throw new d.Z("effect:missing-parameter",`Missing parameter '${ae}' in ${te.type} effect`,{effect:te});const re=te[ae];return`rgba(${re[0]||0}, ${re[1]||0}, ${re[2]||0}, ${re[3]/255||0})`}},29538:(wt,Se,p)=>{"use strict";p.d(Se,{Q:()=>N});var Z,d=p(20414),v=p(26584),X=p(58141),z=(p(1719),p(53390)),k={exports:{}};function N(ve){if(!ve||0===ve.length)return null;if("string"==typeof ve){const je=B(ve);return je&&0!==je.length?je:null}const Le=ve.map(je=>{if(!Number.isFinite(je.scale)||je.scale<=0)throw new v.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:je});return{scale:je.scale,effects:B(je.value)}});Le.sort((je,_e)=>_e.effects.length-je.effects.length);for(let je=0;je<Le.length-1;je++){if(!(0,z.AS)(Le[je].effects,Le[je+1].effects))throw new v.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:Le[je].effects,b:Le[je+1].effects});(0,z.uF)(Le[je].effects,Le[je+1].effects)}return Le.sort((je,_e)=>_e.scale-je.scale),Le}function B(ve){let Le;if(!ve)return[];try{Le=k.exports.parse(ve)}catch(je){throw new v.Z("effect:invalid-syntax","Invalid effect syntax",{value:ve,error:je})}return Le.map(je=>function Q(ve){try{switch(ve.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function ne(ve){let Le=1;return R(ve.parameters,1),1===ve.parameters.length&&(Le=de(ve.parameters[0])),new X.GI(ve.name,Le)}(ve);case"opacity":return function te(ve){let Le=1;return R(ve.parameters,1),1===ve.parameters.length&&(Le=de(ve.parameters[0])),new X.Zx(Le)}(ve);case"hue-rotate":return function ae(ve){let Le=0;return R(ve.parameters,1),1===ve.parameters.length&&(Le=function ue(ve){return function oe(ve){if("quantity"!==ve.type||!(0===ve.value&&null===ve.unit||ve.unit&&null!=Y[ve.unit]))throw new v.Z("effect:type-error",`Expected <angle>, Actual: ${U(ve)}`,{term:ve})}(ve),ve.value*Y[ve.unit]||0}(ve.parameters[0])),new X.Tq(Le)}(ve);case"blur":return function re(ve){let Le=0;return R(ve.parameters,1),1===ve.parameters.length&&(Le=ie(ve.parameters[0]),A(Le,ve.parameters[0])),new X.Tj(Le)}(ve);case"drop-shadow":return function $(ve){const Le=[];let je=null;for(const _e of ve.parameters)if("color"===_e.type){if(Le.length&&Object.freeze(Le),je)throw new v.Z("effect:type-error","Accepts only one color",{});je=ye(_e)}else{const Re=ie(_e);if(Object.isFrozen(Le))throw new v.Z("effect:type-error","<length> parameters not consecutive",{lengths:Le});Le.push(Re),3===Le.length&&A(Re,_e)}if(Le.length<2||Le.length>3)throw new v.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${Le.length}}`,{lengths:Le});return new X.CE(Le[0],Le[1],Le[2]||0,je||pe("black"))}(ve);case"bloom":return function F(ve){let Le=1,je=0,_e=0;return R(ve.parameters,3),ve.parameters[0]&&(Le=de(ve.parameters[0])),ve.parameters[1]&&(je=ie(ve.parameters[1]),A(je,ve.parameters[1])),ve.parameters[2]&&(_e=de(ve.parameters[2])),new X.rk(Le,je,_e)}(ve)}}catch(Le){throw Le.details.filter=ve,Le}throw new v.Z("effect:unknown-effect",`Effect '${ve.name}' is not supported`,{effect:ve})}(je))}function R(ve,Le){if(ve.length>Le)throw new v.Z("effect:type-error",`Function supports up to ${Le} parameters, Actual: ${ve.length}`,{parameters:ve})}function U(ve){if("color"===ve.type)return"<color>";if(ve.unit){if(se[ve.unit])return"<length>";if(Y[ve.unit])return"<angle>";if("%"===ve.unit)return"<percentage>"}return"<double>"}function A(ve,Le){if(ve<0)throw new v.Z("effect:type-error",`Negative values are not allowed, Actual: ${ve}`,{term:Le})}(Z=k).exports&&(Z.exports=function(){function Le(Re,nt,pt,Ne){var xe=Error.call(this,Re);return Object.setPrototypeOf&&Object.setPrototypeOf(xe,Le.prototype),xe.expected=nt,xe.found=pt,xe.location=Ne,xe.name="SyntaxError",xe}function je(Re,nt,pt){return pt=pt||" ",Re.length>nt?Re:Re+(pt+=pt.repeat(nt-=Re.length)).slice(0,nt)}return function ve(Re,nt){function pt(){this.constructor=Re}pt.prototype=nt.prototype,Re.prototype=new pt}(Le,Error),Le.prototype.format=function(Re){var nt="Error: "+this.message;if(this.location){var pt,Ne=null;for(pt=0;pt<Re.length;pt++)if(Re[pt].source===this.location.source){Ne=Re[pt].text.split(/\r\n|\n|\r/g);break}var xe=this.location.start,Ye=this.location.source+":"+xe.line+":"+xe.column;if(Ne){var Ke=this.location.end,Fe=je("",xe.line.toString().length),Ze=Ne[xe.line-1],ct=xe.line===Ke.line?Ke.column:Ze.length+1;nt+="\n --\x3e "+Ye+"\n"+Fe+" |\n"+xe.line+" | "+Ze+"\n"+Fe+" | "+je("",xe.column-1)+je("",ct-xe.column,"^")}else nt+="\n at "+Ye}return nt},Le.buildMessage=function(Re,nt){var pt={literal:function(ct){return'"'+xe(ct.text)+'"'},class:function(ct){var we=ct.parts.map(function(Be){return Array.isArray(Be)?Ye(Be[0])+"-"+Ye(Be[1]):Ye(Be)});return"["+(ct.inverted?"^":"")+we+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(ct){return ct.description}};function Ne(ct){return ct.charCodeAt(0).toString(16).toUpperCase()}function xe(ct){return ct.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(we){return"\\x0"+Ne(we)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(we){return"\\x"+Ne(we)})}function Ye(ct){return ct.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(we){return"\\x0"+Ne(we)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(we){return"\\x"+Ne(we)})}function Ke(ct){return pt[ct.type](ct)}return"Expected "+function Fe(ct){var we,Be,Je=ct.map(Ke);if(Je.sort(),Je.length>0){for(we=1,Be=1;we<Je.length;we++)Je[we-1]!==Je[we]&&(Je[Be]=Je[we],Be++);Je.length=Be}switch(Je.length){case 1:return Je[0];case 2:return Je[0]+" or "+Je[1];default:return Je.slice(0,-1).join(", ")+", or "+Je[Je.length-1]}}(Re)+" but "+function Ze(ct){return ct?'"'+xe(ct)+'"':"end of input"}(nt)+" found."},{SyntaxError:Le,parse:function _e(Re,nt){var pt,Ne={},xe=(nt=void 0!==nt?nt:{}).grammarSource,Ye={start:Ji},Ke=Ji,en=/^[ \t\n\r]/,En=/^[a-z\-]/,Dn=/^[0-9a-fA-F]/,Xn=/^[+\-]/,pr=/^[0-9]/,Tr=Br("none"),vr=fr("none",!1),zn=fr(")",!1),zt=fr(",",!1),sn=Br("whitespace"),pn=wr([" ","\t","\n","\r"],!1,!1),In=Br("function"),Wn=fr("(",!1),jn=Br("identifier"),$n=wr([["a","z"],"-"],!1,!1),Ht=Br("percentage"),ir=fr("%",!1),Qn=Br("length"),Ar=fr("px",!1),Dr=fr("cm",!1),an=fr("mm",!1),Mn=fr("in",!1),Hn=fr("pt",!1),Mt=fr("pc",!1),Bt=Br("angle"),wn=fr("deg",!1),Ut=fr("rad",!1),Cn=fr("grad",!1),Bn=fr("turn",!1),er=Br("number"),or=Br("color"),Hr=fr("#",!1),wi=wr([["0","9"],["a","f"],["A","F"]],!1,!1),Ei=wr(["+","-"],!1,!1),kr=wr([["0","9"]],!1,!1),Fi=fr(".",!1),rs=fr("e",!1),Un=0,Qr=0,cs=[{line:1,column:1}],rn=0,gn=[],kt=0;if("startRule"in nt){if(!(nt.startRule in Ye))throw new Error("Can't start parsing from rule \""+nt.startRule+'".');Ke=Ye[nt.startRule]}function An(){return Re.substring(Qr,Un)}function fr(cn,_r){return{type:"literal",text:cn,ignoreCase:_r}}function wr(cn,_r,Er){return{type:"class",parts:cn,inverted:_r,ignoreCase:Er}}function Br(cn){return{type:"other",description:cn}}function ti(cn){var _r,Er=cs[cn];if(Er)return Er;for(_r=cn-1;!cs[_r];)_r--;for(Er={line:(Er=cs[_r]).line,column:Er.column};_r<cn;)10===Re.charCodeAt(_r)?(Er.line++,Er.column=1):Er.column++,_r++;return cs[cn]=Er,Er}function Fr(cn){Un<rn||(Un>rn&&(rn=Un,gn=[]),gn.push(cn))}function Ji(){var cn;return(cn=function Gs(){var cn,_r;return kt++,cn=Un,Ds(),"none"===Re.substr(Un,4)?(_r="none",Un+=4):(_r=Ne,0===kt&&Fr(vr)),_r!==Ne?(Ds(),Qr=cn,cn=[]):(Un=cn,cn=Ne),kt--,cn===Ne&&0===kt&&Fr(Tr),cn}())===Ne&&(cn=function Vi(){var cn,_r;if(cn=[],(_r=Rs())!==Ne)for(;_r!==Ne;)cn.push(_r),_r=Rs();else cn=Ne;return cn}()),cn}function Rs(){var cn,_r,Er,Jt;return cn=Un,Ds(),(_r=function yo(){var cn,_r,Er;return kt++,cn=Un,(_r=Oo())!==Ne?(40===Re.charCodeAt(Un)?(Er="(",Un++):(Er=Ne,0===kt&&Fr(Wn)),Er!==Ne?(Qr=cn,cn=_r):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),kt--,cn===Ne&&(_r=Ne,0===kt&&Fr(In)),cn}())!==Ne?(Ds(),(Er=function Ps(){var cn,_r,Er,Jt,hn,at,Vt,yn;if(cn=Un,(_r=Is())!==Ne){for(Er=[],Jt=Un,hn=Ds(),44===Re.charCodeAt(Un)?(at=",",Un++):(at=Ne,0===kt&&Fr(zt)),at===Ne&&(at=null),Vt=Ds(),(yn=Is())!==Ne?Jt=hn=[hn,at,Vt,yn]:(Un=Jt,Jt=Ne);Jt!==Ne;)Er.push(Jt),Jt=Un,hn=Ds(),44===Re.charCodeAt(Un)?(at=",",Un++):(at=Ne,0===kt&&Fr(zt)),at===Ne&&(at=null),Vt=Ds(),(yn=Is())!==Ne?Jt=hn=[hn,at,Vt,yn]:(Un=Jt,Jt=Ne);Qr=cn,cn=function(cn,_r){return _r.length>0?function _o(cn,_r,Er){return[cn].concat(function Ys(cn,_r){return cn.map(function(Er){return Er[_r]})}(_r,Er))}(cn,_r,3):[cn]}(_r,Er)}else Un=cn,cn=Ne;return cn}())===Ne&&(Er=null),Ds(),41===Re.charCodeAt(Un)?(Jt=")",Un++):(Jt=Ne,0===kt&&Fr(zn)),Jt!==Ne?(Ds(),Qr=cn,cn=function(cn,_r){return{type:"function",name:cn,parameters:_r||[]}}(_r,Er)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn}function Is(){var cn,_r;return cn=Un,(_r=function oo(){var cn,_r,Er;return kt++,cn=Un,Ds(),(_r=gs())!==Ne?(37===Re.charCodeAt(Un)?(Er="%",Un++):(Er=Ne,0===kt&&Fr(ir)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"%"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),kt--,cn===Ne&&0===kt&&Fr(Ht),cn}())===Ne&&(_r=function ho(){var cn,_r,Er;return kt++,cn=Un,Ds(),(_r=gs())!==Ne?("px"===Re.substr(Un,2)?(Er="px",Un+=2):(Er=Ne,0===kt&&Fr(Ar)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"px"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,Ds(),(_r=gs())!==Ne?("cm"===Re.substr(Un,2)?(Er="cm",Un+=2):(Er=Ne,0===kt&&Fr(Dr)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"cm"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,Ds(),(_r=gs())!==Ne?("mm"===Re.substr(Un,2)?(Er="mm",Un+=2):(Er=Ne,0===kt&&Fr(an)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"mm"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,Ds(),(_r=gs())!==Ne?("in"===Re.substr(Un,2)?(Er="in",Un+=2):(Er=Ne,0===kt&&Fr(Mn)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"in"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,Ds(),(_r=gs())!==Ne?("pt"===Re.substr(Un,2)?(Er="pt",Un+=2):(Er=Ne,0===kt&&Fr(Hn)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"pt"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,Ds(),(_r=gs())!==Ne?("pc"===Re.substr(Un,2)?(Er="pc",Un+=2):(Er=Ne,0===kt&&Fr(Mt)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"pc"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne)))))),kt--,cn===Ne&&0===kt&&Fr(Qn),cn}())===Ne&&(_r=function po(){var cn,_r,Er;return kt++,cn=Un,(_r=gs())!==Ne?("deg"===Re.substr(Un,3)?(Er="deg",Un+=3):(Er=Ne,0===kt&&Fr(wn)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"deg"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,(_r=gs())!==Ne?("rad"===Re.substr(Un,3)?(Er="rad",Un+=3):(Er=Ne,0===kt&&Fr(Ut)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"rad"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,(_r=gs())!==Ne?("grad"===Re.substr(Un,4)?(Er="grad",Un+=4):(Er=Ne,0===kt&&Fr(Cn)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"grad"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne),cn===Ne&&(cn=Un,(_r=gs())!==Ne?("turn"===Re.substr(Un,4)?(Er="turn",Un+=4):(Er=Ne,0===kt&&Fr(Bn)),Er!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:"turn"}}(_r)):(Un=cn,cn=Ne)):(Un=cn,cn=Ne)))),kt--,cn===Ne&&(_r=Ne,0===kt&&Fr(Bt)),cn}())===Ne&&(_r=function qs(){var cn,_r;return kt++,cn=Un,Ds(),(_r=gs())!==Ne?(Qr=cn,cn=function(cn){return{value:cn,unit:null}}(_r)):(Un=cn,cn=Ne),kt--,cn===Ne&&0===kt&&Fr(er),cn}()),_r!==Ne&&(Qr=cn,_r=function(cn){return{type:"quantity",value:cn.value,unit:cn.unit}}(_r)),(cn=_r)===Ne&&(cn=Un,(_r=function $i(){var cn,_r,Er,Jt;if(kt++,cn=Un,35===Re.charCodeAt(Un)?(_r="#",Un++):(_r=Ne,0===kt&&Fr(Hr)),_r!==Ne){if(Er=[],Dn.test(Re.charAt(Un))?(Jt=Re.charAt(Un),Un++):(Jt=Ne,0===kt&&Fr(wi)),Jt!==Ne)for(;Jt!==Ne;)Er.push(Jt),Dn.test(Re.charAt(Un))?(Jt=Re.charAt(Un),Un++):(Jt=Ne,0===kt&&Fr(wi));else Er=Ne;Er!==Ne?(Qr=cn,cn={type:"hex",value:An()}):(Un=cn,cn=Ne)}else Un=cn,cn=Ne;return cn===Ne&&(cn=Un,(_r=Rs())!==Ne&&(Qr=cn,_r=function(cn){return{type:"function",value:cn}}(_r)),(cn=_r)===Ne&&(cn=Un,(_r=Oo())!==Ne&&(Qr=cn,_r={type:"named",value:An()}),cn=_r)),kt--,cn===Ne&&(_r=Ne,0===kt&&Fr(or)),cn}())!==Ne&&(Qr=cn,_r=function(cn){return{type:"color",colorType:cn.type,value:cn.value}}(_r)),cn=_r),cn}function Ds(){var cn,_r;for(kt++,cn=[],en.test(Re.charAt(Un))?(_r=Re.charAt(Un),Un++):(_r=Ne,0===kt&&Fr(pn));_r!==Ne;)cn.push(_r),en.test(Re.charAt(Un))?(_r=Re.charAt(Un),Un++):(_r=Ne,0===kt&&Fr(pn));return kt--,_r=Ne,0===kt&&Fr(sn),cn}function Oo(){var cn,_r,Er;if(kt++,cn=Un,_r=[],En.test(Re.charAt(Un))?(Er=Re.charAt(Un),Un++):(Er=Ne,0===kt&&Fr($n)),Er!==Ne)for(;Er!==Ne;)_r.push(Er),En.test(Re.charAt(Un))?(Er=Re.charAt(Un),Un++):(Er=Ne,0===kt&&Fr($n));else _r=Ne;return _r!==Ne&&(Qr=cn,_r=An()),kt--,(cn=_r)===Ne&&(_r=Ne,0===kt&&Fr(jn)),cn}function gs(){var cn,_r,Er,Jt,hn,at,Vt;for(cn=Un,Xn.test(Re.charAt(Un))?(Re.charAt(Un),Un++):0===kt&&Fr(Ei),_r=Un,Er=[],pr.test(Re.charAt(Un))?(Jt=Re.charAt(Un),Un++):(Jt=Ne,0===kt&&Fr(kr));Jt!==Ne;)Er.push(Jt),pr.test(Re.charAt(Un))?(Jt=Re.charAt(Un),Un++):(Jt=Ne,0===kt&&Fr(kr));if(46===Re.charCodeAt(Un)?(Jt=".",Un++):(Jt=Ne,0===kt&&Fr(Fi)),Jt!==Ne){if(hn=[],pr.test(Re.charAt(Un))?(at=Re.charAt(Un),Un++):(at=Ne,0===kt&&Fr(kr)),at!==Ne)for(;at!==Ne;)hn.push(at),pr.test(Re.charAt(Un))?(at=Re.charAt(Un),Un++):(at=Ne,0===kt&&Fr(kr));else hn=Ne;hn!==Ne?_r=Er=[Er,Jt,hn]:(Un=_r,_r=Ne)}else Un=_r,_r=Ne;if(_r===Ne)if(_r=[],pr.test(Re.charAt(Un))?(Er=Re.charAt(Un),Un++):(Er=Ne,0===kt&&Fr(kr)),Er!==Ne)for(;Er!==Ne;)_r.push(Er),pr.test(Re.charAt(Un))?(Er=Re.charAt(Un),Un++):(Er=Ne,0===kt&&Fr(kr));else _r=Ne;if(_r!==Ne){if(Er=Un,101===Re.charCodeAt(Un)?(Jt="e",Un++):(Jt=Ne,0===kt&&Fr(rs)),Jt!==Ne){if(Xn.test(Re.charAt(Un))?(hn=Re.charAt(Un),Un++):(hn=Ne,0===kt&&Fr(Ei)),hn===Ne&&(hn=null),at=[],pr.test(Re.charAt(Un))?(Vt=Re.charAt(Un),Un++):(Vt=Ne,0===kt&&Fr(kr)),Vt!==Ne)for(;Vt!==Ne;)at.push(Vt),pr.test(Re.charAt(Un))?(Vt=Re.charAt(Un),Un++):(Vt=Ne,0===kt&&Fr(kr));else at=Ne;at!==Ne?Er=Jt=[Jt,hn,at]:(Un=Er,Er=Ne)}else Un=Er,Er=Ne;Er===Ne&&(Er=null),Qr=cn,cn=parseFloat(An())}else Un=cn,cn=Ne;return cn}if((pt=Ke())!==Ne&&Un===Re.length)return pt;throw pt!==Ne&&Un<Re.length&&Fr({type:"end"}),function Ni(cn,_r,Er){return new Le(Le.buildMessage(cn,_r),cn,_r,Er)}(gn,rn<Re.length?Re.charAt(rn):null,function Ai(cn,_r){var Er=ti(cn),Jt=ti(_r);return{source:xe,start:{offset:cn,line:Er.line,column:Er.column},end:{offset:_r,line:Jt.line,column:Jt.column}}}(rn,rn<Re.length?rn+1:rn))}}}());const Y={deg:1,grad:.9,rad:180/Math.PI,turn:360},se={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function de(ve){!function J(ve){if("quantity"!==ve.type||null!==ve.unit&&"%"!==ve.unit)throw new v.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${U(ve)}`,{term:ve})}(ve);const Le=ve.value;return A(Le,ve),"%"===ve.unit?.01*Le:Le}function ie(ve){return function le(ve){if("quantity"!==ve.type||!(0===ve.value&&null===ve.unit||ve.unit&&null!=se[ve.unit]))throw new v.Z("effect:type-error",`Expected <length>, Actual: ${U(ve)}`,{term:ve})}(ve),ve.value*se[ve.unit]||0}function ye(ve){switch(ve.colorType){case"hex":return(0,d.rW)(ve.value);case"named":return pe(ve.value);case"function":return function Me(ve){if(R(ve.parameters,4),Ce.test(ve.name))return[de(ve.parameters[0]),de(ve.parameters[1]),de(ve.parameters[2]),ve.parameters[3]?de(ve.parameters[3]):1];if(De.test(ve.name))return(0,d.B7)(function q(ve){return function V(ve){if("quantity"!==ve.type||null!==ve.unit)throw new v.Z("effect:type-error",`Expected <double>, Actual: ${U(ve)}`,{term:ve})}(ve),A(ve.value,ve),ve.value}(ve.parameters[0]),de(ve.parameters[1]),de(ve.parameters[2]),ve.parameters[3]?de(ve.parameters[3]):1);throw new v.Z("effect:syntax-error",`Invalid color function '${ve.name}'`,{colorFunction:ve})}(ve.value)}}function pe(ve){if(!(0,d.St)(ve))throw new v.Z("effect:unknown-color",`color '${ve}' isn't valid`,{namedColor:ve});return(0,d.VL)(ve)}const Ce=/^rgba?/i,De=/^hsla?/i},53390:(wt,Se,p)=>{"use strict";p.d(Se,{AS:()=>v,Cb:()=>G,uF:()=>X});var d=p(58141);function v(z,Z){const D=z.length>Z.length?z:Z;return(z.length>Z.length?Z:z).every((k,N)=>k.type===D[N].type)}function X(z,Z){const D=z.length>Z.length?z:Z,k=z.length>Z.length?Z:z;for(let N=k.length;N<D.length;N++)k.push((0,d.Ee)(D[N]))}function G(z){const Z=z[0];return!!Z&&"type"in Z}},66385:(wt,Se,p)=>{"use strict";p.d(Se,{S6:()=>X,nd:()=>G,u_:()=>v});var d=p(62208);class v{constructor(Z=null,D={},k,N){this.geometry=Z,this.attributes=D,this.centroid=k,this.objectId=N,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const Z=new v(this.geometry,this.attributes,this.centroid,this.objectId);return Z.displayId=this.displayId,Z.geohashX=this.geohashX,Z.geohashY=this.geohashY,Z}}function X(z){return!((0,d.Wi)(z.geometry)||!z.geometry.coords||!z.geometry.coords.length)}class G extends v{}},95786:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>d});class d{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const X=new d;return X.objectIdFieldName=this.objectIdFieldName,X.globalIdFieldName=this.globalIdFieldName,X.geohashFieldName=this.geohashFieldName,X.geometryProperties=this.geometryProperties,X.geometryType=this.geometryType,X.spatialReference=this.spatialReference,X.hasZ=this.hasZ,X.hasM=this.hasM,X.features=this.features,X.fields=this.fields,X.transform=this.transform,X.exceededTransferLimit=this.exceededTransferLimit,X.uniqueIdField=this.uniqueIdField,X.queryGeometry=this.queryGeometry,X.queryGeometryType=this.queryGeometryType,X}}},88071:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>d});class d{constructor(X=[],G=[],z=!1){this.lengths=null!=X?X:[],this.coords=null!=G?G:[],this.hasIndeterminateRingOrder=z}static fromRect(X){const[G,z,Z,D]=X,k=Z-G,N=D-z;return new d([5],[G,z,k,0,0,N,-k,0,0,-N])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((X,G)=>X+G)}forEachVertex(X){let G=0;this.lengths.length||X(this.coords[0],this.coords[1]);for(let z=0;z<this.lengths.length;z++){const Z=this.lengths[z];for(let D=0;D<Z;D++)X(this.coords[2*(D+G)],this.coords[2*(D+G)+1]);G+=Z}}clone(X){return X?(X.set(this.coords),new d(this.lengths.slice(),X,this.hasIndeterminateRingOrder)):new d(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},82054:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>Lt,$g:()=>En,E7:()=>we,EI:()=>Be,GH:()=>Je,IN:()=>F,Iv:()=>De,J6:()=>je,Jd:()=>$,Nh:()=>Xe,RZ:()=>Rt,Uy:()=>xe,XA:()=>Ze,Yn:()=>ct,cn:()=>Tt,di:()=>$e,eG:()=>pt,fQ:()=>A,hY:()=>Dn,h_:()=>It,ks:()=>Ye,lM:()=>Nt,lz:()=>Tr,oB:()=>zn,u0:()=>Re,zj:()=>vt});var d=p(26584),v=p(63290),X=p(62208),G=p(91179),z=p(66385),Z=p(95786),D=p(88071);function k(zt,sn){return zt?sn?4:3:sn?3:2}const N=v.Z.getLogger("esri.layers.graphics.featureConversionUtils"),B={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Q=(zt,sn,pn,In,Wn,jn)=>{zt[pn]=Wn,zt[pn+1]=jn},ne=(zt,sn,pn,In,Wn,jn)=>{zt[pn]=Wn,zt[pn+1]=jn,zt[pn+2]=sn[In+2]},te=(zt,sn,pn,In,Wn,jn)=>{zt[pn]=Wn,zt[pn+1]=jn,zt[pn+2]=sn[In+3]},ae=(zt,sn,pn,In,Wn,jn)=>{zt[pn]=Wn,zt[pn+1]=jn,zt[pn+2]=sn[In+2],zt[pn+3]=sn[In+3]};function re(zt,sn,pn,In){if(zt){if(pn)return sn&&In?ae:ne;if(sn&&In)return te}else if(sn&&In)return ne;return Q}function $({scale:zt,translate:sn},pn){return Math.round((pn-sn[0])/zt[0])}function F({scale:zt,translate:sn},pn){return Math.round((sn[1]-pn)/zt[1])}function R({scale:zt,translate:sn},pn){return pn*zt[0]+sn[0]}function U({scale:zt,translate:sn},pn){return sn[1]-pn*zt[1]}function A(zt,sn,pn){return zt?sn?pn?de(zt):Y(zt):pn?se(zt):V(zt):null}function V(zt){const sn=zt.coords;return{x:sn[0],y:sn[1]}}function J(zt,sn){return zt.coords[0]=sn.x,zt.coords[1]=sn.y,zt}function Y(zt){const sn=zt.coords;return{x:sn[0],y:sn[1],z:sn[2]}}function oe(zt,sn){return zt.coords[0]=sn.x,zt.coords[1]=sn.y,zt.coords[2]=sn.z,zt}function se(zt){const sn=zt.coords;return{x:sn[0],y:sn[1],m:sn[2]}}function le(zt,sn){return zt.coords[0]=sn.x,zt.coords[1]=sn.y,zt.coords[2]=sn.m,zt}function de(zt){const sn=zt.coords;return{x:sn[0],y:sn[1],z:sn[2],m:sn[3]}}function q(zt,sn){return zt.coords[0]=sn.x,zt.coords[1]=sn.y,zt.coords[2]=sn.z,zt.coords[3]=sn.m,zt}function ie(zt,sn){return zt&&sn?q:zt?oe:sn?le:J}function ye(zt,sn,pn,In,Wn){const jn=ie(pn,In);for(const $n of sn){const{geometry:Ht,attributes:ir}=$n;let Qn;Ht&&(Qn=jn(new D.Z,Ht)),zt.push(new z.u_(Qn,ir,null,ir[Wn]))}return zt}function De(zt,sn,pn){if((0,X.Wi)(zt))return null;const In=k(sn,pn),Wn=[];for(let jn=0;jn<zt.coords.length;jn+=In){const $n=[];for(let Ht=0;Ht<In;Ht++)$n.push(zt.coords[jn+Ht]);Wn.push($n)}return sn?pn?{points:Wn,hasZ:sn,hasM:pn}:{points:Wn,hasZ:sn}:pn?{points:Wn,hasM:pn}:{points:Wn}}function Me(zt,sn,pn,In,Wn){const jn=k(pn,In);for(const $n of sn){const Ht=$n.geometry,ir=$n.attributes;let Qn;Ht&&(Qn=ve(new D.Z,Ht,jn)),zt.push(new z.u_(Qn,ir,null,ir[Wn]))}return zt}function ve(zt,sn,pn=k(sn.hasZ,sn.hasM)){zt.lengths[0]=sn.points.length;const In=zt.coords;let Wn=0;for(const jn of sn.points)for(let $n=0;$n<pn;$n++)In[Wn++]=jn[$n];return zt}function je(zt,sn,pn){if(!zt)return null;const In=k(sn,pn),{coords:Wn,lengths:jn}=zt,$n=[];let Ht=0;for(const ir of jn){const Qn=[];for(let Ar=0;Ar<ir;Ar++){const Dr=[];for(let an=0;an<In;an++)Dr.push(Wn[Ht++]);Qn.push(Dr)}$n.push(Qn)}return sn?pn?{paths:$n,hasZ:sn,hasM:pn}:{paths:$n,hasZ:sn}:pn?{paths:$n,hasM:pn}:{paths:$n}}function _e(zt,sn,pn,In,Wn){const jn=k(pn,In);for(const $n of sn){const Ht=$n.geometry,ir=$n.attributes;let Qn;Ht&&(Qn=Re(new D.Z,Ht,jn)),zt.push(new z.u_(Qn,ir,null,ir[Wn]))}return zt}function Re(zt,sn,pn=k(sn.hasZ,sn.hasM)){const{lengths:In,coords:Wn}=zt;let jn=0;for(const $n of sn.paths){for(const Ht of $n)for(let ir=0;ir<pn;ir++)Wn[jn++]=Ht[ir];In.push($n.length)}return zt}function pt(zt,sn,pn){if(!zt)return null;const In=k(sn,pn),{coords:Wn,lengths:jn}=zt,$n=[];let Ht=0;for(const ir of jn){const Qn=[];for(let Ar=0;Ar<ir;Ar++){const Dr=[];for(let an=0;an<In;an++)Dr.push(Wn[Ht++]);Qn.push(Dr)}$n.push(Qn)}return sn?pn?{rings:$n,hasZ:sn,hasM:pn}:{rings:$n,hasZ:sn}:pn?{rings:$n,hasM:pn}:{rings:$n}}function Ne(zt,sn,pn,In,Wn){for(const jn of sn){const $n=jn.geometry,Ht=jn.centroid,ir=jn.attributes;let Qn;$n&&(Qn=xe(new D.Z,$n,pn,In)),(0,X.pC)(Ht)?zt.push(new z.u_(Qn,ir,J(new D.Z,Ht),ir[Wn])):zt.push(new z.u_(Qn,ir,null,ir[Wn]))}return zt}function xe(zt,sn,pn=sn.hasZ,In=sn.hasM){return Ye(zt,sn.rings,pn,In),zt}function Ye(zt,sn,pn,In){const Wn=k(pn,In),{lengths:jn,coords:$n}=zt;let Ht=0;jn.length=$n.length=0;for(const ir of sn){for(const Qn of ir)for(let Ar=0;Ar<Wn;Ar++)$n[Ht++]=Qn[Ar];jn.push(ir.length)}return zt}const Ke=[],Fe=[];function Ze(zt,sn,pn,In,Wn){Ke[0]=zt;const[jn]=ct(Fe,Ke,sn,pn,In,Wn);return Ke.length=Fe.length=0,jn}function ct(zt,sn,pn,In,Wn,jn){if(zt.length=0,!pn){for(const $n of sn)zt.push(new z.u_(null,$n.attributes,null,$n.attributes[jn]));return zt}switch(pn){case"esriGeometryPoint":return ye(zt,sn,In,Wn,jn);case"esriGeometryMultipoint":return Me(zt,sn,In,Wn,jn);case"esriGeometryPolyline":return _e(zt,sn,In,Wn,jn);case"esriGeometryPolygon":return Ne(zt,sn,In,Wn,jn);default:N.error("convertToFeatureSet:unknown-geometry",new d.Z(`Unable to parse unknown geometry type '${pn}'`)),zt.length=0}return zt}function we(zt,sn,pn,In,Wn,jn){const $n=zt.length;switch(pn){case"esriGeometryPoint":ye(zt,sn,In,Wn,jn);break;case"esriGeometryMultipoint":Me(zt,sn,In,Wn,jn);break;case"esriGeometryPolyline":_e(zt,sn,In,Wn,jn);break;case"esriGeometryPolygon":Ne(zt,sn,In,Wn,jn);break;default:N.error("convertToFeatureSet:unknown-geometry",new d.Z(`Unable to parse unknown geometry type '${pn}'`))}for(let Ht=0;Ht<sn.length;Ht++)zt[Ht+$n].geometryType=pn,zt[Ht+$n].insertAfter=sn[Ht].insertAfter,zt[Ht+$n].groupId=sn[Ht].groupId;return zt}function Be(zt,sn,pn,In){Fe[0]=zt,mt(Ke,Fe,sn,pn,In);const Wn=Ke[0];return Ke.length=Fe.length=0,Wn}function Je(zt,sn,pn){if((0,X.Wi)(zt))return null;const In=new D.Z;return"hasZ"in zt&&null==sn&&(sn=zt.hasZ),"hasM"in zt&&null==pn&&(pn=zt.hasM),(0,G.wp)(zt)?ie(null!=sn?sn:null!=zt.z,null!=pn?pn:null!=zt.m)(In,zt):(0,G.oU)(zt)?xe(In,zt,sn,pn):(0,G.l9)(zt)?Re(In,zt,k(sn,pn)):(0,G.aW)(zt)?ve(In,zt,k(sn,pn)):void N.error("convertFromGeometry:unknown-geometry",new d.Z(`Unable to parse unknown geometry type '${zt}'`))}function $e(zt,sn,pn,In){const Wn=zt&&("coords"in zt?zt:zt.geometry);if((0,X.Wi)(Wn))return null;switch(sn){case"esriGeometryPoint":{let jn=V;return pn&&In?jn=de:pn?jn=Y:In&&(jn=se),jn(Wn)}case"esriGeometryMultipoint":return De(Wn,pn,In);case"esriGeometryPolyline":return je(Wn,pn,In);case"esriGeometryPolygon":return pt(Wn,pn,In);default:return void N.error("convertToGeometry:unknown-geometry",new d.Z(`Unable to parse unknown geometry type '${sn}'`))}}function mt(zt,sn,pn,In,Wn){if(zt.length=0,(0,X.Wi)(pn))return function ot(zt,sn){for(const pn of sn)zt.push({attributes:pn.attributes});return zt}(zt,sn);switch(pn){case"esriGeometryPoint":return function ue(zt,sn,pn,In){let Wn=V;pn&&In?Wn=de:pn?Wn=Y:In&&(Wn=se);for(const jn of sn){const{geometry:$n,attributes:Ht}=jn,ir=(0,X.pC)($n)?Wn($n):null;zt.push({attributes:Ht,geometry:ir})}return zt}(zt,sn,In,Wn);case"esriGeometryMultipoint":return function Ce(zt,sn,pn,In){for(const Wn of sn){const{geometry:jn,attributes:$n}=Wn;let Ht;jn&&(Ht=De(jn,pn,In)),zt.push({attributes:$n,geometry:Ht})}return zt}(zt,sn,In,Wn);case"esriGeometryPolyline":return function Le(zt,sn,pn,In){for(const Wn of sn){const{geometry:jn,attributes:$n}=Wn;let Ht;(0,X.pC)(jn)&&(Ht=je(jn,pn,In)),zt.push({attributes:$n,geometry:Ht})}return zt}(zt,sn,In,Wn);case"esriGeometryPolygon":return function nt(zt,sn,pn,In){for(const Wn of sn){const{geometry:jn,attributes:$n,centroid:Ht}=Wn;let ir;if((0,X.pC)(jn)&&(ir=pt(jn,pn,In)),(0,X.pC)(Ht)){const Qn=V(Ht);zt.push({attributes:$n,centroid:Qn,geometry:ir})}else zt.push({attributes:$n,geometry:ir})}return zt}(zt,sn,In,Wn);default:N.error("convertToFeatureSet:unknown-geometry",new d.Z(`Unable to parse unknown geometry type '${pn}'`))}return zt}function Tt(zt){const{objectIdFieldName:sn,spatialReference:pn,transform:In,fields:Wn,hasM:jn,hasZ:$n,features:Ht,geometryType:ir,exceededTransferLimit:Qn,uniqueIdField:Ar,queryGeometry:Dr,queryGeometryType:an}=zt,Mn={features:mt([],Ht,ir,$n,jn),fields:Wn,geometryType:ir,objectIdFieldName:sn,spatialReference:pn,uniqueIdField:Ar,queryGeometry:$e(Dr,an,!1,!1)};return In&&(Mn.transform=In),Qn&&(Mn.exceededTransferLimit=Qn),jn&&(Mn.hasM=jn),$n&&(Mn.hasZ=$n),Mn}function It(zt,sn){const pn=new Z.Z,{hasM:In,hasZ:Wn,features:jn,objectIdFieldName:$n,spatialReference:Ht,geometryType:ir,exceededTransferLimit:Qn,transform:Ar,fields:Dr}=zt;return Dr&&(pn.fields=Dr),pn.geometryType=ir,pn.objectIdFieldName=$n||sn,pn.spatialReference=Ht,pn.objectIdFieldName?(jn&&ct(pn.features,jn,ir,Wn,In,pn.objectIdFieldName),Qn&&(pn.exceededTransferLimit=Qn),In&&(pn.hasM=In),Wn&&(pn.hasZ=Wn),Ar&&(pn.transform=Ar),pn):(N.error(new d.Z("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),pn)}function Nt(zt){const{transform:sn,features:pn,hasM:In,hasZ:Wn}=zt;if(!sn)return zt;for(const jn of pn)(0,X.pC)(jn.geometry)&&En(jn.geometry,jn.geometry,In,Wn,sn),(0,X.pC)(jn.centroid)&&En(jn.centroid,jn.centroid,In,Wn,sn);return zt.transform=null,zt}function Rt(zt,sn){const{geometryType:pn,features:In,hasM:Wn,hasZ:jn}=sn;if(!zt)return sn;for(let $n=0;$n<In.length;$n++){const Ht=In[$n],ir=Ht.weakClone();ir.geometry=new D.Z,Xe(ir.geometry,Ht.geometry,Wn,jn,pn,zt),Ht.centroid&&(ir.centroid=new D.Z,Xe(ir.centroid,Ht.centroid,Wn,jn,"esriGeometryPoint",zt)),In[$n]=ir}return sn.transform=zt,sn}function Xe(zt,sn,pn,In,Wn,jn,$n=pn,Ht=In){if(zt.lengths.length&&(zt.lengths.length=0),zt.coords.length&&(zt.coords.length=0),(0,X.Wi)(sn)||!sn.coords.length)return null;const ir=B[Wn],{coords:Qn,lengths:Ar}=sn,Dr=k(pn,In),an=k(pn&&$n,In&&Ht),Mn=re(pn,In,$n,Ht);if(!Ar.length)return Mn(zt.coords,Qn,0,0,$(jn,Qn[0]),F(jn,Qn[1])),zt.lengths.length&&(zt.lengths.length=0),zt.coords.length=Dr,zt;let Hn,Mt,Bt,wn,Ut=0,Cn=0,Bn=Cn;for(const er of Ar){if(er<ir)continue;let or=0;Cn=Bn,Bt=Hn=$(jn,Qn[Ut]),wn=Mt=F(jn,Qn[Ut+1]),Mn(zt.coords,Qn,Cn,Ut,Bt,wn),or++,Ut+=Dr,Cn+=an;for(let Hr=1;Hr<er;Hr++,Ut+=Dr)Bt=$(jn,Qn[Ut]),wn=F(jn,Qn[Ut+1]),Bt===Hn&&wn===Mt||(Mn(zt.coords,Qn,Cn,Ut,Bt-Hn,wn-Mt),Cn+=an,or++,Hn=Bt,Mt=wn);or>=ir&&(zt.lengths.push(or),Bn=Cn)}return zt.coords.length=Bn,zt.coords.length?zt:null}function vt(zt,sn,pn,In,Wn,jn,$n=pn,Ht=In){if(zt.lengths.length&&(zt.lengths.length=0),zt.coords.length&&(zt.coords.length=0),!sn||!sn.coords.length)return null;const ir=B[Wn],{coords:Qn,lengths:Ar}=sn,Dr=k(pn,In),an=k(pn&&$n,In&&Ht),Mn=re(pn,In,$n,Ht);if(!Ar.length)return Mn(zt.coords,Qn,0,0,Qn[0],Qn[1]),zt.lengths.length&&(zt.lengths.length=0),zt.coords.length=Dr,zt;let Hn=0;const Mt=jn*jn;for(const Bt of Ar){if(Bt<ir){Hn+=Bt*Dr;continue}const wn=zt.coords.length/an,Ut=Hn,Cn=Hn+(Bt-1)*Dr;Mn(zt.coords,Qn,zt.coords.length,Ut,Qn[Ut],Qn[Ut+1]),xt(zt.coords,Qn,Dr,Mt,Mn,Ut,Cn),Mn(zt.coords,Qn,zt.coords.length,Cn,Qn[Cn],Qn[Cn+1]);const Bn=zt.coords.length/an-wn;Bn>=ir?zt.lengths.push(Bn):zt.coords.length=wn*an,Hn+=Bt*Dr}return zt.coords.length?zt:null}function Zt(zt,sn,pn,In){const Wn=zt[sn],jn=zt[sn+1],ir=zt[In],Qn=zt[In+1];let Ar=zt[pn],Dr=zt[pn+1],an=ir-Ar,Mn=Qn-Dr;if(0!==an||0!==Mn){const Hn=((Wn-Ar)*an+(jn-Dr)*Mn)/(an*an+Mn*Mn);Hn>1?(Ar=ir,Dr=Qn):Hn>0&&(Ar+=an*Hn,Dr+=Mn*Hn)}return an=Wn-Ar,Mn=jn-Dr,an*an+Mn*Mn}function xt(zt,sn,pn,In,Wn,jn,$n){let Ht,ir=In,Qn=0;for(let Ar=jn+pn;Ar<$n;Ar+=pn)Ht=Zt(sn,Ar,jn,$n),Ht>ir&&(Qn=Ar,ir=Ht);ir>In&&(Qn-jn>pn&&xt(zt,sn,pn,In,Wn,jn,Qn),Wn(zt,sn,zt.length,Qn,sn[Qn],sn[Qn+1]),$n-Qn>pn&&xt(zt,sn,pn,In,Wn,Qn,$n))}function Lt(zt,sn,pn,In){if((0,X.Wi)(sn)||!sn.coords||!sn.coords.length)return null;const Wn=k(pn,In);let jn=Number.POSITIVE_INFINITY,$n=Number.POSITIVE_INFINITY,Ht=Number.NEGATIVE_INFINITY,ir=Number.NEGATIVE_INFINITY;if(sn&&sn.coords){const Qn=sn.coords;for(let Ar=0;Ar<Qn.length;Ar+=Wn){const Dr=Qn[Ar],an=Qn[Ar+1];jn=Math.min(jn,Dr),Ht=Math.max(Ht,Dr),$n=Math.min($n,an),ir=Math.max(ir,an)}}return zt[0]=jn,zt[1]=$n,zt[2]=Ht,zt[3]=ir,zt}function En(zt,sn,pn,In,Wn){const{coords:jn,lengths:$n}=sn,Ht=pn?In?ae:ne:In?ne:Q,ir=k(pn,In);if(!jn.length)return zt!==sn&&(zt.lengths.length=0,zt.coords.length=0),zt;if(!$n.length)return Ht(zt.coords,jn,0,0,R(Wn,jn[0]),U(Wn,jn[1])),zt!==sn&&(zt.lengths.length=0,zt.coords.length=ir),zt;const[Qn,Ar]=Wn.scale;let Dr=0;for(let an=0;an<$n.length;an++){const Mn=$n[an];zt.lengths[an]=Mn;let Hn=R(Wn,jn[Dr]),Mt=U(Wn,jn[Dr+1]);Ht(zt.coords,jn,Dr,Dr,Hn,Mt),Dr+=ir;for(let Bt=1;Bt<Mn;Bt++,Dr+=ir)Hn+=jn[Dr]*Qn,Mt-=jn[Dr+1]*Ar,Ht(zt.coords,jn,Dr,Dr,Hn,Mt)}return zt!==sn&&(zt.lengths.length=$n.length,zt.coords.length=jn.length),zt}function Dn(zt,sn,pn,In,Wn,jn){const $n=k(pn,In),Ht=re(pn,In,Wn,jn),ir=sn.coords;zt.coords.length=0,zt.lengths.length=0,zt.lengths.push(...sn.lengths);for(let Qn=0;Qn<ir.length;Qn+=$n)Ht(zt.coords,ir,zt.coords.length,Qn,ir[Qn],ir[Qn+1]);return zt}function pr(zt,sn,pn,In){let Wn=0,jn=zt[In*sn],$n=zt[In*(sn+1)];for(let Ht=1;Ht<pn;Ht++){const ir=jn+zt[In*(sn+Ht)],Qn=$n+zt[In*(sn+Ht)+1],Ar=(ir-jn)*(Qn+$n);jn=ir,$n=Qn,Wn+=Ar}return.5*Wn}function Tr(zt,sn){const{coords:pn,lengths:In}=zt;let Wn=0,jn=0;for(let $n=0;$n<In.length;$n++)jn+=pr(pn,Wn,In[$n],sn),Wn+=$n;return Math.abs(jn)}function zn(zt,sn){if((0,X.Wi)(zt))return null;const pn=zt.clone(),In=zt.coords,Wn=zt.lengths;let jn=0;for(let $n=0;$n<Wn.length;$n++){const Ht=Wn[$n];let ir=In[sn*jn],Qn=In[sn*jn+1];for(let Ar=1;Ar<Ht;Ar++){const Dr=ir+In[sn*(jn+Ar)],an=Qn+In[sn*(jn+Ar)+1];pn.coords[sn*(jn+Ar)]=Dr,pn.coords[sn*(jn+Ar)+1]=an,ir=Dr,Qn=an}jn+=Ht}return pn}},50085:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>k});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898));const k=N=>{let B=class extends N{get apiKey(){var Q;return this._isOverridden("apiKey")?this._get("apiKey"):function D(N){return"portalItem"in N}(this)?null==(Q=this.portalItem)?void 0:Q.apiKey:null}set apiKey(Q){null!=Q?this._override("apiKey",Q):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,d._)([(0,v.Cb)({type:String})],B.prototype,"apiKey",null),B=(0,d._)([(0,Z.j)("esri.layers.mixins.APIKeyMixin")],B),B}},65088:(wt,Se,p)=>{"use strict";p.d(Se,{Y:()=>B});var d=p(17626),v=p(63290),X=p(62208),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898)),N=p(38305);const B=Q=>{let ne=class extends Q{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const te=(0,N.Qc)(this.url);if((0,X.pC)(te)&&te.title)return te.title}return this._get("title")||""}set title(te){this._set("title",te)}set url(te){this._set("url",(0,N.Nm)(te,v.Z.getLogger(this.declaredClass)))}};return(0,d._)([(0,G.Cb)()],ne.prototype,"title",null),(0,d._)([(0,G.Cb)({type:String})],ne.prototype,"url",null),ne=(0,d._)([(0,k.j)("esri.layers.mixins.ArcGISService")],ne),ne}},552:(wt,Se,p)=>{"use strict";p.d(Se,{h:()=>N});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(71149);const k={read:{reader:D.ij},write:{allowNull:!0,writer:D.cW}},N=B=>{let Q=class extends B{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,d._)([(0,v.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],Q.prototype,"blendMode",void 0),(0,d._)([(0,v.Cb)({json:{read:!1,write:!1,origins:{"web-map":k,"portal-item":k}}})],Q.prototype,"effect",void 0),Q=(0,d._)([(0,Z.j)("esri.layers.mixins.BlendLayer")],Q),Q}},50107:(wt,Se,p)=>{"use strict";p.d(Se,{N:()=>D});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898));const D=k=>{let N=class extends k{constructor(){super(...arguments),this.customParameters=null}};return(0,d._)([(0,v.Cb)({type:Object,json:{write:{overridePolicy:B=>({enabled:!!(B&&Object.keys(B).length>0)})}}})],N.prototype,"customParameters",void 0),N=(0,d._)([(0,Z.j)("esri.layers.mixins.CustomParametersMixin")],N),N}},35126:(wt,Se,p)=>{"use strict";p.d(Se,{b:()=>N});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(2319);const k={write:{allowNull:!0}},N=B=>{let Q=class extends B{constructor(){super(...arguments),this.featureEffect=null}};return(0,d._)([(0,v.Cb)({type:D.Z,json:{origins:{"web-map":k,"portal-item":k}}})],Q.prototype,"featureEffect",void 0),Q=(0,d._)([(0,Z.j)("esri.layers.mixins.FeatureEffectLayer")],Q),Q}},49286:(wt,Se,p)=>{"use strict";p.d(Se,{q:()=>ae});var d=p(17626),v=p(26584),X=p(21726),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898)),N=p(99433),B=p(29338),Q=p(36054);const ne={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var te=p(13812);const ae=$=>{let F=class extends ${constructor(){super(...arguments),this.title=null}writeListMode(R,U,A,V){(V&&"ground"===V.layerContainerType||R&&(0,Q.d)(this,A,{},V))&&(U[A]=R)}writeOperationalLayerType(R,U,A,V){!R||V&&"tables"===V.layerContainerType||(U.layerType=R)}writeTitle(R,U){U.title=R||"Layer"}read(R,U){U&&(U.layer=this),(0,B.$)(this,R,A=>super.read(R,A),U)}write(R,U){var J,Y;if(null==U?void 0:U.origin){const oe=`${U.origin}/${U.layerContainerType||"operational-layers"}`,se=ne[oe];let le=se&&se[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===oe&&(le=!1),!le)return null==(J=U.messages)||J.push(new v.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${oe}'`,{layer:this})),null}const A=super.write(R,Wi(Nn({},U),{layer:this})),V=!!U&&!!U.messages&&!!U.messages.filter(oe=>oe instanceof v.Z&&"web-document-write:property-required"===oe.name).length;return(0,X.jc)(null==A?void 0:A.url)?(null==(Y=null==U?void 0:U.messages)||Y.push(new v.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&V?null:A}beforeSave(){}};return(0,d._)([(0,G.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],F.prototype,"id",void 0),(0,d._)([(0,G.Cb)(te.rT)],F.prototype,"listMode",void 0),(0,d._)([(0,N.c)("listMode")],F.prototype,"writeListMode",null),(0,d._)([(0,G.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],F.prototype,"operationalLayerType",void 0),(0,d._)([(0,N.c)("operationalLayerType")],F.prototype,"writeOperationalLayerType",null),(0,d._)([(0,G.Cb)(te.Oh)],F.prototype,"opacity",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],F.prototype,"title",void 0),(0,d._)([(0,N.c)([void 0,"web-scene"],"title")],F.prototype,"writeTitle",null),(0,d._)([(0,G.Cb)({type:Boolean,json:{name:"visibility"}})],F.prototype,"visible",void 0),F=(0,d._)([(0,k.j)("esri.layers.mixins.OperationalLayer")],F),F}},32629:(wt,Se,p)=>{"use strict";p.d(Se,{c:()=>F});var B,d=p(17626),v=p(94113),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(2076),N=p(86810);const Q=new k.X({asc:"ascending",desc:"descending"});let ne=B=class extends N.wq{constructor(R){super(R),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new B({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],ne.prototype,"field",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),(0,d._)([(0,X.Cb)({type:Q.apiValues,json:{read:Q.read,write:Q.write}})],ne.prototype,"order",void 0),ne=B=(0,d._)([(0,D.j)("esri.layers.support.OrderByInfo")],ne);const te=ne;function re(R,U,A){if(!R)return null;const V=R.find(Y=>!!Y.field);if(!V)return null;const J=new te;return J.read(V,A),[J]}function $(R,U,A,V){const J=R.find(Y=>!!Y.field);J&&(0,v.RB)(A,[J.toJSON()],U)}const F=R=>{let U=class extends R{constructor(){super(...arguments),this.orderBy=null}};return(0,d._)([(0,X.Cb)({type:[te],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:re},write:{target:"layerDefinition.orderBy",writer:$}}})],U.prototype,"orderBy",void 0),U=(0,d._)([(0,D.j)("esri.layers.mixins.OrderedLayer")],U),U}},6647:(wt,Se,p)=>{"use strict";p.d(Se,{I:()=>J});var d=p(15861),v=p(17626),X=p(24263),G=p(84792),z=p(59213),Z=p(26584),D=p(63290),k=p(62208),N=p(10699),B=p(21726),Q=p(77712),re=(p(85931),p(8314),p(90912),p(68653)),$=p(76898),F=p(99433),R=p(84687),U=p(55463),A=p(94508);const V=D.Z.getLogger("esri.layers.mixins.PortalLayer"),J=oe=>{let se=class extends oe{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var le;null==(le=this.portalItem)||le.destroy(),this.portalItem=null}set portalItem(le){le!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",le))}readPortalItem(le,de,q){if(de.itemId)return new U.default({id:de.itemId,portal:q&&q.portal})}writePortalItem(le,de){le&&le.id&&(de.itemId=le.id)}loadFromPortal(le,de){var q=this;return(0,d.Z)(function*(){if(q.portalItem&&q.portalItem.id)try{const ue=yield p.e(3705).then(p.bind(p,83705));return(0,N.k_)(de),yield ue.load({instance:q,supportedTypes:le.supportedTypes,validateItem:le.validateItem,supportsData:le.supportsData},de)}catch(ue){throw(0,N.D_)(ue)||V.warn(`Failed to load layer (${q.title}, ${q.id}) portal item (${q.portalItem.id})\n  ${ue}`),ue}})()}finishLoadEditablePortalLayer(le){var de=this;return(0,d.Z)(function*(){de._set("userHasEditingPrivileges",yield de._fetchUserHasEditingPrivileges(le).catch(q=>((0,N.r9)(q),!0)))})()}_fetchUserHasEditingPrivileges(le){var de=this;return(0,d.Z)(function*(){const q=de.url?X.id.findCredential(de.url):null;if(!q)return!0;const ue=Y.credential===q?Y.user:yield de._fetchEditingUser(le);return Y.credential=q,Y.user=ue,(0,k.Wi)(ue)||null==ue.privileges||ue.privileges.includes("features:user:edit")})()}_fetchEditingUser(le){var de=this;return(0,d.Z)(function*(){var Me,ve;const q=null==(ve=null==(Me=de.portalItem)?void 0:Me.portal)?void 0:ve.user;if(q)return q;const ue=X.id.findServerInfo(de.url);if(!(null==ue?void 0:ue.owningSystemUrl))return null;const ie=`${ue.owningSystemUrl}/sharing/rest`,ye=R.Z.getDefault();if(ye&&ye.loaded&&(0,B.Fv)(ye.restUrl)===(0,B.Fv)(ie))return ye.user;const pe=`${ie}/community/self`,Ce=(0,k.pC)(le)?le.signal:null,De=yield(0,z.q6)((0,G.default)(pe,{authMode:"no-prompt",query:{f:"json"},signal:Ce}));return De.ok?A.default.fromJSON(De.value.data):null})()}read(le,de){de&&(de.layer=this),super.read(le,de)}write(le,de){const q=de&&de.portal,ue=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||R.Z.getDefault());return q&&ue&&!(0,B.tm)(ue.restUrl,q.restUrl)?(de.messages&&de.messages.push(new Z.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(le,Wi(Nn({},de),{layer:this}))}};return(0,v._)([(0,Q.Cb)({type:U.default})],se.prototype,"portalItem",null),(0,v._)([(0,re.r)("web-document","portalItem",["itemId"])],se.prototype,"readPortalItem",null),(0,v._)([(0,F.c)("web-document","portalItem",{itemId:{type:String}})],se.prototype,"writePortalItem",null),(0,v._)([(0,Q.Cb)({clonable:!1})],se.prototype,"resourceReferences",void 0),(0,v._)([(0,Q.Cb)({readOnly:!0})],se.prototype,"userHasEditingPrivileges",void 0),se=(0,v._)([(0,$.j)("esri.layers.mixins.PortalLayer")],se),se},Y={credential:null,user:null}},30346:(wt,Se,p)=>{"use strict";p.d(Se,{Q:()=>se});var d=p(15861),v=p(17626),X=p(63290),G=p(10699),z=p(77712),N=(p(85931),p(8314),p(90912),p(76898)),B=p(74333),te=(p(26584),p(61972),p(21352));const ae=new B.Z,re=new WeakMap;function R(le){return le&&"object"==typeof le&&"refreshInterval"in le&&"refresh"in le}function U(le,de){return Number.isFinite(le)&&Number.isFinite(de)?de<=0?le:U(de,le%de):0}let A=0,V=0;function J(){var de;const le=Date.now();for(const q of ae)q.refreshInterval&&le-(null!=(de=re.get(q))?de:0)+5>=6e4*q.refreshInterval&&(re.set(q,le),q.refresh(le))}(0,te.EH)(()=>{const le=Date.now();let de=0;for(const q of ae)de=U(Math.round(6e4*q.refreshInterval),de),q.refreshInterval?re.get(q)||re.set(q,le):re.delete(q);if(de!==V){if(V=de,clearInterval(A),0===V)return void(A=0);A=setInterval(J,V)}});const se=le=>{let de=class extends le{constructor(...q){super(...q),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,G.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{!function $(le){R(le)&&ae.push(le)}(this)},()=>{})}destroy(){!function F(le){R(le)&&ae.includes(le)&&ae.remove(le)}(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(q=Date.now()){(0,G.R8)(this._debounceHasDataChanged()).then(ue=>{ue&&this._set("refreshTimestamp",q),this.emit("refresh",{dataChanged:ue})},ue=>{X.Z.getLogger(this.declaredClass).error(ue),this.emit("refresh",{dataChanged:!1,error:ue})})}hasDataChanged(){return(0,d.Z)(function*(){return!0})()}};return(0,v._)([(0,z.Cb)({type:Number,cast:q=>q>=.1?q:q<=0?0:.1,json:{write:!0}})],de.prototype,"refreshInterval",void 0),(0,v._)([(0,z.Cb)({readOnly:!0})],de.prototype,"refreshTimestamp",void 0),(0,v._)([(0,z.Cb)()],de.prototype,"refreshParameters",null),de=(0,v._)([(0,N.j)("esri.layers.mixins.RefreshableLayer")],de),de}},99555:(wt,Se,p)=>{"use strict";p.d(Se,{M:()=>D});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898));const D=N=>{let B=class extends N{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const Q={minScale:this.minScale,maxScale:this.maxScale},ne=this.parent;ne&&"effectiveScaleRange"in ne&&function k(N,B){N.minScale=N.minScale>0?B.minScale>0?Math.min(N.minScale,B.minScale):N.minScale:B.minScale,N.maxScale=N.maxScale>0?B.maxScale>0?Math.max(N.maxScale,B.maxScale):N.maxScale:B.maxScale}(Q,ne.effectiveScaleRange);const te=this._get("effectiveScaleRange");return te&&te.minScale===Q.minScale&&te.maxScale===Q.maxScale?te:Q}};return(0,d._)([(0,v.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],B.prototype,"minScale",void 0),(0,d._)([(0,v.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],B.prototype,"maxScale",void 0),(0,d._)([(0,v.Cb)({readOnly:!0})],B.prototype,"effectiveScaleRange",null),B=(0,d._)([(0,Z.j)("esri.layers.mixins.ScaleRangeLayer")],B),B}},97941:(wt,Se,p)=>{"use strict";p.d(Se,{n:()=>ae});var d=p(17626),v=p(97478),X=p(20849),G=p(77712),k=(p(85931),p(8314),p(90912),p(68653)),N=p(76898),B=p(36630),Q=p(62708),ne=p(58926);const ae=re=>{let $=class extends re{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(F,R){const U=R.timeInfo.exportOptions;if(!U)return null;const A=U.timeOffset,V=ne.v.fromJSON(U.timeOffsetUnits);return A&&V?new X.Z({value:A,unit:V}):null}set timeInfo(F){(0,B.UF)(F,this.fieldsIndex),this._set("timeInfo",F)}};return(0,d._)([(0,G.Cb)({type:v.Z,json:{write:!1}})],$.prototype,"timeExtent",void 0),(0,d._)([(0,G.Cb)({type:X.Z})],$.prototype,"timeOffset",void 0),(0,d._)([(0,k.r)("service","timeOffset",["timeInfo.exportOptions"])],$.prototype,"readOffset",null),(0,d._)([(0,G.Cb)({value:null,type:Q.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],$.prototype,"timeInfo",null),(0,d._)([(0,G.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],$.prototype,"useViewTime",void 0),$=(0,d._)([(0,N.j)("esri.layers.mixins.TemporalLayer")],$),$}},2319:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>R});var te,d=p(17626),v=p(26584),X=p(86810),G=p(62208),z=p(94113),Z=p(77712),B=(p(85931),p(8314),p(90912),p(76898)),Q=p(71149),ne=p(98624);const ae={read:{reader:Q.ij},write:{writer:Q.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},re={read:{reader:Q.ij},write:{writer:Q.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},$={name:"showExcludedLabels",default:!0};let F=te=class extends X.wq{constructor(U){super(U),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(U,A){var J,Y;const V=super.write(U,A);if(null==A?void 0:A.origin){if(V.filter){const oe=Object.keys(V.filter);if(oe.length>1||"where"!==oe[0])return null==(J=A.messages)||J.push(new v.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:A.layer,effect:this})),null}if("showExcludedLabels"in V)return null==(Y=A.messages)||Y.push(new v.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:A.layer,effect:this})),null}return V}clone(){return new te({filter:(0,G.pC)(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,d._)([(0,Z.Cb)({type:ne.Z,json:{write:{allowNull:!0,writer(U,A,V,J){const Y=null==U?void 0:U.write({},J);Y&&0!==Object.keys(Y).length?(0,z.RB)(V,Y,A):(0,z.RB)(V,null,A)}}}})],F.prototype,"filter",void 0),(0,d._)([(0,Z.Cb)({json:{write:!0,origins:{"web-map":ae,"portal-item":ae}}})],F.prototype,"includedEffect",void 0),(0,d._)([(0,Z.Cb)({json:{write:!0,origins:{"web-map":re,"portal-item":re}}})],F.prototype,"excludedEffect",void 0),(0,d._)([(0,Z.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":$,"portal-item":$}}})],F.prototype,"excludedLabelsVisible",void 0),F=te=(0,d._)([(0,B.j)("esri.layers.support.FeatureEffect")],F);const R=F},98624:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var ne,d=p(17626),v=p(29132),X=p(97478),G=p(2076),z=p(86810),Z=p(58817),D=p(62208),k=p(77712),B=(p(90912),p(76898)),Q=p(84952);const te=new G.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),ae=new G.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let re=ne=class extends z.wq{constructor(F){super(F),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(F={}){const{where:R,geometry:U,spatialRelationship:A,timeExtent:V,objectIds:J,units:Y,distance:oe}=this;return new Q.Z(Nn({geometry:(0,Z.d9)(U),objectIds:(0,Z.d9)(J),spatialRelationship:A,timeExtent:(0,Z.d9)(V),where:R,units:Y,distance:oe},F))}clone(){const{where:F,geometry:R,spatialRelationship:U,timeExtent:A,objectIds:V,units:J,distance:Y}=this;return new ne({geometry:(0,Z.d9)(R),objectIds:(0,Z.d9)(V),spatialRelationship:U,timeExtent:(0,Z.d9)(A),where:F,units:J,distance:Y})}};(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],re.prototype,"where",void 0),(0,d._)([(0,k.Cb)({types:v.qM,json:{write:!0}})],re.prototype,"geometry",void 0),(0,d._)([(0,k.Cb)({type:te.apiValues,json:{name:"spatialRel",read:{reader:te.read},write:{allowNull:!1,writer:te.write,overridePolicy(){return{enabled:(0,D.pC)(this.geometry)}}}}})],re.prototype,"spatialRelationship",void 0),(0,d._)([(0,k.Cb)({type:Number,json:{write:{overridePolicy(F){return{enabled:null!=F&&null!=this.geometry}}}}})],re.prototype,"distance",void 0),(0,d._)([(0,k.Cb)({type:[Number],json:{write:!0}})],re.prototype,"objectIds",void 0),(0,d._)([(0,k.Cb)({type:ae.apiValues,json:{read:ae.read,write:{writer:ae.write,overridePolicy(F){return{enabled:null!=F&&null!=this.geometry}}}}})],re.prototype,"units",void 0),(0,d._)([(0,k.Cb)({type:X.Z,json:{write:!0}})],re.prototype,"timeExtent",void 0),re=ne=(0,d._)([(0,B.j)("esri.layers.support.FeatureFilter")],re);const $=re},83989:(wt,Se,p)=>{"use strict";p.d(Se,{B:()=>k});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(){super(...arguments),this.type=null}};(0,d._)([(0,X.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.layers.support.FeatureReduction")],k)},47058:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(83989);let N=k=class extends D.B{constructor(Q){super(Q),this.type="selection"}clone(){return new k}};(0,d._)([(0,v.Cb)({type:["selection"]})],N.prototype,"type",void 0),N=k=(0,d._)([(0,Z.j)("esri.layers.support.FeatureReductionSelection")],N);const B=N},32777:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var d=p(17626),v=p(79608),X=p(2076),G=p(86810),z=p(77712),N=(p(85931),p(8314),p(90912),p(76898));const B=new X.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Q=class extends((0,v.J)(G.wq)){constructor(te){super(te),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,d._)([(0,z.Cb)({json:{write:!0}})],Q.prototype,"name",void 0),(0,d._)([(0,z.Cb)({json:{write:!0}})],Q.prototype,"description",void 0),(0,d._)([(0,z.Cb)({json:{read:B.read,write:B.write}})],Q.prototype,"drawingTool",void 0),(0,d._)([(0,z.Cb)({json:{write:!0}})],Q.prototype,"prototype",void 0),(0,d._)([(0,z.Cb)({json:{write:!0}})],Q.prototype,"thumbnail",void 0),Q=(0,d._)([(0,N.j)("esri.layers.support.FeatureTemplate")],Q);const ne=Q},41638:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var d=p(17626),v=p(79608),X=p(86810),G=p(77712),k=(p(85931),p(8314),p(90912),p(68653)),N=p(76898),B=p(99433),Q=p(26141),ne=p(32777);let te=class extends((0,v.J)(X.wq)){constructor(re){super(re),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(re){const $={};for(const F of Object.keys(re))$[F]=(0,Q.im)(re[F]);return $}writeDomains(re,$){var R;const F={};for(const U of Object.keys(re))re[U]&&(F[U]=null==(R=re[U])?void 0:R.toJSON());$.domains=F}};(0,d._)([(0,G.Cb)({json:{write:!0}})],te.prototype,"id",void 0),(0,d._)([(0,G.Cb)({json:{write:!0}})],te.prototype,"name",void 0),(0,d._)([(0,G.Cb)({json:{write:!0}})],te.prototype,"domains",void 0),(0,d._)([(0,k.r)("domains")],te.prototype,"readDomains",null),(0,d._)([(0,B.c)("domains")],te.prototype,"writeDomains",null),(0,d._)([(0,G.Cb)({type:[ne.Z],json:{write:!0}})],te.prototype,"templates",void 0),te=(0,d._)([(0,N.j)("esri.layers.support.FeatureType")],te);const ae=te},36255:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var te,d=p(17626),v=p(2076),X=p(86810),G=p(77712),D=(p(85931),p(8314),p(90912)),k=p(55342),N=p(68653),B=p(76898),Q=p(26141),ne=p(85);const ae=new v.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let re=te=class extends X.wq{constructor(F){super(F),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(F,{description:R}){let U;try{U=JSON.parse(R)}catch(A){}return U?U.value:null}readValueType(F,{description:R}){let U;try{U=JSON.parse(R)}catch(A){}return U?ae.fromJSON(U.fieldValueType):null}clone(){return new te({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],re.prototype,"alias",void 0),(0,d._)([(0,G.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],re.prototype,"defaultValue",void 0),(0,d._)([(0,G.Cb)()],re.prototype,"description",void 0),(0,d._)([(0,N.r)("description")],re.prototype,"readDescription",null),(0,d._)([(0,G.Cb)({types:Q.V5,json:{read:{reader:Q.im},write:!0}})],re.prototype,"domain",void 0),(0,d._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"editable",void 0),(0,d._)([(0,G.Cb)({type:D.z8,json:{write:!0}})],re.prototype,"length",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],re.prototype,"name",void 0),(0,d._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"nullable",void 0),(0,d._)([(0,k.J)(ne.v)],re.prototype,"type",void 0),(0,d._)([(0,G.Cb)()],re.prototype,"valueType",void 0),(0,d._)([(0,N.r)("valueType",["description"])],re.prototype,"readValueType",null),re=te=(0,d._)([(0,B.j)("esri.layers.support.Field")],re);const $=re},60466:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>z});var d=p(36630);function X(D){return"oid"===D.type||"esriFieldTypeOID"===D.type}function G(D){return"global-id"===D.type||"esriFieldTypeGlobalID"===D.type}class z{constructor(k){if(this.fields=k,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!k)return;const N=[];for(const B of k){const Q=B&&B.name;if(Q){const ne=Z(Q);this._fieldsMap.set(Q,B),this._fieldsMap.set(ne,B),N.push(ne),"date"===(D=B).type||"esriFieldTypeDate"===D.type?(this.dateFields.push(B),this._dateFieldsSet.add(B)):(0,d.H7)(B)&&(this._numericFieldsSet.add(B),this.numericFields.push(B)),X(B)||G(B)||(B.editable=null==B.editable||!!B.editable,B.nullable=null==B.nullable||!!B.nullable)}}var D;N.sort(),this.uid=N.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const k of this.fields)X(k)||G(k)||k.nullable||void 0!==(0,d.os)(k)||this._requiredFields.push(k)}return this._requiredFields}has(k){return null!=this.get(k)}get(k){return null!=k?this._fieldsMap.get(k)||this._fieldsMap.get(Z(k)):void 0}isDateField(k){return this._dateFieldsSet.has(this.get(k))}isNumericField(k){return this._numericFieldsSet.has(this.get(k))}normalizeFieldName(k){const N=this.get(k);if(N)return N.name}}function Z(D){return D.toLowerCase().trim()}},72258:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(86810),X=p(77712),Z=(p(85931),p(8314),p(90912)),D=p(76898);let N=k=class extends v.wq{constructor(Q){super(Q),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new k({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,d._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],N.prototype,"cols",void 0),(0,d._)([(0,X.Cb)({type:Z.z8,json:{write:!0}})],N.prototype,"level",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"levelValue",void 0),(0,d._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],N.prototype,"origin",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],N.prototype,"resolution",void 0),(0,d._)([(0,X.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],N.prototype,"rows",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],N.prototype,"scale",void 0),N=k=(0,d._)([(0,D.j)("esri.layers.support.LOD")],N);const B=N},170:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>de});var re,d=p(17626),v=p(65787),X=p(2076),G=p(86810),z=p(58817),Z=p(23841),D=p(77712),N=(p(90912),p(68653)),B=p(76898),Q=p(99433),ae=(p(85931),p(8314),p(86793));let $=re=class extends G.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(q,ue){return ue.value?(0,ae.dI)(ue.value):q}writeExpression(q,ue,ie){null!=this.value&&(q=(0,ae.dI)(this.value)),null!=q&&(ue[ie]=q)}clone(){return new re({expression:this.expression,title:this.title,value:this.value})}};(0,d._)([(0,D.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],$.prototype,"expression",void 0),(0,d._)([(0,N.r)("expression",["expression","value"])],$.prototype,"readExpression",null),(0,d._)([(0,Q.c)("expression")],$.prototype,"writeExpression",null),(0,d._)([(0,D.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$.prototype,"title",void 0),(0,d._)([(0,D.Cb)({json:{read:!1,write:!1}})],$.prototype,"value",void 0),$=re=(0,d._)([(0,B.j)("esri.layers.support.LabelExpressionInfo")],$);const F=$;var A,R=p(8080),U=p(65270);const V=new X.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function J(q){var ue;return!q||"service"!==q.origin&&"map-image"!==(null==(ue=q.layer)?void 0:ue.type)}function oe(q){var ue,ie;return!!function Y(q){return"map-image"===(null==q?void 0:q.type)}(q)&&!!(null==(ie=null==(ue=q.capabilities)?void 0:ue.exportMap)?void 0:ie.supportsArcadeExpressionForLabeling)}let le=A=class extends G.wq{constructor(q){super(q),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=R.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(q,ue){const ie=(ye,pe,Ce)=>{switch(pe){case"=":return ye==Ce;case"<>":return ye!=Ce;case">":return ye>Ce;case">=":return ye>=Ce;case"<":return ye<Ce;case"<=":return ye<=Ce}return!1};try{if(null==q)return!0;const ye=q.split(" ");if(3===ye.length)return ie(ue[ye[0]],ye[1],ye[2]);if(7===ye.length){const pe=ie(ue[ye[0]],ye[1],ye[2]),Ce=ye[3],De=ie(ue[ye[4]],ye[5],ye[6]);switch(Ce){case"AND":return pe&&De;case"OR":return pe||De}}return!1}catch(ye){console.log("Error.: can't parse = "+q)}}readLabelExpression(q,ue){const ie=ue.labelExpressionInfo;if(!ie||!ie.value&&!ie.expression)return q}writeLabelExpression(q,ue,ie){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)q=(0,ae.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const ye=(0,ae.el)(this.labelExpressionInfo.expression);ye&&(q="["+ye+"]")}null!=q&&(ue[ie]=q)}writeLabelExpressionInfo(q,ue,ie,ye){if(null==q&&null!=this.labelExpression&&J(ye))q=new F({expression:this.getLabelExpressionArcade()});else if(!q)return;const pe=q.toJSON(ye);pe.expression&&(ue[ie]=pe)}writeMaxScale(q,ue){(q||this.minScale)&&(ue.maxScale=q)}writeMinScale(q,ue){(q||this.maxScale)&&(ue.minScale=q)}getLabelExpression(){return(0,ae.hV)(this)}getLabelExpressionArcade(){return(0,ae.YI)(this)}getLabelExpressionSingleField(){return(0,ae.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new A({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,z.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,z.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,d._)([(0,D.Cb)({type:String,json:{write:!0}})],le.prototype,"name",void 0),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],le.prototype,"allowOverrun",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],le.prototype,"deconflictionStrategy",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:{overridePolicy(q,ue,ie){return this.labelExpressionInfo&&"service"===(null==ie?void 0:ie.origin)&&oe(ie.layer)?{enabled:!1}:{allowNull:!0}}}}})],le.prototype,"labelExpression",void 0),(0,d._)([(0,N.r)("labelExpression")],le.prototype,"readLabelExpression",null),(0,d._)([(0,Q.c)("labelExpression")],le.prototype,"writeLabelExpression",null),(0,d._)([(0,D.Cb)({type:F,json:{write:{overridePolicy:(q,ue,ie)=>function se(q){return J(q)||oe(q.layer)}(ie)?{allowNull:!0}:{enabled:!1}}}})],le.prototype,"labelExpressionInfo",void 0),(0,d._)([(0,Q.c)("labelExpressionInfo")],le.prototype,"writeLabelExpressionInfo",null),(0,d._)([(0,D.Cb)({type:V.apiValues,json:{type:V.jsonValues,read:V.read,write:V.write}})],le.prototype,"labelPlacement",void 0),(0,d._)([(0,D.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],le.prototype,"labelPosition",void 0),(0,d._)([(0,D.Cb)({type:Number})],le.prototype,"maxScale",void 0),(0,d._)([(0,Q.c)("maxScale")],le.prototype,"writeMaxScale",null),(0,d._)([(0,D.Cb)({type:Number})],le.prototype,"minScale",void 0),(0,d._)([(0,Q.c)("minScale")],le.prototype,"writeMinScale",null),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],le.prototype,"repeatLabel",void 0),(0,d._)([(0,D.Cb)({type:Number,cast:Z.t_,json:{write:!0,origins:{"web-scene":{write:!1}}}})],le.prototype,"repeatLabelDistance",void 0),(0,d._)([(0,D.Cb)({types:v.yK,json:{origins:{"web-scene":{types:v.S6,write:U.vX,default:null}},write:U.vX,default:null}})],le.prototype,"symbol",void 0),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],le.prototype,"useCodedValues",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:!0}})],le.prototype,"where",void 0),le=A=(0,d._)([(0,B.j)("esri.layers.support.LabelClass")],le);const de=le},2430:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(74333),X=p(86810),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898));let B=N=class extends X.wq{constructor(ne){super(ne),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new v.Z}clone(){return new N({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],B.prototype,"floorField",void 0),(0,d._)([(0,G.Cb)({json:{read:!1,write:!1}})],B.prototype,"viewAllMode",void 0),(0,d._)([(0,G.Cb)({json:{read:!1,write:!1}})],B.prototype,"viewAllLevelIds",void 0),B=N=(0,d._)([(0,k.j)("esri.layers.support.LayerFloorInfo")],B);const Q=B},2584:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>J});var U,d=p(17626),v=p(2076),X=p(86810),G=p(62208),z=p(16730),Z=p(77712),N=(p(85931),p(8314),p(90912)),B=p(68653),Q=p(76898),ne=p(99433),te=p(49672),ae=p(65234),re=p(65401),$=p(37053),F=p(46367),R=p(72258);const A=new v.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let V=U=class extends X.wq{constructor(Y){super(Y),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(Y={}){const{resolutionFactor:oe=1,scales:se,size:le=256,spatialReference:de=ae.Z.WebMercator,numLODs:q=24}=Y;if(!(0,$.JY)(de)){const De=[];if(se)for(let Me=0;Me<se.length;Me++){const ve=se[Me];De.push({level:Me,scale:ve,resolution:ve})}else{let Me=5e-4;for(let ve=q-1;ve>=0;ve--)De.unshift({level:ve,scale:Me,resolution:Me}),Me*=2}return new U({dpi:96,lods:De,origin:new te.Z(0,0,de),size:[le,le],spatialReference:de})}const ue=(0,$.C5)(de),ie=new te.Z(Y.origin?{x:Y.origin.x,y:Y.origin.y,spatialReference:de}:ue?{x:ue.origin[0],y:ue.origin[1],spatialReference:de}:{x:0,y:0,spatialReference:de}),pe=1/(39.37*(0,z.c9)(de)*96),Ce=[];if(se)for(let De=0;De<se.length;De++){const Me=se[De];Ce.push({level:De,scale:Me,resolution:Me*pe})}else{let De=(0,$.sT)(de)?512/le*591657527.5917094:256/le*591657527.591555;const Me=Math.ceil(q/oe);Ce.push({level:0,scale:De,resolution:De*pe});for(let ve=1;ve<Me;ve++){const Le=De/2**oe;Ce.push({level:ve,scale:Le,resolution:Le*pe}),De=Le}}return new U({dpi:96,lods:Ce,origin:ie,size:[le,le],spatialReference:de})}get isWrappable(){const{spatialReference:Y,origin:oe}=this;if(Y&&oe){const se=(0,$.C5)(Y);return Y.isWrappable&&Math.abs(se.origin[0]-oe.x)<=se.dx}return!1}readOrigin(Y,oe){return te.Z.fromJSON(Nn({spatialReference:oe.spatialReference},Y))}set lods(Y){let oe=0,se=0;const le=[];this._levelToLOD={},Y&&(oe=-1/0,se=1/0,Y.forEach(de=>{le.push(de.scale),oe=de.scale>oe?de.scale:oe,se=de.scale<se?de.scale:se,this._levelToLOD[de.level]=de})),this._set("scales",le),this._set("minScale",oe),this._set("maxScale",se),this._set("lods",Y),this._initializeUpsampleLevels()}readSize(Y,oe){return[oe.cols,oe.rows]}writeSize(Y,oe){oe.cols=Y[0],oe.rows=Y[1]}zoomToScale(Y){const oe=this.scales;if(Y<=0)return oe[0];if(Y>=oe.length-1)return oe[oe.length-1];{const se=Math.floor(Y);return oe[se]/(oe[se]/oe[se+1])**(Y-se)}}scaleToZoom(Y){const oe=this.scales,se=oe.length-1;let le=0;for(;le<se;le++){const de=oe[le],q=oe[le+1];if(de<=Y)return le;if(q===Y)return le+1;if(de>Y&&q<Y)return le+Math.log(de/Y)/Math.log(de/q)}return le}snapScale(Y,oe=.95){const se=this.scaleToZoom(Y);return se%Math.floor(se)>=oe?this.zoomToScale(Math.ceil(se)):this.zoomToScale(Math.floor(se))}tileAt(Y,oe,se,le){const de=this.lodAt(Y);if(!de)return null;let q,ue;if("number"==typeof oe)q=oe,ue=se;else if((0,$.fS)(oe.spatialReference,this.spatialReference))q=oe.x,ue=oe.y,le=se;else{const pe=(0,F.iV)(oe,this.spatialReference);if((0,G.Wi)(pe))return null;q=pe.x,ue=pe.y,le=se}const ie=de.resolution*this.size[0],ye=de.resolution*this.size[1];return le||(le={id:null,level:0,row:0,col:0,extent:(0,re.Ue)()}),le.level=Y,le.row=Math.floor((this.origin.y-ue)/ye+.001),le.col=Math.floor((q-this.origin.x)/ie+.001),this.updateTileInfo(le),le}updateTileInfo(Y,oe=U.ExtrapolateOptions.NONE){let se=this.lodAt(Y.level);if(!se&&oe===U.ExtrapolateOptions.POWER_OF_TWO){const ue=this.lods[this.lods.length-1];ue.level<Y.level&&(se=ue)}if(!se)return;const le=Y.level-se.level,de=se.resolution*this.size[0]/2**le,q=se.resolution*this.size[1]/2**le;Y.id=`${Y.level}/${Y.row}/${Y.col}`,Y.extent||(Y.extent=(0,re.Ue)()),Y.extent[0]=this.origin.x+Y.col*de,Y.extent[1]=this.origin.y-(Y.row+1)*q,Y.extent[2]=Y.extent[0]+de,Y.extent[3]=Y.extent[1]+q}upsampleTile(Y){const oe=this._upsampleLevels[Y.level];return!(!oe||-1===oe.parentLevel||(Y.level=oe.parentLevel,Y.row=Math.floor(Y.row/oe.factor+.001),Y.col=Math.floor(Y.col/oe.factor+.001),this.updateTileInfo(Y),0))}getTileBounds(Y,oe){const{resolution:se}=this.lodAt(oe.level),le=se*this.size[0],de=se*this.size[1];return Y[0]=this.origin.x+oe.col*le,Y[1]=this.origin.y-(oe.row+1)*de,Y[2]=Y[0]+le,Y[3]=Y[1]+de,Y}lodAt(Y){return this._levelToLOD&&this._levelToLOD[Y]||null}clone(){return U.fromJSON(this.write({}))}getOrCreateCompatible(Y,oe){if(256===this.size[0]&&256===this.size[1])return 256===Y?this:null;const se=[],le=this.lods.length;for(let de=0;de<le;de++){const q=this.lods[de];se.push(new R.Z({level:q.level,scale:q.scale,resolution:q.resolution*oe}))}return new U({size:[Y,Y],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:se})}_initializeUpsampleLevels(){const Y=this.lods;this._upsampleLevels=[];let oe=null;for(let se=0;se<Y.length;se++){const le=Y[se];this._upsampleLevels[le.level]={parentLevel:oe?oe.level:-1,factor:oe?oe.resolution/le.resolution:0},oe=le}}};var Y,oe;(0,d._)([(0,Z.Cb)({type:Number,json:{write:!0}})],V.prototype,"compressionQuality",void 0),(0,d._)([(0,Z.Cb)({type:Number,json:{write:!0}})],V.prototype,"dpi",void 0),(0,d._)([(0,Z.Cb)({type:String,json:{read:A.read,write:A.write,origins:{"web-scene":{read:!1,write:!1}}}})],V.prototype,"format",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],V.prototype,"isWrappable",null),(0,d._)([(0,Z.Cb)({type:te.Z,json:{write:!0}})],V.prototype,"origin",void 0),(0,d._)([(0,B.r)("origin")],V.prototype,"readOrigin",null),(0,d._)([(0,Z.Cb)({type:[R.Z],value:null,json:{write:!0}})],V.prototype,"lods",null),(0,d._)([(0,Z.Cb)({readOnly:!0})],V.prototype,"minScale",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],V.prototype,"maxScale",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],V.prototype,"scales",void 0),(0,d._)([(0,Z.Cb)({cast:Y=>Array.isArray(Y)?Y:"number"==typeof Y?[Y,Y]:[256,256]})],V.prototype,"size",void 0),(0,d._)([(0,B.r)("size",["rows","cols"])],V.prototype,"readSize",null),(0,d._)([(0,ne.c)("size",{cols:{type:N.z8},rows:{type:N.z8}})],V.prototype,"writeSize",null),(0,d._)([(0,Z.Cb)({type:ae.Z,json:{write:!0}})],V.prototype,"spatialReference",void 0),V=U=(0,d._)([(0,Q.j)("esri.layers.support.TileInfo")],V),(oe=(Y=V||(V={})).ExtrapolateOptions||(Y.ExtrapolateOptions={}))[oe.NONE=0]="NONE",oe[oe.POWER_OF_TWO=1]="POWER_OF_TWO";const J=V},62708:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>A});var ae,d=p(17626),v=p(97478),X=p(20849),G=p(86810),z=p(58817),Z=p(62208),D=p(77712),N=(p(90912),p(68653)),B=p(76898),Q=p(99433);p(85931),p(8314);let re=ae=class extends G.wq{constructor(V){super(V),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(V,J){return void 0!==J.respectsDaylightSaving?J.respectsDaylightSaving:void 0!==J.respectDaylightSaving&&J.respectDaylightSaving}clone(){const{respectsDaylightSaving:V,timezone:J}=this;return new ae({respectsDaylightSaving:V,timezone:J})}};(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],re.prototype,"respectsDaylightSaving",void 0),(0,d._)([(0,N.r)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],re.prototype,"readRespectsDaylightSaving",null),(0,d._)([(0,D.Cb)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],re.prototype,"timezone",void 0),re=ae=(0,d._)([(0,B.j)("esri.layers.support.TimeReference")],re);const $=re;var R,F=p(58926);let U=R=class extends G.wq{constructor(V){super(V),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(V,J){if(!J.timeExtent||!Array.isArray(J.timeExtent)||2!==J.timeExtent.length)return null;const Y=new Date(J.timeExtent[0]),oe=new Date(J.timeExtent[1]);return new v.Z({start:Y,end:oe})}writeFullTimeExtent(V,J){J.timeExtent=V&&(0,Z.pC)(V.start)&&(0,Z.pC)(V.end)?[V.start.getTime(),V.end.getTime()]:null}readInterval(V,J){return J.timeInterval&&J.timeIntervalUnits?new X.Z({value:J.timeInterval,unit:F.v.fromJSON(J.timeIntervalUnits)}):J.defaultTimeInterval&&J.defaultTimeIntervalUnits?new X.Z({value:J.defaultTimeInterval,unit:F.v.fromJSON(J.defaultTimeIntervalUnits)}):null}writeInterval(V,J){if(V){const Y=V.toJSON();J.timeInterval=Y.value,J.timeIntervalUnits=Y.unit}else J.timeInterval=null,J.timeIntervalUnits=null}clone(){const{cumulative:V,endField:J,hasLiveData:Y,interval:oe,startField:se,timeReference:le,fullTimeExtent:de,trackIdField:q,useTime:ue}=this;return new R({cumulative:V,endField:J,hasLiveData:Y,interval:oe,startField:se,timeReference:(0,z.d9)(le),fullTimeExtent:(0,z.d9)(de),trackIdField:q,useTime:ue})}};(0,d._)([(0,D.Cb)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],U.prototype,"cumulative",void 0),(0,d._)([(0,D.Cb)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],U.prototype,"endField",void 0),(0,d._)([(0,D.Cb)({type:v.Z,json:{write:{enabled:!0,allowNull:!0}}})],U.prototype,"fullTimeExtent",void 0),(0,d._)([(0,N.r)("fullTimeExtent",["timeExtent"])],U.prototype,"readFullTimeExtent",null),(0,d._)([(0,Q.c)("fullTimeExtent")],U.prototype,"writeFullTimeExtent",null),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],U.prototype,"hasLiveData",void 0),(0,d._)([(0,D.Cb)({type:X.Z,json:{write:{enabled:!0,allowNull:!0}}})],U.prototype,"interval",void 0),(0,d._)([(0,N.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],U.prototype,"readInterval",null),(0,d._)([(0,Q.c)("interval")],U.prototype,"writeInterval",null),(0,d._)([(0,D.Cb)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],U.prototype,"startField",void 0),(0,d._)([(0,D.Cb)({type:$,json:{write:{enabled:!0,allowNull:!0}}})],U.prototype,"timeReference",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],U.prototype,"trackIdField",void 0),(0,d._)([(0,D.Cb)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],U.prototype,"useTime",void 0),U=R=(0,d._)([(0,B.j)("esri.layers.support.TimeInfo")],U);const A=U},91309:(wt,Se,p)=>{"use strict";p.d(Se,{B:()=>k});var D,d=p(17626),v=p(86810),X=p(58817),G=p(77712),Z=(p(90912),p(76898));let k=D=class extends v.wq{constructor(N){super(N)}clone(){return new D({customLayerParameters:(0,X.d9)(this.customLayerParameters),customParameters:(0,X.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,d._)([(0,G.Cb)({json:{type:Object,write:!0}})],k.prototype,"customLayerParameters",void 0),(0,d._)([(0,G.Cb)({json:{type:Object,write:!0}})],k.prototype,"customParameters",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],k.prototype,"layerIdentifier",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],k.prototype,"tileMatrixSet",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],k.prototype,"url",void 0),k=D=(0,d._)([(0,Z.j)("esri.layer.support.WMTSLayerInfo")],k)},38305:(wt,Se,p)=>{"use strict";p.d(Se,{B5:()=>N,DR:()=>Q,G:()=>U,M8:()=>ae,Nm:()=>$,Qc:()=>B,XG:()=>F,a7:()=>te,ld:()=>ne,wH:()=>R});var d=p(62208),v=p(21726),X=p(29840);const G={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},z=Object.values(G),Z=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${z.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),D=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${z.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),k=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function N(J){return!!Z.test(J)}function B(J){if((0,d.Wi)(J))return null;const Y=(0,v.mN)(J),oe=Y.path.match(Z)||Y.path.match(D);if(!oe)return null;const[,se,le,de,q]=oe,ue=le.indexOf("/");return{title:ne(-1!==ue?le.slice(ue+1):le),serverType:G[de.toLowerCase()],sublayer:null!=q&&""!==q?parseInt(q,10):null,url:{path:se}}}function Q(J){const Y=(0,v.mN)(J).path.match(k);return Y?{serviceUrl:Y[1],sublayerId:Number(Y[2])}:null}function ne(J){return(J=J.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+J.slice(1)}function te(J,Y){const oe=[];if(J){const se=B(J);(0,d.pC)(se)&&se.title&&oe.push(se.title)}if(Y){const se=ne(Y);oe.push(se)}if(2===oe.length){if(oe[0].toLowerCase().includes(oe[1].toLowerCase()))return oe[0];if(oe[1].toLowerCase().includes(oe[0].toLowerCase()))return oe[1]}return oe.join(" - ")}function ae(J){if(!J)return!1;const de=(J=J.toLowerCase()).includes(".arcgis.com/"),q=J.includes("//services")||J.includes("//tiles")||J.includes("//features");return de&&q}function $(J,Y){return J&&(0,v.Qj)((0,v.Hu)(J,Y))}function F(J){let{url:Y}=J;if(!Y)return{url:Y};Y=(0,v.Hu)(Y,J.logger);const oe=(0,v.mN)(Y),se=B(oe.path);let le;if((0,d.pC)(se))null!=se.sublayer&&null==J.layer.layerId&&(le=se.sublayer),Y=se.url.path;else if(J.nonStandardUrlAllowed){const de=Q(oe.path);(0,d.pC)(de)&&(Y=de.serviceUrl,le=de.sublayerId)}return{url:(0,v.Qj)(Y),layerId:le}}function R(J,Y,oe,se,le){(0,X.w)(Y,se,"url",le),se.url&&null!=J.layerId&&(se.url=(0,v.v_)(se.url,oe,J.layerId.toString()))}function U(J){if(!J)return!1;const Y=J.toLowerCase(),oe=Y.includes("/services/"),se=Y.includes("/mapserver/wmsserver"),le=Y.includes("/imageserver/wmsserver"),de=Y.includes("/wmsserver");return oe&&(se||le||de)}},13812:(wt,Se,p)=>{"use strict";p.d(Se,{qG:()=>oe,PV:()=>A,id:()=>le,iR:()=>F,rn:()=>U,rT:()=>ue,u1:()=>q,rO:()=>de,Oh:()=>J,bT:()=>Y,C_:()=>$,Lx:()=>V,vg:()=>se,YI:()=>re,HQ:()=>R});var d=p(97478),v=p(2004),X=p(65234),G=p(29840),z=p(62208),D=(p(10699),p(28170)),te=p(82706),ae=p(92236);const re={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},$={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(ie,ye)=>!ye.disablePopup},write:{enabled:!0,writer(ie,ye,pe){ye[pe]=!ie}}}},F={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},R={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:G.w}}},U={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},A={value:null,type:te.ZP,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function V(ie){return{type:ie,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const J={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},Y=Wi(Nn({},J),{json:Wi(Nn({},J.json),{origins:{"web-document":Wi(Nn({},J.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(ie,ye,pe)=>pe&&"service"!==pe.origin||!ye.drawingInfo||void 0===ye.drawingInfo.transparency?ye.layerDefinition&&ye.layerDefinition.drawingInfo&&void 0!==ye.layerDefinition.drawingInfo.transparency?(0,ae.b)(ye.layerDefinition.drawingInfo.transparency):void 0:(0,ae.b)(ye.drawingInfo.transparency)}})}),oe={type:d.Z,readOnly:!0,get(){var Le,je;if(!(null==(Le=this.layer)?void 0:Le.timeInfo))return null;const{datesInUnknownTimezone:ie,timeOffset:ye,useViewTime:pe}=this.layer,Ce=null==(je=this.view)?void 0:je.timeExtent;let De=this.layer.timeExtent;ie&&(De=function ne(ie){if(!ie)return ie;const{start:ye,end:pe}=ie;return new d.Z({start:(0,z.pC)(ye)?(0,D.Nm)(ye,ye.getTimezoneOffset(),"minutes"):ye,end:(0,z.pC)(pe)?(0,D.Nm)(pe,pe.getTimezoneOffset(),"minutes"):pe})}(De));let Me=pe?Ce&&De?Ce.intersection(De):Ce||De:De;if(!Me||Me.isEmpty||Me.isAllTime)return Me;ye&&(Me=Me.offset(-ye.value,ye.unit)),ie&&(Me=function Q(ie){if(!ie)return ie;const{start:ye,end:pe}=ie;return new d.Z({start:(0,z.pC)(ye)?(0,D.Nm)(ye,-ye.getTimezoneOffset(),"minutes"):ye,end:(0,z.pC)(pe)?(0,D.Nm)(pe,-pe.getTimezoneOffset(),"minutes"):pe})}(Me));const ve=this._get("timeExtent");return Me.equals(ve)?ve:Me}},se={type:v.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(ie,ye)=>{const pe=v.Z.fromJSON(ie);return null!=ye.spatialReference&&"object"==typeof ye.spatialReference&&(pe.spatialReference=X.Z.fromJSON(ye.spatialReference)),pe}}}},read:!1}},le={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},de={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},q={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},ue={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}}},26141:(wt,Se,p)=>{"use strict";p.d(Se,{im:()=>q,V5:()=>de}),p(8314);var B,v=p(17626),X=p(58817),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(86810);p(85931);let Q=B=class extends k.wq{constructor(ue){super(ue),this.name=null,this.code=null}clone(){return new B({name:this.name,code:this.code})}};(0,v._)([(0,G.Cb)({type:String,json:{write:!0}})],Q.prototype,"name",void 0),(0,v._)([(0,G.Cb)({type:[String,Number],json:{write:!0}})],Q.prototype,"code",void 0),Q=B=(0,v._)([(0,D.j)("esri.layers.support.CodedValue")],Q);const te=new(p(2076).X)({inherited:"inherited",codedValue:"coded-value",range:"range"});let ae=class extends k.wq{constructor(ue){super(ue),this.name=null,this.type=null}};(0,v._)([(0,G.Cb)({type:String,json:{write:!0}})],ae.prototype,"name",void 0),(0,v._)([(0,Z.J)(te)],ae.prototype,"type",void 0),ae=(0,v._)([(0,D.j)("esri.layers.support.Domain")],ae);const re=ae;var $;let F=$=class extends re{constructor(ue){super(ue),this.codedValues=null,this.type="coded-value"}getName(ue){let ie=null;if(this.codedValues){const ye=String(ue);this.codedValues.some(pe=>(String(pe.code)===ye&&(ie=pe.name),!!ie))}return ie}clone(){return new $({codedValues:(0,X.d9)(this.codedValues),name:this.name})}};(0,v._)([(0,G.Cb)({type:[Q],json:{write:!0}})],F.prototype,"codedValues",void 0),(0,v._)([(0,Z.J)({codedValue:"coded-value"})],F.prototype,"type",void 0),F=$=(0,v._)([(0,D.j)("esri.layers.support.CodedValueDomain")],F);const R=F;var V;p(63290),p(82255);let J=V=class extends re{constructor(ue){super(ue),this.type="inherited"}clone(){return new V}};(0,v._)([(0,Z.J)({inherited:"inherited"})],J.prototype,"type",void 0),J=V=(0,v._)([(0,D.j)("esri.layers.support.InheritedDomain")],J);const Y=J;var oe;let se=oe=class extends re{constructor(ue){super(ue),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new oe({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,v._)([(0,G.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ue,ie)=>ie.range&&ie.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(ue,ie,ye){ie[ye]=[this.minValue||0,ue]}}}})],se.prototype,"maxValue",void 0),(0,v._)([(0,G.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:(ue,ie)=>ie.range&&ie.range[0]},write:{target:"range",writer(ue,ie,ye){ie[ye]=[ue,this.maxValue||0]}}}})],se.prototype,"minValue",void 0),(0,v._)([(0,Z.J)({range:"range"})],se.prototype,"type",void 0),se=oe=(0,v._)([(0,D.j)("esri.layers.support.RangeDomain")],se);const le=se,de={key:"type",base:re,typeMap:{range:se,"coded-value":R,inherited:Y}};function q(ue){if(!ue||!ue.type)return null;switch(ue.type){case"range":return le.fromJSON(ue);case"codedValue":return R.fromJSON(ue);case"inherited":return Y.fromJSON(ue)}return null}},47717:(wt,Se,p)=>{"use strict";p.d(Se,{d:()=>Re});var J,d=p(83989),v=p(17626),X=p(73281),te=(p(4832),p(49067),p(96794),p(69747),p(40425),p(69357),p(40342),p(14726),p(33474),p(32088)),ae=p(58817),re=p(77712),F=(p(90912),p(55342)),R=p(76898),U=p(86810);p(85931),p(8314);let Y=J=class extends U.wq{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new J({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};(0,v._)([(0,re.Cb)({type:String,json:{write:!0}})],Y.prototype,"statisticType",void 0),(0,v._)([(0,re.Cb)({type:String,json:{write:!0}})],Y.prototype,"onStatisticField",void 0),(0,v._)([(0,re.Cb)({type:String,json:{write:!0}})],Y.prototype,"onStatisticValueExpression",void 0),Y=J=(0,v._)([(0,R.j)("esri.layers.support.OutStatistic")],Y);const oe=Y;var se;let le=se=class extends U.wq{constructor(){super(...arguments),this.name=null,this.outStatistic=null}clone(){return new se({name:this.name,outStatistic:this.outStatistic.clone()})}};(0,v._)([(0,re.Cb)({type:String,json:{write:!0}})],le.prototype,"name",void 0),(0,v._)([(0,re.Cb)({type:oe,json:{write:!0}})],le.prototype,"outStatistic",void 0),le=se=(0,v._)([(0,R.j)("esri.layers.support.AggregateField")],le);const de=le;var ie,q=p(13812),ue=p(170);let ye=ie=class extends d.B{constructor(nt){super(nt),this.type="binning",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}clone(){return new ie({fields:(0,ae.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,ae.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,popupEnabled:this.popupEnabled,popupTemplate:(0,ae.d9)(this.popupTemplate),renderer:(0,ae.d9)(this.renderer)})}};(0,v._)([(0,F.J)({binning:"binning"})],ye.prototype,"type",void 0),(0,v._)([(0,re.Cb)({type:Number,json:{write:!0}})],ye.prototype,"fixedBinLevel",void 0),(0,v._)([(0,re.Cb)({type:[ue.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ye.prototype,"labelingInfo",void 0),(0,v._)([(0,re.Cb)(q.iR)],ye.prototype,"labelsVisible",void 0),(0,v._)([(0,re.Cb)(q.C_)],ye.prototype,"popupEnabled",void 0),(0,v._)([(0,re.Cb)({type:X.Z,json:{name:"popupInfo",write:!0}})],ye.prototype,"popupTemplate",void 0),(0,v._)([(0,re.Cb)({type:[de],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ye.prototype,"fields",void 0),(0,v._)([(0,re.Cb)({types:te.A,json:{write:!0}})],ye.prototype,"renderer",void 0),ye=ie=(0,v._)([(0,R.j)("esri.layers.support.FeatureReductionBinning")],ye);const pe=ye;var Me,Ce=p(65787),De=p(23841);let ve=Me=class extends U.wq{constructor(nt){super(nt),this.type="cluster",this.clusterRadius=(0,De.t_)("80px"),this.clusterMinSize=(0,De.t_)("12px"),this.clusterMaxSize=(0,De.t_)("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new Me({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,ae.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,ae.d9)(this.fields),renderer:(0,ae.d9)(this.renderer),popupEnabled:this.popupEnabled,popupTemplate:(0,ae.d9)(this.popupTemplate)})}};(0,v._)([(0,re.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],ve.prototype,"type",void 0),(0,v._)([(0,re.Cb)({type:Number,cast:nt=>"auto"===nt?nt:(0,De.t_)(nt),json:{write:!0}})],ve.prototype,"clusterRadius",void 0),(0,v._)([(0,re.Cb)({type:Number,cast:De.t_,json:{write:!0}})],ve.prototype,"clusterMinSize",void 0),(0,v._)([(0,re.Cb)({type:Number,cast:De.t_,json:{write:!0}})],ve.prototype,"clusterMaxSize",void 0),(0,v._)([(0,re.Cb)(q.C_)],ve.prototype,"popupEnabled",void 0),(0,v._)([(0,re.Cb)({type:X.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ve.prototype,"popupTemplate",void 0),(0,v._)([(0,re.Cb)({types:te.A,json:{write:!0}})],ve.prototype,"renderer",void 0),(0,v._)([(0,re.Cb)({types:Ce.AH})],ve.prototype,"symbol",void 0),(0,v._)([(0,re.Cb)({type:[ue.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ve.prototype,"labelingInfo",void 0),(0,v._)([(0,re.Cb)(q.iR)],ve.prototype,"labelsVisible",void 0),(0,v._)([(0,re.Cb)({type:[de],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ve.prototype,"fields",void 0),ve=Me=(0,v._)([(0,R.j)("esri.layers.support.FeatureReductionCluster")],ve);const Le=ve;var je=p(47058);const _e={key:"type",base:d.B,typeMap:{selection:Le}},Re={types:{key:"type",base:d.B,typeMap:{selection:je.Z,cluster:Le,binning:pe}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:_e},"portal-item":{types:_e},"web-scene":{types:{key:"type",base:d.B,typeMap:{selection:je.Z}}}}}}},55911:(wt,Se,p)=>{"use strict";p.d(Se,{v:()=>Z});var d=p(63290),v=p(36255),X=p(60466),G=p(36630);const z=d.Z.getLogger("esri.layers.support.fieldProperties");function Z(){return{fields:{type:[v.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new X.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(D){this._userOutFields=D,this.notifyChange("outFields")},get:function(){const D=this._userOutFields;if(!D||!D.length)return null;if(D.includes("*"))return["*"];if(!this.fields)return D;for(const k of D)this.fieldsIndex.has(k)||z.error("field-attributes-layer:invalid-field",`Invalid field ${k} found in outFields`,{layer:this,outFields:D});return(0,G.Q0)(this.fieldsIndex,D)}}}}},85:(wt,Se,p)=>{"use strict";p.d(Se,{v:()=>v});const v=new(p(2076).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},36630:(wt,Se,p)=>{"use strict";p.d(Se,{io:()=>V,vl:()=>ie,ZV:()=>De,AB:()=>R,gd:()=>F,Ll:()=>ve,Mu:()=>Ze,Qj:()=>je,R9:()=>Ht,Q0:()=>$,YN:()=>ne,UF:()=>ae,O5:()=>se,CH:()=>xe,os:()=>Je,H7:()=>xt,Ec:()=>Dr,qN:()=>Lt,Pz:()=>pr,Lk:()=>U,Qc:()=>Tr,vP:()=>$n});var z,an,d=p(15861),v=p(26584),X=p(62208),G=p(94113);(an=z||(z={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",an.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var N=p(46679);const B=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Q=["field","normalizationField"];function ne(an,Mn){if(null!=an&&null!=Mn)for(const Hn of Array.isArray(an)?an:[an])if(te(B,Hn,Mn),"visualVariables"in Hn&&Hn.visualVariables)for(const Mt of Hn.visualVariables)te(Q,Mt,Mn)}function te(an,Mn,Hn){if(an)for(const Mt of an){const Bt=(0,G.hS)(Mt,Mn),wn=Bt&&"function"!=typeof Bt&&Hn.get(Bt);wn&&(0,G.RB)(Mt,wn.name,Mn)}}function ae(an,Mn){if(null!=an&&(null==Mn?void 0:Mn.fields.length))if("startField"in an){const Hn=Mn.get(an.startField),Mt=Mn.get(an.endField);an.startField=Hn&&Hn.name||null,an.endField=Mt&&Mt.name||null}else{const Hn=Mn.get(an.startTimeField),Mt=Mn.get(an.endTimeField);an.startTimeField=Hn&&Hn.name||null,an.endTimeField=Mt&&Mt.name||null}}const re=new Set;function $(an,Mn){return an&&Mn?(re.clear(),F(re,an,Mn),Array.from(re).sort()):[]}function F(an,Mn,Hn){var Mt;if(Hn)if(null==(Mt=null==Mn?void 0:Mn.fields)?void 0:Mt.length)if(Hn.includes("*"))for(const{name:Bt}of Mn.fields)an.add(Bt);else for(const Bt of Hn)R(an,Mn,Bt);else{if(Hn.includes("*"))return an.clear(),void an.add("*");for(const Bt of Hn)an.add(Bt)}}function R(an,Mn,Hn){if("string"==typeof Hn)if(Mn){const Mt=Mn.get(Hn);Mt&&an.add(Mt.name)}else an.add(Hn)}function U(an,Mn){return(0,X.Wi)(Mn)||(0,X.Wi)(an)?[]:Mn.includes("*")?an.fields.map(Hn=>Hn.name):Mn}function V(an,Mn,Hn){return J.apply(this,arguments)}function J(){return J=(0,d.Z)(function*(an,Mn,Hn){var wn;if(!Hn)return;const{arcadeUtils:Mt}=yield(0,N.LC)(),Bt=Mt.extractFieldNames(Hn,null==(wn=null==Mn?void 0:Mn.fields)?void 0:wn.map(Ut=>Ut.name));for(const Ut of Bt)R(an,Mn,Ut)}),J.apply(this,arguments)}function Y(an,Mn,Hn){return oe.apply(this,arguments)}function oe(){return oe=(0,d.Z)(function*(an,Mn,Hn){if(Hn&&"1=1"!==Hn){const Mt=(yield p.e(410).then(p.bind(p,10410))).WhereClause.create(Hn,Mn);if(!Mt.isStandardized)throw new v.Z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:Hn});F(an,Mn,Mt.fieldNames)}}),oe.apply(this,arguments)}function se({displayField:an,fields:Mn}){return an||(Mn&&Mn.length?de(Mn,"name-or-title")||de(Mn,"unique-identifier")||de(Mn,"type-or-category")||function le(an){for(const Mn of an){if(!Mn||!Mn.name)continue;const Hn=Mn.name.toLowerCase();if(Hn.includes("name")||Hn.includes("title"))return Mn.name}return null}(Mn):null)}function de(an,Mn){for(const Hn of an)if(Hn&&Hn.valueType&&Hn.valueType===Mn)return Hn.name;return null}function ie(an,Mn){return ye.apply(this,arguments)}function ye(){return ye=(0,d.Z)(function*(an,Mn){if(!Mn)return;const Hn=(0,G.hS)("elevationInfo.featureExpressionInfo",Mn);return Hn?Hn.collectRequiredFields(an,Mn.fieldsIndex):void 0}),ye.apply(this,arguments)}function pe(an,Mn,Hn){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,d.Z)(function*(an,Mn,Hn){Hn.outStatistic.onStatisticValueExpression?V(an,Mn,Hn.outStatistic.onStatisticValueExpression):an.add(Hn.outStatistic.onStatisticField)}),Ce.apply(this,arguments)}function De(an,Mn,Hn){return Me.apply(this,arguments)}function Me(){return Me=(0,d.Z)(function*(an,Mn,Hn){var Bt,wn;if(!Mn||!Hn||!("fields"in Hn))return;const Mt=[];if((null==(Bt=Hn.popupTemplate)?void 0:Bt.expressionInfos)&&Mt.push(...Hn.popupTemplate.expressionInfos.map(Ut=>V(an,Mn.fieldsIndex,Ut.expression))),Array.isArray(null==(wn=Hn.popupTemplate)?void 0:wn.content)){const Ut=Hn.popupTemplate.content;for(const Cn of Ut)"expression"===Cn.type&&Cn.expressionInfo&&Mt.push(V(an,Mn.fieldsIndex,Cn.expressionInfo.expression))}Hn.fields&&Mt.push(...Hn.fields.map(Ut=>pe(an,Mn.fieldsIndex,Ut))),yield Promise.all(Mt)}),Me.apply(this,arguments)}function ve(an,Mn,Hn){return Le.apply(this,arguments)}function Le(){return Le=(0,d.Z)(function*(an,Mn,Hn){Mn&&(Mn.timeInfo&&(0,X.pC)(Hn)&&Hn.timeExtent&&F(an,Mn.fieldsIndex,[Mn.timeInfo.startField,Mn.timeInfo.endField]),Mn.floorInfo&&F(an,Mn.fieldsIndex,[Mn.floorInfo.floorField]),(0,X.pC)(Hn)&&(0,X.pC)(Hn.where)&&(yield Y(an,Mn.fieldsIndex,Hn.where)))}),Le.apply(this,arguments)}function je(an,Mn,Hn){return _e.apply(this,arguments)}function _e(){return _e=(0,d.Z)(function*(an,Mn,Hn){Mn&&Hn&&(yield Promise.all(Hn.map(Mt=>Re(an,Mn,Mt))))}),_e.apply(this,arguments)}function Re(an,Mn,Hn){return nt.apply(this,arguments)}function nt(){return nt=(0,d.Z)(function*(an,Mn,Hn){Mn&&Hn&&(Hn.valueExpression?yield V(an,Mn.fieldsIndex,Hn.valueExpression):Hn.field&&R(an,Mn.fieldsIndex,Hn.field))}),nt.apply(this,arguments)}function xe(an){if(!an)return[];const Mn="editFieldsInfo"in an&&an.editFieldsInfo;return Mn?$(an.fieldsIndex,[Mn&&Mn.creatorField,Mn&&Mn.creationDateField,Mn&&Mn.editorField,Mn&&Mn.editDateField]):[]}function Ze(an,Mn){return ct.apply(this,arguments)}function ct(){return ct=(0,d.Z)(function*(an,Mn){const{labelingInfo:Hn,fieldsIndex:Mt}=Mn;Hn&&Hn.length&&(yield Promise.all(Hn.map(Bt=>we(an,Mt,Bt))))}),ct.apply(this,arguments)}function we(an,Mn,Hn){return Be.apply(this,arguments)}function Be(){return Be=(0,d.Z)(function*(an,Mn,Hn){if(!Hn)return;const Mt=Hn.getLabelExpression(),Bt=Hn.where;if("arcade"===Mt.type)yield V(an,Mn,Mt.expression);else{const wn=Mt.expression.match(/{[^}]*}/g);wn&&wn.forEach(Ut=>{R(an,Mn,Ut.slice(1,-1))})}yield Y(an,Mn,Bt)}),Be.apply(this,arguments)}function Je(an){const Mn=an.defaultValue;return void 0!==Mn&&Xe(an,Mn)?Mn:an.nullable?null:void 0}function $e(an){return"number"==typeof an&&!isNaN(an)&&isFinite(an)}function ot(an){return null===an||$e(an)}const mt="isInteger"in Number?Number.isInteger:an=>"number"==typeof an&&isFinite(an)&&Math.floor(an)===an;function Tt(an){return null===an||mt(an)}function It(an){return null!=an&&"string"==typeof an}function Nt(an){return null===an||It(an)}function Rt(){return!0}function Xe(an,Mn){let Hn;switch(an.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":Hn=an.nullable?Tt:mt;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Hn=an.nullable?ot:$e;break;case"string":case"esriFieldTypeString":Hn=an.nullable?Nt:It;break;default:Hn=Rt}return 1===arguments.length?Hn:Hn(Mn)}const Zt=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function xt(an){return null!=an&&Zt.has(an.type)}function Lt(an){return null!=an&&("string"===an.type||"esriFieldTypeString"===an.type)}var Dn,Xn;function pr(an){return null==an||"number"==typeof an&&isNaN(an)?null:an}function Tr(an,Mn){return an.nullable&&null===Mn?null:xt(an)&&!function vr(an,Mn){const Hn="string"==typeof an?zt(an):an;return!!Hn&&(Hn.isInteger?mt(Mn)&&Mn>=Hn.min&&Mn<=Hn.max:Mn>=Hn.min&&Mn<=Hn.max)}(an.type,Number(Mn))?Dn.OUT_OF_RANGE:Xe(an,Mn)?an.domain?function D(an,Mn){switch(an.type){case"range":{const Mt="range"in an?an.range[1]:an.maxValue;if(+Mn<("range"in an?an.range[0]:an.minValue)||+Mn>Mt)return z.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==an.codedValues||an.codedValues.every(Hn=>null==Hn||Hn.code!==Mn))return z.INVALID_CODED_VALUE}return null}(an.domain,Mn):null:Xn.INVALID_TYPE}function zt(an){switch(an){case"esriFieldTypeSmallInteger":case"small-integer":return pn;case"esriFieldTypeInteger":case"integer":return In;case"esriFieldTypeSingle":case"single":return Wn;case"esriFieldTypeDouble":case"double":return jn}}(function(an){an.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Dn||(Dn={})),function(an){an.INVALID_TYPE="type-validation-error::invalid-type"}(Xn||(Xn={}));const pn={min:-32768,max:32767,isInteger:!0},In={min:-2147483648,max:2147483647,isInteger:!0},Wn={min:-34e37,max:12e37,isInteger:!1},jn={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function $n(an,Mn,Hn){switch(an){case z.INVALID_CODED_VALUE:return`Value ${Hn} is not in the coded domain - field: ${Mn.name}, domain: ${JSON.stringify(Mn.domain)}`;case z.VALUE_OUT_OF_RANGE:return`Value ${Hn} is out of the range of valid values - field: ${Mn.name}, domain: ${JSON.stringify(Mn.domain)}`;case Xn.INVALID_TYPE:return`Value ${Hn} is not a valid value for the field type - field: ${Mn.name}, type: ${Mn.type}, nullable: ${Mn.nullable}`;case Dn.OUT_OF_RANGE:{const{min:Mt,max:Bt}=zt(Mn.type);return`Value ${Hn} is out of range for the number type - field: ${Mn.name}, type: ${Mn.type}, value range is ${Mt} to ${Bt}`}}}function Ht(an,Mn){return!function ir(an,Mn,Hn){if(!Mn||!Mn.attributes||!an){if((0,X.pC)(Hn))for(const wn of an)Hn.add(wn);return!0}const Mt=Mn.attributes;let Bt=!1;for(const wn of an)if(!(wn in Mt)){if(Bt=!0,!(0,X.pC)(Hn))break;Hn.add(wn)}return Bt}(an,Mn,null)}function Dr(an){return["raster.itempixelvalue","raster.servicepixelvalue"].some(Mn=>an.toLowerCase().startsWith(Mn))}},86793:(wt,Se,p)=>{"use strict";p.d(Se,{UO:()=>re,YI:()=>ae,dI:()=>$,el:()=>J,hV:()=>te,z7:()=>ne});var d=p(77275);const v="__begin__",X="__end__",G=new RegExp(v,"ig"),z=new RegExp(X,"ig"),Z=new RegExp("^"+v,"i"),D=new RegExp(X+"$","i");function ne(Y){return Y.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function te(Y){const oe={expression:"",type:"none"};return Y.labelExpressionInfo?Y.labelExpressionInfo.value?(oe.expression=Y.labelExpressionInfo.value,oe.type="conventional"):Y.labelExpressionInfo.expression&&(oe.expression=Y.labelExpressionInfo.expression,oe.type="arcade"):null!=Y.labelExpression&&(oe.expression=function Q(Y){return Y.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(Y.labelExpression),oe.type="conventional"),oe}function ae(Y){const oe=te(Y);if(!oe)return null;switch(oe.type){case"conventional":return $(oe.expression);case"arcade":return oe.expression}return null}function re(Y){const oe=te(Y);if(!oe)return null;switch(oe.type){case"conventional":return function R(Y){const oe=Y.match(F);return oe&&oe[1].trim()||null}(oe.expression);case"arcade":return J(oe.expression)}return null}function $(Y){let oe;return Y?(oe=(0,d.gx)(Y,se=>v+'$feature["'+se+'"]'+X),oe=Z.test(oe)?oe.replace(Z,""):'"'+oe,oe=D.test(oe)?oe.replace(D,""):oe+'"',oe=oe.replace(G,'" + ').replace(z,' + "')):oe='""',oe}const F=/^\s*\{([^}]+)\}\s*$/i,U=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,A=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,V=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function J(Y){if(!Y)return null;let oe=U.exec(Y)||A.exec(Y);return oe?oe[1]||oe[3]:(oe=V.exec(Y),oe?oe[2]:null)}},62667:(wt,Se,p)=>{"use strict";p.d(Se,{r:()=>X});var d=p(170);const v=/\[([^\[\]]+)\]/gi;function X(z,Z,D){return z?z.map(k=>{const N=new d.Z;if(N.read(k,D),N.labelExpression){const B=Z.fields||Z.layerDefinition&&Z.layerDefinition.fields||this.fields;N.labelExpression=N.labelExpression.replace(v,(Q,ne)=>`[${function G(z,Z){if(!Z)return z;const D=z.toLowerCase();for(let k=0;k<Z.length;k++){const N=Z[k].name;if(N.toLowerCase()===D)return N}return z}(ne,B)}]`)}return N}):null}},72469:(wt,Se,p)=>{"use strict";function d(te){const ae=null==te?void 0:te.type;return"imagery-tile"===ae||"tile"===ae||"open-street-map"===ae||"vector-tile"===ae||"web-tile"===ae||"wmts"===ae}function v(te){const ae=null==te?void 0:te.type;return"base-tile"===ae||"tile"===ae||"elevation"===ae||"imagery-tile"===ae||"base-elevation"===ae||"open-street-map"===ae||"wcs"===ae||"web-tile"===ae||"wmts"===ae||"vector-tile"===ae}function Z(te){var ae;return"feature"===(null==te?void 0:te.type)&&!te.url&&"memory"===(null==(ae=te.source)?void 0:ae.type)}function D(te){var ae;return"feature"===(null==te?void 0:te.type)&&"feature-layer"===(null==(ae=te.source)?void 0:ae.type)}function ne(te){if(te.activeLayer){const ae=te.activeLayer.tileMatrixSet;if(ae)return ae;const re=te.activeLayer.tileMatrixSets;if(re)return re}return null}p.d(Se,{iC:()=>v,mt:()=>ne,qq:()=>d,rQ:()=>Z,y2:()=>D})},15283:(wt,Se,p)=>{"use strict";p.d(Se,{n:()=>Ce});var R,d=p(17626),v=p(2076),X=p(86810),G=p(77712),D=(p(85931),p(8314),p(66656)),k=p(55342),N=p(68653),B=p(76898),Q=p(90912),ne=p(383),te=p(36255),ae=p(48370),$=(p(29132),p(65234)),F=p(71774);let U=R=class extends X.wq{constructor(De){super(De),this.type="query-table"}clone(){var Re;const{workspaceId:De,query:Me,oidFields:ve,spatialReference:Le,geometryType:je}=this,_e={workspaceId:De,query:Me,oidFields:ve,spatialReference:null!=(Re=null==Le?void 0:Le.clone())?Re:void 0,geometryType:je};return new R(_e)}};var A;(0,d._)([(0,k.J)({queryTable:"query-table"})],U.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],U.prototype,"workspaceId",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],U.prototype,"query",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],U.prototype,"oidFields",void 0),(0,d._)([(0,G.Cb)({type:$.Z,json:{write:!0}})],U.prototype,"spatialReference",void 0),(0,d._)([(0,k.J)(F.Mk)],U.prototype,"geometryType",void 0),U=R=(0,d._)([(0,B.j)("esri.layers.support.source.QueryTableDataSource")],U);let V=A=class extends X.wq{constructor(De){super(De),this.type="raster"}clone(){const{workspaceId:De,dataSourceName:Me}=this;return new A({workspaceId:De,dataSourceName:Me})}};var J;(0,d._)([(0,k.J)({raster:"raster"})],V.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],V.prototype,"dataSourceName",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],V.prototype,"workspaceId",void 0),V=A=(0,d._)([(0,B.j)("esri.layers.support.source.RasterDataSource")],V);let Y=J=class extends X.wq{constructor(De){super(De),this.type="table"}clone(){const{workspaceId:De,gdbVersion:Me,dataSourceName:ve}=this;return new J({workspaceId:De,gdbVersion:Me,dataSourceName:ve})}};var oe,se;(0,d._)([(0,k.J)({table:"table"})],Y.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Y.prototype,"workspaceId",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Y.prototype,"gdbVersion",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Y.prototype,"dataSourceName",void 0),Y=J=(0,d._)([(0,B.j)("esri.layers.support.source.TableDataSource")],Y);const le=(0,v.w)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let de=oe=class extends X.wq{constructor(De){super(De),this.type="join-table"}readLeftTableSource(De,Me,ve){return ue()(De,Me,ve)}castLeftTableSource(De){return(0,Q.N7)(ye(),De)}readRightTableSource(De,Me,ve){return ue()(De,Me,ve)}castRightTableSource(De){return(0,Q.N7)(ye(),De)}clone(){var Re,nt;const{leftTableKey:De,rightTableKey:Me,leftTableSource:ve,rightTableSource:Le,joinType:je}=this,_e={leftTableKey:De,rightTableKey:Me,leftTableSource:null!=(Re=null==ve?void 0:ve.clone())?Re:void 0,rightTableSource:null!=(nt=null==Le?void 0:Le.clone())?nt:void 0,joinType:je};return new oe(_e)}};(0,d._)([(0,k.J)({joinTable:"join-table"})],de.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],de.prototype,"leftTableKey",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],de.prototype,"rightTableKey",void 0),(0,d._)([(0,G.Cb)({json:{write:!0}})],de.prototype,"leftTableSource",void 0),(0,d._)([(0,N.r)("leftTableSource")],de.prototype,"readLeftTableSource",null),(0,d._)([(0,D.p)("leftTableSource")],de.prototype,"castLeftTableSource",null),(0,d._)([(0,G.Cb)({json:{write:!0}})],de.prototype,"rightTableSource",void 0),(0,d._)([(0,N.r)("rightTableSource")],de.prototype,"readRightTableSource",null),(0,d._)([(0,D.p)("rightTableSource")],de.prototype,"castRightTableSource",null),(0,d._)([(0,k.J)(le)],de.prototype,"joinType",void 0),de=oe=(0,d._)([(0,B.j)("esri.layers.support.source.JoinTableDataSource")],de);let q=null;function ue(){return q||(q=(0,ne.d)({types:ye()})),q}let ie=null;function ye(){return ie||(ie={key:"type",base:null,typeMap:{"data-layer":Ce,"map-layer":ae.R}}),ie}const pe={key:"type",base:null,typeMap:{"join-table":de,"query-table":U,raster:V,table:Y}};let Ce=se=class extends X.wq{constructor(De){super(De),this.type="data-layer"}clone(){const{fields:De,dataSource:Me}=this;return new se({fields:De,dataSource:Me})}};(0,d._)([(0,k.J)({dataLayer:"data-layer"})],Ce.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:[te.Z],json:{write:!0}})],Ce.prototype,"fields",void 0),(0,d._)([(0,G.Cb)({types:pe,json:{write:!0}})],Ce.prototype,"dataSource",void 0),Ce=se=(0,d._)([(0,B.j)("esri.layers.support.source.DataLayerSource")],Ce),Ce.from=(0,Q.se)(Ce)},48370:(wt,Se,p)=>{"use strict";p.d(Se,{R:()=>B});var N,d=p(17626),v=p(86810),X=p(77712),Z=(p(85931),p(8314),p(90912)),D=p(55342),k=p(76898);let B=N=class extends v.wq{constructor(Q){super(Q),this.type="map-layer"}clone(){const{mapLayerId:Q,gdbVersion:ne}=this;return new N({mapLayerId:Q,gdbVersion:ne})}};(0,d._)([(0,D.J)({mapLayer:"map-layer"})],B.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:Z.z8,json:{write:!0}})],B.prototype,"mapLayerId",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"gdbVersion",void 0),B=N=(0,d._)([(0,k.j)("esri.layers.support.source.MapLayerSource")],B)},5676:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>X});var d=p(38305);const v=[];function X(G,z){if((0,d.M8)(G.url))return!0;const{wkid:Z}=z;for(const D of v){if(G.version>=D[0])return!0;if("function"==typeof D[1]&&(D[1]=D[1]()),D[1].has(Z))return!1}return!0}v.push([10.91,()=>{const G=new Set([9709,9716,9741,9761,9766]);for(let z=9712;z<=9713;z++)G.add(z);for(let z=9748;z<=9749;z++)G.add(z);for(let z=20904;z<=20932;z++)G.add(z);for(let z=21004;z<=21032;z++)G.add(z);for(let z=21207;z<=21264;z++)G.add(z);for(let z=21307;z<=21364;z++)G.add(z);for(let z=102759;z<=102760;z++)G.add(z);for(let z=102901;z<=102955;z++)G.add(z);return G}]),v.push([10.9,()=>{const G=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let z=9356;z<=9360;z++)G.add(z);for(let z=9404;z<=9407;z++)G.add(z);for(let z=9476;z<=9482;z++)G.add(z);for(let z=9487;z<=9494;z++)G.add(z);for(let z=9697;z<=9699;z++)G.add(z);return G}]),v.push([10.81,()=>{const G=new Set([9265,9333,103598,103699]);for(let z=9248;z<=9254;z++)G.add(z);for(let z=9271;z<=9273;z++)G.add(z);for(let z=9284;z<=9285;z++)G.add(z);for(let z=21453;z<=21463;z++)G.add(z);return G}]),v.push([10.8,()=>{const G=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let z=8035;z<=8036;z++)G.add(z);for(let z=8455;z<=8456;z++)G.add(z);for(let z=8518;z<=8529;z++)G.add(z);for(let z=8533;z<=8536;z++)G.add(z);for(let z=8538;z<=8540;z++)G.add(z);for(let z=8677;z<=8679;z++)G.add(z);for(let z=8902;z<=8903;z++)G.add(z);for(let z=8907;z<=8910;z++)G.add(z);for(let z=8949;z<=8951;z++)G.add(z);for(let z=8972;z<=8987;z++)G.add(z);for(let z=9039;z<=9040;z++)G.add(z);for(let z=9068;z<=9069;z++)G.add(z);for(let z=9140;z<=9141;z++)G.add(z);for(let z=9148;z<=9150;z++)G.add(z);for(let z=9153;z<=9159;z++)G.add(z);for(let z=9205;z<=9218;z++)G.add(z);for(let z=9221;z<=9222;z++)G.add(z);for(let z=54098;z<=54101;z++)G.add(z);return G}]),v.push([10.71,()=>{const G=new Set([6316]);for(let z=8351;z<=8353;z++)G.add(z);for(let z=9294;z<=9297;z++)G.add(z);for(let z=103586;z<=103594;z++)G.add(z);for(let z=103696;z<=103698;z++)G.add(z);return G}]),v.push([10.7,()=>{const G=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let z=8065;z<=8068;z++)G.add(z);for(let z=8082;z<=8083;z++)G.add(z);for(let z=8379;z<=8385;z++)G.add(z);for(let z=8836;z<=8840;z++)G.add(z);for(let z=8857;z<=8860;z++)G.add(z);for(let z=53035;z<=53037;z++)G.add(z);for(let z=54090;z<=54091;z++)G.add(z);for(let z=102498;z<=102499;z++)G.add(z);return G}]),v.push([10.61,()=>new Set([102497])]),v.push([10.6,()=>{const G=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let z=7755;z<=7787;z++)G.add(z);for(let z=7791;z<=7795;z++)G.add(z);for(let z=7799;z<=7801;z++)G.add(z);for(let z=7825;z<=7831;z++)G.add(z);for(let z=7877;z<=7878;z++)G.add(z);for(let z=7882;z<=7883;z++)G.add(z);for(let z=7991;z<=7992;z++)G.add(z);for(let z=8042;z<=8043;z++)G.add(z);for(let z=8058;z<=8059;z++)G.add(z);for(let z=8311;z<=8348;z++)G.add(z);for(let z=9060;z<=9067;z++)G.add(z);for(let z=102562;z<=102568;z++)G.add(z);for(let z=102799;z<=102900;z++)G.add(z);return G}]),v.push([10.51,()=>{const G=new Set([7683,7881,7886,7899,8888,9e3]);for(let z=8013;z<=8032;z++)G.add(z);for(let z=9053;z<=9057;z++)G.add(z);for(let z=104017;z<=104018;z++)G.add(z);for(let z=104971;z<=104974;z++)G.add(z);return G}]),v.push([10.5,()=>{const G=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let z=4087;z<=4088;z++)G.add(z);for(let z=5896;z<=5899;z++)G.add(z);for(let z=7005;z<=7007;z++)G.add(z);for(let z=7057;z<=7070;z++)G.add(z);for(let z=7073;z<=7082;z++)G.add(z);for(let z=7109;z<=7128;z++)G.add(z);for(let z=7844;z<=7859;z++)G.add(z);return G}])},39605:(wt,Se,p)=>{"use strict";p.d(Se,{W:()=>X,v:()=>G});var d=p(50645);const v={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(z,Z,D)=>{"-"===Z.charAt(0)?z.style.setProperty(Z,D):z.style[Z]=D}};let X=z=>(0,d.l7)(v,z),G={create:(z,Z)=>(Z=X(Z),(0,d.WV)(z,document.createElement("div"),void 0,Z),(0,d.UQ)(z,Z)),append:(z,Z,D)=>(D=X(D),(0,d.WV)(Z,z,void 0,D),(0,d.UQ)(Z,D)),insertBefore:(z,Z,D)=>(D=X(D),(0,d.WV)(Z,z.parentNode,z,D),(0,d.UQ)(Z,D)),merge:(z,Z,D)=>(D=X(D),Z.domNode=z,(0,d.Yj)(z,Z,D),(0,d.UQ)(Z,D)),replace:(z,Z,D)=>(D=X(D),(0,d.WV)(Z,z.parentNode,z,D),z.parentNode.removeChild(z),(0,d.UQ)(Z,D))}},50645:(wt,Se,p)=>{"use strict";p.d(Se,{UQ:()=>le,WV:()=>J,Yj:()=>V,l7:()=>D});var d=p(38570);const v="http://www.w3.org/",X=`${v}2000/svg`,G=`${v}1999/xlink`;let z,Z=[],D=(de,q)=>{let ue={};return Object.keys(de).forEach(ie=>{ue[ie]=de[ie]}),q&&Object.keys(q).forEach(ie=>{ue[ie]=q[ie]}),ue},k=(de,q)=>de.vnodeSelector===q.vnodeSelector&&(de.properties&&q.properties?de.properties.key===q.properties.key&&de.properties.bind===q.properties.bind:!de.properties&&!q.properties),N=de=>{if("string"!=typeof de)throw new Error("Style values must be strings")},B=(de,q,ue)=>{if(""!==q.vnodeSelector)for(let ie=ue;ie<de.length;ie++)if(k(de[ie],q))return ie;return-1},Q=(de,q,ue,ie)=>{let ye=de[q];if(""===ye.vnodeSelector)return;let pe=ye.properties;if(!(pe?void 0===pe.key?pe.bind:pe.key:void 0))for(let Ce=0;Ce<de.length;Ce++)if(Ce!==q&&k(de[Ce],ye))throw new Error(`${ue.vnodeSelector} had a ${ye.vnodeSelector} child ${"added"===ie?ie:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},ne=de=>{if(de.properties){let q=de.properties.enterAnimation;q&&q(de.domNode,de.properties)}},te=[],ae=!1,re=de=>{(de.children||[]).forEach(re),de.properties&&de.properties.afterRemoved&&de.properties.afterRemoved.apply(de.properties.bind||de.properties,[de.domNode])},$=()=>{ae=!1,te.forEach(re),te.length=0},F=de=>{te.push(de),ae||(ae=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback($,{timeout:16}):setTimeout($,16))},R=de=>{let q=de.domNode;if(de.properties){let ue=de.properties.exitAnimation;if(ue)return q.style.pointerEvents="none",void ue(q,()=>{q.parentNode&&(q.parentNode.removeChild(q),F(de))},de.properties)}q.parentNode&&(q.parentNode.removeChild(q),F(de))},U=(de,q,ue)=>{if(!q)return;let ie=ue.eventHandlerInterceptor,ye=Object.keys(q),pe=ye.length;for(let Ce=0;Ce<pe;Ce++){let De=ye[Ce],Me=q[De];if("className"===De)throw new Error('Property "className" is not supported, use "class".');if("class"===De)Y(de,Me,!0);else if("classes"===De){let ve=Object.keys(Me),Le=ve.length;for(let je=0;je<Le;je++){let _e=ve[je];Me[_e]&&de.classList.add(_e)}}else if("styles"===De){let ve=Object.keys(Me),Le=ve.length;for(let je=0;je<Le;je++){let _e=ve[je],Re=Me[_e];Re&&(N(Re),ue.styleApplyer(de,_e,Re))}}else if("key"!==De&&null!=Me){let ve=typeof Me;"function"===ve?(0===De.lastIndexOf("on",0)&&(ie&&(Me=ie(De,Me,de,q)),"oninput"===De&&function(){let Le=Me;Me=function(je){Le.apply(this,[je]),je.target["oninput-value"]=je.target.value}}()),de[De]=Me):ue.namespace===X?"href"===De?de.setAttributeNS(G,De,Me):de.setAttribute(De,Me):"string"===ve&&"value"!==De?"innerHTML"===De?de[De]=d.w3.sanitize(Me):de.setAttribute(De,Me):de[De]=Me}}},V=(de,q,ue)=>{((de,q,ue)=>{if(q)for(let ie of q)J(ie,de,void 0,ue)})(de,q.children,ue),q.text&&(de.textContent=q.text),U(de,q.properties,ue),q.properties&&q.properties.afterCreate&&q.properties.afterCreate.apply(q.properties.bind||q.properties,[de,ue,q.vnodeSelector,q.properties,q.children])},J=(de,q,ue,ie)=>{let ye,pe=0,Ce=de.vnodeSelector,De=q.ownerDocument;if(""===Ce)ye=de.domNode=De.createTextNode(de.text),void 0!==ue?q.insertBefore(ye,ue):q.appendChild(ye);else{for(let Me=0;Me<=Ce.length;++Me){let ve=Ce.charAt(Me);if(Me===Ce.length||"."===ve||"#"===ve){let Le=Ce.charAt(pe-1),je=Ce.slice(pe,Me);"."===Le?ye.classList.add(je):"#"===Le?ye.id=je:("svg"===je&&(ie=D(ie,{namespace:X})),void 0!==ie.namespace?ye=de.domNode=De.createElementNS(ie.namespace,je):(ye=de.domNode=de.domNode||De.createElement(je),"input"===je&&de.properties&&void 0!==de.properties.type&&ye.setAttribute("type",de.properties.type)),void 0!==ue?q.insertBefore(ye,ue):ye.parentNode!==q&&q.appendChild(ye)),pe=Me+1}}V(ye,de,ie)}},Y=(de,q,ue)=>{q&&q.split(" ").forEach(ie=>{ie&&de.classList.toggle(ie,ue)})};z=(de,q,ue)=>{let ie=de.domNode,ye=!1;if(de===q)return!1;let pe=!1;if(""===q.vnodeSelector){if(q.text!==de.text){let Ce=ie.ownerDocument.createTextNode(q.text);return ie.parentNode.replaceChild(Ce,ie),q.domNode=Ce,ye=!0,ye}q.domNode=ie}else 0===q.vnodeSelector.lastIndexOf("svg",0)&&(ue=D(ue,{namespace:X})),de.text!==q.text&&(pe=!0,void 0===q.text?ie.removeChild(ie.firstChild):ie.textContent=q.text),q.domNode=ie,pe=((de,q,ue,ie,ye)=>{if(ue===ie)return!1;let pe,Ce=(ue=ue||Z).length,De=(ie=ie||Z).length,Me=0,ve=0,Le=!1;for(;ve<De;){let je=Me<Ce?ue[Me]:void 0,_e=ie[ve];if(void 0!==je&&k(je,_e))Le=z(je,_e,ye)||Le,Me++;else{let Re=B(ue,_e,Me+1);if(Re>=0){for(pe=Me;pe<Re;pe++)R(ue[pe]),Q(ue,pe,de,"removed");Le=z(ue[Re],_e,ye)||Le,Me=Re+1}else J(_e,q,Me<Ce?ue[Me].domNode:void 0,ye),ne(_e),Q(ie,ve,de,"added")}ve++}if(Ce>Me)for(pe=Me;pe<Ce;pe++)R(ue[pe]),Q(ue,pe,de,"removed");return Le})(q,ie,de.children,q.children,ue)||pe,pe=((de,q,ue,ie)=>{if(!ue)return;let ye=!1,pe=Object.keys(ue),Ce=pe.length;for(let De=0;De<Ce;De++){let Me=pe[De],ve=ue[Me],Le=q[Me];if("class"===Me)Le!==ve&&(Y(de,Le,!1),Y(de,ve,!0));else if("classes"===Me){let je=de.classList,_e=Object.keys(ve),Re=_e.length;for(let nt=0;nt<Re;nt++){let pt=_e[nt],Ne=!!ve[pt];Ne!==!!Le[pt]&&(ye=!0,Ne?je.add(pt):je.remove(pt))}}else if("styles"===Me){let je=Object.keys(ve),_e=je.length;for(let Re=0;Re<_e;Re++){let nt=je[Re],pt=ve[nt];pt!==Le[nt]&&(ye=!0,pt?(N(pt),ie.styleApplyer(de,nt,pt)):ie.styleApplyer(de,nt,""))}}else if(ve||"string"!=typeof Le||(ve=""),"value"===Me){let je=de[Me];je!==ve&&(de["oninput-value"]?je===de["oninput-value"]:ve!==Le)&&(de[Me]=ve,de["oninput-value"]=void 0),ve!==Le&&(ye=!0)}else if(ve!==Le){let je=typeof ve;"function"===je&&ie.eventHandlerInterceptor||(ie.namespace===X?"href"===Me?de.setAttributeNS(G,Me,ve):de.setAttribute(Me,ve):"string"===je?"innerHTML"===Me?de[Me]=d.w3.sanitize(ve):"role"===Me&&""===ve?de.removeAttribute(Me):de.setAttribute(Me,ve):de[Me]!==ve&&(de[Me]=ve),ye=!0)}}return ye})(ie,de.properties,q.properties,ue)||pe,q.properties&&q.properties.afterUpdate&&q.properties.afterUpdate.apply(q.properties.bind||q.properties,[ie,ue,q.vnodeSelector,q.properties,q.children]);return pe&&q.properties&&q.properties.updateAnimation&&q.properties.updateAnimation(ie,q.properties,de.properties),ye};let le=(de,q)=>({getLastRender:()=>de,update:ue=>{if(de.vnodeSelector!==ue.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let ie=de;de=ue,z(ie,ue,q)},domNode:de.domNode})},62996:(wt,Se,p)=>{"use strict";p.d(Se,{E:()=>Z});var d=p(39605);let v,X=(D,k)=>{let N=[];for(;D&&D!==k;)N.push(D),D=D.parentNode;return N};v=Array.prototype.find?(D,k)=>D.find(k):(D,k)=>D.filter(k)[0];let G=(D,k)=>{let N=D;return k.forEach(B=>{N=N&&N.children?v(N.children,Q=>Q.domNode===B):void 0}),N},z=(D,k,N)=>{let B=function(Q){N("domEvent",Q);let ne=k(),te=X(Q.currentTarget,ne.domNode);te.reverse();let ae,re=G(ne.getLastRender(),te);return D.scheduleRender(),re&&(ae=re.properties[`on${Q.type}`].apply(re.properties.bind||this,arguments)),N("domEventProcessed",Q),ae};return(Q,ne,te,ae)=>B},Z=D=>{let k,N,B=(0,d.W)(D),Q=B.performanceLogger,ne=!0,te=!1,ae=[],re=[],$=(R,U,A)=>{let V;B.eventHandlerInterceptor=z(k,()=>V,Q),V=R(U,A(),B),ae.push(V),re.push(A)},F=()=>{if(N=void 0,ne){ne=!1,Q("renderStart",void 0);for(let R=0;R<ae.length;R++){let U=re[R]();Q("rendered",void 0),ae[R].update(U),Q("patched",void 0)}Q("renderDone",void 0),ne=!0}};return k={renderNow:F,scheduleRender:()=>{N||te||(N=requestAnimationFrame(F))},stop:()=>{N&&(cancelAnimationFrame(N),N=void 0),te=!0},resume:()=>{te=!1,ne=!0,k.scheduleRender()},append:(R,U)=>{$(d.v.append,R,U)},insertBefore:(R,U)=>{$(d.v.insertBefore,R,U)},merge:(R,U)=>{$(d.v.merge,R,U)},replace:(R,U)=>{$(d.v.replace,R,U)},detach:R=>{for(let U=0;U<re.length;U++)if(re[U]===R)return re.splice(U,1),ae.splice(U,1)[0];throw new Error("renderFunction was not found")}},k}},38159:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.wq{constructor(Q){super(Q),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new k({title:this.title,expression:this.expression})}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"title",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"expression",void 0),(0,d._)([(0,X.Cb)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"returnType",void 0),N=k=(0,d._)([(0,D.j)("esri.popup.ElementExpressionInfo")],N);const B=N},38439:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.wq{constructor(Q){super(Q),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new k({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"name",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"title",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"expression",void 0),(0,d._)([(0,X.Cb)({type:["string","number"],json:{write:!0}})],N.prototype,"returnType",void 0),N=k=(0,d._)([(0,D.j)("esri.popup.ExpressionInfo")],N);const B=N},25621:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var B,d=p(17626),v=p(2076),X=p(86810),G=p(58817),z=p(77712),D=(p(90912),p(55342)),k=p(76898),N=p(66845);let Q=B=class extends X.wq{constructor(te){super(te),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new B({fieldName:this.fieldName,format:this.format?(0,G.d9)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Q.prototype,"fieldName",void 0),(0,d._)([(0,z.Cb)({type:N.Z,json:{write:!0}})],Q.prototype,"format",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0,default:!1}})],Q.prototype,"isEditable",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Q.prototype,"label",void 0),(0,d._)([(0,D.J)(new v.X({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Q.prototype,"stringFieldOption",void 0),(0,d._)([(0,z.Cb)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Q.prototype,"statisticType",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Q.prototype,"tooltip",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"visible",void 0),Q=B=(0,d._)([(0,k.j)("esri.popup.FieldInfo")],Q);const ne=Q},55664:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(55013);let N=k=class extends D.Z{constructor(Q){super(Q),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new k({description:this.description,displayType:this.displayType,title:this.title})}};(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],N.prototype,"description",void 0),(0,d._)([(0,v.Cb)({type:["auto","preview","list"],json:{write:!0}})],N.prototype,"displayType",void 0),(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],N.prototype,"title",void 0),(0,d._)([(0,v.Cb)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"type",void 0),N=k=(0,d._)([(0,Z.j)("esri.popup.content.AttachmentsContent")],N);const B=N},89594:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(85812),k=p(82657);let B=N=class extends D.Z{constructor(ne){super(ne),this.type="bar-chart"}clone(){return new N({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,d._)([(0,v.Cb)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:k.l.write}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.BarChartMediaInfo")],B);const Q=B},81590:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(85812),k=p(82657);let B=N=class extends D.Z{constructor(ne){super(ne),this.type="column-chart"}clone(){return new N({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,d._)([(0,v.Cb)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:k.l.write}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.ColumnChartMediaInfo")],B);const Q=B},55013:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B),this.type=null}};(0,d._)([(0,X.Cb)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.popup.content.Content")],k);const N=k},16615:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var D,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(76898)),Z=p(55013);let k=D=class extends Z.Z{constructor(B){super(B),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new D({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,v.d9)(this.outFields):null})}};(0,d._)([(0,X.Cb)()],k.prototype,"creator",void 0),(0,d._)([(0,X.Cb)()],k.prototype,"destroyer",void 0),(0,d._)([(0,X.Cb)()],k.prototype,"outFields",void 0),(0,d._)([(0,X.Cb)({type:["custom"],readOnly:!0})],k.prototype,"type",void 0),k=D=(0,d._)([(0,z.j)("esri.popup.content.CustomContent")],k);const N=k},82561:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(38159),k=p(55013);let B=N=class extends k.Z{constructor(ne){super(ne),this.expressionInfo=null,this.type="expression"}clone(){var ne;return new N({expressionInfo:null==(ne=this.expressionInfo)?void 0:ne.clone()})}};(0,d._)([(0,v.Cb)({type:D.Z,json:{write:!0}})],B.prototype,"expressionInfo",void 0),(0,d._)([(0,v.Cb)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.ExpressionContent")],B);const Q=B},75484:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(76898)),Z=p(99433),D=p(25621),k=p(55013);let B=N=class extends k.Z{constructor(ne){super(ne),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(ne,te){te.fieldInfos=ne&&ne.map(ae=>ae.toJSON())}clone(){return new N((0,v.d9)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,d._)([(0,X.Cb)({type:Object,json:{write:!0}})],B.prototype,"attributes",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,d._)([(0,X.Cb)({type:[D.Z]})],B.prototype,"fieldInfos",void 0),(0,d._)([(0,Z.c)("fieldInfos")],B.prototype,"writeFieldInfos",null),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"title",void 0),(0,d._)([(0,X.Cb)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,z.j)("esri.popup.content.FieldsContent")],B);const Q=B},49455:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(78297),k=p(86810);let B=N=class extends k.wq{constructor(re){super(re),this.linkURL=null,this.sourceURL=null}clone(){return new N({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],B.prototype,"linkURL",void 0),(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],B.prototype,"sourceURL",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.support.ImageMediaInfoValue")],B);const Q=B;var ne;let te=ne=class extends D.Z{constructor(re){super(re),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new ne({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};(0,d._)([(0,v.Cb)({type:Number,json:{write:!0}})],te.prototype,"refreshInterval",void 0),(0,d._)([(0,v.Cb)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],te.prototype,"type",void 0),(0,d._)([(0,v.Cb)({type:Q,json:{write:!0}})],te.prototype,"value",void 0),te=ne=(0,d._)([(0,Z.j)("esri.popup.content.ImageMediaInfo")],te);const ae=te},71981:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(85812),k=p(82657);let B=N=class extends D.Z{constructor(ne){super(ne),this.type="line-chart"}clone(){return new N({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,d._)([(0,v.Cb)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:k.l.write}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.LineChartMediaInfo")],B);const Q=B},64531:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>F});var re,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(68653)),Z=p(76898),D=p(99433),k=p(89594),N=p(81590),B=p(55013),Q=p(49455),ne=p(71981),te=p(52023),ae=p(65560);let $=re=class extends B.Z{constructor(R){super(R),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(R){return R&&R.map(U=>"image"===U.type?Q.Z.fromJSON(U):"barchart"===U.type?k.Z.fromJSON(U):"columnchart"===U.type?N.Z.fromJSON(U):"linechart"===U.type?ne.Z.fromJSON(U):"piechart"===U.type?te.Z.fromJSON(U):void 0).filter(Boolean)}writeMediaInfos(R,U){U.mediaInfos=R&&R.map(A=>A.toJSON())}clone(){return new re((0,v.d9)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,d._)([(0,X.Cb)()],$.prototype,"activeMediaInfoIndex",void 0),(0,d._)([(0,X.Cb)({type:Object,json:{write:!0}})],$.prototype,"attributes",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],$.prototype,"description",void 0),(0,d._)([(0,X.Cb)({types:[ae.V]})],$.prototype,"mediaInfos",void 0),(0,d._)([(0,z.r)("mediaInfos")],$.prototype,"readMediaInfos",null),(0,d._)([(0,D.c)("mediaInfos")],$.prototype,"writeMediaInfos",null),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],$.prototype,"title",void 0),(0,d._)([(0,X.Cb)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=re=(0,d._)([(0,Z.j)("esri.popup.content.MediaContent")],$);const F=$},52023:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(85812),k=p(82657);let B=N=class extends D.Z{constructor(ne){super(ne),this.type="pie-chart"}clone(){return new N({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};(0,d._)([(0,v.Cb)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:k.l.write}})],B.prototype,"type",void 0),B=N=(0,d._)([(0,Z.j)("esri.popup.content.PieChartMediaInfo")],B);const Q=B},501:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(55013);let N=k=class extends D.Z{constructor(Q){super(Q),this.text=null,this.type="text"}clone(){return new k({text:this.text})}};(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],N.prototype,"text",void 0),(0,d._)([(0,v.Cb)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"type",void 0),N=k=(0,d._)([(0,Z.j)("esri.popup.content.TextContent")],N);const B=N},85812:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var Q,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(78297),k=p(86810),N=p(58817),B=p(77891);let ne=Q=class extends k.wq{constructor($){super($),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Q({fields:(0,N.d9)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};(0,d._)([(0,v.Cb)({type:[String],json:{write:!0}})],ne.prototype,"fields",void 0),(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],ne.prototype,"normalizeField",void 0),(0,d._)([(0,v.Cb)({type:[B.Z],json:{read:!1}})],ne.prototype,"series",void 0),(0,d._)([(0,v.Cb)({type:String,json:{write:!0}})],ne.prototype,"tooltipField",void 0),ne=Q=(0,d._)([(0,Z.j)("esri.popup.content.support.ChartMediaInfoValue")],ne);const te=ne;let ae=class extends D.Z{constructor($){super($),this.type=null,this.value=null}};(0,d._)([(0,v.Cb)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ae.prototype,"type",void 0),(0,d._)([(0,v.Cb)({type:te,json:{write:!0}})],ae.prototype,"value",void 0),ae=(0,d._)([(0,Z.j)("esri.popup.content.mixins.ChartMediaInfo")],ae);const re=ae},78297:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B),this.altText=null,this.caption="",this.title="",this.type=null}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],k.prototype,"altText",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],k.prototype,"caption",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],k.prototype,"title",void 0),(0,d._)([(0,X.Cb)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.popup.content.mixins.MediaInfo")],k);const N=k},77891:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.Z{constructor(Q){super(Q),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new k({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,d._)([(0,X.Cb)()],N.prototype,"fieldName",void 0),(0,d._)([(0,X.Cb)()],N.prototype,"tooltip",void 0),(0,d._)([(0,X.Cb)()],N.prototype,"value",void 0),N=k=(0,d._)([(0,D.j)("esri.popup.content.support.ChartMediaInfoValueSeries")],N);const B=N},82657:(wt,Se,p)=>{"use strict";p.d(Se,{l:()=>v});const v=(0,p(2076).w)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},65560:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>D});var d=p(89594),v=p(81590),X=p(49455),G=p(71981),z=p(52023);const D={base:p(78297).Z,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":d.Z,"column-chart":v.Z,"line-chart":G.Z,"pie-chart":z.Z,image:X.Z}}},66845:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>U});var d=p(17626);const G=(0,p(2076).w)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});G.toJSON.bind(G),G.fromJSON.bind(G);var F,k=p(86810),N=p(77712),ne=(p(85931),p(8314),p(90912)),te=p(55342),ae=p(76898),re=p(88411),$=p(15348);let R=F=class extends k.wq{constructor(A){super(A),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new F({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(A){return this.dateFormat?(0,re.p6)(A,Nn(Nn({},(0,re.Ze)(this.dateFormat)),this.dateTimeFormatOptions)):(0,$.uf)(A,(0,$.sh)(this))}formatRasterPixelValue(A){let V,J;return A.trim().includes(",")?(V=",",J=V+" ",this._formatDelimitedString(A,V,J,this)):A.trim().includes(";")?(V=";",J=V+" ",this._formatDelimitedString(A,V,J,this)):A.trim().includes(" ")?(V=J=" ",this._formatDelimitedString(A,V,J,this)):this.format(Number(A))}_formatDelimitedString(A,V,J,Y){return A&&V&&J&&Y?A.trim().split(V).map(oe=>this.format(Number(oe))).join(J):A}};(0,d._)([(0,te.J)(G)],R.prototype,"dateFormat",void 0),(0,d._)([(0,N.Cb)({type:Object,json:{read:!1}})],R.prototype,"dateTimeFormatOptions",void 0),(0,d._)([(0,N.Cb)({type:Boolean,json:{write:!0}})],R.prototype,"digitSeparator",void 0),(0,d._)([(0,N.Cb)({type:ne.z8,json:{write:!0}})],R.prototype,"places",void 0),R=F=(0,d._)([(0,ae.j)("esri.popup.support.FieldInfoFormat")],R);const U=R},51686:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.wq{constructor(Q){super(Q),this.field=null,this.order=null}clone(){return new k({field:this.field,order:this.order})}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"field",void 0),(0,d._)([(0,X.Cb)({type:["asc","desc"],json:{write:!0}})],N.prototype,"order",void 0),N=k=(0,d._)([(0,D.j)("esri.popup.support.RelatedRecordsInfoFieldOrder")],N);const B=N},84687:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ue});var d=p(15861),v=p(17626),X=p(59318),G=p(24263),z=p(84792),Z=p(26584),D=p(86810),k=p(47996),N=p(62208),B=p(10699),Q=p(77712),ae=(p(85931),p(8314),p(90912)),re=p(68653),$=p(76898),F=p(2004),R=p(56683),U=p(6278),A=p(14517);let V=class extends A.Z{constructor(ie){super(ie),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,v._)([(0,Q.Cb)()],V.prototype,"nextQueryParams",void 0),(0,v._)([(0,Q.Cb)()],V.prototype,"queryParams",void 0),(0,v._)([(0,Q.Cb)()],V.prototype,"results",void 0),(0,v._)([(0,Q.Cb)()],V.prototype,"total",void 0),V=(0,v._)([(0,$.j)("esri.portal.PortalQueryResult")],V);const J=V;var se,Y=p(94508),oe=p(12680);let le;const de={PortalGroup:()=>Promise.resolve().then(p.bind(p,96245)),PortalItem:()=>Promise.resolve().then(p.bind(p,55463)),PortalUser:()=>Promise.resolve().then(p.bind(p,94508))};let q=se=class extends((0,D.eC)(k.Z)){constructor(ie){super(ie),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=X.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(ie){return"string"==typeof ie?{url:ie}:ie}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(ie){if(ie)for(const ye of ie)X.Z.request.trustedServers.includes(ye)||X.Z.request.trustedServers.push(ye);return ie}readDefaultBasemap(ie){return this._readBasemap(ie)}readDefaultDevBasemap(ie){return this._readBasemap(ie)}readDefaultVectorBasemap(ie){return this._readBasemap(ie)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let ie=this.url;if(ie){const ye=ie.indexOf("/sharing");ie=ye>0?ie.substring(0,ye):this.url.replace(/\/+$/,""),ie+="/sharing/rest"}return ie}get thumbnailUrl(){const ie=this.restUrl,ye=this.thumbnail;return ie&&ye?this._normalizeSSL(ie+"/portals/self/resources/"+ye):null}readUrlKey(ie){return ie&&ie.toLowerCase()}readUser(ie){let ye=null;return ie&&(ye=Y.default.fromJSON(ie),ye.portal=this),ye}load(ie){const ye=Promise.resolve().then(p.bind(p,73386)).then(({default:pe})=>{(0,B.k_)(ie),le=pe}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,ie)).then(pe=>{if(G.id){const Ce=G.id;this.credential=Ce.findCredential(this.restUrl),this.credential||this.authMode!==se.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=Ce.on("credential-create",()=>{Ce.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=pe,this.read(pe)});return this.addResolvingPromise(ye),Promise.resolve(this)}createElevationLayers(){var ie=this;return(0,d.Z)(function*(){yield ie.load();const ye=ie._getHelperService("defaultElevationLayers"),pe=(yield Promise.all([p.e(8592),p.e(5227)]).then(p.bind(p,25227))).default;return ye?ye.map(Ce=>new pe({id:Ce.id,url:Ce.url})):[]})()}fetchBasemaps(ie,ye){const pe=new U.Z;return pe.query=ie||(X.Z.apiKey&&(0,oe.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),pe.disableExtraQuery=!0,this.queryGroups(pe,ye).then(Ce=>{if(pe.num=100,pe.query='type:"Web Map" -type:"Web Application"',Ce.total){const De=Ce.results[0];return pe.sortField=De.sortField||"name",pe.sortOrder=De.sortOrder||"desc",De.queryItems(pe,ye)}return null}).then(Ce=>{let De;return De=Ce&&Ce.total?Ce.results.filter(Me=>"Web Map"===Me.type).map(Me=>new le({portalItem:Me})):[],De})}fetchCategorySchema(ie){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",ie).then(ye=>ye.categorySchema):(0,B.Hc)(ie)?Promise.reject((0,B.zE)()):Promise.resolve([])}fetchFeaturedGroups(ie){const ye=this.featuredGroups,pe=new U.Z;if(pe.num=100,pe.sortField="title",ye&&ye.length){const Ce=[];for(const De of ye)Ce.push(`(title:"${De.title}" AND owner:${De.owner})`);return pe.query=Ce.join(" OR "),this.queryGroups(pe,ie).then(De=>De.results)}return(0,B.Hc)(ie)?Promise.reject((0,B.zE)()):Promise.resolve([])}fetchRegions(ie){var pe;const ye=(null==(pe=this.user)?void 0:pe.culture)||this.culture||(0,R.Kd)();return this._request(this.restUrl+"/portals/regions",Wi(Nn({},ie),{query:{culture:ye}}))}fetchSettings(ie){var pe;const ye=(null==(pe=this.user)?void 0:pe.culture)||this.culture||(0,R.Kd)();return this._request(this.restUrl+"/portals/self/settings",Wi(Nn({},ie),{query:{culture:ye}}))}static getDefault(){return se._default&&!se._default.destroyed||(se._default=new se),se._default}queryGroups(ie,ye){return this._queryPortal("/community/groups",ie,"PortalGroup",ye)}queryItems(ie,ye){return this._queryPortal("/search",ie,"PortalItem",ye)}queryUsers(ie,ye){return ie.sortField||(ie.sortField="username"),this._queryPortal("/community/users",ie,"PortalUser",ye)}toJSON(){throw new Z.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(ie){if(!ie)return null;if(ie.declaredClass)throw new Error("JSON object is already hydrated");return new se({sourceJSON:ie})}_getHelperService(ie){const ye=this.helperServices&&this.helperServices[ie];if(!ye)throw new Z.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${ie}"`);return ye}_getHelperServiceUrl(ie){const ye=this._getHelperService(ie);if(!ye.url)throw new Z.Z("portal:service-url-not-found",`The \`helperServices\` entry "${ie}" does not include a \`url\` value`);return ye.url}_fetchSelf(ie=this.authMode,ye=!1,pe){const Ce=this.restUrl+"/portals/self",De=Nn({authMode:ie,query:{culture:(0,R.Kd)().toLowerCase()}},pe);return"auto"===De.authMode&&(De.authMode="no-prompt"),ye&&(De.query.default=!0),this._request(Ce,De)}_queryPortal(ie,ye,pe,Ce){const De=(0,ae.se)(U.Z,ye),Me=ve=>this._request(this.restUrl+ie,Nn(Nn({},De.toRequestOptions(this)),Ce)).then(Le=>{const je=De.clone();return je.start=Le.nextStart,new J({nextQueryParams:je,queryParams:De,total:Le.total,results:se._resultsToTypedArray(ve,{portal:this},Le,Ce)})}).then(Le=>Promise.all(Le.results.map(je=>"function"==typeof je.when?je.when():Le)).then(()=>Le,je=>((0,B.r9)(je),Le)));return pe&&de[pe]?de[pe]().then(({default:ve})=>((0,B.k_)(Ce),Me(ve))):Me()}_signIn(){if(this.authMode===se.AUTH_MODE_ANONYMOUS)return Promise.reject(new Z.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const ie=ye=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(ye||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=ye,this._fetchSelf("immediate"))):this.user&&this.credential===ye?null:(this.credential=ye,this._fetchSelf("immediate"))).then(pe=>{pe&&(this.sourceJSON=pe,this.read(pe))});return G.id?G.id.getCredential(this.restUrl).then(ye=>ie(ye)):ie(this.credential)}_normalizeSSL(ie){return ie.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(ie){const ye=this.credential&&this.credential.token;return this._normalizeSSL(ye?ie+(ie.includes("?")?"&":"?")+"token="+ye:ie)}_requestToTypedArray(ie,ye,pe){return this._request(ie,ye).then(Ce=>{const De=se._resultsToTypedArray(pe,{portal:this},Ce);return Promise.all(De.map(Me=>"function"==typeof Me.when?Me.when():Ce)).then(()=>De,()=>De)})}_readBasemap(ie){if(ie){const ye=le.fromJSON(ie);return ye.portalItem={portal:this},ye}return null}_request(ie,ye={}){const pe=Nn({f:"json"},ye.query),{authMode:Ce=(this.authMode===se.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:De=null,cacheBust:Me=!1,method:ve="auto",responseType:Le="json",signal:je}=ye,_e={authMode:Ce,body:De,cacheBust:Me,method:ve,query:pe,responseType:Le,timeout:0,signal:je};return(0,z.default)(this._normalizeSSL(ie),_e).then(Re=>Re.data)}static _resultsToTypedArray(ie,ye,pe,Ce){let De;if(pe){const Me=(0,N.pC)(Ce)?Ce.signal:null;De=pe.listings||pe.notifications||pe.userInvitations||pe.tags||pe.items||pe.groups||pe.comments||pe.provisions||pe.results||pe.relatedItems||pe,(ie||ye)&&(De=De.map(ve=>{const Le=Object.assign(ie?ie.fromJSON(ve):ve,ye);return"function"==typeof Le.load&&Le.load(Me),Le}))}else De=[];return De}};q.AUTH_MODE_ANONYMOUS="anonymous",q.AUTH_MODE_AUTO="auto",q.AUTH_MODE_IMMEDIATE="immediate",(0,v._)([(0,Q.Cb)()],q.prototype,"access",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"allSSL",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"authMode",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"authorizedCrossOriginDomains",void 0),(0,v._)([(0,re.r)("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null),(0,v._)([(0,Q.Cb)()],q.prototype,"basemapGalleryGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"bingKey",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canListApps",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canListData",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canListPreProvisionedItems",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canProvisionDirectPurchase",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canSearchPublic",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canShareBingPublic",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canSharePublic",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canSignInArcGIS",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"canSignInIDP",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"colorSetsGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"commentsEnabled",void 0),(0,v._)([(0,Q.Cb)({type:Date})],q.prototype,"created",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"credential",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"culture",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"currentVersion",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"customBaseUrl",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"defaultBasemap",void 0),(0,v._)([(0,re.r)("defaultBasemap")],q.prototype,"readDefaultBasemap",null),(0,v._)([(0,Q.Cb)()],q.prototype,"defaultDevBasemap",void 0),(0,v._)([(0,re.r)("defaultDevBasemap")],q.prototype,"readDefaultDevBasemap",null),(0,v._)([(0,Q.Cb)({type:F.Z})],q.prototype,"defaultExtent",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"defaultVectorBasemap",void 0),(0,v._)([(0,re.r)("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",null),(0,v._)([(0,Q.Cb)()],q.prototype,"description",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"devBasemapGalleryGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"eueiEnabled",void 0),(0,v._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"extraQuery",null),(0,v._)([(0,Q.Cb)()],q.prototype,"featuredGroups",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"featuredItemsGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"galleryTemplatesGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"livingAtlasGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"hasCategorySchema",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"helpBase",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"helperServices",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"helpMap",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"homePageFeaturedContent",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"homePageFeaturedContentCount",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"httpPort",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"httpsPort",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"id",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"ipCntryCode",void 0),(0,v._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"isOrganization",null),(0,v._)([(0,Q.Cb)()],q.prototype,"isPortal",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"isReadOnly",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"layerTemplatesGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"maxTokenExpirationMinutes",void 0),(0,v._)([(0,Q.Cb)({type:Date})],q.prototype,"modified",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"name",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"portalHostname",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"portalMode",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"portalProperties",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"region",void 0),(0,v._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"restUrl",null),(0,v._)([(0,Q.Cb)()],q.prototype,"rotatorPanels",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"showHomePageDescription",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"sourceJSON",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"staticImagesUrl",void 0),(0,v._)([(0,Q.Cb)({json:{name:"2DStylesGroupQuery"}})],q.prototype,"stylesGroupQuery2d",void 0),(0,v._)([(0,Q.Cb)({json:{name:"stylesGroupQuery"}})],q.prototype,"stylesGroupQuery3d",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"supportsHostedServices",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"symbolSetsGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"templatesGroupQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"thumbnail",void 0),(0,v._)([(0,Q.Cb)({readOnly:!0})],q.prototype,"thumbnailUrl",null),(0,v._)([(0,Q.Cb)()],q.prototype,"units",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"url",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"urlKey",void 0),(0,v._)([(0,re.r)("urlKey")],q.prototype,"readUrlKey",null),(0,v._)([(0,Q.Cb)()],q.prototype,"user",void 0),(0,v._)([(0,re.r)("user")],q.prototype,"readUser",null),(0,v._)([(0,Q.Cb)()],q.prototype,"useStandardizedQuery",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"useVectorBasemaps",void 0),(0,v._)([(0,Q.Cb)()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0),q=se=(0,v._)([(0,$.j)("esri.portal.Portal")],q);const ue=q},96245:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>Q});var d=p(17626),v=p(26584),X=p(86810),G=p(77712),D=(p(85931),p(8314),p(90912)),k=p(76898),N=p(6278);let B=class extends X.wq{constructor(ne){super(ne),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const ne=this.url,te=this.thumbnail;return ne&&te?this.portal._normalizeUrl(`${ne}/info/${te}?f=json`):null}get url(){const ne=this.get("portal.restUrl");return ne?ne+"/community/groups/"+this.id:null}fetchCategorySchema(ne){return this.portal._request(this.url+"/categorySchema",ne).then(te=>{const ae=te.categorySchema||[];return ae.some(re=>"contentCategorySetsGroupQuery.LivingAtlas"===re.source)?this._fetchCategorySchemaSet("LivingAtlas",ne):ae})}fetchMembers(ne){return this.portal._request(this.url+"/users",ne)}getThumbnailUrl(ne){let te=this.thumbnailUrl;return te&&ne&&(te+=`&w=${ne}`),te}toJSON(){throw new v.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(ne,te){let ae=(0,D.se)(N.Z,ne);return parseFloat(this.portal.currentVersion)>5?(ae=ae||new N.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,ae,"PortalItem",te)):(ae=ae?ae.clone():new N.Z,ae.query="group:"+this.id+(ae.query?" "+ae.query:""),this.portal.queryItems(ae,te))}_fetchCategorySchemaSet(ne,te){return this.portal._fetchSelf(this.portal.authMode,!0,te).then(ae=>{const re=ae.contentCategorySetsGroupQuery;if(re){const $=new N.Z;return $.disableExtraQuery=!0,$.num=1,$.query=re,this.portal.queryGroups($,te)}throw new v.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(ae=>{if(ae.total){const re=ae.results[0],$=new N.Z;return $.num=1,$.query=`typekeywords:"${ne}"`,re.queryItems($,te)}throw new v.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(ae=>ae.total?ae.results[0].fetchData("json",te).then(re=>{const $=re&&re.categorySchema;return $&&$.length?$:[]}):[])}};(0,d._)([(0,G.Cb)()],B.prototype,"access",void 0),(0,d._)([(0,G.Cb)({type:Date})],B.prototype,"created",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"description",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"id",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"isInvitationOnly",void 0),(0,d._)([(0,G.Cb)({type:Date})],B.prototype,"modified",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"owner",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"portal",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"snippet",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"sortField",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"sortOrder",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"tags",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"thumbnail",void 0),(0,d._)([(0,G.Cb)({readOnly:!0})],B.prototype,"thumbnailUrl",null),(0,d._)([(0,G.Cb)()],B.prototype,"title",void 0),(0,d._)([(0,G.Cb)({readOnly:!0})],B.prototype,"url",null),B=(0,d._)([(0,k.j)("esri.portal.PortalGroup")],B);const Q=B},55463:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>q});var d=p(15861),v=p(17626),X=p(54346),G=p(26584),z=p(86810),Z=p(58817),D=p(47996),k=p(62208),N=p(21726),B=p(77712),Q=p(90912),ne=p(68653),te=p(76898),ae=p(2004),re=p(84687),$=p(14517),F=p(63290),A=(p(85931),p(8314),p(66656));const V=F.Z.getLogger("esri.portal.PortalItemResource");let J=class extends $.Z{constructor(ue){super(ue),this.portalItem=null}normalizeCtorArgs(ue){return ue&&ue.portalItem&&ue.path?Wi(Nn({},ue),{path:this._normalizePath(ue.path,ue.portalItem)}):ue}set path(ue){(0,k.pC)(ue)&&(0,N.YP)(ue)?V.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",ue)}_castPath(ue){return this._normalizePath(ue,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(ue="json",ie){const ye=this.url;if((0,k.Wi)(ye))throw new G.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(ye,{responseType:ue,query:{token:this.portalItem.apiKey},signal:(0,k.U2)(ie,"signal")})}update(ue,ie){var ye=this;return(0,d.Z)(function*(){return(yield p.e(587).then(p.bind(p,10587))).addOrUpdateResource(ye,"update",ue,ie)})()}hasPath(){return(0,k.pC)(this.path)}_normalizePath(ue,ie){return(0,k.Wi)(ue)?ue:(ue=ue.replace(/^\/+/,""),(0,k.pC)(ie)&&(0,N.YP)(ue)&&(ue=(0,N.PF)(ue,ie.itemUrl)),ue.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,v._)([(0,B.Cb)()],J.prototype,"portalItem",void 0),(0,v._)([(0,B.Cb)({type:String,value:null})],J.prototype,"path",null),(0,v._)([(0,A.p)("path")],J.prototype,"_castPath",null),(0,v._)([(0,B.Cb)({type:String,readOnly:!0})],J.prototype,"url",null),(0,v._)([(0,B.Cb)({type:String,readOnly:!0})],J.prototype,"itemRelativeUrl",null),J=(0,v._)([(0,te.j)("esri.portal.PortalItemResource")],J);const Y=J;let oe=class extends $.Z{constructor(ue){super(ue),this.created=null,this.rating=null}};(0,v._)([(0,B.Cb)()],oe.prototype,"created",void 0),(0,v._)([(0,B.Cb)()],oe.prototype,"rating",void 0),oe=(0,v._)([(0,te.j)("esri.portal.PortalRating")],oe);const se=oe;var le;let de=le=class extends((0,z.eC)(D.Z)){constructor(ue){super(ue),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(ue){return(0,Q.TJ)(le,ue)}destroy(){this.portal=null}get displayName(){const ue=this.type,ie=this.typeKeywords||[];let ye=ue;return"Feature Service"===ue||"Feature Collection"===ue?ye=ie.includes("Table")?"Table":ie.includes("Route Layer")?"Route Layer":ie.includes("Markup")?"Markup":"Feature Layer":"Image Service"===ue?ye=ie.includes("Elevation 3D Layer")?"Elevation Layer":ie.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===ue?ye="Scene Layer":"Video Service"===ue?ye="Video Layer":"Scene Package"===ue?ye="Scene Layer Package":"Stream Service"===ue?ye="Feature Layer":"Geoprocessing Service"===ue&&this.portal&&this.portal.isPortal?ye=ie.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===ue?ye="Locator":"Geoenrichment Service"===ue?ye="GeoEnrichment Service":"Microsoft Powerpoint"===ue?ye="Microsoft PowerPoint":"GeoJson"===ue?ye="GeoJSON":"Globe Service"===ue?ye="Globe Layer":"Vector Tile Service"===ue?ye="Tile Layer":"netCDF"===ue?ye="NetCDF":"Map Service"===ue?ye=ie.includes("Spatiotemporal")||!ie.includes("Hosted Service")&&!ie.includes("Tiled")||ie.includes("Relational")?"Map Image Layer":"Tile Layer":ue&&ue.toLowerCase().includes("add in")?ye=ue.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===ue?ye="Big Data File Share":"Compact Tile Package"===ue?ye="Tile Package (tpkx)":"OGCFeatureServer"===ue?ye="OGC Feature Layer":"web mapping application"===ue&&ie.includes("configurableApp")&&(ye="Instant App"),ye}readExtent(ue){return ue&&ue.length?new ae.Z(ue[0][0],ue[0][1],ue[1][0],ue[1][1]):null}get iconUrl(){const ue=this.type&&this.type.toLowerCase()||"",ie=this.typeKeywords||[];let Ce,De=!1,Me=!1,ve=!1,Le=!1,je=!1,_e=!1;return ue.indexOf("service")>0||"feature collection"===ue||"kml"===ue||"wms"===ue||"wmts"===ue||"wfs"===ue?(De=ie.includes("Hosted Service"),"feature service"===ue||"feature collection"===ue||"kml"===ue||"wfs"===ue?(Me=ie.includes("Table"),ve=ie.includes("Route Layer"),Le=ie.includes("Markup"),je=ie.includes("Spatiotemporal"),_e=ie.includes("UtilityNetwork"),Ce=je&&Me?"spatiotemporaltable":Me?"table":ve?"routelayer":Le?"markup":je?"spatiotemporal":De?"featureshosted":_e?"utilitynetwork":"features"):Ce="map service"===ue||"wms"===ue||"wmts"===ue?De||ie.includes("Tiled")||"wmts"===ue?"maptiles":"mapimages":"scene service"===ue?ie.includes("Line")?"sceneweblayerline":ie.includes("3DObject")?"sceneweblayermultipatch":ie.includes("Point")?"sceneweblayerpoint":ie.includes("IntegratedMesh")?"sceneweblayermesh":ie.includes("PointCloud")?"sceneweblayerpointcloud":ie.includes("Polygon")?"sceneweblayerpolygon":ie.includes("Building")?"sceneweblayerbuilding":ie.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===ue?ie.includes("Elevation 3D Layer")?"elevationlayer":ie.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===ue?"streamlayer":"video service"===ue?"mediaservice":"vector tile service"===ue?"vectortile":"datastore catalog service"===ue?"datastorecollection":"geocoding service"===ue?"geocodeservice":"geoprocessing service"===ue?ie.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===ue?"geodataservice":"layers"):Ce="web map"===ue||"cityengine web scene"===ue?"maps":"web scene"===ue?ie.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===ue&&ie.includes("configurableApp")?"instantapps":"web mapping application"===ue||"mobile application"===ue||"application"===ue||"operation view"===ue||"desktop application"===ue?"apps":"map document"===ue||"map package"===ue||"published map"===ue||"scene document"===ue||"globe document"===ue||"basemap package"===ue||"mobile basemap package"===ue||"mobile map package"===ue||"project package"===ue||"project template"===ue||"pro map"===ue||"layout"===ue||"layer"===ue&&ie.includes("ArcGIS Pro")||"explorer map"===ue&&ie.indexOf("Explorer Document")?"mapsgray":"service definition"===ue||"csv"===ue||"shapefile"===ue||"cad drawing"===ue||"geojson"===ue||"360 vr experience"===ue||"netcdf"===ue||"administrative report"===ue?"datafiles":"explorer add in"===ue||"desktop add in"===ue||"windows viewer add in"===ue||"windows viewer configuration"===ue?"appsgray":"arcgis pro add in"===ue||"arcgis pro configuration"===ue?"addindesktop":"rule package"===ue||"file geodatabase"===ue||"sqlite geodatabase"===ue||"csv collection"===ue||"kml collection"===ue||"windows mobile package"===ue||"map template"===ue||"desktop application template"===ue||"gml"===ue||"arcpad package"===ue||"code sample"===ue||"form"===ue||"document link"===ue||"earth configuration"===ue||"operations dashboard add in"===ue||"rules package"===ue||"image"===ue||"workflow manager package"===ue||"explorer map"===ue&&ie.includes("Explorer Mapping Application")||ie.includes("Document")?"datafilesgray":"network analysis service"===ue||"geoprocessing service"===ue||"geodata service"===ue||"geometry service"===ue||"geoprocessing package"===ue||"locator package"===ue||"geoprocessing sample"===ue||"workflow manager service"===ue?"toolsgray":"layer"===ue||"layer package"===ue||"explorer layer"===ue?"layersgray":"scene package"===ue?"scenepackage":"mobile scene package"===ue?"mobilescenepackage":"tile package"===ue||"compact tile package"===ue?"tilepackage":"task file"===ue?"taskfile":"report template"===ue?"report-template":"statistical data collection"===ue?"statisticaldatacollection":"insights workbook"===ue?"workbook":"insights model"===ue?"insightsmodel":"insights page"===ue?"insightspage":"insights theme"===ue?"insightstheme":"hub initiative"===ue?"hubinitiative":"hubpage"===ue?"hubpage":"hub event"===ue?"hubevent":"hub site application"===ue?"hubsite":"hub project"===ue?"hubproject":"relational database connection"===ue?"relationaldatabaseconnection":"big data file share"===ue?"datastorecollection":"image collection"===ue?"imagecollection":"style"===ue?"style":"desktop style"===ue?"desktopstyle":"dashboard"===ue?"dashboard":"raster function template"===ue?"rasterprocessingtemplate":"vector tile package"===ue?"vectortilepackage":"ortho mapping project"===ue?"orthomappingproject":"ortho mapping template"===ue?"orthomappingtemplate":"solution"===ue?"solutions":"geopackage"===ue?"geopackage":"deep learning package"===ue?"deeplearningpackage":"real time analytic"===ue?"realtimeanalytics":"big data analytic"===ue?"bigdataanalytics":"feed"===ue?"feed":"excalibur imagery project"===ue?"excaliburimageryproject":"notebook"===ue?"notebook":"storymap"===ue?"storymap":"survey123 add in"===ue?"survey123addin":"mission"===ue?"mission":"mission report"===ue?"missionreport":"quickcapture project"===ue?"quickcaptureproject":"pro report"===ue?"proreport":"urban model"===ue?"urbanmodel":"web experience"===ue?"experiencebuilder":"web experience template"===ue?"webexperiencetemplate":"experience builder widget"===ue?"experiencebuilderwidget":"experience builder widget package"===ue?"experiencebuilderwidgetpackage":"workflow"===ue?"workflow":"insights script"===ue?"insightsscript":"kernel gateway connection"===ue?"kernelgatewayconnection":"hub initiative template"===ue?"hubinitiativetemplate":"storymap theme"===ue?"storymaptheme":"knowledge graph"===ue?"knowledgegraph":"native application"===ue?"nativeapp":"native application installer"===ue?"nativeappinstaller":"link chart"===ue?"linkchart":"investigation"===ue?"investigation":"ogcfeatureserver"===ue?"features":"pro project"===ue?"proproject":"insights workbook package"===ue?"insightsworkbookpackage":"apache parquet"===ue?"apacheparquet":"notebook code snippets"===ue?"notebookcodesnippets":"suitability model"===ue?"suitabilitymodel":"esri classifier definition"===ue?"classifierdefinition":"esri classification schema"===ue?"classificationschema":"insights data engineering workbook"===ue?"dataengineeringworkbook":"insights data engineering model"===ue?"dataengineeringmodel":"deep learning studio project"===ue?"deeplearningproject":"maps",Ce?(0,X.V)("esri/images/portal/"+Ce+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].includes(this.type)}get itemUrl(){const ue=this.get("portal.restUrl");return ue&&this.id?`${ue}/content/items/${this.id}`:null}get thumbnailUrl(){const ue=this.itemUrl,ie=this.thumbnail;return ue&&ie?this.portal._normalizeUrl(`${ue}/info/${ie}?f=json`):null}get userItemUrl(){const ue=this.get("portal.restUrl");if(!ue)return null;const ie=this.owner||this.get("portal.user.username");return ie?`${ue}/content/users/${this.ownerFolder?`${ie}/${this.ownerFolder}`:ie}/items/${this.id}`:null}load(ue){this.portal||(this.portal=re.Z.getDefault());const ie=this.portal.load(ue).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,k.pC)(ue)?ue.signal:null,query:{token:this.apiKey}}):{}).then(ye=>{this.sourceJSON=ye,this.read(ye)});return this.addResolvingPromise(ie),Promise.resolve(this)}addRating(ue){const ie={method:"post",query:{}};return ue instanceof se&&(ue=ue.rating),isNaN(ue)||"number"!=typeof ue||(ie.query.rating=ue),this.portal._request(this.itemUrl+"/addRating",ie).then(()=>new se({rating:ue,created:new Date}))}clone(){const ue={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,Z.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,Z.d9)(this.categories),created:(0,Z.d9)(this.created),culture:this.culture,description:this.description,extent:(0,Z.d9)(this.extent),groupCategories:(0,Z.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,Z.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,Z.d9)(this.screenshots),size:this.size,snippet:this.snippet,spatialReference:this.spatialReference,tags:(0,Z.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,Z.d9)(this.typeKeywords),url:this.url};return this.loaded&&(ue.loadStatus="loaded"),new le({sourceJSON:this.sourceJSON}).set(ue)}createPostQuery(){const ue=this.toJSON();for(const ye of["tags","typeKeywords","categories"])ue[ye]&&(ue[ye]=ue[ye].join(", "));const{extent:ie}=ue;return ie&&(ue.extent=JSON.stringify(ie)),ue}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(ue="json",ie){return this.portal._request(this.itemUrl+"/data",Wi(Nn({responseType:ue},ie),{query:{token:this.apiKey}}))}fetchRating(ue){return this.portal._request(this.itemUrl+"/rating",Nn({query:{token:this.apiKey}},ue)).then(ie=>null!=ie.rating?(ie.created=new Date(ie.created),new se(ie)):null)}fetchRelatedItems(ue,ie){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",Nn({query:Wi(Nn({},ue),{token:this.apiKey})},ie),le)}getThumbnailUrl(ue){let ie=this.thumbnailUrl;return ie&&ue&&(ie+=`&w=${ue}`),ie}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(ue=>(this.sourceJSON=ue,this.read(ue),this))}update(ue){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ie=ue&&ue.data,ye={method:"post"};ye.query=this.createPostQuery();for(const pe in ye.query)null===ye.query[pe]&&(ye.query[pe]="");return ye.query.clearEmptyFields=!0,null!=ie&&("string"==typeof ie?ye.query.text=ie:"object"==typeof ie&&(ye.query.text=JSON.stringify(ie))),this.portal._request(`${this.userItemUrl}/update`,ye).then(()=>this.reload())}):Promise.reject(new G.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(ue){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const ie=ue.thumbnail,ye=ue.filename,pe={method:"post"};if("string"==typeof ie)pe.query=(0,N.HK)(ie)?{data:ie}:{url:(0,N.hF)(ie)},(0,k.pC)(ye)&&(pe.query.filename=ye);else{const Ce=new FormData;(0,k.pC)(ye)?Ce.append("file",ie,ye):Ce.append("file",ie),pe.body=Ce}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,pe).then(()=>this.reload())}):Promise.reject(new G.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(ue={},ie){var ye=this;return(0,d.Z)(function*(){return(yield p.e(587).then(p.bind(p,10587))).fetchResources(ye,ue,ie)})()}addResource(ue,ie,ye){var pe=this;return(0,d.Z)(function*(){const Ce=yield p.e(587).then(p.bind(p,10587));return ue.portalItem=pe,Ce.addOrUpdateResource(ue,"add",ie,ye)})()}removeResource(ue,ie){var ye=this;return(0,d.Z)(function*(){const pe=yield p.e(587).then(p.bind(p,10587));if(ue.portalItem&&ue.portalItem.itemUrl!==ye.itemUrl)throw new G.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return pe.removeResource(ye,ue,ie)})()}removeAllResources(ue){var ie=this;return(0,d.Z)(function*(){return(yield p.e(587).then(p.bind(p,10587))).removeAllResources(ie,ue)})()}resourceFromPath(ue){return new Y({portalItem:this,path:ue})}toJSON(){const ue=this.extent,ie={accessInformation:this.accessInformation,categories:(0,Z.d9)(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:ue&&[[ue.xmin,ue.ymin],[ue.xmax,ue.ymax]],id:this.id,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,spatialReference:this.spatialReference,tags:(0,Z.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,Z.d9)(this.typeKeywords),url:this.url};return(0,Z.yd)(ie)}static fromJSON(ue){if(!ue)return null;if(ue.declaredClass)throw new Error("JSON object is already hydrated");return new le({sourceJSON:ue})}_getPostQuery(){const ue=this.toJSON();for(const ie in ue)"tags"===ie&&null!==ue[ie]&&(ue[ie]=ue[ie].join(", ")),"typeKeywords"===ie&&null!==ue[ie]&&(ue[ie]=ue[ie].join(", ")),"extent"===ie&&ue[ie]&&(ue[ie]=JSON.stringify(ue[ie]));return ue}};(0,v._)([(0,B.Cb)({type:["private","shared","org","public"]})],de.prototype,"access",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"accessInformation",void 0),(0,v._)([(0,B.Cb)({type:String})],de.prototype,"apiKey",void 0),(0,v._)([(0,B.Cb)({json:{read:{source:"appProxies"}}})],de.prototype,"applicationProxies",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"avgRating",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"categories",void 0),(0,v._)([(0,B.Cb)({type:Date})],de.prototype,"created",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"culture",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"description",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"displayName",null),(0,v._)([(0,B.Cb)({type:ae.Z})],de.prototype,"extent",void 0),(0,v._)([(0,ne.r)("extent")],de.prototype,"readExtent",null),(0,v._)([(0,B.Cb)()],de.prototype,"groupCategories",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"iconUrl",null),(0,v._)([(0,B.Cb)()],de.prototype,"id",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"isLayer",null),(0,v._)([(0,B.Cb)()],de.prototype,"itemControl",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"itemUrl",null),(0,v._)([(0,B.Cb)()],de.prototype,"licenseInfo",void 0),(0,v._)([(0,B.Cb)({type:Date})],de.prototype,"modified",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"name",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"numComments",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"numRatings",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"numViews",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"owner",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"ownerFolder",void 0),(0,v._)([(0,B.Cb)({type:re.Z})],de.prototype,"portal",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"screenshots",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"size",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"snippet",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"sourceJSON",void 0),(0,v._)([(0,B.Cb)({type:String})],de.prototype,"spatialReference",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"tags",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"thumbnail",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"thumbnailUrl",null),(0,v._)([(0,B.Cb)()],de.prototype,"title",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"type",void 0),(0,v._)([(0,B.Cb)()],de.prototype,"typeKeywords",void 0),(0,v._)([(0,B.Cb)({type:String,json:{read(ue,ie){var pe;if("KML"!==ie.type)return ue;const ye=null==(pe=this.portal)?void 0:pe.restUrl;return ue||(ue=ye&&this.id?`${ye}/content/items/${this.id}/data`:null),ue}}})],de.prototype,"url",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],de.prototype,"userItemUrl",null),de=le=(0,v._)([(0,te.j)("esri.portal.PortalItem")],de);const q=de},6278:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var ne,d=p(17626),v=p(14517),X=p(2076),G=p(58817),z=p(62208),Z=p(77712),k=(p(90912),p(76898)),N=p(2004),B=p(65234),Q=p(46367);const te=new X.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ae=ne=class extends v.Z{constructor($){super($),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder($){"asc"!==$&&"desc"!==$||this._set("sortOrder",$)}clone(){return new ne({categories:this.categories?(0,G.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions($,F){let R,U;if(this.categories&&(R=this.categories.map(J=>Array.isArray(J)?JSON.stringify(J):J)),this.extent){const J=(0,Q.iV)(this.extent,B.Z.WGS84);(0,z.pC)(J)&&(U=`${J.xmin},${J.ymin},${J.xmax},${J.ymax}`)}let A=this.query;!this.disableExtraQuery&&$.extraQuery&&(A="("+A+")"+$.extraQuery);const V={categories:R,bbox:U,q:A,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(V.sortField=this.sortField.split(",").map(J=>te.toJSON(J.trim())).join(","),V.sortOrder=this.sortOrder),{query:Nn(Nn({},F),V)}}};(0,d._)([(0,Z.Cb)()],ae.prototype,"categories",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"disableExtraQuery",void 0),(0,d._)([(0,Z.Cb)({type:N.Z})],ae.prototype,"extent",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"filter",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"num",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"query",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"sortField",void 0),(0,d._)([(0,Z.Cb)()],ae.prototype,"sortOrder",null),(0,d._)([(0,Z.Cb)()],ae.prototype,"start",void 0),ae=ne=(0,d._)([(0,k.j)("esri.portal.PortalQueryParams")],ae);const re=ae},94508:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>ae});var d=p(17626),v=p(26584),X=p(86810),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898));let N=class extends X.wq{constructor(re){super(re),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const re=this.get("portal.restUrl");return re?`${re}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new v.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,d._)([(0,G.Cb)({type:Date})],N.prototype,"created",void 0),(0,d._)([(0,G.Cb)()],N.prototype,"id",void 0),(0,d._)([(0,G.Cb)()],N.prototype,"portal",void 0),(0,d._)([(0,G.Cb)()],N.prototype,"title",void 0),(0,d._)([(0,G.Cb)({readOnly:!0})],N.prototype,"url",null),(0,d._)([(0,G.Cb)()],N.prototype,"username",void 0),N=(0,d._)([(0,k.j)("esri.portal.PortalFolder")],N);const B=N;var ne,Q=p(96245);let te=ne=class extends X.wq{constructor(...re){super(...re),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const re=this.url,$=this.thumbnail;return re&&$?this.portal._normalizeUrl(`${re}/info/${$}?f=json`):null}get userContentUrl(){const re=this.get("portal.restUrl");return re?`${re}/content/users/${this.username}`:null}get url(){const re=this.get("portal.restUrl");return re?`${re}/community/users/${this.username}`:null}addItem(re){const $=re&&re.item,F=re&&re.data,R=re&&re.folder,U={method:"post"};$&&(U.query=$.createPostQuery(),null!=F&&("string"==typeof F?U.query.text=F:"object"==typeof F&&(U.query.text=JSON.stringify(F))));let A=this.userContentUrl;return R&&(A+="/"+("string"==typeof R?R:R.id)),this.portal._request(A+"/addItem",U).then(V=>($.id=V.id,$.portal=this.portal,$.loaded?$.reload():$.load()))}deleteItem(re){let $=this.userContentUrl;return re.ownerFolder&&($+="/"+re.ownerFolder),this.portal._request($+`/items/${re.id}/delete`,{method:"post"}).then(()=>{re.id=null,re.portal=null})}deleteItems(re){const $=this.userContentUrl+"/deleteItems",F=re.map(R=>R.id);if(F.length){const R={method:"post",query:{items:F.join(",")}};return this.portal._request($,R).then(()=>{re.forEach(U=>{U.id=null,U.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then($=>{let F;return F=$&&$.folders?$.folders.map(R=>{const U=B.fromJSON(R);return U.portal=this.portal,U}):[],F})}fetchGroups(){return this.portal._request(this.url).then(re=>{let $;return $=re&&re.groups?re.groups.map(F=>{const R=Q.default.fromJSON(F);return R.portal=this.portal,R}):[],$})}fetchItems(re){re||(re={});let $,F=this.userContentUrl;return re.folder&&(F+="/"+re.folder.id),Promise.resolve().then(p.bind(p,55463)).then(({default:R})=>($=R,this.portal._request(F,{query:{folders:!1,num:re.num||10,start:re.start||1,sortField:re.sortField||"created",sortOrder:re.sortOrder||"asc"}}))).then(R=>{let U;return R&&R.items?(U=R.items.map(A=>{const V=$.fromJSON(A);return V.portal=this.portal,V}),Promise.all(U.map(A=>A.load())).catch(A=>A).then(()=>({items:U,nextStart:R.nextStart,total:R.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(re=>re.tags)}getThumbnailUrl(re){let $=this.thumbnailUrl;return $&&re&&($+=`&w=${re}`),$}queryFavorites(re){return this.favGroupId?(this._favGroup||(this._favGroup=new Q.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(re)):Promise.reject(new v.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new v.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(re){if(!re)return null;if(re.declaredClass)throw new Error("JSON object is already hydrated");const $=new ne;return $.sourceJSON=re,$.read(re),$}};(0,d._)([(0,G.Cb)()],te.prototype,"access",void 0),(0,d._)([(0,G.Cb)({type:Date})],te.prototype,"created",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"culture",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"description",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"email",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"favGroupId",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"fullName",void 0),(0,d._)([(0,G.Cb)({type:Date})],te.prototype,"modified",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"orgId",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"portal",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"preferredView",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"privileges",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"region",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"role",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"roleId",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"sourceJSON",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"thumbnail",void 0),(0,d._)([(0,G.Cb)({readOnly:!0})],te.prototype,"thumbnailUrl",null),(0,d._)([(0,G.Cb)()],te.prototype,"units",void 0),(0,d._)([(0,G.Cb)({readOnly:!0})],te.prototype,"userContentUrl",null),(0,d._)([(0,G.Cb)({readOnly:!0})],te.prototype,"url",null),(0,d._)([(0,G.Cb)()],te.prototype,"username",void 0),(0,d._)([(0,G.Cb)()],te.prototype,"userType",void 0),te=ne=(0,d._)([(0,k.j)("esri.portal.PortalUser")],te);const ae=te},58926:(wt,Se,p)=>{"use strict";p.d(Se,{v:()=>v});const v=(0,p(2076).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},4832:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ie});var J,d=p(15861),v=p(17626),X=p(65787),G=p(2076),z=p(58817),Z=p(63290),D=p(62208),k=p(77712),N=p(66656),B=p(55342),Q=p(68653),ne=p(76898),te=p(99433),ae=p(90912),re=p(36630),$=p(69357),F=p(2432),R=p(74400),U=p(76457),A=p(10914),V=p(46679);const Y=Z.Z.getLogger("esri.renderers.ClassBreaksRenderer"),se="percent-of-total",le="field",de=new G.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:se,esriNormalizeByField:le}),q=(0,ae.se)(R.Z);let ue=J=class extends((0,F.W)($.Z)){constructor(ye){super(ye),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(ye,pe,Ce){if(!Array.isArray(ye))return;let De=pe.minValue;return ye.map(Me=>{const ve=new R.Z;return ve.read(Me,Ce),null==ve.minValue&&(ve.minValue=De),null==ve.maxValue&&(ve.maxValue=ve.minValue),De=ve.maxValue,ve})}writeClassBreakInfos(ye,pe,Ce,De){const Me=ye.map(ve=>ve.write({},De));this._areClassBreaksConsecutive()&&Me.forEach(ve=>delete ve.classMinValue),pe[Ce]=Me}castField(ye){return null==ye?ye:"function"==typeof ye?(Y.error(".field: field must be a string value"),null):(0,ae.Zs)(ye)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let ye=this._get("normalizationType");const pe=!!this.normalizationField,Ce=null!=this.normalizationTotal;return pe||Ce?(ye=(pe?le:Ce&&se)||null,pe&&Ce&&Y.warn("warning: both normalizationField and normalizationTotal are set!")):ye!==le&&ye!==se||(ye=null),ye}set normalizationType(ye){this._set("normalizationType",ye)}addClassBreakInfo(ye,pe,Ce){let De=null;De="number"==typeof ye?new R.Z({minValue:ye,maxValue:pe,symbol:(0,X.se)(Ce)}):q((0,z.d9)(ye)),this.classBreakInfos.push(De),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(ye,pe){const Ce=this.classBreakInfos.length;for(let De=0;De<Ce;De++){const Me=[this.classBreakInfos[De].minValue,this.classBreakInfos[De].maxValue];if(Me[0]===ye&&Me[1]===pe){this.classBreakInfos.splice(De,1);break}}}getBreakIndex(ye,pe){return this.valueExpression&&((0,D.Wi)(pe)||(0,D.Wi)(pe.arcade))&&Y.warn(""),this.valueExpression?this._getBreakIndexForExpression(ye,pe):this._getBreakIndexForField(ye)}getClassBreakInfo(ye,pe){var Ce=this;return(0,d.Z)(function*(){let De=pe;Ce.valueExpression&&((0,D.Wi)(pe)||(0,D.Wi)(pe.arcade))&&(De=Wi(Nn({},De),{arcade:yield(0,V.LC)()}));const Me=Ce.getBreakIndex(ye,De);return-1!==Me?Ce.classBreakInfos[Me]:null})()}getSymbol(ye,pe){if(this.valueExpression&&((0,D.Wi)(pe)||(0,D.Wi)(pe.arcade)))return void Y.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const Ce=this.getBreakIndex(ye,pe);return Ce>-1?this.classBreakInfos[Ce].symbol:this.defaultSymbol}getSymbolAsync(ye,pe){var Ce=this;return(0,d.Z)(function*(){let De=pe;if(Ce.valueExpression&&((0,D.Wi)(pe)||(0,D.Wi)(pe.arcade))){const ve=yield(0,V.LC)(),{arcadeUtils:Le}=ve;Le.hasGeometryOperations(Ce.valueExpression)&&(yield Le.enableGeometryOperations()),De=Wi(Nn({},De),{arcade:ve})}const Me=Ce.getBreakIndex(ye,De);return Me>-1?Ce.classBreakInfos[Me].symbol:Ce.defaultSymbol})()}getSymbols(){const ye=[];return this.classBreakInfos.forEach(pe=>{pe.symbol&&ye.push(pe.symbol)}),this.defaultSymbol&&ye.push(this.defaultSymbol),ye}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ye,pe)=>ye+pe.getAttributeHash(),"")}getMeshHash(){const ye=JSON.stringify(this.backgroundFillSymbol),pe=JSON.stringify(this.defaultSymbol),Ce=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${ye}.${pe}.${this.classBreakInfos.reduce((De,Me)=>De+Me.getMeshHash(),"")}.${Ce}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new J({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,z.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,z.d9)(this.visualVariables),legendOptions:(0,z.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}collectRequiredFields(ye,pe){var Ce=this;return(0,d.Z)(function*(){const De=[Ce.collectVVRequiredFields(ye,pe),Ce.collectSymbolFields(ye,pe)];yield Promise.all(De)})()}collectSymbolFields(ye,pe){var Ce=this;return(0,d.Z)(function*(){const De=[...Ce.getSymbols().map(Me=>Me.collectRequiredFields(ye,pe)),(0,re.io)(ye,pe,Ce.valueExpression)];(0,re.AB)(ye,pe,Ce.field),(0,re.AB)(ye,pe,Ce.normalizationField),yield Promise.all(De)})()}_getBreakIndexForExpression(ye,pe){const{viewingMode:Ce,scale:De,spatialReference:Me,arcade:ve}=(0,D.Pt)(pe,{});let Le=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const je=(0,D.Wg)(ve).arcadeUtils;if(!Le){const Re=je.createSyntaxTree(this.valueExpression);Le=je.createFunction(Re),this._compiledValueExpression.compiledFunction=Le}this._compiledValueExpression.valueExpression=this.valueExpression;const _e=je.executeFunction(Le,je.createExecContext(ye,je.getViewInfo({viewingMode:Ce,scale:De,spatialReference:Me})));return this._getBreakIndexfromInfos(_e)}_getBreakIndexForField(ye){const Ce=ye.attributes,De=this.normalizationType;let Me=parseFloat(Ce[this.field]);if(De){const ve=this.normalizationTotal,Le=parseFloat(Ce[this.normalizationField]);if("log"===De)Me=Math.log(Me)*Math.LOG10E;else if(De!==se||isNaN(ve)){if(De===le&&!isNaN(Le)){if(isNaN(Me)||isNaN(Le))return-1;Me/=Le}}else Me=Me/ve*100}return this._getBreakIndexfromInfos(Me)}_getBreakIndexfromInfos(ye){const pe=this.isMaxInclusive;if(null!=ye&&"number"==typeof ye&&!isNaN(ye))for(let Ce=0;Ce<this.classBreakInfos.length;Ce++){const De=[this.classBreakInfos[Ce].minValue,this.classBreakInfos[Ce].maxValue];if(De[0]<=ye&&(pe?ye<=De[1]:ye<De[1]))return Ce}return-1}_areClassBreaksConsecutive(){const ye=this.classBreakInfos,pe=ye.length;for(let Ce=1;Ce<pe;Ce++)if(ye[Ce-1].maxValue!==ye[Ce].minValue)return!1;return!0}};(0,v._)([(0,k.Cb)(U.K)],ue.prototype,"backgroundFillSymbol",void 0),(0,v._)([(0,k.Cb)({type:[R.Z]})],ue.prototype,"classBreakInfos",void 0),(0,v._)([(0,Q.r)("classBreakInfos")],ue.prototype,"readClassBreakInfos",null),(0,v._)([(0,te.c)("classBreakInfos")],ue.prototype,"writeClassBreakInfos",null),(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],ue.prototype,"defaultLabel",void 0),(0,v._)([(0,k.Cb)(U.G)],ue.prototype,"defaultSymbol",void 0),(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],ue.prototype,"field",void 0),(0,v._)([(0,N.p)("field")],ue.prototype,"castField",null),(0,v._)([(0,k.Cb)({type:Boolean})],ue.prototype,"isMaxInclusive",void 0),(0,v._)([(0,k.Cb)({type:A.I,json:{write:!0}})],ue.prototype,"legendOptions",void 0),(0,v._)([(0,k.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],ue.prototype,"minValue",null),(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],ue.prototype,"normalizationField",void 0),(0,v._)([(0,k.Cb)({type:Number,cast:ye=>(0,ae.q9)(ye),json:{write:!0}})],ue.prototype,"normalizationTotal",void 0),(0,v._)([(0,k.Cb)({type:de.apiValues,value:null,json:{type:de.jsonValues,read:de.read,write:de.write}})],ue.prototype,"normalizationType",null),(0,v._)([(0,B.J)({classBreaks:"class-breaks"})],ue.prototype,"type",void 0),(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],ue.prototype,"valueExpression",void 0),(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],ue.prototype,"valueExpressionTitle",void 0),ue=J=(0,v._)([(0,ne.j)("esri.renderers.ClassBreaksRenderer")],ue);const ie=ue},49067:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var ne,d=p(15861),v=p(17626),X=p(58817),G=p(77712),Z=(p(90912),p(76898)),D=p(99433),k=p(36630),N=p(69357),B=p(2432),Q=p(29996);let te=ne=class extends((0,B.W)(N.Z)){constructor(re){super(re),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new Q.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(re,$){re&&($.scalingExpressionInfo={expression:re,returnType:"number"})}writeVisualVariables(re,$,F,R){(null==R?void 0:R.origin)||super.writeVisualVariables(re,$,F,R)}clone(){return new ne({config:(0,X.d9)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,X.d9)(this.fieldMap),url:(0,X.d9)(this.url),visualVariables:(0,X.d9)(this.visualVariables)})}getSymbolAsync(re,$){var F=this;return(0,d.Z)(function*(){return F._loader.getSymbolAsync(re,$)})()}collectRequiredFields(re,$){var F=this;return(0,d.Z)(function*(){yield F.collectVVRequiredFields(re,$),F.scaleExpression&&(yield(0,k.io)(re,$,F.scaleExpression));for(const R in F.fieldMap){const U=F.fieldMap[R];$.has(U)&&re.add(U)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((re,$)=>re+$.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,v._)([(0,G.Cb)({type:Q.DictionaryLoader})],te.prototype,"_loader",null),(0,v._)([(0,G.Cb)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],te.prototype,"config",void 0),(0,v._)([(0,G.Cb)({type:Object,json:{write:!0}})],te.prototype,"fieldMap",void 0),(0,v._)([(0,G.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],te.prototype,"scaleExpression",void 0),(0,v._)([(0,D.c)("scaleExpression")],te.prototype,"writeData",null),(0,v._)([(0,G.Cb)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(re){return{enabled:!!re&&!!this.scaleExpression}}}}})],te.prototype,"scaleExpressionTitle",void 0),(0,v._)([(0,G.Cb)({type:String,json:{write:!0}})],te.prototype,"url",void 0),(0,v._)([(0,D.c)("visualVariables")],te.prototype,"writeVisualVariables",null),te=ne=(0,v._)([(0,Z.j)("esri.renderers.DictionaryRenderer")],te);const ae=te},96794:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>oe});var F,d=p(15861),v=p(17626),X=p(91558),G=p(58817),z=p(83960),D=(p(90912),p(55342)),k=p(77712),N=p(76898),B=p(36630),Q=p(69357),ne=p(2432),te=p(41832),ae=p(86810);p(85931),p(8314);let R=F=class extends ae.wq{constructor(){super(...arguments),this.unit=null}clone(){return new F({unit:this.unit})}};(0,v._)([(0,k.Cb)({type:String,json:{write:!0}})],R.prototype,"unit",void 0),R=F=(0,v._)([(0,N.j)("esri.renderers.support.DotDensityLegendOptions")],R);const U=R;var J,A=p(88493),V=p(52068);let Y=J=class extends((0,ne.W)(Q.Z)){constructor(se){super(se),this.attributes=null,this.backgroundColor=new X.Z([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new V.Z,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(se){if(null==this.referenceScale)return this.dotValue;const le=se/this.referenceScale*this.dotValue;return le<1?1:le}getSymbol(){return new A.Z({outline:this.outline})}getSymbolAsync(){var se=this;return(0,d.Z)(function*(){return se.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((se,le)=>se+le.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new J({attributes:(0,G.d9)(this.attributes),backgroundColor:(0,G.d9)(this.backgroundColor),dotBlendingEnabled:(0,G.d9)(this.dotBlendingEnabled),dotShape:(0,G.d9)(this.dotShape),dotSize:(0,G.d9)(this.dotSize),dotValue:(0,G.d9)(this.dotValue),legendOptions:(0,G.d9)(this.legendOptions),outline:(0,G.d9)(this.outline),referenceScale:(0,G.d9)(this.referenceScale),visualVariables:(0,G.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(se=>se.field||se.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(se,le){var de=this;return(0,d.Z)(function*(){yield de.collectVVRequiredFields(se,le);for(const q of de.attributes)q.valueExpression&&(yield(0,B.io)(se,le,q.valueExpression)),q.field&&se.add(q.field)})()}};(0,v._)([(0,k.Cb)({type:[te.Z],json:{write:!0}})],Y.prototype,"attributes",void 0),(0,v._)([(0,k.Cb)({type:X.Z,json:{write:!0}})],Y.prototype,"backgroundColor",void 0),(0,v._)([(0,k.Cb)({type:Boolean}),(0,z.B)("dotBlendingEnabled")],Y.prototype,"blendDots",void 0),(0,v._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],Y.prototype,"dotBlendingEnabled",void 0),(0,v._)([(0,k.Cb)({type:String,json:{write:!1}})],Y.prototype,"dotShape",void 0),(0,v._)([(0,k.Cb)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],Y.prototype,"dotSize",void 0),(0,v._)([(0,k.Cb)({type:U,json:{write:!0}})],Y.prototype,"legendOptions",void 0),(0,v._)([(0,k.Cb)({type:V.Z,json:{default:null,write:!0}})],Y.prototype,"outline",void 0),(0,v._)([(0,k.Cb)({type:Number,json:{write:!0}})],Y.prototype,"dotValue",void 0),(0,v._)([(0,k.Cb)({type:Number}),(0,z.B)("dotValue")],Y.prototype,"referenceDotValue",void 0),(0,v._)([(0,k.Cb)({type:Number,json:{write:!0}})],Y.prototype,"referenceScale",void 0),(0,v._)([(0,k.Cb)({type:Number,json:{write:!0}})],Y.prototype,"seed",void 0),(0,v._)([(0,D.J)({dotDensity:"dot-density"})],Y.prototype,"type",void 0),Y=J=(0,v._)([(0,N.j)("esri.renderers.DotDensityRenderer")],Y);const oe=Y},69747:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ie});var d=p(15861),v=p(17626),X=p(91558),z=(p(65787),p(55538)),Z=p(58817),D=p(63290),k=p(50618),N=p(23841),B=p(77712),Q=p(52323),te=(p(90912),p(55342)),ae=p(76898),re=p(36630),$=p(69357),F=p(15312),R=p(52372),U=p(79608),A=p(86810);p(85931),p(8314);let Y=class extends((0,U.J)(A.wq)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,v._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"minLabel",void 0),(0,v._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"maxLabel",void 0),(0,v._)([(0,B.Cb)({type:String,json:{write:!0}})],Y.prototype,"title",void 0),Y=(0,v._)([(0,ae.j)("esri.renderers.support.HeatmapLegendOptions")],Y);var le,oe=p(36859),se=p(57213);const de=D.Z.getLogger("esri.renderers.HeatmapRenderer");function q(ye){if(null!=ye){const{maxDensity:Ce,minDensity:De,radius:Me}=ye;if(null!=Ce||null!=De||null!=Me){return k1(ye,["blurRadius","maxPixelIntensity","minPixelIntensity"])}}return ye}let ue=le=class extends $.Z{constructor(ye){super(ye),this.authoringInfo=null,this.colorStops=[new R.Z({ratio:0,color:new X.Z("rgba(255, 140, 0, 0)")}),new R.Z({ratio:.75,color:new X.Z("rgba(255, 140, 0, 1)")}),new R.Z({ratio:.9,color:new X.Z("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(ye){return q(ye)}get blurRadius(){return(0,oe.AJ)(this.radius)}set blurRadius(ye){const pe=this.maxPixelIntensity,Ce=this.minPixelIntensity;this._set("radius",(0,oe.k0)(ye)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",pe*this._pixelIntensityToDensity),this._set("minDensity",Ce*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(ye){this._set("maxDensity",ye*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(ye){this._set("minDensity",ye*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(oe.nu**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(ye,pe){this._warnedProps[ye]||"user"===(0,Q.vw)(this).getDefaultOrigin()&&(this._warnedProps[ye]=!0,(0,k.Os)(()=>{(0,z.Mr)(de,ye,{replacement:`${String(pe)} (suggested value: ${this._get(pe)})`,version:"4.24"})}))}read(ye,pe){ye=q(ye),super.read(ye,pe)}getSymbol(){const pe=Math.min(this.radius*(0!==this.referenceScale?5:1),(0,N.Wz)(256));return new se.Z({size:pe})}getSymbolAsync(){var ye=this;return(0,d.Z)(function*(){return ye.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(ye,pe){var Ce=this;return(0,d.Z)(function*(){const De=Ce.field,Me=Ce.valueExpression;De&&"string"==typeof De&&(yield(0,re.AB)(ye,pe,De)),Me&&"string"==typeof Me&&(yield(0,re.io)(ye,pe,Me))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new le({colorStops:(0,Z.d9)(this.colorStops),field:this.field,legendOptions:(0,Z.d9)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,v._)([(0,B.Cb)({type:F.Z,json:{write:!1}})],ue.prototype,"authoringInfo",void 0),(0,v._)([(0,B.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ue.prototype,"blurRadius",null),(0,v._)([(0,B.Cb)({type:[R.Z],json:{write:!0}})],ue.prototype,"colorStops",void 0),(0,v._)([(0,B.Cb)({type:String,json:{write:!0}})],ue.prototype,"field",void 0),(0,v._)([(0,B.Cb)({type:Number,json:{write:{overridePolicy:(ye,pe,Ce)=>({enabled:null==Ce})},origins:{"web-scene":{write:!1}}}})],ue.prototype,"fieldOffset",void 0),(0,v._)([(0,B.Cb)({type:Y,json:{write:!0}})],ue.prototype,"legendOptions",void 0),(0,v._)([(0,B.Cb)({type:Number,json:{write:!0}})],ue.prototype,"maxDensity",void 0),(0,v._)([(0,B.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ue.prototype,"maxPixelIntensity",null),(0,v._)([(0,B.Cb)({type:Number,json:{write:!0}})],ue.prototype,"minDensity",void 0),(0,v._)([(0,B.Cb)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ue.prototype,"minPixelIntensity",null),(0,v._)([(0,B.Cb)({type:Number,cast:N.t_,json:{write:!0}})],ue.prototype,"radius",void 0),(0,v._)([(0,B.Cb)({type:Number,range:{min:0},json:{default:0,write:!0}})],ue.prototype,"referenceScale",void 0),(0,v._)([(0,te.J)({heatmap:"heatmap"})],ue.prototype,"type",void 0),(0,v._)([(0,B.Cb)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ue.prototype,"valueExpression",void 0),(0,v._)([(0,B.Cb)({type:String})],ue.prototype,"valueExpressionTitle",void 0),(0,v._)([(0,B.Cb)({readOnly:!0})],ue.prototype,"_pixelIntensityToDensity",null),ue=le=(0,v._)([(0,ae.j)("esri.renderers.HeatmapRenderer")],ue);const ie=ue},40425:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>oe});var d=p(15861),v=p(17626),X=p(91558),z=(p(65787),p(79608)),Z=p(23841),D=p(77712),Q=(p(85931),p(8314),p(90912),p(55342)),ne=p(76898),te=p(36630),ae=p(69357),re=p(2432),$=p(41832),F=p(86810);let R=class extends((0,z.J)(F.wq)){constructor(){super(...arguments),this.color=new X.Z([0,0,0,0]),this.label=null,this.threshold=0}};(0,v._)([(0,D.Cb)({type:X.Z,json:{write:!0}})],R.prototype,"color",void 0),(0,v._)([(0,D.Cb)({type:String,json:{write:!0}})],R.prototype,"label",void 0),(0,v._)([(0,D.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],R.prototype,"threshold",void 0),R=(0,v._)([(0,ne.j)("esri.renderers.support.OthersCategory")],R);let U=class extends((0,z.J)(F.wq)){constructor(){super(...arguments),this.title=null}};(0,v._)([(0,D.Cb)({type:String,json:{write:!0}})],U.prototype,"title",void 0),U=(0,v._)([(0,ne.j)("esri.renderers.support.PieChartLegendOptions")],U);var A=p(57213),V=p(88493),J=p(52068);let Y=class extends((0,re.W)((0,z.J)(ae.Z))){constructor(se){super(se),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new X.Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new R,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var se;return new A.Z({size:this.size?this.size/2+((null==(se=this.outline)?void 0:se.width)||0):0})}getSymbolAsync(){var se=this;return(0,d.Z)(function*(){return se.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((se,le)=>se+le.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((se,le)=>se+JSON.stringify(le),"")}collectRequiredFields(se,le){var de=this;return(0,d.Z)(function*(){yield de.collectVVRequiredFields(se,le);for(const q of de.attributes)q.valueExpression&&(yield(0,te.io)(se,le,q.valueExpression)),q.field&&se.add(q.field)})()}};(0,v._)([(0,D.Cb)({type:[$.Z],json:{write:!0}})],Y.prototype,"attributes",void 0),(0,v._)([(0,D.Cb)({type:V.Z,json:{default:null,write:!0}})],Y.prototype,"backgroundFillSymbol",void 0),(0,v._)([(0,D.Cb)({type:X.Z,json:{write:!0}})],Y.prototype,"defaultColor",void 0),(0,v._)([(0,D.Cb)({type:String,json:{write:!0}})],Y.prototype,"defaultLabel",void 0),(0,v._)([(0,D.Cb)({type:Number,range:{min:0,max:1},json:{write:!0}})],Y.prototype,"holePercentage",void 0),(0,v._)([(0,D.Cb)({type:R,json:{write:!0}})],Y.prototype,"othersCategory",void 0),(0,v._)([(0,D.Cb)({type:U,json:{write:!0}})],Y.prototype,"legendOptions",void 0),(0,v._)([(0,D.Cb)({type:J.Z,json:{default:null,write:!0}})],Y.prototype,"outline",void 0),(0,v._)([(0,D.Cb)({type:Number,cast:Z.t_,json:{write:!0}})],Y.prototype,"size",void 0),(0,v._)([(0,Q.J)({pieChart:"pie-chart"})],Y.prototype,"type",void 0),Y=(0,v._)([(0,ne.j)("esri.renderers.PieChartRenderer")],Y);const oe=Y},69357:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var d=p(15861),v=p(17626),X=p(2076),G=p(86810),z=p(77712),N=(p(85931),p(8314),p(90912),p(76898)),B=p(15312);const Q=new X.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let ne=class extends G.wq{constructor(ae){super(ae),this.authoringInfo=null,this.type=null}getRequiredFields(ae){var re=this;return(0,d.Z)(function*(){if(!re.collectRequiredFields)return[];const $=new Set;return yield re.collectRequiredFields($,ae),Array.from($).sort()})()}getSymbol(ae,re){}getSymbolAsync(ae,re){return(0,d.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,v._)([(0,z.Cb)({type:B.Z,json:{write:!0}})],ne.prototype,"authoringInfo",void 0),(0,v._)([(0,z.Cb)({type:Q.apiValues,readOnly:!0,json:{type:Q.jsonValues,read:!1,write:{writer:Q.write,ignoreOrigin:!0}}})],ne.prototype,"type",void 0),ne=(0,v._)([(0,N.j)("esri.renderers.Renderer")],ne);const te=ne},40342:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var Q,d=p(15861),v=p(17626),X=p(58817),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(69357),N=p(2432),B=p(76457);let ne=Q=class extends((0,N.W)(k.Z)){constructor(ae){super(ae),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(ae,re){var $=this;return(0,d.Z)(function*(){yield Promise.all([$.collectSymbolFields(ae,re),$.collectVVRequiredFields(ae,re)])})()}collectSymbolFields(ae,re){var $=this;return(0,d.Z)(function*(){yield Promise.all($.getSymbols().map(F=>F.collectRequiredFields(ae,re)))})()}getSymbol(ae,re){return this.symbol}getSymbolAsync(ae,re){var $=this;return(0,d.Z)(function*(){return $.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ae,re)=>ae+re.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((ae,re)=>ae+JSON.stringify(re),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new Q({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,X.d9)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,v._)([(0,G.Cb)({type:String,json:{write:!0}})],ne.prototype,"description",void 0),(0,v._)([(0,G.Cb)({type:String,json:{write:!0}})],ne.prototype,"label",void 0),(0,v._)([(0,G.Cb)(B.G)],ne.prototype,"symbol",void 0),(0,v._)([(0,Z.J)({simple:"simple"})],ne.prototype,"type",void 0),ne=Q=(0,v._)([(0,D.j)("esri.renderers.SimpleRenderer")],ne);const te=ne},14726:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>pe});var q,d=p(15861),v=p(17626),X=p(65787),G=p(26584),z=p(58817),Z=p(63290),D=p(62208),k=p(94113),N=p(77712),B=p(66656),Q=p(55342),ne=p(68653),te=p(76898),ae=p(99433),re=p(84682),$=p(90912),F=p(36630),R=p(84687),U=p(69357),A=p(2432),V=p(76457),J=p(10914),Y=p(87266),oe=p(46679),se=p(29840),le=p(78241),de=p(12874);const ue=Z.Z.getLogger("esri.renderers.UniqueValueRenderer"),ie=(0,$.se)(Y.Z);let ye=q=class extends((0,A.W)(U.Z)){constructor(Ce){super(Ce),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(De,Me){if(!De&&!Me)return;if(!De||!Me)return{type:"complete",oldValue:De,newValue:Me};let ve=!1;const Le={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let je=0;je<Me.length;je++){const _e=De.find(Re=>Re.value===Me[je].value);_e?(0,re.Hg)(_e,Me[je])?(Le.changed.push({type:"complete",oldValue:_e,newValue:Me[je]}),ve=!0):Le.unchanged.push({oldValue:_e,newValue:Me[je]}):(Le.added.push(Me[je]),ve=!0)}for(let je=0;je<De.length;je++)Me.find(_e=>_e.value===De[je].value)||(Le.removed.push(De[je]),ve=!0);return ve?Le:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(Ce){return null==Ce||"function"==typeof Ce?Ce:(0,$.Zs)(Ce)}writeField(Ce,De,Me,ve){"string"==typeof Ce?De[Me]=Ce:ve&&ve.messages?ve.messages.push(new G.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ue.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(Ce){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",Ce)}readPortal(Ce,De,Me){return Me.portal||R.Z.getDefault()}readStyleOrigin(Ce,De,Me){if(De.styleName)return Object.freeze({styleName:De.styleName});if(De.styleUrl){const ve=(0,se.f)(De.styleUrl,Me);return Object.freeze({styleUrl:ve})}}writeStyleOrigin(Ce,De,Me,ve){Ce.styleName?De.styleName=Ce.styleName:Ce.styleUrl&&(De.styleUrl=(0,se.t)(Ce.styleUrl,ve))}set uniqueValueInfos(Ce){this.styleOrigin?ue.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",Ce),this._updateValueInfoMap())}addUniqueValueInfo(Ce,De){if(this.styleOrigin)return void ue.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let Me;Me="object"==typeof Ce?ie(Ce):new Y.Z({value:Ce,symbol:(0,X.se)(De)}),this.uniqueValueInfos.push(Me),this._valueInfoMap[Me.value]=Me}removeUniqueValueInfo(Ce){if(this.styleOrigin)ue.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let De=0;De<this.uniqueValueInfos.length;De++)if(this.uniqueValueInfos[De].value===Ce+""){delete this._valueInfoMap[Ce],this.uniqueValueInfos.splice(De,1);break}}getUniqueValueInfo(Ce,De){var Me=this;return(0,d.Z)(function*(){let ve=De;return Me.valueExpression&&((0,D.Wi)(De)||(0,D.Wi)(De.arcade))&&(ve=Wi(Nn({},ve),{arcade:yield(0,oe.LC)()})),Me._getUniqueValueInfo(Ce,ve)})()}getSymbol(Ce,De){if(this.valueExpression&&((0,D.Wi)(De)||(0,D.Wi)(De.arcade)))return void ue.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const Me=this._getUniqueValueInfo(Ce,De);return Me&&Me.symbol||this.defaultSymbol}getSymbolAsync(Ce,De){var Me=this;return(0,d.Z)(function*(){let ve=De;if(Me.valueExpression&&((0,D.Wi)(ve)||(0,D.Wi)(ve.arcade))){const je=yield(0,oe.LC)(),{arcadeUtils:_e}=je;_e.hasGeometryOperations(Me.valueExpression)&&(yield _e.enableGeometryOperations()),ve=Wi(Nn({},ve),{arcade:je})}const Le=Me._getUniqueValueInfo(Ce,ve);return Le&&Le.symbol||Me.defaultSymbol})()}getSymbols(){const Ce=[];for(const De of this.uniqueValueInfos)De.symbol&&Ce.push(De.symbol);return this.defaultSymbol&&Ce.push(this.defaultSymbol),Ce}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Ce,De)=>Ce+De.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((Ce,De)=>Ce+De.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const Ce=new q({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,z.d9)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,z.d9)(this.visualVariables),legendOptions:(0,z.d9)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,z.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(Ce._isDefaultSymbolDerived=!0),Ce._set("portal",this.portal);const De=(0,z.d9)(this.uniqueValueInfos);return this.styleOrigin&&(Ce._set("styleOrigin",Object.freeze((0,z.d9)(this.styleOrigin))),Object.freeze(De)),Ce._set("uniqueValueInfos",De),Ce._updateValueInfoMap(),Ce}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(Ce,De){var Me=this;return(0,d.Z)(function*(){const ve=[Me.collectVVRequiredFields(Ce,De),Me.collectSymbolFields(Ce,De)];yield Promise.all(ve)})()}collectSymbolFields(Ce,De){var Me=this;return(0,d.Z)(function*(){const ve=[...Me.getSymbols().map(Le=>Le.collectRequiredFields(Ce,De)),(0,F.io)(Ce,De,Me.valueExpression)];(0,F.AB)(Ce,De,Me.field),(0,F.AB)(Ce,De,Me.field2),(0,F.AB)(Ce,De,Me.field3),yield Promise.all(ve)})()}populateFromStyle(){return(0,le.n2)(this.styleOrigin,{portal:this.portal}).then(Ce=>{const De=[];return this._valueInfoMap={},Ce&&Ce.data&&Array.isArray(Ce.data.items)&&Ce.data.items.forEach(Me=>{const ve=new de.Z({styleUrl:Ce.styleUrl,styleName:Ce.styleName,portal:this.portal,name:Me.name});this.defaultSymbol||Me.name!==Ce.data.defaultItem||(this.defaultSymbol=ve,this._isDefaultSymbolDerived=!0);const Le=new Y.Z({value:Me.name,symbol:ve});De.push(Le),this._valueInfoMap[Me.name]=Le}),this._set("uniqueValueInfos",Object.freeze(De)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(Ce=>this._valueInfoMap[Ce.value+""]=Ce)}_getUniqueValueInfo(Ce,De){return this.valueExpression?this._getUnqiueValueInfoForExpression(Ce,De):this._getUnqiueValueInfoForFields(Ce)}_getUnqiueValueInfoForExpression(Ce,De){const{viewingMode:Me,scale:ve,spatialReference:Le,arcade:je}=(0,D.Pt)(De,{});let _e=this._cache.compiledFunc;const Re=(0,D.Wg)(je).arcadeUtils;if(!_e){const pt=Re.createSyntaxTree(this.valueExpression);_e=Re.createFunction(pt),this._cache.compiledFunc=_e}const nt=Re.executeFunction(_e,Re.createExecContext(Ce,Re.getViewInfo({viewingMode:Me,scale:ve,spatialReference:Le})));return this._valueInfoMap[nt+""]}_getUnqiueValueInfoForFields(Ce){const De=this.field,Me=Ce.attributes;let ve;if("function"!=typeof De&&this.field2){const Le=this.field2,je=this.field3,_e=[];De&&_e.push(Me[De]),Le&&_e.push(Me[Le]),je&&_e.push(Me[je]),ve=_e.join(this.fieldDelimiter||"")}else"function"==typeof De?ve=De(Ce):De&&(ve=Me[De]);return this._valueInfoMap[ve+""]}static fromPortalStyle(Ce,De){const Me=new q(De&&De.properties);Me._set("styleOrigin",Object.freeze({styleName:Ce})),Me._set("portal",De&&De.portal||R.Z.getDefault());const ve=Me.populateFromStyle();return ve.catch(Le=>{ue.error(`#fromPortalStyle('${Ce}'[, ...])`,"Failed to create unique value renderer from style name",Le)}),ve}static fromStyleUrl(Ce,De){const Me=new q(De&&De.properties);Me._set("styleOrigin",Object.freeze({styleUrl:Ce}));const ve=Me.populateFromStyle();return ve.catch(Le=>{ue.error(`#fromStyleUrl('${Ce}'[, ...])`,"Failed to create unique value renderer from style URL",Le)}),ve}};(0,v._)([(0,N.Cb)({readOnly:!0})],ye.prototype,"_cache",null),(0,v._)([(0,Q.J)({uniqueValue:"unique-value"})],ye.prototype,"type",void 0),(0,v._)([(0,N.Cb)(V.K)],ye.prototype,"backgroundFillSymbol",void 0),(0,v._)([(0,N.Cb)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],ye.prototype,"field",void 0),(0,v._)([(0,B.p)("field")],ye.prototype,"castField",null),(0,v._)([(0,ae.c)("field")],ye.prototype,"writeField",null),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"field2",void 0),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"field3",void 0),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"valueExpression",void 0),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"valueExpressionTitle",void 0),(0,v._)([(0,N.Cb)({type:J.I,json:{write:!0}})],ye.prototype,"legendOptions",void 0),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"defaultLabel",void 0),(0,v._)([(0,N.Cb)((0,k.RH)(Nn({},V.G),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],ye.prototype,"defaultSymbol",null),(0,v._)([(0,N.Cb)({type:String,json:{write:!0}})],ye.prototype,"fieldDelimiter",void 0),(0,v._)([(0,N.Cb)({type:R.Z,readOnly:!0})],ye.prototype,"portal",void 0),(0,v._)([(0,ne.r)("portal",["styleName"])],ye.prototype,"readPortal",null),(0,v._)([(0,N.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],ye.prototype,"styleOrigin",void 0),(0,v._)([(0,ne.r)("styleOrigin",["styleName","styleUrl"])],ye.prototype,"readStyleOrigin",null),(0,v._)([(0,ae.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],ye.prototype,"writeStyleOrigin",null),(0,v._)([(0,N.Cb)({type:[Y.Z],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],ye.prototype,"uniqueValueInfos",null),ye=q=(0,v._)([(0,te.j)("esri.renderers.UniqueValueRenderer")],ye);const pe=ye},2432:(wt,Se,p)=>{"use strict";p.d(Se,{W:()=>Le});var te,d=p(15861),v=p(17626),X=p(77712),Z=(p(85931),p(8314),p(90912)),D=p(68653),k=p(76898),N=p(99433),B=p(36630),Q=p(17977),ne=p(8029);let ae=te=class extends Q.Z{constructor(je){super(je),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(je){je&&Array.isArray(je)&&(je=je.filter(_e=>!!_e)).sort((_e,Re)=>_e.value-Re.value),this._set("stops",je)}clone(){return new te({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(je=>je.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(je=>je.value||0)}};(0,v._)([(0,X.Cb)({readOnly:!0})],ae.prototype,"cache",null),(0,v._)([(0,X.Cb)({type:["color"],json:{type:["colorInfo"]}})],ae.prototype,"type",void 0),(0,v._)([(0,X.Cb)({type:String,json:{write:!0}})],ae.prototype,"normalizationField",void 0),(0,v._)([(0,X.Cb)({type:[ne.Z],json:{write:!0}})],ae.prototype,"stops",null),ae=te=(0,v._)([(0,k.j)("esri.renderers.visualVariables.ColorVariable")],ae);const re=ae;var R,$=p(86810),F=p(92236);let U=R=class extends $.wq{constructor(je){super(je),this.label=null,this.opacity=null,this.value=null}readOpacity(je,_e){return(0,F.b)(_e.transparency)}writeOpacity(je,_e,Re){_e[Re]=(0,F.a)(je)}clone(){return new R({label:this.label,opacity:this.opacity,value:this.value})}};(0,v._)([(0,X.Cb)({type:String,json:{write:!0}})],U.prototype,"label",void 0),(0,v._)([(0,X.Cb)({type:Number,json:{type:Z.z8,write:{target:"transparency"}}})],U.prototype,"opacity",void 0),(0,v._)([(0,D.r)("opacity",["transparency"])],U.prototype,"readOpacity",null),(0,v._)([(0,N.c)("opacity")],U.prototype,"writeOpacity",null),(0,v._)([(0,X.Cb)({type:Number,json:{write:!0}})],U.prototype,"value",void 0),U=R=(0,v._)([(0,k.j)("esri.renderers.visualVariables.support.OpacityStop")],U);const A=U;var V;let J=V=class extends Q.Z{constructor(je){super(je),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(je){je&&Array.isArray(je)&&(je=je.filter(_e=>!!_e)).sort((_e,Re)=>_e.value-Re.value),this._set("stops",je)}clone(){return new V({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(je=>je.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(je=>je.value||0)}};(0,v._)([(0,X.Cb)({readOnly:!0})],J.prototype,"cache",null),(0,v._)([(0,X.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],J.prototype,"type",void 0),(0,v._)([(0,X.Cb)({type:String,json:{write:!0}})],J.prototype,"normalizationField",void 0),(0,v._)([(0,X.Cb)({type:[A],json:{write:!0}})],J.prototype,"stops",null),J=V=(0,v._)([(0,k.j)("esri.renderers.visualVariables.OpacityVariable")],J);const Y=J;var oe=p(13398),se=p(68598),le=p(14517),de=p(2076),q=p(63290),ue=p(14889);const ie=q.Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),ye={color:re,size:se.Z,opacity:Y,rotation:oe.Z},pe=new de.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Ce=/^\[([^\]]+)\]$/i;let De=class extends le.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(je){if(this._resetVariables(),(je=je&&je.filter(_e=>!!_e))&&je.length){for(const _e of je)switch(_e.type){case"color":this.colorVariables.push(_e);break;case"opacity":this.opacityVariables.push(_e);break;case"rotation":this.rotationVariables.push(_e);break;case"size":this.sizeVariables.push(_e)}this.sizeVariables.length&&this.sizeVariables.some(_e=>!!_e.target)&&je.sort((_e,Re)=>{let nt=null;return nt=_e.target===Re.target?0:_e.target?1:-1,nt});for(let _e=0;_e<je.length;_e++)je[_e].index=_e;this._set("visualVariables",je)}else this._set("visualVariables",je)}readVariables(je,_e,Re){const{rotationExpression:nt,rotationType:pt}=_e,Ne=nt&&nt.match(Ce),xe=Ne&&Ne[1];if(xe&&(je||(je=[]),je.push({type:"rotationInfo",rotationType:pt,field:xe})),je)return je.map(Ye=>{const Ke=pe.read(Ye.type),Fe=ye[Ke];Fe||(ie.warn(`Unknown variable type: ${Ke}`),Re&&Re.messages&&Re.messages.push(new ue.Z("visual-variable:unsupported",`visualVariable of type '${Ke}' is not supported`,{definition:Ye,context:Re})));const Ze=new Fe;return Ze.read(Ye,Re),Ze})}writeVariables(je,_e){const Re=[];for(const nt of je){const pt=nt.toJSON(_e);pt&&Re.push(pt)}return Re}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,v._)([(0,X.Cb)()],De.prototype,"visualVariables",null),De=(0,v._)([(0,k.j)("esri.renderers.visualVariables.VisualVariableFactory")],De);const Me=De,ve={base:Q.Z,key:"type",typeMap:{opacity:Y,color:re,rotation:oe.Z,size:se.Z}},Le=je=>{let _e=class extends je{constructor(){super(...arguments),this._vvFactory=new Me}set visualVariables(Re){this._vvFactory.visualVariables=Re,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(Re,nt,pt){return this._vvFactory.readVariables(Re,nt,pt)}writeVisualVariables(Re,nt,pt,Ne){nt[pt]=this._vvFactory.writeVariables(Re,Ne)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const Re of this.visualVariables)if(Re.arcadeRequired)return!0;return!1}hasVisualVariables(Re,nt){return Re?this.getVisualVariablesForType(Re,nt).length>0:this.getVisualVariablesForType("size",nt).length>0||this.getVisualVariablesForType("color",nt).length>0||this.getVisualVariablesForType("opacity",nt).length>0||this.getVisualVariablesForType("rotation",nt).length>0}getVisualVariablesForType(Re,nt){const pt=this.visualVariables;return pt?pt.filter(Ne=>Ne.type===Re&&("string"==typeof nt?Ne.target===nt:!1!==nt||!Ne.target)):[]}collectVVRequiredFields(Re,nt){var pt=this;return(0,d.Z)(function*(){let Ne=[];pt.visualVariables&&(Ne=Ne.concat(pt.visualVariables));for(const xe of Ne)xe&&(xe.field&&(0,B.AB)(Re,nt,xe.field),xe.normalizationField&&(0,B.AB)(Re,nt,xe.normalizationField),xe.valueExpression&&(yield(0,B.io)(Re,nt,xe.valueExpression)))})()}};return(0,v._)([(0,X.Cb)({types:[ve],value:null,json:{write:!0}})],_e.prototype,"visualVariables",null),(0,v._)([(0,D.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],_e.prototype,"readVisualVariables",null),(0,v._)([(0,N.c)("visualVariables")],_e.prototype,"writeVisualVariables",null),_e=(0,v._)([(0,k.j)("esri.renderers.mixins.VisualVariablesMixin")],_e),_e}},41832:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var Q,d=p(17626),v=p(91558),X=p(86810),G=p(63290),z=p(77712),k=(p(85931),p(8314),p(66656)),N=p(76898),B=p(90912);const ne=G.Z.getLogger("esri.renderers.support.AttributeColorInfo");let te=Q=class extends X.wq{constructor(re){super(re),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(re){return null==re?re:"function"==typeof re?(ne.error(".field: field must be a string value"),null):(0,B.Zs)(re)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new Q({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,d._)([(0,z.Cb)({type:v.Z,json:{type:[Number],write:!0}})],te.prototype,"color",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],te.prototype,"field",void 0),(0,d._)([(0,k.p)("field")],te.prototype,"castField",null),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],te.prototype,"label",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],te.prototype,"valueExpression",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],te.prototype,"valueExpressionTitle",void 0),te=Q=(0,d._)([(0,N.j)("esri.renderers.support.AttributeColorInfo")],te);const ae=te},15312:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Me});var Q,d=p(17626),v=p(2076),X=p(86810),G=p(58817),z=p(77712),Z=p(90912),D=p(68653),k=p(76898);p(85931),p(8314);let ne=Q=class extends X.wq{constructor(ve){super(ve),this.minValue=0,this.maxValue=0}clone(){return new Q({minValue:this.minValue,maxValue:this.maxValue})}};var te;(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ne.prototype,"minValue",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxValue",void 0),ne=Q=(0,d._)([(0,k.j)("esri.renderer.support.AuthoringInfoClassBreakInfo")],ne);let ae=te=class extends X.wq{constructor(ve){super(ve),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new te({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,G.d9)(this.classBreakInfos)})}};(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"field",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"normalizationField",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"label",void 0),(0,d._)([(0,z.Cb)({type:[ne],json:{write:!0}})],ae.prototype,"classBreakInfos",void 0),ae=te=(0,d._)([(0,k.j)("esri.renderers.support.AuthoringInfoFieldInfo")],ae);var $,re=p(66656);const F=new v.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),R=new v.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),U={key:ve=>"number"==typeof ve?"number":"string",typeMap:{number:Number,string:String},base:null},A=["high-to-low","above-and-below","centered-on","extremes"],V=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],J=["seconds","minutes","hours","days","months","years"];let Y=$=class extends X.wq{constructor(ve){super(ve),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(ve){return"string"==typeof ve||"number"==typeof ve?ve:null}castStartTime(ve){return"string"==typeof ve||"number"==typeof ve?ve:null}get style(){return"color"===this.type?this._get("style"):null}set style(ve){this._set("style",ve)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(ve){this._set("theme",ve)}clone(){return new $({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,d._)([(0,z.Cb)({types:U,json:{write:!0}})],Y.prototype,"endTime",void 0),(0,d._)([(0,re.p)("endTime")],Y.prototype,"castEndTime",null),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Y.prototype,"field",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxSliderValue",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],Y.prototype,"minSliderValue",void 0),(0,d._)([(0,z.Cb)({types:U,json:{write:!0}})],Y.prototype,"startTime",void 0),(0,d._)([(0,re.p)("startTime")],Y.prototype,"castStartTime",null),(0,d._)([(0,z.Cb)({type:F.apiValues,value:null,json:{type:F.jsonValues,read:F.read,write:F.write}})],Y.prototype,"style",null),(0,d._)([(0,z.Cb)({type:V,value:null,json:{type:V,origins:{"web-scene":{type:A,write:{writer:(ve,Le)=>{A.includes(ve)&&(Le.theme=ve)}}}},write:!0}})],Y.prototype,"theme",null),(0,d._)([(0,z.Cb)({type:R.apiValues,json:{type:R.jsonValues,read:R.read,write:R.write}})],Y.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:J,json:{type:J,write:!0}})],Y.prototype,"units",void 0),Y=$=(0,d._)([(0,k.j)("esri.renderers.support.AuthoringInfoVisualVariable")],Y);const oe=Y;var le,se=p(79023);const de=new v.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),q=new v.X({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),ue=new v.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),ie=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let De=le=class extends X.wq{constructor(ve){super(ve),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const ve=this._get("classificationMethod"),Le=this.type;return Le&&"relationship"!==Le?"class-breaks-size"===Le||"class-breaks-color"===Le?ve||"manual":null:ve}set classificationMethod(ve){this._set("classificationMethod",ve)}readColorRamp(ve){if(ve)return(0,se.i)(ve)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(ve){this._set("fields",ve)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(ve){this._set("field1",ve)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(ve){this._set("field2",ve)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(ve){this._set("flowTheme",ve)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(ve){this._set("focus",ve)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(ve){this._set("numClasses",ve)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(ve){this._set("statistics",ve)}get standardDeviationInterval(){const ve=this.type;return ve&&"relationship"!==ve&&"class-breaks-size"!==ve&&"class-breaks-color"!==ve||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(ve){this._set("standardDeviationInterval",ve)}get type(){return this._get("type")}set type(ve){let Le=ve;"classed-size"===ve?Le="class-breaks-size":"classed-color"===ve&&(Le="class-breaks-color"),this._set("type",Le)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(ve){this._set("univariateSymbolStyle",ve)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(ve){this._set("univariateTheme",ve)}clone(){return new le({classificationMethod:this.classificationMethod,colorRamp:(0,G.d9)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,G.d9)(this.field1),field2:(0,G.d9)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(ve=>ve.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,d._)([(0,z.Cb)({type:de.apiValues,value:null,json:{type:de.jsonValues,read:de.read,write:de.write,origins:{"web-document":{default:"manual",type:de.jsonValues,read:de.read,write:de.write}}}})],De.prototype,"classificationMethod",null),(0,d._)([(0,z.Cb)({types:se.V,json:{write:!0}})],De.prototype,"colorRamp",void 0),(0,d._)([(0,D.r)("colorRamp")],De.prototype,"readColorRamp",null),(0,d._)([(0,z.Cb)({type:[String],value:null,json:{write:!0}})],De.prototype,"fields",null),(0,d._)([(0,z.Cb)({type:ae,value:null,json:{write:!0}})],De.prototype,"field1",null),(0,d._)([(0,z.Cb)({type:ae,value:null,json:{write:!0}})],De.prototype,"field2",null),(0,d._)([(0,z.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],De.prototype,"flowTheme",null),(0,d._)([(0,z.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],De.prototype,"focus",null),(0,d._)([(0,z.Cb)({type:Number,value:null,json:{type:Z.z8,write:!0}})],De.prototype,"numClasses",null),(0,d._)([(0,z.Cb)({type:ie,json:{type:ie,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],De.prototype,"lengthUnit",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],De.prototype,"maxSliderValue",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],De.prototype,"minSliderValue",void 0),(0,d._)([(0,z.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],De.prototype,"statistics",null),(0,d._)([(0,z.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],De.prototype,"standardDeviationInterval",null),(0,d._)([(0,z.Cb)({type:q.apiValues,value:null,json:{type:q.jsonValues,read:q.read,write:q.write,origins:{"web-scene":{type:ue.jsonValues,write:{writer:ue.write,overridePolicy:ve=>({enabled:"flow"!==ve})}}}}})],De.prototype,"type",null),(0,d._)([(0,z.Cb)({type:[oe],json:{write:!0}})],De.prototype,"visualVariables",void 0),(0,d._)([(0,z.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],De.prototype,"univariateSymbolStyle",null),(0,d._)([(0,z.Cb)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],De.prototype,"univariateTheme",null),De=le=(0,d._)([(0,k.j)("esri.renderers.support.AuthoringInfo")],De);const Me=De},74400:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(76457);let B=N=class extends v.wq{constructor(ne){super(ne),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new N({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const ne=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${ne}`}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],B.prototype,"minValue",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],B.prototype,"maxValue",void 0),(0,d._)([(0,X.Cb)(k.G)],B.prototype,"symbol",void 0),B=N=(0,d._)([(0,D.j)("esri.renderers.support.ClassBreakInfo")],B);const Q=B},29996:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{DictionaryLoader:()=>ae});var d=p(15861),v=p(91558),X=p(84792),G=p(26584),z=p(63290),Z=p(93961),D=p(62208),k=p(10699),N=p(77275),B=p(46679),Q=p(94398);const ne=z.Z.getLogger("esri.renderers.support.DictionaryLoader"),te={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class ae{constructor(R,U,A){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new Z.Z(100),this.url=R,this.config=U,this.fieldMap=A}getSymbolFields(){return this._symbolFields}getSymbolAsync(R,U){var A=this;return(0,d.Z)(function*(){let V;A._dictionaryPromise||(A._dictionaryPromise=A.fetchResources(U));try{V=yield A._dictionaryPromise}catch(ye){if((0,k.D_)(ye))return A._dictionaryPromise=null,null}const J={};if(A.fieldMap)for(const ye of A._symbolFields){const pe=A.fieldMap[ye];J[ye]=pe&&null!=R.attributes[pe]?""+R.attributes[pe]:""}const Y=V(J,U);if(!Y||"string"!=typeof Y)return null;const oe=(0,N.hP)(Y).toString(),se=A._symbolCache.get(oe);if(se)return se.catch(()=>{A._symbolCache.pop(oe)}),se;const le=Y.split(";"),de=[],q=[];for(const ye of le)if(ye)if(ye.includes("po:")){const pe=ye.substr(3).split("|");if(3===pe.length){const Ce=pe[0],De=pe[1];let Me=pe[2];if("DashTemplate"===De)Me=Me.split(" ").map(ve=>Number(ve));else if("Color"===De){const ve=new v.Z(Me).toRgba();Me=[ve[0],ve[1],ve[2],255*ve[3]]}else Me=Number(Me);q.push({primitiveName:Ce,propertyName:De,value:Me})}}else if(ye.includes("|")){for(const pe of ye.split("|"))if(A._itemNames.has(pe)){de.push(pe);break}}else A._itemNames.has(ye)&&de.push(ye);const ue=!(0,D.pC)(R.geometry)||!R.geometry.hasZ&&"point"===R.geometry.type,ie=A._cimPartsToCIMSymbol(de,q,ue,U);return A._symbolCache.put(oe,ie,1),ie})()}fetchResources(R){var U=this;return(0,d.Z)(function*(){if(U._dictionaryPromise)return U._dictionaryPromise;if(!U.url)return void ne.error("no valid URL!");const A=(0,X.default)(U.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:(0,D.pC)(R)?R.signal:null}),[{data:V}]=yield Promise.all([A,(0,B.LC)()]);if(!V)throw U._dictionaryPromise=null,new G.Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const J=V.expression,Y=V.authoringInfo;U._refSymbolUrlTemplate=U.url+"/"+V.cimRefTemplateUrl,U._itemNames=new Set(V.itemsNames),U._symbolFields=Y.symbol;const oe={};if(U.config){const le=U.config;for(const de in le)oe[de]=le[de]}if(Y.configuration)for(const le of Y.configuration)oe.hasOwnProperty(le.name)||(oe[le.name]=le.value);const se=[];if((0,D.pC)(R)&&R.fields&&U.fieldMap)for(const le of U._symbolFields){const de=U.fieldMap[le],q=R.fields.filter(ue=>ue.name===de);q.length>0&&se.push(Wi(Nn({},q[0]),{name:le}))}return U._dictionaryPromise=(0,B.pp)(J,(0,D.pC)(R)?R.spatialReference:null,se,oe).then(le=>{const de={scale:0};return(q,ue)=>{const ie=le.repurposeFeature({geometry:null,attributes:q});return de.scale=(0,D.pC)(ue)?ue.scale:void 0,le.evaluate({$feature:ie,$view:de})}}).catch(le=>(ne.error("Creating dictinoary expression failed:",le),null)),U._dictionaryPromise})()}_cimPartsToCIMSymbol(R,U,A,V){var J=this;return(0,d.Z)(function*(){const Y=new Array(R.length);for(let le=0;le<R.length;le++)Y[le]=J._getSymbolPart(R[le],V);const oe=yield Promise.all(Y),se=J.fieldMap;for(const le of oe)re(le,se);return new Q.Z({data:J._combineSymbolParts(oe,U,A)})})()}_getSymbolPart(R,U){var A=this;return(0,d.Z)(function*(){if(A._ongoingRequests.has(R))return A._ongoingRequests.get(R).then(Y=>Y.data);const V=A._refSymbolUrlTemplate.replace(/\{itemName\}/gi,R),J=(0,X.default)(V,Nn({responseType:"json",query:{f:"json"}},U));A._ongoingRequests.set(R,J);try{return(yield J).data}catch(Y){throw A._ongoingRequests.delete(R),Y}})()}_combineSymbolParts(R,U,A){if(!R||0===R.length)return null;const V=Nn({},R[0]);if(R.length>1){V.symbolLayers=[];for(const J of R)V.symbolLayers.unshift(...J.symbolLayers)}return A&&(V.callout=te),{type:"CIMSymbolReference",symbol:V,primitiveOverrides:U}}}function re(F,R){if(!F)return;const U=F.symbolLayers;if(!U)return;let A=U.length;for(;A--;){const V=U[A];V&&!1!==V.enable&&"CIMVectorMarker"===V.type&&$(V,R)}}function $(F,R){const U=F.markerGraphics;if(U)for(const A of U){if(!A)continue;const V=A.symbol;if(V)switch(V.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":re(V,R);break;case"CIMTextSymbol":V.fieldMap=R}}}},52372:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(91558),X=p(86810),G=p(77712),D=(p(85931),p(8314),p(90912)),k=p(76898);let B=N=class extends X.wq{constructor(ne){super(ne),this.color=null,this.ratio=null}clone(){return new N({color:this.color,ratio:this.ratio})}};(0,d._)([(0,G.Cb)({type:v.Z,json:{type:[D.z8],default:null,write:!0}})],B.prototype,"color",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],B.prototype,"ratio",void 0),B=N=(0,d._)([(0,k.j)("esri.renderers.support.HeatmapColorStop")],B);const Q=B},10914:(wt,Se,p)=>{"use strict";p.d(Se,{I:()=>N});var k,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.wq{constructor(){super(...arguments),this.title=null}clone(){return new k({title:this.title})}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],N.prototype,"title",void 0),N=k=(0,d._)([(0,D.j)("esri.renderers.support.LegendOptions")],N)},87266:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(86810),X=p(77712),Z=(p(85931),p(8314),p(66656)),D=p(76898),k=p(76457);let B=N=class extends v.wq{constructor(ne){super(ne),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(ne){return null==ne||"string"==typeof ne||"number"==typeof ne?ne:`${ne}`}clone(){return new N({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const ne=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${ne}`}};(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"description",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,d._)([(0,X.Cb)(k.G)],B.prototype,"symbol",void 0),(0,d._)([(0,X.Cb)({json:{type:String,write:{writer:(ne,te)=>{te.value=null==ne?void 0:ne.toString()}}}})],B.prototype,"value",void 0),(0,d._)([(0,Z.p)("value")],B.prototype,"castValue",null),B=N=(0,d._)([(0,D.j)("esri.renderers.support.UniqueValueInfo")],B);const Q=B},76457:(wt,Se,p)=>{"use strict";p.d(Se,{G:()=>Z,K:()=>D});var d=p(65787),v=p(383),X=p(65270),G=p(10012),z=p(89673);const Z={types:d.QT,json:{write:{writer:X.cW},origins:{"web-scene":{types:d.f_,write:{writer:X.cW},read:{reader:(0,v.d)({types:d.f_})}}}}},D={types:{base:G.Z,key:"type",typeMap:{"simple-fill":d.LB.typeMap["simple-fill"],"picture-fill":d.LB.typeMap["picture-fill"],"polygon-3d":d.LB.typeMap["polygon-3d"]}},json:{write:{writer:X.cW},origins:{"web-scene":{type:z.Z,write:{writer:X.cW}}}}}},36859:(wt,Se,p)=>{"use strict";p.d(Se,{AJ:()=>D,If:()=>ae,QM:()=>Q,hy:()=>ne,k0:()=>Z,nu:()=>z,uI:()=>N,wx:()=>re});var d=p(21286),v=p(23841),X=p(993),G=p(4794);const z=2.4;function Z(F){return(0,v.Wz)(F*z)}function D(F){return(0,v.F2)(F)/z}function k(F,R,U,A){let{color:V,ratio:J}=R,{color:Y,ratio:oe}=U;oe===J&&(1===oe?J-=1e-6:oe+=1e-6);const se=(0,d.uZ)((A-J)/(oe-J),0,1);(0,X.l)(F,V.toArray(),Y.toArray(),se)}function N(F){const U=new Uint8ClampedArray(2048);if((F=F.filter(({ratio:oe})=>oe>=0&&oe<=1).sort((oe,se)=>oe.ratio-se.ratio).map(({color:oe,ratio:se})=>({color:oe,ratio:Math.max(se,.001)}))).length<1)return U;let A=F[0],V=F[0],J=1;const Y=(0,G.c)();for(let oe=0;oe<512;oe++){const se=(oe+.5)/512;for(;se>V.ratio&&J<F.length;)A=V,V=F[J++];k(Y,A,V,se),U.set(Y,4*oe)}return U}function Q(F,R,U,A){const{radius:V,fieldOffset:J,field:Y}=R,oe=Math.round((0,v.F2)(V)),se=new Float64Array(U*A);let le,de=Number.NEGATIVE_INFINITY;const q=function $(F,R){return null!=F?"string"==typeof R?U=>-1*+U.readAttribute(F):U=>+U.readAttribute(F)+R:U=>1}(Y,J),ue=new Set;for(const ie of F){const ye=ie.getCursor();for(;ye.next();){const pe=ye.getObjectId();if(ue.has(pe))continue;ue.add(pe);const Ce=ye.readLegacyPointGeometry(),De=128;if(Ce.x<-De||Ce.x>=U+De||Ce.y<-De||Ce.y>A+De)continue;const Me=+q(ye),ve=Math.max(0,Math.round(Ce.x)-oe),Le=Math.max(0,Math.round(Ce.y)-oe),je=Math.min(A,Math.round(Ce.y)+oe),_e=Math.min(U,Math.round(Ce.x)+oe);for(let Re=Le;Re<je;Re++)for(let nt=ve;nt<_e;nt++){const pt=Re*U+nt,Ne=ae(Ce.x-nt,Ce.y-Re,oe);le=se[pt]+=Ne*Me,le>de&&(de=le)}}}return{matrix:se.buffer,max:de}}function ne(F,R,U,A,V,J){F.canvas.width=F.canvas.height=R,F.clearRect(0,0,R,R);const Y=F.getImageData(0,0,R,R);U&&A&&Y.data.set(new Uint8ClampedArray(function te(F,R,U,A,V){const J=new Uint32Array(F*F),Y="buffer"in R?R:new Float64Array(R),oe="buffer"in U?new Uint32Array(U.buffer):new Uint32Array(new Uint8Array(U).buffer),se=oe.length/(V-A);for(let le=0;le<Y.length;le++){const q=Math.floor((Y[le]-A)*se);J[le]=oe[(0,d.uZ)(q,0,oe.length-1)]}return J.buffer}(R,U,A,V,J))),F.putImageData(Y,0,0)}function ae(F,R,U){const A=Math.sqrt(F**2+R**2)/U;return A>1?0:3/(Math.PI*U**2)*(1-A**2)**2}function re(F,R){return"function"==typeof F?F:F?"string"==typeof R?U=>-1*+U[F]:U=>+U[F]+R:()=>1}},33474:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>Z,i:()=>G});var d=p(14889),v=p(383),X=p(32088);function G(D,k){return Z(D,null,k)}const z=(0,v.d)({types:X.A});function Z(D,k,N){return D?D&&(D.styleName||D.styleUrl)&&"uniqueValue"!==D.type?(N&&N.messages&&N.messages.push(new d.Z("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+D.type+"'",{definition:D,context:N})),null):z(D,k,N):null}},21254:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>X});var d=p(16730),v=p(94425);const X={inches:(0,d.En)(1,"meters","inches"),feet:(0,d.En)(1,"meters","feet"),"us-feet":(0,d.En)(1,"meters","us-feet"),yards:(0,d.En)(1,"meters","yards"),miles:(0,d.En)(1,"meters","miles"),"nautical-miles":(0,d.En)(1,"meters","nautical-miles"),millimeters:(0,d.En)(1,"meters","millimeters"),centimeters:(0,d.En)(1,"meters","centimeters"),decimeters:(0,d.En)(1,"meters","decimeters"),meters:(0,d.En)(1,"meters","meters"),kilometers:(0,d.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,d.ty)(1,"meters",v.sv.radius)}},39683:(wt,Se,p)=>{"use strict";p.d(Se,{y:()=>z});var d=p(15861),v=p(59213),X=p(10699),G=p(14889);function z(D,k,N){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(D,k,N){const B=D&&D.getAtOrigin&&D.getAtOrigin("renderer",k.origin);if(B&&"unique-value"===B.type&&B.styleOrigin){const Q=yield(0,v.q6)(B.populateFromStyle());if((0,X.k_)(N),!1===Q.ok){const ne=Q.error;k&&k.messages&&k.messages.push(new G.Z("renderer:style-reference",`Failed to create unique value renderer from style reference: ${ne.message}`,{error:ne,context:k})),D.clear("renderer",k.origin)}}})).apply(this,arguments)}},32088:(wt,Se,p)=>{"use strict";p.d(Se,{A:()=>N,o:()=>B});var d=p(4832),v=p(49067),X=p(96794),G=p(69747),z=p(40425),Z=p(69357),D=p(40342),k=p(14726);const N={key:"type",base:Z.Z,typeMap:{heatmap:G.Z,simple:D.Z,"unique-value":k.Z,"class-breaks":d.Z,"dot-density":X.Z,dictionary:v.Z,"pie-chart":z.Z},errorContext:"renderer"},B={key:"type",base:Z.Z,typeMap:{simple:D.Z,"unique-value":k.Z,"class-breaks":d.Z,heatmap:G.Z},errorContext:"renderer"}},13398:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var B,d=p(17626),v=p(26584),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(99433),N=p(17977);let Q=B=class extends N.Z{constructor(te){super(te),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(te,ae,re,$){$&&$.messages&&$.messages.push(new v.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:$}))}clone(){return new B({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};(0,d._)([(0,X.Cb)({readOnly:!0})],Q.prototype,"cache",null),(0,d._)([(0,X.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Q.prototype,"axis",void 0),(0,d._)([(0,X.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],Q.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Q.prototype,"rotationType",void 0),(0,d._)([(0,X.Cb)({type:String,json:{write:!0}})],Q.prototype,"valueExpressionTitle",void 0),(0,d._)([(0,k.c)("web-scene","valueExpressionTitle")],Q.prototype,"writeValueExpressionTitleWebScene",null),Q=B=(0,d._)([(0,D.j)("esri.renderers.visualVariables.RotationVariable")],Q);const ne=Q},68598:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ue});var F,d=p(17626),v=p(26584),X=p(2076),G=p(63290),z=p(23841),Z=p(77712),N=(p(85931),p(8314),p(66656)),B=p(68653),Q=p(76898),ne=p(99433),te=p(17977),ae=p(64902),$=(p(90912),p(11333));let R=F=class extends $.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new F({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};(0,d._)([(0,Z.Cb)({type:[Number],json:{write:!0}})],R.prototype,"customValues",void 0),R=F=(0,d._)([(0,Q.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],R);const U=R;var J,A=p(86971),V=p(81808);const Y=G.Z.getLogger("esri.renderers.visualVariables.SizeVariable"),oe=new X.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),se=new X.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function le(ie){if(null!=ie)return"string"==typeof ie||"number"==typeof ie?(0,z.t_)(ie):"size"===ie.type?(0,A.iY)(ie)?ie:(delete(ie=Nn({},ie)).type,new q(ie)):void 0}function de(ie,ye,pe){if("object"!=typeof ie)return ie;const Ce=new q;return Ce.read(ie,pe),Ce}let q=J=class extends te.Z{constructor(ie){super(ie),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:V.viewScaleRE.test(this.valueExpression)}}set expression(ie){Y.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===ie?(this.valueExpression="$view.scale",this._set("expression",ie)):this._set("expression",null)}set index(ie){(0,A.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${ie}].maxSize`),(0,A.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${ie}].minSize`),this._set("index",ie)}get inputValueType(){return(0,A.PS)(this)}set maxDataValue(ie){ie&&this.stops&&(Y.warn("cannot set maxDataValue when stops is not null."),ie=null),this._set("maxDataValue",ie)}set maxSize(ie){ie&&this.stops&&(Y.warn("cannot set maxSize when stops is not null."),ie=null),this._set("maxSize",ie)}castMaxSize(ie){return le(ie)}readMaxSize(ie,ye,pe){return de(ie,0,pe)}set minDataValue(ie){ie&&this.stops&&(Y.warn("cannot set minDataValue when stops is not null."),ie=null),this._set("minDataValue",ie)}set minSize(ie){ie&&this.stops&&(Y.warn("cannot set minSize when stops is not null."),ie=null),this._set("minSize",ie)}castMinSize(ie){return le(ie)}readMinSize(ie,ye,pe){return de(ie,0,pe)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(ie){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?ie&&Array.isArray(ie)&&(ie=ie.filter(ye=>!!ye)).sort((ye,pe)=>ye.value-pe.value):ie&&(Y.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),ie=null),this._set("stops",ie)}get transformationType(){return(0,A.QW)(this,this.inputValueType)}readValueExpression(ie,ye){return ie||ye.expression&&"$view.scale"}writeValueExpressionWebScene(ie,ye,pe,Ce){if("$view.scale"===ie){if(Ce&&Ce.messages){const De=this.index;Ce.messages.push(new v.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof De?De:`visualVariables[${De}]`)+".valueExpression",context:Ce}))}}else ye[pe]=ie}readValueUnit(ie){return ie?se.read(ie):null}clone(){return new J({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,A.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,A.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(ie=>ie.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===A.hL.ClampedLinear){const{minSize:ie,maxSize:ye}=this;return this.minSize=ye,this.maxSize=ie,this}if(this.transformationType===A.hL.Stops){const ie=this.stops,ye=ie.map(Ce=>Ce.size).reverse(),pe=ie.length;for(let Ce=0;Ce<pe;Ce++)ie[Ce].size=ye[Ce];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ie=>ie.value||0)}};(0,d._)([(0,Z.Cb)({readOnly:!0})],q.prototype,"cache",null),(0,d._)([(0,Z.Cb)({type:oe.apiValues,json:{type:oe.jsonValues,origins:{"web-map":{read:!1}},read:oe.read,write:oe.write}})],q.prototype,"axis",void 0),(0,d._)([(0,Z.Cb)({type:String,value:null,json:{read:!1}})],q.prototype,"expression",null),(0,d._)([(0,Z.Cb)()],q.prototype,"index",null),(0,d._)([(0,Z.Cb)({type:String,readOnly:!0})],q.prototype,"inputValueType",null),(0,d._)([(0,Z.Cb)({type:U,json:{write:!0}})],q.prototype,"legendOptions",void 0),(0,d._)([(0,Z.Cb)({type:Number,value:null,json:{write:!0}})],q.prototype,"maxDataValue",null),(0,d._)([(0,Z.Cb)({type:Number,value:null,json:{write:!0}})],q.prototype,"maxSize",null),(0,d._)([(0,N.p)("maxSize")],q.prototype,"castMaxSize",null),(0,d._)([(0,B.r)("maxSize")],q.prototype,"readMaxSize",null),(0,d._)([(0,Z.Cb)({type:Number,value:null,json:{write:!0}})],q.prototype,"minDataValue",null),(0,d._)([(0,Z.Cb)({type:Number,value:null,json:{write:!0}})],q.prototype,"minSize",null),(0,d._)([(0,N.p)("minSize")],q.prototype,"castMinSize",null),(0,d._)([(0,B.r)("minSize")],q.prototype,"readMinSize",null),(0,d._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"normalizationField",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],q.prototype,"arcadeRequired",null),(0,d._)([(0,Z.Cb)({type:String})],q.prototype,"scaleBy",void 0),(0,d._)([(0,Z.Cb)({type:[ae.Z],value:null,json:{write:!0}})],q.prototype,"stops",null),(0,d._)([(0,Z.Cb)({type:["outline"],json:{write:!0}})],q.prototype,"target",void 0),(0,d._)([(0,Z.Cb)({type:String,readOnly:!0})],q.prototype,"transformationType",null),(0,d._)([(0,Z.Cb)({type:["size"],json:{type:["sizeInfo"]}})],q.prototype,"type",void 0),(0,d._)([(0,Z.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],q.prototype,"useSymbolValue",void 0),(0,d._)([(0,Z.Cb)({type:String,json:{write:!0}})],q.prototype,"valueExpression",void 0),(0,d._)([(0,B.r)("valueExpression",["valueExpression","expression"])],q.prototype,"readValueExpression",null),(0,d._)([(0,ne.c)("web-scene","valueExpression")],q.prototype,"writeValueExpressionWebScene",null),(0,d._)([(0,Z.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],q.prototype,"valueRepresentation",void 0),(0,d._)([(0,Z.Cb)({type:se.apiValues,json:{write:se.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],q.prototype,"valueUnit",void 0),(0,d._)([(0,B.r)("valueUnit")],q.prototype,"readValueUnit",null),q=J=(0,d._)([(0,Q.j)("esri.renderers.visualVariables.SizeVariable")],q);const ue=q},17977:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var d=p(17626),v=p(2076),X=p(86810),G=p(63290),z=p(77712),k=(p(85931),p(8314),p(66656)),N=p(76898),B=p(90912),Q=p(11333);const ne=G.Z.getLogger("esri.renderers.visualVariables.VisualVariable"),te=new v.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let ae=class extends X.wq{constructor($){super($),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField($){return null==$?$:"function"==typeof $?(ne.error(".field: field must be a string value"),null):(0,B.Zs)($)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,d._)([(0,z.Cb)()],ae.prototype,"index",void 0),(0,d._)([(0,z.Cb)({type:te.apiValues,readOnly:!0,json:{read:te.read,write:te.write}})],ae.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"field",void 0),(0,d._)([(0,k.p)("field")],ae.prototype,"castField",null),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpression",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpressionTitle",void 0),(0,d._)([(0,z.Cb)({readOnly:!0})],ae.prototype,"arcadeRequired",null),(0,d._)([(0,z.Cb)({type:Q.Z,json:{write:!0}})],ae.prototype,"legendOptions",void 0),ae=(0,d._)([(0,N.j)("esri.renderers.visualVariables.VisualVariable")],ae);const re=ae},8029:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var B,d=p(17626),v=p(91558),X=p(86810),G=p(77712),D=(p(85931),p(8314),p(90912)),k=p(76898),N=p(99433);let Q=B=class extends X.wq{constructor(te){super(te),this.color=null,this.label=null,this.value=null}writeValue(te,ae,re){ae[re]=null==te?0:te}clone(){return new B({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,d._)([(0,G.Cb)({type:v.Z,json:{type:[D.z8],write:!0}})],Q.prototype,"color",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Q.prototype,"label",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Q.prototype,"value",void 0),(0,d._)([(0,N.c)("value")],Q.prototype,"writeValue",null),Q=B=(0,d._)([(0,k.j)("esri.renderers.visualVariables.support.ColorStop")],Q);const ne=Q},64902:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(86810),X=p(23841),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898));let B=N=class extends v.wq{constructor(ne){super(ne),this.label=null,this.size=null,this.value=null}clone(){return new N({label:this.label,size:this.size,value:this.value})}};(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],B.prototype,"label",void 0),(0,d._)([(0,G.Cb)({type:Number,cast:X.t_,json:{write:!0}})],B.prototype,"size",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0}})],B.prototype,"value",void 0),B=N=(0,d._)([(0,k.j)("esri.renderers.visualVariables.support.SizeStop")],B);const Q=B},11333:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(10914);let N=k=class extends D.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new k({title:this.title,showLegend:this.showLegend})}};(0,d._)([(0,v.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"showLegend",void 0),N=k=(0,d._)([(0,Z.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],N);const B=N},86971:(wt,Se,p)=>{"use strict";var d,v,D;function X(D){return D&&"esri.renderers.visualVariables.SizeVariable"===D.declaredClass}function G(D){return null!=D&&!isNaN(D)&&isFinite(D)}function z(D){return D.valueExpression?d.Expression:D.field&&"string"==typeof D.field?d.Field:d.Unknown}function Z(D,k){return(k||z(D))===d.Unknown?v.Constant:D.stops?v.Stops:null!=D.minSize&&null!=D.maxSize&&null!=D.minDataValue&&null!=D.maxDataValue?v.ClampedLinear:"unknown"===(D.valueUnit||"unknown")?null!=D.minSize&&null!=D.minDataValue?D.minSize&&D.minDataValue?v.Proportional:v.Additive:v.Identity:v.RealWorldSize}p.d(Se,{PS:()=>z,QW:()=>Z,RY:()=>d,hL:()=>v,iY:()=>X,qh:()=>G}),(D=d||(d={})).Unknown="unknown",D.Expression="expression",D.Field="field",function(D){D.Unknown="unknown",D.Stops="stops",D.ClampedLinear="clamped-linear",D.Proportional="proportional",D.Additive="additive",D.Constant="constant",D.Identity="identity",D.RealWorldSize="real-world-size"}(v||(v={}))},81808:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{getAllSizes:()=>ye,getColor:()=>ne,getOpacity:()=>te,getRotationAngle:()=>ae,getSize:()=>F,getSizeForValue:()=>de,getSizeFromNumberOrVariable:()=>R,getSizeRangeAtScale:()=>q,getVisualVariableValues:()=>ue,viewScaleRE:()=>Q});var d=p(91558),v=p(88879),X=p(94573),G=p(63290),z=p(62208),Z=p(21254),D=p(86971);const k=G.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),N=new v.Z,B=Math.PI,Q=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function ne(pe,Ce,De){const Me="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Ke=>"color"===Ke.type):pe;if(!Me)return;if("esri.renderers.visualVariables.ColorVariable"!==Me.declaredClass)return void k.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const ve="number"==typeof Ce,Le=ve?null:Ce,je=Le&&Le.attributes;let _e=ve?Ce:null;const Re=Me.field,{ipData:nt,hasExpression:pt}=Me.cache;let Ne=Me.cache.compiledFunc;if(!Re&&!pt){const Ke=Me.stops;return Ke&&Ke[0]&&Ke[0].color}if("number"!=typeof _e)if(pt){if((0,z.Wi)(De)||(0,z.Wi)(De.arcade))return void k.error("Use of arcade expressions requires an arcade context");const Fe=De.arcade.arcadeUtils,Ze=Fe.getViewInfo({viewingMode:De.viewingMode,scale:De.scale,spatialReference:De.spatialReference}),ct=Fe.createExecContext(Le,Ze);if(!Ne){const we=Fe.createSyntaxTree(Me.valueExpression);Ne=Fe.createFunction(we),Me.cache.compiledFunc=Ne}_e=Fe.executeFunction(Ne,ct)}else je&&(_e=je[Re]);const xe=Me.normalizationField,Ye=je?parseFloat(je[xe]):void 0;if(null!=_e&&(!xe||ve||!isNaN(Ye)&&0!==Ye)){isNaN(Ye)||ve||(_e/=Ye);const Ke=ie(_e,nt);if(Ke){const Fe=Ke[0],Ze=Ke[1],ct=Fe===Ze?Me.stops[Fe].color:d.Z.blendColors(Me.stops[Fe].color,Me.stops[Ze].color,Ke[2],(0,z.pC)(De)?De.color:void 0);return new d.Z(ct)}}}function te(pe,Ce,De){const Me="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Ke=>"opacity"===Ke.type):pe;if(!Me)return;if("esri.renderers.visualVariables.OpacityVariable"!==Me.declaredClass)return void k.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const ve="number"==typeof Ce,Le=ve?null:Ce,je=Le&&Le.attributes;let _e=ve?Ce:null;const Re=Me.field,{ipData:nt,hasExpression:pt}=Me.cache;let Ne=Me.cache.compiledFunc;if(!Re&&!pt){const Ke=Me.stops;return Ke&&Ke[0]&&Ke[0].opacity}if("number"!=typeof _e)if(pt){if((0,z.Wi)(De)||(0,z.Wi)(De.arcade))return void k.error("Use of arcade expressions requires an arcade context");const Fe=De.arcade.arcadeUtils,Ze=Fe.getViewInfo({viewingMode:De.viewingMode,scale:De.scale,spatialReference:De.spatialReference}),ct=Fe.createExecContext(Le,Ze);if(!Ne){const we=Fe.createSyntaxTree(Me.valueExpression);Ne=Fe.createFunction(we),Me.cache.compiledFunc=Ne}_e=Fe.executeFunction(Ne,ct)}else je&&(_e=je[Re]);const xe=Me.normalizationField,Ye=je?parseFloat(je[xe]):void 0;if(null!=_e&&(!xe||ve||!isNaN(Ye)&&0!==Ye)){isNaN(Ye)||ve||(_e/=Ye);const Ke=ie(_e,nt);if(Ke){const Fe=Ke[0],Ze=Ke[1];if(Fe===Ze)return Me.stops[Fe].opacity;{const ct=Me.stops[Fe].opacity;return ct+(Me.stops[Ze].opacity-ct)*Ke[2]}}}}function ae(pe,Ce,De){const Me="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Ye=>"rotation"===Ye.type):pe;if(!Me)return;if("esri.renderers.visualVariables.RotationVariable"!==Me.declaredClass)return void k.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const ve=Me.axis||"heading",Le="heading"===ve&&"arithmetic"===Me.rotationType?90:0,je="heading"===ve&&"arithmetic"===Me.rotationType?-1:1,_e="number"==typeof Ce?null:Ce,Re=_e&&_e.attributes,nt=Me.field,{hasExpression:pt}=Me.cache;let Ne=Me.cache.compiledFunc,xe=0;if(!nt&&!pt)return xe;if(pt){if((0,z.Wi)(De)||(0,z.Wi)(De.arcade))return void k.error("Use of arcade expressions requires an arcade context");const Ke=De.arcade.arcadeUtils,Fe=Ke.getViewInfo({viewingMode:De.viewingMode,scale:De.scale,spatialReference:De.spatialReference}),Ze=Ke.createExecContext(_e,Fe);if(!Ne){const ct=Ke.createSyntaxTree(Me.valueExpression);Ne=Ke.createFunction(ct),Me.cache.compiledFunc=Ne}xe=Ke.executeFunction(Ne,Ze)}else Re&&(xe=Re[nt]||0);return xe="number"!=typeof xe||isNaN(xe)?null:Le+je*xe,xe}function F(pe,Ce,De){const Me="visualVariables"in pe&&pe.visualVariables?pe.visualVariables.find(Le=>"size"===Le.type):pe;if(!Me)return;if("esri.renderers.visualVariables.SizeVariable"!==Me.declaredClass)return void k.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const ve=de(function re(pe,Ce,De){const Me="number"==typeof Ce,ve=Me?null:Ce,Le=ve&&ve.attributes;let je=Me?Ce:null;const{isScaleDriven:_e}=pe.cache;let Re=pe.cache.compiledFunc;if(_e){const pt=(0,z.pC)(De)?De.scale:void 0,Ne=(0,z.pC)(De)?De.view:void 0;je=null==pt||"3d"===Ne?function $(pe){let Ce=null,De=null;const Me=pe.stops;return Me?(Ce=Me[0].value,De=Me[Me.length-1].value):(Ce=pe.minDataValue||0,De=pe.maxDataValue||0),(Ce+De)/2}(pe):pt}else if(!Me)switch(pe.inputValueType){case D.RY.Expression:{if((0,z.Wi)(De)||(0,z.Wi)(De.arcade))return void k.error("Use of arcade expressions requires an arcade context");const Ne=De.arcade.arcadeUtils,xe=Ne.getViewInfo({viewingMode:De.viewingMode,scale:De.scale,spatialReference:De.spatialReference}),Ye=Ne.createExecContext(ve,xe);if(!Re){const Ke=Ne.createSyntaxTree(pe.valueExpression);Re=Ne.createFunction(Ke),pe.cache.compiledFunc=Re}je=Ne.executeFunction(Re,Ye);break}case D.RY.Field:Le&&(je=Le[pe.field]);break;case D.RY.Unknown:je=null}if(!(0,D.qh)(je))return null;if(Me||!pe.normalizationField)return je;const nt=Le?parseFloat(Le[pe.normalizationField]):null;return(0,D.qh)(nt)&&0!==nt?je/nt:null}(Me,Ce,De),Me,Ce,De,Me.cache.ipData);return null==ve||isNaN(ve)?0:ve}function R(pe,Ce,De){return null==pe?null:(0,D.iY)(pe)?F(pe,Ce,De):(0,D.qh)(pe)?pe:null}function U(pe,Ce,De){return(0,D.qh)(De)&&pe>De?De:(0,D.qh)(Ce)&&pe<Ce?Ce:pe}function de(pe,Ce,De,Me,ve){switch(Ce.transformationType){case D.hL.Additive:return function A(pe,Ce,De,Me){return pe+(R(Ce.minSize,De,Me)||Ce.minDataValue)}(pe,Ce,De,Me);case D.hL.Constant:return function V(pe,Ce,De){const Me=pe.stops;let ve=Me&&Me.length&&Me[0].size;return null==ve&&(ve=pe.minSize),R(ve,Ce,De)}(Ce,De,Me);case D.hL.ClampedLinear:return function J(pe,Ce,De,Me){const ve=(pe-Ce.minDataValue)/(Ce.maxDataValue-Ce.minDataValue),Le=R(Ce.minSize,De,Me),je=R(Ce.maxSize,De,Me),_e=(0,z.pC)(Me)?Me.shape:void 0;if(pe<=Ce.minDataValue)return Le;if(pe>=Ce.maxDataValue)return je;if("area"===Ce.scaleBy&&_e){const Re="circle"===_e,nt=Re?B*(Le/2)**2:Le*Le,pt=nt+ve*((Re?B*(je/2)**2:je*je)-nt);return Re?2*Math.sqrt(pt/B):Math.sqrt(pt)}return Le+ve*(je-Le)}(pe,Ce,De,Me);case D.hL.Proportional:return function Y(pe,Ce,De,Me){const ve=(0,z.pC)(Me)?Me.shape:void 0,Le=pe/Ce.minDataValue,je=R(Ce.minSize,De,Me),_e=R(Ce.maxSize,De,Me);let Re=null;return Re="circle"===ve?2*Math.sqrt(Le*(je/2)**2):"square"===ve||"diamond"===ve||"image"===ve?Math.sqrt(Le*je**2):Le*je,U(Re,je,_e)}(pe,Ce,De,Me);case D.hL.Stops:return function oe(pe,Ce,De,Me,ve){const[Le,je,_e]=ie(pe,ve);if(Le===je)return R(Ce.stops[Le].size,De,Me);{const Re=R(Ce.stops[Le].size,De,Me);return Re+(R(Ce.stops[je].size,De,Me)-Re)*_e}}(pe,Ce,De,Me,ve);case D.hL.RealWorldSize:return function se(pe,Ce,De,Me){const ve=((0,z.pC)(Me)&&Me.resolution?Me.resolution:1)*Z.a[Ce.valueUnit],Le=R(Ce.minSize,De,Me),je=R(Ce.maxSize,De,Me),{valueRepresentation:_e}=Ce;let Re=null;return Re="area"===_e?2*Math.sqrt(pe/B)/ve:"radius"===_e||"distance"===_e?2*pe/ve:pe/ve,U(Re,Le,je)}(pe,Ce,De,Me);case D.hL.Identity:return pe;case D.hL.Unknown:return null}}function q(pe,Ce,De){const{isScaleDriven:Me}=pe.cache;if(!(Me&&"3d"===De||Ce))return null;const ve={scale:Ce,view:De};let Le=R(pe.minSize,N,ve),je=R(pe.maxSize,N,ve);if(null!=Le||null!=je){if(Le>je){const _e=je;je=Le,Le=_e}return{minSize:Le,maxSize:je}}}function ue(pe,Ce,De){if(!pe.visualVariables)return;const Me=[],ve=[],Le=[],je=[],_e=[];for(const Re of pe.visualVariables)switch(Re.type){case"color":ve.push(Re);break;case"opacity":Le.push(Re);break;case"rotation":_e.push(Re);break;case"size":je.push(Re)}return ve.forEach(Re=>{const nt=ne(Re,Ce,De);Me.push({variable:Re,value:nt})}),Le.forEach(Re=>{const nt=te(Re,Ce,De);Me.push({variable:Re,value:nt})}),_e.forEach(Re=>{const nt=ae(Re,Ce,De);Me.push({variable:Re,value:nt})}),je.forEach(Re=>{const nt=F(Re,Ce,De);Me.push({variable:Re,value:nt})}),Me.filter(Re=>null!=Re.value)}function ie(pe,Ce){if(!Ce)return;let De=0,Me=Ce.length-1;return Ce.some((ve,Le)=>pe<ve?(Me=Le,!0):(De=Le,!1)),[De,Me,(pe-Ce[De])/(Ce[Me]-Ce[De])]}function ye(pe,Ce,De){const Me=["proportional","proportional","proportional"];for(const ve of pe){const Le=ve.useSymbolValue?"symbol-value":F(ve,Ce,De);switch(ve.axis){case"width":Me[0]=Le;break;case"depth":Me[1]=Le;break;case"height":Me[2]=Le;break;case"width-and-depth":Me[0]=Le,Me[1]=Le;break;case"all":case void 0:case null:Me[0]=Le,Me[1]=Le,Me[2]=Le;break;default:(0,X.Bg)(ve.axis)}}return Me}},84792:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>ne});var d=p(15861),v=p(59318),X=p(24263),G=p(26584),z=p(8314),Z=p(58817),D=p(62208),k=p(10699),N=p(21726),B=p(12680),Q=p(33899);function ne(Ne,xe){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(Ne,xe){var Je;const Ye=(0,N.HK)(Ne),Ke=(0,N.jc)(Ne);Ke||Ye||(Ne=(0,N.Fv)(Ne));const Fe={url:Ne,requestOptions:Nn({},(0,D.Wg)(xe))};let Ze=(0,N.oh)(Ne);if(Ze){const $e=yield De(Ze,Fe);if(null!=$e)return{data:$e,getHeader:A,requestOptions:Fe.requestOptions,url:Fe.url};Ze.after||Ze.error||(Ze=null)}if(Ne=Fe.url,"image"===(xe=Fe.requestOptions).responseType){if((0,z.Z)("host-webworker")||(0,z.Z)("host-node"))throw oe("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Fe)}else if(Ye)throw oe("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+xe.responseType),Fe);if("head"===xe.method){if(xe.body)throw oe("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Fe);if(Ye||Ke)throw oe("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Fe)}if(yield se(),ae)return ae.execute(Ne,xe);const ct=new AbortController;(0,k.fu)(xe,()=>ct.abort());const we={controller:ct,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:Ze,params:Fe,redoRequest:!1,useIdentity:re.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Be=yield je(we);return null==(Je=null==Ze?void 0:Ze.after)||Je.call(Ze,Be),Be})).apply(this,arguments)}let ae;const re=v.Z.request,$="FormData"in globalThis,F=[499,498,403,401],R=["COM_0056","COM_0057","SB_0008"],U=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],A=()=>null,V=Symbol();function J(Ne){const xe=(0,N.P$)(Ne);xe&&!ne._corsServers.includes(xe)&&ne._corsServers.push(xe)}function Y(Ne){const xe=(0,N.P$)(Ne);return!xe||xe.endsWith(".arcgis.com")||ne._corsServers.includes(xe)||(0,N.kl)(xe)}function oe(Ne,xe,Ye,Ke){let Fe="Error";const Ze={url:Ye.url,requestOptions:Ye.requestOptions,getHeader:A,ssl:!1};if(xe instanceof G.Z)return xe.details?(xe.details=(0,Z.d9)(xe.details),xe.details.url=Ye.url,xe.details.requestOptions=Ye.requestOptions):xe.details=Ze,xe;if(xe){const ct=Ke&&(Je=>Ke.headers.get(Je)),we=Ke&&Ke.status,Be=xe.message;Be&&(Fe=Be),ct&&(Ze.getHeader=ct),Ze.httpStatus=(null!=xe.httpCode?xe.httpCode:xe.code)||we||0,Ze.subCode=xe.subcode,Ze.messageCode=xe.messageCode,Ze.messages="string"==typeof xe.details?[xe.details]:xe.details,Ze.raw=V in xe?xe[V]:xe}return(0,k.D_)(xe)?(0,k.zE)():new G.Z(Ne,Fe,Ze)}function se(){return le.apply(this,arguments)}function le(){return(le=(0,d.Z)(function*(){(0,z.Z)("host-webworker")?ae||(ae=yield p.e(3358).then(p.bind(p,23358))):ne._abortableFetch||(ne._abortableFetch=globalThis.fetch.bind(globalThis))})).apply(this,arguments)}function de(){return q.apply(this,arguments)}function q(){return(q=(0,d.Z)(function*(){X.id||(yield p.e(9058).then(p.bind(p,59058)))})).apply(this,arguments)}function ue(Ne){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(Ne){var we;const xe=Ne.params.url,Ye=Ne.params.requestOptions,Ke=Ne.controller.signal,Fe=Ye.body;let Ze=null,ct=null;if($&&"HTMLFormElement"in globalThis&&(Fe instanceof FormData?Ze=Fe:Fe instanceof HTMLFormElement&&(Ze=new FormData(Fe))),"string"==typeof Fe&&(ct=Fe),Ne.fetchOptions={cache:Ye.cacheBust&&!ne._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:Ye.headers||{},method:"head"===Ye.method?"HEAD":"GET",mode:"cors",priority:re.priority,redirect:"follow",signal:Ke},(Ze||ct)&&(Ne.fetchOptions.body=Ze||ct),"anonymous"===Ye.authMode&&(Ne.useIdentity=!1),Ne.hasToken=!!(/token=/i.test(xe)||(null==(we=Ye.query)?void 0:we.token)||(null==Ze?void 0:Ze.get("token"))),!Ne.hasToken&&v.Z.apiKey&&(0,B.r)(xe)&&(Ye.query||(Ye.query={}),Ye.query.token=v.Z.apiKey,Ne.hasToken=!0),Ne.useIdentity&&!Ne.hasToken&&!Ne.credentialToken&&!ye(xe)&&!(0,k.Hc)(Ke)){let Be;"immediate"===Ye.authMode?(yield de(),Be=yield X.id.getCredential(xe,{signal:Ke}),Ne.credential=Be):"no-prompt"===Ye.authMode?(yield de(),Be=yield X.id.getCredential(xe,{prompt:!1,signal:Ke}).catch(()=>{}),Ne.credential=Be):X.id&&(Be=X.id.findCredential(xe)),Be&&(Ne.credentialToken=Be.token,Ne.useSSL=!!Be.ssl)}})).apply(this,arguments)}function ye(Ne){return U.some(xe=>xe.test(Ne))}function pe(Ne){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(Ne){let xe=Ne.params.url;const Ye=Ne.params.requestOptions,Ke=Ne.fetchOptions,Fe=(0,N.jc)(xe)||(0,N.HK)(xe),Ze=Ye.responseType||"json",ct=Fe?0:null!=Ye.timeout?Ye.timeout:re.timeout;let we=!1;if(!Fe){Ne.useSSL&&(xe=(0,N.hO)(xe)),Ye.cacheBust&&"default"===Ke.cache&&(xe=(0,N.ZN)(xe,"request.preventCache",Date.now()));let mt=Nn({},Ye.query);Ne.credentialToken&&(mt.token=Ne.credentialToken);let Tt=(0,N.B7)(mt);(0,z.Z)("esri-url-encodes-apostrophe")&&(Tt=Tt.replace(/'/g,"%27"));const It=xe.length+1+Tt.length;let Nt;we="delete"===Ye.method||"post"===Ye.method||"put"===Ye.method||!!Ye.body||It>re.maxUrlLength;const Rt=Ye.useProxy||!!(0,N.ed)(xe);if(Rt){const Xe=(0,N.b7)(xe);Nt=Xe.path,!we&&Nt.length+1+It>re.maxUrlLength&&(we=!0),Xe.query&&(mt=Nn(Nn({},Xe.query),mt))}if("HEAD"===Ke.method&&(we||Rt)){if(we)throw oe("request:invalid-parameters",It>re.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),Ne.params);if(Rt)throw oe("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),Ne.params)}if(we?(Ke.method="delete"===Ye.method?"DELETE":"put"===Ye.method?"PUT":"POST",Ye.body?xe=(0,N.fl)(xe,mt):(Ke.body=(0,N.B7)(mt),Ke.headers["Content-Type"]="application/x-www-form-urlencoded")):xe=(0,N.fl)(xe,mt),Rt&&(Ne.useProxy=!0,xe=`${Nt}?${xe}`),mt.token&&$&&Ke.body instanceof FormData&&!/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(xe)&&Ke.body.set("token",mt.token),Ye.hasOwnProperty("withCredentials"))Ne.withCredentials=Ye.withCredentials;else if(!(0,N.D6)(xe,(0,N.TI)()))if((0,N.kl)(xe))Ne.withCredentials=!0;else if(X.id){const Xe=X.id.findServerInfo(xe);Xe&&Xe.webTierAuth&&(Ne.withCredentials=!0)}Ne.withCredentials&&(Ke.credentials="include",(0,Q.jH)(xe)&&(yield(0,Q.jz)(we?(0,N.fl)(xe,mt):xe)))}let Be,Je,$e=0,ot=!1;ct>0&&($e=setTimeout(()=>{ot=!0,Ne.controller.abort()},ct));try{if("native-request-init"===Ye.responseType)Je=Ke,Je.url=xe;else if("image"!==Ye.responseType||"default"!==Ke.cache||"GET"!==Ke.method||we||ve(Ye.headers)||!Fe&&!Ne.useProxy&&re.proxyUrl&&!Y(xe)){if(Be=yield ne._abortableFetch(xe,Ke),Ne.useProxy||J(xe),"native"===Ye.responseType)Je=Be;else if("HEAD"!==Ke.method)if(Be.ok){switch(Ze){case"array-buffer":Je=yield Be.arrayBuffer();break;case"blob":case"image":Je=yield Be.blob();break;default:Je=yield Be.text()}if($e&&(clearTimeout($e),$e=0),"json"===Ze||"xml"===Ze||"document"===Ze)if(Je)switch(Ze){case"json":Je=JSON.parse(Je);break;case"xml":Je=Le(Je,"application/xml");break;case"document":Je=Le(Je,"text/html")}else Je=null;if(Je){if("array-buffer"===Ze||"blob"===Ze){const mt=Be.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(mt)&&Je["blob"===Ze?"size":"byteLength"]<=750)try{const Tt=yield new Response(Je).json();Tt.error&&(Je=Tt)}catch(Tt){}}"image"===Ze&&Je instanceof Blob&&(Je=yield pt(URL.createObjectURL(Je),Ne,!0))}}else Je=yield Be.text()}else Je=yield pt(xe,Ne)}catch(mt){if("AbortError"===mt.name)throw ot?new Error("Timeout exceeded"):(0,k.zE)("Request canceled");if(!(!Be&&mt instanceof TypeError&&re.proxyUrl)||Ye.body||"delete"===Ye.method||"head"===Ye.method||"post"===Ye.method||"put"===Ye.method||Ne.useProxy||Y(xe))throw mt;Ne.redoRequest=!0,(0,N.tD)({proxyUrl:re.proxyUrl,urlPrefix:(0,N.P$)(xe)})}finally{$e&&clearTimeout($e)}return[Be,Je]})).apply(this,arguments)}function De(Ne,xe){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(Ne,xe){if(null!=Ne.responseData)return Ne.responseData;if(Ne.headers&&(xe.requestOptions.headers=Nn(Nn({},xe.requestOptions.headers),Ne.headers)),Ne.query&&(xe.requestOptions.query=Nn(Nn({},xe.requestOptions.query),Ne.query)),Ne.before){let Ye,Ke;try{Ke=yield Ne.before(xe)}catch(Fe){Ye=oe("request:interceptor",Fe,xe)}if((Ke instanceof Error||Ke instanceof G.Z)&&(Ye=oe("request:interceptor",Ke,xe)),Ye)throw Ne.error&&Ne.error(Ye),Ye;return Ke}})).apply(this,arguments)}function ve(Ne){if(Ne)for(const xe of Object.getOwnPropertyNames(Ne))if(Ne[xe])return!0;return!1}function Le(Ne,xe){let Ye;try{Ye=(new DOMParser).parseFromString(Ne,xe)}catch(Ke){}if(!Ye||Ye.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Ye}function je(Ne){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(Ne){var Ze;let xe,Ye;yield ue(Ne);try{do{[xe,Ye]=yield pe(Ne)}while(!(yield Re(Ne,xe,Ye)))}catch(ct){const we=oe("request:server",ct,Ne.params,xe);throw we.details.ssl=Ne.useSSL,Ne.interceptor&&Ne.interceptor.error&&Ne.interceptor.error(we),we}const Ke=Ne.params.url;if(Ye&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Ke)){if(!Ne.hasToken&&!Ne.credentialToken&&(null==(Ze=Ye.user)?void 0:Ze.username)&&!(0,N.kl)(Ke)){const ct=(0,N.P$)(Ke,!0);ct&&re.trustedServers.push(ct)}Array.isArray(Ye.authorizedCrossOriginNoCorsDomains)&&(0,Q.Hu)(Ye.authorizedCrossOriginNoCorsDomains)}const Fe=Ne.credential;if(Fe&&X.id){const ct=X.id.findServerInfo(Fe.server);let we=ct&&ct.owningSystemUrl;if(we){we=we.replace(/\/?$/,"/sharing");const Be=X.id.findCredential(we,Fe.userId);Be&&-1===X.id._getIdenticalSvcIdx(we,Be)&&Be.resources.unshift(we)}}return{data:Ye,getHeader:xe?ct=>xe.headers.get(ct):A,requestOptions:Ne.params.requestOptions,ssl:Ne.useSSL,url:Ne.params.url}})).apply(this,arguments)}function Re(Ne,xe,Ye){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(Ne,xe,Ye){if(Ne.redoRequest)return Ne.redoRequest=!1,!1;const Ke=Ne.params.requestOptions;if(!xe||"native"===Ke.responseType||"native-request-init"===Ke.responseType)return!0;let Fe,Ze,ct,we;if(!xe.ok)throw Fe=new Error(`Unable to load ${xe.url} status: ${xe.status}`),Fe[V]=Ye,Fe;(null==Ye?void 0:Ye.error)&&(Fe=Ye.error),Fe&&(Ze=Number(Fe.code),ct=Fe.hasOwnProperty("subcode")?Number(Fe.subcode):null,we=Fe.messageCode,we=we&&we.toUpperCase());const Be=Ke.authMode;if(403===Ze&&(4===ct||Fe.message&&Fe.message.toLowerCase().includes("ssl")&&!Fe.message.toLowerCase().includes("permission"))){if(!Ne.useSSL)return Ne.useSSL=!0,!1}else if(!Ne.hasToken&&Ne.useIdentity&&("no-prompt"!==Be||498===Ze)&&F.includes(Ze)&&!ye(Ne.params.url)&&(403!==Ze||!R.includes(we)&&(null==ct||2===ct&&Ne.credentialToken))){yield de();try{const Je=yield X.id.getCredential(Ne.params.url,{error:oe("request:server",Fe,Ne.params),prompt:"no-prompt"!==Be,signal:Ne.controller.signal,token:Ne.credentialToken});return Ne.credential=Je,Ne.credentialToken=Je.token,Ne.useSSL=Ne.useSSL||Je.ssl,!1}catch(Je){if("no-prompt"===Be)return Ne.credential=null,Ne.credentialToken=null,!1;Fe=Je}}if(Fe)throw Fe;return!0})).apply(this,arguments)}function pt(Ne,xe,Ye=!1){const Ke=xe.controller.signal,Fe=new Image;return Fe.crossOrigin=xe.withCredentials?"use-credentials":"anonymous",Fe.alt="",Fe.fetchPriority=re.priority,Fe.src=Ne,(0,Q.fY)(Fe,Ne,Ye,Ke)}ne._abortableFetch=null,ne._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},68886:(wt,Se,p)=>{"use strict";p.d(Se,{i:()=>B});var d=p(15861),v=p(84792),X=p(90912),G=p(91179),z=p(2618);function D(ne,te,ae){const re=(0,G.q9)(te);return ne.map($=>{const F=re.fromJSON($);return F.spatialReference=ae,F})}var k=p(77294);const N=(0,X.se)(k.Z);function B(ne,te,ae){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.Z)(function*(ne,te,ae){te=N(te);const re=(0,z.en)(ne),$=Nn(Wi(Nn({},re.query),{f:"json"}),te.toJSON()),F=te.outSpatialReference,R=(0,G.Ji)(te.geometries[0]),U=(0,z.lA)($,ae);return(0,v.default)(re.path+"/project",U).then(({data:{geometries:A}})=>D(A,R,F))})).apply(this,arguments)}},76391:(wt,Se,p)=>{"use strict";function d(v){const X={};for(const G in v){if("declaredClass"===G)continue;const z=v[G];if(null!=z&&"function"!=typeof z)if(Array.isArray(z)){X[G]=[];for(let Z=0;Z<z.length;Z++)X[G][Z]=d(z[Z])}else"object"==typeof z?z.toJSON&&(X[G]=JSON.stringify(z)):X[G]=z}return X}p.d(Se,{A:()=>d})},2865:(wt,Se,p)=>{"use strict";p.d(Se,{F:()=>k,e:()=>Z});var d=p(15861),v=p(2618),X=p(20477),G=p(17253),z=p(84952);function Z(B,Q,ne){return D.apply(this,arguments)}function D(){return(D=(0,d.Z)(function*(B,Q,ne){const te=yield k(B,Q,ne);return G.default.fromJSON(te)})).apply(this,arguments)}function k(B,Q,ne){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(B,Q,ne){const te=(0,v.en)(B),ae=Nn({},ne),re=z.Z.from(Q),{data:$}=yield(0,X.executeQuery)(te,re,re.sourceSpatialReference,ae);return $})).apply(this,arguments)}},20514:(wt,Se,p)=>{"use strict";p.d(Se,{P:()=>z});var d=p(62208),v=p(16730),X=p(37053);function G(k,N,B){if(null==k.hasM||k.hasZ)for(const Q of N)for(const ne of Q)ne.length>2&&(ne[2]*=B)}function z(k,N,B){if(!k&&!N||!B)return;const Q=(0,v._R)(B);Z(k,B,Q),Z(N,B,Q)}function Z(k,N,B){if(k)for(const Q of k)D(Q.geometry,N,B)}function D(k,N,B){if((0,d.Wi)(k)||!k.spatialReference||(0,X.fS)(k.spatialReference,N))return;const Q=(0,v._R)(k.spatialReference)/B;if(1!==Q)if("x"in k)null!=k.z&&(k.z*=Q);else if("rings"in k)G(k,k.rings,Q);else if("paths"in k)G(k,k.paths,Q);else if("points"in k&&(null==k.hasM||k.hasZ))for(const ne of k.points)ne.length>2&&(ne[2]*=Q)}},71260:(wt,Se,p)=>{"use strict";p.d(Se,{G$:()=>J,K9:()=>de,O7:()=>N});var d=p(26584),v=p(62208),X=p(24192),G=p(88071),z=p(98558);const Z=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],D=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],k=["upperLeft","lowerLeft"];function N(q){return q>=Z.length?null:Z[q]}function B(q){return q>=D.length?null:D[q]}function Q(q){return q>=k.length?null:k[q]}function ne(q,ue){return ue>=q.geometryTypes.length?null:q.geometryTypes[ue]}function te(q,ue,ie){const pe=ue.createPointGeometry(ie);for(;q.next();)switch(q.tag()){case 3:{const Ce=q.getUInt32(),De=q.pos()+Ce;let Me=0;for(;q.pos()<De;)ue.addCoordinatePoint(pe,q.getSInt64(),Me++);break}default:q.skip()}return pe}function ae(q,ue,ie){const Ce=ue.createGeometry(ie),De=2+(ie.hasZ?1:0)+(ie.hasM?1:0);for(;q.next();)switch(q.tag()){case 2:{const Me=q.getUInt32(),ve=q.pos()+Me;let Le=0;for(;q.pos()<ve;)ue.addLength(Ce,q.getUInt32(),Le++);break}case 3:{const Me=q.getUInt32(),ve=q.pos()+Me;let Le=0;for(ue.allocateCoordinates(Ce);q.pos()<ve;)ue.addCoordinate(Ce,q.getSInt64(),Le),Le++,Le===De&&(Le=0);break}default:q.skip()}return Ce}function re(q){const pe=new G.Z;let Ce="esriGeometryPoint";for(;q.next();)switch(q.tag()){case 2:{const De=q.getUInt32(),Me=q.pos()+De;for(;q.pos()<Me;)pe.lengths.push(q.getUInt32());break}case 3:{const De=q.getUInt32(),Me=q.pos()+De;for(;q.pos()<Me;)pe.coords.push(q.getSInt64());break}case 1:Ce=z.A[q.getEnum()];break;default:q.skip()}return{queryGeometry:pe,queryGeometryType:Ce}}function $(q){for(;q.next();)switch(q.tag()){case 1:return q.getString();case 2:return q.getFloat();case 3:return q.getDouble();case 4:return q.getSInt32();case 5:return q.getUInt32();case 6:return q.getInt64();case 7:return q.getUInt64();case 8:return q.getSInt64();case 9:return q.getBool();default:return q.skip(),null}return null}function F(q){const Me={type:N(0)};for(;q.next();)switch(q.tag()){case 1:Me.name=q.getString();break;case 2:Me.type=N(q.getEnum());break;case 3:Me.alias=q.getString();break;case 4:Me.sqlType=B(q.getEnum());break;case 5:default:q.skip();break;case 6:Me.defaultValue=q.getString()}return Me}function R(q){const ye={};for(;q.next();)switch(q.tag()){case 1:ye.name=q.getString();break;case 2:ye.isSystemMaintained=q.getBool();break;default:q.skip()}return ye}function U(q,ue,ie,ye){const Me=ue.createFeature(ie);let ve=0;for(;q.next();)switch(q.tag()){case 1:{const Le=ye[ve++].name;Me.attributes[Le]=q.processMessage($);break}case 2:Me.geometry=q.processMessageWithArgs(ae,ue,ie);break;case 4:Me.centroid=q.processMessageWithArgs(te,ue,ie);break;default:q.skip()}return Me}function A(q){const Ce=[1,1,1,1];for(;q.next();)switch(q.tag()){case 1:Ce[0]=q.getDouble();break;case 2:Ce[1]=q.getDouble();break;case 4:Ce[2]=q.getDouble();break;case 3:Ce[3]=q.getDouble();break;default:q.skip()}return Ce}function V(q){const Ce=[0,0,0,0];for(;q.next();)switch(q.tag()){case 1:Ce[0]=q.getDouble();break;case 2:Ce[1]=q.getDouble();break;case 4:Ce[2]=q.getDouble();break;case 3:Ce[3]=q.getDouble();break;default:q.skip()}return Ce}function J(q){const pe={originPosition:Q(0)};for(;q.next();)switch(q.tag()){case 1:pe.originPosition=Q(q.getEnum());break;case 2:pe.scale=q.processMessage(A);break;case 3:pe.translate=q.processMessage(V);break;default:q.skip()}return pe}function Y(q){const pe={};for(;q.next();)switch(q.tag()){case 1:pe.shapeAreaFieldName=q.getString();break;case 2:pe.shapeLengthFieldName=q.getString();break;case 3:pe.units=q.getString();break;default:q.skip()}return pe}function oe(q,ue){const Me=ue.createSpatialReference();for(;q.next();)switch(q.tag()){case 1:Me.wkid=q.getUInt32();break;case 5:Me.wkt=q.getString();break;case 2:Me.latestWkid=q.getUInt32();break;case 3:Me.vcsWkid=q.getUInt32();break;case 4:Me.latestVcsWkid=q.getUInt32();break;default:q.skip()}return Me}function se(q,ue){const Ne=ue.createFeatureResult();Ne.geometryType=ne(ue,0);let xe=!1;for(;q.next();)switch(q.tag()){case 1:Ne.objectIdFieldName=q.getString();break;case 3:Ne.globalIdFieldName=q.getString();break;case 4:Ne.geohashFieldName=q.getString();break;case 5:Ne.geometryProperties=q.processMessage(Y);break;case 7:Ne.geometryType=ne(ue,q.getEnum());break;case 8:Ne.spatialReference=q.processMessageWithArgs(oe,ue);break;case 10:Ne.hasZ=q.getBool();break;case 11:Ne.hasM=q.getBool();break;case 12:Ne.transform=q.processMessage(J);break;case 9:{const Ye=q.getBool();Ne.exceededTransferLimit=Ye;break}case 13:ue.addField(Ne,q.processMessage(F));break;case 15:xe||(ue.prepareFeatures(Ne),xe=!0),ue.addFeature(Ne,q.processMessageWithArgs(U,ue,Ne,Ne.fields));break;case 2:Ne.uniqueIdField=q.processMessage(R);break;default:q.skip()}return ue.finishFeatureResult(Ne),Ne}function le(q,ue){const pe={};let Ce=null;for(;q.next();)switch(q.tag()){case 4:Ce=q.processMessageWithArgs(re);break;case 1:pe.featureResult=q.processMessageWithArgs(se,ue);break;default:q.skip()}return(0,v.pC)(Ce)&&pe.featureResult&&ue.addQueryGeometry(pe,Ce),pe}function de(q,ue){try{const ye=new X.Z(new Uint8Array(q),new DataView(q)),pe={};for(;ye.next();)2===ye.tag()?pe.queryResult=ye.processMessageWithArgs(le,ue):ye.skip();return pe}catch(ie){throw new d.Z("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:ie})}}},98558:(wt,Se,p)=>{"use strict";p.d(Se,{A:()=>Z,J:()=>D});var d=p(16730),v=p(37053),X=p(66385),G=p(95786),z=p(88071);const Z=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class D{constructor(N){this.options=N,this.geometryTypes=Z,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new G.Z}prepareFeatures(N){this._vertexDimension=2,N.hasZ&&this._vertexDimension++,N.hasM&&this._vertexDimension++}finishFeatureResult(N){if(!N||!N.features||!N.hasZ||!this.options.sourceSpatialReference||!N.spatialReference||(0,v.fS)(N.spatialReference,this.options.sourceSpatialReference)||N.spatialReference.vcsWkid)return;const B=(0,d._R)(this.options.sourceSpatialReference)/(0,d._R)(N.spatialReference);if(1!==B)for(const Q of N.features){if(!(0,X.S6)(Q))continue;const ne=Q.geometry.coords;for(let te=2;te<ne.length;te+=3)ne[te]*=B}}addFeature(N,B){N.features.push(B)}createFeature(){return new X.u_}createSpatialReference(){return{wkid:0}}createGeometry(){return new z.Z}addField(N,B){N.fields.push(B)}allocateCoordinates(N){N.coords.length=N.lengths.reduce((B,Q)=>B+Q,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(N,B){N.coords[this._coordinatePtr++]=B}addCoordinatePoint(N,B){N.coords.push(B)}addLength(N,B){N.lengths.push(B)}addQueryGeometry(N,B){N.queryGeometry=B.queryGeometry,N.queryGeometryType=B.queryGeometryType}createPointGeometry(){return new z.Z}}},85262:(wt,Se,p)=>{"use strict";p.d(Se,{C:()=>v});var d=p(71260);function v(X,G){const z=(0,d.K9)(X,G),Z=z.queryResult.featureResult,D=z.queryResult.queryGeometry,k=z.queryResult.queryGeometryType;if(Z&&Z.features&&Z.features.length&&Z.objectIdFieldName){const N=Z.objectIdFieldName;for(const B of Z.features)B.attributes&&(B.objectId=B.attributes[N])}return Z&&(Z.queryGeometry=D,Z.queryGeometryType=k),Z}},20477:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{encodeGeometry:()=>Q,executeQuery:()=>te,executeQueryForCount:()=>U,executeQueryForExtent:()=>A,executeQueryForIds:()=>R,executeQueryPBF:()=>re,executeQueryPBFBuffer:()=>F,queryToQueryStringParameters:()=>ne,runQuery:()=>V});var d=p(15861),v=p(84792),X=p(62208),G=p(21726),z=p(91179),Z=p(13924),D=p(76391),k=p(85262),N=p(61515);const B="Layer does not support extent calculation.";function Q(J,Y){if(Y&&"extent"===J.type)return`${J.xmin},${J.ymin},${J.xmax},${J.ymax}`;if(Y&&"point"===J.type)return`${J.x},${J.y}`;const oe=J.toJSON();return delete oe.spatialReference,JSON.stringify(oe)}function ne(J,Y){const oe=J.geometry,se=J.toJSON();delete se.compactGeometryEnabled,delete se.defaultSpatialReferenceEnabled;const le=se;let de,q,ue;if((0,X.pC)(oe)&&(q=oe.spatialReference,ue=oe.spatialReference.wkid||JSON.stringify(oe.spatialReference),le.geometryType=(0,z.Ji)(oe),le.geometry=Q(oe,J.compactGeometryEnabled),le.inSR=ue),se.groupByFieldsForStatistics&&(le.groupByFieldsForStatistics=se.groupByFieldsForStatistics.join(",")),se.objectIds&&(le.objectIds=se.objectIds.join(",")),se.orderByFields&&(le.orderByFields=se.orderByFields.join(",")),!se.outFields||!se.returnDistinctValues&&((null==Y?void 0:Y.returnCountOnly)||(null==Y?void 0:Y.returnExtentOnly)||(null==Y?void 0:Y.returnIdsOnly))?delete le.outFields:le.outFields=se.outFields.includes("*")?"*":se.outFields.join(","),se.outSR?(le.outSR=se.outSR.wkid||JSON.stringify(se.outSR),de=J.outSpatialReference):oe&&(se.returnGeometry||se.returnCentroid)&&(le.outSR=le.inSR,de=q),se.returnGeometry&&delete se.returnGeometry,se.outStatistics&&(le.outStatistics=JSON.stringify(se.outStatistics)),se.pixelSize&&(le.pixelSize=JSON.stringify(se.pixelSize)),se.quantizationParameters&&(J.defaultSpatialReferenceEnabled&&(0,X.pC)(q)&&(0,X.pC)(J.quantizationParameters)&&(0,X.pC)(J.quantizationParameters.extent)&&q.equals(J.quantizationParameters.extent.spatialReference)&&delete se.quantizationParameters.extent.spatialReference,le.quantizationParameters=JSON.stringify(se.quantizationParameters)),se.parameterValues&&(le.parameterValues=JSON.stringify(se.parameterValues)),se.rangeValues&&(le.rangeValues=JSON.stringify(se.rangeValues)),se.dynamicDataSource&&(le.layer=JSON.stringify({source:se.dynamicDataSource}),delete se.dynamicDataSource),se.timeExtent){const ie=se.timeExtent,{start:ye,end:pe}=ie;null==ye&&null==pe||(le.time=ye===pe?ye:`${null==ye?"null":ye},${null==pe?"null":pe}`),delete se.timeExtent}return J.defaultSpatialReferenceEnabled&&(0,X.pC)(q)&&(0,X.pC)(de)&&q.equals(de)&&(le.defaultSR=le.inSR,delete le.inSR,delete le.outSR),le}function te(J,Y,oe,se){return ae.apply(this,arguments)}function ae(){return(ae=(0,d.Z)(function*(J,Y,oe,se){const le=(0,X.pC)(Y.timeExtent)&&Y.timeExtent.isEmpty?{data:{features:[]}}:yield V(J,Y,"json",se);return(0,N.p)(Y,oe,le.data),le})).apply(this,arguments)}function re(J,Y,oe,se){return $.apply(this,arguments)}function $(){return($=(0,d.Z)(function*(J,Y,oe,se){if((0,X.pC)(Y.timeExtent)&&Y.timeExtent.isEmpty)return{data:oe.createFeatureResult()};const le=yield F(J,Y,se),de=le;return de.data=(0,k.C)(le.data,oe),de})).apply(this,arguments)}function F(J,Y,oe){return V(J,Y,"pbf",oe)}function R(J,Y,oe){return(0,X.pC)(Y.timeExtent)&&Y.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):V(J,Y,"json",oe,{returnIdsOnly:!0})}function U(J,Y,oe){return(0,X.pC)(Y.timeExtent)&&Y.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):V(J,Y,"json",oe,{returnIdsOnly:!0,returnCountOnly:!0})}function A(J,Y,oe){return(0,X.pC)(Y.timeExtent)&&Y.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):V(J,Y,"json",oe,{returnExtentOnly:!0,returnCountOnly:!0}).then(se=>{const le=se.data;if(le.hasOwnProperty("extent"))return se;if(le.features)throw new Error(B);if(le.hasOwnProperty("count"))throw new Error(B);return se})}function V(J,Y,oe,se={},le={}){const de="string"==typeof J?(0,G.mN)(J):J,q=Y.geometry?[Y.geometry]:[];return se.responseType="pbf"===oe?"array-buffer":"json",(0,Z.aX)(q,null,se).then(ue=>{const ie=ue&&ue[0];(0,X.pC)(ie)&&((Y=Y.clone()).geometry=ie);const ye=(0,D.A)(Nn(Nn(Wi(Nn({},de.query),{f:oe}),le),ne(Y,le)));return(0,v.default)((0,G.v_)(de.path,"query"),Wi(Nn({},se),{query:Nn(Nn({},ye),se.query)}))})}},61515:(wt,Se,p)=>{"use strict";p.d(Se,{p:()=>X});var d=p(62208),v=p(33696);function X(G,z,Z){if(!Z||!Z.features||!Z.hasZ)return;const D=(0,v.k)(Z.geometryType,z,G.outSpatialReference);if(!(0,d.Wi)(D))for(const k of Z.features)D(k.geometry)}},87183:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var B,d=p(17626),v=p(86810),X=p(77712),Z=(p(85931),p(8314),p(90912)),D=p(76898);const Q={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let ne=B=class extends v.wq{constructor(ae){super(ae),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:ae}=this,re=function k(ae){const{exifInfo:re,exifName:$,tagName:F}=ae;if(!re||!$||!F)return null;const R=re.find(U=>U.name===$);return R?function N(ae){const{tagName:re,tags:$}=ae;if(!$||!re)return null;const F=$.find(R=>R.name===re);return F&&F.value||null}({tagName:F,tags:R.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:ae});return Q[re]||null}clone(){return new B({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,d._)([(0,X.Cb)({type:String})],ne.prototype,"contentType",void 0),(0,d._)([(0,X.Cb)()],ne.prototype,"exifInfo",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],ne.prototype,"orientationInfo",null),(0,d._)([(0,X.Cb)({type:Z.z8})],ne.prototype,"id",void 0),(0,d._)([(0,X.Cb)({type:String})],ne.prototype,"globalId",void 0),(0,d._)([(0,X.Cb)({type:String})],ne.prototype,"keywords",void 0),(0,d._)([(0,X.Cb)({type:String})],ne.prototype,"name",void 0),(0,d._)([(0,X.Cb)({json:{read:!1}})],ne.prototype,"parentGlobalId",void 0),(0,d._)([(0,X.Cb)({json:{read:!1}})],ne.prototype,"parentObjectId",void 0),(0,d._)([(0,X.Cb)({type:Z.z8})],ne.prototype,"size",void 0),(0,d._)([(0,X.Cb)({json:{read:!1}})],ne.prototype,"url",void 0),ne=B=(0,d._)([(0,D.j)("esri.layers.support.AttachmentInfo")],ne);const te=ne},40251:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(91558),X=p(58817),G=p(77712),z=p(90912),Z=p(55342),D=p(76898),k=p(40669);let B=N=class extends k.Z{constructor(ne){super(ne),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new N({fromColor:(0,X.d9)(this.fromColor),toColor:(0,X.d9)(this.toColor),algorithm:this.algorithm})}};(0,d._)([(0,Z.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],B.prototype,"algorithm",void 0),(0,d._)([(0,G.Cb)({type:v.Z,json:{type:[z.z8],write:!0}})],B.prototype,"fromColor",void 0),(0,d._)([(0,G.Cb)({type:v.Z,json:{type:[z.z8],write:!0}})],B.prototype,"toColor",void 0),(0,d._)([(0,G.Cb)({type:["algorithmic"]})],B.prototype,"type",void 0),B=N=(0,d._)([(0,D.j)("esri.rest.support.AlgorithmicColorRamp")],B);const Q=B},67736:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(86810),X=p(58817),G=p(77712),z=p(90912),Z=p(76898),D=p(99433);let N=k=class extends v.wq{constructor(Q){super(Q),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(Q,ne){ne.resultOffset=this.start,ne.resultRecordCount=this.num||10}clone(){return new k((0,X.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,d._)([(0,G.Cb)({type:[String],json:{write:!0}})],N.prototype,"attachmentTypes",void 0),(0,d._)([(0,G.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],N.prototype,"attachmentsWhere",void 0),(0,d._)([(0,G.Cb)({type:Boolean,json:{write:!0}})],N.prototype,"cacheHint",void 0),(0,d._)([(0,G.Cb)({type:[String],json:{write:!0}})],N.prototype,"keywords",void 0),(0,d._)([(0,G.Cb)({type:[Number],json:{write:!0}})],N.prototype,"globalIds",void 0),(0,d._)([(0,G.Cb)({json:{write:!0}})],N.prototype,"name",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],N.prototype,"num",void 0),(0,d._)([(0,G.Cb)({type:[Number],json:{write:!0}})],N.prototype,"objectIds",void 0),(0,d._)([(0,G.Cb)({type:Boolean,json:{default:!1,write:!0}})],N.prototype,"returnMetadata",void 0),(0,d._)([(0,G.Cb)({type:[Number],json:{write:!0}})],N.prototype,"size",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],N.prototype,"start",void 0),(0,d._)([(0,D.c)("start"),(0,D.c)("num")],N.prototype,"writeStart",null),(0,d._)([(0,G.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],N.prototype,"where",void 0),N=k=(0,d._)([(0,Z.j)("esri.rest.support.AttachmentQuery")],N),N.from=(0,z.se)(N);const B=N},40669:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B),this.type=null}};(0,d._)([(0,X.Cb)({readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.rest.support.ColorRamp")],k);const N=k},17253:(wt,Se,p)=>{"use strict";p.r(Se),p.d(Se,{default:()=>U});var $,d=p(17626),v=p(29132),X=p(88879),G=p(2076),z=p(86810),Z=p(58817),D=p(62208),k=p(77712),B=(p(90912),p(68653)),Q=p(76898),ne=p(99433),te=p(65234),ae=p(91179),re=p(36255);const F=new G.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let R=$=class extends z.wq{constructor(A){super(A),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(A,V){var oe;const J=te.Z.fromJSON(V.spatialReference),Y=[];for(let se=0;se<A.length;se++){const le=A[se],de=X.Z.fromJSON(le),q=le.geometry&&le.geometry.spatialReference;(0,D.pC)(de.geometry)&&!q&&(de.geometry.spatialReference=J);const ue=le.aggregateGeometries,ie=de.aggregateGeometries;if(ue&&(0,D.pC)(ie))for(const ye in ie){const pe=ie[ye],Ce=null==(oe=ue[ye])?void 0:oe.spatialReference;(0,D.pC)(pe)&&!Ce&&(pe.spatialReference=J)}Y.push(de)}return Y}writeGeometryType(A,V,J,Y){if(A)return void F.write(A,V,J,Y);const{features:oe}=this;if(oe)for(const se of oe)if(se&&(0,D.pC)(se.geometry))return void F.write(se.geometry.type,V,J,Y)}readQueryGeometry(A,V){if(!A)return null;const J=!!A.spatialReference,Y=(0,ae.im)(A);return!J&&V.spatialReference&&(Y.spatialReference=te.Z.fromJSON(V.spatialReference)),Y}writeSpatialReference(A,V){if(A)return void(V.spatialReference=A.toJSON());const{features:J}=this;if(J)for(const Y of J)if(Y&&(0,D.pC)(Y.geometry)&&Y.geometry.spatialReference)return void(V.spatialReference=Y.geometry.spatialReference.toJSON())}clone(){return new $(this.cloneProperties())}cloneProperties(){return(0,Z.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(A){const V=this.write();if(V.features&&Array.isArray(A)&&A.length>0)for(let J=0;J<V.features.length;J++){const Y=V.features[J];if(Y.geometry){const oe=A&&A[J];Y.geometry=oe&&oe.toJSON()||Y.geometry}}return V}quantize(A){const{scale:[V,J],translate:[Y,oe]}=A,de=this.features,q=this._getQuantizationFunction(this.geometryType,ue=>Math.round((ue-Y)/V),ue=>Math.round((oe-ue)/J));for(let ue=0,ie=de.length;ue<ie;ue++)q((0,D.Wg)(de[ue].geometry))||(de.splice(ue,1),ue--,ie--);return this.transform=A,this}unquantize(){const{geometryType:A,features:V,transform:J}=this;if(!J)return this;const{translate:[Y,oe],scale:[se,le]}=J,ue=this._getHydrationFunction(A,ie=>ie*se+Y,ie=>oe-ie*le);for(const{geometry:ie}of V)(0,D.pC)(ie)&&ue(ie);return this.transform=null,this}_quantizePoints(A,V,J){let Y,oe;const se=[];for(let le=0,de=A.length;le<de;le++){const q=A[le];if(le>0){const ue=V(q[0]),ie=J(q[1]);ue===Y&&ie===oe||(se.push([ue-Y,ie-oe]),Y=ue,oe=ie)}else Y=V(q[0]),oe=J(q[1]),se.push([Y,oe])}return se.length>0?se:null}_getQuantizationFunction(A,V,J){return"point"===A?Y=>(Y.x=V(Y.x),Y.y=J(Y.y),Y):"polyline"===A||"polygon"===A?Y=>{const oe=(0,ae.oU)(Y)?Y.rings:Y.paths,se=[];for(let le=0,de=oe.length;le<de;le++){const ue=this._quantizePoints(oe[le],V,J);ue&&se.push(ue)}return se.length>0?((0,ae.oU)(Y)?Y.rings=se:Y.paths=se,Y):null}:"multipoint"===A?Y=>{const oe=this._quantizePoints(Y.points,V,J);return oe.length>0?(Y.points=oe,Y):null}:"extent"===A?Y=>Y:null}_getHydrationFunction(A,V,J){return"point"===A?Y=>{Y.x=V(Y.x),Y.y=J(Y.y)}:"polyline"===A||"polygon"===A?Y=>{const oe=(0,ae.oU)(Y)?Y.rings:Y.paths;let se,le;for(let de=0,q=oe.length;de<q;de++){const ue=oe[de];for(let ie=0,ye=ue.length;ie<ye;ie++){const pe=ue[ie];ie>0?(se+=pe[0],le+=pe[1]):(se=pe[0],le=pe[1]),pe[0]=V(se),pe[1]=J(le)}}}:"extent"===A?Y=>{Y.xmin=V(Y.xmin),Y.ymin=J(Y.ymin),Y.xmax=V(Y.xmax),Y.ymax=J(Y.ymax)}:"multipoint"===A?Y=>{const oe=Y.points;let se,le;for(let de=0,q=oe.length;de<q;de++){const ue=oe[de];de>0?(se+=ue[0],le+=ue[1]):(se=ue[0],le=ue[1]),ue[0]=V(se),ue[1]=J(le)}}:void 0}};(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],R.prototype,"displayFieldName",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:A=>({enabled:A})}}})],R.prototype,"exceededTransferLimit",void 0),(0,d._)([(0,k.Cb)({type:[X.Z],json:{write:!0}})],R.prototype,"features",void 0),(0,d._)([(0,B.r)("features")],R.prototype,"readFeatures",null),(0,d._)([(0,k.Cb)({type:[re.Z],json:{write:!0}})],R.prototype,"fields",void 0),(0,d._)([(0,k.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:F.read}}})],R.prototype,"geometryType",void 0),(0,d._)([(0,ne.c)("geometryType")],R.prototype,"writeGeometryType",null),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:A=>({enabled:A})}}})],R.prototype,"hasM",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:A=>({enabled:A})}}})],R.prototype,"hasZ",void 0),(0,d._)([(0,k.Cb)({types:v.qM,json:{write:!0}})],R.prototype,"queryGeometry",void 0),(0,d._)([(0,B.r)("queryGeometry")],R.prototype,"readQueryGeometry",null),(0,d._)([(0,k.Cb)({type:te.Z,json:{write:!0}})],R.prototype,"spatialReference",void 0),(0,d._)([(0,ne.c)("spatialReference")],R.prototype,"writeSpatialReference",null),(0,d._)([(0,k.Cb)({json:{write:!0}})],R.prototype,"transform",void 0),R=$=(0,d._)([(0,Q.j)("esri.rest.support.FeatureSet")],R),R.prototype.toJSON.isDefaultToJSON=!0;const U=R},75414:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(58817),X=p(77712),z=(p(90912),p(76898)),Z=p(40251),D=p(40669);let N=k=class extends D.Z{constructor(Q){super(Q),this.colorRamps=null,this.type="multipart"}clone(){return new k({colorRamps:(0,v.d9)(this.colorRamps)})}};(0,d._)([(0,X.Cb)({type:[Z.Z],json:{write:!0}})],N.prototype,"colorRamps",void 0),(0,d._)([(0,X.Cb)({type:["multipart"]})],N.prototype,"type",void 0),N=k=(0,d._)([(0,z.j)("esri.rest.support.MultipartColorRamp")],N);const B=N},77294:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(91179);let N=class extends v.wq{constructor(Q){super(Q),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const Q=this.geometries.map(ae=>ae.toJSON()),ne=this.geometries[0],te={};return te.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),te.inSR=ne.spatialReference.wkid||JSON.stringify(ne.spatialReference.toJSON()),te.geometries=JSON.stringify({geometryType:(0,k.Ji)(ne),geometries:Q}),this.transformation&&(te.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(te.transformForward=this.transformForward),te}};(0,d._)([(0,X.Cb)()],N.prototype,"geometries",void 0),(0,d._)([(0,X.Cb)({json:{read:{source:"outSR"}}})],N.prototype,"outSpatialReference",void 0),(0,d._)([(0,X.Cb)()],N.prototype,"transformation",void 0),(0,d._)([(0,X.Cb)()],N.prototype,"transformForward",void 0),N=(0,d._)([(0,D.j)("esri.rest.support.ProjectParameters")],N);const B=N},89621:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var B,d=p(17626),X=(p(29132),p(2076)),G=p(86810),z=p(58817),Z=p(77712),k=(p(90912),p(76898)),N=p(2004);const Q=new X.X({upperLeft:"upper-left",lowerLeft:"lower-left"});let ne=B=class extends G.wq{constructor(ae){super(ae),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new B((0,z.d9)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,d._)([(0,Z.Cb)({type:N.Z,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],ne.prototype,"extent",void 0),(0,d._)([(0,Z.Cb)({type:["view","edit"],json:{write:!0}})],ne.prototype,"mode",void 0),(0,d._)([(0,Z.Cb)({type:String,json:{read:Q.read,write:Q.write}})],ne.prototype,"originPosition",void 0),(0,d._)([(0,Z.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],ne.prototype,"tolerance",void 0),ne=B=(0,d._)([(0,k.j)("esri.rest.support.QuantizationParameters")],ne);const te=ne},84952:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>oe});var A,d=p(17626),v=p(29132),X=p(97478),G=p(2076),z=p(86810),Z=p(58817),D=p(62208),k=p(77712),N=p(66656),B=p(55342),Q=p(76898),ne=p(99433),te=p(90912),ae=p(91179),re=p(15283),$=p(89621),F=p(60776),R=p(65234),U=p(49672);const V=new G.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),J=new G.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Y=A=class extends z.wq{constructor(se){super(se),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(se){return(0,te.TJ)(A,se)}castDatumTransformation(se){return"number"==typeof se||"object"==typeof se?se:null}writeHistoricMoment(se,le){le.historicMoment=se&&se.getTime()}writeParameterValues(se,le){if(se){const de={};for(const q in se){const ue=se[q];de[q]=Array.isArray(ue)?ue.map(ie=>ie instanceof Date?ie.getTime():ie):ue instanceof Date?ue.getTime():ue}le.parameterValues=de}}writeStart(se,le){le.resultOffset=this.start,le.resultRecordCount=this.num||10,le.where="1=1"}writeWhere(se,le){le.where=se||"1=1"}clone(){return new A((0,Z.d9)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,D.pC)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Y.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,d._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"aggregateIds",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],Y.prototype,"cacheHint",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"compactGeometryEnabled",void 0),(0,d._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"datumTransformation",void 0),(0,d._)([(0,N.p)("datumTransformation")],Y.prototype,"castDatumTransformation",null),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"defaultSpatialReferenceEnabled",void 0),(0,d._)([(0,k.Cb)({type:Number,json:{write:{overridePolicy:se=>({enabled:se>0})}}})],Y.prototype,"distance",void 0),(0,d._)([(0,k.Cb)({type:re.n,json:{write:!0}})],Y.prototype,"dynamicDataSource",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"formatOf3DObjects",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"gdbVersion",void 0),(0,d._)([(0,k.Cb)({types:v.qM,json:{read:ae.im,write:!0}})],Y.prototype,"geometry",void 0),(0,d._)([(0,k.Cb)({type:Number,json:{write:!0}})],Y.prototype,"geometryPrecision",void 0),(0,d._)([(0,k.Cb)({type:[String],json:{write:!0}})],Y.prototype,"groupByFieldsForStatistics",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"having",void 0),(0,d._)([(0,k.Cb)({type:Date})],Y.prototype,"historicMoment",void 0),(0,d._)([(0,ne.c)("historicMoment")],Y.prototype,"writeHistoricMoment",null),(0,d._)([(0,k.Cb)({type:Number,json:{write:!0}})],Y.prototype,"maxAllowableOffset",void 0),(0,d._)([(0,k.Cb)({type:Number,cast:se=>se<1?1:se>A.MAX_MAX_RECORD_COUNT_FACTOR?A.MAX_MAX_RECORD_COUNT_FACTOR:se,json:{write:{overridePolicy:se=>({enabled:se>1})}}})],Y.prototype,"maxRecordCountFactor",void 0),(0,d._)([(0,k.Cb)({type:["xyFootprint"],json:{write:!0}})],Y.prototype,"multipatchOption",void 0),(0,d._)([(0,k.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],Y.prototype,"num",void 0),(0,d._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"objectIds",void 0),(0,d._)([(0,k.Cb)({type:[String],json:{write:!0}})],Y.prototype,"orderByFields",void 0),(0,d._)([(0,k.Cb)({type:[String],json:{write:!0}})],Y.prototype,"outFields",void 0),(0,d._)([(0,k.Cb)({type:R.Z,json:{name:"outSR",write:!0}})],Y.prototype,"outSpatialReference",void 0),(0,d._)([(0,k.Cb)({type:[F.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:(0,D.pC)(this.outStatistics)&&this.outStatistics.length>0}}}}})],Y.prototype,"outStatistics",void 0),(0,d._)([(0,k.Cb)({json:{write:!0}})],Y.prototype,"parameterValues",void 0),(0,d._)([(0,ne.c)("parameterValues")],Y.prototype,"writeParameterValues",null),(0,d._)([(0,k.Cb)({type:U.Z,json:{write:!0}})],Y.prototype,"pixelSize",void 0),(0,d._)([(0,k.Cb)({type:$.Z,json:{write:!0}})],Y.prototype,"quantizationParameters",void 0),(0,d._)([(0,k.Cb)({type:[Object],json:{write:!0}})],Y.prototype,"rangeValues",void 0),(0,d._)([(0,k.Cb)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],Y.prototype,"relationParameter",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"resultType",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnCentroid",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnDistinctValues",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!0,write:!0}})],Y.prototype,"returnExceededLimitFeatures",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:!0}})],Y.prototype,"returnGeometry",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnQueryGeometry",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"returnM",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{write:{overridePolicy:se=>({enabled:se})}}})],Y.prototype,"returnZ",void 0),(0,d._)([(0,k.Cb)({type:R.Z,json:{write:!0}})],Y.prototype,"sourceSpatialReference",void 0),(0,d._)([(0,B.J)(V,{ignoreUnknown:!1,name:"spatialRel"})],Y.prototype,"spatialRelationship",void 0),(0,d._)([(0,k.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],Y.prototype,"start",void 0),(0,d._)([(0,ne.c)("start"),(0,ne.c)("num")],Y.prototype,"writeStart",null),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"sqlFormat",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:!0}})],Y.prototype,"text",void 0),(0,d._)([(0,k.Cb)({type:X.Z,json:{write:!0}})],Y.prototype,"timeExtent",void 0),(0,d._)([(0,k.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"timeReferenceUnknownClient",void 0),(0,d._)([(0,B.J)(J,{ignoreUnknown:!1}),(0,k.Cb)({json:{write:{overridePolicy(se){return{enabled:se&&this.distance>0}}}}})],Y.prototype,"units",void 0),(0,d._)([(0,k.Cb)({type:String,json:{write:{overridePolicy(se){return{enabled:null!=se||this.start>0}}}}})],Y.prototype,"where",void 0),(0,d._)([(0,ne.c)("where")],Y.prototype,"writeWhere",null),Y=A=(0,d._)([(0,Q.j)("esri.rest.support.Query")],Y);const oe=Y},67010:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var Q,d=p(17626),X=(p(29132),p(86810)),G=p(58817),z=p(77712),Z=p(90912),D=p(76898),k=p(99433),N=p(15283),B=p(65234);let ne=Q=class extends X.wq{constructor(ae){super(ae),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(ae,re){re.historicMoment=ae&&ae.getTime()}writeStart(ae,re){re.resultOffset=this.start,re.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(re.definitionExpression="1=1")}clone(){return new Q((0,G.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],ne.prototype,"cacheHint",void 0),(0,d._)([(0,z.Cb)({type:N.n,json:{write:!0}})],ne.prototype,"dynamicDataSource",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ne.prototype,"gdbVersion",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ne.prototype,"geometryPrecision",void 0),(0,d._)([(0,z.Cb)({type:Date})],ne.prototype,"historicMoment",void 0),(0,d._)([(0,k.c)("historicMoment")],ne.prototype,"_writeHistoricMoment",null),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ne.prototype,"maxAllowableOffset",void 0),(0,d._)([(0,z.Cb)({type:[Number],json:{write:!0}})],ne.prototype,"objectIds",void 0),(0,d._)([(0,z.Cb)({type:[String],json:{write:!0}})],ne.prototype,"orderByFields",void 0),(0,d._)([(0,z.Cb)({type:[String],json:{write:!0}})],ne.prototype,"outFields",void 0),(0,d._)([(0,z.Cb)({type:B.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ne.prototype,"outSpatialReference",void 0),(0,d._)([(0,z.Cb)({json:{write:!0}})],ne.prototype,"relationshipId",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],ne.prototype,"start",void 0),(0,d._)([(0,k.c)("start"),(0,k.c)("num")],ne.prototype,"writeStart",null),(0,d._)([(0,z.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],ne.prototype,"num",void 0),(0,d._)([(0,z.Cb)({json:{write:!0}})],ne.prototype,"returnGeometry",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:{overridePolicy:ae=>({enabled:ae})}}})],ne.prototype,"returnM",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:{overridePolicy:ae=>({enabled:ae})}}})],ne.prototype,"returnZ",void 0),(0,d._)([(0,z.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ne.prototype,"where",void 0),ne=Q=(0,d._)([(0,D.j)("esri.rest.support.RelationshipQuery")],ne),ne.from=(0,Z.se)(ne);const te=ne},60776:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var N,d=p(17626),v=p(2076),X=p(86810),G=p(58817),z=p(77712),D=(p(90912),p(76898)),k=p(99433);const B=new v.X({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Q=N=class extends X.wq{constructor(te){super(te),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(te,ae){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(ae.statisticParameters=(0,G.d9)(te))}clone(){return new N({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,G.d9)(this.statisticParameters)})}};(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maxPointCount",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maxRecordCount",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maxVertexCount",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Q.prototype,"onStatisticField",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],Q.prototype,"outStatisticFieldName",void 0),(0,d._)([(0,z.Cb)({type:String,json:{read:{source:"statisticType",reader:B.read},write:{target:"statisticType",writer:B.write}}})],Q.prototype,"statisticType",void 0),(0,d._)([(0,z.Cb)({type:Object})],Q.prototype,"statisticParameters",void 0),(0,d._)([(0,k.c)("statisticParameters")],Q.prototype,"writeStatisticParameters",null),Q=N=(0,d._)([(0,D.j)("esri.rest.support.StatisticDefinition")],Q);const ne=Q},6871:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>J});var ae,d=p(17626),v=p(29132),X=p(97478),G=p(2076),z=p(86810),Z=p(58817),D=p(77712),k=p(90912),N=p(76898),B=p(99433),Q=p(91179);p(85931),p(8314);let re=ae=class extends z.wq{constructor(Y){super(Y),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new ae({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,d._)([(0,D.Cb)({type:[String],json:{write:!0}})],re.prototype,"groupByFields",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{write:!0}})],re.prototype,"topCount",void 0),(0,d._)([(0,D.Cb)({type:[String],json:{write:!0}})],re.prototype,"orderByFields",void 0),re=ae=(0,d._)([(0,N.j)("esri.rest.support.TopFilter")],re);const $=re;var R,F=p(65234);const U=new G.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),A=new G.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let V=R=class extends z.wq{constructor(Y){super(Y),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(Y,oe){oe.resultOffset=this.start,oe.resultRecordCount=this.num||10}clone(){return new R((0,Z.d9)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,d._)([(0,D.Cb)({type:Boolean,json:{write:!0}})],V.prototype,"cacheHint",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{write:{overridePolicy:Y=>({enabled:Y>0})}}})],V.prototype,"distance",void 0),(0,d._)([(0,D.Cb)({types:v.qM,json:{read:Q.im,write:!0}})],V.prototype,"geometry",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{write:!0}})],V.prototype,"geometryPrecision",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{write:!0}})],V.prototype,"maxAllowableOffset",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],V.prototype,"num",void 0),(0,d._)([(0,D.Cb)({json:{write:!0}})],V.prototype,"objectIds",void 0),(0,d._)([(0,D.Cb)({type:[String],json:{write:!0}})],V.prototype,"orderByFields",void 0),(0,d._)([(0,D.Cb)({type:[String],json:{write:!0}})],V.prototype,"outFields",void 0),(0,d._)([(0,D.Cb)({type:F.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],V.prototype,"outSpatialReference",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:!0}})],V.prototype,"resultType",void 0),(0,d._)([(0,D.Cb)({json:{write:!0}})],V.prototype,"returnGeometry",void 0),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],V.prototype,"returnM",void 0),(0,d._)([(0,D.Cb)({type:Boolean,json:{write:{overridePolicy:Y=>({enabled:Y})}}})],V.prototype,"returnZ",void 0),(0,d._)([(0,D.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],V.prototype,"start",void 0),(0,d._)([(0,B.c)("start"),(0,B.c)("num")],V.prototype,"writeStart",null),(0,d._)([(0,D.Cb)({type:String,json:{read:{source:"spatialRel",reader:U.read},write:{target:"spatialRel",writer:U.write}}})],V.prototype,"spatialRelationship",void 0),(0,d._)([(0,D.Cb)({type:X.Z,json:{write:!0}})],V.prototype,"timeExtent",void 0),(0,d._)([(0,D.Cb)({type:$,json:{write:!0}})],V.prototype,"topFilter",void 0),(0,d._)([(0,D.Cb)({type:String,json:{read:A.read,write:{writer:A.write,overridePolicy(Y){return{enabled:Y&&this.distance>0}}}}})],V.prototype,"units",void 0),(0,d._)([(0,D.Cb)({type:String,json:{write:!0}})],V.prototype,"where",void 0),V=R=(0,d._)([(0,N.j)("esri.rest.support.TopFeaturesQuery")],V),V.from=(0,k.se)(V);const J=V},79023:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>G,i:()=>z});var d=p(40251),v=p(40669),X=p(75414);const G={key:"type",base:v.Z,typeMap:{algorithmic:d.Z,multipart:X.Z}};function z(Z){return Z&&Z.type?"algorithmic"===Z.type?d.Z.fromJSON(Z):"multipart"===Z.type?X.Z.fromJSON(Z):null:null}},74722:(wt,Se,p)=>{"use strict";p.d(Se,{q:()=>d});const d={type:String,json:{read:{source:"token"},write:{target:"token"}}}},2618:(wt,Se,p)=>{"use strict";p.d(Se,{cv:()=>z,en:()=>G,lA:()=>X});var d=p(58817),v=p(21726);function X(Z,D){return D?Wi(Nn({},D),{query:Nn(Nn({},Z),D.query)}):{query:Z}}function G(Z){return"string"==typeof Z?(0,v.mN)(Z):(0,d.d9)(Z)}function z(Z,D,k){const N={};for(const B in Z){if("declaredClass"===B)continue;const Q=Z[B];if(null!=Q&&"function"!=typeof Q)if(Array.isArray(Q)){N[B]=[];for(let ne=0;ne<Q.length;ne++)N[B][ne]=z(Q[ne])}else if("object"==typeof Q)if(Q.toJSON){const ne=Q.toJSON(k&&k[B]);N[B]=D?ne:JSON.stringify(ne)}else N[B]=D?Q:JSON.stringify(Q);else N[B]=Q}return N}},51815:(wt,Se,p)=>{"use strict";p.d(Se,{J:()=>Q});var d=p(17626),v=p(88879),G=(p(63290),p(90912)),k=(p(85931),p(8314),p(82255),p(61039)),N=p(76898),B=p(28705);let Q=class extends B.a{_own(ne){ne.layer&&"remove"in ne.layer&&ne.layer!==this.owner&&ne.layer.remove(ne),ne.layer=this.owner}_release(ne){ne.layer===this.owner&&(ne.layer=null)}};(0,d._)([(0,k.c)({Type:v.Z,ensureType:(0,G.se)(v.Z)})],Q.prototype,"itemType",void 0),Q=(0,d._)([(0,N.j)("esri.support.GraphicsCollection")],Q)},6432:(wt,Se,p)=>{"use strict";p.d(Se,{K:()=>ae});var d=p(17626),v=p(74333),X=p(89726),G=p(63290),z=p(10699),Z=p(77712),B=(p(85931),p(8314),p(90912),p(76898)),Q=p(44917);function ne(re,$,F){let R,U;if(re)for(let A=0,V=re.length;A<V;A++){if(R=re.getItemAt(A),R[$]===F)return R;if("group"===(null==R?void 0:R.type)&&(U=ne(R.layers,$,F),U))return U}}const te=G.Z.getLogger("esri.support.LayersMixin"),ae=re=>{let $=class extends re{constructor(...F){super(...F),this.layers=new v.Z;const U=V=>{V.parent=this,this.layerAdded(V),"elevation"!==V.type&&"base-elevation"!==V.type||te.error(`Layer 'title:${V.title}, id:${V.id}' of type '${V.type}' is not supported as an operational layer and will therefore be ignored.`)},A=V=>{V.parent=null,this.layerRemoved(V)};this.layers.on("before-add",V=>(V=>{V.parent&&"remove"in V.parent&&V.parent.remove(V)})(V.item)),this.layers.on("after-add",V=>U(V.item)),this.layers.on("after-remove",V=>A(V.item))}destroy(){const F=this.layers.removeAll();for(const R of F)this.layerRemoved(R),R.destroy();this.layers.destroy()}set layers(F){this._set("layers",(0,X.Z)(F,this._get("layers")))}add(F,R){const U=this.layers;if(R=U.getNextIndex(R),F instanceof Q.Z){const A=F;A.parent===this?this.reorder(A,R):U.add(A,R)}else(0,z.y8)(F)?F.then(A=>{this.destroyed||this.add(A,R)}):te.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(F,R){const U=this.layers;R=U.getNextIndex(R),F.slice().forEach(A=>{A.parent!==this?(U.add(A,R),R+=1):this.reorder(A,R)})}findLayerById(F){return ne(this.layers,"id",F)}findLayerByUid(F){return ne(this.layers,"uid",F)}remove(F){return this.layers.remove(F)}removeMany(F){return this.layers.removeMany(F)}removeAll(){return this.layers.removeAll()}reorder(F,R){return this.layers.reorder(F,R)}layerAdded(F){}layerRemoved(F){}};return(0,d._)([(0,Z.Cb)()],$.prototype,"layers",null),$=(0,d._)([(0,B.j)("esri.support.LayersMixin")],$),$}},6119:(wt,Se,p)=>{"use strict";p.d(Se,{Q:()=>te});var d=p(17626),v=p(74333),X=p(89726),G=p(63290),z=p(77712),N=(p(85931),p(8314),p(90912),p(76898));const B="esri.support.TablesMixin",Q=G.Z.getLogger(B);function ne(ae,re,$){if(ae)for(let F=0,R=ae.length;F<R;F++){const U=ae.getItemAt(F);if(U[re]===$)return U;if("group"===(null==U?void 0:U.type)){const A=ne(U.tables,re,$);if(A)return A}}}const te=ae=>{let re=class extends ae{constructor(...$){super(...$),this.tables=new v.Z,this.tables.on("after-add",F=>{const R=F.item;R.parent&&R.parent!==this&&"tables"in R.parent&&R.parent.tables.remove(R),R.parent=this,"feature"!==R.type&&Q.error(`Layer 'title:${R.title}, id:${R.id}' of type '${R.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",F=>{F.item.parent=null})}destroy(){const $=this.tables.removeAll();for(const F of $)F.destroy();this.tables.destroy()}set tables($){this._set("tables",(0,X.Z)($,this._get("tables")))}findTableById($){return ne(this.tables,"id",$)}findTableByUid($){return ne(this.tables,"uid",$)}};return(0,d._)([(0,z.Cb)()],re.prototype,"tables",null),re=(0,d._)([(0,N.j)(B)],re),re}},59397:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(14517),X=p(61996),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898));let B=N=class extends((0,X.IG)(v.Z)){constructor(ne){super(ne),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new N({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,d._)([(0,G.Cb)()],B.prototype,"active",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"className",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"disabled",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"id",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"indicator",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"title",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"type",void 0),(0,d._)([(0,G.Cb)()],B.prototype,"visible",void 0),B=N=(0,d._)([(0,k.j)("esri.support.actions.ActionBase")],B);const Q=B},48753:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(59397);let N=k=class extends D.Z{constructor(Q){super(Q),this.image=null,this.type="button"}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,d._)([(0,v.Cb)()],N.prototype,"image",void 0),N=k=(0,d._)([(0,Z.j)("esri.support.Action.ActionButton")],N);const B=N},10671:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var k,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(59397);let N=k=class extends D.Z{constructor(Q){super(Q),this.image=null,this.type="toggle",this.value=!1}clone(){return new k({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,d._)([(0,v.Cb)()],N.prototype,"image",void 0),(0,d._)([(0,v.Cb)()],N.prototype,"value",void 0),N=k=(0,d._)([(0,Z.j)("esri.support.Action.ActionToggle")],N);const B=N},12680:(wt,Se,p)=>{"use strict";p.d(Se,{r:()=>G});var d=p(21726);const v=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function G(z){const Z=(0,d.P$)(z,!0);return Z&&Z.endsWith(".arcgis.com")&&!v.includes(Z)&&!z.endsWith("/sharing/rest/generateToken")}},46679:(wt,Se,p)=>{"use strict";p.d(Se,{LC:()=>Z,WW:()=>D,Yi:()=>k,mz:()=>Q,pp:()=>B});var d=p(15861),X=(p(29132),p(62208)),G=p(65234);let z;function Z(){return z||(z=(0,d.Z)(function*(){const ne=yield p.e(5068).then(p.bind(p,75068));return{arcade:ne.arcade,arcadeUtils:ne,Dictionary:ne.Dictionary,Feature:ne.arcadeFeature}})()),z}const D=(ne,te,ae)=>Q.create(ne,te,ae,null,["$feature"]),k=(ne,te,ae)=>Q.create(ne,te,ae,null,["$feature","$view"]),B=(ne,te,ae,re)=>Q.create(ne,te,ae,re,["$feature","$view"]);class Q{constructor(te,ae,re,$,F,R,U,A){this.script=te,this.evaluate=F;const V=Array.isArray(U)?U:U.fields;this.fields=V,this._syntaxTree=$,this._arcade=ae,this._arcadeDictionary=re,this._arcadeFeature=R,this._spatialReference=A,this._referencesGeometry=ae.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(te,ae,re,$,F,R){return(0,d.Z)(function*(){const{arcade:U,Feature:A,Dictionary:V}=yield Z(),J=G.Z.fromJSON(ae),Y=U.parseScript(te,R),oe=F.reduce((Ce,De)=>Wi(Nn({},Ce),{[De]:null}),{});let se=null;(0,X.pC)($)&&(se=new V($),se.immutable=!0,oe.$config=null);const le=U.scriptUsesGeometryEngine(Y)&&U.enableGeometrySupport(),de=U.scriptUsesFeatureSet(Y)&&U.enableFeatureSetSupport(),q=U.scriptIsAsync(Y)&&U.enableAsyncSupport(),ue={vars:oe,spatialReference:J,useAsync:!!q},ie=new V;ie.immutable=!1,ie.setField("scale",0);const ye=U.compileScript(Y,ue);return yield Promise.all([le,de,q]),new Q(te,U,V,Y,Ce=>("$view"in Ce&&Ce.$view&&(ie.setField("scale",Ce.$view.scale),Ce.$view=ie),se&&(Ce.$config=se),ye({vars:Ce,spatialReference:J})),new A,re,J)})()}repurposeFeature(te){return te.geometry&&!te.geometry.spatialReference&&(te.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(te.geometry,te.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(te){return this._arcade.referencesMember(this._syntaxTree,te)}referencesFunction(te){return this._arcade.referencesFunction(this._syntaxTree,te)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},33954:(wt,Se,p)=>{"use strict";p.d(Se,{g:()=>G,s:()=>Z});var d=p(15861),v=p(54346),X=p(41840);function G(D){return z.apply(this,arguments)}function z(){return(z=(0,d.Z)(function*(D){if(!D)return;const k=D.includes("-vector")?D.slice(0,D.indexOf("-vector")):D,N=yield(0,X.ME)("esri/t9n/basemaps");return N[D]||N[k]})).apply(this,arguments)}const Z={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,v.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},38953:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>v});var d=p(46882);function v(X){return new d.Z({getCollections:()=>[X.tables,X.layers],getChildrenFunction:G=>{const z=[];return"tables"in G&&z.push(G.tables),"layers"in G&&z.push(G.layers),z},itemFilterFunction:G=>{const z=G.parent;return z&&"tables"in z&&z.tables.includes(G)}})}},49430:(wt,Se,p)=>{"use strict";p.d(Se,{eZ:()=>ae});var d=p(73281),v=p(36630),X=p(55664),D=(p(55013),p(16615),p(82561),p(75484)),B=(p(64531),p(501),p(25621)),Q=p(66845);const ne=["oid","global-id"],te=["oid","global-id","guid"];function ae({displayField:q,editFieldsInfo:ue,fields:ie,objectIdField:ye,title:pe},Ce){if(!ie)return null;const De=function J({editFieldsInfo:q,fields:ue,objectIdField:ie},ye){return function F(q,ue){const ie=q;return ue&&(q=q.filter(ye=>!ue.includes(ye.type))),q===ie&&(q=q.slice()),q.sort(R),q}(ue,(null==ye?void 0:ye.ignoreFieldTypes)||de).map(pe=>new B.Z({fieldName:pe.name,isEditable:A(pe,q),label:pe.alias,format:Y(pe),visible:$(pe,{editFieldsInfo:q,objectIdField:ie,visibleFieldNames:null==ye?void 0:ye.visibleFieldNames})}))}({editFieldsInfo:ue,fields:ie,objectIdField:ye},Ce);if(!De.length)return null;const Me=function se(q){const ue=(0,v.O5)(q),{titleBase:ie}=q;return ue?`${ie}: {${ue.trim()}}`:ie}({titleBase:pe,fields:ie,displayField:q}),ve=function oe(){return[new D.Z,new X.Z]}();return new d.Z({title:Me,content:ve,fieldInfos:De})}const re=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],$=(q,{editFieldsInfo:ue,objectIdField:ie,visibleFieldNames:ye})=>ye?ye.has(q.name):!(U(q.name,ue)||ie&&q.name===ie||ne.includes(q.type)||re.some(pe=>pe.test(q.name)));function R(q,ue){return"oid"===q.type?-1:"oid"===ue.type?1:le(q)?-1:le(ue)?1:(q.alias||q.name).toLocaleLowerCase().localeCompare((ue.alias||ue.name).toLocaleLowerCase())}function U(q,ue){if(!q||!ue)return!1;const{creationDateField:ie,creatorField:ye,editDateField:pe,editorField:Ce}=ue;return[ie&&ie.toLowerCase(),ye&&ye.toLowerCase(),pe&&pe.toLowerCase(),Ce&&Ce.toLowerCase()].includes(q.toLowerCase())}function A(q,ue){return q.editable&&!te.includes(q.type)&&!U(q.name,ue)}function Y(q){switch(q.type){case"small-integer":case"integer":case"single":return new Q.Z({digitSeparator:!0,places:0});case"double":return new Q.Z({digitSeparator:!0,places:2});case"date":return new Q.Z({dateFormat:"long-month-day-year"});default:return"string"===q.type&&(0,v.Ec)(q.name)?new Q.Z({digitSeparator:!0,places:0}):null}}function le(q){return"name"===(q.name&&q.name.toLowerCase())||"name"===(q.alias&&q.alias.toLowerCase())||void 0}const de=["geometry","blob","raster","guid","xml"]},33899:(wt,Se,p)=>{"use strict";p.d(Se,{Hu:()=>N,fY:()=>D,jH:()=>B,jz:()=>Q});var d=p(15861),v=p(59318),X=p(8314),G=p(62208),z=p(10699),Z=p(21726);function D(te,ae,re=!1,$){return new Promise((F,R)=>{if((0,z.Hc)($))return void R(k());let U=()=>{J(),R(new Error(`Unable to load ${ae}`))},A=()=>{const Y=te;J(),F(Y)},V=()=>{if(!te)return;const Y=te;J(),Y.src="",R(k())};const J=()=>{(0,X.Z)("esri-image-decode")||(te.removeEventListener("error",U),te.removeEventListener("load",A)),U=null,A=null,te=null,(0,G.pC)($)&&$.removeEventListener("abort",V),V=null,re&&URL.revokeObjectURL(ae)};(0,G.pC)($)&&$.addEventListener("abort",V),(0,X.Z)("esri-image-decode")?te.decode().then(A,U):(te.addEventListener("error",U),te.addEventListener("load",A))})}function k(){try{return new DOMException("Aborted","AbortError")}catch(te){const ae=new Error;return ae.name="AbortError",ae}}function N(te){v.Z.request.crossOriginNoCorsDomains||(v.Z.request.crossOriginNoCorsDomains={});const ae=v.Z.request.crossOriginNoCorsDomains;for(let re of te)re=re.toLowerCase(),/^https?:\/\//.test(re)?ae[(0,Z.P$)(re)]=0:(ae[(0,Z.P$)("http://"+re)]=0,ae[(0,Z.P$)("https://"+re)]=0)}function B(te){const ae=v.Z.request.crossOriginNoCorsDomains;if(ae){let re=(0,Z.P$)(te);if(re)return re=re.toLowerCase(),!(0,Z.D6)(re,(0,Z.TI)())&&ae[re]<Date.now()-36e5}return!1}function Q(te){return ne.apply(this,arguments)}function ne(){return(ne=(0,d.Z)(function*(te){var $;const ae=v.Z.request.crossOriginNoCorsDomains;ae&&(ae[(0,Z.P$)(te).toLowerCase()]=Date.now());const re=(0,Z.mN)(te);te=re.path,"json"===(null==($=re.query)?void 0:$.f)&&(te+="?f=json");try{yield fetch(te,{mode:"no-cors",credentials:"include"})}catch(F){}})).apply(this,arguments)}},38365:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>v,r:()=>d});const d="20220630",v="5a46844c5ac1b721521da79fb0304de9e8457e2c"},65787:(wt,Se,p)=>{"use strict";p.d(Se,{se:()=>Tt,cT:()=>Ke,dU:()=>Fe,S9:()=>we,LB:()=>Ze,AH:()=>ct,yK:()=>Je,S6:()=>mt,QT:()=>Be,f_:()=>ot});var A,d=p(90912),v=p(383),X=p(94398),z=(p(65499),p(48575)),Z=p(9260),N=(p(11472),p(26531),p(22490)),B=p(40445),te=(p(21068),p(46735),p(17626)),ae=p(74333),re=p(58817),$=p(77712),F=p(55342),R=p(76898),U=p(39368);const V=ae.Z.ofType({base:null,key:"type",typeMap:{fill:Z.Z}});let J=A=class extends U.Z{constructor(It){super(It),this.symbolLayers=new V,this.type="mesh-3d"}clone(){return new A({styleOrigin:(0,re.d9)(this.styleOrigin),symbolLayers:(0,re.d9)(this.symbolLayers),thumbnail:(0,re.d9)(this.thumbnail)})}};(0,te._)([(0,$.Cb)({type:V})],J.prototype,"symbolLayers",void 0),(0,te._)([(0,F.J)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],J.prototype,"type",void 0),J=A=(0,te._)([(0,R.j)("esri.symbols.MeshSymbol3D")],J);const Y=J;p(2066),p(69147);var q,le=p(23841),de=p(69738);let ue=q=class extends z.Z{constructor(...It){super(...It),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(It,Nt,Rt,Xe){if(It&&"string"!=typeof It&&null==It.imageData)return It;const vt={};return It&&(vt.url=It),Nt&&(vt.outline=Nt),null!=Rt&&(vt.width=(0,le.t_)(Rt)),null!=Xe&&(vt.height=(0,le.t_)(Xe)),vt}clone(){const It=new q({color:(0,re.d9)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return It._set("source",(0,re.d9)(this.source)),It}hash(){var It;return`${super.hash()}.${null==(It=this.color)?void 0:It.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,te._)([(0,F.J)({esriPFS:"picture-fill"},{readOnly:!0})],ue.prototype,"type",void 0),(0,te._)([(0,$.Cb)(de.KA)],ue.prototype,"url",void 0),(0,te._)([(0,$.Cb)({type:Number,json:{write:!0}})],ue.prototype,"xscale",void 0),(0,te._)([(0,$.Cb)({type:Number,json:{write:!0}})],ue.prototype,"yscale",void 0),(0,te._)([(0,$.Cb)({type:Number,cast:le.t_,json:{write:!0}})],ue.prototype,"width",void 0),(0,te._)([(0,$.Cb)({type:Number,cast:le.t_,json:{write:!0}})],ue.prototype,"height",void 0),(0,te._)([(0,$.Cb)({type:Number,cast:le.t_,json:{write:!0}})],ue.prototype,"xoffset",void 0),(0,te._)([(0,$.Cb)({type:Number,cast:le.t_,json:{write:!0}})],ue.prototype,"yoffset",void 0),(0,te._)([(0,$.Cb)(de.Ds)],ue.prototype,"source",void 0),ue=q=(0,te._)([(0,R.j)("esri.symbols.PictureFillSymbol")],ue);const ie=ue;var ye=p(13546),pe=p(69852),Ce=p(89673),De=p(88493),Me=p(52068),ve=p(57213),Le=p(10012),_e=(p(97665),p(35540)),pt=(p(21716),p(72622),p(12874));function Ke(It){if(!It)return!1;switch(It.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Fe(It){if(!It)return!1;switch(It.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}p(17497),p(71530);const Ze={base:Le.Z,key:"type",typeMap:{"simple-fill":De.Z,"picture-fill":ie,"picture-marker":ye.Z,"simple-line":Me.Z,"simple-marker":ve.Z,text:_e.Z,"label-3d":N.Z,"line-3d":B.Z,"mesh-3d":Y,"point-3d":pe.Z,"polygon-3d":Ce.Z,"web-style":pt.Z,cim:X.Z},errorContext:"symbol"},ct={base:Le.Z,key:"type",typeMap:{"picture-marker":ye.Z,"simple-marker":ve.Z,text:_e.Z,"web-style":pt.Z,cim:X.Z},errorContext:"symbol"},we=(0,v.d)({types:Ze}),Be={base:Le.Z,key:"type",typeMap:{"simple-fill":De.Z,"picture-fill":ie,"picture-marker":ye.Z,"simple-line":Me.Z,"simple-marker":ve.Z,text:_e.Z,"line-3d":B.Z,"mesh-3d":Y,"point-3d":pe.Z,"polygon-3d":Ce.Z,"web-style":pt.Z,cim:X.Z},errorContext:"symbol"},Je={base:Le.Z,key:"type",typeMap:{text:_e.Z,"label-3d":N.Z},errorContext:"symbol"},ot={base:Le.Z,key:"type",typeMap:{"line-3d":B.Z,"mesh-3d":Y,"point-3d":pe.Z,"polygon-3d":Ce.Z,"web-style":pt.Z,cim:X.Z},errorContext:"symbol"},mt={base:Le.Z,key:"type",typeMap:{"label-3d":N.Z},errorContext:"symbol"},Tt=(0,d.N7)(Ze)},94398:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var te,d=p(15861),v=p(17626),X=p(58817),G=p(77275),z=p(77712),D=(p(90912),p(55342)),k=p(68653),N=p(76898),B=p(99433),Q=p(36630),ne=p(10012);let ae=te=class extends ne.Z{constructor($){super($),this.data=null,this.type="cim"}readData($,F){return F}writeData($,F){if($)for(const R in $)F[R]=$[R]}collectRequiredFields($,F){var R=this;return(0,d.Z)(function*(){if("CIMSymbolReference"===R.data.type){const U=R.data.primitiveOverrides;if(U){const A=U.map(V=>(0,Q.io)($,F,V.valueExpressionInfo.expression));yield Promise.all(A)}}})()}clone(){return new te({data:(0,X.d9)(this.data)})}hash(){return(0,G.hP)(JSON.stringify(this.data)).toString()}};(0,v._)([(0,z.Cb)({json:{write:!1}})],ae.prototype,"color",void 0),(0,v._)([(0,z.Cb)({json:{write:!0}})],ae.prototype,"data",void 0),(0,v._)([(0,k.r)("data",["symbol"])],ae.prototype,"readData",null),(0,v._)([(0,B.c)("data",{})],ae.prototype,"writeData",null),(0,v._)([(0,D.J)({CIMSymbolReference:"cim"},{readOnly:!0})],ae.prototype,"type",void 0),ae=te=(0,v._)([(0,N.j)("esri.symbols.CIMSymbol")],ae);const re=ae},65499:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var ne,d=p(17626),v=p(62208),X=p(77712),D=(p(85931),p(8314),p(90912),p(55342)),k=p(76898),N=p(97665),B=p(89441),Q=p(64830);let te=ne=class extends N.Z{constructor(re){super(re),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new ne({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,v.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};(0,d._)([(0,D.J)({Extrude:"extrude"},{readOnly:!0})],te.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],te.prototype,"size",void 0),(0,d._)([(0,X.Cb)({type:Q.b,json:{write:!0}})],te.prototype,"material",void 0),(0,d._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],te.prototype,"castShadows",void 0),(0,d._)([(0,X.Cb)(B.Z)],te.prototype,"edges",void 0),te=ne=(0,d._)([(0,k.j)("esri.symbols.ExtrudeSymbol3DLayer")],te);const ae=te},48575:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(52068),k=p(10012);let N=class extends k.Z{constructor(Q){super(Q),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};(0,d._)([(0,v.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":D.Z}},json:{default:null,write:!0}})],N.prototype,"outline",void 0),(0,d._)([(0,v.Cb)({type:["simple-fill","picture-fill"],readOnly:!0})],N.prototype,"type",void 0),N=(0,d._)([(0,Z.j)("esri.symbols.FillSymbol")],N);const B=N},9260:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ue});var R,d=p(17626),v=p(62208),X=p(77712),D=(p(85931),p(8314),p(90912),p(55342)),k=p(76898),N=p(97665),B=p(89441),Q=p(63743),ne=p(153),te=p(99255),ae=p(12948),F=(p(63290),p(82255),p(64830));let U=R=class extends F.b{constructor(ie){super(ie),this.colorMixMode=null}clone(){const ie={color:(0,v.pC)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new R(ie)}};(0,d._)([(0,D.J)({multiply:"multiply",replace:"replace",tint:"tint"})],U.prototype,"colorMixMode",void 0),U=R=(0,d._)([(0,k.j)("esri.symbols.support.Symbol3DFillMaterial")],U);var se,A=p(91558),V=p(86810),J=p(23841),Y=p(60958),oe=p(43652);let le=se=class extends V.wq{constructor(ie){super(ie),this.color=new A.Z([0,0,0,1]),this.size=(0,J.Wz)(1),this.pattern=null,this.patternCap="butt"}clone(){const ie={color:(0,v.pC)(this.color)?this.color.clone():null,size:this.size,pattern:(0,v.pC)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new se(ie)}};var de;(0,d._)([(0,X.Cb)(Y.a)],le.prototype,"color",void 0),(0,d._)([(0,X.Cb)(Y.y)],le.prototype,"size",void 0),(0,d._)([(0,X.Cb)(te.D)],le.prototype,"pattern",void 0),(0,d._)([(0,X.Cb)({type:oe.Hc,json:{default:"butt",write:{overridePolicy(){return{enabled:(0,v.pC)(this.pattern)}}}}})],le.prototype,"patternCap",void 0),le=se=(0,d._)([(0,k.j)("esri.symbols.support.Symbol3DOutline")],le);let q=de=class extends N.Z{constructor(ie){super(ie),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const ie={edges:(0,v.pC)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,v.pC)(this.material)?this.material.clone():null,pattern:(0,v.pC)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,v.pC)(this.outline)?this.outline.clone():null};return new de(ie)}static fromSimpleFillSymbol(ie){var Ce,De,Me,ve,Le,je;const ye=ie.outline&&ie.outline.style&&"inside-frame"!==ie.outline.style&&"solid"!==ie.outline.style?new Q.Z({style:ie.outline.style}):null,pe={size:null!=(De=null==(Ce=ie.outline)?void 0:Ce.width)?De:0,color:(null!=(ve=null==(Me=ie.outline)?void 0:Me.color)?ve:ae.ix).clone(),pattern:ye};return ye&&(null==(Le=ie.outline)?void 0:Le.cap)&&(pe.patternCap=ie.outline.cap),new de({material:new U({color:(null!=(je=ie.color)?je:ae.l9).clone()}),pattern:ie.style&&"solid"!==ie.style?new ne.Z({style:ie.style}):null,outline:pe})}};(0,d._)([(0,D.J)({Fill:"fill"},{readOnly:!0})],q.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:U,json:{write:!0}})],q.prototype,"material",void 0),(0,d._)([(0,X.Cb)(te.q)],q.prototype,"pattern",void 0),(0,d._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],q.prototype,"castShadows",void 0),(0,d._)([(0,X.Cb)({type:le,json:{write:!0}})],q.prototype,"outline",void 0),(0,d._)([(0,X.Cb)(B.Z)],q.prototype,"edges",void 0),q=de=(0,d._)([(0,k.j)("esri.symbols.FillSymbol3DLayer")],q);const ue=q},11472:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var B,d=p(17626),v=p(86810),X=p(23841),G=p(77712),D=(p(85931),p(8314),p(66656)),k=p(76898),N=p(50369);let Q=B=class extends v.wq{constructor(te){super(te),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(te){return(0,X.t_)(te)}clone(){return new B({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,d._)([(0,G.Cb)({type:N.JT,json:{default:"none",write:!0}})],Q.prototype,"decoration",void 0),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Q.prototype,"family",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:{overridePolicy:(te,ae,re)=>({enabled:!re||!re.textSymbol3D})}}})],Q.prototype,"size",void 0),(0,d._)([(0,D.p)("size")],Q.prototype,"castSize",null),(0,d._)([(0,G.Cb)({type:N.g6,json:{default:"normal",write:!0}})],Q.prototype,"style",void 0),(0,d._)([(0,G.Cb)({type:N.vC,json:{default:"normal",write:!0}})],Q.prototype,"weight",void 0),Q=B=(0,d._)([(0,k.j)("esri.symbols.Font")],Q);const ne=Q},26531:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ue});var U,d=p(17626),v=p(63290),X=p(62208),G=p(21726),z=p(77712),N=(p(85931),p(8314),p(90912),p(55342)),B=p(76898),Q=p(97665),ne=p(12948),te=p(33215),ae=p(60958),re=p(37519),$=p(91558),F=p(86810),R=p(23841);let A=U=class extends F.wq{constructor(ie){super(ie),this.color=new $.Z([0,0,0,1]),this.size=(0,R.Wz)(1)}clone(){const ie={color:(0,X.pC)(this.color)?this.color.clone():null,size:this.size};return new U(ie)}};(0,d._)([(0,z.Cb)(ae.a)],A.prototype,"color",void 0),(0,d._)([(0,z.Cb)(ae.y)],A.prototype,"size",void 0),A=U=(0,d._)([(0,B.j)("esri.symbols.support.Symbol3DIconOutline")],A);var J,V=p(64830);const Y=v.Z.getLogger("esri.symbols.IconSymbol3DLayer");let oe=J=class extends Q.Z{constructor(ie){super(ie),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new J({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,X.pC)(this.material)?this.material.clone():null,outline:(0,X.pC)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(ie){const ye=ie.color||ne.ix,pe=se(ie),Ce=ie.outline&&ie.outline.width>0?{size:ie.outline.width,color:(ie.outline.color||ne.ix).clone()}:null;return new J({size:ie.size,resource:{primitive:q(ie.style)},material:{color:ye},outline:Ce,anchor:pe?"relative":void 0,anchorPosition:pe})}static fromPictureMarkerSymbol(ie){const ye=!ie.color||(0,ne.rx)(ie.color)?ne.ix:ie.color,pe=se(ie);return new J({size:ie.width<=ie.height?ie.height:ie.width,resource:{href:ie.url},material:{color:ye.clone()},anchor:pe?"relative":void 0,anchorPosition:pe})}static fromCIMSymbol(ie){return new J({resource:{href:(0,G._l)({mediaType:"application/json",data:JSON.stringify(ie.data)})}})}};function se(ie){const ye="width"in ie?ie.width:ie.size,pe="height"in ie?ie.height:ie.size,Ce=le(ie.xoffset),De=le(ie.yoffset);return(Ce||De)&&ye&&pe?{x:-Ce/ye,y:De/pe}:null}function le(ie){return isFinite(ie)?ie:0}(0,d._)([(0,z.Cb)({type:V.b,json:{write:!0}})],oe.prototype,"material",void 0),(0,d._)([(0,z.Cb)({type:te.b,json:{write:!0}})],oe.prototype,"resource",void 0),(0,d._)([(0,N.J)({Icon:"icon"},{readOnly:!0})],oe.prototype,"type",void 0),(0,d._)([(0,z.Cb)(ae.y)],oe.prototype,"size",void 0),(0,d._)([(0,N.J)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,z.Cb)({json:{default:"center"}})],oe.prototype,"anchor",void 0),(0,d._)([(0,z.Cb)({type:re.e,json:{type:[Number],read:{reader:ie=>new re.e({x:ie[0],y:ie[1]})},write:{writer:(ie,ye)=>{ye.anchorPosition=[ie.x,ie.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],oe.prototype,"anchorPosition",void 0),(0,d._)([(0,z.Cb)({type:A,json:{write:!0}})],oe.prototype,"outline",void 0),oe=J=(0,d._)([(0,B.j)("esri.symbols.IconSymbol3DLayer")],oe);const de={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function q(ie){return de[ie]||(Y.warn(`${ie} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const ue=oe},22490:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var ne,d=p(17626),v=p(74333),X=p(58817),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(39368),N=p(21716),B=p(9824),Q=p(97595);const te=v.Z.ofType({base:null,key:"type",typeMap:{text:N.Z}});let ae=ne=class extends k.Z{constructor($){super($),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new te,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,B.gv)(this)}hasVisibleVerticalOffset(){return(0,B.Uy)(this)}clone(){return new ne({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail),callout:(0,X.d9)(this.callout),verticalOffset:(0,X.d9)(this.verticalOffset)})}static fromTextSymbol($){return new ne({symbolLayers:[N.Z.fromTextSymbol($)]})}};(0,d._)([(0,G.Cb)({type:Q._,json:{write:!0}})],ae.prototype,"verticalOffset",void 0),(0,d._)([(0,G.Cb)(B.Y2)],ae.prototype,"callout",void 0),(0,d._)([(0,G.Cb)({json:{read:!1,write:!1}})],ae.prototype,"styleOrigin",void 0),(0,d._)([(0,G.Cb)({type:te})],ae.prototype,"symbolLayers",void 0),(0,d._)([(0,Z.J)({LabelSymbol3D:"label-3d"},{readOnly:!0})],ae.prototype,"type",void 0),ae=ne=(0,d._)([(0,D.j)("esri.symbols.LabelSymbol3D")],ae);const re=ae},40445:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var Q,d=p(17626),v=p(74333),X=p(58817),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(21068),N=p(69147),B=p(39368);const ne=v.Z.ofType({base:null,key:"type",typeMap:{line:k.Z,path:N.Z}}),te=v.Z.ofType({base:null,key:"type",typeMap:{line:k.Z,path:N.Z}});let ae=Q=class extends B.Z{constructor($){super($),this.symbolLayers=new ne,this.type="line-3d"}clone(){return new Q({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}static fromSimpleLineSymbol($){return new Q({symbolLayers:[k.Z.fromSimpleLineSymbol($)]})}};(0,d._)([(0,G.Cb)({type:ne,json:{type:te}})],ae.prototype,"symbolLayers",void 0),(0,d._)([(0,Z.J)({LineSymbol3D:"line-3d"},{readOnly:!0})],ae.prototype,"type",void 0),ae=Q=(0,d._)([(0,D.j)("esri.symbols.LineSymbol3D")],ae);const re=ae},21068:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>se});var d=p(17626),v=p(62208),X=p(23841),G=p(77712),D=(p(85931),p(8314),p(90912)),k=p(55342),N=p(76898),B=p(91558),Q=p(79608),ne=p(86810),te=p(67866);let ae=class extends((0,Q.J)(ne.wq)){constructor(le){super(le),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(le){return(0,v.pC)(le)&&le.placement===this.placement&&le.style===this.style&&((0,v.Wi)(this.color)&&(0,v.Wi)(le.color)||(0,v.pC)(this.color)&&(0,v.pC)(le.color)&&this.color.toJSON()===le.color.toJSON())}};(0,d._)([(0,G.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ae.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:te.J,json:{default:"begin-end",write:!0}})],ae.prototype,"placement",void 0),(0,d._)([(0,G.Cb)({type:te.k,json:{default:"arrow",write:!0}})],ae.prototype,"style",void 0),(0,d._)([(0,G.Cb)({type:B.Z,json:{type:[D.z8],default:null,write:!0}})],ae.prototype,"color",void 0),ae=(0,d._)([(0,N.j)("esri.symbols.LineStyleMarker3D")],ae);const re=ae;var Y,$=p(97665),F=p(63743),R=p(99255),U=p(12948),A=p(60958),V=p(64830),J=p(43652);let oe=Y=class extends $.Z{constructor(le){super(le),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,X.Wz)(1),this.pattern=null,this.marker=null}clone(){const le={enabled:this.enabled,material:(0,v.pC)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,v.pC)(this.pattern)?this.pattern.clone():null,marker:(0,v.pC)(this.marker)?this.marker.clone():null};return new Y(le)}static fromSimpleLineSymbol(le){var q,ue,ie;const de={enabled:!0,size:null!=(q=le.width)?q:(0,X.Wz)(1),cap:le.cap||"butt",join:le.join||"miter",pattern:le.style&&"inside-frame"!==le.style?new F.Z({style:le.style}):null,material:new V.b({color:(le.color||U.ix).clone()}),marker:le.marker?new re({placement:le.marker.placement,style:le.marker.style,color:null!=(ie=null==(ue=le.marker.color)?void 0:ue.clone())?ie:null}):null};return new Y(de)}};(0,d._)([(0,G.Cb)({type:V.b,json:{write:!0}})],oe.prototype,"material",void 0),(0,d._)([(0,k.J)({Line:"line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:J.w2,json:{write:!0,default:"miter"}})],oe.prototype,"join",void 0),(0,d._)([(0,G.Cb)({type:J.Hc,json:{write:!0,default:"butt"}})],oe.prototype,"cap",void 0),(0,d._)([(0,G.Cb)(A.y)],oe.prototype,"size",void 0),(0,d._)([(0,G.Cb)(R.D)],oe.prototype,"pattern",void 0),(0,d._)([(0,G.Cb)({types:{key:"type",base:re,typeMap:{style:re}},json:{write:!0}})],oe.prototype,"marker",void 0),oe=Y=(0,d._)([(0,N.j)("esri.symbols.LineSymbol3DLayer")],oe);const se=oe},46735:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var d=p(17626),v=p(23841),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(10012);let N=class extends k.Z{constructor(Q){super(Q),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,d._)([(0,X.Cb)({type:Number,json:{read:Q=>Q&&-1*Q,write:(Q,ne)=>ne.angle=Q&&-1*Q}})],N.prototype,"angle",void 0),(0,d._)([(0,X.Cb)({type:["simple-marker","picture-marker"],readOnly:!0})],N.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:Number,cast:v.t_,json:{write:!0}})],N.prototype,"xoffset",void 0),(0,d._)([(0,X.Cb)({type:Number,cast:v.t_,json:{write:!0}})],N.prototype,"yoffset",void 0),(0,d._)([(0,X.Cb)({type:Number,cast:Q=>"auto"===Q?Q:(0,v.t_)(Q),json:{write:!0}})],N.prototype,"size",void 0),N=(0,d._)([(0,D.j)("esri.symbols.MarkerSymbol")],N);const B=N},2066:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>F});var ne,d=p(17626),v=p(62208),X=p(77712),D=(p(85931),p(8314),p(90912),p(55342)),k=p(76898),N=p(97665),B=p(48521),Q=p(14517);let te=ne=class extends Q.Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ne({x:this.x,y:this.y,z:this.z})}};(0,d._)([(0,X.Cb)({type:Number})],te.prototype,"x",void 0),(0,d._)([(0,X.Cb)({type:Number})],te.prototype,"y",void 0),(0,d._)([(0,X.Cb)({type:Number})],te.prototype,"z",void 0),te=ne=(0,d._)([(0,k.j)("esri.symbols.support.Symbol3DAnchorPosition3D")],te);var re,ae=p(64830);let $=re=class extends N.Z{constructor(R){super(R),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new re({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,v.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,d._)([(0,X.Cb)({type:ae.b,json:{write:!0}})],$.prototype,"material",void 0),(0,d._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],$.prototype,"castShadows",void 0),(0,d._)([(0,X.Cb)({type:B.k,json:{write:!0}})],$.prototype,"resource",void 0),(0,d._)([(0,D.J)({Object:"object"},{readOnly:!0})],$.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"width",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"height",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"depth",void 0),(0,d._)([(0,D.J)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,X.Cb)({json:{default:"origin"}})],$.prototype,"anchor",void 0),(0,d._)([(0,X.Cb)({type:te,json:{type:[Number],read:{reader:R=>new te({x:R[0],y:R[1],z:R[2]})},write:{writer:(R,U)=>{U.anchorPosition=[R.x,R.y,R.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],$.prototype,"anchorPosition",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"heading",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"tilt",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],$.prototype,"roll",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],$.prototype,"isPrimitive",null),$=re=(0,d._)([(0,k.j)("esri.symbols.ObjectSymbol3DLayer")],$);const F=$},69147:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var te,d=p(17626),v=p(62208),X=p(77712),D=(p(85931),p(8314),p(90912),p(55342)),k=p(68653),N=p(76898),B=p(97665),Q=p(64830),ne=p(43652);let ae=te=class extends B.Z{constructor($){super($),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth($,F){return null!=$?$:null==F.height&&null!=F.size?F.size:void 0}readHeight($,F){return null!=$?$:null==F.width&&null!=F.size?F.size:void 0}clone(){return new te({enabled:this.enabled,material:(0,v.pC)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,d._)([(0,X.Cb)({type:Q.b,json:{write:!0}})],ae.prototype,"material",void 0),(0,d._)([(0,X.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ae.prototype,"castShadows",void 0),(0,d._)([(0,D.J)({Path:"path"},{readOnly:!0})],ae.prototype,"type",void 0),(0,d._)([(0,X.Cb)({type:["circle","quad"],json:{write:!0,default:"circle"}})],ae.prototype,"profile",void 0),(0,d._)([(0,X.Cb)({type:ne.w2,json:{write:!0,default:"miter"}})],ae.prototype,"join",void 0),(0,d._)([(0,X.Cb)({type:ne.KW,json:{write:!0,default:"butt"}})],ae.prototype,"cap",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ae.prototype,"width",void 0),(0,d._)([(0,k.r)("width",["width","size","height"])],ae.prototype,"readWidth",null),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],ae.prototype,"height",void 0),(0,d._)([(0,k.r)("height",["height","size","width"])],ae.prototype,"readHeight",null),(0,d._)([(0,X.Cb)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],ae.prototype,"anchor",void 0),(0,d._)([(0,X.Cb)({type:["heading","all"],json:{write:!0,default:"all"}})],ae.prototype,"profileRotation",void 0),ae=te=(0,d._)([(0,N.j)("esri.symbols.PathSymbol3DLayer")],ae);const re=ae},13546:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>te});var Q,d=p(17626),v=p(58817),X=p(23841),G=p(77712),Z=(p(90912),p(55342)),D=p(68653),k=p(76898),N=p(46735),B=p(69738);let ne=Q=class extends N.Z{constructor(...ae){super(...ae),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(ae,re,$){if(ae&&"string"!=typeof ae&&null==ae.imageData)return ae;const F={};return ae&&(F.url=ae),null!=re&&(F.width=(0,X.t_)(re)),null!=$&&(F.height=(0,X.t_)($)),F}readHeight(ae,re){return re.size||ae}readWidth(ae,re){return re.size||ae}clone(){const ae=new Q({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return ae._set("source",(0,v.d9)(this.source)),ae}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,d._)([(0,G.Cb)({json:{write:!1}})],ne.prototype,"color",void 0),(0,d._)([(0,Z.J)({esriPMS:"picture-marker"},{readOnly:!0})],ne.prototype,"type",void 0),(0,d._)([(0,G.Cb)(B.KA)],ne.prototype,"url",void 0),(0,d._)([(0,G.Cb)(B.Ds)],ne.prototype,"source",void 0),(0,d._)([(0,G.Cb)({type:Number,cast:X.t_,json:{write:!0}})],ne.prototype,"height",void 0),(0,d._)([(0,D.r)("height",["height","size"])],ne.prototype,"readHeight",null),(0,d._)([(0,G.Cb)({type:Number,cast:X.t_,json:{write:!0}})],ne.prototype,"width",void 0),(0,d._)([(0,G.Cb)({json:{write:!1}})],ne.prototype,"size",void 0),ne=Q=(0,d._)([(0,k.j)("esri.symbols.PictureMarkerSymbol")],ne);const te=ne},69852:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>F});var ae,d=p(17626),v=p(74333),X=p(58817),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(26531),N=p(2066),B=p(39368),Q=p(21716),ne=p(9824),te=p(97595);const re=v.Z.ofType({base:null,key:"type",typeMap:{icon:k.Z,object:N.Z,text:Q.Z}});let $=ae=class extends B.Z{constructor(R){super(R),this.verticalOffset=null,this.callout=null,this.symbolLayers=new re,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const R of this.symbolLayers.items)switch(R.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,ne.gv)(this)}hasVisibleVerticalOffset(){return(0,ne.Uy)(this)}clone(){return new ae({verticalOffset:(0,X.d9)(this.verticalOffset),callout:(0,X.d9)(this.callout),styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}static fromSimpleMarkerSymbol(R){return new ae({symbolLayers:[k.Z.fromSimpleMarkerSymbol(R)]})}static fromPictureMarkerSymbol(R){return new ae({symbolLayers:[k.Z.fromPictureMarkerSymbol(R)]})}static fromCIMSymbol(R){var A,V;return"CIMPointSymbol"!==(null==(V=null==(A=R.data)?void 0:A.symbol)?void 0:V.type)?null:new ae(R.data.symbol.callout?{symbolLayers:[k.Z.fromCIMSymbol(R)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[k.Z.fromCIMSymbol(R)]})}static fromTextSymbol(R){return new ae({symbolLayers:[Q.Z.fromTextSymbol(R)]})}};(0,d._)([(0,G.Cb)({type:te._,json:{write:!0}})],$.prototype,"verticalOffset",void 0),(0,d._)([(0,G.Cb)(ne.Y2)],$.prototype,"callout",void 0),(0,d._)([(0,G.Cb)({type:re,json:{origins:{"web-scene":{write:!0}}}})],$.prototype,"symbolLayers",void 0),(0,d._)([(0,Z.J)({PointSymbol3D:"point-3d"},{readOnly:!0})],$.prototype,"type",void 0),$=ae=(0,d._)([(0,D.j)("esri.symbols.PointSymbol3D")],$);const F=$},89673:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>A});var F,d=p(17626),v=p(74333),X=p(58817),G=p(62208),z=p(77712),D=(p(90912),p(55342)),k=p(76898),N=p(65499),B=p(9260),Q=p(26531),ne=p(21068),te=p(2066),ae=p(39368),re=p(21716),$=p(72622);const R=v.Z.ofType({base:null,key:"type",typeMap:{extrude:N.Z,fill:B.Z,icon:Q.Z,line:ne.Z,object:te.Z,text:re.Z,water:$.Z}});let U=F=class extends ae.Z{constructor(V){super(V),this.symbolLayers=new R,this.type="polygon-3d"}clone(){return new F({styleOrigin:(0,X.d9)(this.styleOrigin),symbolLayers:(0,X.d9)(this.symbolLayers),thumbnail:(0,X.d9)(this.thumbnail)})}static fromJSON(V){const J=new F;if(J.read(V),2===J.symbolLayers.length&&"fill"===J.symbolLayers.getItemAt(0).type&&"line"===J.symbolLayers.getItemAt(1).type){const Y=J.symbolLayers.getItemAt(0),oe=J.symbolLayers.getItemAt(1);!oe.enabled||V.symbolLayers&&V.symbolLayers[1]&&!1===V.symbolLayers[1].enable||(Y.outline={size:oe.size,color:(0,G.pC)(oe.material)?oe.material.color:null}),J.symbolLayers.removeAt(1)}return J}static fromSimpleFillSymbol(V){return new F({symbolLayers:[B.Z.fromSimpleFillSymbol(V)]})}};(0,d._)([(0,z.Cb)({type:R,json:{write:!0}})],U.prototype,"symbolLayers",void 0),(0,d._)([(0,D.J)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],U.prototype,"type",void 0),U=F=(0,d._)([(0,k.j)("esri.symbols.PolygonSymbol3D")],U);const A=U},88493:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var Q,d=p(17626),v=p(91558),X=p(2076),G=p(58817),z=p(77712),D=(p(90912),p(55342)),k=p(76898),N=p(48575),B=p(52068);const ne=new X.X({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let te=Q=class extends N.Z{constructor(...re){super(...re),this.color=new v.Z([0,0,0,.25]),this.outline=new B.Z,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(re,$,F){if(re&&"string"!=typeof re)return re;const R={};return re&&(R.style=re),$&&(R.outline=$),F&&(R.color=F),R}clone(){return new Q({color:(0,G.d9)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,d._)([(0,z.Cb)()],te.prototype,"color",void 0),(0,d._)([(0,z.Cb)()],te.prototype,"outline",void 0),(0,d._)([(0,D.J)({esriSFS:"simple-fill"},{readOnly:!0})],te.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:ne.apiValues,json:{read:ne.read,write:ne.write}})],te.prototype,"style",void 0),te=Q=(0,d._)([(0,k.j)("esri.symbols.SimpleFillSymbol")],te);const ae=te},52068:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>se});var d=p(17626),v=p(2076),X=p(58817),G=p(23841),z=p(77712),D=(p(90912),p(55342)),k=p(76898),Q=(p(85931),p(8314),p(10012));let ne=class extends Q.Z{constructor(le){super(le),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,d._)([(0,D.J)({esriSLS:"simple-line"},{readOnly:!0})],ne.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:Number,cast:G.t_,json:{write:!0}})],ne.prototype,"width",void 0),ne=(0,d._)([(0,k.j)("esri.symbols.LineSymbol")],ne);const te=ne;var U,ae=p(91558),re=p(86810),$=p(68653),F=p(99433),R=p(67866);let A=U=class extends re.wq{constructor(le){super(le),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(le,de,q,ue){de[q]="web-map"===(null==ue?void 0:ue.origin)?"arrow":le}set color(le){this._set("color",le)}readColor(le){return le&&null!=le[0]?[le[0],le[1],le[2],le[3]/255]:le}writeColor(le,de,q,ue){"web-map"===(null==ue?void 0:ue.origin)||(de[q]=le)}clone(){return new U({color:(0,X.d9)(this.color),placement:this.placement,style:this.style})}hash(){var le;return`${this.placement}.${null==(le=this.color)?void 0:le.hash()}.${this.style}`}};(0,d._)([(0,z.Cb)({type:["begin","end","begin-end"],json:{write:!0}})],A.prototype,"placement",void 0),(0,d._)([(0,D.J)({"line-marker":"line-marker"},{readOnly:!0}),(0,z.Cb)({json:{origins:{"web-map":{write:!1}}}})],A.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:R.k})],A.prototype,"style",void 0),(0,d._)([(0,F.c)("style")],A.prototype,"writeStyle",null),(0,d._)([(0,z.Cb)({type:ae.Z,value:null,json:{write:{allowNull:!0}}})],A.prototype,"color",null),(0,d._)([(0,$.r)("color")],A.prototype,"readColor",null),(0,d._)([(0,F.c)("color")],A.prototype,"writeColor",null),A=U=(0,d._)([(0,k.j)("esri.symbols.LineSymbolMarker")],A);const V=A;var J;const Y=new v.X({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let oe=J=class extends te{constructor(...le){super(...le),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(le,de,q,ue,ie,ye){if(le&&"string"!=typeof le)return le;const pe={};return null!=le&&(pe.style=le),null!=de&&(pe.color=de),null!=q&&(pe.width=(0,G.t_)(q)),null!=ue&&(pe.cap=ue),null!=ie&&(pe.join=ie),null!=ye&&(pe.miterLimit=(0,G.t_)(ye)),pe}clone(){var le;return new J({color:(0,X.d9)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(le=this.marker)?void 0:le.clone()})}hash(){var le,de;return`${super.hash()}.${null==(le=this.color)?void 0:le.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(de=this.marker)?void 0:de.hash()}`}};(0,d._)([(0,D.J)({esriSLS:"simple-line"},{readOnly:!0})],oe.prototype,"type",void 0),(0,d._)([(0,z.Cb)({type:Y.apiValues,json:{read:Y.read,write:Y.write}})],oe.prototype,"style",void 0),(0,d._)([(0,z.Cb)({type:["butt","round","square"],json:{write:{overridePolicy:(le,de,q)=>({enabled:"round"!==le&&(null==q||null==q.origin)})}}})],oe.prototype,"cap",void 0),(0,d._)([(0,z.Cb)({type:["miter","round","bevel"],json:{write:{overridePolicy:(le,de,q)=>({enabled:"round"!==le&&(null==q||null==q.origin)})}}})],oe.prototype,"join",void 0),(0,d._)([(0,z.Cb)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":V}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],oe.prototype,"marker",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{read:!1,write:!1}})],oe.prototype,"miterLimit",void 0),oe=J=(0,d._)([(0,k.j)("esri.symbols.SimpleLineSymbol")],oe);const se=oe},57213:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var te,d=p(17626),v=p(91558),X=p(2076),G=p(58817),z=p(23841),Z=p(77712),k=(p(90912),p(55342)),N=p(76898),B=p(99433),Q=p(46735),ne=p(52068);const ae=new X.X({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let re=te=class extends Q.Z{constructor(...F){super(...F),this.color=new v.Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ne.Z}normalizeCtorArgs(F,R,U,A){if(F&&"string"!=typeof F)return F;const V={};return F&&(V.style=F),null!=R&&(V.size=(0,z.t_)(R)),U&&(V.outline=U),A&&(V.color=A),V}writeColor(F,R){F&&"x"!==this.style&&"cross"!==this.style&&(R.color=F.toJSON()),null===F&&(R.color=null)}set path(F){this.style="path",this._set("path",F)}clone(){return new te({angle:this.angle,color:(0,G.d9)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var F;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(F=this.outline)?void 0:F.hash()}`}};(0,d._)([(0,Z.Cb)()],re.prototype,"color",void 0),(0,d._)([(0,B.c)("color")],re.prototype,"writeColor",null),(0,d._)([(0,k.J)({esriSMS:"simple-marker"},{readOnly:!0})],re.prototype,"type",void 0),(0,d._)([(0,Z.Cb)()],re.prototype,"size",void 0),(0,d._)([(0,Z.Cb)({type:ae.apiValues,json:{read:ae.read,write:ae.write}})],re.prototype,"style",void 0),(0,d._)([(0,Z.Cb)({type:String,json:{write:!0}})],re.prototype,"path",null),(0,d._)([(0,Z.Cb)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ne.Z}},json:{default:null,write:!0}})],re.prototype,"outline",void 0),re=te=(0,d._)([(0,N.j)("esri.symbols.SimpleMarkerSymbol")],re);const $=re},10012:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var d=p(15861),v=p(17626),X=p(91558),G=p(2076),z=p(86810),Z=p(77712),B=(p(85931),p(8314),p(90912),p(68653)),Q=p(76898);const ne=new G.X({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let te=0,ae=class extends z.wq{constructor($){super($),this.id="sym"+te++,this.type=null,this.color=new X.Z([0,0,0,1])}readColor($){return $&&null!=$[0]?[$[0],$[1],$[2],$[3]/255]:$}collectRequiredFields($,F){return(0,d.Z)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,v._)([(0,Z.Cb)({type:ne.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:ne.write}}})],ae.prototype,"type",void 0),(0,v._)([(0,Z.Cb)({type:X.Z,json:{write:{allowNull:!0}}})],ae.prototype,"color",void 0),(0,v._)([(0,B.r)("color")],ae.prototype,"readColor",null),ae=(0,v._)([(0,Q.j)("esri.symbols.Symbol")],ae);const re=ae},39368:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>pe});var d=p(17626),v=p(74333),X=p(89726),G=p(63290),z=p(21726),Z=p(14889),D=p(77712),B=(p(85931),p(8314),p(66656)),Q=p(68653),ne=p(76898),te=p(99433),ae=p(84687),re=p(29840),$=p(65499),F=p(9260),R=p(26531),U=p(21068),A=p(2066),V=p(69147),J=p(10012),Y=p(97665),oe=p(21716),se=p(72622),le=p(77345),de=p(96296);const q={icon:R.Z,object:A.Z,line:U.Z,path:V.Z,fill:F.Z,extrude:$.Z,text:oe.Z,water:se.Z},ue=v.Z.ofType({base:Y.Z,key:"type",typeMap:q,errorContext:"symbol-layer"}),ie=G.Z.getLogger("esri.symbols.Symbol3D");let ye=class extends J.Z{constructor(Ce){super(Ce),this.styleOrigin=null,this.thumbnail=null,this.type=null;const De=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(De&&De.type||v.Z))}get color(){return null}set color(Ce){this.initialized&&ie.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(Ce){(0,X.Z)(Ce,this._get("symbolLayers"))}readStyleOrigin(Ce,De,Me){if(Ce.styleUrl&&Ce.name){const ve=(0,re.f)(Ce.styleUrl,Me);return new le.Z({styleUrl:ve,name:Ce.name})}if(Ce.styleName&&Ce.name)return new le.Z({portal:Me&&Me.portal||ae.Z.getDefault(),styleName:Ce.styleName,name:Ce.name});Me&&Me.messages&&Me.messages.push(new Z.Z("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:Me,definition:Ce}))}writeStyleOrigin(Ce,De,Me,ve){if(Ce.styleUrl&&Ce.name){let Le=(0,re.t)(Ce.styleUrl,ve);(0,z.YP)(Le)&&(Le=(0,z.Fv)(Le)),De.styleOrigin={styleUrl:Le,name:Ce.name}}else Ce.styleName&&Ce.name&&(Ce.portal&&ve&&ve.portal&&!(0,z.tm)(Ce.portal.restUrl,ve.portal.restUrl)?ve&&ve.messages&&ve.messages.push(new Z.Z("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):De.styleOrigin={styleName:Ce.styleName,name:Ce.name})}normalizeCtorArgs(Ce){return Ce instanceof Y.Z||Ce&&q[Ce.type]?{symbolLayers:[Ce]}:Array.isArray(Ce)?{symbolLayers:Ce}:Ce}};(0,d._)([(0,D.Cb)({json:{read:!1,write:!1}})],ye.prototype,"color",null),(0,d._)([(0,D.Cb)({type:ue,nonNullable:!0,json:{write:!0}}),(0,B.p)(X.R)],ye.prototype,"symbolLayers",null),(0,d._)([(0,D.Cb)({type:le.Z})],ye.prototype,"styleOrigin",void 0),(0,d._)([(0,Q.r)("styleOrigin")],ye.prototype,"readStyleOrigin",null),(0,d._)([(0,te.c)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ye.prototype,"writeStyleOrigin",null),(0,d._)([(0,D.Cb)({type:de.p,json:{read:!1}})],ye.prototype,"thumbnail",void 0),(0,d._)([(0,D.Cb)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ye.prototype,"type",void 0),ye=(0,d._)([(0,ne.j)("esri.symbols.Symbol3D")],ye);const pe=ye},97665:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(99433);let N=class extends v.wq{constructor(Q){super(Q),this.enabled=!0,this.type=null}writeEnabled(Q,ne,te){Q||(ne[te]=Q)}};(0,d._)([(0,X.Cb)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],N.prototype,"enabled",void 0),(0,d._)([(0,k.c)("enabled")],N.prototype,"writeEnabled",null),(0,d._)([(0,X.Cb)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],N.prototype,"type",void 0),N=(0,d._)([(0,D.j)("esri.symbols.Symbol3DLayer")],N);const B=N},35540:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var te,d=p(17626),v=p(91558),X=p(58817),G=p(23841),z=p(77712),Z=p(66656),D=p(55342),k=p(76898),N=p(99433),B=p(11472),Q=p(10012),ne=p(50369);let ae=te=class extends Q.Z{constructor(...$){super(...$),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new B.Z,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs($,F,R){if($&&"string"!=typeof $)return $;const U={};return $&&(U.text=$),F&&(U.font=F),R&&(U.color=R),U}writeLineWidth($,F,R,U){U&&"string"!=typeof U||(F[R]=$)}castLineWidth($){return(0,G.t_)($)}writeLineHeight($,F,R,U){U&&"string"!=typeof U||(F[R]=$)}clone(){return new te({angle:this.angle,backgroundColor:(0,X.d9)(this.backgroundColor),borderLineColor:(0,X.d9)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,X.d9)(this.color),font:this.font&&this.font.clone(),haloColor:(0,X.d9)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,d._)([(0,z.Cb)({type:v.Z,json:{write:!0}})],ae.prototype,"backgroundColor",void 0),(0,d._)([(0,z.Cb)({type:v.Z,json:{write:!0}})],ae.prototype,"borderLineColor",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ae.prototype,"borderLineSize",void 0),(0,d._)([(0,z.Cb)({type:B.Z,json:{write:!0}})],ae.prototype,"font",void 0),(0,d._)([(0,z.Cb)(Wi(Nn({},ne.x0),{json:{write:!0}}))],ae.prototype,"horizontalAlignment",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"kerning",void 0),(0,d._)([(0,z.Cb)({type:v.Z,json:{write:!0}})],ae.prototype,"haloColor",void 0),(0,d._)([(0,z.Cb)({type:Number,cast:G.t_,json:{write:!0}})],ae.prototype,"haloSize",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"rightToLeft",void 0),(0,d._)([(0,z.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"rotated",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],ae.prototype,"text",void 0),(0,d._)([(0,D.J)({esriTS:"text"},{readOnly:!0})],ae.prototype,"type",void 0),(0,d._)([(0,z.Cb)(Wi(Nn({},ne.Nj),{json:{write:!0}}))],ae.prototype,"verticalAlignment",void 0),(0,d._)([(0,z.Cb)({type:Number,cast:G.t_,json:{write:!0}})],ae.prototype,"xoffset",void 0),(0,d._)([(0,z.Cb)({type:Number,cast:G.t_,json:{write:!0}})],ae.prototype,"yoffset",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{read:$=>$&&-1*$,write:($,F)=>F.angle=$&&-1*$}})],ae.prototype,"angle",void 0),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],ae.prototype,"width",void 0),(0,d._)([(0,z.Cb)({type:Number})],ae.prototype,"lineWidth",void 0),(0,d._)([(0,N.c)("lineWidth")],ae.prototype,"writeLineWidth",null),(0,d._)([(0,Z.p)("lineWidth")],ae.prototype,"castLineWidth",null),(0,d._)([(0,z.Cb)(ne.Ck)],ae.prototype,"lineHeight",void 0),(0,d._)([(0,N.c)("lineHeight")],ae.prototype,"writeLineHeight",null),ae=te=(0,d._)([(0,k.j)("esri.symbols.TextSymbol")],ae);const re=ae},21716:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>se});var ae,d=p(17626),v=p(58817),X=p(62208),G=p(77712),Z=(p(90912),p(55342)),D=p(76898),k=p(99433),N=p(11472),B=p(97665),Q=p(60958),ne=p(91558),te=p(86810);let re=ae=class extends te.wq{constructor(){super(...arguments),this.color=new ne.Z([0,0,0,1]),this.size=0}clone(){const le={color:(0,v.d9)(this.color),size:this.size};return new ae(le)}};(0,d._)([(0,G.Cb)(Q.a)],re.prototype,"color",void 0),(0,d._)([(0,G.Cb)(Q.y)],re.prototype,"size",void 0),re=ae=(0,d._)([(0,D.j)("esri.symbols.support.Symbol3DHalo")],re);var $=p(64830),F=p(79608);p(85931),p(8314);let A=class extends((0,F.J)(te.wq)){constructor(le){super(le),this.color=null}};(0,d._)([(0,G.Cb)(Q.a)],A.prototype,"color",void 0),A=(0,d._)([(0,D.j)("esri.symbols.support.Symbol3DTextBackground")],A);var J,V=p(50369);let Y=J=class extends B.Z{constructor(le){super(le),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(le){(0,X.pC)(le)&&(0,X.pC)(this._userSize)&&(le.size=this._userSize),this._set("font",le)}writeFont(le,de,q,ue){const ie=Wi(Nn({},ue),{textSymbol3D:!0});de.font=le.write({},ie),delete de.font.size}get size(){return(0,X.pC)(this._userSize)?this._userSize:(0,X.pC)(this.font)&&null!=this.font.size?this.font.size:9}set size(le){this._userSize=le,(0,X.pC)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const le=new J({enabled:this.enabled,font:this.font&&(0,v.d9)(this.font),halo:this.halo&&(0,v.d9)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,X.pC)(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,v.d9)(this.background)});return le._userSize=this._userSize,le}static fromTextSymbol(le){return new J({font:(0,X.pC)(le.font)?le.font.clone():new N.Z,halo:oe(le.haloColor,le.haloSize),horizontalAlignment:le.horizontalAlignment,lineHeight:le.lineHeight,material:le.color?new $.b({color:le.color.clone()}):null,text:le.text,verticalAlignment:le.verticalAlignment,background:le.backgroundColor?new A({color:le.backgroundColor.clone()}):null})}};function oe(le,de){return le&&de>0?new re({color:(0,v.d9)(le),size:de}):null}(0,d._)([(0,G.Cb)({type:N.Z,json:{write:!0}})],Y.prototype,"font",null),(0,d._)([(0,k.c)("font")],Y.prototype,"writeFont",null),(0,d._)([(0,G.Cb)({type:re,json:{write:!0}})],Y.prototype,"halo",void 0),(0,d._)([(0,G.Cb)(Wi(Nn({},V.x0),{json:{default:"center",write:!0}}))],Y.prototype,"horizontalAlignment",void 0),(0,d._)([(0,G.Cb)(Wi(Nn({},V.Ck),{json:{default:1,write:!0}}))],Y.prototype,"lineHeight",void 0),(0,d._)([(0,G.Cb)({type:$.b,json:{write:!0}})],Y.prototype,"material",void 0),(0,d._)([(0,G.Cb)({type:A,json:{write:!0}})],Y.prototype,"background",void 0),(0,d._)([(0,G.Cb)(Q.y)],Y.prototype,"size",null),(0,d._)([(0,G.Cb)({type:String,json:{write:!0}})],Y.prototype,"text",void 0),(0,d._)([(0,Z.J)({Text:"text"},{readOnly:!0})],Y.prototype,"type",void 0),(0,d._)([(0,G.Cb)(Wi(Nn({},V.Nj),{json:{default:"baseline",write:!0}}))],Y.prototype,"verticalAlignment",void 0),Y=J=(0,d._)([(0,D.j)("esri.symbols.TextSymbol3DLayer")],Y);const se=Y},72622:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ne});var N,d=p(17626),v=p(91558),X=p(58817),G=p(77712),z=p(90912),Z=p(55342),D=p(76898),k=p(97665);let B=N=class extends k.Z{constructor(te){super(te),this.color=Q.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new N({color:(0,X.d9)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,d._)([(0,G.Cb)({type:v.Z,nonNullable:!0,json:{type:[z.z8],write:(te,ae,re)=>ae[re]=te.toArray(v.Z.AlphaMode.UNLESS_OPAQUE),default:()=>Q.clone(),defaultEquals:te=>te.toCss(!0)===Q.toCss(!0)}})],B.prototype,"color",void 0),(0,d._)([(0,Z.J)({Water:"water"},{readOnly:!0})],B.prototype,"type",void 0),(0,d._)([(0,G.Cb)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],B.prototype,"waterbodySize",void 0),(0,d._)([(0,G.Cb)({type:Number,json:{write:!0,default:null}})],B.prototype,"waveDirection",void 0),(0,d._)([(0,G.Cb)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],B.prototype,"waveStrength",void 0),B=N=(0,d._)([(0,D.j)("esri.symbols.WaterSymbol3DLayer")],B);const Q=new v.Z([0,119,190]),ne=B},12874:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>A});var $,d=p(15861),v=p(17626),X=p(63290),G=p(62208),z=p(10699),Z=p(77712),B=(p(85931),p(8314),p(90912),p(55342)),Q=p(76898),ne=p(84687),te=p(29840),ae=p(10012),re=p(96296);const F=X.Z.getLogger("esri.symbols.WebStyleSymbol");let R=$=class extends ae.Z{constructor(V){super(V),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get fetchCacheKey(){const V=(0,G.pC)(this.portal)?this.portal:ne.Z.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${V.user?V.user.username:null}:${V.url}`}read(V,J){this.portal=J?J.portal:void 0,super.read(V,J)}clone(){return new $({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(V){return this._fetchSymbol("webRef",V)}fetchCIMSymbol(V){return this._fetchSymbol("cimRef",V)}_fetchSymbol(V,J){var Y=this;return(0,d.Z)(function*(){const oe=(0,G.pC)(J)?J.cache:null,se=oe?Y.fetchCacheKey:null;if((0,G.pC)(oe)){const ue=oe.get(se);if(ue)return ue.clone()}const le=yield function U(){return Promise.all([p.e(8592),p.e(3100)]).then(p.bind(p,50998))}();(0,z.k_)(J);const de=le.resolveWebStyleSymbol(Y,{portal:Y.portal},V,J);de.catch(ue=>{F.error("#fetchSymbol()","Failed to create symbol from style",ue)});const q=yield de;return"webRef"===V&&"point-3d"===q.type||"cimRef"===V&&"cim"===q.type?((0,G.pC)(oe)&&oe.set(se,q.clone()),q):null})()}};(0,v._)([(0,Z.Cb)({json:{write:!1}})],R.prototype,"color",void 0),(0,v._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"styleName",void 0),(0,v._)([(0,Z.Cb)({type:ne.Z,json:{write:!1}})],R.prototype,"portal",void 0),(0,v._)([(0,Z.Cb)({type:String,json:{read:te.r,write:te.w}})],R.prototype,"styleUrl",void 0),(0,v._)([(0,Z.Cb)({type:re.p,json:{read:!1}})],R.prototype,"thumbnail",void 0),(0,v._)([(0,Z.Cb)({type:String,json:{write:!0}})],R.prototype,"name",void 0),(0,v._)([(0,B.J)({styleSymbolReference:"web-style"},{readOnly:!0})],R.prototype,"type",void 0),(0,v._)([(0,Z.Cb)()],R.prototype,"fetchCacheKey",null),R=$=(0,v._)([(0,Q.j)("esri.symbols.WebStyleSymbol")],R);const A=R},21779:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B),this.visible=!0}clone(){}};(0,d._)([(0,X.Cb)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],k.prototype,"visible",void 0),k=(0,d._)([(0,D.j)("esri.symbols.callouts.Callout3D")],k);const N=k},17497:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var te,d=p(17626),v=p(91558),X=p(58817),G=p(62208),z=p(23841),Z=p(77712),k=(p(90912),p(55342)),N=p(76898),B=p(21779),Q=p(71530),ne=p(60958);let ae=te=class extends B.Z{constructor($){super($),this.type="line",this.color=new v.Z([0,0,0,1]),this.size=(0,z.Wz)(1),this.border=null}get visible(){return this.size>0&&(0,G.pC)(this.color)&&this.color.a>0}clone(){return new te({color:(0,X.d9)(this.color),size:this.size,border:(0,X.d9)(this.border)})}};(0,d._)([(0,k.J)({line:"line"},{readOnly:!0})],ae.prototype,"type",void 0),(0,d._)([(0,Z.Cb)(ne.a)],ae.prototype,"color",void 0),(0,d._)([(0,Z.Cb)(ne.y)],ae.prototype,"size",void 0),(0,d._)([(0,Z.Cb)({type:Q.a,json:{write:!0}})],ae.prototype,"border",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],ae.prototype,"visible",null),ae=te=(0,d._)([(0,N.j)("esri.symbols.callouts.LineCallout3D")],ae);const re=ae},9824:(wt,Se,p)=>{"use strict";p.d(Se,{Uy:()=>X,Y2:()=>D,gv:()=>G});var d=p(21779),v=p(17497);function X(k){if(!k)return!1;const N=k.verticalOffset;return!!N&&!(N.screenLength<=0||N.maxWorldLength<=0)}function G(k){if(!k||!k.supportsCallout||!k.supportsCallout())return!1;const N=k.callout;return!!N&&!!N.visible&&!!X(k)}const D={types:{key:"type",base:d.Z,typeMap:{line:v.Z}},json:{write:!0}}},80991:(wt,Se,p)=>{"use strict";function v($,F,R,U){return function d($){return"function"==typeof $}($)?$(F,R,U):$}function X($){return[$.r,$.g,$.b,$.a]}function G($,F,R){const A=oe=>{let se=oe.length;for(;se--;)if(!" /-,\n".includes(oe.charAt(se)))return!1;return!0},V=[];let J=0,Y=-1;do{if(Y=F.indexOf("[",J),Y>=J){if(Y>J){const oe=F.substr(J,Y-J);V.push([oe,null,A(oe)])}if(J=Y+1,Y=F.indexOf("]",J),Y>=J){if(Y>J){const oe=$[F.substr(J,Y-J)];oe&&V.push([null,oe,!1])}J=Y+1}}}while(-1!==Y);if(J<F.length-1){const oe=F.substr(J);V.push([oe,null,A(oe)])}return oe=>{let se="",le=null;for(const de of V){const[q,ue,ie]=de;if(q)ie?le=q:(le&&(se+=le,le=null),se+=q);else{const ye=oe.attributes[ue];ye&&(le&&(se+=le,le=null),se+=ye)}}return z(se,R)}}function z($,F){switch("string"!=typeof $&&($=String($)),F){case"LowerCase":return $.toLowerCase();case"Allcaps":return $.toUpperCase();default:return $}}function Z($,F,R,U,A,V,J=!0){const Y=F/A,oe=R/V,se=Math.ceil(Y/2),le=Math.ceil(oe/2);for(let de=0;de<V;de++)for(let q=0;q<A;q++){const ue=4*(q+(J?V-de-1:de)*A);let ie=0,ye=0,pe=0,Ce=0,De=0,Me=0,ve=0;const Le=(de+.5)*oe;for(let je=Math.floor(de*oe);je<(de+1)*oe;je++){const _e=Math.abs(Le-(je+.5))/le,Re=(q+.5)*Y,nt=_e*_e;for(let pt=Math.floor(q*Y);pt<(q+1)*Y;pt++){let Ne=Math.abs(Re-(pt+.5))/se;const xe=Math.sqrt(nt+Ne*Ne);xe>=-1&&xe<=1&&(ie=2*xe*xe*xe-3*xe*xe+1,ie>0&&(Ne=4*(pt+je*F),ve+=ie*$[Ne+3],pe+=ie,$[Ne+3]<255&&(ie=ie*$[Ne+3]/250),Ce+=ie*$[Ne],De+=ie*$[Ne+1],Me+=ie*$[Ne+2],ye+=ie))}}U[ue]=Ce/ye,U[ue+1]=De/ye,U[ue+2]=Me/ye,U[ue+3]=ve/pe}}function D($){return $?{r:$[0],g:$[1],b:$[2],a:$[3]/255}:{r:0,g:0,b:0,a:0}}function k($){var F;return null==(F=$.data)?void 0:F.symbol}function N($){return"CIMVectorMarker"===$.type||"CIMPictureMarker"===$.type||"CIMBarChartMarker"===$.type||"CIMCharacterMarker"===$.type||"CIMPieChartMarker"===$.type||"CIMStackedBarChartMarker"===$.type}function B($){return"CIMGradientStroke"===$.type||"CIMPictureStroke"===$.type||"CIMSolidStroke"===$.type}function Q($){return"CIMGradientFill"===$.type||"CIMHatchFill"===$.type||"CIMPictureFill"===$.type||"CIMSolidFill"===$.type||"CIMWaterFill"===$.type}function ne($){return"CIMMarkerPlacementAlongLineRandomSize"===$.type||"CIMMarkerPlacementAlongLineSameSize"===$.type||"CIMMarkerPlacementAlongLineVariableSize"===$.type||"CIMMarkerPlacementAtExtremities"===$.type||"CIMMarkerPlacementAtMeasuredUnits"===$.type||"CIMMarkerPlacementAtRatioPositions"===$.type||"CIMMarkerPlacementOnLine"===$.type||"CIMMarkerPlacementOnVertices"===$.type}p.d(Se,{Cc:()=>ae,NA:()=>te,NO:()=>D,Qs:()=>G,RI:()=>re,TT:()=>Z,X3:()=>z,be:()=>k,gJ:()=>ne,hf:()=>v,k5:()=>Q,nn:()=>X,yL:()=>B,zL:()=>N});const te=$=>isNaN($)||!$?0:$,ae=$=>{if(!$)return!1;for(const F of $)switch(F.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}return!1};function re(){return Promise.all([p.e(4918),p.e(8592),p.e(5994)]).then(p.bind(p,32825))}},89441:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Y});var d=p(17626),v=p(91558),X=p(86810),G=p(58817),z=p(23841),Z=p(77712),k=(p(90912),p(76898)),N=p(60958);let B=class extends X.wq{constructor(oe){super(oe),this.color=new v.Z([0,0,0,1]),this.extensionLength=0,this.size=(0,z.Wz)(1)}clone(){}cloneProperties(){return{color:(0,G.d9)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,d._)([(0,Z.Cb)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],B.prototype,"type",void 0),(0,d._)([(0,Z.Cb)(N.a)],B.prototype,"color",void 0),(0,d._)([(0,Z.Cb)(Wi(Nn({},N.y),{json:{write:{overridePolicy:oe=>({enabled:!!oe})}}}))],B.prototype,"extensionLength",void 0),(0,d._)([(0,Z.Cb)(N.y)],B.prototype,"size",void 0),B=(0,d._)([(0,k.j)("esri.symbols.edges.Edges3D")],B);const Q=B;p(63290),p(85931),p(8314),p(82255);var F,$=p(55342);let R=F=class extends Q{constructor(oe){super(oe),this.type="sketch"}clone(){return new F(this.cloneProperties())}};(0,d._)([(0,$.J)({sketch:"sketch"},{readOnly:!0})],R.prototype,"type",void 0),R=F=(0,d._)([(0,k.j)("esri.symbols.edges.SketchEdges3D")],R);const U=R;var A;let V=A=class extends Q{constructor(oe){super(oe),this.type="solid"}clone(){return new A(this.cloneProperties())}};(0,d._)([(0,$.J)({solid:"solid"},{readOnly:!0})],V.prototype,"type",void 0),V=A=(0,d._)([(0,k.j)("esri.symbols.support.SolidEdges3D")],V);const Y={types:{key:"type",base:Q,typeMap:{solid:V,sketch:U}},json:{write:!0}}},38861:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B)}clone(){}};(0,d._)([(0,X.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.symbols.patterns.LinePattern3D")],k);const N=k},63743:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>ae});var Q,d=p(17626),v=p(2076),X=p(77712),D=(p(85931),p(8314),p(90912),p(55342)),k=p(76898),N=p(38861);const ne=(0,v.w)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let te=Q=class extends N.Z{constructor(re){super(re),this.type="style",this.style="solid"}clone(){return new Q({style:this.style})}};(0,d._)([(0,X.Cb)({type:["style"]})],te.prototype,"type",void 0),(0,d._)([(0,D.J)(ne),(0,X.Cb)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],te.prototype,"style",void 0),te=Q=(0,d._)([(0,k.j)("esri.symbols.patterns.LineStylePattern3D")],te);const ae=te},40249:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>N});var d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let k=class extends v.wq{constructor(B){super(B)}clone(){}};(0,d._)([(0,X.Cb)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0),k=(0,d._)([(0,D.j)("esri.symbols.patterns.Pattern3D")],k);const N=k},153:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(77712),Z=(p(85931),p(8314),p(90912),p(76898)),D=p(40249);let B=N=class extends D.Z{constructor(ne){super(ne),this.type="style",this.style="solid"}clone(){return new N({style:this.style})}};(0,d._)([(0,v.Cb)({type:["style"]})],B.prototype,"type",void 0),(0,d._)([(0,v.Cb)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],B.prototype,"style",void 0),B=N=(0,d._)([(0,Z.j)("esri.symbols.patterns.StylePattern3D")],B);const Q=B},99255:(wt,Se,p)=>{"use strict";p.d(Se,{D:()=>Z,q:()=>z});var d=p(38861),v=p(63743),X=p(40249),G=p(153);const z={types:{key:"type",base:X.Z,typeMap:{style:G.Z}},json:{write:!0}},Z={types:{key:"type",base:d.Z,typeMap:{style:v.Z}},json:{write:!0}}},82706:(wt,Se,p)=>{"use strict";p.d(Se,{ZP:()=>J});var ae,d=p(17626),v=p(2076),X=p(86810),G=p(62208),z=p(77712),N=(p(85931),p(8314),p(90912),p(68653)),B=p(76898),Q=p(99433),ne=p(15861),te=p(36630);let re=ae=class extends X.wq{collectRequiredFields(Y,oe){var se=this;return(0,ne.Z)(function*(){return(0,te.io)(Y,oe,se.expression)})()}clone(){return new ae({expression:this.expression,title:this.title})}equals(Y){return this.expression===Y.expression&&this.title===Y.title}};(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],re.prototype,"expression",void 0),(0,d._)([(0,z.Cb)({type:String,json:{write:!0}})],re.prototype,"title",void 0),re=ae=(0,d._)([(0,B.j)("esri.layers.support.FeatureExpressionInfo")],re);const $=re;var R,F=p(29505);const U=(0,v.w)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),A=new v.X({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let V=R=class extends X.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(Y,oe){return null!=Y?Y:oe.featureExpression&&0===oe.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(Y,oe,se,le){oe[se]=Y.write({},le),"0"===Y.expression&&(oe.featureExpression={value:0})}get mode(){const{offset:Y,featureExpressionInfo:oe}=this;return this._isOverridden("mode")?this._get("mode"):(0,G.pC)(Y)||oe?"relative-to-ground":"on-the-ground"}set mode(Y){this._override("mode",Y)}set unit(Y){this._set("unit",Y)}write(Y,oe){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(Y,oe):null}clone(){return new R({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(Y){return this.mode===Y.mode&&this.offset===Y.offset&&this.unit===Y.unit&&(0,G._W)(this.featureExpressionInfo,Y.featureExpressionInfo)}};(0,d._)([(0,z.Cb)({type:$,json:{write:!0}})],V.prototype,"featureExpressionInfo",void 0),(0,d._)([(0,N.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],V.prototype,"readFeatureExpressionInfo",null),(0,d._)([(0,Q.c)("featureExpressionInfo",{featureExpressionInfo:{type:$},"featureExpression.value":{type:[0]}})],V.prototype,"writeFeatureExpressionInfo",null),(0,d._)([(0,z.Cb)({type:U.apiValues,nonNullable:!0,json:{type:U.jsonValues,read:U.read,write:{writer:U.write,isRequired:!0}}})],V.prototype,"mode",null),(0,d._)([(0,z.Cb)({type:Number,json:{write:!0}})],V.prototype,"offset",void 0),(0,d._)([(0,z.Cb)({type:F.f9,json:{type:String,read:A.read,write:A.write}})],V.prototype,"unit",null),V=R=(0,d._)([(0,B.j)("esri.layers.support.ElevationInfo")],V);const J=V},33215:(wt,Se,p)=>{"use strict";p.d(Se,{S:()=>F,b:()=>$});var ae,d=p(17626),v=p(2076),X=p(86810),G=p(21726),z=p(77712),N=(p(85931),p(8314),p(90912),p(55342)),B=p(68653),Q=p(76898),ne=p(99433),te=p(29840);const re=(0,v.w)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let $=ae=class extends X.wq{constructor(R){super(R)}readHref(R,U,A){return R?(0,te.f)(R,A):U.dataURI}writeHref(R,U,A,V){R&&((0,G.HK)(R)?U.dataURI=R:(U.href=(0,te.t)(R,V),(0,G.YP)(U.href)&&(U.href=(0,G.Fv)(U.href))))}clone(){return new ae({href:this.href,primitive:this.primitive})}};(0,d._)([(0,z.Cb)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],$.prototype,"href",void 0),(0,d._)([(0,B.r)("href")],$.prototype,"readHref",null),(0,d._)([(0,ne.c)("href",{href:{type:String},dataURI:{type:String}})],$.prototype,"writeHref",null),(0,d._)([(0,N.J)(re)],$.prototype,"primitive",void 0),$=ae=(0,d._)([(0,Q.j)("esri.symbols.support.IconSymbol3DLayerResource")],$);const F="circle"},48521:(wt,Se,p)=>{"use strict";p.d(Se,{S:()=>ae,k:()=>te});var Q,d=p(17626),v=p(2076),X=p(86810),G=p(77712),k=(p(85931),p(8314),p(90912),p(55342)),N=p(76898),B=p(29840);const ne=(0,v.w)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let te=Q=class extends X.wq{clone(){return new Q({href:this.href,primitive:this.primitive})}};(0,d._)([(0,G.Cb)({type:String,json:{read:B.r,write:B.w}})],te.prototype,"href",void 0),(0,d._)([(0,k.J)(ne)],te.prototype,"primitive",void 0),te=Q=(0,d._)([(0,N.j)("esri.symbols.support.ObjectSymbol3DLayerResource")],te);const ae="sphere"},77345:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var N,d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(84687);let B=N=class extends v.Z{constructor(){super(...arguments),this.portal=null}clone(){return new N({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,d._)([(0,X.Cb)({type:String})],B.prototype,"name",void 0),(0,d._)([(0,X.Cb)({type:String})],B.prototype,"styleUrl",void 0),(0,d._)([(0,X.Cb)({type:String})],B.prototype,"styleName",void 0),(0,d._)([(0,X.Cb)({type:k.Z})],B.prototype,"portal",void 0),B=N=(0,d._)([(0,D.j)("esri.symbols.support.StyleOrigin")],B);const Q=B},37519:(wt,Se,p)=>{"use strict";p.d(Se,{e:()=>N});var k,d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.Z{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new k({x:this.x,y:this.y})}};(0,d._)([(0,X.Cb)({type:Number})],N.prototype,"x",void 0),(0,d._)([(0,X.Cb)({type:Number})],N.prototype,"y",void 0),N=k=(0,d._)([(0,D.j)("esri.symbols.support.Symbol3DAnchorPosition2D")],N)},64830:(wt,Se,p)=>{"use strict";p.d(Se,{b:()=>Q});var B,d=p(17626),v=p(86810),X=p(62208),G=p(77712),k=(p(85931),p(8314),p(90912),p(76898)),N=p(60958);let Q=B=class extends v.wq{constructor(ne){super(ne),this.color=null}clone(){const ne={color:(0,X.pC)(this.color)?this.color.clone():null};return new B(ne)}};(0,d._)([(0,G.Cb)(N.a)],Q.prototype,"color",void 0),Q=B=(0,d._)([(0,k.j)("esri.symbols.support.Symbol3DMaterial")],Q)},97595:(wt,Se,p)=>{"use strict";p.d(Se,{_:()=>B});var N,d=p(17626),v=p(86810),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(60958);let B=N=class extends v.wq{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new N({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,d._)([(0,X.Cb)(k.y)],B.prototype,"screenLength",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0,default:0}})],B.prototype,"minWorldLength",void 0),(0,d._)([(0,X.Cb)({type:Number,json:{write:!0}})],B.prototype,"maxWorldLength",void 0),B=N=(0,d._)([(0,D.j)("esri.symbols.support.Symbol3DVerticalOffset")],B)},96296:(wt,Se,p)=>{"use strict";p.d(Se,{p:()=>N});var k,d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898));let N=k=class extends v.Z{clone(){return new k({url:this.url})}};(0,d._)([(0,X.Cb)({type:String})],N.prototype,"url",void 0),N=k=(0,d._)([(0,D.j)("esri.symbols.support.Thumbnail")],N)},56445:(wt,Se,p)=>{"use strict";p.d(Se,{FW:()=>D,PI:()=>G,iW:()=>B,kW:()=>X});var d=p(91558),v=p(80991);function X(F){const R=(0,v.be)(F);if("CIMTextSymbol"===R.type)return R.height;let U=0;if(R.symbolLayers)for(const A of R.symbolLayers)(0,v.zL)(A)&&A.size>U?U=A.size:(0,v.yL)(A)&&A.width>U?U=A.width:(0,v.k5)(A);return U}function G(F,R,U){const A=(0,v.be)(F),V=X(F);0!==V?Z(A,R/V,!1,U):function z(F,R){if("CIMTextSymbol"!==F.type){if(F.symbolLayers)for(const U of F.symbolLayers)switch(U.type){case"CIMPictureMarker":case"CIMVectorMarker":U.size=R;break;case"CIMPictureStroke":case"CIMSolidStroke":U.width=R}}else F.height=R}(A,R)}function Z(F,R,U,A){if("CIMTextSymbol"!==F.type){if(U&&F.effects)for(const V of F.effects)N(V,R);if(F.symbolLayers)for(const V of F.symbolLayers)switch(V.type){case"CIMPictureMarker":case"CIMVectorMarker":D(V,R,A);break;case"CIMPictureStroke":case"CIMSolidStroke":!(null==A?void 0:A.preserveOutlineWidth)&&V.width&&(V.width*=R);break;case"CIMPictureFill":V.height&&(V.height*=R),V.offsetX&&(V.offsetX*=R),V.offsetY&&(V.offsetY*=R);break;case"CIMHatchFill":Z(V.lineSymbol,R,!0,Wi(Nn({},A),{preserveOutlineWidth:!1})),V.offsetX&&(V.offsetX*=R),V.offsetY&&(V.offsetY*=R),V.separation&&(V.separation*=R)}}else F.height*=R}function D(F,R,U){if(F.markerPlacement&&function k(F,R){switch((0,v.gJ)(F)&&F.offset&&(F.offset*=R),F.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(F.customEndingOffset&&(F.customEndingOffset*=R),F.offsetAlongLine&&(F.offsetAlongLine*=R),F.placementTemplate&&F.placementTemplate.length){const U=F.placementTemplate.map(A=>A*R);F.placementTemplate=U}break;case"CIMMarkerPlacementAlongLineVariableSize":if(F.maxRandomOffset&&(F.maxRandomOffset*=R),F.placementTemplate&&F.placementTemplate.length){const U=F.placementTemplate.map(A=>A*R);F.placementTemplate=U}break;case"CIMMarkerPlacementOnLine":F.startPointOffset&&(F.startPointOffset*=R);break;case"CIMMarkerPlacementAtExtremities":F.offsetAlongLine&&(F.offsetAlongLine*=R);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":F.beginPosition&&(F.beginPosition*=R),F.endPosition&&(F.endPosition*=R);break;case"CIMMarkerPlacementPolygonCenter":F.offsetX&&(F.offsetX*=R),F.offsetY&&(F.offsetY*=R);break;case"CIMMarkerPlacementInsidePolygon":F.offsetX&&(F.offsetX*=R),F.offsetY&&(F.offsetY*=R),F.stepX&&(F.stepX*=R),F.stepY&&(F.stepY*=R)}}(F.markerPlacement,R),F.offsetX&&(F.offsetX*=R),F.offsetY&&(F.offsetY*=R),F.anchorPoint&&"Absolute"===F.anchorPointUnits&&(F.anchorPoint={x:F.anchorPoint.x*R,y:F.anchorPoint.y*R}),F.size*=R,"CIMVectorMarker"===F.type&&F.markerGraphics)for(const A of F.markerGraphics)F.scaleSymbolsProportionally||Z(A.symbol,R,!0,U)}function N(F,R){switch(F.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":F.width&&(F.width*=R);break;case"CIMGeometricEffectBuffer":F.size&&(F.size*=R);break;case"CIMGeometricEffectCut":F.beginCut&&(F.beginCut*=R),F.endCut&&(F.endCut*=R),F.middleCut&&(F.middleCut*=R);break;case"CIMGeometricEffectDashes":if(F.customEndingOffset&&(F.customEndingOffset*=R),F.offsetAlongLine&&(F.offsetAlongLine*=R),F.dashTemplate&&F.dashTemplate.length){const U=F.dashTemplate.map(A=>A*R);F.dashTemplate=U}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":F.length&&(F.length*=R);break;case"CIMGeometricEffectMove":F.offsetX&&(F.offsetX*=R),F.offsetY&&(F.offsetY*=R);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":F.offset&&(F.offset*=R);break;case"CIMGeometricEffectRegularPolygon":F.radius&&(F.radius*=R);break;case"CIMGeometricEffectTaperedPolygon":F.fromWidth&&(F.fromWidth*=R),F.length&&(F.length*=R),F.toWidth&&(F.toWidth*=R);break;case"CIMGeometricEffectWave":F.amplitude&&(F.amplitude*=R),F.period&&(F.period*=R)}}function B(F){const R=[];return Q((0,v.be)(F),R),R.length?new d.Z((0,v.NO)(R[0])):null}function Q(F,R){let U;U="CIMTextSymbol"===F.type?F.symbol:F;const A="CIMPolygonSymbol"===F.type;if(U.symbolLayers)for(const V of U.symbolLayers)if(!(V.colorLocked||A&&((0,v.yL)(V)||(0,v.zL)(V)&&V.markerPlacement&&(0,v.gJ)(V.markerPlacement))))switch(V.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":V.tintColor&&ne(R,V.tintColor);break;case"CIMVectorMarker":V.markerGraphics.forEach(J=>{Q(J.symbol,R)});break;case"CIMSolidStroke":case"CIMSolidFill":ne(R,V.color);break;case"CIMHatchFill":Q(V.lineSymbol,R)}}function ne(F,R){for(const U of F)if(U.join(".")===R.join("."))return;F.push(R)}},12948:(wt,Se,p)=>{"use strict";p.d(Se,{ix:()=>v,l9:()=>G,rx:()=>z});var d=p(91558);const v=new d.Z("white"),G=(new d.Z("black"),new d.Z([255,255,255,0]));function z(Z){return 0===Z.r&&0===Z.g&&0===Z.b}},8080:(wt,Se,p)=>{"use strict";p.d(Se,{G:()=>ne,Rz:()=>B,kD:()=>ae,mW:()=>te}),p(8314);var v=p(88493),X=p(52068),G=p(57213),z=p(35540),Z=p(24837);G.Z.fromJSON(Z.I4),X.Z.fromJSON(Z.ET),v.Z.fromJSON(Z.lF);const B=z.Z.fromJSON(Z.qP),ne=G.Z.fromJSON(Z.eG),te=X.Z.fromJSON(Z.wW),ae=v.Z.fromJSON(Z.lj)},24837:(wt,Se,p)=>{"use strict";p.d(Se,{ET:()=>G,I4:()=>X,eG:()=>D,lF:()=>z,lj:()=>N,qP:()=>Z,wW:()=>k});const d=[252,146,31,255],X={type:"esriSMS",style:"esriSMSCircle",size:6,color:d,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},G={type:"esriSLS",style:"esriSLSSolid",width:.75,color:d},z={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Z={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},D={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},k={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},N={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},74741:(wt,Se,p)=>{"use strict";p.d(Se,{Ne:()=>Y,Od:()=>A,Sp:()=>J,_M:()=>U,mx:()=>V});var d=p(54346),v=p(91558),X=p(84792),G=p(78498),z=p(23841),Z=p(56445);const D="picture-fill",k="simple-fill",B="simple-marker",re=new G.Z(1e3);function U(oe){const se=oe.style;let le=null;if(oe)switch(oe.type){case B:"cross"!==se&&"x"!==se&&(le=oe.color);break;case k:"solid"===se?le=oe.color:"none"!==se&&(le={type:"pattern",x:0,y:0,src:(0,d.V)(`esri/symbols/patterns/${se}.png`),width:5,height:5});break;case D:le={type:"pattern",src:oe.url,width:(0,z.F2)(oe.width)*oe.xscale,height:(0,z.F2)(oe.height)*oe.yscale,x:(0,z.F2)(oe.xoffset),y:(0,z.F2)(oe.yoffset)};break;case"text":le=oe.color;break;case"cim":le=(0,Z.iW)(oe)}return le}function A(oe,se){const le=oe+"-"+se;return void 0!==re.get(le)?Promise.resolve(re.get(le)):(0,X.default)(oe,{responseType:"image"}).then(de=>{const q=de.data,ue=q.naturalWidth,ie=q.naturalHeight,ye=document.createElement("canvas");ye.width=ue,ye.height=ie;const pe=ye.getContext("2d");pe.fillStyle=se,pe.fillRect(0,0,ue,ie),pe.globalCompositeOperation="destination-in",pe.drawImage(q,0,0);const Ce=ye.toDataURL();return re.put(le,Ce),Ce})}function V(oe){if(!oe)return null;let se;switch(oe.type){case k:case D:case B:se=V(oe.outline);break;case"simple-line":{const le=(0,z.F2)(oe.width);"none"!==oe.style&&0!==le&&(se={color:oe.color,style:J(oe.style),width:le,cap:oe.cap,join:"miter"===oe.join?(0,z.F2)(oe.miterLimit):oe.join});break}default:se=null}return se}const J=(()=>{const oe={};return se=>{if(oe[se])return oe[se];const le=se.replace(/-/g,"");return oe[se]=le,le}})(),Y=new v.Z([128,128,128])},65270:(wt,Se,p)=>{"use strict";p.d(Se,{im:()=>J,cW:()=>R,vX:()=>U});var d=p(65787),v=p(26584),X=p(62208),G=p(39368),z=p(12874),Z=p(69852),D=p(52068),k=p(40445),N=p(57213),B=p(13546),Q=p(88493),ne=p(89673),te=p(35540),ae=p(22490);const re={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0},F=["building-scene","integrated-mesh","point-cloud","scene"];function R(Y,oe,se,le){const de=V(Y,{},{context:le,isLabelSymbol:!1});(0,X.pC)(de)&&(oe[se]=de)}function U(Y,oe,se,le){const de=V(Y,{},{context:le,isLabelSymbol:!0});(0,X.pC)(de)&&(oe[se]=de)}function A(Y){return Y instanceof G.Z||Y instanceof z.Z}function V(Y,oe,se){var ie;if((0,X.Wi)(Y))return null;const{context:le,isLabelSymbol:de}=se,q=null==le?void 0:le.origin,ue=null==le?void 0:le.messages;if("web-scene"===q&&!A(Y)){const ye=function $(Y,oe=re){var ie,ye;if(!Y)return{symbol:null};const{retainId:se=re.retainId,ignoreDrivers:le=re.ignoreDrivers,hasLabelingContext:de=re.hasLabelingContext,retainCIM:q=re.retainCIM}=oe;let ue;if((0,d.dU)(Y)||Y instanceof z.Z)ue=Y.clone();else if("cim"===Y.type){const pe=null==(ye=null==(ie=Y.data)?void 0:ie.symbol)?void 0:ye.type;if("CIMPointSymbol"!==pe)return{error:new v.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${pe||"unknown"}' is unsupported in 3D`,{symbol:Y})};ue=q?Y.clone():Z.Z.fromCIMSymbol(Y)}else if(Y instanceof D.Z)ue=k.Z.fromSimpleLineSymbol(Y);else if(Y instanceof N.Z)ue=Z.Z.fromSimpleMarkerSymbol(Y);else if(Y instanceof B.Z)ue=Z.Z.fromPictureMarkerSymbol(Y);else if(Y instanceof Q.Z)ue=ne.Z.fromSimpleFillSymbol(Y);else{if(!(Y instanceof te.Z))return{error:new v.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${Y.type||Y.declaredClass}' is unsupported in 3D`,{symbol:Y})};ue=de?ae.Z.fromTextSymbol(Y):Z.Z.fromTextSymbol(Y)}if(se&&"cim"!==ue.type&&(ue.id=Y.id),le&&(0,d.dU)(ue))for(let pe=0;pe<ue.symbolLayers.length;++pe)ue.symbolLayers.getItemAt(pe)._ignoreDrivers=!0;return{symbol:ue}}(Y,{retainCIM:!0,hasLabelingContext:de});return(0,X.pC)(ye.symbol)?ye.symbol.write(oe,le):(null==ue||ue.push(new v.Z("symbol:unsupported",`Symbols of type '${Y.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:Y,context:le,error:ye.error})),null)}return("web-map"===q||"portal-item"===q&&!F.includes(null==(ie=null==le?void 0:le.layer)?void 0:ie.type))&&A(Y)?(null==ue||ue.push(new v.Z("symbol:unsupported",`Symbols of type '${Y.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:Y,context:le})),null):Y.write(oe,le)}function J(Y,oe){return(0,d.S9)(Y,null,oe)}},67866:(wt,Se,p)=>{"use strict";p.d(Se,{J:()=>d,k:()=>v});const d=["begin","end","begin-end"],v=["arrow","circle","square","diamond","cross","x"]},60958:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>D,y:()=>k});var d=p(91558),v=p(23841),X=p(90912),G=p(92236);const D={type:d.Z,json:{type:[X.z8],default:null,read:{source:["color","transparency"],reader:function z(N,B){const Q=null!=B.transparency?(0,G.b)(B.transparency):1,ne=B.color;return ne&&Array.isArray(ne)?new d.Z([ne[0]||0,ne[1]||0,ne[2]||0,Q]):null}},write:{target:{color:{type:[X.z8]},transparency:{type:X.z8}},writer:function Z(N,B){B.color=N.toJSON().slice(0,3);const Q=(0,G.a)(N.a);0!==Q&&(B.transparency=Q)}}}},k={type:Number,cast:v.t_,json:{write:!0}}},71131:(wt,Se,p)=>{"use strict";p.d(Se,{DY:()=>B,EB:()=>k,EV:()=>z,JZ:()=>X,Pc:()=>D,TE:()=>N,XX:()=>Q,b_:()=>v,dc:()=>ae,eb:()=>G,ht:()=>Z,tp:()=>ne,uH:()=>te});var v,re,d=p(91558);(re=v||(v={}))[re.size=22]="size",re[re.lineWidth=50]="lineWidth",re[re.maxSize=120]="maxSize",re[re.maxOutlineSize=80]="maxOutlineSize",re[re.tallSymbolWidth=20]="tallSymbolWidth";const X={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function G(re,$,F){const R=v.size;let U=R,A=R;re<1?U*=.75:re>1&&(A*=1.25);let Y=R,oe=R;return $&&F&&(U=A=Y=oe=0),[{type:"path",path:[{command:"M",values:[Y,0]},{command:"L",values:[F?Y:.875*Y,0]},{command:"L",values:[F?U-.5*Y:0,A-.5*oe]},{command:"L",values:[U-.5*Y,A-.5*oe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[Y,0]},{command:"L",values:[Y,$?0:.125*oe]},{command:"L",values:[U-.5*Y,$?A-.5*oe:oe]},{command:"L",values:[U-.5*Y,A-.5*oe]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[U-.5*Y,A-.5*oe]},{command:"L",values:[F?U-.5*Y:0,A-.5*oe]},{command:"L",values:[F?U-.5*Y:0,$?A-.5*oe:oe]},{command:"L",values:[U-.5*Y,$?A-.5*oe:oe]},{command:"Z",values:[]}]}]}function z(re){const $=v.size,F=.5*re;return[{type:"path",path:[{command:"M",values:[0,.7*$*.5]},{command:"L",values:[.3*$,.7*$]},{command:"L",values:[.3*$,.7*$+F]},{command:"L",values:[0,.7*$+F-.7*$*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*$,.7*$]},{command:"L",values:[.3*$,.7*$+F]},{command:"L",values:[$,F]},{command:"L",values:[$,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*$,0]},{command:"L",values:[$,0]},{command:"L",values:[.3*$,.7*$]},{command:"L",values:[0,.7*$*.5]},{command:"Z",values:[]}]}]}function Z(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function D(re,$){let F=$?v.tallSymbolWidth:re;const U=$?4:6;F-=F<=v.size?.5*U:U;const J=$?.35*F:.5*F;return[{type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,.5*J]},{command:"L",values:[.5*F,J]},{command:"L",values:[0,.5*J]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*J]},{command:"L",values:[.5*F,J]},{command:"L",values:[.5*F,re]},{command:"L",values:[0,re-.5*J]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*F,J]},{command:"L",values:[.5*F,re]},{command:"L",values:[F,re-.5*J]},{command:"L",values:[F,.5*J]},{command:"Z",values:[]}]}]}function k(re,$){let F=$?v.tallSymbolWidth:re;const U=$?4:6;F-=F<=v.size?.5*U:U;const A=.5*F,V=.15*F,Y=re-V;return[{type:"ellipse",cx:.5*F,cy:Y,rx:A,ry:V},{type:"path",path:[{command:"M",values:[0,V]},{command:"L",values:[0,Y]},{command:"L",values:[F,Y]},{command:"L",values:[F,V]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*F,cy:V,rx:A,ry:V}]}function N(re,$){let F=$?v.tallSymbolWidth:re;const U=$?4:6;F-=F<=v.size?.5*U:U;const A=.15*F,V=re-A;return[{type:"ellipse",cx:.5*F,cy:V,rx:.5*F,ry:A},{type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,V]},{command:"L",values:[0,V]},{command:"Z",values:[]}]}]}function B(re){let $=re;$-=$<v.size?3:6;const U=.15*$;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[$,0]},{command:"L",values:[.5*$,re-U]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*$,cy:0,rx:.5*$,ry:U}]}function Q(re){let $=re;const F=re;$-=$<v.size?2:4;const V=$,J=F,Y=Math.floor(re/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*V,0]},{command:"L",values:[V,.5*J-Y]},{command:"L",values:[.45*V-Y,.5*J+Y]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*V,0]},{command:"L",values:[.45*V-Y,.5*J+Y]},{command:"L",values:[0,.5*J-Y]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*J-Y]},{command:"L",values:[.45*V-Y,.5*J+Y]},{command:"L",values:[.45*V,F]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*V,F]},{command:"L",values:[V,.5*J-Y]},{command:"L",values:[.45*V-Y,.5*J+Y]},{command:"Z",values:[]}]}]}function ne(re){let R=re;return R-=R<v.size?1:2,[{type:"path",path:[{command:"M",values:[.45*re,0]},{command:"L",values:[re,R]},{command:"L",values:[.45*re,.6*R]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*re,0]},{command:"L",values:[.45*re,.6*R]},{command:"L",values:[0,R]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,R]},{command:"L",values:[.45*re,.6*R]},{command:"L",values:[re,R]},{command:"Z",values:[]}]}]}function te(re,$){return Math.round(Math.min(Math.max(re+255*$*.75,0),255))}function ae(re,$){if("type"in re&&("linear"===re.type||"pattern"===re.type))return re;const F=new d.Z(re);return new d.Z([te(F.r,$),te(F.g,$),te(F.b,$),F.a])}},6172:(wt,Se,p)=>{"use strict";p.d(Se,{w:()=>Fe,r:()=>Je});var d=p(24263),v=p(84792),X=p(78260),G=p(26584),z=p(8314),D=(p(50645),p(62996)),k=p(91558),N=p(12225),B=p(31478),ne=(p(38570),p(94450));let ae=0,re=0;const $=(0,z.Z)("android"),F=(0,z.Z)("chrome")||$&&$>=4?"auto":"optimizeLegibility",R={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},U=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let A={},V={};const J={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},Y=Math.PI;let oe=1;function se($e,ot){const mt=$e*(Y/180);return Math.abs(ot*Math.sin(mt))+Math.abs(ot*Math.cos(mt))}function le($e){return $e.map(ot=>`${ot.command} ${ot.values.join(" ")}`).join(" ").trim()}function de($e,ot,mt,Tt){if($e){if("circle"===$e.type)return(0,ne.u)("circle",{fill:ot,"fill-rule":"evenodd",stroke:mt.color,"stroke-width":mt.width,"stroke-linecap":mt.cap,"stroke-linejoin":mt.join,"stroke-dasharray":mt.dashArray,"stroke-dashoffset":mt.dashOffset,"stroke-miterlimit":"4",cx:$e.cx,cy:$e.cy,r:$e.r});if("ellipse"===$e.type)return(0,ne.u)("ellipse",{fill:ot,"fill-rule":"evenodd",stroke:mt.color,"stroke-width":mt.width,"stroke-linecap":mt.cap,"stroke-linejoin":mt.join,"stroke-dasharray":mt.dashArray,"stroke-miterlimit":"4",cx:$e.cx,cy:$e.cy,rx:$e.rx,ry:$e.ry});if("rect"===$e.type)return(0,ne.u)("rect",{fill:ot,"fill-rule":"evenodd",stroke:mt.color,"stroke-width":mt.width,"stroke-linecap":mt.cap,"stroke-linejoin":mt.join,"stroke-dasharray":mt.dashArray,"stroke-miterlimit":"4",x:$e.x,y:$e.y,width:$e.width,height:$e.height});if("image"===$e.type)return(0,ne.u)("image",{href:$e.src,x:$e.x,y:$e.y,width:$e.width,height:$e.height,preserveAspectRatio:"none"});if("path"===$e.type){const It="string"!=typeof $e.path?le($e.path):$e.path;return(0,ne.u)("path",{fill:ot,"fill-rule":"evenodd",stroke:mt.color,"stroke-width":mt.width,"stroke-linecap":mt.cap,"stroke-linejoin":mt.join,"stroke-dasharray":mt.dashArray,"stroke-miterlimit":"4",d:It})}if("text"===$e.type)return(0,ne.u)("text",{"alignment-baseline":Tt.alignBaseline,fill:ot,"fill-rule":"evenodd",stroke:mt.color,"stroke-width":mt.width,"stroke-linecap":mt.cap,"stroke-linejoin":mt.join,"stroke-dasharray":mt.dashArray,"stroke-miterlimit":"4","text-anchor":Tt.align,"text-decoration":Tt.decoration,kerning:Tt.kerning,rotate:Tt.rotate,"text-rendering":F,"font-style":Tt.font.style,"font-variant":Tt.font.variant,"font-weight":Tt.font.weight,"font-size":Tt.font.size,"font-family":Tt.font.family,x:$e.x,y:$e.y},$e.text)}return null}function q($e){const ot={fill:"none",pattern:null,linearGradient:null};if($e)if("type"in $e&&"pattern"===$e.type){const mt="patternId-"+ ++ae;ot.fill=`url(#${mt})`,ot.pattern={id:mt,x:$e.x,y:$e.y,width:$e.width,height:$e.height,image:{x:0,y:0,width:$e.width,height:$e.height,href:$e.src}}}else if("type"in $e&&"linear"===$e.type){const mt="linearGradientId-"+ ++re;ot.fill=`url(#${mt})`,ot.linearGradient={id:mt,x1:$e.x1,y1:$e.y1,x2:$e.x2,y2:$e.y2,stops:$e.colors.map(Tt=>({offset:Tt.offset,color:Tt.color&&new k.Z(Tt.color).toString()}))}}else if($e){const mt=new k.Z($e);ot.fill=mt.toString()}return ot}function ue($e){const ot={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if($e&&(null!=$e.width&&(ot.width=$e.width),$e.cap&&(ot.cap=$e.cap),$e.join&&(ot.join=$e.join.toString()),$e.color&&(ot.color=new k.Z($e.color).toString()),$e.dashArray&&(ot.dashArray=$e.dashArray),$e.dashArray&&(ot.dashOffset=$e.dashoffset),$e.style)){let mt=null;if($e.style in J&&(mt=J[$e.style]),Array.isArray(mt)){mt=mt.slice(0);for(let Tt=0;Tt<mt.length;++Tt)mt[Tt]*=$e.width;if("butt"!==$e.cap){for(let Tt=0;Tt<mt.length;Tt+=2)mt[Tt]-=$e.width,mt[Tt]<1&&(mt[Tt]=1);for(let Tt=1;Tt<mt.length;Tt+=2)mt[Tt]+=$e.width}mt=mt.join(",")}ot.dashArray=mt}return ot}function ie($e,ot){const mt={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return $e&&(mt.align=$e.align,mt.alignBaseline=$e.alignBaseline,mt.decoration=$e.decoration,mt.kerning=$e.kerning?"auto":"0",mt.rotate=$e.rotated?"90":"0",mt.font.style=ot.style||"normal",mt.font.variant=ot.variant||"normal",mt.font.weight=ot.weight||"normal",mt.font.size=ot.size&&ot.size.toString()||"10pt",mt.font.family=ot.family||"serif"),mt}function ye($e){const{pattern:ot,linearGradient:mt}=$e;if(ot)return(0,ne.u)("pattern",{id:ot.id,patternUnits:"userSpaceOnUse",x:ot.x,y:ot.y,width:ot.width,height:ot.height},(0,ne.u)("image",{x:ot.image.x,y:ot.image.y,width:ot.image.width,height:ot.image.height,href:ot.image.href}));if(mt){const Tt=mt.stops.map((It,Nt)=>(0,ne.u)("stop",{key:`${Nt}-stop`,offset:It.offset,"stop-color":It.color}));return(0,ne.u)("linearGradient",{id:mt.id,gradientUnits:"userSpaceOnUse",x1:mt.x1,y1:mt.y1,x2:mt.x2,y2:mt.y2},Tt)}return null}function pe($e,ot){if(!$e)return null;const mt=[];for(const Tt of $e){const{shape:It,fill:Nt,stroke:Rt,font:Xe}=Tt,vt=q(Nt),Zt=ue(Rt),xt="text"===It.type?ie(It,Xe):null;mt.push(de(It,vt.fill,Zt,xt))}return(0,ne.u)("mask",{id:ot,maskUnits:"userSpaceOnUse"},(0,ne.u)("g",null,mt))}function Ce($e,ot,mt){return(0,B.t)($e,(0,B.i)($e),[ot,mt])}function De($e,ot,mt,Tt,It){return(0,B.s)($e,(0,B.i)($e),[ot,mt]),$e[4]=$e[4]*ot-Tt*ot+Tt,$e[5]=$e[5]*mt-It*mt+It,$e}function ve($e,ot){A&&"left"in A?(A.left>$e&&(A.left=$e),A.right<$e&&(A.right=$e),A.top>ot&&(A.top=ot),A.bottom<ot&&(A.bottom=ot)):A={left:$e,bottom:ot,right:$e,top:ot}}function Le($e){const ot=$e.args,mt=ot.length;let Tt;switch($e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(Tt=0;Tt<mt;Tt+=2)ve(ot[Tt],ot[Tt+1]);V.x=ot[mt-2],V.y=ot[mt-1];break;case"H":for(Tt=0;Tt<mt;++Tt)ve(ot[Tt],V.y);V.x=ot[mt-1];break;case"V":for(Tt=0;Tt<mt;++Tt)ve(V.x,ot[Tt]);V.y=ot[mt-1];break;case"m":{let It=0;for(("x"in V||(ve(V.x=ot[0],V.y=ot[1]),It=2),Tt=It);Tt<mt;Tt+=2)ve(V.x+=ot[Tt],V.y+=ot[Tt+1]);break}case"l":case"t":for(Tt=0;Tt<mt;Tt+=2)ve(V.x+=ot[Tt],V.y+=ot[Tt+1]);break;case"h":for(Tt=0;Tt<mt;++Tt)ve(V.x+=ot[Tt],V.y);break;case"v":for(Tt=0;Tt<mt;++Tt)ve(V.x,V.y+=ot[Tt]);break;case"c":for(Tt=0;Tt<mt;Tt+=6)ve(V.x+ot[Tt],V.y+ot[Tt+1]),ve(V.x+ot[Tt+2],V.y+ot[Tt+3]),ve(V.x+=ot[Tt+4],V.y+=ot[Tt+5]);break;case"s":case"q":for(Tt=0;Tt<mt;Tt+=4)ve(V.x+ot[Tt],V.y+ot[Tt+1]),ve(V.x+=ot[Tt+2],V.y+=ot[Tt+3]);break;case"A":for(Tt=0;Tt<mt;Tt+=7)ve(ot[Tt+5],ot[Tt+6]);V.x=ot[mt-2],V.y=ot[mt-1];break;case"a":for(Tt=0;Tt<mt;Tt+=7)ve(V.x+=ot[Tt+5],V.y+=ot[Tt+6])}}function je($e,ot,mt){const Tt=R[$e.toLowerCase()];let It;"number"==typeof Tt&&(Tt?ot.length>=Tt&&(It={action:$e,args:ot.slice(0,ot.length-ot.length%Tt)},mt.push(It),Le(It)):(It={action:$e,args:[]},mt.push(It),Le(It)))}function Re($e){const ot={x:0,y:0,width:0,height:0};if("circle"===$e.type)ot.x=$e.cx-$e.r,ot.y=$e.cy-$e.r,ot.width=2*$e.r,ot.height=2*$e.r;else if("ellipse"===$e.type)ot.x=$e.cx-$e.rx,ot.y=$e.cy-$e.ry,ot.width=2*$e.rx,ot.height=2*$e.ry;else if("image"===$e.type||"rect"===$e.type)ot.x=$e.x,ot.y=$e.y,ot.width=$e.width,ot.height=$e.height;else if("path"===$e.type){const mt=function _e($e){const ot=("string"!=typeof $e.path?le($e.path):$e.path).match(U),mt=[];if(A={},V={},!ot)return null;let Tt="",It=[];const Nt=ot.length;for(let Xe=0;Xe<Nt;++Xe){const vt=ot[Xe],Zt=parseFloat(vt);isNaN(Zt)?(Tt&&je(Tt,It,mt),It=[],Tt=vt):It.push(Zt)}je(Tt,It,mt);const Rt={x:0,y:0,width:0,height:0};return A&&"left"in A&&(Rt.x=A.left,Rt.y=A.top,Rt.width=A.right-A.left,Rt.height=A.bottom-A.top),Rt}($e);ot.x=mt.x,ot.y=mt.y,ot.width=mt.width,ot.height=mt.height}return ot}function nt($e){const ot={x:0,y:0,width:0,height:0};let mt=null,Tt=Number.NEGATIVE_INFINITY,It=Number.NEGATIVE_INFINITY;for(const Nt of $e)mt?(mt.x=Math.min(mt.x,Nt.x),mt.y=Math.min(mt.y,Nt.y),Tt=Math.max(Tt,Nt.x+Nt.width),It=Math.max(It,Nt.y+Nt.height)):(mt=ot,mt.x=Nt.x,mt.y=Nt.y,Tt=Nt.x+Nt.width,It=Nt.y+Nt.height);return mt&&(mt.width=Tt-mt.x,mt.height=It-mt.y),mt}function pt($e,ot,mt,Tt,It,Nt,Rt,Xe,vt){let Zt=(Rt&&Nt?se(Nt,ot):ot)/2,xt=(Rt&&Nt?se(Nt,mt):mt)/2;if(vt){const vr=vt[0],zn=vt[1];Zt=(Rt&&Nt?se(Nt,vr):vr)/2,xt=(Rt&&Nt?se(Nt,zn):zn)/2}const Lt=$e.width+Tt,en=$e.height+Tt,En=(0,N.c)(),Dn=(0,N.c)();let Xn=!1;if(It&&0!==Lt&&0!==en){const vr=ot!==mt?ot/mt:Lt/en,zn=ot>mt?ot:mt;let zt=1,sn=1;isNaN(zn)||(vr>1?(zt=zn/Lt,sn=zn/vr/en):(sn=zn/en,zt=zn*vr/Lt)),(0,B.m)(Dn,Dn,De(En,zt,sn,Zt,xt)),Xn=!0}const pr=$e.x+(Lt-Tt)/2,Tr=$e.y+(en-Tt)/2;if((0,B.m)(Dn,Dn,Ce(En,Zt-pr,xt-Tr)),!Xn&&(Lt>ot||en>mt)){const vr=Lt/ot>en/mt,zn=(vr?ot:mt)/(vr?Lt:en);(0,B.m)(Dn,Dn,De(En,zn,zn,pr,Tr))}return Nt&&(0,B.m)(Dn,Dn,function Me($e,ot,mt,Tt){const It=ot%360*Math.PI/180;(0,B.r)($e,(0,B.i)($e),It);const Nt=Math.cos(It),Rt=Math.sin(It),Xe=$e[4],vt=$e[5];return $e[4]=Xe*Nt-vt*Rt+Tt*Rt-mt*Nt+mt,$e[5]=vt*Nt+Xe*Rt-mt*Rt-Tt*Nt+Tt,$e}(En,Nt,pr,Tr)),Xe&&(0,B.m)(Dn,Dn,Ce(En,Xe[0],Xe[1])),`matrix(${Dn[0]},${Dn[1]},${Dn[2]},${Dn[3]},${Dn[4]},${Dn[5]})`}function xe($e,ot,mt,Tt={}){var Zt;const It=[],Nt=[],Rt=++oe,Xe=function Ne($e,ot,mt){const Tt=null==$e?void 0:$e.effects.find(Zt=>"bloom"===Zt.type);if(!Tt)return null;const{strength:It,radius:Nt}=Tt,Rt=It>0?Nt:0,Xe=(It+Rt)*ot,vt=4*It+1;return(0,ne.u)("filter",{id:`bloom${mt}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,ne.u)("feMorphology",{operator:"dilate",radius:(It+.5*Rt)*(5**(ot/100)*(.4+ot/100)),in:"SourceGraphic",result:"dilate"}),(0,ne.u)("feGaussianBlur",{in:"dilate",stdDeviation:Xe/25,result:"blur"}),(0,ne.u)("feGaussianBlur",{in:"blur",stdDeviation:Xe/50,result:"intensityBlur"}),(0,ne.u)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,ne.u)("feFuncR",{type:"linear",slope:vt}),(0,ne.u)("feFuncG",{type:"linear",slope:vt}),(0,ne.u)("feFuncB",{type:"linear",slope:vt})),(0,ne.u)("feMerge",null,(0,ne.u)("feMergeNode",{in:"intensityBlur"}),(0,ne.u)("feMergeNode",{in:"intensityBrightness"}),(0,ne.u)("feGaussianBlur",{stdDeviation:It/10})))}(Tt.effectView,ot,Rt);let vt=null;if(Xe){const xt=null==(Zt=Tt.effectView)?void 0:Zt.effects.find(Dn=>"bloom"===Dn.type),Lt=(xt.strength?xt.strength+xt.radius/2:0)/3,En=mt+mt*Lt;vt=[Math.max(ot+ot*Lt,10),Math.max(En,10)]}for(let xt=0;xt<$e.length;xt++){const Lt=$e[xt],en=[],En=[];let Dn=0,Xn=0,pr=0;for(const zn of Lt){const{shape:zt,fill:sn,stroke:pn,font:In,offset:Wn}=zn;Tt.ignoreStrokeWidth||(Dn+=pn&&pn.width||0);const jn=q(sn),$n=ue(pn),Ht="text"===zt.type?ie(zt,In):null;It.push(ye(jn)),en.push(de(zt,jn.fill,$n,Ht)),En.push(Re(zt)),Wn&&(Xn+=Wn[0],pr+=Wn[1])}const Tr=pt(nt(En),ot,mt,Dn,Tt.scale,Tt.rotation,Tt.useRotationSize,[Xn,pr],vt);let vr=null;if(Tt.masking){const zn=`mask-${xt}`;It.push(pe(Tt.masking[xt],zn)),vr=`url(#${zn})`}Nt.push(vr?(0,ne.u)("g",{mask:vr},(0,ne.u)("g",{transform:Tr},en)):(0,ne.u)("g",{transform:Tr},en))}return Tt.useRotationSize&&Tt.rotation&&(ot=se(Tt.rotation,ot),mt=se(Tt.rotation,mt)),Xe&&(ot=vt[0],mt=vt[1]),(0,ne.u)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ot,height:mt,style:"display: block;"},Xe,(0,ne.u)("defs",null,It),Xe?(0,ne.u)("g",{filter:`url(#bloom${Rt})`},Nt):Nt)}var Ye=p(86606);const Ke=(0,D.E)();function Fe($e,ot,mt){const Tt=Math.ceil(ot[0]),It=Math.ceil(ot[1]);if(!$e.some(Rt=>!!Rt.length))return null;const Nt=mt&&mt.node||document.createElement("div");return null!=mt.opacity&&(Nt.style.opacity=mt.opacity.toString()),null!=mt.effectView&&(Nt.style.filter=(0,Ye.wJ)(mt.effectView)),Ke.append(Nt,xe.bind(null,$e,Tt,It,mt)),Nt}function Be($e,ot,mt,Tt,It){switch(It){case"multiply":$e[ot+0]*=mt[0],$e[ot+1]*=mt[1],$e[ot+2]*=mt[2],$e[ot+3]*=mt[3];break;default:{const Nt=(0,X._Y)({r:$e[ot+0],g:$e[ot+1],b:$e[ot+2]});Nt.h=Tt.h,Nt.s=Tt.s,Nt.v=Nt.v/100*Tt.v;const Rt=(0,X.xr)(Nt);$e[ot+0]=Rt.r,$e[ot+1]=Rt.g,$e[ot+2]=Rt.b,$e[ot+3]*=mt[3];break}}}function Je($e,ot,mt,Tt,It){return function ct($e,ot,mt){return $e?(0,v.default)($e,{responseType:"image"}).then(Tt=>{const It=Tt.data,Nt=It.width,Rt=It.height,Xe=Nt/Rt;let vt=ot;if(mt){const Zt=Math.max(Nt,Rt);vt=Math.min(vt,Zt)}return{image:It,width:Xe<=1?Math.ceil(vt*Xe):vt,height:Xe<=1?vt:Math.ceil(vt/Xe)}}):Promise.reject(new G.Z("renderUtils: imageDataSize","href not provided."))}($e,ot,It).then(Nt=>{const Rt=Nt.width?Nt.width:ot,Xe=Nt.height?Nt.height:ot;if(Nt.image&&function we($e,ot){return!(!$e||"ignore"===ot||"multiply"===ot&&255===$e.r&&255===$e.g&&255===$e.b&&1===$e.a)}(mt,Tt)){let vt=Nt.image.width,Zt=Nt.image.height;(0,z.Z)("edge")&&/\.svg$/i.test($e)&&(vt-=1,Zt-=1);const xt=function Ze($e,ot){$e=Math.ceil($e),ot=Math.ceil(ot);const mt=document.createElement("canvas");mt.width=$e,mt.height=ot,mt.style.width=$e+"px",mt.style.height=ot+"px";const Tt=mt.getContext("2d");return Tt.clearRect(0,0,$e,ot),Tt}(Rt,Xe);xt.drawImage(Nt.image,0,0,vt,Zt,0,0,Rt,Xe);const Lt=xt.getImageData(0,0,Rt,Xe),en=[mt.r/255,mt.g/255,mt.b/255,mt.a],En=(0,X._Y)(mt);for(let Dn=0;Dn<Lt.data.length;Dn+=4)Be(Lt.data,Dn,en,En,Tt);xt.putImageData(Lt,0,0),$e=xt.canvas.toDataURL("image/png")}else{const vt=d.id&&d.id.findCredential($e);if(vt&&vt.token){const Zt=$e.includes("?")?"&":"?";$e=`${$e}${Zt}token=${vt.token}`}}return{url:$e,width:Rt,height:Xe}}).catch(()=>({url:$e,width:ot,height:ot}))}},78241:(wt,Se,p)=>{"use strict";p.d(Se,{wm:()=>oe,n2:()=>F,KV:()=>R,EJ:()=>V,v9:()=>U});var d=p(15861),v=p(84792),X=p(26584),G=p(62208),z=p(10699),Z=p(21726),D=p(84687),k=p(6278),N=p(8314);const ne={};function ae(){return(ae=(0,d.Z)(function*(se,le){try{return{data:(yield V(se,le)).data,baseUrl:(0,Z.Yd)(se),styleUrl:se}}catch(de){return(0,z.r9)(de),null}})).apply(this,arguments)}function F(se,le,de){return se.styleUrl?function te(se,le){return ae.apply(this,arguments)}(se.styleUrl,de):se.styleName?function re(se,le,de){const q=(0,G.pC)(le.portal)?le.portal:D.Z.getDefault();let ue;const ie=`${q.url} - ${q.user&&q.user.username} - ${se}`;return ne[ie]||(ne[ie]=function $(se,le,de){return le.load(de).then(()=>{const q=new k.Z({disableExtraQuery:!0,query:`owner:${J} AND type:${Y} AND typekeywords:"${se}"`});return le.queryItems(q,de)}).then(({results:q})=>{let ue=null;const ie=se.toLowerCase();if(q&&Array.isArray(q))for(const ye of q)if(ye.typeKeywords.some(pe=>pe.toLowerCase()===ie)&&ye.type===Y&&ye.owner===J){ue=ye;break}if(!ue)throw new X.Z("symbolstyleutils:style-not-found",`The style '${se}' could not be found`,{styleName:se});return ue.load(de)})}(se,q,de).then(ye=>(ue=ye,ye.fetchData())).then(ye=>({data:ye,baseUrl:ue.itemUrl,styleName:se}))),ne[ie]}(se.styleName,le,de):Promise.reject(new X.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function R(se){return null===se||"CIMSymbolReference"===se.type?se:{type:"CIMSymbolReference",symbol:se}}function U(se,le){if("cimRef"===le)return se.cimRef;if(se.formatInfos&&!(0,N.Z)("enable-feature:force-wosr"))for(const de of se.formatInfos)if("gltf"===de.type)return de.href;return se.webRef}function V(se,le){const de=Nn({responseType:"json",query:{f:"json"}},le);return(0,v.default)((0,Z.Fv)(se),de)}const J="esri_en",Y="Style",oe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},43652:(wt,Se,p)=>{"use strict";p.d(Se,{$K:()=>G,Hc:()=>N,KW:()=>B,Uz:()=>k,w2:()=>Q}),p(8314);var v=p(28093),X=p(5548);function G(ne,{isPrimitive:te,width:ae,depth:re,height:$}){const F=te?10:1;if(null==ae&&null==$&&null==re)return[F*ne[0],F*ne[1],F*ne[2]];const R=(0,v.f)(ae,re,$);let U;for(let A=0;A<3;A++){const V=R[A];if(null!=V){U=V/ne[A];break}}for(let A=0;A<3;A++)null==R[A]&&(R[A]=ne[A]*U);return R}const z=(0,X.al)(-.5,-.5,-.5,.5,.5,.5),Z=(0,X.al)(-.5,-.5,0,.5,.5,1),D=(0,X.al)(-.5,-.5,0,.5,.5,.5);function k(ne){switch(ne){case"sphere":case"cube":case"diamond":return z;case"cylinder":case"cone":case"inverted-cone":return Z;case"tetrahedron":return D;default:return}}const N=["butt","square","round"],B=[...N,"none"],Q=["miter","bevel","round"]},50369:(wt,Se,p)=>{"use strict";p.d(Se,{Ck:()=>Z,JT:()=>X,Nj:()=>B,g6:()=>G,vC:()=>z,x0:()=>N});var d=p(21286),v=p(90912);const X=["none","underline","line-through"],G=["normal","italic","oblique"],z=["normal","lighter","bold","bolder"],Z={type:Number,cast:Q=>{const ne=(0,v.q9)(Q);return 0===ne?1:(0,d.uZ)(ne,.1,4)},nonNullable:!0},N={type:["left","right","center"],nonNullable:!0},B={type:["baseline","top","middle","bottom"],nonNullable:!0}},29505:(wt,Se,p)=>{"use strict";p.d(Se,{f9:()=>z});var d=p(21254);const z=function G(){const Z=Object.keys(d.a);return Z.sort(),Z}()},69738:(wt,Se,p)=>{"use strict";p.d(Se,{Ds:()=>D,KA:()=>Z});var d=p(21726),v=p(29840);function G(N,B){return function k(N){return N&&("service"===N.origin||"portal-item"===N.origin)&&N.layer&&("feature"===N.layer.type||"stream"===N.layer.type)}(B)&&!(0,d.YP)(N)&&B.layer.parsedUrl?(0,d.v_)(B.layer.parsedUrl.path,"images",N):(0,v.f)(N,B)}const Z={json:{read:{source:["imageData","url"],reader:function X(N,B,Q){return B.imageData?(0,d._l)({mediaType:B.contentType||"image/png",isBase64:!0,data:B.imageData}):G(B.url,Q)}},write:{writer(N,B,Q,ne){!function z(N,B,Q,ne){if((0,d.HK)(N)){const te=(0,d.sJ)(N);B.contentType=te.mediaType,B.imageData=te.data,Q&&Q.imageData===B.imageData&&Q.url&&(0,v.w)(Q.url,B,"url",ne)}else(0,v.w)(N,B,"url",ne)}(N,B,this.source,ne)}}}},D={readOnly:!0,json:{read:{source:["imageData","url"],reader(N,B,Q){const ne={};return B.imageData&&(ne.imageData=B.imageData),B.contentType&&(ne.contentType=B.contentType),B.url&&(ne.url=G(B.url,Q)),ne}}}}},86606:(wt,Se,p)=>{"use strict";p.d(Se,{BR:()=>Re,YW:()=>re,_h:()=>F,e3:()=>je,nf:()=>$,tb:()=>J,wJ:()=>nt});var d=p(15861),v=p(91558),X=p(65787),G=p(59213),z=p(8314),Z=p(62208),D=p(28093),k=p(71149),B=(p(74741),p(64830));const Q=/\/resource\/(.*?)\.svg$/,ne=new v.Z("white");function re(pt){if((0,Z.Wi)(pt)||!("symbolLayers"in pt)||(0,Z.Wi)(pt.symbolLayers))return!1;switch(pt.type){case"point-3d":return pt.symbolLayers.some(Ne=>"object"===Ne.type);case"line-3d":return pt.symbolLayers.some(Ne=>"path"===Ne.type);case"polygon-3d":return pt.symbolLayers.some(Ne=>"object"===Ne.type||"extrude"===Ne.type);default:return!1}}function $(pt,Ne){const xe=Ne.resource.href;return!(0,z.Z)("esri-canvas-svg-support")&&pt.styleOrigin&&Q.test(xe)?xe.replace(Q,"/resource/png/$1.png"):xe}function F(pt,Ne){if(!pt)return null;let xe=null;return(0,X.dU)(pt)?xe=function R(pt){const Ne=pt.symbolLayers;if(!Ne)return null;let xe=null;return Ne.forEach(Ye=>{"object"===Ye.type&&null!=Ye.resource.href||(xe="water"===Ye.type?(0,Z.Wg)(Ye.color):(0,Z.pC)(Ye.material)?(0,Z.Wg)(Ye.material.color):null)}),xe?new v.Z(xe):null}(pt):(0,X.cT)(pt)&&(xe=pt.color?new v.Z(pt.color):null),xe?U(xe,Ne):null}function U(pt,Ne){if(null==Ne)return pt;const xe=pt.toRgba();return xe[3]=xe[3]*Ne,new v.Z(xe)}function J(pt,Ne,xe){pt&&(Ne||null!=xe)&&(Ne&&(Ne=new v.Z(Ne)),(0,X.dU)(pt)?function A(pt,Ne,xe){const Ye=pt.symbolLayers;if(!Ye)return;const Ke=Fe=>{const Ze=(0,Z.pC)(Fe)?Fe:null;return U(Ne=Ne||Ze||null!=xe&&ne,xe)};Ye.forEach(Fe=>{if("object"!==Fe.type||null==Fe.resource.href||Ne)if("water"===Fe.type)Fe.color=Ke(Fe.color);else{const Ze=(0,Z.pC)(Fe.material)?Fe.material.color:null,ct=Ke(Ze);(0,Z.Wi)(Fe.material)?Fe.material=new B.b({color:ct}):Fe.material.color=ct,null!=xe&&"outline"in Fe&&(0,Z.pC)(Fe.outline)&&(0,Z.pC)(Fe.outline.color)&&(Fe.outline.color=U(Fe.outline.color,xe))}})}(pt,Ne,xe):(0,X.cT)(pt)&&function V(pt,Ne,xe){(Ne=Ne||pt.color)&&(pt.color=U(Ne,xe)),null!=xe&&"outline"in pt&&pt.outline&&pt.outline.color&&(pt.outline.color=U(pt.outline.color,xe))}(pt,Ne,xe))}function Y(pt,Ne){return oe.apply(this,arguments)}function oe(){return oe=(0,d.Z)(function*(pt,Ne){const xe=pt.symbolLayers;xe&&(yield(0,G.Ed)(xe,function(){var Ye=(0,d.Z)(function*(Ke){return se(Ke,Ne)});return function(Ke){return Ye.apply(this,arguments)}}()))}),oe.apply(this,arguments)}function se(pt,Ne){return le.apply(this,arguments)}function le(){return(le=(0,d.Z)(function*(pt,Ne){switch(pt.type){case"extrude":ue(pt,Ne);break;case"icon":case"line":case"text":de(pt,Ne);break;case"path":pe(pt,Ne);break;case"object":yield ie(pt,Ne)}})).apply(this,arguments)}function de(pt,Ne){const xe=q(Ne);(0,Z.pC)(xe)&&(pt.size=xe)}function q(pt){for(const Ne of pt)if("number"==typeof Ne)return Ne;return null}function ue(pt,Ne){pt.size="number"==typeof Ne[2]?Ne[2]:0}function ie(pt,Ne){return ye.apply(this,arguments)}function ye(){return(ye=(0,d.Z)(function*(pt,Ne){const{resourceSize:xe,symbolSize:Ye}=yield De(pt),Ke=Ce(Ne,xe,Ye);pt.width=ve(Ne[0],Ye[0],xe[0],Ke),pt.depth=ve(Ne[1],Ye[1],xe[1],Ke),pt.height=ve(Ne[2],Ye[2],xe[2],Ke)})).apply(this,arguments)}function pe(pt,Ne){const xe=Ce(Ne,D.O,[pt.width,void 0,pt.height]);pt.width=ve(Ne[0],pt.width,1,xe),pt.height=ve(Ne[2],pt.height,1,xe)}function Ce(pt,Ne,xe){for(let Ye=0;Ye<3;Ye++){const Ke=pt[Ye];switch(Ke){case"symbol-value":return null!=xe[Ye]?xe[Ye]/Ne[Ye]:1;case"proportional":break;default:if(Ke&&Ne[Ye])return Ke/Ne[Ye]}}return 1}function De(pt){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(pt){const Ne=yield p.e(1831).then(p.bind(p,91831)),xe=yield Ne.computeObjectLayerResourceSize(pt,10),{width:Ye,height:Ke,depth:Fe}=pt,Ze=[Ye,Fe,Ke];let ct=1;for(let we=0;we<3;we++)if(null!=Ze[we]){ct=Ze[we]/xe[we];break}for(let we=0;we<3;we++)null==Ze[we]&&(Ze[we]=xe[we]*ct);return{resourceSize:xe,symbolSize:Ze}})).apply(this,arguments)}function ve(pt,Ne,xe,Ye){switch(pt){case"proportional":return xe*Ye;case"symbol-value":return null!=Ne?Ne:xe;default:return pt}}function Le(pt,Ne){const xe=q(Ne);if(!(0,Z.Wi)(xe))switch(pt.type){case"simple-marker":pt.size=xe;break;case"picture-marker":{const Ye=pt.width/pt.height;Ye>1?(pt.width=xe,pt.height=xe*Ye):(pt.width=xe*Ye,pt.height=xe);break}case"simple-line":pt.width=xe;break;case"text":pt.font.size=xe}}function je(pt,Ne){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.Z)(function*(pt,Ne){if(pt&&Ne)return(0,X.dU)(pt)?Y(pt,Ne):void((0,X.cT)(pt)&&Le(pt,Ne))})).apply(this,arguments)}function Re(pt,Ne,xe){if(pt&&null!=Ne)if((0,X.dU)(pt)){const Ye=pt.symbolLayers;Ye&&Ye.forEach(Ke=>{if(Ke&&"object"===Ke.type)switch(xe){case"tilt":Ke.tilt=Ne;break;case"roll":Ke.roll=Ne;break;default:Ke.heading=Ne}})}else(0,X.cT)(pt)&&("simple-marker"!==pt.type&&"picture-marker"!==pt.type&&"text"!==pt.type||(pt.angle=Ne))}function nt(pt){if(!pt)return null;const Ne=pt.effects.filter(xe=>"bloom"!==xe.type).map(xe=>xe.toJSON());return(0,k.rM)(Ne)}},81340:(wt,Se,p)=>{"use strict";p.d(Se,{n:()=>Z});var d=p(35575),v=p(2004),X=p(65401),G=p(89621),z=p(58098);class Z{constructor(k,N){this.key=new z.Z(0,0,0,0),this.bounds=(0,X.Ue)(),this.objectIds=new Set,this.key.set(N);const B=k.getLODInfoAt(this.key);this.tileInfoView=k,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=B.resolution,this.scale=B.scale,this.level=B.level}get id(){return this.key.id}get extent(){return v.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const k=this.key.getChildKeys(),N=d.Z.acquire();for(let B=0;B<k.length;B++)N[B]=new Z(this.tileInfoView,k[B]);return N}getQuantizationParameters(){return G.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},56656:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>B});var d=p(61885),v=p(8314),X=p(76279),G=p(81340),z=p(84378),Z=p(58098);const D={added:[],removed:[]},k=new Set,N=new Z.Z(0,0,0,0);class B extends d.Z{constructor(ne){super(),this._tiles=new Map,this._index=(0,X.r)(9,(0,v.Z)("esri-csp-restrictions")?te=>({minX:te.bounds[0],minY:te.bounds[1],maxX:te.bounds[2],maxY:te.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=ne}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(ne){return this._tiles.has(ne)}get(ne){return this._tiles.get(ne)}boundsIntersections(ne){return this._index.search({minX:ne[0],minY:ne[1],maxX:ne[2],maxY:ne[3]})}updateTiles(ne){const te={added:[],removed:[]};for(const ae of ne.added)if(!this.has(ae)){const re=new G.n(this.tileScheme,ae);this._tiles.set(ae,re),this._index.insert(re),te.added.push(re)}for(const ae of ne.removed)if(this.has(ae)){const re=this.get(ae);this._tiles.delete(ae),this._index.remove(re),te.removed.push(re)}this.tiles.length=0,this._tiles.forEach(ae=>this.tiles.push(ae)),(te.added.length||te.removed.length)&&this.emit("update",te)}setViewState(ne){const te=this.tileScheme.getTileCoverage(ne,0);if(!te)return;const{spans:ae,lodInfo:re}=te,{level:$}=re;if(ae.length>0)for(const{row:F,colFrom:R,colTo:U}of ae)for(let A=R;A<=U;A++){const V=N.set($,F,re.normalizeCol(A),re.getWorldForColumn(A)).id;if(k.add(V),!this.has(V)){const J=new G.n(this.tileScheme,V);this._tiles.set(V,J),this._index.insert(J),this.tiles.push(J),D.added.push(J)}}for(let F=this.tiles.length-1;F>=0;F--){const R=this.tiles[F];k.has(R.id)||(this._tiles.delete(R.id),this.tiles.splice(F,1),this._index.remove(R),D.removed.push(R))}(D.added.length||D.removed.length)&&this.emit("update",D),z.Z.pool.release(te),k.clear(),D.added.length=0,D.removed.length=0}}},33412:(wt,Se,p)=>{"use strict";p.d(Se,{T:()=>v});class v{constructor(){this._names=new Map}begin(G){this._names.has(G)||(this._names.set(G,!1),G.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${G}.Start`))}end(G){this._names.has(G)&&!this._names.get(G)&&(this._names.set(G,!0),performance.mark(`Esri.${G}.End`))}record(G){this._names.has(G)||(this._names.set(G,!0),performance.mark(`Esri.${G}`))}}},17083:(wt,Se,p)=>{"use strict";var d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(67831),N=p(71251);const Q=new Set,ne=[],te=new Map,ae=[0,0];let re=class extends v.Z{constructor(F){super(F),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:F,process:R}=this;this._queue=new N.e({concurrency:F,process:(U,A)=>{const V=this._keyToItem.get(U);return R(V,{signal:A})},peeker:U=>U.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(F){this._queue.abort("string"==typeof F?F:F.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(F){return this._keyToItem.has("string"==typeof F?F:F.id)}isOngoing(F){const R="string"==typeof F?F:F.id;return this.has(R)&&this._queue.isOngoing(R)}pause(){this._queue.pause()}push(F,R){const U=F.key.id+"-"+R;if(this.has(U))return this.get(U);const A=this._queue.push(U),V=()=>{this._keyToItem.delete(U),this.notifyChange("updating")};return this._keyToItem.set(U,F),A.then(V,V),this.notifyChange("updating"),A}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(F){if(!this.state)return F.values().next().value;const R=this.tileInfoView;let U=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;F.forEach(le=>{const de=this._keyToItem.get(le),q=this.tileInfoView.getTileScale(de.key);te.has(q)||(te.set(q,[]),U=Math.max(q,U),A=Math.min(q,A)),te.get(q).push(de.key),Q.add(q)});let V=this.state.scale;te.has(V)||(function B(F,R){F.length=0,R.forEach(U=>F.push(U))}(ne,Q),ne.sort((le,de)=>le-de),V=ne.reduce((le,de)=>Math.abs(de-V)<Math.abs(le-V)?de:le,ne[0])),V=Math.min(V,U),V=Math.max(V,A);const J=te.get(V),Y=R.getClosestInfoForScale(V),oe=Y.getColumnForX(this.state.center[0]),se=Y.getRowForY(this.state.center[1]);return J.sort((le,de)=>{const q=Y.denormalizeCol(le.col,le.world),ue=Y.denormalizeCol(de.col,de.world);return Math.sqrt((oe-q)*(oe-q)+(se-le.row)*(se-le.row))-Math.sqrt((oe-ue)*(oe-ue)+(se-de.row)*(se-de.row))}),Q.clear(),te.clear(),J[0].id}_peekByCenterFirst(F){if(!this.state)return F.values().next().value;const R=this.tileInfoView,U=this.state.center;let A=Number.POSITIVE_INFINITY,V=null;return F.forEach(J=>{const Y=this._keyToItem.get(J);R.getTileCoords(ae,Y.key);const oe=(0,k.j)(ae,U);oe<A&&(A=oe,V=Y.key)}),V.id}};(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"concurrency",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"process",void 0),(0,d._)([(0,X.Cb)()],re.prototype,"state",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"strategy",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"tileInfoView",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],re.prototype,"updating",null),re=(0,d._)([(0,D.j)("esri.views.2d.tiling.PagedTileQueue")],re)},84378:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(27899);class v{constructor(){this.spans=[]}acquire(G){this.lodInfo=G}release(){this.lodInfo=null,this.spans.length=0}forEach(G,z){const{spans:Z,lodInfo:D}=this,{level:k}=D;if(0!==Z.length)for(const{row:N,colFrom:B,colTo:Q}of Z)for(let ne=B;ne<=Q;ne++)G.call(z,k,N,D.normalizeCol(ne),D.getWorldForColumn(ne))}}v.pool=new d.Z(v)},9598:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re});var d=p(37053),v=p(62208),X=p(58098);function G($,F){return[$,F]}function z($,F,R){return $[0]=F,$[1]=R,$}const D=new X.Z("0/0/0/0");class k{constructor(F,R,U,A,V,J,Y,oe,se,le,de,q){this.level=F,this.resolution=R,this.scale=U,this.origin=A,this.first=V,this.last=J,this.size=Y,this.norm=oe,this.worldStart=se,this.worldEnd=le,this.worldSize=de,this.wrap=q}static create(F,R,U=null){const A=(0,d.C5)(F.spatialReference),V=R.origin||G(F.origin.x,F.origin.y),J=G(F.size[0]*R.resolution,F.size[1]*R.resolution),Y=G(-1/0,-1/0),oe=G(1/0,1/0),se=G(1/0,1/0);(0,v.pC)(U)&&(z(Y,Math.max(0,Math.floor((U.xmin-V[0])/J[0])),Math.max(0,Math.floor((V[1]-U.ymax)/J[1]))),z(oe,Math.max(0,Math.floor((U.xmax-V[0])/J[0])),Math.max(0,Math.floor((V[1]-U.ymin)/J[1]))),z(se,oe[0]-Y[0]+1,oe[1]-Y[1]+1));const{cols:le,rows:de}=R;let q,ue,ie,ye;return!U&&le&&de&&(z(Y,le[0],de[0]),z(oe,le[1],de[1]),z(se,le[1]-le[0]+1,de[1]-de[0]+1)),F.isWrappable?(q=G(Math.ceil(Math.round((A.valid[1]-A.valid[0])/R.resolution)/F.size[0]),se[1]),ue=G(Math.floor((A.origin[0]-V[0])/J[0]),Y[1]),ie=G(q[0]+ue[0]-1,oe[1]),ye=!0):(ue=Y,ie=oe,q=se,ye=!1),new k(R.level,R.resolution,R.scale,V,Y,oe,se,J,ue,ie,q,ye)}normalizeCol(F){if(!this.wrap)return F;const R=this.worldSize[0];return F<0?R-1-Math.abs((F+1)%R):F%R}denormalizeCol(F,R){return this.wrap?this.worldSize[0]*R+F:F}getWorldForColumn(F){return this.wrap?Math.floor(F/this.worldSize[0]):0}getFirstColumnForWorld(F){return F*this.worldSize[0]+this.first[0]}getLastColumnForWorld(F){return F*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(F){return(F-this.origin[0])/this.norm[0]}getXForColumn(F){return this.origin[0]+F*this.norm[0]}getRowForY(F){return(this.origin[1]-F)/this.norm[1]}getYForRow(F){return this.origin[1]-F*this.norm[1]}getTileBounds(F,R,U=!1){D.set(R);const A=U?D.col:this.denormalizeCol(D.col,D.world),V=D.row;return function Z($,F,R,U,A){$[0]=F,$[1]=R,$[2]=U,$[3]=A}(F,this.getXForColumn(A),this.getYForRow(V+1),this.getXForColumn(A+1),this.getYForRow(V)),F}getTileCoords(F,R,U=!1){D.set(R);const A=U?D.col:this.denormalizeCol(D.col,D.world);return Array.isArray(F)?z(F,this.getXForColumn(A),this.getYForRow(D.row)):(F.x=this.getXForColumn(A),F.y=this.getYForRow(D.row)),F}}var N=p(84378);class B{constructor(F,R,U){this.row=F,this.colFrom=R,this.colTo=U}}const Q=new X.Z("0/0/0/0");class ne{constructor(F,R,U,A,V,J,Y,oe){this.x=F,this.ymin=R,this.ymax=U,this.invM=A,this.leftAdjust=V,this.rightAdjust=J,this.leftBound=Y,this.rightBound=oe}static create(F,R){F[1]>R[1]&&([F,R]=[R,F]);const[U,A]=F,[V,J]=R,Y=V-U,oe=J-A,se=0!==oe?Y/oe:0,le=(Math.ceil(A)-A)*se,de=(Math.floor(A)-A)*se;return new ne(U,Math.floor(A),Math.ceil(J),se,Y<0?le:de,Y<0?de:le,Y<0?V:U,Y<0?U:V)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const te=[[0,0],[0,0],[0,0],[0,0]];class re{constructor(F,R=null){this.tileInfo=F,this.fullExtent=R,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const U=F.lods.slice();U.sort((V,J)=>J.scale-V.scale);const A=this._lodInfos=U.map(V=>k.create(F,V,R));U.forEach((V,J)=>{this._infoByLevel[V.level]=A[J],this._infoByScale[V.scale]=A[J],this.scales[J]=V.scale},this),this._wrap=F.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(F){return this._infoByLevel["number"==typeof F?F:F.level]}getTileBounds(F,R,U=!1){Q.set(R);const A=this._infoByLevel[Q.level];return A?A.getTileBounds(F,Q,U):F}getTileCoords(F,R,U=!1){Q.set(R);const A=this._infoByLevel[Q.level];return A?A.getTileCoords(F,Q,U):F}getTileCoverage(F,R=192,U="closest"){const A="closest"===U?this.getClosestInfoForScale(F.scale):this.getSmallestInfoForScale(F.scale),V=N.Z.pool.acquire(A),J=this._wrap;let Y,oe,se,le=1/0,de=-1/0;const q=V.spans;te[0][0]=te[0][1]=te[1][1]=te[3][0]=-R,te[1][0]=te[2][0]=F.size[0]+R,te[2][1]=te[3][1]=F.size[1]+R;for(const pe of te)F.toMap(pe,pe),pe[0]=A.getColumnForX(pe[0]),pe[1]=A.getRowForY(pe[1]);const ue=[];let ie=3;for(let pe=0;pe<4;pe++){if(te[pe][1]===te[ie][1]){ie=pe;continue}const Ce=ne.create(te[pe],te[ie]);le=Math.min(Ce.ymin,le),de=Math.max(Ce.ymax,de),void 0===ue[Ce.ymin]&&(ue[Ce.ymin]=[]),ue[Ce.ymin].push(Ce),ie=pe}if(null==le||null==de||de-le>100)return null;let ye=[];for(Y=le;Y<de;){null!=ue[Y]&&(ye=ye.concat(ue[Y])),oe=1/0,se=-1/0;for(let pe=ye.length-1;pe>=0;pe--){const Ce=ye[pe];oe=Math.min(oe,Ce.getLeftCol()),se=Math.max(se,Ce.getRightCol())}if(oe=Math.floor(oe),se=Math.floor(se),Y>=A.first[1]&&Y<=A.last[1])if(J)if(A.size[0]<A.worldSize[0]){const pe=Math.floor(se/A.worldSize[0]);for(let Ce=Math.floor(oe/A.worldSize[0]);Ce<=pe;Ce++)q.push(new B(Y,Math.max(A.getFirstColumnForWorld(Ce),oe),Math.min(A.getLastColumnForWorld(Ce),se)))}else q.push(new B(Y,oe,se));else oe>A.last[0]||se<A.first[0]||(oe=Math.max(oe,A.first[0]),se=Math.min(se,A.last[0]),q.push(new B(Y,oe,se)));Y+=1;for(let pe=ye.length-1;pe>=0;pe--){const Ce=ye[pe];Ce.ymax>=Y?Ce.incrRow():ye.splice(pe,1)}}return V}getTileParentId(F){Q.set(F);const U=this._lodInfos.indexOf(this._infoByLevel[Q.level])-1;return U<0?null:(this._getTileIdAtLOD(Q,this._lodInfos[U],Q),Q.id)}getTileResolution(F){const R=this._infoByLevel["object"==typeof F?F.level:F];return R?R.resolution:-1}getTileScale(F){const R=this._infoByLevel[F.level];return R?R.scale:-1}intersects(F,R){Q.set(R);const U=this._infoByLevel[Q.level],A=F.lodInfo;if(A.resolution>U.resolution){this._getTileIdAtLOD(Q,A,Q);const J=A.denormalizeCol(Q.col,Q.world);for(const Y of F.spans)if(Y.row===Q.row&&Y.colFrom<=J&&Y.colTo>=J)return!0}if(A.resolution<U.resolution){const[J,Y,oe,se]=F.spans.reduce((ye,pe)=>(ye[0]=Math.min(ye[0],pe.row),ye[1]=Math.max(ye[1],pe.row),ye[2]=Math.min(ye[2],pe.colFrom),ye[3]=Math.max(ye[3],pe.colTo),ye),[1/0,-1/0,1/0,-1/0]),le=U.denormalizeCol(Q.col,Q.world),de=A.getColumnForX(U.getXForColumn(le)),q=A.getRowForY(U.getYForRow(Q.row)),ue=A.getColumnForX(U.getXForColumn(le+1))-1,ie=A.getRowForY(U.getYForRow(Q.row+1))-1;return!(de>se||ue<oe||q>Y||ie<J)}const V=A.denormalizeCol(Q.col,Q.world);return F.spans.some(J=>J.row===Q.row&&J.colFrom<=V&&J.colTo>=V)}normalizeBounds(F,R,U){if(F[0]=R[0],F[1]=R[1],F[2]=R[2],F[3]=R[3],this._wrap){const A=(0,d.C5)(this.tileInfo.spatialReference),V=-U*(A.valid[1]-A.valid[0]);F[0]+=V,F[2]+=V}return F}getSmallestInfoForScale(F){const R=this.scales;if(this._infoByScale[F])return this._infoByScale[F];if(F>R[0])return this._infoByScale[R[0]];for(let U=1;U<R.length-1;U++)if(F>R[U]+1e-6)return this._infoByScale[R[U-1]];return this._infoByScale[R[R.length-1]]}getClosestInfoForScale(F){const R=this.scales;return this._infoByScale[F]||(F=R.reduce((U,A)=>Math.abs(A-F)<Math.abs(U-F)?A:U,R[0])),this._infoByScale[F]}scaleToLevel(F){const R=this.scales;if(this._infoByScale[F])return this._infoByScale[F].level;for(let U=R.length-1;U>=0;U--)if(F<R[U])return U===R.length-1?this._infoByScale[R[R.length-1]].level:this._infoByScale[R[U]].level+(R[U]-F)/(R[U]-R[U+1]);return this._infoByScale[R[0]].level}scaleToZoom(F){return this.tileInfo.scaleToZoom(F)}_getTileIdAtLOD(F,R,U){const A=this._infoByLevel[U.level];return F.set(U),R.resolution<A.resolution?null:(R.resolution===A.resolution||(F.level=R.level,F.col=Math.floor(U.col*A.resolution/R.resolution+.01),F.row=Math.floor(U.row*A.resolution/R.resolution+.01)),F)}}},58098:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>v});var d=p(27899);class v{constructor(G,z,Z,D){this.set(G,z,Z,D)}static getId(G,z,Z,D){return"object"==typeof G?`${G.level}/${G.row}/${G.col}/${G.world}`:`${G}/${z}/${Z}/${D}`}get key(){return this}get id(){return this.toString()}set id(G){this.set(G)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(G,z,Z,D){this.set(G,z,Z,D)}contains(G){const z=G.level-this.level;return this.row===G.row>>z&&this.col===G.col>>z&&this.world===G.world}equals(G){return this.level===G.level&&this.row===G.row&&this.col===G.col&&this.world===G.world}clone(){return new v(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(G,z,Z,D){if(null==G)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof G)this.level=G.level||0,this.row=G.row||0,this.col=G.col||0,this.world=G.world||0;else if("string"==typeof G){const[k,N,B,Q]=G.split("/");this.level=parseFloat(k),this.row=parseFloat(N),this.col=parseFloat(B),this.world=parseFloat(Q)}else this.level=+G,this.row=+z,this.col=+Z,this.world=+D||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new v(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const G=this.level+1,z=this.row<<1,Z=this.col<<1,D=this.world;return[new v(G,z,Z,D),new v(G,z,Z+1,D),new v(G,z+1,Z,D),new v(G,z+1,Z+1,D)]}compareRowMajor(G){return this.row<G.row?-1:this.row>G.row?1:this.col<G.col?-1:this.col>G.col?1:0}}v.pool=new d.Z(v,null,null,25,50)},8480:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>$});var d=p(17626),v=p(14517),X=p(77712),D=(p(85931),p(8314),p(90912),p(76898)),k=p(67831),N=p(71251);const Q=new Set,ne=[],te=new Map,ae=[0,0];let re=class extends v.Z{constructor(F){super(F),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:F,process:R,strategy:U}=this;this._queue=new N.e({concurrency:F,process:(A,V)=>{const J=this._keyToItem.get(A);return R(J,{signal:V})},peeker:"scale-first"===U?A=>this._peekByScaleFirst(A):A=>this._peekByCenterFirst(A)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(F){this._queue.abort("string"==typeof F?F:F.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(F){return this._keyToItem.has("string"==typeof F?F:F.id)}isOngoing(F){const R="string"==typeof F?F:F.id;return this.has(R)&&this._queue.isOngoing(R)}pause(){this._queue.pause()}push(F){const R=F.key.id;if(this._queue.has(R))return this._queue.get(R);const U=this._queue.push(R),A=()=>{this._keyToItem.delete(R),this.notifyChange("updating")};return this._keyToItem.set(R,F),U.then(A,A),this.notifyChange("updating"),U}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(F){if(!this.state)return F.values().next().value;const R=this.tileInfoView;let U=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;F.forEach(le=>{const de=this._keyToItem.get(le),q=this.tileInfoView.getTileScale(de.key);te.has(q)||(te.set(q,[]),U=Math.max(q,U),A=Math.min(q,A)),te.get(q).push(de.key),Q.add(q)});let V=this.state.scale;te.has(V)||(function B(F,R){F.length=0,R.forEach(U=>F.push(U))}(ne,Q),ne.sort((le,de)=>le-de),V=ne.reduce((le,de)=>Math.abs(de-V)<Math.abs(le-V)?de:le,ne[0])),V=Math.min(V,U),V=Math.max(V,A);const J=te.get(V),Y=R.getClosestInfoForScale(V),oe=Y.getColumnForX(this.state.center[0]),se=Y.getRowForY(this.state.center[1]);return J.sort((le,de)=>{const q=Y.denormalizeCol(le.col,le.world),ue=Y.denormalizeCol(de.col,de.world);return Math.sqrt((oe-q)*(oe-q)+(se-le.row)*(se-le.row))-Math.sqrt((oe-ue)*(oe-ue)+(se-de.row)*(se-de.row))}),Q.clear(),te.clear(),J[0].id}_peekByCenterFirst(F){if(!this.state)return F.values().next().value;const R=this.tileInfoView,U=this.state.center;let A=Number.POSITIVE_INFINITY,V=null;return F.forEach(J=>{const Y=this._keyToItem.get(J);R.getTileCoords(ae,Y.key);const oe=(0,k.j)(ae,U);oe<A&&(A=oe,V=Y.key)}),V.id}};(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"concurrency",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"process",void 0),(0,d._)([(0,X.Cb)()],re.prototype,"state",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"strategy",void 0),(0,d._)([(0,X.Cb)({constructOnly:!0})],re.prototype,"tileInfoView",void 0),(0,d._)([(0,X.Cb)({readOnly:!0})],re.prototype,"updating",null),re=(0,d._)([(0,D.j)("esri.views.2d.tiling.TileQueue")],re);const $=re},79527:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Q});var d=p(65401),v=p(67831);class X{constructor(te,ae,re){this.maxSize=te,this.tileInfoView=ae,this.removedFunc=re,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(te){return this._tilePerId.has(te)}get(te){return this._tilePerId.get(te)}pop(te){const ae=this._tilePerId.get(te);if(!ae)return null;const $=this._tileKeysPerLevel[ae.key.level];G(this._tilePerId,te);for(let F=0;F<$.length;F++)if($[F].id===te){$.splice(F,1);break}return ae.visible=!0,ae}add(te){te.visible=!1;const ae=te.key,re=ae.id;if(this._tilePerId.has(re))return;this._tilePerId.set(re,te);const $=ae.level;this._tileKeysPerLevel[$]||(this._tileKeysPerLevel[$]=[]),this._tileKeysPerLevel[$].push(ae)}prune(te,ae,re){let $=this._tilePerId.size;if($<=this.maxSize)return;let F=this._tileKeysPerLevel.length-1;for(;$>this.maxSize&&F>=0;)F!==te&&($=this._pruneAroundCenterTile($,ae,re,F)),F--;$>this.maxSize&&($=this._pruneAroundCenterTile($,ae,re,te))}_pruneAroundCenterTile(te,ae,re,$){const F=this._tileKeysPerLevel[$];if(!F||0===F.length)return te;const{size:R,origin:U}=this.tileInfoView.tileInfo,A=re*R[0],V=re*R[1],J=[0,0],Y=[0,0];for(F.sort((oe,se)=>(J[0]=U.x+A*(oe.col+.5),J[1]=U.y-V*(oe.row+.5),Y[0]=U.x+A*(se.col+.5),Y[1]=U.y-V*(se.row+.5),(0,v.s)(J,ae)-(0,v.s)(Y,ae)));F.length>0;){const oe=F.pop();if(this._removeTile(oe.id),--te===this.maxSize)break}return te}_removeTile(te){const ae=this._tilePerId.get(te);this.removedFunc&&this.removedFunc(ae),G(this._tilePerId,te)}}function G(ne,te){ne.delete(te)}var z=p(84378);const D=new(p(58098).Z)(0,0,0,0),k=new Map,N=[],B=[];class Q{constructor(te){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=te.acquireTile,this.releaseTile=te.releaseTile,this.tileInfoView=te.tileInfoView,this.resampling=null==te.resampling||!!te.resampling,te.cachePolicy&&(this.cachePolicy=te.cachePolicy),te.coveragePolicy&&(this.coveragePolicy=te.coveragePolicy),null!=te.buffer&&(this.buffer=te.buffer),te.cacheSize&&(this._tileCache=new X(te.cacheSize,this.tileInfoView,ae=>{this.releaseTile(ae)}))}destroy(){this.tileIndex.clear()}update(te){const{resampling:ae,tileIndex:re}=this,$=this.tileInfoView.getTileCoverage(te.state,this.buffer,this.coveragePolicy);if(B.length=0,N.length=0,k.clear(),!$)return;const{minScale:F,maxScale:R}=this.tileInfoView.tileInfo,{spans:U,lodInfo:A}=$,{level:V}=A,{scale:J,center:Y,resolution:oe}=te.state,se=!te.stationary&&J>this._previousScale;if(this._previousScale=J,this.tiles.length=0,!ae&&(J>F||J<R))return this.tiles.length=0,k.clear(),re.forEach(ue=>{this.releaseTile(ue)}),re.clear(),B.length=0,N.length=0,k.clear(),z.Z.pool.release($),!0;re.forEach(ue=>ue.visible=!0);let le=0,de=0;if(U.length>0)for(const{row:ue,colFrom:ie,colTo:ye}of U)for(let pe=ie;pe<=ye;pe++){le++;const Ce=D.set(V,ue,A.normalizeCol(pe),A.getWorldForColumn(pe)).id;if(re.has(Ce)){const De=re.get(Ce);De.isReady?(k.set(Ce,De),de++):se||this._addParentTile(Ce,k)}else{let De;if(this._tileCache&&this._tileCache.has(Ce)){if(De=this._tileCache.pop(Ce),this.tileIndex.set(Ce,De),De.isReady){k.set(Ce,De),de++;continue}}else De=this.acquireTile(D),this.tileIndex.set(Ce,De);se||this._addParentTile(Ce,k)}}const q=de===le;re.forEach((ue,ie)=>{if(D.set(ie),k.has(ie))return;const ye=this.tileInfoView.intersects($,D),pe="purge"===this.cachePolicy?D.level!==V:D.level>V;!ye||!se&&q?!pe&&ye||N.push(ie):ue.isReady?pe&&"purge"===this.cachePolicy&&this._hasReadyAncestor(D,V)?N.push(ie):B.push(ie):pe&&N.push(ie)});for(const ue of B){const ie=re.get(ue);ie&&ie.isReady&&k.set(ue,ie)}for(const ue of N){const ie=re.get(ue);this._tileCache?this._tileCache.add(ie):this.releaseTile(ie),re.delete(ue)}return k.forEach(ue=>this.tiles.push(ue)),re.forEach(ue=>{k.has(ue.key.id)||(ue.visible=!1)}),this._tileCache&&this._tileCache.prune(V,Y,oe),z.Z.pool.release($),k.clear(),q}clear(te=!0){const{tileIndex:ae}=this;te&&ae.forEach(re=>{this.releaseTile(re)}),ae.clear()}updateCacheSize(te){this._tileCache&&(this._tileCache.maxSize=te)}_addParentTile(te,ae){let re=te,$=null;for(;re=this.tileInfoView.getTileParentId(re),re;)if(this.tileIndex.has(re)){if($=this.tileIndex.get(re),$&&$.isReady){ae.has($.key.id)||ae.set($.key.id,$);break}}else if(this._tileCache&&this._tileCache.has(re)&&($=this._tileCache.pop(re),this.tileIndex.set(re,$),$&&$.isReady)){ae.has($.key.id)||ae.set($.key.id,$);break}}_hasReadyAncestor(te,ae){const re=(0,d.Ue)();this.tileInfoView.getTileBounds(re,te,!0);for(const $ of this.tileIndex.values())if($.isReady&&$.key.level>=ae&&$.key.level<te.level){const F=(0,d.Ue)();if(this.tileInfoView.getTileBounds(F,$.key,!0),(0,d.r3)(F,re))return!0}return!1}}},78041:(wt,Se,p)=>{"use strict";function d(z,Z,D,k){const N=3*z,B=3*(D-z)-N,Q=1-N-B,ne=3*Z,te=3*(k-Z)-ne,ae=1-ne-te;function re(U){return((Q*U+B)*U+N)*U}function F(U){return(3*Q*U+2*B)*U+N}return function(U,A=1e-6){return function $(U){return((ae*U+te)*U+ne)*U}(function R(U,A){let V,J,Y,oe,se,le;for(Y=U,le=0;le<8;le++){if(oe=re(Y)-U,Math.abs(oe)<A)return Y;if(se=F(Y),Math.abs(se)<1e-6)break;Y-=oe/se}if(V=0,J=1,Y=U,Y<V)return V;if(Y>J)return J;for(;V<J;){if(oe=re(Y),Math.abs(oe-U)<A)return Y;U>oe?V=Y:J=Y,Y=.5*(J-V)+V}return Y}(U,A))}}p.d(Se,{LI:()=>X,Qc:()=>G,n_:()=>d});const v=/^cubic-bezier\((.*)\)/,X={};function G(z){let Z=X[z]||null;if(!Z){const D=v.exec(z);if(D){const k=D[1].split(",").map(N=>parseFloat(N.trim()));4!==k.length||k.some(N=>isNaN(N))||(Z=d.apply(d,k))}}return Z}X.ease=d(.25,.1,.25,1),X.linear=d(0,0,1,1),X.easeIn=X["ease-in"]=d(.42,0,1,1),X.easeOut=X["ease-out"]=d(0,0,.58,1),X.easeInOut=X["ease-in-out"]=d(.42,0,.58,1)},24926:(wt,Se,p)=>{"use strict";p.d(Se,{$H:()=>Be,Ck:()=>Ne,Dq:()=>Me,EK:()=>Y,H4:()=>Ze,Hy:()=>ot,JG:()=>ie,Jp:()=>xe,L2:()=>Ke,Rb:()=>pt,Rx:()=>Rt,SI:()=>we,UZ:()=>mt,Ue:()=>q,YQ:()=>Je,bk:()=>pe,dI:()=>Fe,gG:()=>Tt,ni:()=>ye,o2:()=>ct,qf:()=>Ce,uG:()=>Le,ut:()=>Ye});var d=p(15861),v=p(85807),X=p(74333),G=p(62208),z=p(16730),Z=p(39863),D=p(31478),k=p(46342),N=p(67831),B=p(99770),Q=p(2004),ne=p(21674),te=p(49672),ae=p(55915),re=p(65234),$=p(37053);const U=180/Math.PI;function A(Xe){return Xe.wkid?Xe:Xe.spatialReference||re.Z.WGS84}function V(Xe,vt){return vt.type?(0,N.a)(Xe,vt.x,vt.y):(0,N.c)(Xe,vt)}function J(Xe){return(0,z.c9)(Xe)}function Y(Xe,vt){const Zt=Math.max(1,vt[0]),xt=Math.max(1,vt[1]);return Math.max(Xe.width/Zt,Xe.height/xt)*function Re(Xe){return(0,$.JY)(Xe)?39.37*J(Xe)*96:1}(Xe.spatialReference)}function oe(Xe,vt,Zt,xt){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(Xe,vt,Zt,xt){let Lt,en;if(!Xe||Array.isArray(Xe)&&!Xe.length)return null;if(X.Z.isCollection(Xe)&&(Xe=Xe.toArray()),Array.isArray(Xe)&&Xe.length&&"object"==typeof Xe[0]){const Dn=Xe.every(Tr=>"attributes"in Tr),Xn=Xe.some(Tr=>!Tr.geometry);let pr=Xe;if(Dn&&Xn&&vt&&vt.allLayerViews){const Tr=new Map;for(const sn of Xe){const pn=sn.layer,In=Tr.get(pn)||[],Wn=sn.attributes[pn.objectIdField];null!=Wn&&In.push(Wn),Tr.set(pn,In)}const vr=[];Tr.forEach((sn,pn)=>{const In=vt.allLayerViews.find(Wn=>Wn.layer.id===pn.id);if("queryFeatures"in In){const Wn=pn.createQuery();Wn.objectIds=sn,Wn.returnGeometry=!0,vr.push(In.queryFeatures(Wn))}});const zn=yield Promise.all(vr),zt=[];for(const sn of zn)if(sn&&sn.features&&sn.features.length)for(const pn of sn.features)(0,G.pC)(pn.geometry)&&zt.push(pn.geometry);pr=zt}for(const Tr of pr)xt=yield oe(Tr,vt,Zt,xt);return xt}if(Array.isArray(Xe)&&2===Xe.length&&"number"==typeof Xe[0]&&"number"==typeof Xe[1])Lt=new te.Z(Xe);else if(Xe instanceof ne.Z)Lt=Xe;else if("geometry"in Xe)if(Xe.geometry)Lt=Xe.geometry;else if(Xe.layer){const Dn=Xe.layer,Xn=vt.allLayerViews.find(pr=>pr.layer.id===Dn.id);if("queryFeatures"in Xn){const pr=Dn.createQuery();pr.objectIds=[Xe.attributes[Dn.objectIdField]],pr.returnGeometry=!0;const Tr=yield Xn.queryFeatures(pr);Lt=(0,G.U2)(Tr,"features",0,"geometry")}}if((0,G.Wi)(Lt)||(en="point"===Lt.type?new Q.Z({xmin:Lt.x,ymin:Lt.y,xmax:Lt.x,ymax:Lt.y,spatialReference:Lt.spatialReference}):Lt.extent,!en))return null;(0,ae.kR)()||(0,ae.Up)(en.spatialReference,Zt)||(yield(0,ae.zD)());const En=(0,ae.iV)(en,Zt);return En?xt=xt?xt.union(En):En:null})).apply(this,arguments)}function le(Xe){if(Xe&&(!Array.isArray(Xe)||"number"!=typeof Xe[0])&&("object"==typeof Xe||Array.isArray(Xe)&&"object"==typeof Xe[0])){if("layer"in Xe&&Xe.layer&&Xe.layer.minScale&&Xe.layer.maxScale){const vt=Xe.layer;return{min:vt.minScale,max:vt.maxScale}}if(Array.isArray(Xe)&&Xe.length&&Xe.every(vt=>"layer"in vt)){let vt=0,Zt=0;for(const xt of Xe){const Lt=xt.layer;Lt&&Lt.minScale&&Lt.maxScale&&(vt=Lt.minScale<vt?Lt.minScale:vt,Zt=Lt.maxScale>Zt?Lt.maxScale:Zt)}return vt&&Zt?{min:vt,max:Zt}:null}}}function de(Xe,vt){return(0,$.fS)(A(Xe),vt)?Xe:(0,ae.iV)(Xe,vt)}function q(Xe,vt){return ue.apply(this,arguments)}function ue(){return(ue=(0,d.Z)(function*(Xe,vt){if(!Xe||!vt)return new v.Z({targetGeometry:new te.Z,scale:0,rotation:0});let Zt=vt.spatialReference;const{constraints:xt,padding:Lt,viewpoint:en,size:En}=vt,Dn=[Lt?En[0]-Lt.left-Lt.right:En[0],Lt?En[1]-Lt.top-Lt.bottom:En[1]];let Xn=null;Xe instanceof v.Z?Xn=Xe:Xe.viewpoint?Xn=Xe.viewpoint:Xe.target&&"esri.Viewpoint"===Xe.target.declaredClass&&(Xn=Xe.target);let pr=null;Xn&&Xn.targetGeometry?pr=Xn.targetGeometry:Xe instanceof Q.Z?pr=Xe:(Xe||Xe&&("center"in Xe||"extent"in Xe||"target"in Xe))&&(pr=(yield oe(Xe.center,vt,Zt))||(yield oe(Xe.extent,vt,Zt))||(yield oe(Xe.target,vt,Zt))||(yield oe(Xe,vt,Zt))),!pr&&en&&en.targetGeometry?pr=en.targetGeometry:!pr&&vt.extent&&(pr=vt.extent),Zt||(Zt=A(vt.spatialReference||vt.extent||pr)),(0,ae.kR)()||(0,$.fS)(pr.spatialReference,Zt)||(0,ae.Up)(pr,Zt)||(yield(0,ae.zD)());const Tr=de(pr.center?pr.center:pr,Zt);let vr=null;if(Xn&&(0,G.pC)(Xn.targetGeometry)&&"point"===Xn.targetGeometry.type)vr=Xn.scale;else if("scale"in Xe&&Xe.scale)vr=Xe.scale;else if("zoom"in Xe&&-1!==Xe.zoom&&xt&&xt.effectiveLODs)vr=xt.zoomToScale(Xe.zoom);else if(Array.isArray(pr)||"point"===pr.type||"extent"===pr.type&&0===pr.width&&0===pr.height){const pn=de(vt.extent,Zt);vr=(0,G.pC)(pn)?Y(pn,Dn):vt.extent?Y(vt.extent,Dn):en.scale}else vr=Y(de(pr.extent,Zt),Dn);const zn=le(Xe);zn&&(zn.min&&zn.min>vr?vr=zn.min:zn.max&&zn.max<vr&&(vr=zn.max));let zt=0;Xn?zt=Xn.rotation:Xe.hasOwnProperty("rotation")?zt=Xe.rotation:en&&(zt=en.rotation);let sn=new v.Z({targetGeometry:Tr,scale:vr,rotation:zt});return xt&&(sn=xt.fit(sn),xt.constrainByGeometry(sn),xt.rotationEnabled||(sn.rotation=zt)),sn})).apply(this,arguments)}function ie(Xe,vt){const Zt=Xe.targetGeometry,xt=vt.targetGeometry;return Zt.x=xt.x,Zt.y=xt.y,Zt.spatialReference=xt.spatialReference,Xe.scale=vt.scale,Xe.rotation=vt.rotation,Xe}function ye(Xe,vt,Zt){return Zt?(0,N.a)(Xe,.5*(vt[0]-Zt.right+Zt.left),.5*(vt[1]-Zt.bottom+Zt.top)):(0,N.f)(Xe,vt,.5)}const pe=function(){const Xe=(0,B.a)();return function(vt,Zt,xt){const Lt=Zt.targetGeometry;V(Xe,Lt);const en=.5*Le(Zt);return vt.xmin=Xe[0]-en*xt[0],vt.ymin=Xe[1]-en*xt[1],vt.xmax=Xe[0]+en*xt[0],vt.ymax=Xe[1]+en*xt[1],vt.spatialReference=Lt.spatialReference,vt}}();function Ce(Xe,vt,Zt,xt,Lt){return ct(Xe,vt,Zt.center),Xe.scale=Y(Zt,xt),Lt&&Lt.constraints&&Lt.constraints.constrain(Xe),Xe}const Me=function(){const Xe=(0,B.a)();return function(vt,Zt,xt){return(0,N.k)(vt,function nt(Xe,vt){return(0,N.f)(Xe,vt,.5)}(vt,Zt),ye(Xe,Zt,xt))}}(),ve=function(){const Xe=(0,k.c)(),vt=(0,B.a)();return function(Zt,xt,Lt,en){const En=Le(xt),Dn=_e(xt);return(0,N.a)(vt,En,En),(0,D.f)(Xe,vt),(0,D.r)(Xe,Xe,Dn),(0,D.t)(Xe,Xe,Me(vt,Lt,en)),(0,D.t)(Xe,Xe,[0,en.top-en.bottom]),(0,N.a)(Zt,Xe[4],Xe[5])}}();function Le(Xe){return Xe.scale*function je(Xe){return(0,G.pC)(Xe)&&(0,$.JY)(Xe.spatialReference)?1/(39.37*J(Xe.spatialReference)*96):1}(Xe.targetGeometry)}function _e(Xe){return(0,Z.t)(Xe.rotation)||0}const pt=function(){const Xe=(0,B.a)(),vt=(0,B.a)(),Zt=(0,B.a)();return function(xt,Lt,en,En,Dn,Xn){return(0,N.n)(Xe,Lt),(0,N.f)(vt,en,.5*Xn),(0,N.a)(Zt,1/En*Xn,-1/En*Xn),(0,D.a)(xt,vt),Dn&&(0,D.r)(xt,xt,Dn),(0,D.s)(xt,xt,Zt),(0,D.t)(xt,xt,Xe),xt}}(),Ne=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt){const en=Le(Zt),En=_e(Zt);return V(Xe,Zt.targetGeometry),pt(vt,Xe,xt,en,En,Lt)}}(),xe=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt){const en=Le(Zt);return V(Xe,Zt.targetGeometry),pt(vt,Xe,xt,en,0,Lt)}}();function Ye(Xe){const vt=(0,$.C5)(Xe);return vt?vt.valid[1]-vt.valid[0]:0}function Ke(Xe,vt){return Math.round(Ye(Xe)/vt)}const Fe=function(){const Xe=(0,B.a)(),vt=(0,B.a)(),Zt=[0,0,0];return function(xt,Lt,en){(0,N.g)(Xe,xt,Lt),(0,N.i)(Xe,Xe),(0,N.g)(vt,xt,en),(0,N.i)(vt,vt),(0,N.m)(Zt,Xe,vt);let En=Math.acos((0,N.h)(Xe,vt)/((0,N.o)(Xe)*(0,N.o)(vt)))*U;return Zt[2]<0&&(En=-En),isNaN(En)&&(En=0),En}}(),Ze=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt){const en=vt.targetGeometry;return ie(vt,Zt),ve(Xe,Zt,xt,Lt),en.x+=Xe[0],en.y+=Xe[1],vt}}(),ct=function(Xe,vt,Zt){ie(Xe,vt);const xt=Xe.targetGeometry;return xt.x=Zt.x,xt.y=Zt.y,xt.spatialReference=Zt.spatialReference,Xe},we=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt,en){en||(en="center"),(0,N.k)(Xe,xt,Lt),(0,N.f)(Xe,Xe,.5);const En=Xe[0],Dn=Xe[1];switch(en){case"center":(0,N.a)(Xe,0,0);break;case"left":(0,N.a)(Xe,-En,0);break;case"top":(0,N.a)(Xe,0,Dn);break;case"right":(0,N.a)(Xe,En,0);break;case"bottom":(0,N.a)(Xe,0,-Dn);break;case"top-left":(0,N.a)(Xe,-En,Dn);break;case"bottom-left":(0,N.a)(Xe,-En,-Dn);break;case"top-right":(0,N.a)(Xe,En,Dn);break;case"bottom-right":(0,N.a)(Xe,En,-Dn)}return Rt(vt,Zt,Xe),vt}}();function Be(Xe,vt,Zt){return ie(Xe,vt),Xe.rotation+=Zt,Xe}function Je(Xe,vt,Zt){return ie(Xe,vt),Xe.rotation=Zt,Xe}const $e=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt,en){return ie(vt,Zt),isNaN(xt)||0===xt||(It(Xe,Lt,Zt,en),vt.scale=Zt.scale*xt,Nt(Xe,Xe,vt,en),Rt(vt,vt,(0,N.a)(Xe,Xe[0]-Lt[0],Lt[1]-Xe[1]))),vt}}();function ot(Xe,vt,Zt){return ie(Xe,vt),Xe.scale=Zt,Xe}const mt=function(){const Xe=(0,B.a)();return function(vt,Zt,xt,Lt,en,En){return ie(vt,Zt),isNaN(xt)||0===xt||(It(Xe,en,Zt,En),vt.scale=Zt.scale*xt,vt.rotation+=Lt,Nt(Xe,Xe,vt,En),Rt(vt,vt,(0,N.a)(Xe,Xe[0]-en[0],en[1]-Xe[1]))),vt}}(),Tt=function(){const Xe=(0,B.a)(),vt=(0,B.a)();return function(Zt,xt,Lt,en,En,Dn,Xn){return Me(vt,Dn,Xn),(0,N.b)(Xe,En,vt),en?mt(Zt,xt,Lt,en,Xe,Dn):$e(Zt,xt,Lt,Xe,Dn)}}(),It=function(){const Xe=(0,k.c)();return function(vt,Zt,xt,Lt){return(0,N.t)(vt,Zt,function De(Xe,vt,Zt,xt){return Ne(Xe,vt,Zt,xt),(0,D.b)(Xe,Xe)}(Xe,xt,Lt,1))}}(),Nt=function(){const Xe=(0,k.c)();return function(vt,Zt,xt,Lt){return(0,N.t)(vt,Zt,Ne(Xe,xt,Lt,1))}}(),Rt=function(){const Xe=(0,B.a)(),vt=(0,k.c)();return function(Zt,xt,Lt){ie(Zt,xt);const en=Le(xt),En=Zt.targetGeometry;return(0,D.c)(vt,_e(xt)),(0,D.s)(vt,vt,(0,B.f)(en,en)),(0,N.t)(Xe,Lt,vt),En.x+=Xe[0],En.y+=Xe[1],Zt}}()},2282:(wt,Se,p)=>{"use strict";p.d(Se,{hu:()=>Z,yK:()=>k}),p(99770),p(993),(0,p(4794).c)();class z{constructor(U){this.message=U}toString(){return`AssertException: ${this.message}`}}function Z(R,U){if(!R)throw U=U||"assert",console.log(new Error(U).stack),new z(U)}function k(R,U,A,V){let J,Y=(A[0]-R[0])/U[0],oe=(V[0]-R[0])/U[0];Y>oe&&(J=Y,Y=oe,oe=J);let se=(A[1]-R[1])/U[1],le=(V[1]-R[1])/U[1];if(se>le&&(J=se,se=le,le=J),Y>le||se>oe)return!1;se>Y&&(Y=se),le<oe&&(oe=le);let de=(A[2]-R[2])/U[2],q=(V[2]-R[2])/U[2];return de>q&&(J=de,de=q,q=J),!(Y>q||de>oe||(q<oe&&(oe=q),oe<0))}},59617:(wt,Se,p)=>{"use strict";var d,G;function X(G){return G===d.Global?"global":"local"}p.d(Se,{JY:()=>d,M7:()=>X}),(G=d||(d={}))[G.Global=1]="Global",G[G.Local=2]="Local"},35216:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>G});var d=p(63290);class v{constructor(k,N=[]){this.eventType=k,this.keyModifiers=N}matches(k){if(k.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const N=k.modifiers;for(const B of this.keyModifiers)if(!N.has(B))return!1;return!0}}const X=d.Z.getLogger("esri.views.input.InputHandler");class G{constructor(k){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=k}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const k in this._incoming){const N=this._incoming[k];for(const B of N)this._incomingEventMatches.push(B.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(k=>k.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(k){this._manager?X.error("This InputHandler has already been registered with an InputManager"):(k.setEventCallback(N=>this._handleEvent(N)),k.setUninstallCallback(()=>this._onUninstall()),this._manager=k)}onUninstall(){}registerIncoming(k,N,B){let Q;"function"==typeof N?(B=N,Q=[]):Q=N||[];const ne="string"==typeof k?new v(k,Q):k,te=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},ae=F=>{const R=this._incoming[F.match.eventType];if(R){const U=R.indexOf(F);R.splice(U,1),te(),this._manager&&this._manager.updateDependencies()}},re=new z(ne,B,{onPause:ae,onRemove:ae,onResume:F=>{const R=this._incoming[F.match.eventType];R&&!R.includes(F)&&(R.push(F),te(),this._manager&&this._manager.updateDependencies())}});let $=this._incoming[ne.eventType];return $||($=[],this._incoming[ne.eventType]=$),$.push(re),te(),this._manager&&this._manager.updateDependencies(),re}registerOutgoing(k){if(this._outgoing[k])throw Error("There is already a callback registered for this outgoing InputEvent: "+k);const N=new Z(k,{onEmit:(B,Q,ne,te)=>{this._manager.emit(B.eventType,Q,ne,te)},onRemove:B=>{delete this._outgoing[B.eventType],this._manager.updateDependencies()}});return this._outgoing[k]=N,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),N}startCapturingPointer(k){this._manager.setPointerCapture(k,!0)}stopCapturingPointer(k){this._manager.setPointerCapture(k,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):X.error("This InputHandler is not registered with an InputManager")}_handleEvent(k){const N=this._incoming[k.type];if(N)for(const B of N)if(B.match.matches(k)&&(B.callback(k),k.shouldStopPropagation()))break}}class z{constructor(k,N,B){this.match=k,this._callback=N,this._handler=B}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class Z{constructor(k,N){this.eventType=k,this._removed=!1,this._handler=N}emit(k,N,B){this._removed||this._handler.onEmit(this,k,N,B)}remove(){this._removed=!0,this._handler.onRemove(this)}}},94663:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>R,f:()=>V});var d=p(17626),v=p(14517),X=p(63290),G=p(62208),z=p(35133),Z=p(77712),B=(p(85931),p(8314),p(90912),p(76898)),Q=p(94530),ne=p(61972);class te{constructor(oe,se){this.owner=se,this.properties={},this.afterDispatchHandle=null;for(const le in oe){const q=new Q.e(oe[le],null,null,2,2);this.properties[le]={pool:q,acquired:[]}}this.afterDispatchHandle=(0,ne.Fs)(()=>this._release())}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const oe in this.properties){const se=this.properties[oe];for(const le of se.acquired)(0,ne.NC)(le)||se.pool.release(le);se.pool.destroy(),se.pool=null,se.acquired=null}this.properties=null,this.owner=null}get(oe){const se=this.owner._get(oe),le=this.properties[oe];let de=le.pool.acquire();for(le.acquired.push(de);de===se;)le.acquired.push(de),de=le.pool.acquire();return de}_release(){for(const oe in this.properties){const se=this.properties[oe];let le=0;for(const de of se.acquired)(0,ne.NC)(de)?se.acquired[le++]=de:se.pool.release(de);se.acquired.length=le}}}var ae=p(25441),re=p(35216);class $ extends re.a{constructor(oe){super(!0),this._onChange=oe,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",se=>{this._setValue("touch"===se.data.native.pointerType?"touch":"mouse",se.data.x,se.data.y)})}_setValue(oe,se,le){oe===this._value&&this._x===se&&this._y===le||(this._value=oe,this._x=se,this._y=le,this._onChange(oe,se,le))}}const F=X.Z.getLogger("esri.views.input.InputManager");let R=class extends v.Z{constructor(Y){super(Y),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=ae.CK,this.latestPointerType="mouse",this._propertiesPool=new te({latestPointerLocation:J},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const Y=Object.keys(this._nameToGroup);for(const oe of Y)this.uninstallHandlers(oe);this.eventSource=null,this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(Y=>Y.handler.hasPendingInputs)}installHandlers(Y,oe,se=V.INTERNAL){if(this._nameToGroup[Y])return void F.error("There is already an InputHandler group registered under the name `"+Y+"`");if(0===oe.length)return void F.error("Can't register a group of zero handlers");const le={name:Y,handlers:oe.map(de=>({handler:de,active:!0,removed:!1,priorityIndex:0,groupPriority:se,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[Y]=le;for(let de=le.handlers.length-1;de>=0;de--){const q=le.handlers[de];this._handlers.push(q),q.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(ue,ie,ye,pe,Ce)=>{this._emitInputEvent(q.priorityIndex+1,ue,ie,ye,Ce,pe)},setPointerCapture:(ue,ie)=>{this._setPointerCapture(le,q,ue,ie)},setEventCallback:ue=>{q.eventCallback=ue},setUninstallCallback:ue=>{q.uninstallCallback=ue},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(Y){const oe=this._nameToGroup[Y];oe?(oe.handlers.forEach(se=>{se.removed=!0,se.uninstallCallback()}),delete this._nameToGroup[Y],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):F.error("There is no InputHandler group registered under the name `"+Y+"`")}hasHandlers(Y){return void 0!==this._nameToGroup[Y]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const Y=new Set,oe=new Set;this._handlersPriority=[];for(let se=this._handlers.length-1;se>=0;se--){const le=this._handlers[se];le.priorityIndex=se,this._handlersPriority.push(le)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let se=this._handlersPriority.length-1;se>=0;se--){const le=this._handlersPriority[se];le.priorityIndex=se;let de=le.handler.hasSideEffects;if(!de)for(const q of le.handler.outgoingEventTypes)if(Y.has(q)){de=!0;break}if(de)for(const q of le.handler.incomingEventMatches){Y.add(q.eventType);for(const ue of q.keyModifiers)(0,ae.wj)(ue)||oe.add(ue)}le.active=de}this._sourceEvents=Y,this._keyModifiers=oe,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(Y,oe,se){this._get("latestPointerType")!==Y&&this._set("latestPointerType",Y);const le=this._get("latestPointerLocation");if((0,G.Wi)(le)||le.x!==oe||le.y!==se){const de=this._propertiesPool.get("latestPointerLocation");de.x=oe,de.y=se,this._set("latestPointerLocation",de)}}_onEventReceived(Y,oe){"pointer-capture-lost"===Y&&this._pointerCaptures.delete(oe.native.pointerId),this._updateKeyModifiers(Y,oe),this._emitInputEventFromSource(Y,oe,null!=this.test.timestamp?this.test.timestamp:oe.native?oe.native.timestamp:void 0,oe.native?oe.native.cancelable:void 0)}_updateKeyModifiers(Y,oe){if(!oe)return;let se=!1;const le=()=>{if(!se){const ue=new Set;this._activeKeyModifiers.forEach(ie=>{ue.add(ie)}),this._activeKeyModifiers=ue,se=!0}},de=(ue,ie)=>{ie&&!this._activeKeyModifiers.has(ue)?(le(),this._activeKeyModifiers.add(ue)):!ie&&this._activeKeyModifiers.has(ue)&&(le(),this._activeKeyModifiers.delete(ue))};if("key-down"===Y||"key-up"===Y){const ue=oe.key;this._keyModifiers.has(ue)&&de(ue,"key-down"===Y)}const q=oe.native;de("Alt",!(!q||!q.altKey)),de("Ctrl",!(!q||!q.ctrlKey)),de("Shift",!(!q||!q.shiftKey)),de("Meta",!(!q||!q.metaKey)),de("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new $((Y,oe,se)=>this._setLatestPointer(Y,oe,se)),this.installHandlers("input-manager-logic",[this._latestPointerHandler],V.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,V.INTERNAL)}_setPointerCapture(Y,oe,se,le){const de=Y.name+"-"+oe.priorityIndex,q=this._pointerCaptures.get(se.pointerId)||new Set;this._pointerCaptures.set(se.pointerId,q),le?(q.add(de),1===q.size&&this.eventSource&&this.eventSource.setPointerCapture(se,!0)):q.has(de)&&(q.delete(de),0===q.size&&(this._pointerCaptures.delete(se.pointerId),this.eventSource&&this.eventSource.setPointerCapture(se,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(Y=>!Y.removed),this.updateDependencies()}_emitInputEventFromSource(Y,oe,se,le){this._emitInputEvent(0,Y,oe,se,le)}_emitInputEvent(Y,oe,se,le,de,q){const ue=void 0!==le?le:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),ye={event:new U(oe,se,ue,q||this._activeKeyModifiers,void 0!==de&&de),priorityIndex:Y};this._currentPropagation?this._currentPropagation.events.push(ye):this._doNewPropagation(ye)}_doNewPropagation(Y){this._currentPropagation={events:new z.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:Y.event.timestamp},this._currentPropagation.events.push(Y),this._continuePropagation()}_continuePropagation(){const Y=this._currentPropagation;if(Y){for(;this._currentPropagation.events.length>0;){const{event:oe,priorityIndex:se}=this._currentPropagation.events.pop(),le=oe.data&&oe.data.eventId;if(null==le||!this._stoppedPropagationEventIds.has(le))for(Y.currentHandler=this._handlersPriority[se];Y.currentHandler;){if(Y.currentHandler.removed)Y.needsHandlerGarbageCollect=!0;else{if(Y.currentHandler.active&&!oe.shouldStopPropagation()&&Y.currentHandler.eventCallback(oe),oe.shouldStopPropagation()){null!=le&&this._stoppedPropagationEventIds.add(le);break}if(oe.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:oe,priorityIndex:Y.currentHandler.priorityIndex+1})}Y.currentHandler=this._handlersPriority[Y.currentHandler.priorityIndex+1]}}Y.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(Y){const oe=new z.Z;for(oe.push(Y);this._currentPropagation.events.length;)oe.push(this._currentPropagation.events.pop());this._currentPropagation.events=oe,this._currentPropagation.currentHandler=null}_compareHandlerPriority(Y,oe){if(Y.handler.hasSideEffects!==oe.handler.hasSideEffects)return Y.handler.hasSideEffects?1:-1;if(Y.groupPriority!==oe.groupPriority)return Y.groupPriority>oe.groupPriority?-1:1;for(const se of Y.handler.incomingEventMatches)for(const le of oe.handler.incomingEventMatches){if(se.eventType!==le.eventType)continue;const de=se.keyModifiers.filter(q=>le.keyModifiers.includes(q));if(de.length===se.keyModifiers.length!=(de.length===le.keyModifiers.length))return se.keyModifiers.length>le.keyModifiers.length?-1:1}return Y.priorityIndex>oe.priorityIndex?-1:1}_sortHandlersPriority(Y){const oe=[];for(const se of Y){let le=0;for(;le<oe.length&&this._compareHandlerPriority(se,oe[le])>=0;)le++;oe.splice(le,0,se)}return oe}get debug(){const Y=oe=>{const se=this._setPointerCapture;this._setPointerCapture=()=>{},oe(),this._setPointerCapture=se};return{injectEvent:(oe,se)=>{Y(()=>{this._onEventReceived(oe,se)})},disablePointerCapture:Y}}};(0,d._)([(0,Z.Cb)({readOnly:!0})],R.prototype,"hasPendingInputs",null),(0,d._)([(0,Z.Cb)()],R.prototype,"eventSource",void 0),(0,d._)([(0,Z.Cb)()],R.prototype,"recognizers",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],R.prototype,"latestPointerType",void 0),(0,d._)([(0,Z.Cb)({readOnly:!0})],R.prototype,"latestPointerLocation",void 0),R=(0,d._)([(0,B.j)("esri.views.input.InputManager")],R);class U{constructor(oe,se,le,de,q){this.type=oe,this.data=se,this.timestamp=le,this.modifiers=de,this.cancelable=q,this._propagationState=A.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=A.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&A.STOPPED)}async(oe){this._propagationState|=A.PAUSED;const se=(le,de)=>{this._propagationState&=~A.PAUSED;const q=this._resumeCallback;if(this._resumeCallback=null,q&&q(),de)throw le;return le};return("function"==typeof oe?oe():oe).then(le=>se(le,!1),le=>se(le,!0))}shouldPausePropagation(oe){return!!(this._propagationState&A.PAUSED)&&(this._resumeCallback=oe,!0)}preventDefault(){this.data.native.preventDefault()}}var A,Y;(Y=A||(A={}))[Y.NONE=0]="NONE",Y[Y.STOPPED=1]="STOPPED",Y[Y.PAUSED=2]="PAUSED";const V={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class J{}},25441:(wt,Se,p)=>{"use strict";p.d(Se,{CK:()=>X,kK:()=>z,wj:()=>Z});var d=p(17770);const X=(0,p(8314).Z)("mac")?"Meta":"Ctrl",G={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let D=48;D<58;D++)G[D]=String.fromCharCode(D);for(let D=1;D<25;D++)G[111+D]=`F${D}`;for(let D=65;D<91;D++)G[D]=[String.fromCharCode(D+32),String.fromCharCode(D)];function z(D){if(void 0!==D.key)return(0,d.kK)(D);const k=G[D.keyCode];return Array.isArray(k)?D.shiftKey?k[1]:k[0]:k}function Z(D){switch(D){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},71251:(wt,Se,p)=>{"use strict";p.d(Se,{e:()=>Z});var d=p(62208),v=p(10699),X=p(35133),G=p(50618);class z{constructor(k,N){this.item=k,this.controller=N,this.promise=null}}class Z{constructor(k){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,k.concurrency&&(this.concurrency=k.concurrency),this._queue=new X.Z(k.peeker),this.process=k.process;const N=k.scheduler;k.priority&&(0,d.pC)(N)&&(this._task=N.registerTask(k.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(k){const N=this._controllers.get(k);N&&N.abort()}clear(){this._queue.clear();const k=[];this._controllers.forEach(N=>k.push(N)),this._controllers.clear(),k.forEach(N=>N.abort()),this._processingItems.clear(),this._cancelNext()}forEach(k){this._deferreds.forEach((N,B)=>k(B))}get(k){const N=this._deferreds.get(k);return N?N.promise:void 0}isOngoing(k){return this._processingItems.has(k)}has(k){return this._deferreds.has(k)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(k,N){const B=this.get(k);if(B)return B;const Q=new AbortController;let ne=null;N&&(ne=(0,v.fu)(N,()=>Q.abort()));const ae=()=>{re.remove(),(0,d.pC)(ne)&&ne.remove(),this._deferreds.delete(k),this._controllers.delete(k),this._queue.remove(k),this._processingItems.delete(k),this._scheduleNext()},re=(0,v.$F)(Q.signal,()=>{const F=this._processingItems.get(k);F&&F.controller.abort(),ae(),$.reject((0,v.zE)())}),$=(0,v.dD)();return this._deferreds.set(k,$),this._controllers.set(k,Q),$.promise.then(ae,ae),this._queue.push(k),this._scheduleNext(),$.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const k=[];this._processingItems.forEach(N=>k.push(N)),this._processingItems.clear();for(const N of k)this._queue.push(N.item),N.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const k=[];for(;this._queue.length;)k.push(this._queue.pop());return this.clear(),k}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(k){for(;!k.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),k.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,G.Os)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(k,N){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).resolve(N))}_processError(k,N){this._canProcessFulfillment(k)&&(this._scheduleNext(),this._deferreds.get(k.item).reject(N))}_canProcessFulfillment(k){return!!this._deferreds.get(k.item)&&this._processingItems.get(k.item)===k}_process(k){if((0,d.Wi)(k))return;let N;const B=new AbortController,Q=new z(k,B);this._processingItems.set(k,Q);try{N=this.process(k,B.signal)}catch(ne){this._processError(Q,ne)}(0,v.y8)(N)?(Q.promise=N,N.then(ne=>this._processResult(Q,ne),ne=>this._processError(Q,ne))):this._processResult(Q,N)}get test(){return{update:k=>this.runTask(k)}}}},74447:(wt,Se,p)=>{"use strict";p.d(Se,{sq:()=>Le,T8:()=>J,G5:()=>Me});var d=p(17626),v=p(14517),X=p(72392),G=p(63290),z=p(62208),Z=p(73362),D=p(77029),k=p(10699),N=p(32917),B=p(27422),Q=p(77712),re=(p(85931),p(8314),p(90912),p(76898));let $=class extends v.Z{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(_e){for(;!_e.done&&this._process(_e);)_e.madeProgress()}push(_e,Re,nt){return this.running=!0,new Promise((pt,Ne)=>this._tasks.push(new F(pt,Ne,_e,Re,nt)))}unshift(_e,Re,nt){return this.running=!0,new Promise((pt,Ne)=>this._tasks.unshift(new F(pt,Ne,_e,Re,nt)))}_process(_e){if(0===this._tasks.length)return!1;const Re=this._tasks.shift();try{const nt=(0,k.Hc)(Re.signal);if(nt&&!Re.abortCallback)Re.reject((0,k.zE)());else{const pt=nt?Re.abortCallback((0,k.zE)()):Re.callback(_e);(0,k.y8)(pt)?pt.then(Re.resolve,Re.reject):Re.resolve(pt)}}catch(nt){Re.reject(nt)}return this.running=this._tasks.length>0,!0}cancelAll(){const _e=(0,k.zE)();for(const Re of this._tasks)if(Re.abortCallback){const nt=Re.abortCallback(_e);Re.resolve(nt)}else Re.reject(_e);this._tasks.length=0,this.running=!1}};(0,d._)([(0,Q.Cb)()],$.prototype,"running",void 0),$=(0,d._)([(0,re.j)("esri.layers.support.PromiseQueue")],$);class F{constructor(Re,nt,pt,Ne,xe){this.resolve=Re,this.reject=nt,this.callback=pt,this.signal=Ne,this.abortCallback=xe}}let R=class extends v.Z{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,d._)([(0,Q.Cb)()],R.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,d._)([(0,Q.Cb)()],R.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),R=(0,d._)([(0,re.j)("esri.views.support.DebugFlags")],R);const U=new R,A=G.Z.getLogger("esri.views.support.Scheduler");var J,_e;(_e=J||(J={})).RESOURCE_CONTROLLER="schedule",_e.SLIDE="slide",_e.STREAM_DATA_LOADER="stream loader",_e.ELEVATION_QUERY="elevation query",_e.TERRAIN_SURFACE="terrain",_e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",_e.GRAPHICS_CORE="Graphics3D",_e.I3S_CONTROLLER="I3S",_e.POINT_CLOUD_LAYER="point cloud",_e.FEATURE_TILE_FETCHER="feature fetcher",_e.OVERLAY="overlay",_e.STAGE="stage",_e.GRAPHICS_DECONFLICTOR="graphics deconflictor",_e.FILTER_VISIBILITY="Graphics3D filter visibility",_e.SCALE_VISIBILITY="Graphics3D scale visibility",_e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",_e.POINT_OF_INTEREST_FREQUENT="POI frequent",_e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",_e.LABELER="labeler",_e.FEATURE_QUERY_ENGINE="feature query",_e.FEATURE_TILE_TREE="feature tile tree",_e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",_e.ELEVATION_ALIGNMENT="elevation alignment",_e.TEXT_TEXTURE_ATLAS="text texture atlas",_e.TEXTURE_UNLOAD="texture unload",_e.LINE_OF_SIGHT_TOOL="line of sight tool",_e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",_e.ELEVATION_PROFILE="elevation profile",_e.SNAPPING="snapping",_e.SHADOW_ACCUMULATOR="shadow accumulator",_e.CLOUDS_GENERATOR="cloud generator",_e[_e.TEST_PRIO=1]="TEST_PRIO";const oe=new Map([[J.RESOURCE_CONTROLLER,0],[J.SLIDE,0],[J.STREAM_DATA_LOADER,0],[J.ELEVATION_QUERY,0],[J.TERRAIN_SURFACE,1],[J.SURFACE_GEOMETRY_UPDATES,1],[J.GRAPHICS_CORE,2],[J.I3S_CONTROLLER,2],[J.POINT_CLOUD_LAYER,2],[J.FEATURE_TILE_FETCHER,2],[J.OVERLAY,4],[J.STAGE,4],[J.GRAPHICS_DECONFLICTOR,4],[J.FILTER_VISIBILITY,4],[J.SCALE_VISIBILITY,4],[J.FRUSTUM_VISIBILITY,4],[J.POINT_OF_INTEREST_FREQUENT,6],[J.POINT_OF_INTEREST_INFREQUENT,30],[J.LABELER,8],[J.FEATURE_QUERY_ENGINE,8],[J.FEATURE_TILE_TREE,16],[J.FEATURE_TILE_TREE_ACTIVE,0],[J.ELEVATION_ALIGNMENT,12],[J.TEXT_TEXTURE_ATLAS,12],[J.CLOUDS_GENERATOR,12],[J.TEXTURE_UNLOAD,12],[J.LINE_OF_SIGHT_TOOL,16],[J.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[J.SNAPPING,0],[J.SHADOW_ACCUMULATOR,30]]);function se(_e){return oe.has(_e)?oe.get(_e):"number"==typeof _e?_e:1}var le;!function(_e){_e[_e.ANIMATING=0]="ANIMATING",_e[_e.INTERACTING=1]="INTERACTING",_e[_e.IDLE=2]="IDLE"}(le||(le={}));const de=(0,B.HA)(6.5),q=(0,B.HA)(1),ue=(0,B.HA)(30),ie=(0,B.HA)(1e3/30),ye=(0,B.HA)(100);var Ce,De;(function(_e){let Re=class extends v.Z{constructor(){super(),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new Z.Z("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new pt,this._state=le.INTERACTING,this._tasks=new D.Z,this._runQueue=new D.Z,this._load=0,this._idleStateCallbacks=new D.Z,this._idleUpdatesStartFired=!1,this._maxReschedule=je,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,N.YP)(()=>U.SCHEDULER_LOG_SLOW_TASKS,Ye=>this._debug=Ye,N.nn);for(const Ye of Object.keys(J))this.performanceInfo.tasks.set(J[Ye],new Z.Z(J[Ye]));let Ne;const xe=this;this._test={get state(){return(0,z.Pt)(Ne,xe._state)},set state(Ye){Ne=Ye},FRAME_SAFETY_BUDGET:de,INTERACTING_BUDGET:ie,IDLE_BUDGET:ye,get availableBudget(){return xe._budget.budget},usedBudget:0,getBudget:()=>xe._budget,setBudget:Ye=>xe._budget=Ye,updateTask:Ye=>this._updateTask(Ye),getState:Ye=>this._getState(Ye),getRuntime:Ye=>this._getRuntime(Ye),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(Ne=>Ne.remove()),this._tasks.clear(),(0,z.hw)(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=je,this._schedule(),this.frame()))}))}registerTask(Ne,xe){const Ye=se(Ne),Ke=new nt(this,Ne,xe,Ye);return this._tasks.push(Ke),this.performanceInfo.tasks.has(Ne)||this.performanceInfo.tasks.set(Ne,new Z.Z(Ne)),Ke}registerIdleStateCallbacks(Ne,xe){const Ye={idleBegin:Ne,idleEnd:xe};this._idleStateCallbacks.push(Ye),this.state===le.IDLE&&this._idleUpdatesStartFired&&Ye.idleBegin();const Ke=this;return{remove:()=>this._removeIdleStateCallbacks(Ye),set idleBegin(Fe){Ke._idleUpdatesStartFired&&(Ye.idleEnd(),Ke._state===le.IDLE&&Fe()),Ye.idleBegin=Fe},set idleEnd(Fe){Ye.idleEnd=Fe}}}get load(){return this._load}set state(Ne){this._state!==Ne&&(this._state=Ne,this.state!==le.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(xe=>xe.idleEnd())))}get state(){return(0,z.Wi)(this._test.state)?this._state:this._test.state}updateBudget(Ne){this._test.usedBudget=0;let xe=de,Ye=Ne.frameDuration,Ke=q;switch(this.state){case le.IDLE:xe=(0,B.HA)(0),Ye=(0,B.HA)(Math.max(ye,Ne.frameDuration)),Ke=ue;break;case le.INTERACTING:Ye=(0,B.HA)(Math.max(ie,Ne.frameDuration))}return Ye=(0,B.HA)(Ye-Ne.elapsedFrameTime-xe),this.state!==le.IDLE&&Ye<q&&!this._forceTask?(this._forceTask=!0,!1):(Ye=(0,B.HA)(Math.max(Ye,Ke)),this._budget.reset(Ye,this.state),this._maxReschedule=je,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case le.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(Ne=>Ne.idleBegin())),this._runIdle();break;case le.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset((0,B.HA)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(Ne){this._idleUpdatesStartFired&&Ne.idleEnd(),this._idleStateCallbacks.removeUnordered(Ne)}removeTask(Ne){this._tasks.removeUnordered(Ne),this._runQueue.removeUnordered(Ne)}_updateTask(Ne){this._tasks.forAll(xe=>{xe.name===Ne&&xe.setPriority(Ne)})}_getState(Ne){if(this._runQueue.some(Ye=>Ye.name===Ne))return De.SCHEDULED;let xe=De.IDLE;return this._tasks.forAll(Ye=>{Ye.name===Ne&&Ye.needsUpdate&&(Ye.schedulePriority<=1?xe=De.READY:xe!==De.READY&&(xe=De.WAITING))}),xe}_getRuntime(Ne){let xe=0;return this._tasks.forAll(Ye=>{Ye.name===Ne&&(xe+=Ye.runtime)}),xe}_resetRuntimes(){this._tasks.forAll(Ne=>Ne.runtime=0)}_getRunning(){const Ne=new Map;if(this._tasks.forAll(Ye=>{Ye.needsUpdate&&Ne.set(Ye.name,(Ne.get(Ye.name)||0)+1)}),0===Ne.size)return null;let xe="";return Ne.forEach((Ye,Ke)=>{xe+=Ye>1?` ${Ye}x ${Ke}`:` ${Ke}`}),xe}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const Ne=this._tasks.reduce((xe,Ye)=>Ye.needsUpdate?++xe:xe,0);this._load=.9*this._load+Ne*(1-.9)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(Ne=>!!Ne.needsUpdate||(Ne.schedulePriority=Ne.basePriority,!1)),this._tasks.forAll(Ne=>{0===Ne.basePriority&&Ne.needsUpdate&&!this._runQueue.includes(Ne)&&this._runQueue.unshift(Ne)});0===this._runQueue.length;){let Ne=!1,xe=0;if(this._tasks.forAll(Ye=>{Ye.needsUpdate&&0!==Ye.schedulePriority&&0!==Ye.basePriority&&(Ne=!0,xe=Math.max(xe,Ye.basePriority),1===Ye.schedulePriority?(Ye.schedulePriority=0,this._runQueue.push(Ye)):--Ye.schedulePriority)}),!Ne)return this.updating=!1,!1;this._maxReschedule===je&&(this._maxReschedule=xe),--this._maxReschedule}return this.updating=!0,!0}_run(){const Ne=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const xe=this._budget.now(),Ye=this._runQueue.pop();this._budget.resetProgress();try{Ye.task.runTask(this._budget)}catch(Fe){A.error(`Exception in task "${Ye.name}"`,Fe)}Ye.schedulePriority=Ye.basePriority;const Ke=this._budget.now()-xe;if(Ye.runtime+=Ke,this._frameTaskTimes.set(Ye.priority,this._frameTaskTimes.get(Ye.priority)+Ke),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",Ye.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(Fe=>Fe.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-Ne)}}while(this._schedule());this.updating=this._tasks.some(xe=>xe.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-Ne)}_startFrameTaskTimes(){for(const Ne of Object.keys(J))this._frameTaskTimes.set(J[Ne],0)}_recordFrameTaskTimes(Ne){this._frameTaskTimes.forEach((xe,Ye)=>this.performanceInfo.tasks.get(Ye).record(xe)),this.performanceInfo.total.record(Ne)}get test(){return this._test}};(0,d._)([(0,Q.Cb)()],Re.prototype,"updating",void 0),Re=(0,d._)([(0,re.j)("esri.views.support.Scheduler")],Re),_e.Scheduler=Re;let nt=class extends v.Z{constructor(Ne,xe,Ye,Ke){super({}),this._scheduler=Ne,this.name=xe,this._basePriority=Ke,this.runtime=0,this._queue=new $,this._handles=new X.Z,this.schedulePriority=this._basePriority,this.task=(0,z.pC)(Ye)?Ye:this._queue,this._handles.add((0,N.gx)(()=>this.task.running,()=>Ne.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(Me),this._scheduler.removeTask(this),this.schedule=Le.schedule,this.reschedule=Le.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(Ne){this.name=Ne;const xe=se(Ne);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=xe),this._basePriority=xe}get priority(){return this.name}set priority(Ne){this.setPriority(Ne)}get needsUpdate(){return this.updating||this.task.running}schedule(Ne,xe,Ye){return this._queue.push(Ne,xe,Ye)}reschedule(Ne,xe,Ye){return this._queue.unshift(Ne,xe,Ye)}processQueue(Ne){this._queue.runTask(Ne)}};(0,d._)([(0,Q.Cb)({constructOnly:!0})],nt.prototype,"task",void 0),(0,d._)([(0,Q.Cb)({readOnly:!0})],nt.prototype,"updating",null),nt=(0,d._)([(0,re.j)("esri.views.support.SchedulerTask")],nt);class pt{constructor(){this._begin="undefined"!=typeof performance?performance.now():0,this._budget=0,this._state=le.IDLE,this._didWork=!1,this._enabled=!0}run(xe){return!this.done&&(!0===xe()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(xe){this._enabled=xe}reset(xe,Ye){this._begin=this.now(),this._budget=xe,this._state=Ye,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}_e.Budget=pt})(Ce||(Ce={})),function(_e){_e.SCHEDULED="s",_e.READY="r",_e.WAITING="w",_e.IDLE="i"}(De||(De={}));const Me=(()=>{const _e=new Ce.Budget;return _e.enabled=!1,_e})(),Le=new class ve{remove(){}processQueue(){}schedule(Re,nt,pt){try{if((0,k.Hc)(nt)){const Ne=(0,k.zE)();return pt?Promise.resolve(pt(Ne)):Promise.reject(Ne)}return(0,k.gx)(Re(Me))}catch(Ne){return Promise.reject(Ne)}}reschedule(Re,nt,pt){return this.schedule(Re,nt,pt)}},je=Number.MAX_SAFE_INTEGER},18605:(wt,Se,p)=>{"use strict";p.d(Se,{Jl:()=>U,LI:()=>$,RZ:()=>F,TT:()=>A,cv:()=>N,r7:()=>R,v8:()=>B}),p(8314);var v=p(21286),X=p(62208);function N(_e,Re,nt){const{ctx:pt,canvas:Ne}=Q(_e,nt),xe=pt.getImageData(0,0,_e.width,_e.height),Ye=function re(_e,Re){return _e.toDataURL(De[Re.format],Re.quality/100)}(Ne,Re);return ne(Ne),{dataUrl:Ye,data:xe}}function B(_e,Re){const{ctx:nt,canvas:pt}=Q(_e,Re),Ne=nt.getImageData(0,0,_e.width,_e.height);return ne(pt),Ne}function Q(_e,Re){const nt=function te(){return(0,X.Wi)(ae)&&(ae=document.createElement("canvas")),ae}();Re.premultipliedAlpha&&function Ce(_e){const Re=_e.data,nt=Re.length;for(let pt=0;pt<nt;pt+=4){const Ne=Re[pt+3];if(255!==Ne&&Ne>0){const xe=255/Ne;Re[pt+0]=Re[pt+0]*xe,Re[pt+1]=Re[pt+1]*xe,Re[pt+2]=Re[pt+2]*xe}}}(_e),nt.width=_e.width,nt.height=_e.height;const pt=nt.getContext("2d");return pt.putImageData(_e,0,0),Re.flipY&&function pe(_e){_e.save(),_e.globalCompositeOperation="copy",_e.scale(1,-1),_e.translate(0,-_e.canvas.height),_e.drawImage(_e.canvas,0,0),_e.restore()}(pt),{ctx:pt,canvas:nt}}function ne(_e){_e.width=0,_e.height=0}let ae=null;function $(_e,Re){const nt=function ye(_e){switch(_e){case"png":case"jpg":case"jpeg":return _e;default:return ve}}(_e);return{format:nt,quality:(0,v.uZ)(null!=Re?Re:Le[nt],0,100)}}function F(_e,Re){return Re/Math.max(_e[0],_e[1])}function R(_e,Re,nt){if(!_e||!Re)throw new Error("Cannot construct image data without dimensions");if(oe)try{return new ImageData(_e,Re)}catch(pt){oe=!1}return J(_e,Re,nt)}function U(_e,Re,nt,pt){if(!Re||!nt)throw new Error("Cannot construct image data without dimensions");if(oe)try{return new ImageData(_e,Re,nt)}catch(xe){oe=!1}const Ne=J(Re,nt,pt);return Ne.data.set(_e,0),Ne}function A(_e,Re,nt,pt=0,Ne=0,xe=_e.width-pt,Ye=_e.height-Ne,Ke=!1){const{data:Fe}=_e,{width:Ze,height:ct,data:we}=Re,Be=xe/Ze,Je=Ye/ct,$e=Math.ceil(Be/2),ot=Math.ceil(Je/2),mt=_e.width;for(let Tt=0;Tt<ct;Tt++)for(let It=0;It<Ze;It++){const Nt=4*(It+(Ke?ct-Tt-1:Tt)*Ze);let Rt=0,Xe=0,vt=0,Zt=0,xt=0,Lt=0;const en=(Tt+.5)*Je;for(let En=Math.floor(Tt*Je);En<(Tt+1)*Je;En++){const Dn=Math.abs(en-(En+.5))/ot,Xn=(It+.5)*Be,pr=Dn*Dn;for(let Tr=Math.floor(It*Be);Tr<(It+1)*Be;Tr++){const vr=Math.abs(Xn-(Tr+.5))/$e,zn=Math.sqrt(pr+vr*vr);if(zn>=1)continue;let zt=2*zn*zn*zn-3*zn*zn+1;const sn=4*(pt+Tr+(Ne+En)*mt);Lt+=zt*Fe[sn+3],Xe+=zt,!nt&&Fe[sn+3]<255&&(zt=zt*Fe[sn+3]/255),vt+=zt*Fe[sn],Zt+=zt*Fe[sn+1],xt+=zt*Fe[sn+2],Rt+=zt}}we[Nt]=vt/Rt,we[Nt+1]=Zt/Rt,we[Nt+2]=xt/Rt,we[Nt+3]=Lt/Xe}return Re}function J(_e,Re,nt){return nt||(nt=function se(){return Y||(Y=document.createElement("canvas"),Y.width=1,Y.height=1),Y}()),nt.getContext("2d").createImageData(_e,Re)}let Y=null,oe=!0;const De={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ve="png",Le={png:100,jpg:98,jpeg:98}},31637:(wt,Se,p)=>{"use strict";p.d(Se,{hc:()=>z});var d=p(62208),v=p(57596);let X,G;function z(re){const $=(0,v.Sh)(re);for(;$.length>1;){const F=Z($.shift());if(F.available)return F}return Z($.shift())}function Z(re){switch(re){case v.zO.WEBGL1:return function D(){return X||(X=function te(){const re=new B,$=ne(v.zO.WEBGL1,re);return(0,d.Wi)($)||(re.supportsElementIndexUint=null!==$.getExtension("OES_element_index_uint"),re.supportsStandardDerivatives=null!==$.getExtension("OES_standard_derivatives"),re.supportsInstancedArrays=null!==$.getExtension("ANGLE_instanced_arrays"),re.supportsTextureFloat=null!==$.getExtension("OES_texture_float"),re.supportsTextureHalfFloat=null!==$.getExtension("OES_texture_half_float"),re.supportsColorBufferFloat=null!==$.getExtension("WEBGL_color_buffer_float"),re.supportsColorBufferFloatBlend=null!==$.getExtension("EXT_float_blend"),re.supportsColorBufferHalfFloat=null!==$.getExtension("EXT_color_buffer_half_float")),re}()),X}();case v.zO.WEBGL2:return function k(){return G||(G=function ae(){const re=new Q,$=ne(v.zO.WEBGL2,re);return(0,d.Wi)($)||(re.supportsColorBufferFloat=null!==$.getExtension("EXT_color_buffer_float"),re.supportsColorBufferFloatBlend=null!==$.getExtension("EXT_float_blend"),re.supportsColorBufferHalfFloat=re.supportsColorBufferFloat||null!==$.getExtension("EXT_color_buffer_half_float")),re}()),G}()}}class N{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class B extends N{constructor(){super(...arguments),this.type=v.zO.WEBGL1}}class Q extends N{constructor(){super(...arguments),this.type=v.zO.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function ne(re,$){var A;if(re===v.zO.WEBGL1&&void 0===typeof WebGLRenderingContext||re===v.zO.WEBGL2&&void 0===typeof WebGL2RenderingContext)return null;const F=document.createElement("canvas");if(!F)return null;let R=(0,v.kr)(F,re,{failIfMajorPerformanceCaveat:!0});if((0,d.Wi)(R)&&(R=(0,v.kr)(F,re),(0,d.pC)(R)&&($.majorPerformanceCaveat=!0)),(0,d.Wi)(R))return R;if(re===v.zO.WEBGL1){const V=null==(A=R.getParameter(R.VERSION))?void 0:A.match(/^WebGL\s+([\d.]*)/);if(V){const J=parseFloat(V[1]);$.available=J>=.94}}else $.available=!0;$.maxTextureSize=R.getParameter(R.MAX_TEXTURE_SIZE),$.supportsVertexShaderSamplers=R.getParameter(R.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const U=R.getShaderPrecisionFormat(R.FRAGMENT_SHADER,R.HIGH_FLOAT);return U&&($.supportsHighPrecisionFragment=U.precision>0),R}},57596:(wt,Se,p)=>{"use strict";p.d(Se,{Sh:()=>z,kr:()=>D,sj:()=>G,zO:()=>X});var X,Q,d=p(8314),v=p(62208);function G(Q,ne,te={}){const ae=z(Q);for(;ae.length>1;){const re=D(ne,ae.shift(),te);if((0,v.pC)(re))return re}return function Z(Q,ne,te={}){if(!window.WebGLRenderingContext)return k(Q,N),null;const ae=D(Q,ne,te);return(0,v.Wi)(ae)&&k(Q,B),ae}(ne,ae.shift(),te)}function z(Q){const ne=(0,d.Z)("esri-force-webgl");if(ne===X.WEBGL1||ne===X.WEBGL2)return[ne];switch(Q){case"2d":return(0,d.Z)("mac")&&(0,d.Z)("chrome")?[X.WEBGL1,X.WEBGL2]:[X.WEBGL2,X.WEBGL1];case"3d":return[X.WEBGL2,X.WEBGL1]}}function D(Q,ne,te={}){const ae=ne===X.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let re=null;for(const $ of ae){try{re=Q.getContext($,te)}catch(F){}if(re)break}return re}function k(Q,ne){const te=Q.parentNode;te&&(te.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+ne+"</div></div></td></tr></table>")}(Q=X||(X={}))[Q.WEBGL1=1]="WEBGL1",Q[Q.WEBGL2=2]="WEBGL2";const N='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',B='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},92236:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>v,b:()=>X});var d=p(90912);function v(G){const z=(0,d.vU)(100*(1-G));return Math.max(0,Math.min(z,100))}function X(G){return Math.max(0,Math.min(1-G/100,1))}},32584:(wt,Se,p)=>{"use strict";p.d(Se,{Nw:()=>$});var d=p(26584),v=p(58817),X=p(62208),G=p(94113),z=p(23025),Z=p(72469);const D=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),k=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function ae(F,R){"maxScale"in F&&(R.maxScale=(0,z.k)(F.maxScale)),"minScale"in F&&(R.minScale=(0,z.k)(F.minScale))}function $(F,R,U){if(!("write"in F)||!F.write)return U&&U.messages&&U.messages.push(new d.Z("layer:unsupported",`Layers (${F.title}, ${F.id}) of type '${F.declaredClass}' cannot be persisted`,{layer:F})),null;if(function ne(F,R){if(R.restrictedWebMapWriting){const U=function Q(F){return"basemap"===F.layerContainerType?D:"operational-layers"===F.layerContainerType?k:null}(R);return!(0,X.pC)(U)||U.has(F.type)&&!(0,Z.rQ)(F)}return!0}(F,U)){const A={};return F.write(A,U)?A:null}return(0,X.pC)(R)&&function re(F,R){if(function te(F,R){if((0,Z.rQ)(F)){const U=(0,G.hS)("featureCollection.layers",R),A=U&&U[0]&&U[0].layerDefinition;A&&ae(F,A)}else"stream"===F.type?ae(F,R.layerDefinition=R.layerDefinition||{}):"group"!==F.type&&ae(F,R)}(F,R),"blendMode"in F&&(R.blendMode=F.blendMode,"normal"===R.blendMode&&delete R.blendMode),R.opacity=(0,z.k)(F.opacity),R.title=F.title||"Layer",R.visibility=F.visible,"legendEnabled"in F&&"wmts"!==F.type)if((0,Z.rQ)(F)){const U=R.featureCollection;U&&(U.showLegend=F.legendEnabled)}else R.showLegend=F.legendEnabled}(F,R=(0,v.d9)(R)),R}},10391:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>Be});var d=p(15861),v=p(17626),G=(p(52515),p(40764)),z=p(61885),Z=p(17770),D=p(72392),N=(p(8314),p(58817)),B=p(63290),Q=p(62208),ne=p(60330),te=p(10699),ae=p(32917),re=p(35948),$=p(77712),F=p(66656),R=p(76898),U=p(36082),A=p(819),V=p(39605);p(62996);const Y={handleInterceptedEvent:(Je,$e,ot,mt)=>(Je.scheduleRender(),$e.properties[`on${mt.type}`].apply($e.properties.bind||ot,[mt]))},oe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(Je,$e,ot)=>{Je.style[$e]=ot}},q=(Je,$e,ot=!1)=>{let mt=Je;return $e.forEach((Tt,It)=>{const Nt=(null==mt?void 0:mt.children)?((Je,$e)=>Je.find(Rt=>Rt.domNode===Tt))(mt.children):void 0;ot&&!Nt&&It!==$e.length-1||(mt=Nt)}),mt};var ie=p(76210),ye=p(54346),pe=p(21726);let Ce;Ce="components/assets";var Me=p(81431);const ve=new Set;var _e=p(66950),Re=p(38570),nt=p(56683),pt=p(41840);const Ne="esri.widgets.Widget",xe=B.Z.getLogger(Ne);let Ye=0;function Fe(Je,$e){for(const ot in $e)null!=Je[ot]&&("object"==typeof Je[ot]&&"object"==typeof $e[ot]?Fe(Je[ot],$e[ot]):Je[ot]=$e[ot]);return Je}const Ze=(Je=>{let $e;const ot=Nn(Nn({},Y),Je),mt=(Je=>Nn(Nn({},oe),Je))(ot),Tt=mt.performanceLogger;let It,Nt=!0,Rt=!1;const Xe=[],vt=[],Zt=(Lt,en,En)=>{var pr;let Dn;mt.eventHandlerInterceptor=(Tr,vr,zn,zt)=>function(sn){let pn;Tt("domEvent",sn);const In=((Je,$e)=>{const ot=[];for(;Je&&Je!==$e;)ot.push(Je),Je=Je.parentNode;return ot})(sn.currentTarget,Dn.domNode),Wn=In.some($n=>{var Ht;return customElements.get(null==(Ht=null==$n?void 0:$n.tagName)?void 0:Ht.toLowerCase())});if(sn.eventPhase!==Event.CAPTURING_PHASE&&Wn){const $n=sn.composedPath(),Ht=$n.slice($n.indexOf(sn.currentTarget),$n.indexOf(Dn.domNode)).filter(ir=>ir.getRootNode()===ir.ownerDocument).reverse();pn=q(Dn.getLastRender(),Ht,!0)}else In.reverse(),pn=q(Dn.getLastRender(),In);let jn;return pn&&(jn=ot.handleInterceptedEvent($e,pn,this,sn)),Tt("domEventProcessed",sn),jn},null==(pr=ot.postProcessProjectionOptions)||pr.call(ot,mt);const Xn=En();Dn=Lt(en,Xn,mt),Xe.push(Dn),vt.push(En),ot.afterFirstVNodeRendered&&ot.afterFirstVNodeRendered(Dn,Xn)};let xt=()=>{if(It=void 0,Nt){Nt=!1,Tt("renderStart",void 0);for(let Lt=0;Lt<Xe.length;Lt++){const en=vt[Lt]();Tt("rendered",void 0),Xe[Lt].update(en),Tt("patched",void 0)}Tt("renderDone",void 0),Nt=!0}};return ot.modifyDoRenderImplementation&&(xt=ot.modifyDoRenderImplementation(xt,Xe,vt)),$e={renderNow:xt,scheduleRender:()=>{It||Rt||(It=requestAnimationFrame(xt))},stop:()=>{It&&(cancelAnimationFrame(It),It=void 0),Rt=!0},resume:()=>{Rt=!1,Nt=!0,$e.scheduleRender()},append:(Lt,en)=>{Zt(V.v.append,Lt,en)},insertBefore:(Lt,en)=>{Zt(V.v.insertBefore,Lt,en)},merge:(Lt,en)=>{Zt(V.v.merge,Lt,en)},replace:(Lt,en)=>{Zt(V.v.replace,Lt,en)},detach:Lt=>{for(let en=0;en<vt.length;en++)if(vt[en]===Lt)return vt.splice(en,1),Xe.splice(en,1)[0];throw new Error("renderFunction was not found")}},$e})({postProcessProjectionOptions(Je){const $e=Je.eventHandlerInterceptor,ot=/capture$/i;Je.eventHandlerInterceptor=(mt,Tt,It,Nt)=>{const Rt=$e(mt,Tt,It,Nt),Xe=ot.test(mt);if(!((mt=mt.replace(ot,"")).toLowerCase()in It)||Xe){const vt=mt[2].toLowerCase()+mt.slice(3),Zt=en=>Rt.call(It,en);It.addEventListener(vt,Zt,Xe);const xt=()=>It.removeEventListener(vt,Zt,Xe),Lt=Nt.afterRemoved;Nt.afterRemoved=en=>{null==Lt||Lt(en),xt()}}return Rt}},handleInterceptedEvent(Je,$e,ot,mt){const{eventPhase:Tt,type:It}=mt,Nt=Tt===Event.CAPTURING_PHASE;let Rt=`on${It}${Nt?"capture":""}`;const Xe=$e.properties;(Rt in Xe||(Rt=`on${It[0].toUpperCase()}${It.slice(1)}${Nt?"Capture":""}`,Rt in Xe))&&((0,_e.Uy)(),Je.scheduleRender(),Xe[Rt].call(Xe.bind||ot,mt))}});let ct=!1,we=class extends((0,ne.v)(z.Z.EventedAccessor)){constructor(Je,$e){var ot;super(Je,$e),ot=this,this._attached=!1,this._internalHandles=new D.Z,this._projector=Ze,this._readyForTrueRender=!1,this.domNode=null,this.iconClass="esri-icon-checkbox-unchecked",this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=(0,te.Ds)((0,d.Z)(function*(){if(ot._messageBundleProps&&ot._messageBundleProps.length){const Nt=yield(0,te.as)(ot._messageBundleProps.map(function(){var Rt=(0,d.Z)(function*({bundlePath:Xe,propertyName:vt}){let Zt=yield(0,pt.ME)(Xe);ot.uiStrings&&Object.keys(ot.uiStrings)&&(Zt=Fe((0,N.d9)(Zt),ot.uiStrings)),ot[vt]=Zt});return function(Xe){return Rt.apply(this,arguments)}}()));for(const Rt of Nt)Rt.error&&xe.error("widget-intl:locale-error",ot.declaredClass,Rt.error)}yield ot.loadLocale()})),function De(){(0,ie.YY)((0,pe.hF)((0,ye.V)("components/assets")))}();const mt="esri-widget-uid-"+(0,re.D)(),Tt=this.render.bind(this);this._trackingTarget=new A.M(()=>this.scheduleRender());const It=()=>{var xt;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:mt,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const Nt=Tt();let{properties:Rt}=Nt;Rt||(Nt.properties=Rt={});let{key:Xe,styles:vt}=Rt;Xe||(Rt.key=mt),vt||(Rt.styles=vt={}),vt.display||(vt.display="");let Zt=0;return null==(xt=Nt.children)||xt.forEach(Lt=>{if((0,Me.ZJ)(Lt.vnodeSelector))return;let{properties:en}=Lt;en||(Lt.properties=en={}),en.key||(en.key=`${this.id}--${Zt++}`)}),(0,Me.dh)(this,Nt)};this.render=()=>{if(ct)return It();let Nt=(0,_e.O9)(this);if(Nt)return Nt;this._trackingTarget.clear(),ct=!0;try{Nt=(0,U.LJ)(this._trackingTarget,It)}catch(Rt){throw console.error(Rt),Rt}finally{ct=!1}return(0,_e.KF)(this,Nt),Nt},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),function Le(Je){ve.add(Je),Je.finally(()=>ve.delete(Je))}(this._resourcesFetch)}normalizeCtorArgs(Je,$e){const ot=Nn({},Je);return $e&&(ot.container=$e),ot}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(te.H9)}loadDependencies(){return(0,d.Z)(function*(){})()}loadLocale(){return(0,d.Z)(function*(){})()}destroy(){this.destroyed||((0,Q.SC)(this._trackingTarget),(0,Q.SC)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,_e.w7)(this))}set container(Je){this._get("container")||this._set("container",Je)}castContainer(Je){return(0,G.L7)(Je)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Ye++}set id(Je){Je&&this._set("id",Je)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,_e.w7)(this),this._projector.scheduleRender())}classes(...Je){return Re.Sh.apply(this,Je)}renderNow(){(0,_e.w7)(this),this._projector.renderNow()}_postInitialize(){var ot,Je=this;if(this.destroyed)return;this.scheduleRender(),(null==(ot=this._delegatedEventNames)?void 0:ot.length)&&this._internalHandles.add((0,ae.YP)(()=>this.viewModel,(mt,Tt)=>{Tt&&this._internalHandles.remove("delegated-events"),mt&&(0,Z.vT)(mt)&&this._internalHandles.add(this._delegatedEventNames.map(It=>(0,Z.on)(mt,It,Nt=>{this.emit(It,Nt)})),"delegated-events")},ae.nn)),this.postInitialize();const $e=function(){var mt=(0,d.Z)(function*(){yield Je._loadLocale().catch(te.H9),Je.scheduleRender()});return function(){return mt.apply(this,arguments)}}();this._internalHandles.add([(0,nt.qe)($e),(0,ae.YP)(()=>this.uiStrings,$e),(0,ae.gx)(()=>this.container,mt=>{this.destroyed||this._attach(mt)},{initial:!0,once:!0})])}_attach(Je){Je&&(this._projector.merge(Je,this.render),this._attached=!0)}_detach(Je){Je&&this._attached&&(this._projector.detach(this.render),Je.parentNode&&Je.parentNode.removeChild(Je),this._attached=!1)}};we[Me.$X]=!0,(0,v._)([(0,$.Cb)()],we.prototype,"_readyForTrueRender",void 0),(0,v._)([(0,$.Cb)({value:null})],we.prototype,"container",null),(0,v._)([(0,F.p)("container")],we.prototype,"castContainer",null),(0,v._)([(0,$.Cb)({aliasOf:"container"})],we.prototype,"domNode",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"iconClass",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"id",null),(0,v._)([(0,$.Cb)()],we.prototype,"label",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"renderable",null),(0,v._)([(0,$.Cb)()],we.prototype,"uiStrings",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"viewModel",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"visible",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"key",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"children",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"afterCreate",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"afterUpdate",void 0),(0,v._)([(0,$.Cb)()],we.prototype,"afterRemoved",void 0),we=(0,v._)([(0,R.j)(Ne)],we);const Be=we},24940:(wt,Se,p)=>{"use strict";p.d(Se,{h:()=>v});var d=p(38570);function v(){return function(z,Z){if(!z[Z])throw new TypeError(`Cannot auto bind undefined function '${Z}'`);return{value:G(z[Z])}}}function G(z){return function(Z,...D){!function X(z){const{type:Z}=z;return z instanceof KeyboardEvent||"keyup"===Z||"keydown"===Z||"keypress"===Z}(Z)?z.call(this,Z,...D):(0,d.pf)(Z.key)&&(Z.preventDefault(),Z.stopPropagation(),Z.target.click())}}},25552:(wt,Se,p)=>{"use strict";function d(v){return(X,G)=>{X.hasOwnProperty("_messageBundleProps")||(X._messageBundleProps=X._messageBundleProps?X._messageBundleProps.slice():[]),X._messageBundleProps.push({bundlePath:v,propertyName:G})}}p.d(Se,{H:()=>d})},94450:(wt,Se,p)=>{"use strict";p.d(Se,{u:()=>z});var d=p(81431),v=function(D){return{vnodeSelector:"",properties:void 0,children:void 0,text:D.toString(),domNode:null}},X=function(D,k){for(var N=0,B=D.length;N<B;N++){var Q=D[N];Array.isArray(Q)?X(Q,k):null!=Q&&!1!==Q&&(Q.hasOwnProperty("vnodeSelector")||(Q=v(Q)),k.push(Q))}};function z(D,k,...N){return"function"!=typeof D||(0,d.ZJ)(D)?function(D,k){for(var N=[],B=2;B<arguments.length;B++)N[B-2]=arguments[B];if(1===N.length&&"string"==typeof N[0])return{vnodeSelector:D,properties:k||void 0,children:void 0,text:N[0],domNode:null};var Q=[];return X(N,Q),{vnodeSelector:D,properties:k||void 0,children:Q,text:void 0,domNode:null}}(D,k,...N):D(k,...N)}},81431:(wt,Se,p)=>{"use strict";p.d(Se,{$X:()=>v,ZJ:()=>B,dh:()=>Z});var d=p(54024);const v=Symbol("widget"),X=[],G={},z=new WeakMap;function Z(Q,ne){let te=ne.children;if(te&&te.length)for(let re=0;re<te.length;++re)te[re]=Z(Q,te[re]);else te=X;const ae=ne.vnodeSelector;if(B(ae)){const re=ne.properties||G,$=re.key||ae;return{vnodeSelector:"div",properties:{key:$,afterCreate:D,afterUpdate:k,afterRemoved:N,parentWidget:Q,widgetConstructor:ae,widgetProperties:Wi(Nn({},re),{key:$,children:te})},children:void 0,text:void 0,domNode:null}}return ne}function D(Q,ne,te,{parentWidget:ae,widgetConstructor:re,widgetProperties:$}){var R;const F=new re($);F.container=Q,z.set(Q,F),null==(R=F.afterCreate)||R.call(F,F,Q),ae._internalHandles.add((0,d.kB)(()=>N(Q)))}function k(Q,ne,te,{widgetProperties:ae}){var $;const re=z.get(Q);re&&(re.set(ae),null==($=re.afterUpdate)||$.call(re,re,Q))}function N(Q){const ne=z.get(Q);ne&&(ne.destroy(),z.delete(Q))}function B(Q){return"function"==typeof Q&&Q[v]}},66950:(wt,Se,p)=>{"use strict";p.d(Se,{KF:()=>G,O9:()=>X,Uy:()=>v,w7:()=>z});const d=new Map;function v(){d.clear()}function X(Z){return d.get(Z)}function G(Z,D){d.set(Z,D)}function z(Z){d.delete(Z)}},13777:(wt,Se,p)=>{"use strict";function G(Z){return Z&&"function"==typeof Z.render}function z(Z){return Z&&"function"==typeof Z.postMixInProperties&&"function"==typeof Z.buildRendering&&"function"==typeof Z.postCreate&&"function"==typeof Z.startup}p.d(Se,{Qd:()=>G,o:()=>z}),p(24940),p(94450),p(38570)},38570:(wt,Se,p)=>{"use strict";p.d(Se,{Sh:()=>rs,vU:()=>Hi,pV:()=>hr,pf:()=>ps,dZ:()=>fi,_q:()=>Li,w3:()=>Ts,Yo:()=>Ii});var z=Object.prototype,Z=Function.prototype.toString,D=z.hasOwnProperty,k=Z.call(Object),N=z.toString,B=function X(ut,Zn){return function(Pn){return ut(Zn(Pn))}}(Object.getPrototypeOf,Object),ae={exports:{}},re={},$={exports:{}},F={};function R(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var V=/javascript\s*\:/gim;F.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},F.getDefaultWhiteList=R,F.onAttr=function U(ut,Zn,Pn){},F.onIgnoreAttr=function A(ut,Zn,Pn){},F.safeAttrValue=function J(ut,Zn){return V.test(Zn)?"":Zn};var oe_trim=function(ut){return String.prototype.trim?ut.trim():ut.replace(/(^\s*)|(\s*$)/g,"")},oe_trimRight=function(ut){return String.prototype.trimRight?ut.trimRight():ut.replace(/(\s*$)/g,"")},de=F;function ue(ut){return null==ut}function ye(ut){(ut=function ie(ut){var Zn={};for(var Pn in ut)Zn[Pn]=ut[Pn];return Zn}(ut||{})).whiteList=ut.whiteList||de.whiteList,ut.onAttr=ut.onAttr||de.onAttr,ut.onIgnoreAttr=ut.onIgnoreAttr||de.onIgnoreAttr,ut.safeAttrValue=ut.safeAttrValue||de.safeAttrValue,this.options=ut}ye.prototype.process=function(ut){if(!(ut=(ut=ut||"").toString()))return"";var Pn=this.options,yr=Pn.whiteList,Pr=Pn.onAttr,ni=Pn.onIgnoreAttr,Yr=Pn.safeAttrValue;return function se(ut,Zn){";"!==(ut=oe_trimRight(ut))[ut.length-1]&&(ut+=";");var Pn=ut.length,yr=!1,Pr=0,ni=0,Yr="";function Lr(){if(!yr){var yi=oe_trim(ut.slice(Pr,ni)),Un=yi.indexOf(":");if(-1!==Un){var Qr=oe_trim(yi.slice(0,Un)),cs=oe_trim(yi.slice(Un+1));if(Qr){var rn=Zn(Pr,Yr.length,Qr,cs,yi);rn&&(Yr+=rn+"; ")}}}Pr=ni+1}for(;ni<Pn;ni++){var Oi=ut[ni];if("/"===Oi&&"*"===ut[ni+1]){var li=ut.indexOf("*/",ni+2);if(-1===li)break;Pr=(ni=li+1)+1,yr=!1}else"("===Oi?yr=!0:")"===Oi?yr=!1:";"===Oi?yr||Lr():"\n"===Oi&&Lr()}return oe_trim(Yr)}(ut,function(Oi,li,yi,Un,Qr){var cs=yr[yi],rn=!1;if(!0===cs?rn=cs:"function"==typeof cs?rn=cs(Un):cs instanceof RegExp&&(rn=cs.test(Un)),!0!==rn&&(rn=!1),Un=Yr(yi,Un)){var kt,gn={position:li,sourcePosition:Oi,source:Qr,isWhite:rn};if(rn)return ue(kt=Pr(yi,Un,gn))?yi+":"+Un:kt;if(!ue(kt=ni(yi,Un,gn)))return kt}})};var pe=ye;!function(ut,Zn){var Pn=F,yr=pe;for(var ni in(Zn=ut.exports=function Pr(Yr,Lr){return new yr(Lr).process(Yr)}).FilterCSS=yr,Pn)Zn[ni]=Pn[ni]}($,$.exports);var Ce={indexOf:function(ut,Zn){var Pn,yr;if(Array.prototype.indexOf)return ut.indexOf(Zn);for(Pn=0,yr=ut.length;Pn<yr;Pn++)if(ut[Pn]===Zn)return Pn;return-1},forEach:function(ut,Zn,Pn){var yr,Pr;if(Array.prototype.forEach)return ut.forEach(Zn,Pn);for(yr=0,Pr=ut.length;yr<Pr;yr++)Zn.call(Pn,ut[yr],yr,ut)},trim:function(ut){return String.prototype.trim?ut.trim():ut.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ut){var Pn=/\s|\n|\t/.exec(ut);return Pn?Pn.index:-1}},Me=$.exports.getDefaultWhiteList,ve=Ce;var je=new(0,$.exports.FilterCSS);function Ne(ut){return ut.replace(Ye,"&lt;").replace(Ke,"&gt;")}var Ye=/</g,Ke=/>/g,Fe=/"/g,Ze=/&quot;/g,ct=/&#([a-zA-Z0-9]*);?/gim,we=/&colon;?/gim,Be=/&newline;?/gim,Je=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,$e=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ot=/u\s*r\s*l\s*\(.*/gi;function mt(ut){return ut.replace(Fe,"&quot;")}function Tt(ut){return ut.replace(Ze,'"')}function It(ut){return ut.replace(ct,function(Pn,yr){return String.fromCharCode("x"===yr[0]||"X"===yr[0]?parseInt(yr.substr(1),16):parseInt(yr,10))})}function Nt(ut){return ut.replace(we,":").replace(Be," ")}function Rt(ut){for(var Zn="",Pn=0,yr=ut.length;Pn<yr;Pn++)Zn+=ut.charCodeAt(Pn)<32?" ":ut.charAt(Pn);return ve.trim(Zn)}function Xe(ut){return Rt(ut=Nt(ut=It(ut=Tt(ut))))}function vt(ut){return Ne(ut=mt(ut))}re.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},re.getDefaultWhiteList=function Le(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},re.onTag=function _e(ut,Zn,Pn){},re.onIgnoreTag=function Re(ut,Zn,Pn){},re.onTagAttr=function nt(ut,Zn,Pn){},re.onIgnoreTagAttr=function pt(ut,Zn,Pn){},re.safeAttrValue=function xe(ut,Zn,Pn,yr){if(Pn=Xe(Pn),"href"===Zn||"src"===Zn){if("#"===(Pn=ve.trim(Pn)))return"#";if("http://"!==Pn.substr(0,7)&&"https://"!==Pn.substr(0,8)&&"mailto:"!==Pn.substr(0,7)&&"tel:"!==Pn.substr(0,4)&&"data:image/"!==Pn.substr(0,11)&&"ftp://"!==Pn.substr(0,6)&&"./"!==Pn.substr(0,2)&&"../"!==Pn.substr(0,3)&&"#"!==Pn[0]&&"/"!==Pn[0])return""}else if("background"===Zn){if(Je.lastIndex=0,Je.test(Pn))return""}else if("style"===Zn){if($e.lastIndex=0,$e.test(Pn)||(ot.lastIndex=0,ot.test(Pn)&&(Je.lastIndex=0,Je.test(Pn))))return"";!1!==yr&&(Pn=(yr=yr||je).process(Pn))}return vt(Pn)},re.escapeHtml=Ne,re.escapeQuote=mt,re.unescapeQuote=Tt,re.escapeHtmlEntities=It,re.escapeDangerHtml5Entities=Nt,re.clearNonPrintableCharacter=Rt,re.friendlyAttrValue=Xe,re.escapeAttrValue=vt,re.onIgnoreTagStripAll=function Zt(){return""},re.StripTagBody=function xt(ut,Zn){"function"!=typeof Zn&&(Zn=function(){});var Pn=!Array.isArray(ut),Pr=[],ni=!1;return{onIgnoreTag:function(Yr,Lr,Oi){if(function yr(Yr){return!!Pn||-1!==ve.indexOf(ut,Yr)}(Yr)){if(Oi.isClosing){var li="[/removed]";return Pr.push([!1!==ni?ni:Oi.position,Oi.position+li.length]),ni=!1,li}return ni||(ni=Oi.position),"[removed]"}return Zn(Yr,Lr,Oi)},remove:function(Yr){var Lr="",Oi=0;return ve.forEach(Pr,function(li){Lr+=Yr.slice(Oi,li[0]),Oi=li[1]}),Lr+=Yr.slice(Oi)}}},re.stripCommentTag=function Lt(ut){for(var Zn="",Pn=0;Pn<ut.length;){var yr=ut.indexOf("\x3c!--",Pn);if(-1===yr){Zn+=ut.slice(Pn);break}Zn+=ut.slice(Pn,yr);var Pr=ut.indexOf("--\x3e",yr);if(-1===Pr)break;Pn=Pr+3}return Zn},re.stripBlankChar=function en(ut){var Zn=ut.split("");return(Zn=Zn.filter(function(Pn){var yr=Pn.charCodeAt(0);return!(127===yr||yr<=31&&10!==yr&&13!==yr)})).join("")},re.cssFilter=je,re.getDefaultCSSWhiteList=Me;var En={},Dn=Ce;function Xn(ut){var Zn=Dn.spaceIndex(ut);if(-1===Zn)var Pn=ut.slice(1,-1);else Pn=ut.slice(1,Zn+1);return"/"===(Pn=Dn.trim(Pn).toLowerCase()).slice(0,1)&&(Pn=Pn.slice(1)),"/"===Pn.slice(-1)&&(Pn=Pn.slice(0,-1)),Pn}function pr(ut){return"</"===ut.slice(0,2)}var vr=/[^a-zA-Z0-9_:\.\-]/gim;function zt(ut,Zn){for(;Zn<ut.length;Zn++){var Pn=ut[Zn];if(" "!==Pn)return"="===Pn?Zn:-1}}function sn(ut,Zn){for(;Zn>0;Zn--){var Pn=ut[Zn];if(" "!==Pn)return"="===Pn?Zn:-1}}function In(ut){return function pn(ut){return'"'===ut[0]&&'"'===ut[ut.length-1]||"'"===ut[0]&&"'"===ut[ut.length-1]}(ut)?ut.substr(1,ut.length-2):ut}En.parseTag=function Tr(ut,Zn,Pn){var yr="",Pr=0,ni=!1,Yr=!1,Lr=0,Oi=ut.length,li="",yi="";e:for(Lr=0;Lr<Oi;Lr++){var Un=ut.charAt(Lr);if(!1===ni){if("<"===Un){ni=Lr;continue}}else if(!1===Yr){if("<"===Un){yr+=Pn(ut.slice(Pr,Lr)),ni=Lr,Pr=Lr;continue}if(">"===Un){yr+=Pn(ut.slice(Pr,ni)),li=Xn(yi=ut.slice(ni,Lr+1)),yr+=Zn(ni,yr.length,li,yi,pr(yi)),Pr=Lr+1,ni=!1;continue}if('"'===Un||"'"===Un)for(var Qr=1,cs=ut.charAt(Lr-Qr);""===cs.trim()||"="===cs;){if("="===cs){Yr=Un;continue e}cs=ut.charAt(Lr-++Qr)}}else if(Un===Yr){Yr=!1;continue}}return Pr<ut.length&&(yr+=Pn(ut.substr(Pr))),yr},En.parseAttr=function zn(ut,Zn){var Pn=0,yr=[],Pr=!1,ni=ut.length;function Yr(Un,Qr){if(!((Un=(Un=Dn.trim(Un)).replace(vr,"").toLowerCase()).length<1)){var cs=Zn(Un,Qr||"");cs&&yr.push(cs)}}for(var Lr=0;Lr<ni;Lr++){var yi,Oi=ut.charAt(Lr);if(!1!==Pr||"="!==Oi)if(!1===Pr||Lr!==Pn||'"'!==Oi&&"'"!==Oi||"="!==ut.charAt(Lr-1)){if(/\s|\n|\t/.test(Oi)){if(ut=ut.replace(/\s|\n|\t/g," "),!1===Pr){if(-1===(yi=zt(ut,Lr))){Yr(Dn.trim(ut.slice(Pn,Lr))),Pr=!1,Pn=Lr+1;continue}Lr=yi-1;continue}if(-1===(yi=sn(ut,Lr-1))){Yr(Pr,In(Dn.trim(ut.slice(Pn,Lr)))),Pr=!1,Pn=Lr+1;continue}}}else{if(-1===(yi=ut.indexOf(Oi,Lr+1)))break;Yr(Pr,Dn.trim(ut.slice(Pn+1,yi))),Pr=!1,Pn=(Lr=yi)+1}else Pr=ut.slice(Pn,Lr),Pn=Lr+1}return Pn<ut.length&&(!1===Pr?Yr(ut.slice(Pn)):Yr(Pr,In(Dn.trim(ut.slice(Pn))))),Dn.trim(yr.join(" "))};var Wn=$.exports.FilterCSS,jn=re,Ht=En.parseTag,ir=En.parseAttr,Qn=Ce;function Ar(ut){return null==ut}function Mn(ut){(ut=function an(ut){var Zn={};for(var Pn in ut)Zn[Pn]=ut[Pn];return Zn}(ut||{})).stripIgnoreTag&&(ut.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ut.onIgnoreTag=jn.onIgnoreTagStripAll),ut.whiteList=ut.whiteList||ut.allowList||jn.whiteList,ut.onTag=ut.onTag||jn.onTag,ut.onTagAttr=ut.onTagAttr||jn.onTagAttr,ut.onIgnoreTag=ut.onIgnoreTag||jn.onIgnoreTag,ut.onIgnoreTagAttr=ut.onIgnoreTagAttr||jn.onIgnoreTagAttr,ut.safeAttrValue=ut.safeAttrValue||jn.safeAttrValue,ut.escapeHtml=ut.escapeHtml||jn.escapeHtml,this.options=ut,!1===ut.css?this.cssFilter=!1:(ut.css=ut.css||{},this.cssFilter=new Wn(ut.css))}Mn.prototype.process=function(ut){if(!(ut=(ut=ut||"").toString()))return"";var Pn=this.options,yr=Pn.whiteList,Pr=Pn.onTag,ni=Pn.onIgnoreTag,Yr=Pn.onTagAttr,Lr=Pn.onIgnoreTagAttr,Oi=Pn.safeAttrValue,li=Pn.escapeHtml,yi=this.cssFilter;Pn.stripBlankChar&&(ut=jn.stripBlankChar(ut)),Pn.allowCommentTag||(ut=jn.stripCommentTag(ut));var Un=!1;Pn.stripIgnoreTagBody&&(Un=jn.StripTagBody(Pn.stripIgnoreTagBody,ni),ni=Un.onIgnoreTag);var Qr=Ht(ut,function(cs,rn,gn,kt,An){var wr,fr={sourcePosition:cs,position:rn,isClosing:An,isWhite:yr.hasOwnProperty(gn)};if(!Ar(wr=Pr(gn,kt,fr)))return wr;if(fr.isWhite){if(fr.isClosing)return"</"+gn+">";var Jr=function Dr(ut){var Zn=Qn.spaceIndex(ut);if(-1===Zn)return{html:"",closing:"/"===ut[ut.length-2]};var Pn="/"===(ut=Qn.trim(ut.slice(Zn+1,-1)))[ut.length-1];return Pn&&(ut=Qn.trim(ut.slice(0,-1))),{html:ut,closing:Pn}}(kt),Br=yr[gn],ti=ir(Jr.html,function(Fr,Ni){var Gs,Ji=-1!==Qn.indexOf(Br,Fr);return Ar(Gs=Yr(gn,Fr,Ni,Ji))?Ji?(Ni=Oi(gn,Fr,Ni,yi))?Fr+'="'+Ni+'"':Fr:Ar(Gs=Lr(gn,Fr,Ni,Ji))?void 0:Gs:Gs});return kt="<"+gn,ti&&(kt+=" "+ti),Jr.closing&&(kt+=" /"),kt+">"}return Ar(wr=ni(gn,kt,fr))?li(kt):wr},li);return Un&&(Qr=Un.remove(Qr)),Qr};var Hn=Mn;!function(ut,Zn){var Pn=re,yr=En,Pr=Hn;function ni(Oi,li){return new Pr(li).process(Oi)}for(var Yr in(Zn=ut.exports=ni).filterXSS=ni,Zn.FilterXSS=Pr,Pn)Zn[Yr]=Pn[Yr];for(var Yr in yr)Zn[Yr]=yr[Yr];(function Lr(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope})()&&(self.filterXSS=ut.exports)}(ae,ae.exports);var er,or,Mt=function(){function ut(Zn,Pn){var Pr,yr=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(ni,Yr,Lr,Oi){return"a"===ni&&"href"===Yr||("img"===ni||"source"===ni)&&"src"===Yr?yr.sanitizeUrl(Lr):ae.exports.safeAttrValue(ni,Yr,Lr,Oi)}},Zn&&!Pn?Pr=Zn:Zn&&Pn?(Pr=Object.create(this.arcgisFilterOptions),Object.keys(Zn).forEach(function(ni){"whiteList"===ni?Pr.whiteList=yr._extendObjectOfArrays([yr.arcgisWhiteList,Zn.whiteList||{}]):Pr[ni]=Zn[ni]})):(Pr=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=Pr,this._xssFilter=new ae.exports.FilterXSS(Pr)}return ut.prototype.sanitize=function(Zn,Pn){switch(void 0===Pn&&(Pn={}),typeof Zn){case"number":return isNaN(Zn)||!isFinite(Zn)?null:Zn;case"boolean":return Zn;case"string":return this._xssFilter.process(Zn);case"object":return this._iterateOverObject(Zn,Pn);default:return Pn.allowUndefined&&void 0===Zn?void 0:null}},ut.prototype.sanitizeUrl=function(Zn,Pn){var yr=(null!=Pn?Pn:{}).isProtocolRequired,Pr=void 0===yr||yr,ni=this._trim(Zn.substring(0,Zn.indexOf(":"))),Yr="/"===Zn,Lr=/^#/.test(Zn),Oi=ni&&this.allowedProtocols.indexOf(ni.toLowerCase())>-1;return Yr||Lr||Oi?ae.exports.escapeAttrValue(Zn):ni||Pr?"":ae.exports.escapeAttrValue("https://".concat(Zn))},ut.prototype.sanitizeHTMLAttribute=function(Zn,Pn,yr,Pr){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(Zn,Pn,yr,Pr):ae.exports.safeAttrValue(Zn,Pn,yr,Pr)},ut.prototype.validate=function(Zn,Pn){void 0===Pn&&(Pn={});var yr=this.sanitize(Zn,Pn);return{isValid:Zn===yr,sanitized:yr}},ut.prototype._extendObjectOfArrays=function(Zn){var Pn={};return Zn.forEach(function(yr){Object.keys(yr).forEach(function(Pr){Pn[Pr]=Array.isArray(yr[Pr])&&Array.isArray(Pn[Pr])?Pn[Pr].concat(yr[Pr]):yr[Pr]})}),Pn},ut.prototype._iterateOverObject=function(Zn,Pn){var yr=this;void 0===Pn&&(Pn={});try{var Pr=!1,ni=void 0;if(Array.isArray(Zn))ni=Zn.reduce(function(Lr,Oi){var li=yr.validate(Oi,Pn);return li.isValid?Lr.concat([Oi]):(Pr=!0,Lr.concat([li.sanitized]))},[]);else{if(!function ne(ut){if(!function Q(ut){return!!ut&&"object"==typeof ut}(ut)||"[object Object]"!=N.call(ut)||function v(ut){var Zn=!1;if(null!=ut&&"function"!=typeof ut.toString)try{Zn=!!(ut+"")}catch(Pn){}return Zn}(ut))return!1;var Zn=B(ut);if(null===Zn)return!0;var Pn=D.call(Zn,"constructor")&&Zn.constructor;return"function"==typeof Pn&&Pn instanceof Pn&&Z.call(Pn)==k}(Zn))return Pn.allowUndefined&&void 0===Zn?void 0:null;ni=Object.keys(Zn).reduce(function(Lr,Oi){var li=Zn[Oi],yi=yr.validate(li,Pn);return yi.isValid?Lr[Oi]=li:(Pr=!0,Lr[Oi]=yi.sanitized),Lr},{})}return Pr?ni:Zn}catch(Lr){return null}},ut.prototype._trim=function(Zn){return String.prototype.trim?Zn.trim():Zn.replace(/(^\s*)|(\s*$)/g,"")},ut}(),Bt=p(35575),Cn=(p(54024),p(8314),p(63290)),Bn=p(66950),wi=function(ut){er||function(ut){if("WebkitTransition"in ut.style)er="webkitTransitionEnd",or="webkitAnimationEnd";else{if(!("transition"in ut.style))throw new Error("Your browser is not supported!");er="transitionend",or="animationend"}}(ut)},Ei=function(ut,Zn){return void 0===Zn&&(Zn=ut+"-active"),function(Pn){wi(Pn);var yr=!1,Pr=function(ni){yr||(yr=!0,Pn.removeEventListener(er,Pr),Pn.removeEventListener(or,Pr),Pn.classList.remove(ut),Pn.classList.remove(Zn))};Pn.classList.add(ut),Pn.addEventListener(er,Pr),Pn.addEventListener(or,Pr),requestAnimationFrame(function(){Pn.classList.add(Zn)})}},kr=function(ut,Zn){return void 0===Zn&&(Zn=ut+"-active"),function(Pn,yr){wi(Pn);var Pr=!1,ni=function(Yr){Pr||(Pr=!0,Pn.removeEventListener(er,ni),Pn.removeEventListener(or,ni),yr())};Pn.classList.add(ut),Pn.addEventListener(er,ni),Pn.addEventListener(or,ni),requestAnimationFrame(function(){Pn.classList.add(Zn)})}};Cn.Z.getLogger("esri.widgets.support.widgetUtils");function rs(ut){const Zn=Bt.Z.acquire();for(let yr=0;yr<arguments.length;yr++){const Pr=arguments[yr],ni=typeof Pr;if("string"===ni)Zn.push(Pr);else if(Array.isArray(Pr))Zn.push.apply(Zn,Pr);else if("object"===ni)for(const Yr in Pr)Pr[Yr]&&Zn.push(Yr)}const Pn=Zn.join(" ");return Bt.Z.release(Zn),Pn}function fi(ut){const Zn=null==ut?void 0:ut.closest("[dir]");return null!==Zn&&Zn instanceof HTMLElement&&"rtl"===Zn.dir||"rtl"===document.dir}function hr(ut){this[ut.getAttribute("data-node-ref")]=null}function Ii(ut){this[ut.getAttribute("data-node-ref")]=ut}function Hi(ut,Zn){return("enter"===ut?Ei:kr)(Zn)}(()=>{const ut=new Map;new ResizeObserver(Pn=>{(0,Bn.Uy)();for(const yr of Pn)ut.get(yr.target)(yr)})})();const gi=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((ut,Zn)=>(ut[Zn]=[],ut),{}),Bi=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ts=new Mt({whiteList:gi,onTagAttr:(ut,Zn,Pn)=>{const yr=`${Zn}="${Pn}"`;if(Bi.includes(Zn))return yr},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Li(ut,Zn){const Pn=ut.getBoundingClientRect(),yr=Zn.getBoundingClientRect();(Pn.top+Pn.height>yr.top+yr.height||Pn.top<yr.top)&&ut.scrollIntoView({block:"end"})}function ps(ut){return"Enter"===ut||" "===ut}},37968:(wt,Se,p)=>{"use strict";p.d(Se,{f9:()=>Ne,Kf:()=>nt,_z:()=>je});var d=p(40520),v=p(5e3),X=p(39646),G=p(45191),z=p(62843),Z=p(54482),D=p(25403),k=p(44671),N=p(5963),B=p(38421),ne=p(39300),te=p(54004),ae=p(23151),re=p(70262),$=p(24351),F=p(95698),R={},U={};function A(xe){for(var Ye=[],Ke=0,Fe=0,Ze=0;Ze<xe.length;Ze+=1){var ct=R[xe[Ze]];if(void 0===ct)throw new Error("Invalid character ("+xe[Ze]+")");var we=32&ct;if(Fe+=(ct&=31)<<Ke,we)Ke+=5;else{var Be=1&Fe;Fe>>>=1,Ye.push(Be?0===Fe?-2147483648:-Fe:Fe),Fe=Ke=0}}return Ye}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(xe,Ye){R[xe]=Ye,U[Ye]=xe});var Y=p(69808);const oe="TOKEN_LOGGER_CONFIG";class se{constructor(Ye){this.config=this._clone(Ye)}get level(){return this.config.level}get serverLogLevel(){return this.config.serverLogLevel}updateConfig(Ye){this.config=this._clone(Ye)}partialUpdateConfig(Ye){!Ye||Object.keys(Ye).forEach(Ke=>{this.config[Ke]=Ye[Ke]})}getConfig(){return this._clone(this.config)}_clone(Ye){const Ke={level:null};return Object.keys(Ye).forEach(Fe=>{Ke[Fe]=Ye[Fe]}),Ke}}const le="TOKEN_LOGGER_CONFIG_ENGINE_FACTORY";class de{provideConfigEngine(Ye){return new se(Ye)}}const q="TOKEN_LOGGER_MAPPER_SERVICE";let ue=(()=>{class xe{constructor(Ke){this.httpBackend=Ke,this.sourceMapCache=new Map,this.logPositionCache=new Map}getLogPosition(Ke,Fe){const Ze=this.getStackLine(Ke);if(!Ze)return(0,X.of)({fileName:"",lineNumber:0,columnNumber:0});const ct=this.getLocalPosition(Ze);if(!Ke.enableSourceMaps)return(0,X.of)(ct);const we=this.getSourceMapLocation(Ze);return this.getSourceMap(we,ct)}getStackLine(Ke){const Fe=new Error;try{throw Fe}catch(Ze){try{let ct=4;return Fe.stack.split("\n")[0].includes(".js:")||(ct+=1),Fe.stack.split("\n")[ct+(Ke.proxiedSteps||0)]}catch(ct){return null}}}getLocalPosition(Ke){const Fe=Ke.lastIndexOf("/");let Ze=Ke.indexOf(")");Ze<0&&(Ze=void 0);const we=Ke.substring(Fe+1,Ze).split(":");return 3===we.length?{fileName:we[0],lineNumber:+we[1],columnNumber:+we[2]}:{fileName:"unknown",lineNumber:0,columnNumber:0}}getTranspileLocation(Ke){let Fe=Ke.indexOf("(");Fe<0&&(Fe=Ke.lastIndexOf("@"),Fe<0&&(Fe=Ke.lastIndexOf(" ")));let Ze=Ke.indexOf(")");return Ze<0&&(Ze=void 0),Ke.substring(Fe+1,Ze)}getSourceMapLocation(Ke){const Fe=this.getTranspileLocation(Ke),Ze=Fe.substring(0,Fe.lastIndexOf(":"));return Ze.substring(0,Ze.lastIndexOf(":"))+".map"}getMapping(Ke,Fe){let Ze=0,ct=0,we=0;const Be=Ke.mappings.split(";");for(let Je=0;Je<Be.length;Je++){let $e=0;const ot=Be[Je].split(",");for(let mt=0;mt<ot.length;mt++){const Tt=A(ot[mt]);if(Tt.length>=4&&($e+=Tt[0],Ze+=Tt[1],ct+=Tt[2],we+=Tt[3]),Je===Fe.lineNumber){if($e===Fe.columnNumber)return{fileName:Ke.sources[Ze],lineNumber:ct,columnNumber:we};if(mt+1===ot.length)return{fileName:Ke.sources[Ze],lineNumber:ct,columnNumber:0}}}}return{fileName:"unknown",lineNumber:0,columnNumber:0}}getSourceMap(Ke,Fe){const Ze=new d.aW("GET",Ke),ct=`${Fe.fileName}:${Fe.lineNumber}:${Fe.columnNumber}`;if(this.logPositionCache.has(ct))return this.logPositionCache.get(ct);this.sourceMapCache.has(Ke)||(this.httpBackend?this.sourceMapCache.set(Ke,this.httpBackend.handle(Ze).pipe((0,ne.h)(Be=>Be instanceof d.Zn),(0,te.U)(Be=>Be.body),function Q(xe=1/0){let Ye;Ye=xe&&"object"==typeof xe?xe:{count:xe};const{count:Ke=1/0,delay:Fe,resetOnSuccess:Ze=!1}=Ye;return Ke<=0?k.y:(0,Z.e)((ct,we)=>{let Je,Be=0;const $e=()=>{let ot=!1;Je=ct.subscribe((0,D.x)(we,mt=>{Ze&&(Be=0),we.next(mt)},void 0,mt=>{if(Be++<Ke){const Tt=()=>{Je?(Je.unsubscribe(),Je=null,$e()):ot=!0};if(null!=Fe){const It="number"==typeof Fe?(0,N.H)(Fe):(0,B.Xf)(Fe(mt,Be)),Nt=(0,D.x)(we,()=>{Nt.unsubscribe(),Tt()},()=>{we.complete()});It.subscribe(Nt)}else Tt()}else we.error(mt)})),ot&&(Je.unsubscribe(),Je=null,$e())};$e()})}(3),(0,ae.d)(1))):(console.error("NGXLogger : Can't get sourcemap because HttpBackend is not provided. You need to import HttpClientModule"),this.sourceMapCache.set(Ke,(0,X.of)(null))));const we=this.sourceMapCache.get(Ke).pipe((0,te.U)(Be=>Be?this.getMapping(Be,Fe):Fe),(0,re.K)(()=>(0,X.of)(Fe)),(0,ae.d)(1));return this.logPositionCache.set(ct,we),we}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(d.jN,8))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const ie="TOKEN_LOGGER_METADATA_SERVICE";let ye=(()=>{class xe{constructor(Ke){this.datePipe=Ke}computeTimestamp(Ke){const Fe=()=>(new Date).toISOString();return Ke.timestampFormat?this.datePipe?this.datePipe.transform(new Date,Ke.timestampFormat):(console.error("NGXLogger : Can't use timeStampFormat because DatePipe is not provided. You need to provide DatePipe"),Fe()):Fe()}getMetadata(Ke,Fe,Ze,ct){const we={level:Ke,additional:ct};return we.message=Ze&&"function"==typeof Ze?Ze():Ze,we.timestamp=this.computeTimestamp(Fe),we}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(Y.uU,8))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Ce="TOKEN_LOGGER_RULES_SERVICE";let De=(()=>{class xe{shouldCallWriter(Ke,Fe,Ze,ct){return!Fe.disableConsoleLogging&&Ke>=Fe.level}shouldCallServer(Ke,Fe,Ze,ct){return!!Fe.serverLoggingUrl&&Ke>=Fe.serverLogLevel}shouldCallMonitor(Ke,Fe,Ze,ct){return this.shouldCallWriter(Ke,Fe,Ze,ct)||this.shouldCallServer(Ke,Fe,Ze,ct)}}return xe.\u0275fac=function(Ke){return new(Ke||xe)},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Me="TOKEN_LOGGER_SERVER_SERVICE";let ve=(()=>{class xe{constructor(Ke){this.httpBackend=Ke}secureErrorObject(Ke){return null==Ke?void 0:Ke.stack}secureAdditionalParameters(Ke){return null==Ke?null:Ke.map((Fe,Ze)=>{try{return Fe instanceof Error?this.secureErrorObject(Fe):("object"==typeof Fe&&JSON.stringify(Fe),Fe)}catch(ct){return`The additional[${Ze}] value could not be parsed using JSON.stringify().`}})}secureMessage(Ke){try{if(Ke instanceof Error)return this.secureErrorObject(Ke);"string"!=typeof Ke&&(Ke=JSON.stringify(Ke,null,2))}catch(Fe){Ke='The provided "message" value could not be parsed with JSON.stringify().'}return Ke}alterHttpRequest(Ke){return Ke}logOnServer(Ke,Fe,Ze){if(!this.httpBackend)return console.error("NGXLogger : Can't log on server because HttpBackend is not provided. You need to import HttpClientModule"),(0,X.of)(null);let ct=new d.aW("POST",Ke,Fe,Ze||{}),we=(0,X.of)(ct);const Be=this.alterHttpRequest(ct);return(0,G.b)(Be)?we=Be:Be?we=(0,X.of)(Be):console.warn("NGXLogger : alterHttpRequest returned an invalid request. Using default one instead"),we.pipe((0,$.b)(Je=>Je?this.httpBackend.handle(Je):(console.warn("NGXLogger : alterHttpRequest returned an invalid request (observable). Using default one instead"),this.httpBackend.handle(ct))),(0,ne.h)(Je=>Je instanceof d.Zn),(0,te.U)(Je=>Je.body))}customiseRequestBody(Ke){return Ke}sendToServer(Ke,Fe){const Ze=Object.assign({},Ke);Ze.additional=this.secureAdditionalParameters(Ze.additional),Ze.message=this.secureMessage(Ze.message);const ct=this.customiseRequestBody(Ze),we=Fe.customHttpHeaders||new d.WM;we.has("Content-Type")||we.set("Content-Type","application/json"),this.logOnServer(Fe.serverLoggingUrl,ct,{headers:we,params:Fe.customHttpParams||new d.LE,responseType:Fe.httpResponseType||"json",withCredentials:Fe.withCredentials||!1}).pipe((0,re.K)(Be=>(console.error("NGXLogger: Failed to log on server",Be),(0,z._)(Be)))).subscribe()}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(d.jN,8))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Le="TOKEN_LOGGER_WRITER_SERVICE";var je=(()=>{return(xe=je||(je={}))[xe.TRACE=0]="TRACE",xe[xe.DEBUG=1]="DEBUG",xe[xe.INFO=2]="INFO",xe[xe.LOG=3]="LOG",xe[xe.WARN=4]="WARN",xe[xe.ERROR=5]="ERROR",xe[xe.FATAL=6]="FATAL",xe[xe.OFF=7]="OFF",je;var xe})();const _e=["purple","teal","gray","gray","red","red","red"];let Re=(()=>{class xe{constructor(Ke){this.platformId=Ke,this.prepareMetaStringFuncs=[this.getTimestampToWrite,this.getLevelToWrite,this.getFileDetailsToWrite,this.getContextToWrite],this.isIE=(0,Y.NF)(Ke)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.logFunc=this.isIE?this.logIE.bind(this):this.logModern.bind(this)}getTimestampToWrite(Ke,Fe){return Ke.timestamp}getLevelToWrite(Ke,Fe){return je[Ke.level]}getFileDetailsToWrite(Ke,Fe){return!0===Fe.disableFileDetails?"":`[${Ke.fileName}:${Ke.lineNumber}:${Ke.columnNumber}]`}getContextToWrite(Ke,Fe){return Fe.context?`{${Fe.context}}`:""}prepareMetaString(Ke,Fe){let Ze="";return this.prepareMetaStringFuncs.forEach(ct=>{const we=ct(Ke,Fe);we&&(Ze=Ze+" "+we)}),Ze.trim()}getColor(Ke,Fe){var Ze;const ct=null!==(Ze=Fe.colorScheme)&&void 0!==Ze?Ze:_e;if(Ke.level!==je.OFF)return ct[Ke.level]}logIE(Ke,Fe,Ze){const ct=Ke.additional||[];switch(Ke.level){case je.WARN:console.warn(`${Ze} `,Ke.message,...ct);break;case je.ERROR:case je.FATAL:console.error(`${Ze} `,Ke.message,...ct);break;case je.INFO:console.info(`${Ze} `,Ke.message,...ct);break;default:console.log(`${Ze} `,Ke.message,...ct)}}logModern(Ke,Fe,Ze){const ct=this.getColor(Ke,Fe),we=Ke.additional||[];switch(Ke.level){case je.WARN:console.warn(`%c${Ze}`,`color:${ct}`,Ke.message,...we);break;case je.ERROR:case je.FATAL:console.error(`%c${Ze}`,`color:${ct}`,Ke.message,...we);break;case je.INFO:console.info(`%c${Ze}`,`color:${ct}`,Ke.message,...we);break;case je.DEBUG:console.debug(`%c${Ze}`,`color:${ct}`,Ke.message,...we);break;default:console.log(`%c${Ze}`,`color:${ct}`,Ke.message,...we)}}writeMessage(Ke,Fe){const Ze=this.prepareMetaString(Ke,Fe);this.logFunc(Ke,Fe,Ze)}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(v.Lbi))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),nt=(()=>{class xe{constructor(Ke,Fe,Ze,ct,we,Be,Je){this.metadataService=Ze,this.ruleService=ct,this.mapperService=we,this.writerService=Be,this.serverService=Je,this.configEngine=Fe.provideConfigEngine(Ke)}get level(){return this.configEngine.level}get serverLogLevel(){return this.configEngine.serverLogLevel}trace(Ke,...Fe){this._log(je.TRACE,Ke,Fe)}debug(Ke,...Fe){this._log(je.DEBUG,Ke,Fe)}info(Ke,...Fe){this._log(je.INFO,Ke,Fe)}log(Ke,...Fe){this._log(je.LOG,Ke,Fe)}warn(Ke,...Fe){this._log(je.WARN,Ke,Fe)}error(Ke,...Fe){this._log(je.ERROR,Ke,Fe)}fatal(Ke,...Fe){this._log(je.FATAL,Ke,Fe)}setCustomHttpHeaders(Ke){const Fe=this.getConfigSnapshot();Fe.customHttpHeaders=Ke,this.updateConfig(Fe)}setCustomParams(Ke){const Fe=this.getConfigSnapshot();Fe.customHttpParams=Ke,this.updateConfig(Fe)}setWithCredentialsOptionValue(Ke){const Fe=this.getConfigSnapshot();Fe.withCredentials=Ke,this.updateConfig(Fe)}registerMonitor(Ke){this._loggerMonitor=Ke}updateConfig(Ke){this.configEngine.updateConfig(Ke)}partialUpdateConfig(Ke){this.configEngine.partialUpdateConfig(Ke)}getConfigSnapshot(){return this.configEngine.getConfig()}_log(Ke,Fe,Ze=[]){const ct=this.configEngine.getConfig(),we=this.ruleService.shouldCallWriter(Ke,ct,Fe,Ze),Be=this.ruleService.shouldCallServer(Ke,ct,Fe,Ze),Je=this.ruleService.shouldCallMonitor(Ke,ct,Fe,Ze);if(!we&&!Be&&!Je)return;const $e=this.metadataService.getMetadata(Ke,ct,Fe,Ze);this.mapperService.getLogPosition(ct,$e).pipe((0,F.q)(1)).subscribe(ot=>{ot&&($e.fileName=ot.fileName,$e.lineNumber=ot.lineNumber,$e.columnNumber=ot.columnNumber),Je&&this._loggerMonitor&&this._loggerMonitor.onLog($e,ct),we&&this.writerService.writeMessage($e,ct),Be&&this.serverService.sendToServer($e,ct)})}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(oe),v.LFG(le),v.LFG(ie),v.LFG(Ce),v.LFG(q),v.LFG(Le),v.LFG(Me))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),pt=(()=>{class xe{constructor(Ke,Fe,Ze,ct,we,Be,Je){this.logger=Ke,this.configEngineFactory=Fe,this.metadataService=Ze,this.ruleService=ct,this.mapperService=we,this.writerService=Be,this.serverService=Je}create(Ke,Fe,Ze,ct){return this.getNewInstance({config:Ke,serverService:Fe,logMonitor:Ze,mapperService:ct})}getNewInstance(Ke){var Fe,Ze,ct,we,Be,Je,$e;const ot=new nt(null!==(Fe=null==Ke?void 0:Ke.config)&&void 0!==Fe?Fe:this.logger.getConfigSnapshot(),null!==(Ze=null==Ke?void 0:Ke.configEngineFactory)&&void 0!==Ze?Ze:this.configEngineFactory,null!==(ct=null==Ke?void 0:Ke.metadataService)&&void 0!==ct?ct:this.metadataService,null!==(we=null==Ke?void 0:Ke.ruleService)&&void 0!==we?we:this.ruleService,null!==(Be=null==Ke?void 0:Ke.mapperService)&&void 0!==Be?Be:this.mapperService,null!==(Je=null==Ke?void 0:Ke.writerService)&&void 0!==Je?Je:this.writerService,null!==($e=null==Ke?void 0:Ke.serverService)&&void 0!==$e?$e:this.serverService);return(null==Ke?void 0:Ke.partialConfig)&&ot.partialUpdateConfig(Ke.partialConfig),(null==Ke?void 0:Ke.logMonitor)&&ot.registerMonitor(Ke.logMonitor),ot}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(v.LFG(nt),v.LFG(le),v.LFG(ie),v.LFG(Ce),v.LFG(q),v.LFG(Le),v.LFG(Me))},xe.\u0275prov=v.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),Ne=(()=>{class xe{static forRoot(Ke,Fe){if(Fe||(Fe={}),Fe.configProvider){if(Fe.configProvider.provide!==oe)throw new Error(`Wrong injection token for configProvider, it should be ${oe} and you used ${Fe.configProvider.provide}`)}else Fe.configProvider={provide:oe,useValue:Ke||{}};if(Fe.configEngineFactoryProvider){if(Fe.configEngineFactoryProvider.provide!==le)throw new Error(`Wrong injection token for configEngineFactoryProvider, it should be '${le}' and you used '${Fe.configEngineFactoryProvider.provide}'`)}else Fe.configEngineFactoryProvider={provide:le,useClass:de};if(Fe.metadataProvider){if(Fe.metadataProvider.provide!==ie)throw new Error(`Wrong injection token for metadataProvider, it should be '${ie}' and you used '${Fe.metadataProvider.provide}'`)}else Fe.metadataProvider={provide:ie,useClass:ye};if(Fe.ruleProvider){if(Fe.ruleProvider.provide!==Ce)throw new Error(`Wrong injection token for ruleProvider, it should be '${Ce}' and you used '${Fe.ruleProvider.provide}'`)}else Fe.ruleProvider={provide:Ce,useClass:De};if(Fe.mapperProvider){if(Fe.mapperProvider.provide!==q)throw new Error(`Wrong injection token for mapperProvider, it should be '${q}' and you used '${Fe.mapperProvider.provide}'`)}else Fe.mapperProvider={provide:q,useClass:ue};if(Fe.writerProvider){if(Fe.writerProvider.provide!==Le)throw new Error(`Wrong injection token for writerProvider, it should be '${Le}' and you used '${Fe.writerProvider.provide}'`)}else Fe.writerProvider={provide:Le,useClass:Re};if(Fe.serverProvider){if(Fe.serverProvider.provide!==Me)throw new Error(`Wrong injection token for serverProvider, it should be '${Me}' and you used '${Fe.writerProvider.provide}'`)}else Fe.serverProvider={provide:Me,useClass:ve};return{ngModule:xe,providers:[nt,Fe.configProvider,Fe.configEngineFactoryProvider,Fe.metadataProvider,Fe.ruleProvider,Fe.mapperProvider,Fe.writerProvider,Fe.serverProvider,pt]}}static forChild(){return{ngModule:xe}}}return xe.\u0275fac=function(Ke){return new(Ke||xe)},xe.\u0275mod=v.oAB({type:xe}),xe.\u0275inj=v.cJS({imports:[[Y.ez]]}),xe})()},59783:(wt,Se,p)=>{"use strict";p.d(Se,{$_:()=>R,F0:()=>ae,b4:()=>D,ez:()=>te,h4:()=>F,iZ:()=>Q,jx:()=>U,m8:()=>A,ws:()=>k});var d=p(5e3),v=p(77579),X=p(85921),G=p(69808);const z=["*"];let Z=(()=>{class J{}return J.STARTS_WITH="startsWith",J.CONTAINS="contains",J.NOT_CONTAINS="notContains",J.ENDS_WITH="endsWith",J.EQUALS="equals",J.NOT_EQUALS="notEquals",J.IN="in",J.LESS_THAN="lt",J.LESS_THAN_OR_EQUAL_TO="lte",J.GREATER_THAN="gt",J.GREATER_THAN_OR_EQUAL_TO="gte",J.BETWEEN="between",J.IS="is",J.IS_NOT="isNot",J.BEFORE="before",J.AFTER="after",J.DATE_IS="dateIs",J.DATE_IS_NOT="dateIsNot",J.DATE_BEFORE="dateBefore",J.DATE_AFTER="dateAfter",J})(),D=(()=>{class J{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Z.STARTS_WITH,Z.CONTAINS,Z.NOT_CONTAINS,Z.ENDS_WITH,Z.EQUALS,Z.NOT_EQUALS],numeric:[Z.EQUALS,Z.NOT_EQUALS,Z.LESS_THAN,Z.LESS_THAN_OR_EQUAL_TO,Z.GREATER_THAN,Z.GREATER_THAN_OR_EQUAL_TO],date:[Z.DATE_IS,Z.DATE_IS_NOT,Z.DATE_BEFORE,Z.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new v.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(oe){return this.translation[oe]}setTranslation(oe){this.translation=Object.assign(Object.assign({},this.translation),oe),this.translationSource.next(this.translation)}}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),k=(()=>{class J{}return J.STARTS_WITH="startsWith",J.CONTAINS="contains",J.NOT_CONTAINS="notContains",J.ENDS_WITH="endsWith",J.EQUALS="equals",J.NOT_EQUALS="notEquals",J.NO_FILTER="noFilter",J.LT="lt",J.LTE="lte",J.GT="gt",J.GTE="gte",J.IS="is",J.IS_NOT="isNot",J.BEFORE="before",J.AFTER="after",J.CLEAR="clear",J.APPLY="apply",J.MATCH_ALL="matchAll",J.MATCH_ANY="matchAny",J.ADD_RULE="addRule",J.REMOVE_RULE="removeRule",J.ACCEPT="accept",J.REJECT="reject",J.CHOOSE="choose",J.UPLOAD="upload",J.CANCEL="cancel",J.DAY_NAMES="dayNames",J.DAY_NAMES_SHORT="dayNamesShort",J.DAY_NAMES_MIN="dayNamesMin",J.MONTH_NAMES="monthNames",J.MONTH_NAMES_SHORT="monthNamesShort",J.FIRST_DAY_OF_WEEK="firstDayOfWeek",J.TODAY="today",J.WEEK_HEADER="weekHeader",J.WEAK="weak",J.MEDIUM="medium",J.STRONG="strong",J.PASSWORD_PROMPT="passwordPrompt",J.EMPTY_MESSAGE="emptyMessage",J.EMPTY_FILTER_MESSAGE="emptyFilterMessage",J})(),Q=(()=>{class J{constructor(){this.filters={startsWith:(oe,se,le)=>{if(null==se||""===se.trim())return!0;if(null==oe)return!1;let de=X.gb.removeAccents(se.toString()).toLocaleLowerCase(le);return X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le).slice(0,de.length)===de},contains:(oe,se,le)=>{if(null==se||"string"==typeof se&&""===se.trim())return!0;if(null==oe)return!1;let de=X.gb.removeAccents(se.toString()).toLocaleLowerCase(le);return-1!==X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le).indexOf(de)},notContains:(oe,se,le)=>{if(null==se||"string"==typeof se&&""===se.trim())return!0;if(null==oe)return!1;let de=X.gb.removeAccents(se.toString()).toLocaleLowerCase(le);return-1===X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le).indexOf(de)},endsWith:(oe,se,le)=>{if(null==se||""===se.trim())return!0;if(null==oe)return!1;let de=X.gb.removeAccents(se.toString()).toLocaleLowerCase(le),q=X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le);return-1!==q.indexOf(de,q.length-de.length)},equals:(oe,se,le)=>null==se||"string"==typeof se&&""===se.trim()||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()===se.getTime():X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le)==X.gb.removeAccents(se.toString()).toLocaleLowerCase(le)),notEquals:(oe,se,le)=>!(null==se||"string"==typeof se&&""===se.trim()||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()===se.getTime():X.gb.removeAccents(oe.toString()).toLocaleLowerCase(le)==X.gb.removeAccents(se.toString()).toLocaleLowerCase(le))),in:(oe,se)=>{if(null==se||0===se.length)return!0;for(let le=0;le<se.length;le++)if(X.gb.equals(oe,se[le]))return!0;return!1},between:(oe,se)=>null==se||null==se[0]||null==se[1]||null!=oe&&(oe.getTime?se[0].getTime()<=oe.getTime()&&oe.getTime()<=se[1].getTime():se[0]<=oe&&oe<=se[1]),lt:(oe,se,le)=>null==se||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()<se.getTime():oe<se),lte:(oe,se,le)=>null==se||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()<=se.getTime():oe<=se),gt:(oe,se,le)=>null==se||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()>se.getTime():oe>se),gte:(oe,se,le)=>null==se||null!=oe&&(oe.getTime&&se.getTime?oe.getTime()>=se.getTime():oe>=se),is:(oe,se,le)=>this.filters.equals(oe,se,le),isNot:(oe,se,le)=>this.filters.notEquals(oe,se,le),before:(oe,se,le)=>this.filters.lt(oe,se,le),after:(oe,se,le)=>this.filters.gt(oe,se,le),dateIs:(oe,se)=>null==se||null!=oe&&oe.toDateString()===se.toDateString(),dateIsNot:(oe,se)=>null==se||null!=oe&&oe.toDateString()!==se.toDateString(),dateBefore:(oe,se)=>null==se||null!=oe&&oe.getTime()<se.getTime(),dateAfter:(oe,se)=>null==se||null!=oe&&oe.getTime()>se.getTime()}}filter(oe,se,le,de,q){let ue=[];if(oe)for(let ie of oe)for(let ye of se){let pe=X.gb.resolveFieldData(ie,ye);if(this.filters[de](pe,le,q)){ue.push(ie);break}}return ue}register(oe,se){this.filters[oe]=se}}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),te=(()=>{class J{constructor(){this.messageSource=new v.x,this.clearSource=new v.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(oe){oe&&this.messageSource.next(oe)}addAll(oe){oe&&oe.length&&this.messageSource.next(oe)}clear(oe){this.clearSource.next(oe||null)}}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac}),J})(),ae=(()=>{class J{constructor(){this.clickSource=new v.x,this.clickObservable=this.clickSource.asObservable()}add(oe){oe&&this.clickSource.next(oe)}}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),F=(()=>{class J{}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275cmp=d.Xpm({type:J,selectors:[["p-header"]],ngContentSelectors:z,decls:1,vars:0,template:function(oe,se){1&oe&&(d.F$t(),d.Hsn(0))},encapsulation:2}),J})(),R=(()=>{class J{}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275cmp=d.Xpm({type:J,selectors:[["p-footer"]],ngContentSelectors:z,decls:1,vars:0,template:function(oe,se){1&oe&&(d.F$t(),d.Hsn(0))},encapsulation:2}),J})(),U=(()=>{class J{constructor(oe){this.template=oe}getType(){return this.name}}return J.\u0275fac=function(oe){return new(oe||J)(d.Y36(d.Rgc))},J.\u0275dir=d.lG2({type:J,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),J})(),A=(()=>{class J{}return J.\u0275fac=function(oe){return new(oe||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[[G.ez]]}),J})()},42266:(wt,Se,p)=>{"use strict";p.d(Se,{F:()=>B,q:()=>N});var d=p(5e3),v=p(69808);function X(Q,ne){if(1&Q&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&Q){const te=d.oxw();d.xp6(1),d.Oqu(te.label)}}function G(Q,ne){if(1&Q&&d._UZ(0,"span",6),2&Q){const te=d.oxw(2);d.Tol(te.icon),d.Q6J("ngClass","p-avatar-icon")}}function z(Q,ne){if(1&Q&&d.YNc(0,G,1,3,"span",5),2&Q){const te=d.oxw(),ae=d.MAs(6);d.Q6J("ngIf",te.icon)("ngIfElse",ae)}}function Z(Q,ne){if(1&Q&&d._UZ(0,"img",8),2&Q){const te=d.oxw(2);d.Q6J("src",te.image,d.LSH)}}function D(Q,ne){if(1&Q&&d.YNc(0,Z,1,1,"img",7),2&Q){const te=d.oxw();d.Q6J("ngIf",te.image)}}const k=["*"];let N=(()=>{class Q{constructor(){this.size="normal",this.shape="square"}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275cmp=d.Xpm({type:Q,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},ngContentSelectors:k,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src",4,"ngIf"],[3,"src"]],template:function(te,ae){if(1&te&&(d.F$t(),d.TgZ(0,"div",0),d.Hsn(1),d.YNc(2,X,2,1,"span",1),d.YNc(3,z,1,2,"ng-template",null,2,d.W1O),d.YNc(5,D,1,1,"ng-template",null,3,d.W1O),d.qZA()),2&te){const re=d.MAs(4);d.Tol(ae.styleClass),d.Q6J("ngClass",ae.containerClass())("ngStyle",ae.style),d.xp6(2),d.Q6J("ngIf",ae.label)("ngIfElse",re)}},directives:[v.mk,v.PC,v.O5],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),Q})(),B=(()=>{class Q{}return Q.\u0275fac=function(te){return new(te||Q)},Q.\u0275mod=d.oAB({type:Q}),Q.\u0275inj=d.cJS({imports:[[v.ez]]}),Q})()},40845:(wt,Se,p)=>{"use strict";p.d(Se,{Hq:()=>te,hJ:()=>re,zx:()=>ae});var d=p(5e3),v=p(75730),X=p(69808),G=p(25787),z=p(59783);function Z($,F){1&$&&d.GkF(0)}const D=function($,F,R,U){return{"p-button-icon":!0,"p-button-icon-left":$,"p-button-icon-right":F,"p-button-icon-top":R,"p-button-icon-bottom":U}};function k($,F){if(1&$&&d._UZ(0,"span",4),2&$){const R=d.oxw();d.Tol(R.loading?"p-button-loading-icon "+R.loadingIcon:R.icon),d.Q6J("ngClass",d.l5B(4,D,"left"===R.iconPos&&R.label,"right"===R.iconPos&&R.label,"top"===R.iconPos&&R.label,"bottom"===R.iconPos&&R.label)),d.uIk("aria-hidden",!0)}}function N($,F){if(1&$&&(d.TgZ(0,"span",5),d._uU(1),d.qZA()),2&$){const R=d.oxw();d.uIk("aria-hidden",R.icon&&!R.label),d.xp6(1),d.Oqu(R.label||"\xa0")}}function B($,F){if(1&$&&(d.TgZ(0,"span",4),d._uU(1),d.qZA()),2&$){const R=d.oxw();d.Tol(R.badgeClass),d.Q6J("ngClass",R.badgeStyleClass()),d.xp6(1),d.Oqu(R.badge)}}const Q=function($,F,R,U,A){return{"p-button p-component":!0,"p-button-icon-only":$,"p-button-vertical":F,"p-disabled":R,"p-button-loading":U,"p-button-loading-label-only":A}},ne=["*"];let te=(()=>{class ${constructor(R){this.el=R,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,v.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let R=document.createElement("span");this.icon&&!this.label&&R.setAttribute("aria-hidden","true"),R.className="p-button-label",this.label?R.appendChild(document.createTextNode(this.label)):R.innerHTML="&nbsp;",this.el.nativeElement.appendChild(R),this.initialized=!0}getStyleClass(){let R="p-button p-component";return this.icon&&!this.label&&(R+=" p-button-icon-only"),this.loading&&(R+=" p-disabled p-button-loading",!this.icon&&this.label&&(R+=" p-button-loading-label-only")),R}setStyleClass(){let R=this.getStyleClass();this.el.nativeElement.className=R+" "+this._initialStyleClass}createIconEl(){let R=document.createElement("span");R.className="p-button-icon",R.setAttribute("aria-hidden","true");let U=this.label?"p-button-icon-"+this.iconPos:null;U&&v.p.addClass(R,U);let A=this.getIconClass();A&&v.p.addMultipleClasses(R,A);let V=v.p.findSingle(this.el.nativeElement,".p-button-label");V?this.el.nativeElement.insertBefore(R,V):this.el.nativeElement.appendChild(R)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let R=v.p.findSingle(this.el.nativeElement,".p-button-icon");R?R.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let R=v.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(R)}get label(){return this._label}set label(R){this._label=R,this.initialized&&(v.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(R){this._icon=R,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(R){this._loading=R,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return $.\u0275fac=function(R){return new(R||$)(d.Y36(d.SBq))},$.\u0275dir=d.lG2({type:$,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),$})(),ae=(()=>{class ${constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe}ngAfterContentInit(){this.templates.forEach(R=>{R.getType(),this.contentTemplate=R.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return $.\u0275fac=function(R){return new(R||$)},$.\u0275cmp=d.Xpm({type:$,selectors:[["p-button"]],contentQueries:function(R,U,A){if(1&R&&d.Suo(A,z.jx,4),2&R){let V;d.iGM(V=d.CRH())&&(U.templates=V)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:ne,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(R,U){1&R&&(d.F$t(),d.TgZ(0,"button",0),d.NdJ("click",function(V){return U.onClick.emit(V)})("focus",function(V){return U.onFocus.emit(V)})("blur",function(V){return U.onBlur.emit(V)}),d.Hsn(1),d.YNc(2,Z,1,0,"ng-container",1),d.YNc(3,k,1,9,"span",2),d.YNc(4,N,2,2,"span",3),d.YNc(5,B,2,4,"span",2),d.qZA()),2&R&&(d.Tol(U.styleClass),d.Q6J("ngStyle",U.style)("disabled",U.disabled||U.loading)("ngClass",d.qbA(11,Q,U.icon&&!U.label,("top"===U.iconPos||"bottom"===U.iconPos)&&U.label,U.disabled||U.loading,U.loading,U.loading&&!U.icon&&U.label)),d.uIk("type",U.type)("aria-label",U.ariaLabel),d.xp6(2),d.Q6J("ngTemplateOutlet",U.contentTemplate),d.xp6(1),d.Q6J("ngIf",!U.contentTemplate&&(U.icon||U.loading)),d.xp6(1),d.Q6J("ngIf",!U.contentTemplate),d.xp6(1),d.Q6J("ngIf",!U.contentTemplate&&U.badge))},directives:[G.H,X.PC,X.mk,X.tP,X.O5],encapsulation:2,changeDetection:0}),$})(),re=(()=>{class ${}return $.\u0275fac=function(R){return new(R||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[[X.ez,G.T]]}),$})()},74297:(wt,Se,p)=>{"use strict";p.d(Se,{Z:()=>re,d:()=>$});var d=p(5e3),v=p(69808),X=p(59783);function G(F,R){1&F&&d.GkF(0)}function z(F,R){if(1&F&&(d.TgZ(0,"div",8),d.Hsn(1,1),d.YNc(2,G,1,0,"ng-container",6),d.qZA()),2&F){const U=d.oxw();d.xp6(2),d.Q6J("ngTemplateOutlet",U.headerTemplate)}}function Z(F,R){1&F&&d.GkF(0)}function D(F,R){if(1&F&&(d.TgZ(0,"div",9),d._uU(1),d.YNc(2,Z,1,0,"ng-container",6),d.qZA()),2&F){const U=d.oxw();d.xp6(1),d.hij(" ",U.header," "),d.xp6(1),d.Q6J("ngTemplateOutlet",U.titleTemplate)}}function k(F,R){1&F&&d.GkF(0)}function N(F,R){if(1&F&&(d.TgZ(0,"div",10),d._uU(1),d.YNc(2,k,1,0,"ng-container",6),d.qZA()),2&F){const U=d.oxw();d.xp6(1),d.hij(" ",U.subheader," "),d.xp6(1),d.Q6J("ngTemplateOutlet",U.subtitleTemplate)}}function B(F,R){1&F&&d.GkF(0)}function Q(F,R){1&F&&d.GkF(0)}function ne(F,R){if(1&F&&(d.TgZ(0,"div",11),d.Hsn(1,2),d.YNc(2,Q,1,0,"ng-container",6),d.qZA()),2&F){const U=d.oxw();d.xp6(2),d.Q6J("ngTemplateOutlet",U.footerTemplate)}}const te=["*",[["p-header"]],[["p-footer"]]],ae=["*","p-header","p-footer"];let re=(()=>{class F{constructor(U){this.el=U}ngAfterContentInit(){this.templates.forEach(U=>{switch(U.getType()){case"header":this.headerTemplate=U.template;break;case"title":this.titleTemplate=U.template;break;case"subtitle":this.subtitleTemplate=U.template;break;case"content":default:this.contentTemplate=U.template;break;case"footer":this.footerTemplate=U.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return F.\u0275fac=function(U){return new(U||F)(d.Y36(d.SBq))},F.\u0275cmp=d.Xpm({type:F,selectors:[["p-card"]],contentQueries:function(U,A,V){if(1&U&&(d.Suo(V,X.h4,5),d.Suo(V,X.$_,5),d.Suo(V,X.jx,4)),2&U){let J;d.iGM(J=d.CRH())&&(A.headerFacet=J.first),d.iGM(J=d.CRH())&&(A.footerFacet=J.first),d.iGM(J=d.CRH())&&(A.templates=J)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:ae,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(U,A){1&U&&(d.F$t(te),d.TgZ(0,"div",0),d.YNc(1,z,3,1,"div",1),d.TgZ(2,"div",2),d.YNc(3,D,3,2,"div",3),d.YNc(4,N,3,2,"div",4),d.TgZ(5,"div",5),d.Hsn(6),d.YNc(7,B,1,0,"ng-container",6),d.qZA(),d.YNc(8,ne,3,1,"div",7),d.qZA()()),2&U&&(d.Tol(A.styleClass),d.Q6J("ngClass","p-card p-component")("ngStyle",A.style),d.xp6(1),d.Q6J("ngIf",A.headerFacet||A.headerTemplate),d.xp6(2),d.Q6J("ngIf",A.header||A.titleTemplate),d.xp6(1),d.Q6J("ngIf",A.subheader||A.subtitleTemplate),d.xp6(3),d.Q6J("ngTemplateOutlet",A.contentTemplate),d.xp6(1),d.Q6J("ngIf",A.footerFacet||A.footerTemplate))},directives:[v.mk,v.PC,v.O5,v.tP],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),F})(),$=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275mod=d.oAB({type:F}),F.\u0275inj=d.cJS({imports:[[v.ez],X.m8]}),F})()},15315:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>Me,S:()=>ve});var d=p(5e3),v=p(41777),X=p(69808),G=p(75730),z=p(59783);let Z=(()=>{class Le{constructor(_e){this.el=_e}onkeydown(_e){if(!0!==this.pFocusTrapDisabled){_e.preventDefault();let Re=G.p.getFocusableElements(this.el.nativeElement);if(Re&&Re.length>0)if(Re[0].ownerDocument.activeElement){let nt=Re.indexOf(Re[0].ownerDocument.activeElement);_e.shiftKey?-1==nt||0===nt?Re[Re.length-1].focus():Re[nt-1].focus():-1==nt||nt===Re.length-1?Re[0].focus():Re[nt+1].focus()}else Re[0].focus()}}}return Le.\u0275fac=function(_e){return new(_e||Le)(d.Y36(d.SBq))},Le.\u0275dir=d.lG2({type:Le,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(_e,Re){1&_e&&d.NdJ("keydown.tab",function(pt){return Re.onkeydown(pt)})("keydown.shift.tab",function(pt){return Re.onkeydown(pt)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),Le})(),D=(()=>{class Le{}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275mod=d.oAB({type:Le}),Le.\u0275inj=d.cJS({imports:[[X.ez]]}),Le})();var k=p(25787),N=p(85921);const B=["titlebar"],Q=["content"],ne=["footer"];function te(Le,je){if(1&Le&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&Le){const _e=d.oxw(4);d.uIk("id",_e.id+"-label"),d.xp6(1),d.Oqu(_e.header)}}function ae(Le,je){if(1&Le&&(d.TgZ(0,"span",17),d.Hsn(1,1),d.qZA()),2&Le){const _e=d.oxw(4);d.uIk("id",_e.id+"-label")}}function re(Le,je){1&Le&&d.GkF(0)}const $=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function F(Le,je){if(1&Le){const _e=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(_e),d.oxw(4).maximize()})("keydown.enter",function(){return d.CHM(_e),d.oxw(4).maximize()}),d._UZ(1,"span",19),d.qZA()}if(2&Le){const _e=d.oxw(4);d.Q6J("ngClass",d.DdM(2,$)),d.xp6(1),d.Q6J("ngClass",_e.maximized?_e.minimizeIcon:_e.maximizeIcon)}}const R=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function U(Le,je){if(1&Le){const _e=d.EpF();d.TgZ(0,"button",20),d.NdJ("click",function(nt){return d.CHM(_e),d.oxw(4).close(nt)})("keydown.enter",function(nt){return d.CHM(_e),d.oxw(4).close(nt)}),d._UZ(1,"span",21),d.qZA()}if(2&Le){const _e=d.oxw(4);d.Q6J("ngClass",d.DdM(4,R)),d.uIk("aria-label",_e.closeAriaLabel)("tabindex",_e.closeTabindex),d.xp6(1),d.Q6J("ngClass",_e.closeIcon)}}function A(Le,je){if(1&Le){const _e=d.EpF();d.TgZ(0,"div",11,12),d.NdJ("mousedown",function(nt){return d.CHM(_e),d.oxw(3).initDrag(nt)}),d.YNc(2,te,2,2,"span",13),d.YNc(3,ae,2,1,"span",13),d.YNc(4,re,1,0,"ng-container",8),d.TgZ(5,"div",14),d.YNc(6,F,2,3,"button",15),d.YNc(7,U,2,5,"button",16),d.qZA()()}if(2&Le){const _e=d.oxw(3);d.xp6(2),d.Q6J("ngIf",!_e.headerFacet&&!_e.headerTemplate),d.xp6(1),d.Q6J("ngIf",_e.headerFacet),d.xp6(1),d.Q6J("ngTemplateOutlet",_e.headerTemplate),d.xp6(2),d.Q6J("ngIf",_e.maximizable),d.xp6(1),d.Q6J("ngIf",_e.closable)}}function V(Le,je){1&Le&&d.GkF(0)}function J(Le,je){1&Le&&d.GkF(0)}function Y(Le,je){if(1&Le&&(d.TgZ(0,"div",22,23),d.Hsn(2,2),d.YNc(3,J,1,0,"ng-container",8),d.qZA()),2&Le){const _e=d.oxw(3);d.xp6(3),d.Q6J("ngTemplateOutlet",_e.footerTemplate)}}function oe(Le,je){if(1&Le){const _e=d.EpF();d.TgZ(0,"div",24),d.NdJ("mousedown",function(nt){return d.CHM(_e),d.oxw(3).initResize(nt)}),d.qZA()}}const se=function(Le,je,_e,Re){return{"p-dialog p-component":!0,"p-dialog-rtl":Le,"p-dialog-draggable":je,"p-dialog-resizable":_e,"p-dialog-maximized":Re}},le=function(Le,je){return{transform:Le,transition:je}},de=function(Le){return{value:"visible",params:Le}};function q(Le,je){if(1&Le){const _e=d.EpF();d.TgZ(0,"div",3,4),d.NdJ("@animation.start",function(nt){return d.CHM(_e),d.oxw(2).onAnimationStart(nt)})("@animation.done",function(nt){return d.CHM(_e),d.oxw(2).onAnimationEnd(nt)}),d.YNc(2,A,8,5,"div",5),d.TgZ(3,"div",6,7),d.Hsn(5),d.YNc(6,V,1,0,"ng-container",8),d.qZA(),d.YNc(7,Y,4,1,"div",9),d.YNc(8,oe,1,0,"div",10),d.qZA()}if(2&Le){const _e=d.oxw(2);d.Tol(_e.styleClass),d.Q6J("ngClass",d.l5B(15,se,_e.rtl,_e.draggable,_e.resizable,_e.maximized))("ngStyle",_e.style)("pFocusTrapDisabled",!1===_e.focusTrap)("@animation",d.VKq(23,de,d.WLB(20,le,_e.transformOptions,_e.transitionOptions))),d.uIk("aria-labelledby",_e.id+"-label"),d.xp6(2),d.Q6J("ngIf",_e.showHeader),d.xp6(1),d.Tol(_e.contentStyleClass),d.Q6J("ngClass","p-dialog-content")("ngStyle",_e.contentStyle),d.xp6(3),d.Q6J("ngTemplateOutlet",_e.contentTemplate),d.xp6(1),d.Q6J("ngIf",_e.footerFacet||_e.footerTemplate),d.xp6(1),d.Q6J("ngIf",_e.resizable)}}const ue=function(Le,je,_e,Re,nt,pt,Ne,xe,Ye,Ke){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":Le,"p-dialog-mask-scrollblocker":je,"p-dialog-left":_e,"p-dialog-right":Re,"p-dialog-top":nt,"p-dialog-top-left":pt,"p-dialog-top-right":Ne,"p-dialog-bottom":xe,"p-dialog-bottom-left":Ye,"p-dialog-bottom-right":Ke}};function ie(Le,je){if(1&Le&&(d.TgZ(0,"div",1),d.YNc(1,q,9,25,"div",2),d.qZA()),2&Le){const _e=d.oxw();d.Tol(_e.maskStyleClass),d.Q6J("ngClass",d.rFY(4,ue,[_e.modal,_e.modal||_e.blockScroll,"left"===_e.position,"right"===_e.position,"top"===_e.position,"topleft"===_e.position||"top-left"===_e.position,"topright"===_e.position||"top-right"===_e.position,"bottom"===_e.position,"bottomleft"===_e.position||"bottom-left"===_e.position,"bottomright"===_e.position||"bottom-right"===_e.position])),d.xp6(1),d.Q6J("ngIf",_e.visible)}}const ye=["*",[["p-header"]],[["p-footer"]]],pe=["*","p-header","p-footer"],Ce=(0,v.oQ)([(0,v.oB)({transform:"{{transform}}",opacity:0}),(0,v.jt)("{{transition}}")]),De=(0,v.oQ)([(0,v.jt)("{{transition}}",(0,v.oB)({transform:"{{transform}}",opacity:0}))]);let Me=(()=>{class Le{constructor(_e,Re,nt,pt,Ne){this.el=_e,this.renderer=Re,this.zone=nt,this.cd=pt,this.config=Ne,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new d.vpe,this.onHide=new d.vpe,this.visibleChange=new d.vpe,this.onResizeInit=new d.vpe,this.onResizeEnd=new d.vpe,this.onDragEnd=new d.vpe,this.onMaximize=new d.vpe,this.id=(0,N.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(_e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(_e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(_e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(_e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(_e=>{switch(_e.getType()){case"header":this.headerTemplate=_e.template;break;case"content":default:this.contentTemplate=_e.template;break;case"footer":this.footerTemplate=_e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(_e){this._visible=_e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(_e){_e&&(this._style=Object.assign({},_e),this.originalStyle=_e)}get position(){return this._position}set position(_e){switch(this._position=_e,_e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let _e=G.p.findSingle(this.container,"[autofocus]");_e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>_e.focus(),5)})}close(_e){this.visibleChange.emit(!1),_e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",_e=>{this.wrapper&&this.wrapper.isSameNode(_e.target)&&this.close(_e)})),this.modal&&G.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&G.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?G.p.addClass(document.body,"p-overflow-hidden"):G.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(N.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let _e="";for(let Re in this.breakpoints)_e+=`\n                    @media screen and (max-width: ${Re}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[Re]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=_e}}initDrag(_e){G.p.hasClass(_e.target,"p-dialog-header-icon")||G.p.hasClass(_e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=_e.pageX,this.lastPageY=_e.pageY,this.container.style.margin="0",G.p.addClass(document.body,"p-unselectable-text"))}onKeydown(_e){if(this.focusTrap&&9===_e.which){_e.preventDefault();let Re=G.p.getFocusableElements(this.container);if(Re&&Re.length>0)if(Re[0].ownerDocument.activeElement){let nt=Re.indexOf(Re[0].ownerDocument.activeElement);_e.shiftKey?-1==nt||0===nt?Re[Re.length-1].focus():Re[nt-1].focus():-1==nt||nt===Re.length-1?Re[0].focus():Re[nt+1].focus()}else Re[0].focus()}}onDrag(_e){if(this.dragging){let Re=G.p.getOuterWidth(this.container),nt=G.p.getOuterHeight(this.container),pt=_e.pageX-this.lastPageX,Ne=_e.pageY-this.lastPageY,xe=this.container.getBoundingClientRect(),Ye=xe.left+pt,Ke=xe.top+Ne,Fe=G.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(Ye>=this.minX&&Ye+Re<Fe.width&&(this._style.left=Ye+"px",this.lastPageX=_e.pageX,this.container.style.left=Ye+"px"),Ke>=this.minY&&Ke+nt<Fe.height&&(this._style.top=Ke+"px",this.lastPageY=_e.pageY,this.container.style.top=Ke+"px")):(this.lastPageX=_e.pageX,this.container.style.left=Ye+"px",this.lastPageY=_e.pageY,this.container.style.top=Ke+"px")}}endDrag(_e){this.dragging&&(this.dragging=!1,G.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(_e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(_e){this.resizable&&(this.resizing=!0,this.lastPageX=_e.pageX,this.lastPageY=_e.pageY,G.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(_e))}onResize(_e){if(this.resizing){let Re=_e.pageX-this.lastPageX,nt=_e.pageY-this.lastPageY,pt=G.p.getOuterWidth(this.container),Ne=G.p.getOuterHeight(this.container),xe=G.p.getOuterHeight(this.contentViewChild.nativeElement),Ye=pt+Re,Ke=Ne+nt,Fe=this.container.style.minWidth,Ze=this.container.style.minHeight,ct=this.container.getBoundingClientRect(),we=G.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(Ye+=Re,Ke+=nt),(!Fe||Ye>parseInt(Fe))&&ct.left+Ye<we.width&&(this._style.width=Ye+"px",this.container.style.width=this._style.width),(!Ze||Ke>parseInt(Ze))&&ct.top+Ke<we.height&&(this.contentViewChild.nativeElement.style.height=xe+Ke-Ne+"px",this._style.height&&(this._style.height=Ke+"px",this.container.style.height=this._style.height)),this.lastPageX=_e.pageX,this.lastPageY=_e.pageY}}resizeEnd(_e){this.resizing&&(this.resizing=!1,G.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(_e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",Re=>{27==Re.which&&this.close(Re)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):G.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(_e){switch(_e.toState){case"visible":this.container=_e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&G.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&G.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(_e){switch(_e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(G.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&G.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&N.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return Le.\u0275fac=function(_e){return new(_e||Le)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(z.b4))},Le.\u0275cmp=d.Xpm({type:Le,selectors:[["p-dialog"]],contentQueries:function(_e,Re,nt){if(1&_e&&(d.Suo(nt,z.h4,5),d.Suo(nt,z.$_,5),d.Suo(nt,z.jx,4)),2&_e){let pt;d.iGM(pt=d.CRH())&&(Re.headerFacet=pt.first),d.iGM(pt=d.CRH())&&(Re.footerFacet=pt.first),d.iGM(pt=d.CRH())&&(Re.templates=pt)}},viewQuery:function(_e,Re){if(1&_e&&(d.Gf(B,5),d.Gf(Q,5),d.Gf(ne,5)),2&_e){let nt;d.iGM(nt=d.CRH())&&(Re.headerViewChild=nt.first),d.iGM(nt=d.CRH())&&(Re.contentViewChild=nt.first),d.iGM(nt=d.CRH())&&(Re.footerViewChild=nt.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:pe,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(_e,Re){1&_e&&(d.F$t(ye),d.YNc(0,ie,2,15,"div",0)),2&_e&&d.Q6J("ngIf",Re.maskVisible)},directives:[X.O5,X.mk,Z,X.PC,X.tP,k.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,v.X$)("animation",[(0,v.eR)("void => visible",[(0,v._7)(Ce)]),(0,v.eR)("visible => void",[(0,v._7)(De)])])]},changeDetection:0}),Le})(),ve=(()=>{class Le{}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275mod=d.oAB({type:Le}),Le.\u0275inj=d.cJS({imports:[[X.ez,D,k.T],z.m8]}),Le})()},75730:(wt,Se,p)=>{"use strict";p.d(Se,{V:()=>v,p:()=>d});let d=(()=>{class X{static addClass(z,Z){z.classList?z.classList.add(Z):z.className+=" "+Z}static addMultipleClasses(z,Z){if(z.classList){let D=Z.trim().split(" ");for(let k=0;k<D.length;k++)z.classList.add(D[k])}else{let D=Z.split(" ");for(let k=0;k<D.length;k++)z.className+=" "+D[k]}}static removeClass(z,Z){z.classList?z.classList.remove(Z):z.className=z.className.replace(new RegExp("(^|\\b)"+Z.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(z,Z){return z.classList?z.classList.contains(Z):new RegExp("(^| )"+Z+"( |$)","gi").test(z.className)}static siblings(z){return Array.prototype.filter.call(z.parentNode.children,function(Z){return Z!==z})}static find(z,Z){return Array.from(z.querySelectorAll(Z))}static findSingle(z,Z){return z?z.querySelector(Z):null}static index(z){let Z=z.parentNode.childNodes,D=0;for(var k=0;k<Z.length;k++){if(Z[k]==z)return D;1==Z[k].nodeType&&D++}return-1}static indexWithinGroup(z,Z){let D=z.parentNode?z.parentNode.childNodes:[],k=0;for(var N=0;N<D.length;N++){if(D[N]==z)return k;D[N].attributes&&D[N].attributes[Z]&&1==D[N].nodeType&&k++}return-1}static relativePosition(z,Z){let D=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z);const k=Z.offsetHeight,N=Z.getBoundingClientRect(),B=this.getViewport();let Q,ne;N.top+k+D.height>B.height?(Q=-1*D.height,z.style.transformOrigin="bottom",N.top+Q<0&&(Q=-1*N.top)):(Q=k,z.style.transformOrigin="top"),ne=D.width>B.width?-1*N.left:N.left+D.width>B.width?-1*(N.left+D.width-B.width):0,z.style.top=Q+"px",z.style.left=ne+"px"}static absolutePosition(z,Z){let $,F,D=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),k=D.height,N=D.width,B=Z.offsetHeight,Q=Z.offsetWidth,ne=Z.getBoundingClientRect(),te=this.getWindowScrollTop(),ae=this.getWindowScrollLeft(),re=this.getViewport();ne.top+B+k>re.height?($=ne.top+te-k,z.style.transformOrigin="bottom",$<0&&($=te)):($=B+ne.top+te,z.style.transformOrigin="top"),F=ne.left+N>re.width?Math.max(0,ne.left+ae+Q-N):ne.left+ae,z.style.top=$+"px",z.style.left=F+"px"}static getParents(z,Z=[]){return null===z.parentNode?Z:this.getParents(z.parentNode,Z.concat([z.parentNode]))}static getScrollableParents(z){let Z=[];if(z){let D=this.getParents(z);const k=/(auto|scroll)/,N=B=>{let Q=window.getComputedStyle(B,null);return k.test(Q.getPropertyValue("overflow"))||k.test(Q.getPropertyValue("overflowX"))||k.test(Q.getPropertyValue("overflowY"))};for(let B of D){let Q=1===B.nodeType&&B.dataset.scrollselectors;if(Q){let ne=Q.split(",");for(let te of ne){let ae=this.findSingle(B,te);ae&&N(ae)&&Z.push(ae)}}9!==B.nodeType&&N(B)&&Z.push(B)}}return Z}static getHiddenElementOuterHeight(z){z.style.visibility="hidden",z.style.display="block";let Z=z.offsetHeight;return z.style.display="none",z.style.visibility="visible",Z}static getHiddenElementOuterWidth(z){z.style.visibility="hidden",z.style.display="block";let Z=z.offsetWidth;return z.style.display="none",z.style.visibility="visible",Z}static getHiddenElementDimensions(z){let Z={};return z.style.visibility="hidden",z.style.display="block",Z.width=z.offsetWidth,Z.height=z.offsetHeight,z.style.display="none",z.style.visibility="visible",Z}static scrollInView(z,Z){let D=getComputedStyle(z).getPropertyValue("borderTopWidth"),k=D?parseFloat(D):0,N=getComputedStyle(z).getPropertyValue("paddingTop"),B=N?parseFloat(N):0,Q=z.getBoundingClientRect(),te=Z.getBoundingClientRect().top+document.body.scrollTop-(Q.top+document.body.scrollTop)-k-B,ae=z.scrollTop,re=z.clientHeight,$=this.getOuterHeight(Z);te<0?z.scrollTop=ae+te:te+$>re&&(z.scrollTop=ae+te-re+$)}static fadeIn(z,Z){z.style.opacity=0;let D=+new Date,k=0,N=function(){k=+z.style.opacity.replace(",",".")+((new Date).getTime()-D)/Z,z.style.opacity=k,D=+new Date,+k<1&&(window.requestAnimationFrame&&requestAnimationFrame(N)||setTimeout(N,16))};N()}static fadeOut(z,Z){var D=1,B=50/Z;let Q=setInterval(()=>{(D-=B)<=0&&(D=0,clearInterval(Q)),z.style.opacity=D},50)}static getWindowScrollTop(){let z=document.documentElement;return(window.pageYOffset||z.scrollTop)-(z.clientTop||0)}static getWindowScrollLeft(){let z=document.documentElement;return(window.pageXOffset||z.scrollLeft)-(z.clientLeft||0)}static matches(z,Z){var D=Element.prototype;return(D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.msMatchesSelector||function(N){return-1!==[].indexOf.call(document.querySelectorAll(N),this)}).call(z,Z)}static getOuterWidth(z,Z){let D=z.offsetWidth;if(Z){let k=getComputedStyle(z);D+=parseFloat(k.marginLeft)+parseFloat(k.marginRight)}return D}static getHorizontalPadding(z){let Z=getComputedStyle(z);return parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight)}static getHorizontalMargin(z){let Z=getComputedStyle(z);return parseFloat(Z.marginLeft)+parseFloat(Z.marginRight)}static innerWidth(z){let Z=z.offsetWidth,D=getComputedStyle(z);return Z+=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight),Z}static width(z){let Z=z.offsetWidth,D=getComputedStyle(z);return Z-=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight),Z}static getInnerHeight(z){let Z=z.offsetHeight,D=getComputedStyle(z);return Z+=parseFloat(D.paddingTop)+parseFloat(D.paddingBottom),Z}static getOuterHeight(z,Z){let D=z.offsetHeight;if(Z){let k=getComputedStyle(z);D+=parseFloat(k.marginTop)+parseFloat(k.marginBottom)}return D}static getHeight(z){let Z=z.offsetHeight,D=getComputedStyle(z);return Z-=parseFloat(D.paddingTop)+parseFloat(D.paddingBottom)+parseFloat(D.borderTopWidth)+parseFloat(D.borderBottomWidth),Z}static getWidth(z){let Z=z.offsetWidth,D=getComputedStyle(z);return Z-=parseFloat(D.paddingLeft)+parseFloat(D.paddingRight)+parseFloat(D.borderLeftWidth)+parseFloat(D.borderRightWidth),Z}static getViewport(){let z=window,Z=document,D=Z.documentElement,k=Z.getElementsByTagName("body")[0];return{width:z.innerWidth||D.clientWidth||k.clientWidth,height:z.innerHeight||D.clientHeight||k.clientHeight}}static getOffset(z){var Z=z.getBoundingClientRect();return{top:Z.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Z.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(z,Z){let D=z.parentNode;if(!D)throw"Can't replace element";return D.replaceChild(Z,z)}static getUserAgent(){return navigator.userAgent}static isIE(){var z=window.navigator.userAgent;return z.indexOf("MSIE ")>0||(z.indexOf("Trident/")>0?(z.indexOf("rv:"),!0):z.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(z,Z){if(this.isElement(Z))Z.appendChild(z);else{if(!Z.el||!Z.el.nativeElement)throw"Cannot append "+Z+" to "+z;Z.el.nativeElement.appendChild(z)}}static removeChild(z,Z){if(this.isElement(Z))Z.removeChild(z);else{if(!Z.el||!Z.el.nativeElement)throw"Cannot remove "+z+" from "+Z;Z.el.nativeElement.removeChild(z)}}static removeElement(z){"remove"in Element.prototype?z.remove():z.parentNode.removeChild(z)}static isElement(z){return"object"==typeof HTMLElement?z instanceof HTMLElement:z&&"object"==typeof z&&null!==z&&1===z.nodeType&&"string"==typeof z.nodeName}static calculateScrollbarWidth(z){if(z){let Z=getComputedStyle(z);return z.offsetWidth-z.clientWidth-parseFloat(Z.borderLeftWidth)-parseFloat(Z.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Z=document.createElement("div");Z.className="p-scrollbar-measure",document.body.appendChild(Z);let D=Z.offsetWidth-Z.clientWidth;return document.body.removeChild(Z),this.calculatedScrollbarWidth=D,D}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let z=document.createElement("div");z.className="p-scrollbar-measure",document.body.appendChild(z);let Z=z.offsetHeight-z.clientHeight;return document.body.removeChild(z),this.calculatedScrollbarWidth=Z,Z}static invokeElementMethod(z,Z,D){z[Z].apply(z,D)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(z){}}static getBrowser(){if(!this.browser){let z=this.resolveUserAgent();this.browser={},z.browser&&(this.browser[z.browser]=!0,this.browser.version=z.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let z=navigator.userAgent.toLowerCase(),Z=/(chrome)[ \/]([\w.]+)/.exec(z)||/(webkit)[ \/]([\w.]+)/.exec(z)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(z)||/(msie) ([\w.]+)/.exec(z)||z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(z)||[];return{browser:Z[1]||"",version:Z[2]||"0"}}static isInteger(z){return Number.isInteger?Number.isInteger(z):"number"==typeof z&&isFinite(z)&&Math.floor(z)===z}static isHidden(z){return null===z.offsetParent}static getFocusableElements(z){let Z=X.find(z,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),D=[];for(let k of Z)"none"!=getComputedStyle(k).display&&"hidden"!=getComputedStyle(k).visibility&&D.push(k);return D}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return X.zindex=1e3,X.calculatedScrollbarWidth=null,X.calculatedScrollbarHeight=null,X})();class v{constructor(G,z=(()=>{})){this.element=G,this.listener=z}bindScrollListener(){this.scrollableParents=d.getScrollableParents(this.element);for(let G=0;G<this.scrollableParents.length;G++)this.scrollableParents[G].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let G=0;G<this.scrollableParents.length;G++)this.scrollableParents[G].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},7950:(wt,Se,p)=>{"use strict";p.d(Se,{Lt:()=>_r,kW:()=>Er});var d=p(5e3);function X(Jt,hn=0){return function G(Jt){return!isNaN(parseFloat(Jt))&&!isNaN(Number(Jt))}(Jt)?Number(Jt):hn}var N=p(77579),B=p(39646),Q=p(68306),ne=p(54968),te=p(84408),ae=p(50727);const re={schedule(Jt){let hn=requestAnimationFrame,at=cancelAnimationFrame;const{delegate:Vt}=re;Vt&&(hn=Vt.requestAnimationFrame,at=Vt.cancelAnimationFrame);const yn=hn(rt=>{at=void 0,Jt(rt)});return new ae.w0(()=>null==at?void 0:at(yn))},requestAnimationFrame(...Jt){const{delegate:hn}=re;return((null==hn?void 0:hn.requestAnimationFrame)||requestAnimationFrame)(...Jt)},cancelAnimationFrame(...Jt){const{delegate:hn}=re;return((null==hn?void 0:hn.cancelAnimationFrame)||cancelAnimationFrame)(...Jt)},delegate:void 0};var F=p(97565);const U=new class R extends F.v{flush(hn){this._active=!0;const at=this._scheduled;this._scheduled=void 0;const{actions:Vt}=this;let yn;hn=hn||Vt.shift();do{if(yn=hn.execute(hn.state,hn.delay))break}while((hn=Vt[0])&&hn.id===at&&Vt.shift());if(this._active=!1,yn){for(;(hn=Vt[0])&&hn.id===at&&Vt.shift();)hn.unsubscribe();throw yn}}}(class $ extends te.o{constructor(hn,at){super(hn,at),this.scheduler=hn,this.work=at}requestAsyncId(hn,at,Vt=0){return null!==Vt&&Vt>0?super.requestAsyncId(hn,at,Vt):(hn.actions.push(this),hn._scheduled||(hn._scheduled=re.requestAnimationFrame(()=>hn.flush(void 0))))}recycleAsyncId(hn,at,Vt=0){if(null!=Vt&&Vt>0||null==Vt&&this.delay>0)return super.recycleAsyncId(hn,at,Vt);hn.actions.some(yn=>yn.id===at)||(re.cancelAnimationFrame(at),hn._scheduled=void 0)}});let J,V=1;const Y={};function oe(Jt){return Jt in Y&&(delete Y[Jt],!0)}const se={setImmediate(Jt){const hn=V++;return Y[hn]=!0,J||(J=Promise.resolve()),J.then(()=>oe(hn)&&Jt()),hn},clearImmediate(Jt){oe(Jt)}},{setImmediate:de,clearImmediate:q}=se,ue={setImmediate(...Jt){const{delegate:hn}=ue;return((null==hn?void 0:hn.setImmediate)||de)(...Jt)},clearImmediate(Jt){const{delegate:hn}=ue;return((null==hn?void 0:hn.clearImmediate)||q)(Jt)},delegate:void 0},pe=new class ye extends F.v{flush(hn){this._active=!0;const at=this._scheduled;this._scheduled=void 0;const{actions:Vt}=this;let yn;hn=hn||Vt.shift();do{if(yn=hn.execute(hn.state,hn.delay))break}while((hn=Vt[0])&&hn.id===at&&Vt.shift());if(this._active=!1,yn){for(;(hn=Vt[0])&&hn.id===at&&Vt.shift();)hn.unsubscribe();throw yn}}}(class ie extends te.o{constructor(hn,at){super(hn,at),this.scheduler=hn,this.work=at}requestAsyncId(hn,at,Vt=0){return null!==Vt&&Vt>0?super.requestAsyncId(hn,at,Vt):(hn.actions.push(this),hn._scheduled||(hn._scheduled=ue.setImmediate(hn.flush.bind(hn,void 0))))}recycleAsyncId(hn,at,Vt=0){if(null!=Vt&&Vt>0||null==Vt&&this.delay>0)return super.recycleAsyncId(hn,at,Vt);hn.actions.some(yn=>yn.id===at)||(ue.clearImmediate(at),hn._scheduled=void 0)}});var De=p(45191),Me=p(71884),ve=p(34986),Le=p(54482),je=p(38421),_e=p(25403),nt=p(5963);function pt(Jt,hn=ve.z){return function Re(Jt){return(0,Le.e)((hn,at)=>{let Vt=!1,yn=null,rt=null,Pt=!1;const tn=()=>{if(null==rt||rt.unsubscribe(),rt=null,Vt){Vt=!1;const qt=yn;yn=null,at.next(qt)}Pt&&at.complete()},un=()=>{rt=null,Pt&&at.complete()};hn.subscribe((0,_e.x)(at,qt=>{Vt=!0,yn=qt,rt||(0,je.Xf)(Jt(qt)).subscribe(rt=(0,_e.x)(at,tn,un))},()=>{Pt=!0,(!Vt||!rt||rt.closed)&&at.complete()}))})}(()=>(0,nt.H)(Jt,hn))}var Ne=p(39300),xe=p(25032);function Ye(Jt){return(0,Le.e)((hn,at)=>{(0,je.Xf)(Jt).subscribe((0,_e.x)(at,()=>at.complete(),xe.Z)),!at.closed&&hn.subscribe(at)})}var Ke=p(68675),Ze=p(63900),ct=p(23151),we=p(69808);let Be;try{Be="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Jt){Be=!1}let Xe,vt,Je=(()=>{class Jt{constructor(at){this._platformId=at,this.isBrowser=this._platformId?(0,we.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Be)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.LFG(d.Lbi))},Jt.\u0275prov=d.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})();function xt(){if("object"!=typeof document||!document)return 0;if(null==Xe){const Jt=document.createElement("div"),hn=Jt.style;Jt.dir="rtl",hn.width="1px",hn.overflow="auto",hn.visibility="hidden",hn.pointerEvents="none",hn.position="absolute";const at=document.createElement("div"),Vt=at.style;Vt.width="2px",Vt.height="1px",Jt.appendChild(at),document.body.appendChild(Jt),Xe=0,0===Jt.scrollLeft&&(Jt.scrollLeft=1,Xe=0===Jt.scrollLeft?1:2),Jt.remove()}return Xe}const Tr=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function vr(){return(0,d.f3M)(we.K0)}}),zn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sn=(()=>{class Jt{constructor(at){if(this.value="ltr",this.change=new d.vpe,at){const yn=at.documentElement?at.documentElement.dir:null;this.value=function zt(Jt){const hn=(null==Jt?void 0:Jt.toLowerCase())||"";return"auto"===hn&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?zn.test(navigator.language)?"rtl":"ltr":"rtl"===hn?"rtl":"ltr"}((at.body?at.body.dir:null)||yn||"ltr")}}ngOnDestroy(){this.change.complete()}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.LFG(Tr,8))},Jt.\u0275prov=d.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})(),In=(()=>{class Jt{}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275mod=d.oAB({type:Jt}),Jt.\u0275inj=d.cJS({}),Jt})();class $n extends class Wn{}{constructor(hn){super(),this._data=hn}connect(){return(0,De.b)(this._data)?this._data:(0,B.of)(this._data)}disconnect(){}}class ir{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(hn,at,Vt,yn,rt){hn.forEachOperation((Pt,tn,un)=>{let qt,xn;null==Pt.previousIndex?(qt=this._insertView(()=>Vt(Pt,tn,un),un,at,yn(Pt)),xn=qt?1:0):null==un?(this._detachAndCacheView(tn,at),xn=3):(qt=this._moveView(tn,un,at,yn(Pt)),xn=2),rt&&rt({context:null==qt?void 0:qt.context,operation:xn,record:Pt})})}detach(){for(const hn of this._viewCache)hn.destroy();this._viewCache=[]}_insertView(hn,at,Vt,yn){const rt=this._insertViewFromCache(at,Vt);if(rt)return void(rt.context.$implicit=yn);const Pt=hn();return Vt.createEmbeddedView(Pt.templateRef,Pt.context,Pt.index)}_detachAndCacheView(hn,at){const Vt=at.detach(hn);this._maybeCacheView(Vt,at)}_moveView(hn,at,Vt,yn){const rt=Vt.get(hn);return Vt.move(rt,at),rt.context.$implicit=yn,rt}_maybeCacheView(hn,at){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(hn);else{const Vt=at.indexOf(hn);-1===Vt?hn.destroy():at.remove(Vt)}}_insertViewFromCache(hn,at){const Vt=this._viewCache.pop();return Vt&&at.insert(Vt,hn),Vt||null}}const an=new d.OlP("_ViewRepeater"),Mn=["contentWrapper"],Hn=["*"],Mt=new d.OlP("VIRTUAL_SCROLL_STRATEGY");class Bt{constructor(hn,at,Vt){this._scrolledIndexChange=new N.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Me.x)()),this._viewport=null,this._itemSize=hn,this._minBufferPx=at,this._maxBufferPx=Vt}attach(hn){this._viewport=hn,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(hn,at,Vt){this._itemSize=hn,this._minBufferPx=at,this._maxBufferPx=Vt,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(hn,at){this._viewport&&this._viewport.scrollToOffset(hn*this._itemSize,at)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const hn=this._viewport.getRenderedRange(),at={start:hn.start,end:hn.end},Vt=this._viewport.getViewportSize(),yn=this._viewport.getDataLength();let rt=this._viewport.measureScrollOffset(),Pt=this._itemSize>0?rt/this._itemSize:0;if(at.end>yn){const un=Math.ceil(Vt/this._itemSize),qt=Math.max(0,Math.min(Pt,yn-un));Pt!=qt&&(Pt=qt,rt=qt*this._itemSize,at.start=Math.floor(Pt)),at.end=Math.max(0,Math.min(yn,at.start+un))}const tn=rt-at.start*this._itemSize;if(tn<this._minBufferPx&&0!=at.start){const un=Math.ceil((this._maxBufferPx-tn)/this._itemSize);at.start=Math.max(0,at.start-un),at.end=Math.min(yn,Math.ceil(Pt+(Vt+this._minBufferPx)/this._itemSize))}else{const un=at.end*this._itemSize-(rt+Vt);if(un<this._minBufferPx&&at.end!=yn){const qt=Math.ceil((this._maxBufferPx-un)/this._itemSize);qt>0&&(at.end=Math.min(yn,at.end+qt),at.start=Math.max(0,Math.floor(Pt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(at),this._viewport.setRenderedContentOffset(this._itemSize*at.start),this._scrolledIndexChange.next(Math.floor(Pt))}}function wn(Jt){return Jt._scrollStrategy}let Ut=(()=>{class Jt{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Bt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(at){this._itemSize=X(at)}get minBufferPx(){return this._minBufferPx}set minBufferPx(at){this._minBufferPx=X(at)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(at){this._maxBufferPx=X(at)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275dir=d.lG2({type:Jt,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[d._Bn([{provide:Mt,useFactory:wn,deps:[(0,d.Gpc)(()=>Jt)]}]),d.TTD]}),Jt})(),Bn=(()=>{class Jt{constructor(at,Vt,yn){this._ngZone=at,this._platform=Vt,this._scrolled=new N.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=yn}register(at){this.scrollContainers.has(at)||this.scrollContainers.set(at,at.elementScrolled().subscribe(()=>this._scrolled.next(at)))}deregister(at){const Vt=this.scrollContainers.get(at);Vt&&(Vt.unsubscribe(),this.scrollContainers.delete(at))}scrolled(at=20){return this._platform.isBrowser?new Q.y(Vt=>{this._globalSubscription||this._addGlobalListener();const yn=at>0?this._scrolled.pipe(pt(at)).subscribe(Vt):this._scrolled.subscribe(Vt);return this._scrolledCount++,()=>{yn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,B.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((at,Vt)=>this.deregister(Vt)),this._scrolled.complete()}ancestorScrolled(at,Vt){const yn=this.getAncestorScrollContainers(at);return this.scrolled(Vt).pipe((0,Ne.h)(rt=>!rt||yn.indexOf(rt)>-1))}getAncestorScrollContainers(at){const Vt=[];return this.scrollContainers.forEach((yn,rt)=>{this._scrollableContainsElement(rt,at)&&Vt.push(rt)}),Vt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(at,Vt){let yn=function D(Jt){return Jt instanceof d.SBq?Jt.nativeElement:Jt}(Vt),rt=at.getElementRef().nativeElement;do{if(yn==rt)return!0}while(yn=yn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const at=this._getWindow();return(0,ne.R)(at.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.LFG(d.R0b),d.LFG(Je),d.LFG(we.K0,8))},Jt.\u0275prov=d.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})(),er=(()=>{class Jt{constructor(at,Vt,yn,rt){this.elementRef=at,this.scrollDispatcher=Vt,this.ngZone=yn,this.dir=rt,this._destroyed=new N.x,this._elementScrolled=new Q.y(Pt=>this.ngZone.runOutsideAngular(()=>(0,ne.R)(this.elementRef.nativeElement,"scroll").pipe(Ye(this._destroyed)).subscribe(Pt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(at){const Vt=this.elementRef.nativeElement,yn=this.dir&&"rtl"==this.dir.value;null==at.left&&(at.left=yn?at.end:at.start),null==at.right&&(at.right=yn?at.start:at.end),null!=at.bottom&&(at.top=Vt.scrollHeight-Vt.clientHeight-at.bottom),yn&&0!=xt()?(null!=at.left&&(at.right=Vt.scrollWidth-Vt.clientWidth-at.left),2==xt()?at.left=at.right:1==xt()&&(at.left=at.right?-at.right:at.right)):null!=at.right&&(at.left=Vt.scrollWidth-Vt.clientWidth-at.right),this._applyScrollToOptions(at)}_applyScrollToOptions(at){const Vt=this.elementRef.nativeElement;!function Zt(){if(null==vt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vt=!1,vt;if("scrollBehavior"in document.documentElement.style)vt=!0;else{const Jt=Element.prototype.scrollTo;vt=!!Jt&&!/\{\s*\[native code\]\s*\}/.test(Jt.toString())}}return vt}()?(null!=at.top&&(Vt.scrollTop=at.top),null!=at.left&&(Vt.scrollLeft=at.left)):Vt.scrollTo(at)}measureScrollOffset(at){const Vt="left",rt=this.elementRef.nativeElement;if("top"==at)return rt.scrollTop;if("bottom"==at)return rt.scrollHeight-rt.clientHeight-rt.scrollTop;const Pt=this.dir&&"rtl"==this.dir.value;return"start"==at?at=Pt?"right":Vt:"end"==at&&(at=Pt?Vt:"right"),Pt&&2==xt()?at==Vt?rt.scrollWidth-rt.clientWidth-rt.scrollLeft:rt.scrollLeft:Pt&&1==xt()?at==Vt?rt.scrollLeft+rt.scrollWidth-rt.clientWidth:-rt.scrollLeft:at==Vt?rt.scrollLeft:rt.scrollWidth-rt.clientWidth-rt.scrollLeft}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.Y36(d.SBq),d.Y36(Bn),d.Y36(d.R0b),d.Y36(sn,8))},Jt.\u0275dir=d.lG2({type:Jt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Jt})(),Hr=(()=>{class Jt{constructor(at,Vt,yn){this._platform=at,this._change=new N.x,this._changeListener=rt=>{this._change.next(rt)},this._document=yn,Vt.runOutsideAngular(()=>{if(at.isBrowser){const rt=this._getWindow();rt.addEventListener("resize",this._changeListener),rt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const at=this._getWindow();at.removeEventListener("resize",this._changeListener),at.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const at={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),at}getViewportRect(){const at=this.getViewportScrollPosition(),{width:Vt,height:yn}=this.getViewportSize();return{top:at.top,left:at.left,bottom:at.top+yn,right:at.left+Vt,height:yn,width:Vt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const at=this._document,Vt=this._getWindow(),yn=at.documentElement,rt=yn.getBoundingClientRect();return{top:-rt.top||at.body.scrollTop||Vt.scrollY||yn.scrollTop||0,left:-rt.left||at.body.scrollLeft||Vt.scrollX||yn.scrollLeft||0}}change(at=20){return at>0?this._change.pipe(pt(at)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const at=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:at.innerWidth,height:at.innerHeight}:{width:0,height:0}}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.LFG(Je),d.LFG(d.R0b),d.LFG(we.K0,8))},Jt.\u0275prov=d.Yz7({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt})();const Ei="undefined"!=typeof requestAnimationFrame?U:pe;let kr=(()=>{class Jt extends er{constructor(at,Vt,yn,rt,Pt,tn,un){super(at,tn,yn,Pt),this.elementRef=at,this._changeDetectorRef=Vt,this._scrollStrategy=rt,this._detachedSubject=new N.x,this._renderedRangeSubject=new N.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Q.y(qt=>this._scrollStrategy.scrolledIndexChange.subscribe(xn=>Promise.resolve().then(()=>this.ngZone.run(()=>qt.next(xn))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ae.w0.EMPTY,this._viewportChanges=un.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(at){this._orientation!==at&&(this._orientation=at,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(at){this._appendOnly=function v(Jt){return null!=Jt&&"false"!=`${Jt}`}(at)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,Ke.O)(null),pt(0,Ei)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(at){this.ngZone.runOutsideAngular(()=>{this._forOf=at,this._forOf.dataStream.pipe(Ye(this._detachedSubject)).subscribe(Vt=>{const yn=Vt.length;yn!==this._dataLength&&(this._dataLength=yn,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(at){this._totalContentSize!==at&&(this._totalContentSize=at,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(at){(function wi(Jt,hn){return Jt.start==hn.start&&Jt.end==hn.end})(this._renderedRange,at)||(this.appendOnly&&(at={start:0,end:Math.max(this._renderedRange.end,at.end)}),this._renderedRangeSubject.next(this._renderedRange=at),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(at,Vt="to-start"){const rt="horizontal"==this.orientation,Pt=rt?"X":"Y";let un=`translate${Pt}(${Number((rt&&this.dir&&"rtl"==this.dir.value?-1:1)*at)}px)`;this._renderedContentOffset=at=this.appendOnly&&"to-start"===Vt?0:at,"to-end"===Vt&&(un+=` translate${Pt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=un&&(this._renderedContentTransform=un,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(at,Vt="auto"){const yn={behavior:Vt};"horizontal"===this.orientation?yn.start=at:yn.top=at,this.scrollTo(yn)}scrollToIndex(at,Vt="auto"){this._scrollStrategy.scrollToIndex(at,Vt)}measureScrollOffset(at){return super.measureScrollOffset(at||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const at=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?at.offsetWidth:at.offsetHeight}measureRangeSize(at){return this._forOf?this._forOf.measureRangeSize(at,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const at=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?at.clientWidth:at.clientHeight}_markChangeDetectionNeeded(at){at&&this._runAfterChangeDetection.push(at),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const at=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const Vt of at)Vt()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(Mt,8),d.Y36(sn,8),d.Y36(Bn),d.Y36(Hr))},Jt.\u0275cmp=d.Xpm({type:Jt,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(at,Vt){if(1&at&&d.Gf(Mn,7),2&at){let yn;d.iGM(yn=d.CRH())&&(Vt._contentWrapper=yn.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(at,Vt){2&at&&d.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===Vt.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Vt.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[d._Bn([{provide:er,useExisting:Jt}]),d.qOj],ngContentSelectors:Hn,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(at,Vt){1&at&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&at&&(d.xp6(3),d.Udp("width",Vt._totalContentWidth)("height",Vt._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),Jt})();function Fi(Jt,hn,at){if(!at.getBoundingClientRect)return 0;const yn=at.getBoundingClientRect();return"horizontal"===Jt?"start"===hn?yn.left:yn.right:"start"===hn?yn.top:yn.bottom}let rs=(()=>{class Jt{constructor(at,Vt,yn,rt,Pt,tn){this._viewContainerRef=at,this._template=Vt,this._differs=yn,this._viewRepeater=rt,this._viewport=Pt,this.viewChange=new N.x,this._dataSourceChanges=new N.x,this.dataStream=this._dataSourceChanges.pipe((0,Ke.O)(null),function Fe(){return(0,Le.e)((Jt,hn)=>{let at,Vt=!1;Jt.subscribe((0,_e.x)(hn,yn=>{const rt=at;at=yn,Vt&&hn.next([rt,yn]),Vt=!0}))})}(),(0,Ze.w)(([un,qt])=>this._changeDataSource(un,qt)),(0,ct.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new N.x,this.dataStream.subscribe(un=>{this._data=un,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Ye(this._destroyed)).subscribe(un=>{this._renderedRange=un,this.viewChange.observers.length&&tn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(at){this._cdkVirtualForOf=at,function jn(Jt){return Jt&&"function"==typeof Jt.connect}(at)?this._dataSourceChanges.next(at):this._dataSourceChanges.next(new $n((0,De.b)(at)?at:Array.from(at||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(at){this._needsUpdate=!0,this._cdkVirtualForTrackBy=at?(Vt,yn)=>at(Vt+(this._renderedRange?this._renderedRange.start:0),yn):void 0}set cdkVirtualForTemplate(at){at&&(this._needsUpdate=!0,this._template=at)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(at){this._viewRepeater.viewCacheSize=X(at)}measureRangeSize(at,Vt){if(at.start>=at.end)return 0;const yn=at.start-this._renderedRange.start,rt=at.end-at.start;let Pt,tn;for(let un=0;un<rt;un++){const qt=this._viewContainerRef.get(un+yn);if(qt&&qt.rootNodes.length){Pt=tn=qt.rootNodes[0];break}}for(let un=rt-1;un>-1;un--){const qt=this._viewContainerRef.get(un+yn);if(qt&&qt.rootNodes.length){tn=qt.rootNodes[qt.rootNodes.length-1];break}}return Pt&&tn?Fi(Vt,"end",tn)-Fi(Vt,"start",Pt):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const at=this._differ.diff(this._renderedItems);at?this._applyChanges(at):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((at,Vt)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(at,Vt):Vt)),this._needsUpdate=!0)}_changeDataSource(at,Vt){return at&&at.disconnect(this),this._needsUpdate=!0,Vt?Vt.connect(this):(0,B.of)()}_updateContext(){const at=this._data.length;let Vt=this._viewContainerRef.length;for(;Vt--;){const yn=this._viewContainerRef.get(Vt);yn.context.index=this._renderedRange.start+Vt,yn.context.count=at,this._updateComputedContextProperties(yn.context),yn.detectChanges()}}_applyChanges(at){this._viewRepeater.applyChanges(at,this._viewContainerRef,(rt,Pt,tn)=>this._getEmbeddedViewArgs(rt,tn),rt=>rt.item),at.forEachIdentityChange(rt=>{this._viewContainerRef.get(rt.currentIndex).context.$implicit=rt.item});const Vt=this._data.length;let yn=this._viewContainerRef.length;for(;yn--;){const rt=this._viewContainerRef.get(yn);rt.context.index=this._renderedRange.start+yn,rt.context.count=Vt,this._updateComputedContextProperties(rt.context)}}_updateComputedContextProperties(at){at.first=0===at.index,at.last=at.index===at.count-1,at.even=at.index%2==0,at.odd=!at.even}_getEmbeddedViewArgs(at,Vt){return{templateRef:this._template,context:{$implicit:at.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:Vt}}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(an),d.Y36(kr,4),d.Y36(d.R0b))},Jt.\u0275dir=d.lG2({type:Jt,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[d._Bn([{provide:an,useClass:ir}])]}),Jt})(),Zr=(()=>{class Jt{}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275mod=d.oAB({type:Jt}),Jt.\u0275inj=d.cJS({}),Jt})(),fi=(()=>{class Jt{}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275mod=d.oAB({type:Jt}),Jt.\u0275inj=d.cJS({imports:[[In,Zr],In,Zr]}),Jt})();var Ui=p(41777),hr=p(59783),Ii=p(75730),Hi=p(85921),Hs=p(93075),gi=p(4119),Bi=p(25787);function Ts(Jt,hn){if(1&Jt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Jt){const at=d.oxw();d.xp6(1),d.Oqu(at.label||"empty")}}function Li(Jt,hn){1&Jt&&d.GkF(0)}const ps=function(Jt){return{height:Jt}},ut=function(Jt,hn){return{"p-dropdown-item":!0,"p-highlight":Jt,"p-disabled":hn}},Zn=function(Jt){return{$implicit:Jt}},Pn=["container"],yr=["filter"],Pr=["in"],ni=["editableInput"];function Yr(Jt,hn){if(1&Jt&&(d.ynx(0),d._uU(1),d.BQk()),2&Jt){const at=d.oxw(2);d.xp6(1),d.Oqu(at.label||"empty")}}function Lr(Jt,hn){1&Jt&&d.GkF(0)}const Oi=function(Jt){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":Jt}};function li(Jt,hn){if(1&Jt&&(d.TgZ(0,"span",12),d.YNc(1,Yr,2,1,"ng-container",13),d.YNc(2,Lr,1,0,"ng-container",14),d.qZA()),2&Jt){const at=d.oxw();d.Q6J("ngClass",d.VKq(9,Oi,null==at.label||0===at.label.length))("pTooltip",at.tooltip)("tooltipPosition",at.tooltipPosition)("positionStyle",at.tooltipPositionStyle)("tooltipStyleClass",at.tooltipStyleClass),d.uIk("id",at.labelId),d.xp6(1),d.Q6J("ngIf",!at.selectedItemTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",at.selectedItemTemplate)("ngTemplateOutletContext",d.VKq(11,Zn,at.selectedOption))}}const yi=function(Jt){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":Jt}};function Un(Jt,hn){if(1&Jt&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&Jt){const at=d.oxw();d.Q6J("ngClass",d.VKq(2,yi,null==at.placeholder||0===at.placeholder.length)),d.xp6(1),d.Oqu(at.placeholder||"empty")}}function Qr(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"input",16,17),d.NdJ("click",function(){return d.CHM(at),d.oxw().onEditableInputClick()})("input",function(yn){return d.CHM(at),d.oxw().onEditableInputChange(yn)})("focus",function(yn){return d.CHM(at),d.oxw().onEditableInputFocus(yn)})("blur",function(yn){return d.CHM(at),d.oxw().onInputBlur(yn)}),d.qZA()}if(2&Jt){const at=d.oxw();d.Q6J("disabled",at.disabled),d.uIk("maxlength",at.maxlength)("placeholder",at.placeholder)("aria-expanded",at.overlayVisible)}}function cs(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"i",18),d.NdJ("click",function(yn){return d.CHM(at),d.oxw().clear(yn)}),d.qZA()}}function rn(Jt,hn){1&Jt&&d.GkF(0)}function gn(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"div",26)(1,"div",27),d.NdJ("click",function(yn){return yn.stopPropagation()}),d.TgZ(2,"input",28,29),d.NdJ("keydown.enter",function(yn){return yn.preventDefault()})("keydown",function(yn){return d.CHM(at),d.oxw(2).onKeydown(yn,!1)})("input",function(yn){return d.CHM(at),d.oxw(2).onFilterInputChange(yn)}),d.qZA(),d._UZ(4,"span",30),d.qZA()()}if(2&Jt){const at=d.oxw(2);d.xp6(2),d.Q6J("value",at.filterValue||""),d.uIk("placeholder",at.filterPlaceholder)("aria-label",at.ariaFilterLabel)("aria-activedescendant",at.overlayVisible?"p-highlighted-option":at.labelId)}}function kt(Jt,hn){if(1&Jt&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&Jt){const at=d.oxw().$implicit,Vt=d.oxw(3);d.xp6(1),d.Oqu(Vt.getOptionGroupLabel(at)||"empty")}}function An(Jt,hn){1&Jt&&d.GkF(0)}function fr(Jt,hn){1&Jt&&d.GkF(0)}const wr=function(Jt,hn){return{$implicit:Jt,selectedOption:hn}};function Jr(Jt,hn){if(1&Jt&&(d.TgZ(0,"li",32),d.YNc(1,kt,2,1,"span",13),d.YNc(2,An,1,0,"ng-container",14),d.qZA(),d.YNc(3,fr,1,0,"ng-container",14)),2&Jt){const at=hn.$implicit;d.oxw(2);const Vt=d.MAs(8),yn=d.oxw();d.xp6(1),d.Q6J("ngIf",!yn.groupTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",yn.groupTemplate)("ngTemplateOutletContext",d.VKq(5,Zn,at)),d.xp6(1),d.Q6J("ngTemplateOutlet",Vt)("ngTemplateOutletContext",d.WLB(7,wr,yn.getOptionGroupChildren(at),yn.selectedOption))}}function Br(Jt,hn){if(1&Jt&&(d.ynx(0),d.YNc(1,Jr,4,10,"ng-template",31),d.BQk()),2&Jt){const at=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",at.optionsToDisplay)}}function ti(Jt,hn){1&Jt&&d.GkF(0)}function Ai(Jt,hn){if(1&Jt&&(d.ynx(0),d.YNc(1,ti,1,0,"ng-container",14),d.BQk()),2&Jt){d.oxw();const at=d.MAs(8),Vt=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",at)("ngTemplateOutletContext",d.WLB(2,wr,Vt.optionsToDisplay,Vt.selectedOption))}}function Fr(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"p-dropdownItem",35),d.NdJ("onClick",function(yn){return d.CHM(at),d.oxw(4).onItemClick(yn)}),d.qZA()}if(2&Jt){const at=hn.$implicit,Vt=d.oxw(2).selectedOption,yn=d.oxw(2);d.Q6J("option",at)("selected",Vt==at)("label",yn.getOptionLabel(at))("disabled",yn.isOptionDisabled(at))("template",yn.itemTemplate)}}function Ni(Jt,hn){if(1&Jt&&(d.ynx(0),d.YNc(1,Fr,1,5,"ng-template",31),d.BQk()),2&Jt){const at=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",at)}}function Ji(Jt,hn){if(1&Jt){const at=d.EpF();d.ynx(0),d.TgZ(1,"p-dropdownItem",35),d.NdJ("onClick",function(yn){return d.CHM(at),d.oxw(5).onItemClick(yn)}),d.qZA(),d.BQk()}if(2&Jt){const at=hn.$implicit,Vt=d.oxw(3).selectedOption,yn=d.oxw(2);d.xp6(1),d.Q6J("option",at)("selected",Vt==at)("label",yn.getOptionLabel(at))("disabled",yn.isOptionDisabled(at))("template",yn.itemTemplate)}}function Gs(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"cdk-virtual-scroll-viewport",37,38),d.NdJ("scrolledIndexChange",function(){return d.CHM(at),d.oxw(4).scrollToSelectedVirtualScrollElement()}),d.YNc(2,Ji,2,5,"ng-container",39),d.qZA()}if(2&Jt){const at=d.oxw(2).$implicit,Vt=d.oxw(2);d.Q6J("ngStyle",d.VKq(3,ps,Vt.scrollHeight))("itemSize",Vt.itemSize),d.xp6(2),d.Q6J("cdkVirtualForOf",at)}}function Vi(Jt,hn){if(1&Jt&&d.YNc(0,Gs,3,5,"cdk-virtual-scroll-viewport",36),2&Jt){const at=d.oxw(3);d.Q6J("ngIf",at.virtualScroll&&at.optionsToDisplay&&at.optionsToDisplay.length)}}function Rs(Jt,hn){if(1&Jt&&(d.YNc(0,Ni,2,1,"ng-container",33),d.YNc(1,Vi,1,1,"ng-template",null,34,d.W1O)),2&Jt){const at=d.MAs(2),Vt=d.oxw(2);d.Q6J("ngIf",!Vt.virtualScroll)("ngIfElse",at)}}function Ps(Jt,hn){if(1&Jt&&(d.ynx(0),d._uU(1),d.BQk()),2&Jt){const at=d.oxw(3);d.xp6(1),d.hij(" ",at.emptyFilterMessageLabel," ")}}function Is(Jt,hn){1&Jt&&d.GkF(0,null,41)}function Ds(Jt,hn){if(1&Jt&&(d.TgZ(0,"li",40),d.YNc(1,Ps,2,1,"ng-container",33),d.YNc(2,Is,2,0,"ng-container",20),d.qZA()),2&Jt){const at=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!at.emptyFilterTemplate&&!at.emptyTemplate)("ngIfElse",at.emptyFilter),d.xp6(1),d.Q6J("ngTemplateOutlet",at.emptyFilterTemplate||at.emptyTemplate)}}function yo(Jt,hn){if(1&Jt&&(d.ynx(0),d._uU(1),d.BQk()),2&Jt){const at=d.oxw(3);d.xp6(1),d.hij(" ",at.emptyMessageLabel," ")}}function Oo(Jt,hn){1&Jt&&d.GkF(0,null,42)}function oo(Jt,hn){if(1&Jt&&(d.TgZ(0,"li",40),d.YNc(1,yo,2,1,"ng-container",33),d.YNc(2,Oo,2,0,"ng-container",20),d.qZA()),2&Jt){const at=d.oxw(2);d.xp6(1),d.Q6J("ngIf",!at.emptyTemplate)("ngIfElse",at.empty),d.xp6(1),d.Q6J("ngTemplateOutlet",at.emptyTemplate)}}function ho(Jt,hn){1&Jt&&d.GkF(0)}const po=function(Jt,hn){return{showTransitionParams:Jt,hideTransitionParams:hn}},qs=function(Jt){return{value:"visible",params:Jt}},$i=function(Jt){return{"p-dropdown-virtualscroll":Jt}};function gs(Jt,hn){if(1&Jt){const at=d.EpF();d.TgZ(0,"div",19),d.NdJ("click",function(yn){return d.CHM(at),d.oxw().onOverlayClick(yn)})("@overlayAnimation.start",function(yn){return d.CHM(at),d.oxw().onOverlayAnimationStart(yn)})("@overlayAnimation.start",function(yn){return d.CHM(at),d.oxw().onOverlayAnimationEnd(yn)}),d.YNc(1,rn,1,0,"ng-container",20),d.YNc(2,gn,5,4,"div",21),d.TgZ(3,"div",22)(4,"ul",23),d.YNc(5,Br,2,1,"ng-container",13),d.YNc(6,Ai,2,5,"ng-container",13),d.YNc(7,Rs,3,2,"ng-template",null,24,d.W1O),d.YNc(9,Ds,3,3,"li",25),d.YNc(10,oo,3,3,"li",25),d.qZA()(),d.YNc(11,ho,1,0,"ng-container",20),d.qZA()}if(2&Jt){const at=d.oxw();d.Tol(at.panelStyleClass),d.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",d.VKq(19,qs,d.WLB(16,po,at.showTransitionOptions,at.hideTransitionOptions)))("ngStyle",at.panelStyle),d.xp6(1),d.Q6J("ngTemplateOutlet",at.headerTemplate),d.xp6(1),d.Q6J("ngIf",at.filter),d.xp6(1),d.Udp("max-height",at.virtualScroll?"auto":at.scrollHeight||"auto"),d.xp6(1),d.Q6J("ngClass",d.VKq(21,$i,at.virtualScroll)),d.uIk("id",at.listId),d.xp6(1),d.Q6J("ngIf",at.group),d.xp6(1),d.Q6J("ngIf",!at.group),d.xp6(3),d.Q6J("ngIf",at.filterValue&&at.isEmpty()),d.xp6(1),d.Q6J("ngIf",!at.filterValue&&at.isEmpty()),d.xp6(1),d.Q6J("ngTemplateOutlet",at.footerTemplate)}}const Ys=function(Jt,hn,at,Vt){return{"p-dropdown p-component":!0,"p-disabled":Jt,"p-dropdown-open":hn,"p-focus":at,"p-dropdown-clearable":Vt}},_o={provide:Hs.JU,useExisting:(0,d.Gpc)(()=>_r),multi:!0};let cn=(()=>{class Jt{constructor(){this.onClick=new d.vpe}onOptionClick(at){this.onClick.emit({originalEvent:at,option:this.option})}}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275cmp=d.Xpm({type:Jt,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(at,Vt){1&at&&(d.TgZ(0,"li",0),d.NdJ("click",function(rt){return Vt.onOptionClick(rt)}),d.YNc(1,Ts,2,1,"span",1),d.YNc(2,Li,1,0,"ng-container",2),d.qZA()),2&at&&(d.Q6J("ngStyle",d.VKq(8,ps,Vt.itemSize+"px"))("id",Vt.selected?"p-highlighted-option":"")("ngClass",d.WLB(10,ut,Vt.selected,Vt.disabled)),d.uIk("aria-label",Vt.label)("aria-selected",Vt.selected),d.xp6(1),d.Q6J("ngIf",!Vt.template),d.xp6(1),d.Q6J("ngTemplateOutlet",Vt.template)("ngTemplateOutletContext",d.VKq(13,Zn,Vt.option)))},directives:[Bi.H,we.PC,we.mk,we.O5,we.tP],encapsulation:2}),Jt})(),_r=(()=>{class Jt{constructor(at,Vt,yn,rt,Pt,tn,un){this.el=at,this.renderer=Vt,this.cd=yn,this.zone=rt,this.filterService=Pt,this.config=tn,this.overlayService=un,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new d.vpe,this.onFilter=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClick=new d.vpe,this.onShow=new d.vpe,this.onHide=new d.vpe,this.onClear=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,Hi.Th)()}get disabled(){return this._disabled}set disabled(at){at&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=at,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(at=>{switch(at.getType()){case"item":default:this.itemTemplate=at.template;break;case"selectedItem":this.selectedItemTemplate=at.template;break;case"header":this.headerTemplate=at.template;break;case"footer":this.footerTemplate=at.template;break;case"emptyfilter":this.emptyFilterTemplate=at.template;break;case"empty":this.emptyTemplate=at.template;break;case"group":this.groupTemplate=at.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(at){this._options=at,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(at){this._filterValue=at,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(hr.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(hr.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(at){return this.optionLabel?Hi.gb.resolveFieldData(at,this.optionLabel):null!=at.label?at.label:at}getOptionValue(at){return this.optionValue?Hi.gb.resolveFieldData(at,this.optionValue):this.optionLabel||void 0===at.value?at:at.value}isOptionDisabled(at){return this.optionDisabled?Hi.gb.resolveFieldData(at,this.optionDisabled):void 0!==at.disabled&&at.disabled}getOptionGroupLabel(at){return this.optionGroupLabel?Hi.gb.resolveFieldData(at,this.optionGroupLabel):null!=at.label?at.label:at}getOptionGroupChildren(at){return this.optionGroupChildren?Hi.gb.resolveFieldData(at,this.optionGroupChildren):at.items}onItemClick(at){const Vt=at.option;this.isOptionDisabled(Vt)||(this.selectItem(at.originalEvent,Vt),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(at,Vt){this.selectedOption!=Vt&&(this.selectedOption=Vt,this.value=this.getOptionValue(Vt),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:at,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let Vt=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(Vt.start>this.virtualScrollSelectedIndex||Vt.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Ii.p.findSingle(this.overlay,"li.p-highlight")&&Ii.p.scrollInView(this.itemsWrapper,Ii.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(at){this.filter&&this.resetFilter(),this.value=at,this.updateSelectedOption(at),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(at){this.selectedOption=this.findOption(at,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(at){this.onModelChange=at}registerOnTouched(at){this.onModelTouched=at}setDisabledState(at){this.disabled=at,this.cd.markForCheck()}onMouseclick(at){this.disabled||this.readonly||this.isInputClick(at)||(this.onClick.emit(at),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(at){this.overlayService.add({originalEvent:at,target:this.el.nativeElement})}isInputClick(at){return Ii.p.hasClass(at.target,"p-dropdown-clear-icon")||at.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&at.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(at){return!(this.el.nativeElement.isSameNode(at.target)||this.el.nativeElement.contains(at.target)||this.overlay&&this.overlay.contains(at.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(at){this.focused=!0,this.hide(),this.onFocus.emit(at)}onEditableInputChange(at){this.value=at.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(at){switch(at.toState){case"visible":if(this.overlay=at.element,this.itemsWrapper=Ii.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Hi.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let yn=Ii.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");yn&&yn.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(at);break;case"void":this.onOverlayHide(),this.onHide.emit(at)}}onOverlayAnimationEnd(at){"void"===at.toState&&Hi.P9.clear(at.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(at){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(at&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Ii.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Ii.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Ii.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Ii.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(at){this.focused=!0,this.onFocus.emit(at)}onInputBlur(at){this.focused=!1,this.onBlur.emit(at),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(at){let Vt;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let yn=at-1;0<=yn;yn--){let rt=this.optionsToDisplay[yn];if(!this.isOptionDisabled(rt)){Vt=rt;break}}if(!Vt)for(let yn=this.optionsToDisplay.length-1;yn>=at;yn--){let rt=this.optionsToDisplay[yn];if(!this.isOptionDisabled(rt)){Vt=rt;break}}}return Vt}findNextEnabledOption(at){let Vt;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let yn=at+1;yn<this.optionsToDisplay.length;yn++){let rt=this.optionsToDisplay[yn];if(!this.isOptionDisabled(rt)){Vt=rt;break}}if(!Vt)for(let yn=0;yn<at;yn++){let rt=this.optionsToDisplay[yn];if(!this.isOptionDisabled(rt)){Vt=rt;break}}}return Vt}onKeydown(at,Vt){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(at.which){case 40:if(!this.overlayVisible&&at.altKey)this.show();else if(this.group){let yn=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==yn){let rt=yn.itemIndex+1;rt<this.getOptionGroupChildren(this.optionsToDisplay[yn.groupIndex]).length?(this.selectItem(at,this.getOptionGroupChildren(this.optionsToDisplay[yn.groupIndex])[rt]),this.selectedOptionUpdated=!0):this.optionsToDisplay[yn.groupIndex+1]&&(this.selectItem(at,this.getOptionGroupChildren(this.optionsToDisplay[yn.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(at,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let yn=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,rt=this.findNextEnabledOption(yn);rt&&(this.selectItem(at,rt),this.selectedOptionUpdated=!0)}at.preventDefault();break;case 38:if(this.group){let yn=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==yn){let rt=yn.itemIndex-1;if(rt>=0)this.selectItem(at,this.getOptionGroupChildren(this.optionsToDisplay[yn.groupIndex])[rt]),this.selectedOptionUpdated=!0;else if(rt<0){let Pt=this.optionsToDisplay[yn.groupIndex-1];Pt&&(this.selectItem(at,this.getOptionGroupChildren(Pt)[this.getOptionGroupChildren(Pt).length-1]),this.selectedOptionUpdated=!0)}}}else{let yn=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,rt=this.findPrevEnabledOption(yn);rt&&(this.selectItem(at,rt),this.selectedOptionUpdated=!0)}at.preventDefault();break;case 32:Vt&&(this.overlayVisible?this.hide():this.show(),at.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),at.preventDefault();break;case 27:case 9:this.hide();break;default:Vt&&!at.metaKey&&this.search(at)}}search(at){this.searchTimeout&&clearTimeout(this.searchTimeout);const Vt=at.key;let yn;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=Vt,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+Vt:Vt,this.group){let rt=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};yn=this.searchOptionWithinGroup(rt)}else{let rt=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;yn=this.searchOption(++rt)}yn&&!this.isOptionDisabled(yn)&&(this.selectItem(at,yn),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(at){let Vt;return this.searchValue&&(Vt=this.searchOptionInRange(at,this.optionsToDisplay.length),Vt||(Vt=this.searchOptionInRange(0,at))),Vt}searchOptionInRange(at,Vt){for(let yn=at;yn<Vt;yn++){let rt=this.optionsToDisplay[yn];if(this.getOptionLabel(rt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(rt))return rt}return null}searchOptionWithinGroup(at){if(this.searchValue){for(let yn=at.groupIndex;yn<this.optionsToDisplay.length;yn++)for(let rt=at.groupIndex===yn?at.itemIndex+1:0;rt<this.getOptionGroupChildren(this.optionsToDisplay[yn]).length;rt++){let Pt=this.getOptionGroupChildren(this.optionsToDisplay[yn])[rt];if(this.getOptionLabel(Pt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Pt))return Pt}for(let yn=0;yn<=at.groupIndex;yn++)for(let rt=0;rt<(at.groupIndex===yn?at.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[yn]).length);rt++){let Pt=this.getOptionGroupChildren(this.optionsToDisplay[yn])[rt];if(this.getOptionLabel(Pt).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(Pt))return Pt}}return null}findOptionIndex(at,Vt){let yn=-1;if(Vt)for(let rt=0;rt<Vt.length;rt++)if(null==at&&null==this.getOptionValue(Vt[rt])||Hi.gb.equals(at,this.getOptionValue(Vt[rt]),this.dataKey)){yn=rt;break}return yn}findOptionGroupIndex(at,Vt){let yn,rt;if(Vt)for(let Pt=0;Pt<Vt.length&&(yn=Pt,rt=this.findOptionIndex(at,this.getOptionGroupChildren(Vt[Pt])),-1===rt);Pt++);return-1!==rt?{groupIndex:yn,itemIndex:rt}:-1}findOption(at,Vt,yn){if(this.group&&!yn){let rt;if(Vt&&Vt.length)for(let Pt of Vt)if(rt=this.findOption(at,this.getOptionGroupChildren(Pt),!0),rt)break;return rt}{let rt=this.findOptionIndex(at,Vt);return-1!=rt?Vt[rt]:null}}onFilterInputChange(at){let Vt=at.target.value;Vt&&Vt.length?(this._filterValue=Vt,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:at,filter:this._filterValue})}activateFilter(){let at=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let Vt=[];for(let yn of this.options){let rt=this.filterService.filter(this.getOptionGroupChildren(yn),at,this.filterValue,this.filterMatchMode,this.filterLocale);rt&&rt.length&&Vt.push(Object.assign(Object.assign({},yn),{[this.optionGroupChildren]:rt}))}this.optionsToDisplay=Vt}else this.optionsToDisplay=this.filterService.filter(this.options,at,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ii.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ii.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",Vt=>{!this.preventDocumentDefault&&this.isOutsideClicked(Vt)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Ii.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ii.V(this.containerViewChild.nativeElement,at=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(at){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:at,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(at)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Hi.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return Jt.\u0275fac=function(at){return new(at||Jt)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(hr.iZ),d.Y36(hr.b4),d.Y36(hr.F0))},Jt.\u0275cmp=d.Xpm({type:Jt,selectors:[["p-dropdown"]],contentQueries:function(at,Vt,yn){if(1&at&&d.Suo(yn,hr.jx,4),2&at){let rt;d.iGM(rt=d.CRH())&&(Vt.templates=rt)}},viewQuery:function(at,Vt){if(1&at&&(d.Gf(Pn,5),d.Gf(yr,5),d.Gf(Pr,5),d.Gf(kr,5),d.Gf(ni,5)),2&at){let yn;d.iGM(yn=d.CRH())&&(Vt.containerViewChild=yn.first),d.iGM(yn=d.CRH())&&(Vt.filterViewChild=yn.first),d.iGM(yn=d.CRH())&&(Vt.accessibleViewChild=yn.first),d.iGM(yn=d.CRH())&&(Vt.viewPort=yn.first),d.iGM(yn=d.CRH())&&(Vt.editableInputViewChild=yn.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(at,Vt){2&at&&d.ekj("p-inputwrapper-filled",Vt.filled)("p-inputwrapper-focus",Vt.focused||Vt.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[d._Bn([_o])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(at,Vt){1&at&&(d.TgZ(0,"div",0,1),d.NdJ("click",function(rt){return Vt.onMouseclick(rt)}),d.TgZ(2,"div",2)(3,"input",3,4),d.NdJ("focus",function(rt){return Vt.onInputFocus(rt)})("blur",function(rt){return Vt.onInputBlur(rt)})("keydown",function(rt){return Vt.onKeydown(rt,!0)}),d.qZA()(),d.YNc(5,li,3,13,"span",5),d.YNc(6,Un,2,4,"span",6),d.YNc(7,Qr,2,4,"input",7),d.YNc(8,cs,1,0,"i",8),d.TgZ(9,"div",9),d._UZ(10,"span",10),d.qZA(),d.YNc(11,gs,12,23,"div",11),d.qZA()),2&at&&(d.Tol(Vt.styleClass),d.Q6J("ngClass",d.l5B(20,Ys,Vt.disabled,Vt.overlayVisible,Vt.focused,Vt.showClear&&!Vt.disabled))("ngStyle",Vt.style),d.xp6(3),d.Q6J("disabled",Vt.disabled),d.uIk("id",Vt.inputId)("placeholder",Vt.placeholder)("aria-label",Vt.ariaLabel)("aria-expanded",!1)("aria-labelledby",Vt.ariaLabelledBy)("tabindex",Vt.tabindex)("autofocus",Vt.autofocus)("aria-activedescendant",Vt.overlayVisible?Vt.labelId:null),d.xp6(2),d.Q6J("ngIf",!Vt.editable&&null!=Vt.label),d.xp6(1),d.Q6J("ngIf",!Vt.editable&&null==Vt.label),d.xp6(1),d.Q6J("ngIf",Vt.editable),d.xp6(1),d.Q6J("ngIf",null!=Vt.value&&Vt.showClear&&!Vt.disabled),d.xp6(1),d.uIk("aria-expanded",Vt.overlayVisible),d.xp6(1),d.Q6J("ngClass",Vt.dropdownIcon),d.xp6(1),d.Q6J("ngIf",Vt.overlayVisible))},directives:[cn,kr,we.mk,we.PC,we.O5,gi.u,we.tP,we.sg,Ut,rs],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[(0,Ui.X$)("overlayAnimation",[(0,Ui.eR)(":enter",[(0,Ui.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Ui.jt)("{{showTransitionParams}}")]),(0,Ui.eR)(":leave",[(0,Ui.jt)("{{hideTransitionParams}}",(0,Ui.oB)({opacity:0}))])])]},changeDetection:0}),Jt})(),Er=(()=>{class Jt{}return Jt.\u0275fac=function(at){return new(at||Jt)},Jt.\u0275mod=d.oAB({type:Jt}),Jt.\u0275inj=d.cJS({imports:[[we.ez,hr.m8,fi,gi.z,Bi.T],hr.m8,fi]}),Jt})()},48850:(wt,Se,p)=>{"use strict";p.d(Se,{$:()=>F,E:()=>$});var d=p(5e3),v=p(69808),X=p(59783),G=p(41777),z=p(75730),Z=p(85921);const D=["mask"];function k(R,U){1&R&&d.GkF(0)}function N(R,U){if(1&R&&(d.ynx(0),d.YNc(1,k,1,0,"ng-container",7),d.BQk()),2&R){const A=d.oxw(2);d.xp6(1),d.Q6J("ngTemplateOutlet",A.indicatorTemplate)}}function B(R,U){1&R&&d._UZ(0,"i",8)}function Q(R,U){if(1&R){const A=d.EpF();d.TgZ(0,"div",4),d.NdJ("click",function(){return d.CHM(A),d.oxw().onImageClick()}),d.YNc(1,N,2,1,"ng-container",5),d.YNc(2,B,1,0,"ng-template",null,6,d.W1O),d.qZA()}if(2&R){const A=d.MAs(3),V=d.oxw();d.xp6(1),d.Q6J("ngIf",V.indicatorTemplate)("ngIfElse",A)}}const ne=function(R,U){return{showTransitionParams:R,hideTransitionParams:U}},te=function(R){return{value:"visible",params:R}};function ae(R,U){if(1&R){const A=d.EpF();d.TgZ(0,"div"),d.NdJ("@animation.start",function(J){return d.CHM(A),d.oxw(2).onAnimationStart(J)})("@animation.done",function(J){return d.CHM(A),d.oxw(2).onAnimationEnd(J)}),d.TgZ(1,"img",21),d.NdJ("click",function(){return d.CHM(A),d.oxw(2).onPreviewImageClick()}),d.qZA()()}if(2&R){const A=d.oxw(2);d.Q6J("@animation",d.VKq(6,te,d.WLB(3,ne,A.showTransitionOptions,A.hideTransitionOptions))),d.xp6(1),d.Q6J("ngStyle",A.imagePreviewStyle()),d.uIk("src",A.src,d.LSH)}}function re(R,U){if(1&R){const A=d.EpF();d.TgZ(0,"div",9,10),d.NdJ("click",function(){return d.CHM(A),d.oxw().onMaskClick()}),d.TgZ(2,"div",11)(3,"button",12),d.NdJ("click",function(){return d.CHM(A),d.oxw().rotateRight()}),d._UZ(4,"i",13),d.qZA(),d.TgZ(5,"button",12),d.NdJ("click",function(){return d.CHM(A),d.oxw().rotateLeft()}),d._UZ(6,"i",14),d.qZA(),d.TgZ(7,"button",15),d.NdJ("click",function(){return d.CHM(A),d.oxw().zoomOut()}),d._UZ(8,"i",16),d.qZA(),d.TgZ(9,"button",15),d.NdJ("click",function(){return d.CHM(A),d.oxw().zoomIn()}),d._UZ(10,"i",17),d.qZA(),d.TgZ(11,"button",18),d._UZ(12,"i",19),d.qZA()(),d.YNc(13,ae,2,8,"div",20),d.qZA()}if(2&R){const A=d.oxw();d.xp6(7),d.Q6J("disabled",A.zoomDisabled()),d.xp6(2),d.Q6J("disabled",A.zoomDisabled()),d.xp6(4),d.Q6J("ngIf",A.previewVisible)}}let $=(()=>{class R{constructor(A,V){this.config=A,this.cd=V,this.preview=!1,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new d.vpe,this.onHide=new d.vpe,this.maskVisible=!1,this.previewVisible=!1,this.rotate=0,this.scale=1,this.previewClick=!1}ngAfterContentInit(){this.templates.forEach(A=>{A.getType(),this.indicatorTemplate=A.template})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0)}onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+.1,this.previewClick=!0}zoomOut(){this.scale=this.scale-.1,this.previewClick=!0}zoomDisabled(){return this.scale<=.5||this.scale>=1.5}onAnimationStart(A){switch(A.toState){case"visible":this.container=A.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop();break;case"void":z.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(A){switch(A.toState){case"void":Z.P9.clear(this.container),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){Z.P9.set("modal",this.container,this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):z.p.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}}return R.\u0275fac=function(A){return new(A||R)(d.Y36(X.b4),d.Y36(d.sBO))},R.\u0275cmp=d.Xpm({type:R,selectors:[["p-image"]],contentQueries:function(A,V,J){if(1&A&&d.Suo(J,X.jx,4),2&A){let Y;d.iGM(Y=d.CRH())&&(V.templates=Y)}},viewQuery:function(A,V){if(1&A&&d.Gf(D,5),2&A){let J;d.iGM(J=d.CRH())&&(V.mask=J.first)}},hostAttrs:[1,"p-element"],inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",alt:"alt",width:"width",height:"height",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:13,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle"],["class","p-image-preview-indicator",3,"click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter",3,"click",4,"ngIf"],[1,"p-image-preview-indicator",3,"click"],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[1,"p-image-preview-icon","pi","pi-eye"],[1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click"],["mask",""],[1,"p-image-toolbar"],["type","button",1,"p-image-action","p-link",3,"click"],[1,"pi","pi-refresh"],[1,"pi","pi-undo"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],[1,"pi","pi-search-minus"],[1,"pi","pi-search-plus"],["type","button",1,"p-image-action","p-link"],[1,"pi","pi-times"],[4,"ngIf"],[1,"p-image-preview",3,"ngStyle","click"]],template:function(A,V){1&A&&(d.TgZ(0,"span",0),d._UZ(1,"img",1),d.YNc(2,Q,4,2,"div",2),d.YNc(3,re,14,3,"div",3),d.qZA()),2&A&&(d.Tol(V.styleClass),d.Q6J("ngClass",V.containerClass())("ngStyle",V.style),d.xp6(1),d.Tol(V.imageClass),d.Q6J("ngStyle",V.imageStyle),d.uIk("src",V.src,d.LSH)("alt",V.alt)("width",V.width)("height",V.height),d.xp6(1),d.Q6J("ngIf",V.preview),d.xp6(1),d.Q6J("ngIf",V.maskVisible))},directives:[v.mk,v.PC,v.O5,v.tP],styles:[".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon{font-size:1.5rem}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\n"],encapsulation:2,data:{animation:[(0,G.X$)("animation",[(0,G.eR)("void => visible",[(0,G.oB)({transform:"scale(0.7)",opacity:0}),(0,G.jt)("{{showTransitionParams}}")]),(0,G.eR)("visible => void",[(0,G.jt)("{{hideTransitionParams}}",(0,G.oB)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),R})(),F=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({imports:[[v.ez],X.m8]}),R})()},31424:(wt,Se,p)=>{"use strict";p.d(Se,{j:()=>z,o:()=>G});var d=p(5e3),v=p(69808),X=p(93075);let G=(()=>{class Z{constructor(k,N,B){this.el=k,this.ngModel=N,this.cd=B}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(k){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return Z.\u0275fac=function(k){return new(k||Z)(d.Y36(d.SBq),d.Y36(X.On,8),d.Y36(d.sBO))},Z.\u0275dir=d.lG2({type:Z,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(k,N){1&k&&d.NdJ("input",function(Q){return N.onInput(Q)}),2&k&&d.ekj("p-filled",N.filled)}}),Z})(),z=(()=>{class Z{}return Z.\u0275fac=function(k){return new(k||Z)},Z.\u0275mod=d.oAB({type:Z}),Z.\u0275inj=d.cJS({imports:[[v.ez]]}),Z})()},73407:(wt,Se,p)=>{"use strict";p.d(Se,{A:()=>z,g:()=>G});var d=p(5e3),v=p(69808),X=p(93075);let G=(()=>{class Z{constructor(k,N,B,Q){this.el=k,this.ngModel=N,this.control=B,this.cd=Q,this.onResize=new d.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(k){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(k){this.autoResize&&this.resize(k)}onBlur(k){this.autoResize&&this.resize(k)}resize(k){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(k||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return Z.\u0275fac=function(k){return new(k||Z)(d.Y36(d.SBq),d.Y36(X.On,8),d.Y36(X.a5,8),d.Y36(d.sBO))},Z.\u0275dir=d.lG2({type:Z,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(k,N){1&k&&d.NdJ("input",function(Q){return N.onInput(Q)})("focus",function(Q){return N.onFocus(Q)})("blur",function(Q){return N.onBlur(Q)}),2&k&&d.ekj("p-filled",N.filled)("p-inputtextarea-resizable",N.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),Z})(),z=(()=>{class Z{}return Z.\u0275fac=function(k){return new(k||Z)},Z.\u0275mod=d.oAB({type:Z}),Z.\u0275inj=d.cJS({imports:[[v.ez]]}),Z})()},49603:(wt,Se,p)=>{"use strict";p.d(Se,{EU:()=>Q,cc:()=>ne});var d=p(5e3),v=p(69808),X=p(93075);const G=["rb"],z=function(te,ae,re){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":te,"p-disabled":ae,"p-radiobutton-label-focus":re}};function Z(te,ae){if(1&te){const re=d.EpF();d.TgZ(0,"label",4),d.NdJ("click",function(F){return d.CHM(re),d.oxw().select(F)}),d._uU(1),d.qZA()}if(2&te){const re=d.oxw(),$=d.MAs(3);d.Tol(re.labelStyleClass),d.Q6J("ngClass",d.kEZ(5,z,$.checked,re.disabled,re.focused)),d.uIk("for",re.inputId),d.xp6(1),d.Oqu(re.label)}}const D=function(te,ae,re){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":te,"p-radiobutton-disabled":ae,"p-radiobutton-focused":re}},k=function(te,ae,re){return{"p-radiobutton-box":!0,"p-highlight":te,"p-disabled":ae,"p-focus":re}},N={provide:X.JU,useExisting:(0,d.Gpc)(()=>Q),multi:!0};let B=(()=>{class te{constructor(){this.accessors=[]}add(re,$){this.accessors.push([re,$])}remove(re){this.accessors=this.accessors.filter($=>$[1]!==re)}select(re){this.accessors.forEach($=>{this.isSameGroup($,re)&&$[1]!==re&&$[1].writeValue(re.value)})}isSameGroup(re,$){return!!re[0].control&&re[0].control.root===$.control.control.root&&re[1].name===$.name}}return te.\u0275fac=function(re){return new(re||te)},te.\u0275prov=d.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})(),Q=(()=>{class te{constructor(re,$,F){this.cd=re,this.injector=$,this.registry=F,this.onClick=new d.vpe,this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(X.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(re,$,F){re.preventDefault(),!this.disabled&&(this.select(re),F&&$.focus())}select(re){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(re))}writeValue(re){this.checked=re==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(re){this.onModelChange=re}registerOnTouched(re){this.onModelTouched=re}setDisabledState(re){this.disabled=re,this.cd.markForCheck()}onInputFocus(re){this.focused=!0,this.onFocus.emit(re)}onInputBlur(re){this.focused=!1,this.onModelTouched(),this.onBlur.emit(re)}onChange(re){this.select(re)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return te.\u0275fac=function(re){return new(re||te)(d.Y36(d.sBO),d.Y36(d.zs3),d.Y36(B))},te.\u0275cmp=d.Xpm({type:te,selectors:[["p-radioButton"]],viewQuery:function(re,$){if(1&re&&d.Gf(G,5),2&re){let F;d.iGM(F=d.CRH())&&($.inputViewChild=F.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[d._Bn([N])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(re,$){if(1&re){const F=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),d.NdJ("change",function(U){return $.onChange(U)})("focus",function(U){return $.onInputFocus(U)})("blur",function(U){return $.onInputBlur(U)}),d.qZA()(),d.TgZ(4,"div",4),d.NdJ("click",function(U){d.CHM(F);const A=d.MAs(3);return $.handleClick(U,A,!0)}),d._UZ(5,"span",5),d.qZA()(),d.YNc(6,Z,2,9,"label",6)}2&re&&(d.Tol($.styleClass),d.Q6J("ngStyle",$.style)("ngClass",d.kEZ(15,D,$.checked,$.disabled,$.focused)),d.xp6(2),d.Q6J("checked",$.checked)("disabled",$.disabled),d.uIk("id",$.inputId)("name",$.name)("value",$.value)("tabindex",$.tabindex)("aria-checked",$.checked)("aria-label",$.ariaLabel)("aria-labelledby",$.ariaLabelledBy),d.xp6(2),d.Q6J("ngClass",d.kEZ(19,k,$.checked,$.disabled,$.focused)),d.xp6(2),d.Q6J("ngIf",$.label))},directives:[v.PC,v.mk,v.O5],encapsulation:2,changeDetection:0}),te})(),ne=(()=>{class te{}return te.\u0275fac=function(re){return new(re||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({imports:[[v.ez]]}),te})()},25787:(wt,Se,p)=>{"use strict";p.d(Se,{H:()=>z,T:()=>Z});var d=p(5e3),v=p(69808),X=p(75730),G=p(59783);let z=(()=>{class D{constructor(N,B,Q){this.el=N,this.zone=B,this.config=Q}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(N){let B=this.getInk();if(!B||"none"===getComputedStyle(B,null).display)return;if(X.p.removeClass(B,"p-ink-active"),!X.p.getHeight(B)&&!X.p.getWidth(B)){let ae=Math.max(X.p.getOuterWidth(this.el.nativeElement),X.p.getOuterHeight(this.el.nativeElement));B.style.height=ae+"px",B.style.width=ae+"px"}let Q=X.p.getOffset(this.el.nativeElement),ne=N.pageX-Q.left+document.body.scrollTop-X.p.getWidth(B)/2,te=N.pageY-Q.top+document.body.scrollLeft-X.p.getHeight(B)/2;B.style.top=te+"px",B.style.left=ne+"px",X.p.addClass(B,"p-ink-active")}getInk(){for(let N=0;N<this.el.nativeElement.children.length;N++)if(-1!==this.el.nativeElement.children[N].className.indexOf("p-ink"))return this.el.nativeElement.children[N];return null}resetInk(){let N=this.getInk();N&&X.p.removeClass(N,"p-ink-active")}onAnimationEnd(N){X.p.removeClass(N.currentTarget,"p-ink-active")}create(){let N=document.createElement("span");N.className="p-ink",this.el.nativeElement.appendChild(N),this.animationListener=this.onAnimationEnd.bind(this),N.addEventListener("animationend",this.animationListener)}remove(){let N=this.getInk();N&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),N.removeEventListener("animationend",this.animationListener),X.p.removeElement(N))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return D.\u0275fac=function(N){return new(N||D)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(G.b4,8))},D.\u0275dir=d.lG2({type:D,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),D})(),Z=(()=>{class D{}return D.\u0275fac=function(N){return new(N||D)},D.\u0275mod=d.oAB({type:D}),D.\u0275inj=d.cJS({imports:[[v.ez]]}),D})()},79955:(wt,Se,p)=>{"use strict";p.d(Se,{a:()=>xe,l:()=>Ye});var d=p(5e3),v=p(69808),X=p(59783),G=p(40845),z=p(75730),Z=p(99902),D=p(25787),k=p(41777),N=p(85921),B=p(4119);const Q=["sublist"],ne=function(Ke){return{"p-hidden":Ke}};function te(Ke,Fe){if(1&Ke&&d._UZ(0,"li",5),2&Ke){const Ze=d.oxw().$implicit;d.Q6J("ngClass",d.VKq(1,ne,!1===Ze.visible))}}function ae(Ke,Fe){if(1&Ke&&d._UZ(0,"span",16),2&Ke){const Ze=d.oxw(3).$implicit;d.Q6J("ngClass",Ze.icon)("ngStyle",Ze.iconStyle)}}function re(Ke,Fe){if(1&Ke&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&Ke){const Ze=d.oxw(3).$implicit;d.xp6(1),d.Oqu(Ze.label)}}function $(Ke,Fe){if(1&Ke&&d._UZ(0,"span",18),2&Ke){const Ze=d.oxw(3).$implicit;d.Q6J("innerHTML",Ze.label,d.oJD)}}function F(Ke,Fe){1&Ke&&d._UZ(0,"span",19)}const R=function(Ke){return{"p-menuitem-link":!0,"p-disabled":Ke}};function U(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.TgZ(0,"a",11),d.NdJ("keydown",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemKeyDown(we,Be)})("click",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemClick(we,Be)})("mouseenter",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemMouseEnter(we,Be)}),d.YNc(1,ae,1,2,"span",12),d.YNc(2,re,2,1,"span",13),d.YNc(3,$,1,1,"ng-template",null,14,d.W1O),d.YNc(5,F,1,0,"span",15),d.qZA()}if(2&Ke){const Ze=d.MAs(4),ct=d.oxw(2).$implicit,we=d.oxw();d.Q6J("target",ct.target)("ngClass",d.VKq(13,R,ct.disabled)),d.uIk("href",ct.url,d.LSH)("data-automationid",ct.automationId)("title",ct.title)("id",ct.id)("tabindex",ct.disabled?null:"0")("aria-haspopup",null!=we.item.items)("aria-expanded",we.item===we.activeItem),d.xp6(1),d.Q6J("ngIf",ct.icon),d.xp6(1),d.Q6J("ngIf",!1!==ct.escape)("ngIfElse",Ze),d.xp6(3),d.Q6J("ngIf",ct.items)}}function A(Ke,Fe){if(1&Ke&&d._UZ(0,"span",16),2&Ke){const Ze=d.oxw(3).$implicit;d.Q6J("ngClass",Ze.icon)("ngStyle",Ze.iconStyle)}}function V(Ke,Fe){if(1&Ke&&(d.TgZ(0,"span",17),d._uU(1),d.qZA()),2&Ke){const Ze=d.oxw(3).$implicit;d.xp6(1),d.Oqu(Ze.label)}}function J(Ke,Fe){if(1&Ke&&d._UZ(0,"span",18),2&Ke){const Ze=d.oxw(3).$implicit;d.Q6J("innerHTML",Ze.label,d.oJD)}}function Y(Ke,Fe){1&Ke&&d._UZ(0,"span",19)}const oe=function(){return{exact:!1}};function se(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.TgZ(0,"a",20),d.NdJ("keydown",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemKeyDown(we,Be)})("click",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemClick(we,Be)})("mouseenter",function(we){d.CHM(Ze);const Be=d.oxw(2).$implicit;return d.oxw().onItemMouseEnter(we,Be)}),d.YNc(1,A,1,2,"span",12),d.YNc(2,V,2,1,"span",13),d.YNc(3,J,1,1,"ng-template",null,21,d.W1O),d.YNc(5,Y,1,0,"span",15),d.qZA()}if(2&Ke){const Ze=d.MAs(4),ct=d.oxw(2).$implicit;d.Q6J("routerLink",ct.routerLink)("queryParams",ct.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",ct.routerLinkActiveOptions||d.DdM(20,oe))("target",ct.target)("ngClass",d.VKq(21,R,ct.disabled))("fragment",ct.fragment)("queryParamsHandling",ct.queryParamsHandling)("preserveFragment",ct.preserveFragment)("skipLocationChange",ct.skipLocationChange)("replaceUrl",ct.replaceUrl)("state",ct.state),d.uIk("data-automationid",ct.automationId)("title",ct.title)("id",ct.id)("tabindex",ct.disabled?null:"0"),d.xp6(1),d.Q6J("ngIf",ct.icon),d.xp6(1),d.Q6J("ngIf",!1!==ct.escape)("ngIfElse",Ze),d.xp6(3),d.Q6J("ngIf",ct.items)}}function le(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.TgZ(0,"p-tieredMenuSub",22),d.NdJ("keydownItem",function(we){return d.CHM(Ze),d.oxw(3).onChildItemKeyDown(we)})("leafClick",function(){return d.CHM(Ze),d.oxw(3).onLeafClick()}),d.qZA()}if(2&Ke){const Ze=d.oxw(2).$implicit,ct=d.oxw();d.Q6J("parentActive",Ze===ct.activeItem)("item",Ze)("mobileActive",ct.mobileActive)("autoDisplay",ct.autoDisplay)("popup",ct.popup)}}const de=function(Ke,Fe){return{"p-menuitem":!0,"p-menuitem-active":Ke,"p-hidden":Fe}};function q(Ke,Fe){if(1&Ke&&(d.TgZ(0,"li",6,7),d.YNc(2,U,6,15,"a",8),d.YNc(3,se,6,23,"a",9),d.YNc(4,le,1,5,"p-tieredMenuSub",10),d.qZA()),2&Ke){const Ze=d.oxw().$implicit,ct=d.oxw();d.Tol(Ze.styleClass),d.Q6J("ngClass",d.WLB(8,de,Ze===ct.activeItem,!1===Ze.visible))("ngStyle",Ze.style)("tooltipOptions",Ze.tooltipOptions),d.xp6(2),d.Q6J("ngIf",!Ze.routerLink),d.xp6(1),d.Q6J("ngIf",Ze.routerLink),d.xp6(1),d.Q6J("ngIf",Ze.items)}}function ue(Ke,Fe){if(1&Ke&&(d.YNc(0,te,1,3,"li",3),d.YNc(1,q,5,11,"li",4)),2&Ke){const Ze=Fe.$implicit;d.Q6J("ngIf",Ze.separator),d.xp6(1),d.Q6J("ngIf",!Ze.separator)}}const ie=function(Ke){return{"p-submenu-list":Ke}},ye=function(Ke){return{"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":Ke}},pe=function(Ke,Fe){return{showTransitionParams:Ke,hideTransitionParams:Fe}},Ce=function(Ke){return{value:"visible",params:Ke}};function De(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.TgZ(0,"div",1),d.NdJ("click",function(we){return d.CHM(Ze),d.oxw().onOverlayClick(we)})("@overlayAnimation.start",function(we){return d.CHM(Ze),d.oxw().onOverlayAnimationStart(we)})("@overlayAnimation.done",function(we){return d.CHM(Ze),d.oxw().onOverlayAnimationEnd(we)}),d.TgZ(1,"p-tieredMenuSub",2),d.NdJ("leafClick",function(){return d.CHM(Ze),d.oxw().onLeafClick()}),d.qZA()()}if(2&Ke){const Ze=d.oxw();d.Tol(Ze.styleClass),d.Q6J("ngClass",d.VKq(12,ye,Ze.popup))("ngStyle",Ze.style)("@overlayAnimation",d.VKq(17,Ce,d.WLB(14,pe,Ze.showTransitionOptions,Ze.hideTransitionOptions)))("@.disabled",!0!==Ze.popup),d.xp6(1),d.Q6J("item",Ze.model)("parentActive",Ze.parentActive)("baseZIndex",Ze.baseZIndex)("autoZIndex",Ze.autoZIndex)("autoDisplay",Ze.autoDisplay)("popup",Ze.popup)}}let Me=(()=>{class Ke{constructor(Ze,ct,we){this.el=Ze,this.renderer=ct,this.cd=we,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new d.vpe,this.keydownItem=new d.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(Ze){this.root||(this._parentActive=Ze,Ze?this.positionSubmenu():this.activeItem=null)}onItemClick(Ze,ct){ct.disabled?Ze.preventDefault():(!ct.url&&!ct.routerLink&&Ze.preventDefault(),ct.command&&ct.command({originalEvent:Ze,item:ct}),ct.items&&(this.activeItem&&ct===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=ct,this.root&&this.bindDocumentClickListener())),ct.items||this.onLeafClick())}onItemMouseEnter(Ze,ct){ct.disabled||this.mobileActive?Ze.preventDefault():this.root?(this.activeItem||this.autoDisplay||this.popup)&&(this.activeItem=ct,this.bindDocumentClickListener()):(this.activeItem=ct,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}onItemKeyDown(Ze,ct){let we=Ze.currentTarget.parentElement;switch(Ze.key){case"ArrowDown":var Be=this.findNextItem(we);Be&&Be.children[0].focus(),Ze.preventDefault();break;case"ArrowUp":var Je=this.findPrevItem(we);Je&&Je.children[0].focus(),Ze.preventDefault();break;case"ArrowRight":ct.items&&(this.activeItem=ct,this.root&&this.bindDocumentClickListener(),setTimeout(()=>{we.children[1].children[0].children[0].children[0].focus()},50)),Ze.preventDefault()}this.keydownItem.emit({originalEvent:Ze,element:we})}positionSubmenu(){let Ze=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(Ze){const ct=Ze.parentElement.parentElement,we=z.p.getOffset(ct),Be=z.p.getViewport(),Je=Ze.offsetParent?Ze.offsetWidth:z.p.getHiddenElementOuterWidth(Ze),$e=z.p.getOuterWidth(ct.children[0]);parseInt(we.left,10)+$e+Je>Be.width-z.p.calculateScrollbarWidth()&&z.p.addClass(Ze,"p-submenu-list-flipped")}}findNextItem(Ze){let ct=Ze.nextElementSibling;return ct?z.p.hasClass(ct,"p-disabled")||!z.p.hasClass(ct,"p-menuitem")?this.findNextItem(ct):ct:null}findPrevItem(Ze){let ct=Ze.previousElementSibling;return ct?z.p.hasClass(ct,"p-disabled")||!z.p.hasClass(ct,"p-menuitem")?this.findPrevItem(ct):ct:null}onChildItemKeyDown(Ze){"ArrowLeft"===Ze.originalEvent.key&&(this.activeItem=null,this.root&&this.unbindDocumentClickListener(),Ze.element.parentElement.parentElement.parentElement.children[0].focus())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=Ze=>{this.el&&!this.el.nativeElement.contains(Ze.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},Ke.\u0275cmp=d.Xpm({type:Ke,selectors:[["p-tieredMenuSub"]],viewQuery:function(Ze,ct){if(1&Ze&&d.Gf(Q,5),2&Ze){let we;d.iGM(we=d.CRH())&&(ct.sublistViewChild=we.first)}},hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",popup:"popup",parentActive:"parentActive"},outputs:{leafClick:"leafClick",keydownItem:"keydownItem"},decls:3,vars:4,consts:[[3,"ngClass"],["sublist",""],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],["pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["pRipple","",3,"target","ngClass","keydown","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick",4,"ngIf"],["pRipple","",3,"target","ngClass","keydown","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi pi-angle-right",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi","pi-angle-right"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","keydown","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","popup","keydownItem","leafClick"]],template:function(Ze,ct){1&Ze&&(d.TgZ(0,"ul",0,1),d.YNc(2,ue,2,2,"ng-template",2),d.qZA()),2&Ze&&(d.Q6J("ngClass",d.VKq(2,ie,!ct.root)),d.xp6(2),d.Q6J("ngForOf",ct.root?ct.item:ct.item.items))},directives:[Ke,v.mk,v.sg,v.O5,B.u,v.PC,D.H,Z.yS,Z.Od],encapsulation:2}),Ke})(),ve=(()=>{class Ke{constructor(Ze,ct,we,Be,Je){this.el=Ze,this.renderer=ct,this.cd=we,this.config=Be,this.overlayService=Je,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}toggle(Ze){this.visible?this.hide():this.show(Ze),this.preventDocumentDefault=!0}show(Ze){this.target=Ze.currentTarget,this.relativeAlign=Ze.relativeAlign,this.visible=!0,this.parentActive=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayClick(Ze){this.popup&&this.overlayService.add({originalEvent:Ze,target:this.el.nativeElement}),this.preventDocumentDefault=!0}onOverlayAnimationStart(Ze){switch(Ze.toState){case"visible":this.popup&&(this.container=Ze.element,this.moveOnTop(),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide()}}alignOverlay(){this.relativeAlign?z.p.relativePosition(this.container,this.target):z.p.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(Ze){"void"===Ze.toState&&N.P9.clear(Ze.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):z.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&N.P9.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.parentActive=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}onLeafClick(){this.popup&&this.hide(),this.unbindDocumentClickListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{!this.preventDocumentDefault&&this.popup&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new z.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&N.P9.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(X.b4),d.Y36(X.F0))},Ke.\u0275cmp=d.Xpm({type:Ke,selectors:[["p-tieredMenu"]],hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["root","root",3,"item","parentActive","baseZIndex","autoZIndex","autoDisplay","popup","leafClick"]],template:function(Ze,ct){1&Ze&&d.YNc(0,De,2,19,"div",0),2&Ze&&d.Q6J("ngIf",!ct.popup||ct.visible)},directives:[Me,v.O5,v.mk,v.PC],styles:[".p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}\n"],encapsulation:2,data:{animation:[(0,k.X$)("overlayAnimation",[(0,k.eR)(":enter",[(0,k.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,k.jt)("{{showTransitionParams}}")]),(0,k.eR)(":leave",[(0,k.jt)("{{hideTransitionParams}}",(0,k.oB)({opacity:0}))])])]},changeDetection:0}),Ke})(),Le=(()=>{class Ke{}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)},Ke.\u0275mod=d.oAB({type:Ke}),Ke.\u0275inj=d.cJS({imports:[[v.ez,Z.Bz,D.T,B.z],Z.Bz,B.z]}),Ke})();const je=["container"],_e=["defaultbtn"],Re=["menu"];function nt(Ke,Fe){1&Ke&&d.GkF(0)}function pt(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.ynx(0),d.TgZ(1,"button",7),d.NdJ("click",function(we){return d.CHM(Ze),d.oxw().onDefaultButtonClick(we)}),d.YNc(2,nt,1,0,"ng-container",8),d.qZA(),d.BQk()}if(2&Ke){const Ze=d.oxw();d.xp6(1),d.Q6J("icon",Ze.icon)("iconPos",Ze.iconPos)("disabled",Ze.disabled),d.uIk("tabindex",Ze.tabindex),d.xp6(1),d.Q6J("ngTemplateOutlet",Ze.contentTemplate)}}function Ne(Ke,Fe){if(1&Ke){const Ze=d.EpF();d.TgZ(0,"button",9,10),d.NdJ("click",function(we){return d.CHM(Ze),d.oxw().onDefaultButtonClick(we)}),d.qZA()}if(2&Ke){const Ze=d.oxw();d.Q6J("icon",Ze.icon)("iconPos",Ze.iconPos)("label",Ze.label)("disabled",Ze.disabled),d.uIk("tabindex",Ze.tabindex)}}let xe=(()=>{class Ke{constructor(){this.iconPos="left",this.onClick=new d.vpe,this.onDropdownClick=new d.vpe,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}ngAfterContentInit(){this.templates.forEach(Ze=>{Ze.getType(),this.contentTemplate=Ze.template})}onDefaultButtonClick(Ze){this.onClick.emit(Ze)}onDropdownButtonClick(Ze){this.onDropdownClick.emit(Ze),this.menu.toggle({currentTarget:this.containerViewChild.nativeElement,relativeAlign:null==this.appendTo})}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)},Ke.\u0275cmp=d.Xpm({type:Ke,selectors:[["p-splitButton"]],contentQueries:function(Ze,ct,we){if(1&Ze&&d.Suo(we,X.jx,4),2&Ze){let Be;d.iGM(Be=d.CRH())&&(ct.templates=Be)}},viewQuery:function(Ze,ct){if(1&Ze&&(d.Gf(je,5),d.Gf(_e,5),d.Gf(Re,5)),2&Ze){let we;d.iGM(we=d.CRH())&&(ct.containerViewChild=we.first),d.iGM(we=d.CRH())&&(ct.buttonViewChild=we.first),d.iGM(we=d.CRH())&&(ct.menu=we.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",icon:"icon",iconPos:"iconPos",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:8,vars:16,consts:[[3,"ngClass","ngStyle"],["container",""],[4,"ngIf","ngIfElse"],["defaultButton",""],["type","button","pButton","","icon","pi pi-chevron-down",1,"p-splitbutton-menubutton",3,"disabled","click"],[3,"popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["menu",""],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","disabled","click"],[4,"ngTemplateOutlet"],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","label","disabled","click"],["defaultbtn",""]],template:function(Ze,ct){if(1&Ze&&(d.TgZ(0,"div",0,1),d.YNc(2,pt,3,5,"ng-container",2),d.YNc(3,Ne,2,5,"ng-template",null,3,d.W1O),d.TgZ(5,"button",4),d.NdJ("click",function(Be){return ct.onDropdownButtonClick(Be)}),d.qZA(),d._UZ(6,"p-tieredMenu",5,6),d.qZA()),2&Ze){const we=d.MAs(4);d.Tol(ct.styleClass),d.Q6J("ngClass","p-splitbutton p-component")("ngStyle",ct.style),d.xp6(2),d.Q6J("ngIf",ct.contentTemplate)("ngIfElse",we),d.xp6(3),d.Q6J("disabled",ct.disabled),d.uIk("aria-label",ct.expandAriaLabel),d.xp6(1),d.Akn(ct.menuStyle),d.Q6J("popup",!0)("model",ct.model)("styleClass",ct.menuStyleClass)("appendTo",ct.appendTo)("showTransitionOptions",ct.showTransitionOptions)("hideTransitionOptions",ct.hideTransitionOptions)}},directives:[ve,v.mk,v.PC,v.O5,G.Hq,v.tP],styles:[".p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}\n"],encapsulation:2,changeDetection:0}),Ke})(),Ye=(()=>{class Ke{}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)},Ke.\u0275mod=d.oAB({type:Ke}),Ke.\u0275inj=d.cJS({imports:[[v.ez,G.hJ,Le],G.hJ,Le]}),Ke})()},17773:(wt,Se,p)=>{"use strict";p.d(Se,{EV:()=>U,FN:()=>R});var d=p(5e3),v=p(69808),X=p(59783),G=p(85921),z=p(25787),Z=p(41777);const D=["container"],k=function(A,V,J,Y){return{"pi-info-circle":A,"pi-exclamation-triangle":V,"pi-times-circle":J,"pi-check":Y}};function N(A,V){if(1&A&&(d.ynx(0),d._UZ(1,"span",6),d.TgZ(2,"div",7)(3,"div",8),d._uU(4),d.qZA(),d.TgZ(5,"div",9),d._uU(6),d.qZA()(),d.BQk()),2&A){const J=d.oxw();d.xp6(1),d.Tol("p-toast-message-icon pi"+(J.message.icon?" "+J.message.icon:"")),d.Q6J("ngClass",d.l5B(5,k,"info"==J.message.severity,"warn"==J.message.severity,"error"==J.message.severity,"success"==J.message.severity)),d.xp6(3),d.Oqu(J.message.summary),d.xp6(2),d.Oqu(J.message.detail)}}function B(A,V){1&A&&d.GkF(0)}function Q(A,V){if(1&A){const J=d.EpF();d.TgZ(0,"button",10),d.NdJ("click",function(oe){return d.CHM(J),d.oxw().onCloseIconClick(oe)})("keydown.enter",function(oe){return d.CHM(J),d.oxw().onCloseIconClick(oe)}),d._UZ(1,"span",11),d.qZA()}}const ne=function(A){return[A,"p-toast-message"]},te=function(A,V,J,Y){return{showTransformParams:A,hideTransformParams:V,showTransitionParams:J,hideTransitionParams:Y}},ae=function(A){return{value:"visible",params:A}},re=function(A){return{$implicit:A}};function $(A,V){if(1&A){const J=d.EpF();d.TgZ(0,"p-toastItem",3),d.NdJ("onClose",function(oe){return d.CHM(J),d.oxw().onMessageClose(oe)})("@toastAnimation.start",function(oe){return d.CHM(J),d.oxw().onAnimationStart(oe)})("@toastAnimation.done",function(oe){return d.CHM(J),d.oxw().onAnimationEnd(oe)}),d.qZA()}if(2&A){const J=V.$implicit,Y=V.index,oe=d.oxw();d.Q6J("message",J)("index",Y)("template",oe.template)("@toastAnimation",void 0)("showTransformOptions",oe.showTransformOptions)("hideTransformOptions",oe.hideTransformOptions)("showTransitionOptions",oe.showTransitionOptions)("hideTransitionOptions",oe.hideTransitionOptions)}}let F=(()=>{class A{constructor(J){this.zone=J,this.onClose=new d.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(J){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),J.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return A.\u0275fac=function(J){return new(J||A)(d.Y36(d.R0b))},A.\u0275cmp=d.Xpm({type:A,selectors:[["p-toastItem"]],viewQuery:function(J,Y){if(1&J&&d.Gf(D,5),2&J){let oe;d.iGM(oe=d.CRH())&&(Y.containerViewChild=oe.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(J,Y){1&J&&(d.TgZ(0,"div",0,1),d.NdJ("mouseenter",function(){return Y.onMouseEnter()})("mouseleave",function(){return Y.onMouseLeave()}),d.TgZ(2,"div",2),d.YNc(3,N,7,10,"ng-container",3),d.YNc(4,B,1,0,"ng-container",4),d.YNc(5,Q,2,0,"button",5),d.qZA()()),2&J&&(d.Tol(Y.message.styleClass),d.Q6J("ngClass",d.VKq(10,ne,"p-toast-message-"+Y.message.severity))("@messageState",d.VKq(17,ae,d.l5B(12,te,Y.showTransformOptions,Y.hideTransformOptions,Y.showTransitionOptions,Y.hideTransitionOptions))),d.uIk("id",Y.message.id),d.xp6(2),d.Q6J("ngClass",Y.message.contentStyleClass),d.xp6(1),d.Q6J("ngIf",!Y.template),d.xp6(1),d.Q6J("ngTemplateOutlet",Y.template)("ngTemplateOutletContext",d.VKq(19,re,Y.message)),d.xp6(1),d.Q6J("ngIf",!1!==Y.message.closable))},directives:[v.mk,v.O5,v.tP,z.H],encapsulation:2,data:{animation:[(0,Z.X$)("messageState",[(0,Z.SB)("visible",(0,Z.oB)({transform:"translateY(0)",opacity:1})),(0,Z.eR)("void => *",[(0,Z.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,Z.jt)("{{showTransitionParams}}")]),(0,Z.eR)("* => void",[(0,Z.jt)("{{hideTransitionParams}}",(0,Z.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),A})(),R=(()=>{class A{constructor(J,Y,oe){this.messageService=J,this.cd=Y,this.config=oe,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new d.vpe,this.id=(0,G.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(J=>{if(J)if(J instanceof Array){const Y=J.filter(oe=>this.canAdd(oe));this.add(Y)}else this.canAdd(J)&&this.add([J])}),this.clearSubscription=this.messageService.clearObserver.subscribe(J=>{J?this.key===J&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(J){this.messages=this.messages?[...this.messages,...J]:[...J],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...J]:[...J]),this.cd.markForCheck()}canAdd(J){let Y=this.key===J.key;return Y&&this.preventOpenDuplicates&&(Y=!this.containsMessage(this.messages,J)),Y&&this.preventDuplicates&&(Y=!this.containsMessage(this.messagesArchieve,J)),Y}containsMessage(J,Y){return!!J&&null!=J.find(oe=>oe.summary===Y.summary&&oe.detail==Y.detail&&oe.severity===Y.severity)}ngAfterContentInit(){this.templates.forEach(J=>{J.getType(),this.template=J.template})}onMessageClose(J){this.messages.splice(J.index,1),this.onClose.emit({message:J.message}),this.cd.detectChanges()}onAnimationStart(J){"void"===J.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&G.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(J){"void"===J.toState&&this.autoZIndex&&G.gb.isEmpty(this.messages)&&G.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let J="";for(let Y in this.breakpoints){let oe="";for(let se in this.breakpoints[Y])oe+=se+":"+this.breakpoints[Y][se]+" !important;";J+=`\n                    @media screen and (max-width: ${Y}) {\n                        .p-toast[${this.id}] {\n                           ${oe}\n                        }\n                    }\n                `}this.styleElement.innerHTML=J}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&G.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return A.\u0275fac=function(J){return new(J||A)(d.Y36(X.ez),d.Y36(d.sBO),d.Y36(X.b4))},A.\u0275cmp=d.Xpm({type:A,selectors:[["p-toast"]],contentQueries:function(J,Y,oe){if(1&J&&d.Suo(oe,X.jx,4),2&J){let se;d.iGM(se=d.CRH())&&(Y.templates=se)}},viewQuery:function(J,Y){if(1&J&&d.Gf(D,5),2&J){let oe;d.iGM(oe=d.CRH())&&(Y.containerViewChild=oe.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(J,Y){1&J&&(d.TgZ(0,"div",0,1),d.YNc(2,$,1,8,"p-toastItem",2),d.qZA()),2&J&&(d.Tol(Y.styleClass),d.Q6J("ngClass","p-toast p-component p-toast-"+Y.position)("ngStyle",Y.style),d.xp6(2),d.Q6J("ngForOf",Y.messages))},directives:[F,v.mk,v.PC,v.sg],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,Z.X$)("toastAnimation",[(0,Z.eR)(":enter, :leave",[(0,Z.IO)("@*",(0,Z.pV)())])])]},changeDetection:0}),A})(),U=(()=>{class A{}return A.\u0275fac=function(J){return new(J||A)},A.\u0275mod=d.oAB({type:A}),A.\u0275inj=d.cJS({imports:[[v.ez,z.T],X.m8]}),A})()},4119:(wt,Se,p)=>{"use strict";p.d(Se,{u:()=>Z,z:()=>D});var d=p(5e3),v=p(69808),X=p(75730),G=p(85921),z=p(59783);let Z=(()=>{class k{constructor(B,Q,ne){this.el=B,this.zone=Q,this.config=ne,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(B){this._disabled=B,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let B=this.getTarget(this.el.nativeElement);B.addEventListener("focus",this.focusListener),B.addEventListener("blur",this.blurListener)}})}ngOnChanges(B){B.tooltipPosition&&this.setOption({tooltipPosition:B.tooltipPosition.currentValue}),B.tooltipEvent&&this.setOption({tooltipEvent:B.tooltipEvent.currentValue}),B.appendTo&&this.setOption({appendTo:B.appendTo.currentValue}),B.positionStyle&&this.setOption({positionStyle:B.positionStyle.currentValue}),B.tooltipStyleClass&&this.setOption({tooltipStyleClass:B.tooltipStyleClass.currentValue}),B.tooltipZIndex&&this.setOption({tooltipZIndex:B.tooltipZIndex.currentValue}),B.escape&&this.setOption({escape:B.escape.currentValue}),B.showDelay&&this.setOption({showDelay:B.showDelay.currentValue}),B.hideDelay&&this.setOption({hideDelay:B.hideDelay.currentValue}),B.life&&this.setOption({life:B.life.currentValue}),B.positionTop&&this.setOption({positionTop:B.positionTop.currentValue}),B.positionLeft&&this.setOption({positionLeft:B.positionLeft.currentValue}),B.disabled&&this.setOption({disabled:B.disabled.currentValue}),B.text&&(this.setOption({tooltipLabel:B.text.currentValue}),this.active&&(B.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),B.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),B.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(B){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(B){this.deactivate()}onFocus(B){this.activate()}onBlur(B){this.deactivate()}onClick(B){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let B=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},B)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let B=document.createElement("div");B.className="p-tooltip-arrow",this.container.appendChild(B),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?X.p.appendChild(this.container,this.el.nativeElement):X.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),X.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?G.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&G.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let B=this.el.nativeElement.getBoundingClientRect();return{left:B.left+X.p.getWindowScrollLeft(),top:B.top+X.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let B=this.getHostOffset(),Q=B.left+X.p.getOuterWidth(this.el.nativeElement),ne=B.top+(X.p.getOuterHeight(this.el.nativeElement)-X.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let B=this.getHostOffset(),Q=B.left-X.p.getOuterWidth(this.container),ne=B.top+(X.p.getOuterHeight(this.el.nativeElement)-X.p.getOuterHeight(this.container))/2;this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let B=this.getHostOffset(),Q=B.left+(X.p.getOuterWidth(this.el.nativeElement)-X.p.getOuterWidth(this.container))/2,ne=B.top-X.p.getOuterHeight(this.container);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let B=this.getHostOffset(),Q=B.left+(X.p.getOuterWidth(this.el.nativeElement)-X.p.getOuterWidth(this.container))/2,ne=B.top+X.p.getOuterHeight(this.el.nativeElement);this.container.style.left=Q+this.getOption("positionLeft")+"px",this.container.style.top=ne+this.getOption("positionTop")+"px"}setOption(B){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),B)}getOption(B){return this._tooltipOptions[B]}getTarget(B){return X.p.hasClass(B,"p-inputwrapper")?X.p.findSingle(B,"input"):B}preAlign(B){this.container.style.left="-999px",this.container.style.top="-999px";let Q="p-tooltip p-component p-tooltip-"+B;this.container.className=this.getOption("tooltipStyleClass")?Q+" "+this.getOption("tooltipStyleClass"):Q}isOutOfBounds(){let B=this.container.getBoundingClientRect(),Q=B.top,ne=B.left,te=X.p.getOuterWidth(this.container),ae=X.p.getOuterHeight(this.container),re=X.p.getViewport();return ne+te>re.width||ne<0||Q<0||Q+ae>re.height}onWindowResize(B){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new X.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let B=this.getTarget(this.el.nativeElement);B.removeEventListener("focus",this.focusListener),B.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):X.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&G.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return k.\u0275fac=function(B){return new(B||k)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(z.b4))},k.\u0275dir=d.lG2({type:k,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[d.TTD]}),k})(),D=(()=>{class k{}return k.\u0275fac=function(B){return new(B||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[[v.ez]]}),k})()},85921:(wt,Se,p)=>{"use strict";p.d(Se,{P9:()=>z,Th:()=>X,gb:()=>d});class d{static equals(D,k,N){return N?this.resolveFieldData(D,N)===this.resolveFieldData(k,N):this.equalsByValue(D,k)}static equalsByValue(D,k){if(D===k)return!0;if(D&&k&&"object"==typeof D&&"object"==typeof k){var Q,ne,te,N=Array.isArray(D),B=Array.isArray(k);if(N&&B){if((ne=D.length)!=k.length)return!1;for(Q=ne;0!=Q--;)if(!this.equalsByValue(D[Q],k[Q]))return!1;return!0}if(N!=B)return!1;var ae=D instanceof Date,re=k instanceof Date;if(ae!=re)return!1;if(ae&&re)return D.getTime()==k.getTime();var $=D instanceof RegExp,F=k instanceof RegExp;if($!=F)return!1;if($&&F)return D.toString()==k.toString();var R=Object.keys(D);if((ne=R.length)!==Object.keys(k).length)return!1;for(Q=ne;0!=Q--;)if(!Object.prototype.hasOwnProperty.call(k,R[Q]))return!1;for(Q=ne;0!=Q--;)if(!this.equalsByValue(D[te=R[Q]],k[te]))return!1;return!0}return D!=D&&k!=k}static resolveFieldData(D,k){if(D&&k){if(this.isFunction(k))return k(D);if(-1==k.indexOf("."))return D[k];{let N=k.split("."),B=D;for(let Q=0,ne=N.length;Q<ne;++Q){if(null==B)return null;B=B[N[Q]]}return B}}return null}static isFunction(D){return!!(D&&D.constructor&&D.call&&D.apply)}static reorderArray(D,k,N){D&&k!==N&&(N>=D.length&&(N%=D.length,k%=D.length),D.splice(N,0,D.splice(k,1)[0]))}static insertIntoOrderedArray(D,k,N,B){if(N.length>0){let Q=!1;for(let ne=0;ne<N.length;ne++)if(this.findIndexInList(N[ne],B)>k){N.splice(ne,0,D),Q=!0;break}Q||N.push(D)}else N.push(D)}static findIndexInList(D,k){let N=-1;if(k)for(let B=0;B<k.length;B++)if(k[B]==D){N=B;break}return N}static contains(D,k){if(null!=D&&k&&k.length)for(let N of k)if(this.equals(D,N))return!0;return!1}static removeAccents(D){return D&&D.search(/[\xC0-\xFF]/g)>-1&&(D=D.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),D}static isEmpty(D){return null==D||""===D||Array.isArray(D)&&0===D.length||!(D instanceof Date)&&"object"==typeof D&&0===Object.keys(D).length}static isNotEmpty(D){return!this.isEmpty(D)}}var v=0;function X(){return"pr_id_"+ ++v}var z=function G(){let Z=[];const B=Q=>Q&&parseInt(Q.style.zIndex,10)||0;return{get:B,set:(Q,ne,te)=>{ne&&(ne.style.zIndex=String(((Q,ne)=>{let te=Z.length>0?Z[Z.length-1]:{key:Q,value:ne},ae=te.value+(te.key===Q?0:ne)+1;return Z.push({key:Q,value:ae}),ae})(Q,te)))},clear:Q=>{Q&&((Q=>{Z=Z.filter(ne=>ne.value!==Q)})(B(Q)),Q.style.zIndex="")},getCurrent:()=>Z.length>0?Z[Z.length-1].value:0}}()},15861:(wt,Se,p)=>{"use strict";function d(X,G,z,Z,D,k,N){try{var B=X[k](N),Q=B.value}catch(ne){return void z(ne)}B.done?G(Q):Promise.resolve(Q).then(Z,D)}function v(X){return function(){var G=this,z=arguments;return new Promise(function(Z,D){var k=X.apply(G,z);function N(Q){d(k,Z,D,N,B,"next",Q)}function B(Q){d(k,Z,D,N,B,"throw",Q)}N(void 0)})}}p.d(Se,{Z:()=>v})}},wt=>{wt(wt.s=21607)}]);