"use strict";var J=Object.defineProperty,Y=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,V=(p,f,t)=>f in p?J(p,f,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[f]=t,F=(p,f)=>{for(var t in f||(f={}))H.call(f,t)&&V(p,t,f[t]);if(x)for(var t of x(f))X.call(f,t)&&V(p,t,f[t]);return p},$=(p,f)=>Y(p,Q(f));(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[7534,164,3705],{30164:(p,f,t)=>{t.d(f,{T:()=>g});var o=t(15861);const g={BingMapsLayer:(e=(0,o.Z)(function*(){return(yield t.e(2248).then(t.bind(t,72248))).default}),function(){return e.apply(this,arguments)}),BuildingSceneLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(9319)]).then(t.bind(t,19319))).default});return function(){return e.apply(this,arguments)}}(),CSVLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(5625).then(t.bind(t,85625))).default});return function(){return e.apply(this,arguments)}}(),ElevationLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5227)]).then(t.bind(t,25227))).default});return function(){return e.apply(this,arguments)}}(),FeatureLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,32258))).default});return function(){return e.apply(this,arguments)}}(),GroupLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(5964).then(t.bind(t,25964))).default});return function(){return e.apply(this,arguments)}}(),GeoRSSLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6306).then(t.bind(t,96306))).default});return function(){return e.apply(this,arguments)}}(),GeoJSONLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(2903).then(t.bind(t,72903))).default});return function(){return e.apply(this,arguments)}}(),ImageryLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(6926),t.e(581),t.e(3016),t.e(9602)]).then(t.bind(t,49602))).default});return function(){return e.apply(this,arguments)}}(),ImageryTileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(6926),t.e(8594),t.e(581),t.e(3016),t.e(8592),t.e(3490)]).then(t.bind(t,23490))).default});return function(){return e.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(1370)]).then(t.bind(t,31370))).default});return function(){return e.apply(this,arguments)}}(),KMLLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(8411)]).then(t.bind(t,38411))).default});return function(){return e.apply(this,arguments)}}(),LineOfSightLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(7333)]).then(t.bind(t,4421))).default});return function(){return e.apply(this,arguments)}}(),MapImageLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8592),t.e(7948)]).then(t.bind(t,48887))).default});return function(){return e.apply(this,arguments)}}(),MapNotesLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(9114)]).then(t.bind(t,49114))).default});return function(){return e.apply(this,arguments)}}(),OGCFeatureLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(9628),t.e(2955)]).then(t.bind(t,36554))).default});return function(){return e.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(1591).then(t.bind(t,71591))).default});return function(){return e.apply(this,arguments)}}(),PointCloudLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(7155)]).then(t.bind(t,7155))).default});return function(){return e.apply(this,arguments)}}(),RouteLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(403),t.e(1740)]).then(t.bind(t,21740))).default});return function(){return e.apply(this,arguments)}}(),SceneLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(7559)]).then(t.bind(t,27559))).default});return function(){return e.apply(this,arguments)}}(),StreamLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(289).then(t.bind(t,70289))).default});return function(){return e.apply(this,arguments)}}(),TileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8592),t.e(9735)]).then(t.bind(t,59735))).default});return function(){return e.apply(this,arguments)}}(),UnknownLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6339).then(t.bind(t,56339))).default});return function(){return e.apply(this,arguments)}}(),UnsupportedLayer:function(){var e=(0,o.Z)(function*(){return(yield t.e(6240).then(t.bind(t,16240))).default});return function(){return e.apply(this,arguments)}}(),VectorTileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8364),t.e(8592),t.e(4895)]).then(t.bind(t,14836))).default});return function(){return e.apply(this,arguments)}}(),VoxelLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8115)]).then(t.bind(t,68115))).default});return function(){return e.apply(this,arguments)}}(),WebTileLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,28678))).default});return function(){return e.apply(this,arguments)}}(),WFSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(3774),t.e(8762)]).then(t.bind(t,98762))).default});return function(){return e.apply(this,arguments)}}(),WMSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(6894)]).then(t.bind(t,46894))).default});return function(){return e.apply(this,arguments)}}(),WMTSLayer:function(){var e=(0,o.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(4223)]).then(t.bind(t,64223))).default});return function(){return e.apply(this,arguments)}}()};var e},88755:(p,f,t)=>{t.d(f,{Y:()=>u,h:()=>e});var o=t(21726),g=t(84687);function e(m){return{origin:"portal-item",url:(0,o.mN)(m.itemUrl),portal:m.portal||g.Z.getDefault(),portalItem:m,readResourcePaths:[]}}function u(m){return{origin:"portal-item",messages:[],writtenProperties:[],url:m.itemUrl?(0,o.mN)(m.itemUrl):null,portal:m.portal||g.Z.getDefault(),portalItem:m}}},83705:(p,f,t)=>{t.r(f),t.d(f,{getFirstLayerOrTableId:()=>R,getNumLayersAndTables:()=>j,load:()=>D,preprocessFSItemData:()=>Z});var o=t(15861),g=t(26584),e=t(30164),u=t(84687),m=t(88755),I=t(39683),v=t(45205);function D(r,i){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(function*(r,i){const a=r.instance.portalItem;if(a&&a.id)return yield a.load(i),O(r),T(r,i)})).apply(this,arguments)}function O(r){const i=r.instance.portalItem;if(!r.supportedTypes.includes(i.type))throw new g.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:i.type,expectedType:r.supportedTypes.join(", ")})}function T(r,i){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(function*(r,i){const a=r.instance,y=a.portalItem,{url:l,title:n}=y,s=(0,m.h)(y);if("group"===a.type)return a.read({title:n},s),h(a,r);l&&a.read({url:l},s);const c=yield W(r,i);return c&&a.read(c,s),a.resourceReferences={portalItem:y,paths:s.readResourcePaths},a.read({title:n},s),(0,I.y)(a,s)})).apply(this,arguments)}function h(r,i){let a;const y=r.portalItem.type;switch(y){case"Feature Service":case"Feature Collection":a=e.T.FeatureLayer;break;case"Stream Service":a=e.T.StreamLayer;break;case"Scene Service":a=e.T.SceneLayer;break;default:throw new g.Z("portal:unsupported-item-type-as-group",`The item type '${y}' is not supported as a 'IGroupLayer'`)}let l;return a().then(n=>(l=n,W(i))).then(function(){var n=(0,o.Z)(function*(s){return"Feature Service"===y?(s=yield Z(s,r.portalItem.url),d(r,l,s)):j(s)>0?d(r,l,s):function L(r,i){return r.portalItem.url?(0,v.b)(r.portalItem.url).then(a=>{var l,n;function y(s){return{id:s.id,name:s.name}}a&&d(r,i,{layers:null==(l=a.layers)?void 0:l.map(y),tables:null==(n=a.tables)?void 0:n.map(y)})}):Promise.resolve()}(r,l)});return function(s){return n.apply(this,arguments)}}())}function d(r,i,a){let y=a.layers||[];const l=a.tables||[];"Feature Collection"===r.portalItem.type&&(y.forEach(n=>{var s;"Table"===(null==(s=null==n?void 0:n.layerDefinition)?void 0:s.type)&&l.push(n)}),y=y.filter(n=>{var s;return"Table"!==(null==(s=null==n?void 0:n.layerDefinition)?void 0:s.type)})),y.reverse().forEach(n=>{const s=P(r,i,a,n);r.add(s)}),l.reverse().forEach(n=>{const s=P(r,i,a,n);r.tables.add(s)})}function P(r,i,a,y){const l=new i({portalItem:r.portalItem.clone(),layerId:y.id,sublayerTitleMode:"service-name"});if("Feature Collection"===r.portalItem.type){const n={origin:"portal-item",portal:r.portalItem.portal||u.Z.getDefault()};l.read(y,n);const s=a.showLegend;null!=s&&l.read({showLegend:s},n)}return l}function W(r,i){if(!1===r.supportsData)return Promise.resolve(void 0);const a=r.instance;return a.portalItem.fetchData("json",i).catch(()=>null).then(function(){var y=(0,o.Z)(function*(l){if(function B(r){return"stream"!==r.type&&"layerId"in r}(a)){let n,s=!0;return l&&j(l)>0&&(null==a.layerId&&(a.layerId=R(l)),n=function U(r,i){const a=r.layers;if(a)for(let l=0;l<a.length;l++)if(a[l].id===i)return a[l];const y=r.tables;if(y)for(let l=0;l<y.length;l++)if(y[l].id===i)return y[l];return null}(l,a.layerId),n&&(1===j(l)&&(s=!1),null!=l.showLegend&&(n.showLegend=l.showLegend))),s&&"service-name"!==a.sublayerTitleMode&&(a.sublayerTitleMode="item-title-and-service-name"),n}return l});return function(l){return y.apply(this,arguments)}}())}function Z(r,i){return A.apply(this,arguments)}function A(){return(A=(0,o.Z)(function*(r,i){if(null==(null==r?void 0:r.layers)||null==(null==r?void 0:r.tables)){const a=yield(0,v.b)(i);(r=r||{}).layers=r.layers||(null==a?void 0:a.layers),r.tables=r.tables||(null==a?void 0:a.tables)}return r})).apply(this,arguments)}function R(r){const i=r.layers;if(i&&i.length)return i[0].id;const a=r.tables;return a&&a.length?a[0].id:null}function j(r){var i,a,y,l;return(null!=(a=null==(i=null==r?void 0:r.layers)?void 0:i.length)?a:0)+(null!=(l=null==(y=null==r?void 0:r.tables)?void 0:y.length)?l:0)}},37281:(p,f,t)=>{t.d(f,{$o:()=>O,Kz:()=>C,_$:()=>D,ck:()=>S,qj:()=>v});var o=t(15861),g=t(55915),e=t(65234),u=t(46367);function m(h){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(function*(h){const L=h.spatialReference;if(L.isWGS84)return h.clone();if(L.isWebMercator)return(0,u.Sx)(h);const d=e.Z.WGS84;return yield(0,g.iQ)(L,d),(0,g.iV)(h,d)})).apply(this,arguments)}function v(h,L){if(!D(h,L)){const d=h.typeKeywords;d?d.push(L):h.typeKeywords=[L]}}function D(h,L){var d;return!!(null==(d=h.typeKeywords)?void 0:d.includes(L))}function S(h,L){const d=h.typeKeywords;if(d){const P=d.indexOf(L);P>-1&&d.splice(P,1)}}function O(h){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)(function*(h){const L=h.clone().normalize();let d;if(L.length>1)for(const P of L)d?P.width>d.width&&(d=P):d=P;else d=L[0];return m(d)})).apply(this,arguments)}const C={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}},7534:(p,f,t)=>{t.r(f),t.d(f,{fromItem:()=>D,selectLayerClassPath:()=>O});var o=t(15861),g=t(26584),e=t(30164),u=t(55463),m=t(83705),I=t(37281),v=t(45205);function D(n){return!n.portalItem||n.portalItem instanceof u.default||(n=$(F({},n),{portalItem:new u.default(n.portalItem)})),function S(n){return n.load().then(O).then(T)}(n.portalItem).then(s=>{const c=F({portalItem:n.portalItem},s.properties);return new s.constructor(c)})}function O(n){switch(n.type){case"Map Service":return function C(n){return function a(n){return(0,v.b)(n.url).then(s=>s.tileInfo)}(n).then(s=>s?{className:"TileLayer"}:{className:"MapImageLayer"})}(n);case"Feature Service":return function h(n){return y(n).then(s=>{if("object"==typeof s){const c={};return null!=s.id&&(c.layerId=s.id),{className:"FeatureLayer",properties:c}}return{className:"GroupLayer"}})}(n);case"Feature Collection":return function d(n){return P.apply(this,arguments)}(n);case"Scene Service":return function L(n){return y(n).then(s=>{if("object"==typeof s){const c={};let K;if(null!=s.id?(c.layerId=s.id,K=`${n.url}/layers/${s.id}`):K=n.url,Array.isArray(n.typeKeywords)&&n.typeKeywords.length>0){const M={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const E of Object.keys(M))if(n.typeKeywords.includes(E))return{className:M[E]}}return(0,v.b)(K).then(M=>{let E="SceneLayer";const N={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return M&&M.layerType&&N[M.layerType]&&(E=N[M.layerType]),{className:E,properties:c}})}return!1===s?(0,v.b)(n.url).then(c=>"Voxel"===(null==c?void 0:c.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"}):{className:"GroupLayer"}})}(n);case"Image Service":return function W(n){return Z.apply(this,arguments)}(n);case"Stream Service":case"Feed":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WFS":return{className:"WFSLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new g.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:n.type}))}}function T(n){return(0,e.T[n.className])().then(s=>({constructor:s,properties:n.properties}))}function P(){return(P=(0,o.Z)(function*(n){if(yield n.load(),(0,I._$)(n,"Map Notes"))return{className:"MapNotesLayer"};if((0,I._$)(n,"Route Layer"))return{className:"RouteLayer"};const s=yield n.fetchData();return 1===(0,m.getNumLayersAndTables)(s)?{className:"FeatureLayer"}:{className:"GroupLayer"}})).apply(this,arguments)}function Z(){return(Z=(0,o.Z)(function*(n){var M,E,N,G;yield n.load();const s=null!=(E=null==(M=n.typeKeywords)?void 0:M.map(z=>z.toLowerCase()))?E:[];if(s.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(s.includes("tiled imagery"))return{className:"ImageryTileLayer"};const c=null==(N=yield n.fetchData())?void 0:N.layerType;return"ArcGISTiledImageServiceLayer"===c?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===c?{className:"ImageryLayer"}:"map"===(null==(G=(yield(0,v.b)(n.url)).cacheType)?void 0:G.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}})).apply(this,arguments)}function y(n){return!n.url||n.url.match(/\/\d+$/)?Promise.resolve({}):n.load().then(()=>n.fetchData()).then(function(){var s=(0,o.Z)(function*(c){return"Feature Service"===n.type?l(c=yield(0,m.preprocessFSItemData)(c,n.url)):(0,m.getNumLayersAndTables)(c)>0?l(c):(0,v.b)(n.url).then(l)});return function(c){return s.apply(this,arguments)}}())}function l(n){return 1===(0,m.getNumLayersAndTables)(n)&&{id:(0,m.getFirstLayerOrTableId)(n)}}},45205:(p,f,t)=>{t.d(f,{b:()=>e});var o=t(15861),g=t(84792);function e(m){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(function*(m){const{data:I}=yield(0,g.default)(m,{responseType:"json",query:{f:"json"}});return I})).apply(this,arguments)}}}]);