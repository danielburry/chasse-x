"use strict";(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[3705,164],{30164:(L,m,t)=>{t.d(m,{T:()=>d});var l=t(15861);const d={BingMapsLayer:(n=(0,l.Z)(function*(){return(yield t.e(2248).then(t.bind(t,72248))).default}),function(){return n.apply(this,arguments)}),BuildingSceneLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(9319)]).then(t.bind(t,19319))).default});return function(){return n.apply(this,arguments)}}(),CSVLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(5625).then(t.bind(t,85625))).default});return function(){return n.apply(this,arguments)}}(),ElevationLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(5227)]).then(t.bind(t,25227))).default});return function(){return n.apply(this,arguments)}}(),FeatureLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,32258))).default});return function(){return n.apply(this,arguments)}}(),GroupLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(5964).then(t.bind(t,25964))).default});return function(){return n.apply(this,arguments)}}(),GeoRSSLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(6306).then(t.bind(t,96306))).default});return function(){return n.apply(this,arguments)}}(),GeoJSONLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(2903).then(t.bind(t,72903))).default});return function(){return n.apply(this,arguments)}}(),ImageryLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(6926),t.e(581),t.e(3016),t.e(9602)]).then(t.bind(t,49602))).default});return function(){return n.apply(this,arguments)}}(),ImageryTileLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(7692),t.e(6926),t.e(8594),t.e(581),t.e(3016),t.e(8592),t.e(3490)]).then(t.bind(t,23490))).default});return function(){return n.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(1370)]).then(t.bind(t,31370))).default});return function(){return n.apply(this,arguments)}}(),KMLLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(8411)]).then(t.bind(t,38411))).default});return function(){return n.apply(this,arguments)}}(),LineOfSightLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(7333)]).then(t.bind(t,4421))).default});return function(){return n.apply(this,arguments)}}(),MapImageLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8592),t.e(7948)]).then(t.bind(t,48887))).default});return function(){return n.apply(this,arguments)}}(),MapNotesLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(9114)]).then(t.bind(t,49114))).default});return function(){return n.apply(this,arguments)}}(),OGCFeatureLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(9628),t.e(2955)]).then(t.bind(t,36554))).default});return function(){return n.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(1591).then(t.bind(t,71591))).default});return function(){return n.apply(this,arguments)}}(),PointCloudLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(7155)]).then(t.bind(t,7155))).default});return function(){return n.apply(this,arguments)}}(),RouteLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(403),t.e(1740)]).then(t.bind(t,21740))).default});return function(){return n.apply(this,arguments)}}(),SceneLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8592),t.e(7559)]).then(t.bind(t,27559))).default});return function(){return n.apply(this,arguments)}}(),StreamLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(289).then(t.bind(t,70289))).default});return function(){return n.apply(this,arguments)}}(),TileLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(3130),t.e(8592),t.e(9735)]).then(t.bind(t,59735))).default});return function(){return n.apply(this,arguments)}}(),UnknownLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(6339).then(t.bind(t,56339))).default});return function(){return n.apply(this,arguments)}}(),UnsupportedLayer:function(){var n=(0,l.Z)(function*(){return(yield t.e(6240).then(t.bind(t,16240))).default});return function(){return n.apply(this,arguments)}}(),VectorTileLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8364),t.e(8592),t.e(4895)]).then(t.bind(t,14836))).default});return function(){return n.apply(this,arguments)}}(),VoxelLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(157),t.e(8115)]).then(t.bind(t,68115))).default});return function(){return n.apply(this,arguments)}}(),WebTileLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.resolve().then(t.bind(t,28678))).default});return function(){return n.apply(this,arguments)}}(),WFSLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(3774),t.e(8762)]).then(t.bind(t,98762))).default});return function(){return n.apply(this,arguments)}}(),WMSLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(6894)]).then(t.bind(t,46894))).default});return function(){return n.apply(this,arguments)}}(),WMTSLayer:function(){var n=(0,l.Z)(function*(){return(yield Promise.all([t.e(8592),t.e(4223)]).then(t.bind(t,64223))).default});return function(){return n.apply(this,arguments)}}()};var n},88755:(L,m,t)=>{t.d(m,{Y:()=>a,h:()=>n});var l=t(21726),d=t(84687);function n(y){return{origin:"portal-item",url:(0,l.mN)(y.itemUrl),portal:y.portal||d.Z.getDefault(),portalItem:y,readResourcePaths:[]}}function a(y){return{origin:"portal-item",messages:[],writtenProperties:[],url:y.itemUrl?(0,l.mN)(y.itemUrl):null,portal:y.portal||d.Z.getDefault(),portalItem:y}}},83705:(L,m,t)=>{t.r(m),t.d(m,{getFirstLayerOrTableId:()=>Z,getNumLayersAndTables:()=>h,load:()=>C,preprocessFSItemData:()=>T});var l=t(15861),d=t(26584),n=t(30164),a=t(84687),y=t(88755),c=t(39683),I=t(45205);function C(r,s){return g.apply(this,arguments)}function g(){return(g=(0,l.Z)(function*(r,s){const e=r.instance.portalItem;if(e&&e.id)return yield e.load(s),O(r),D(r,s)})).apply(this,arguments)}function O(r){const s=r.instance.portalItem;if(!r.supportedTypes.includes(s.type))throw new d.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:s.type,expectedType:r.supportedTypes.join(", ")})}function D(r,s){return P.apply(this,arguments)}function P(){return(P=(0,l.Z)(function*(r,s){const e=r.instance,f=e.portalItem,{url:o,title:i}=f,u=(0,y.h)(f);if("group"===e.type)return e.read({title:i},u),U(e,r);o&&e.read({url:o},u);const S=yield E(r,s);return S&&e.read(S,u),e.resourceReferences={portalItem:f,paths:u.readResourcePaths},e.read({title:i},u),(0,c.y)(e,u)})).apply(this,arguments)}function U(r,s){let e;const f=r.portalItem.type;switch(f){case"Feature Service":case"Feature Collection":e=n.T.FeatureLayer;break;case"Stream Service":e=n.T.StreamLayer;break;case"Scene Service":e=n.T.SceneLayer;break;default:throw new d.Z("portal:unsupported-item-type-as-group",`The item type '${f}' is not supported as a 'IGroupLayer'`)}let o;return e().then(i=>(o=i,E(s))).then(function(){var i=(0,l.Z)(function*(u){return"Feature Service"===f?(u=yield T(u,r.portalItem.url),v(r,o,u)):h(u)>0?v(r,o,u):function j(r,s){return r.portalItem.url?(0,I.b)(r.portalItem.url).then(e=>{var o,i;function f(u){return{id:u.id,name:u.name}}e&&v(r,s,{layers:null==(o=e.layers)?void 0:o.map(f),tables:null==(i=e.tables)?void 0:i.map(f)})}):Promise.resolve()}(r,o)});return function(u){return i.apply(this,arguments)}}())}function v(r,s,e){let f=e.layers||[];const o=e.tables||[];"Feature Collection"===r.portalItem.type&&(f.forEach(i=>{var u;"Table"===(null==(u=null==i?void 0:i.layerDefinition)?void 0:u.type)&&o.push(i)}),f=f.filter(i=>{var u;return"Table"!==(null==(u=null==i?void 0:i.layerDefinition)?void 0:u.type)})),f.reverse().forEach(i=>{const u=M(r,s,e,i);r.add(u)}),o.reverse().forEach(i=>{const u=M(r,s,e,i);r.tables.add(u)})}function M(r,s,e,f){const o=new s({portalItem:r.portalItem.clone(),layerId:f.id,sublayerTitleMode:"service-name"});if("Feature Collection"===r.portalItem.type){const i={origin:"portal-item",portal:r.portalItem.portal||a.Z.getDefault()};o.read(f,i);const u=e.showLegend;null!=u&&o.read({showLegend:u},i)}return o}function E(r,s){if(!1===r.supportsData)return Promise.resolve(void 0);const e=r.instance;return e.portalItem.fetchData("json",s).catch(()=>null).then(function(){var f=(0,l.Z)(function*(o){if(function R(r){return"stream"!==r.type&&"layerId"in r}(e)){let i,u=!0;return o&&h(o)>0&&(null==e.layerId&&(e.layerId=Z(o)),i=function W(r,s){const e=r.layers;if(e)for(let o=0;o<e.length;o++)if(e[o].id===s)return e[o];const f=r.tables;if(f)for(let o=0;o<f.length;o++)if(f[o].id===s)return f[o];return null}(o,e.layerId),i&&(1===h(o)&&(u=!1),null!=o.showLegend&&(i.showLegend=o.showLegend))),u&&"service-name"!==e.sublayerTitleMode&&(e.sublayerTitleMode="item-title-and-service-name"),i}return o});return function(o){return f.apply(this,arguments)}}())}function T(r,s){return p.apply(this,arguments)}function p(){return(p=(0,l.Z)(function*(r,s){if(null==(null==r?void 0:r.layers)||null==(null==r?void 0:r.tables)){const e=yield(0,I.b)(s);(r=r||{}).layers=r.layers||(null==e?void 0:e.layers),r.tables=r.tables||(null==e?void 0:e.tables)}return r})).apply(this,arguments)}function Z(r){const s=r.layers;if(s&&s.length)return s[0].id;const e=r.tables;return e&&e.length?e[0].id:null}function h(r){var s,e,f,o;return(null!=(e=null==(s=null==r?void 0:r.layers)?void 0:s.length)?e:0)+(null!=(o=null==(f=null==r?void 0:r.tables)?void 0:f.length)?o:0)}},45205:(L,m,t)=>{t.d(m,{b:()=>n});var l=t(15861),d=t(84792);function n(y){return a.apply(this,arguments)}function a(){return(a=(0,l.Z)(function*(y){const{data:c}=yield(0,d.default)(y,{responseType:"json",query:{f:"json"}});return c})).apply(this,arguments)}}}]);