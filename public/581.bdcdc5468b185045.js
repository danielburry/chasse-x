"use strict";var Be=Object.defineProperty,Ge=Object.defineProperties,Ne=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,Ue=(Te,ge,z)=>ge in Te?Be(Te,ge,{enumerable:!0,configurable:!0,writable:!0,value:z}):Te[ge]=z,_e=(Te,ge)=>{for(var z in ge||(ge={}))Fe.call(ge,z)&&Ue(Te,z,ge[z]);if(Me)for(var z of Me(ge))Ve.call(ge,z)&&Ue(Te,z,ge[z]);return Te},Se=(Te,ge)=>Ge(Te,Ne(ge));(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[581],{3579:(Te,ge,z)=>{z.d(ge,{J:()=>pe});var $,ue,ae,se={exports:{}};$=se,void 0!==(ae=function(){function q(i){this.message="JPEG error: "+i}return(q.prototype=new Error).name="JpegError",q.constructor=q,q}(),ue=function(){if(!self||!self.Uint8ClampedArray)return null;var q=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),i=4017,Z=1567,te=5793,M=2896;function N(){this.decodeTransform=null,this.colorTransform=-1}function Y(a,u){for(var m,r,t=0,s=[],n=16;n>0&&!a[n-1];)n--;s.push({children:[],index:0});var h,y=s[0];for(m=0;m<n;m++){for(r=0;r<a[m];r++){for((y=s.pop()).children[y.index]=u[t];y.index>0;)y=s.pop();for(y.index++,s.push(y);s.length<=m;)s.push(h={children:[],index:0}),y.children[y.index]=h.children,y=h;t++}m+1<n&&(s.push(h={children:[],index:0}),y.children[y.index]=h.children,y=h)}return s[0].children}function U(a,u,m){return 64*((a.blocksPerLine+1)*u+m)}function re(a,u,m,r,t,s,n,h,y){var P=m.mcusPerLine,v=u,k=0,F=0;function G(){if(F>0)return F--,k>>F&1;if(255===(k=a[u++])){var V=a[u++];if(V)throw new ae("unexpected marker "+(k<<8|V).toString(16))}return F=7,k>>>7}function B(V){for(var X=V;;){if("number"==typeof(X=X[G()]))return X;if("object"!=typeof X)throw new ae("invalid huffman sequence")}}function S(V){for(var X=0;V>0;)X=X<<1|G(),V--;return X}function W(V){if(1===V)return 1===G()?1:-1;var X=S(V);return X>=1<<V-1?X:X+(-1<<V)+1}var c,l=0,D=0;function w(V,X,fe,le,me){X(V,U(V,(fe/P|0)*V.v+le,fe%P*V.h+me))}var C,T,g,I,p,E,L=r.length;E=m.progressive?0===s?0===h?function e(V,X){var fe=B(V.huffmanTableDC),le=0===fe?0:W(fe)<<y;V.blockData[X]=V.pred+=le}:function o(V,X){V.blockData[X]|=G()<<y}:0===h?function d(V,X){if(l>0)l--;else for(var fe=s,le=n;fe<=le;){var me=B(V.huffmanTableAC),be=15&me,ye=me>>4;if(0!==be){var Ce=q[fe+=ye];V.blockData[X+Ce]=W(be)*(1<<y),fe++}else{if(ye<15){l=S(ye)+(1<<ye)-1;break}fe+=16}}}:function _(V,X){for(var fe,le,me=s,be=n,ye=0;me<=be;){var Ce=q[me];switch(D){case 0:if(ye=(le=B(V.huffmanTableAC))>>4,0==(fe=15&le))ye<15?(l=S(ye)+(1<<ye),D=4):(ye=16,D=1);else{if(1!==fe)throw new ae("invalid ACn encoding");c=W(fe),D=ye?2:3}continue;case 1:case 2:V.blockData[X+Ce]?V.blockData[X+Ce]+=G()<<y:0==--ye&&(D=2===D?3:0);break;case 3:V.blockData[X+Ce]?V.blockData[X+Ce]+=G()<<y:(V.blockData[X+Ce]=c<<y,D=0);break;case 4:V.blockData[X+Ce]&&(V.blockData[X+Ce]+=G()<<y)}me++}4===D&&0==--l&&(D=0)}:function x(V,X){var fe=B(V.huffmanTableDC),le=0===fe?0:W(fe);V.blockData[X]=V.pred+=le;for(var me=1;me<64;){var be=B(V.huffmanTableAC),ye=15&be,Ce=be>>4;if(0!==ye){var Ie=q[me+=Ce];V.blockData[X+Ie]=W(ye),me++}else{if(Ce<15)break;me+=16}}};var j,K,J,H,V,fe,ee=0;for(K=1===L?r[0].blocksPerLine*r[0].blocksPerColumn:P*m.mcusPerColumn;ee<K;){var Q=t?Math.min(K-ee,t):K;for(T=0;T<L;T++)r[T].pred=0;if(l=0,1===L)for(C=r[0],p=0;p<Q;p++)E(V=C,U(V,(fe=ee)/V.blocksPerLine|0,fe%V.blocksPerLine)),ee++;else for(p=0;p<Q;p++){for(T=0;T<L;T++)for(J=(C=r[T]).h,H=C.v,g=0;g<H;g++)for(I=0;I<J;I++)w(C,E,ee,g,I);ee++}F=0,(j=R(a,u))&&j.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+j.invalid),u=j.offset);var oe=j&&j.marker;if(!oe||oe<=65280)throw new ae("marker was not found");if(!(oe>=65488&&oe<=65495))break;u+=2}return(j=R(a,u))&&j.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+j.invalid),u=j.offset),u-v}function O(a,u,m){var r,t,s,n,h,y,P,A,v,k,F,G,B,S,W,x,e,o=a.quantizationTable,l=a.blockData;if(!o)throw new ae("missing required Quantization Table.");for(var d=0;d<64;d+=8)v=l[u+d],v*=o[d],0!=((k=l[u+d+1])|(F=l[u+d+2])|(G=l[u+d+3])|(B=l[u+d+4])|(S=l[u+d+5])|(W=l[u+d+6])|(x=l[u+d+7]))?(t=(r=(r=te*v+128>>8)+(t=te*(B*=o[d+4])+128>>8)+1>>1)-t,e=3784*(s=F*=o[d+2])+(n=W*=o[d+6])*Z+128>>8,s=s*Z-3784*n+128>>8,P=(h=(h=M*((k*=o[d+1])-(x*=o[d+7]))+128>>8)+(P=(S*=o[d+5])<<4)+1>>1)-P,y=(A=(A=M*(k+x)+128>>8)+(y=(G*=o[d+3])<<4)+1>>1)-y,n=(r=r+(n=e)+1>>1)-n,s=(t=t+s+1>>1)-s,e=2276*h+3406*A+2048>>12,h=3406*h-2276*A+2048>>12,A=e,e=799*y+P*i+2048>>12,y=y*i-799*P+2048>>12,P=e,m[d]=r+A,m[d+7]=r-A,m[d+1]=t+P,m[d+6]=t-P,m[d+2]=s+y,m[d+5]=s-y,m[d+3]=n+h,m[d+4]=n-h):(m[d]=e=te*v+512>>10,m[d+1]=e,m[d+2]=e,m[d+3]=e,m[d+4]=e,m[d+5]=e,m[d+6]=e,m[d+7]=e);for(var c=0;c<8;++c)v=m[c],0!=((k=m[c+8])|(F=m[c+16])|(G=m[c+24])|(B=m[c+32])|(S=m[c+40])|(W=m[c+48])|(x=m[c+56]))?(t=(r=4112+((r=te*v+2048>>12)+(t=te*B+2048>>12)+1>>1))-t,e=3784*(s=F)+(n=W)*Z+2048>>12,s=s*Z-3784*n+2048>>12,n=e,P=(h=(h=M*(k-x)+2048>>12)+(P=S)+1>>1)-P,y=(A=(A=M*(k+x)+2048>>12)+(y=G)+1>>1)-y,e=2276*h+3406*A+2048>>12,h=3406*h-2276*A+2048>>12,A=e,e=799*y+P*i+2048>>12,y=y*i-799*P+2048>>12,v=(v=(r=r+n+1>>1)+A)<16?0:v>=4080?255:v>>4,k=(k=(t=t+s+1>>1)+(P=e))<16?0:k>=4080?255:k>>4,F=(F=(s=t-s)+y)<16?0:F>=4080?255:F>>4,G=(G=(n=r-n)+h)<16?0:G>=4080?255:G>>4,B=(B=n-h)<16?0:B>=4080?255:B>>4,S=(S=s-y)<16?0:S>=4080?255:S>>4,W=(W=t-P)<16?0:W>=4080?255:W>>4,x=(x=r-A)<16?0:x>=4080?255:x>>4,l[u+c]=v,l[u+c+8]=k,l[u+c+16]=F,l[u+c+24]=G,l[u+c+32]=B,l[u+c+40]=S,l[u+c+48]=W,l[u+c+56]=x):(e=(e=te*v+8192>>14)<-2040?0:e>=2024?255:e+2056>>4,l[u+c]=e,l[u+c+8]=e,l[u+c+16]=e,l[u+c+24]=e,l[u+c+32]=e,l[u+c+40]=e,l[u+c+48]=e,l[u+c+56]=e)}function b(a,u){for(var m=u.blocksPerLine,r=u.blocksPerColumn,t=new Int16Array(64),s=0;s<r;s++)for(var n=0;n<m;n++)O(u,U(u,s,n),t);return u.blockData}function R(a,u,m){function r(y){return a[y]<<8|a[y+1]}var t=a.length-1,s=m<u?m:u;if(u>=t)return null;var n=r(u);if(n>=65472&&n<=65534)return{invalid:null,marker:n,offset:u};for(var h=r(s);!(h>=65472&&h<=65534);){if(++s>=t)return null;h=r(s)}return{invalid:n.toString(16),marker:h,offset:s}}return N.prototype={parse:function(a){function u(){var V=a[n]<<8|a[n+1];return n+=2,V}function m(){var V=u(),X=n+V-2,fe=R(a,X,n);fe&&fe.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+fe.invalid),X=fe.offset);var le=a.subarray(n,X);return n+=le.length,le}function r(V){for(var X=Math.ceil(V.samplesPerLine/8/V.maxH),fe=Math.ceil(V.scanLines/8/V.maxV),le=0;le<V.components.length;le++){p=V.components[le];var me=Math.ceil(Math.ceil(V.samplesPerLine/8)*p.h/V.maxH),be=Math.ceil(Math.ceil(V.scanLines/8)*p.v/V.maxV);p.blockData=new Int16Array(fe*p.v*64*(X*p.h+1)),p.blocksPerLine=me,p.blocksPerColumn=be}V.mcusPerLine=X,V.mcusPerColumn=fe}var t,s,n=0,h=null,y=null,P=[],A=[],v=[],k=u();if(65496!==k)throw new ae("SOI not found");for(k=u();65497!==k;){var F,G,B;switch(k){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var S=m();65504===k&&74===S[0]&&70===S[1]&&73===S[2]&&70===S[3]&&0===S[4]&&(h={version:{major:S[5],minor:S[6]},densityUnits:S[7],xDensity:S[8]<<8|S[9],yDensity:S[10]<<8|S[11],thumbWidth:S[12],thumbHeight:S[13],thumbData:S.subarray(14,14+3*S[12]*S[13])}),65518===k&&65===S[0]&&100===S[1]&&111===S[2]&&98===S[3]&&101===S[4]&&(y={version:S[5]<<8|S[6],flags0:S[7]<<8|S[8],flags1:S[9]<<8|S[10],transformCode:S[11]});break;case 65499:for(var W=u()+n-2;n<W;){var x=a[n++],e=new Uint16Array(64);if(x>>4==0)for(G=0;G<64;G++)e[q[G]]=a[n++];else{if(x>>4!=1)throw new ae("DQT - invalid table spec");for(G=0;G<64;G++)e[q[G]]=u()}P[15&x]=e}break;case 65472:case 65473:case 65474:if(t)throw new ae("Only single frame JPEGs supported");u(),(t={}).extended=65473===k,t.progressive=65474===k,t.precision=a[n++],t.scanLines=u(),t.samplesPerLine=u(),t.components=[],t.componentIds={};var o,l=a[n++],d=0,c=0;for(F=0;F<l;F++){o=a[n];var D=a[n+1]>>4,_=15&a[n+1];d<D&&(d=D),c<_&&(c=_),B=t.components.push({h:D,v:_,quantizationId:a[n+2],quantizationTable:null}),t.componentIds[o]=B-1,n+=3}t.maxH=d,t.maxV=c,r(t);break;case 65476:var f=u();for(F=2;F<f;){var C=a[n++],T=new Uint8Array(16),g=0;for(G=0;G<16;G++,n++)g+=T[G]=a[n];var I=new Uint8Array(g);for(G=0;G<g;G++,n++)I[G]=a[n];F+=17+g,(C>>4==0?v:A)[15&C]=Y(T,I)}break;case 65501:u(),s=u();break;case 65498:u();var p,E=a[n++],L=[];for(F=0;F<E;F++){var j=t.componentIds[a[n++]],K=a[n++];(p=t.components[j]).huffmanTableDC=v[K>>4],p.huffmanTableAC=A[15&K],L.push(p)}var J=a[n++],H=a[n++],ee=a[n++],Q=re(a,n,t,L,s,J,H,ee>>4,15&ee);n+=Q;break;case 65535:255!==a[n]&&n--;break;default:if(255===a[n-3]&&a[n-2]>=192&&a[n-2]<=254){n-=3;break}throw new ae("unknown marker "+k.toString(16))}k=u()}for(this.width=t.samplesPerLine,this.height=t.scanLines,this.jfif=h,this.eof=n,this.adobe=y,this.components=[],F=0;F<t.components.length;F++){var oe=P[(p=t.components[F]).quantizationId];oe&&(p.quantizationTable=oe),this.components.push({output:b(0,p),scaleX:p.h/t.maxH,scaleY:p.v/t.maxV,blocksPerLine:p.blocksPerLine,blocksPerColumn:p.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(a,u){var m,r,t,s,n,h,y,P,A,v,k,F=this.width/a,G=this.height/u,B=0,S=this.components.length,W=a*u*S,x=new Uint8ClampedArray(W),e=new Uint32Array(a),o=4294967288;for(y=0;y<S;y++){for(r=(m=this.components[y]).scaleX*F,t=m.scaleY*G,B=y,k=m.output,s=m.blocksPerLine+1<<3,n=0;n<a;n++)e[n]=((P=0|n*r)&o)<<3|7&P;for(h=0;h<u;h++)for(v=s*((P=0|h*t)&o)|(7&P)<<3,n=0;n<a;n++)x[B]=k[v+e[n]],B+=S}var l=this.decodeTransform;if(l)for(y=0;y<W;)for(P=0,A=0;P<S;P++,y++,A+=2)x[y]=(x[y]*l[A]>>8)+l[A+1];return x},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(a){for(var u,m,r,t=0,s=a.length;t<s;t+=3)m=a[t+1],a[t]=(u=a[t])-179.456+1.402*(r=a[t+2]),a[t+1]=u+135.459-.344*m-.714*r,a[t+2]=u-226.816+1.772*m;return a},_convertYcckToRgb:function(a){for(var u,m,r,t,s=0,n=0,h=a.length;n<h;n+=4)a[s++]=(m=a[n+1])*(-660635669420364e-19*m+.000437130475926232*(r=a[n+2])-54080610064599e-18*(u=a[n])+.00048449797120281*(t=a[n+3])-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*u-.00477271405408747*t+1.53380253221734)+u*(.000961250184130688*u-.00266257332283933*t+.48357088451265)+t*(-.000336197177618394*t+.484791561490776),a[s++]=107.268039397724+m*(219927104525741e-19*m-.000640992018297945*r+.000659397001245577*u+.000426105652938837*t-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*u+.000770482631801132*t-.151051492775562)+u*(.00126935368114843*u-.00265090189010898*t+.25802910206845)+t*(-.000318913117588328*t-.213742400323665),a[s++]=m*(-.000570115196973677*m-263409051004589e-19*r+.0020741088115012*u-.00288260236853442*t+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*u+.000560833691242812*t-.195152027534049)+u*(.00174418132927582*u-.00255243321439347*t+.116935020465145)+t*(-.000343531996510555*t+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var u,m,r,t=0,s=a.length;t<s;t+=4)m=a[t+1],a[t]=434.456-(u=a[t])-1.402*(r=a[t+2]),a[t+1]=119.541-u+.344*m+.714*r,a[t+2]=481.816-u-1.772*m;return a},_convertCmykToRgb:function(a){for(var u,m,r,t,s=0,n=1/255,h=0,y=a.length;h<y;h+=4)a[s++]=255+(u=a[h]*n)*(-4.387332384609988*u+54.48615194189176*(m=a[h+1]*n)+18.82290502165302*(r=a[h+2]*n)+212.25662451639585*(t=a[h+3]*n)-285.2331026137004)+m*(1.7149763477362134*m-5.6096736904047315*r-17.873870861415444*t-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*t+17.5119270841813)-t*(21.86122147463605*t+189.48180835922747),a[s++]=255+u*(8.841041422036149*u+60.118027045597366*m+6.871425592049007*r+31.159100130055922*t-79.2970844816548)+m*(-15.310361306967817*m+17.575251261109482*r+131.35250912493976*t-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*t-24.86741582555878)-t*(20.737325471181034*t+187.80453709719578),a[s++]=255+u*(.8842522430003296*u+8.078677503112928*m+30.89978309703729*r-.23883238689178934*t-14.183576799673286)+m*(10.49593273432072*m+63.02378494754052*r+50.606957656360734*t-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*t-193.58209356861505)-t*(22.33816807309886*t+180.12613974708367);return a},getData:function(a,u,m){if(this.numComponents>4)throw new ae("Unsupported color mode");var r=this._getLinearizedBlockData(a,u);if(1===this.numComponents&&m){for(var t=r.length,s=new Uint8ClampedArray(3*t),n=0,h=0;h<t;h++){var y=r[h];s[n++]=y,s[n++]=y,s[n++]=y}return s}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(r);if(4===this.numComponents){if(this._isColorConversionNeeded())return m?this._convertYcckToRgb(r):this._convertYcckToCmyk(r);if(m)return this._convertCmykToRgb(r)}return r}},N}())&&($.exports=ue);const pe=se.exports},34022:(Te,ge,z)=>{z.d(ge,{Z:()=>pe});var $,he,ue,se={exports:{}};he=se,$=function(){function ae(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return ae.prototype={ensureBuffer:function(q){var i=this.buffer,ie=i?i.byteLength:0;if(q<ie)return i;for(var de=512;de<q;)de<<=1;for(var ce=new Uint8Array(de),Z=0;Z<ie;++Z)ce[Z]=i[Z];return this.buffer=ce},getByte:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(q){var i=this.pos;if(q){this.ensureBuffer(i+q);for(var ie=i+q;!this.eof&&this.bufferLength<ie;)this.readBlock();var de=this.bufferLength;ie>de&&(ie=de)}else{for(;!this.eof;)this.readBlock();ie=this.bufferLength}return this.pos=ie,this.buffer.subarray(i,ie)},lookChar:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(q,i,ie){for(var de=q+i;this.bufferLength<=de&&!this.eof;)this.readBlock();return new Stream(this.buffer,q,i,ie)},skip:function(q){q||(q=1),this.pos+=q},reset:function(){this.pos=0}},ae}(),void 0!==(ue=function(){if(!self||!self.Uint32Array)return null;var ae=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),ie=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],de=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function ce(ne){throw new Error(ne)}function Z(ne){var te=0,M=ne[te++],N=ne[te++];-1!=M&&-1!=N||ce("Invalid header in flate stream"),8!=(15&M)&&ce("Unknown compression method in flate stream"),((M<<8)+N)%31!=0&&ce("Bad FCHECK in flate stream"),32&N&&ce("FDICT bit set in flate stream"),this.bytes=ne,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,$.call(this)}return(Z.prototype=Object.create($.prototype)).getBits=function(ne){for(var te,M=this.codeSize,N=this.codeBuf,Y=this.bytes,U=this.bytesPos;M<ne;)void 0===(te=Y[U++])&&ce("Bad encoding in flate stream"),N|=te<<M,M+=8;return te=N&(1<<ne)-1,this.codeBuf=N>>ne,this.codeSize=M-=ne,this.bytesPos=U,te},Z.prototype.getCode=function(ne){for(var te=ne[0],M=ne[1],N=this.codeSize,Y=this.codeBuf,U=this.bytes,re=this.bytesPos;N<M;){var O;void 0===(O=U[re++])&&ce("Bad encoding in flate stream"),Y|=O<<N,N+=8}var b=te[Y&(1<<M)-1],R=b>>16,a=65535&b;return(0==N||N<R||0==R)&&ce("Bad encoding in flate stream"),this.codeBuf=Y>>R,this.codeSize=N-R,this.bytesPos=re,a},Z.prototype.generateHuffmanTable=function(ne){for(var te=ne.length,M=0,N=0;N<te;++N)ne[N]>M&&(M=ne[N]);for(var Y=1<<M,U=new Uint32Array(Y),re=1,O=0,b=2;re<=M;++re,O<<=1,b<<=1)for(var R=0;R<te;++R)if(ne[R]==re){var a=0,u=O;for(N=0;N<re;++N)a=a<<1|1&u,u>>=1;for(N=a;N<Y;N+=b)U[N]=re<<16|R;++O}return[U,M]},Z.prototype.readBlock=function(){function ne(e,o,l,d,c){for(var D=e.getBits(l)+d;D-- >0;)o[b++]=c}var te=this.getBits(3);if(1&te&&(this.eof=!0),0!=(te>>=1)){var M,N;if(1==te)M=ie,N=de;else if(2==te){for(var Y=this.getBits(5)+257,U=this.getBits(5)+1,re=this.getBits(4)+4,O=Array(ae.length),b=0;b<re;)O[ae[b++]]=this.getBits(3);for(var R=this.generateHuffmanTable(O),a=0,u=(b=0,Y+U),m=new Array(u);b<u;){var r=this.getCode(R);16==r?ne(this,m,2,3,a):17==r?ne(this,m,3,3,a=0):18==r?ne(this,m,7,11,a=0):m[b++]=a=r}M=this.generateHuffmanTable(m.slice(0,Y)),N=this.generateHuffmanTable(m.slice(Y,u))}else ce("Unknown block type in flate stream");for(var t=(S=this.buffer)?S.length:0,s=this.bufferLength;;){var n=this.getCode(M);if(n<256)s+1>=t&&(t=(S=this.ensureBuffer(s+1)).length),S[s++]=n;else{if(256==n)return void(this.bufferLength=s);var h=(n=q[n-=257])>>16;h>0&&(h=this.getBits(h)),a=(65535&n)+h,n=this.getCode(N),(h=(n=i[n])>>16)>0&&(h=this.getBits(h));var y=(65535&n)+h;s+a>=t&&(t=(S=this.ensureBuffer(s+a)).length);for(var P=0;P<a;++P,++s)S[s]=S[s-y]}}}else{var A,v=this.bytes,k=this.bytesPos;void 0===(A=v[k++])&&ce("Bad block header in flate stream");var F=A;void 0===(A=v[k++])&&ce("Bad block header in flate stream"),F|=A<<8,void 0===(A=v[k++])&&ce("Bad block header in flate stream");var G=A;void 0===(A=v[k++])&&ce("Bad block header in flate stream"),(G|=A<<8)!=(65535&~F)&&ce("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var B=this.bufferLength,S=this.ensureBuffer(B+F),W=B+F;this.bufferLength=W;for(var x=B;x<W;++x){if(void 0===(A=v[k++])){this.eof=!0;break}S[x]=A}this.bytesPos=k}},Z}())&&(he.exports=ue);const pe=se.exports},79645:(Te,ge,z)=>{z.d(ge,{Z:()=>ne});var $=z(17626),he=z(86810),ue=z(62208),se=z(77712),i=(z(85931),z(8314),z(90912),z(76898)),ie=z(2004),de=z(65234),ce=z(27497);let Z=class extends he.wq{constructor(te){super(te),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var M,N,Y;const te=null!=(Y=null==(N=null==(M=this.keyProperties)?void 0:M.DataType)?void 0:N.toLowerCase())?Y:"generic";return"stdtime"===te?"standard-time":te}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(te){te&&this._set("nativeExtent",te)}get nativePixelSize(){if((0,ue.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const te=this.nativeExtent;return{x:te.width/this.width,y:te.height/this.height}}get hasMultidimensionalTranspose(){var te;return!!(null==(te=this.storageInfo)?void 0:te.transposeInfo)}};(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"attributeTable",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"bandCount",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"colormap",void 0),(0,$._)([(0,se.Cb)({type:String,readOnly:!0})],Z.prototype,"dataType",null),(0,$._)([(0,se.Cb)({type:ie.Z,json:{write:!0}})],Z.prototype,"extent",void 0),(0,$._)([(0,se.Cb)({type:ie.Z,json:{write:!0}})],Z.prototype,"nativeExtent",null),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"nativePixelSize",null),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"format",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"height",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"width",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"hasMultidimensionalTranspose",null),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"histograms",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"keyProperties",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"multidimensionalInfo",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"noDataValue",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"pixelSize",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"pixelType",void 0),(0,$._)([(0,se.Cb)()],Z.prototype,"isPseudoSpatialReference",void 0),(0,$._)([(0,se.Cb)({type:de.Z,json:{write:!0}})],Z.prototype,"spatialReference",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"statistics",void 0),(0,$._)([(0,se.Cb)({type:ce.Z,json:{write:!0}})],Z.prototype,"storageInfo",void 0),(0,$._)([(0,se.Cb)({json:{write:!0}})],Z.prototype,"transform",void 0),Z=(0,$._)([(0,i.j)("esri.layers.support.RasterInfo")],Z);const ne=Z},27497:(Te,ge,z)=>{z.d(ge,{Z:()=>de});var $=z(17626),he=z(86810),ue=z(77712),q=(z(85931),z(8314),z(90912),z(76898)),i=z(49672);let ie=class extends he.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}};(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"blockWidth",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"blockHeight",void 0),(0,$._)([(0,ue.Cb)({type:String,json:{write:!0}})],ie.prototype,"compression",void 0),(0,$._)([(0,ue.Cb)({type:i.Z,json:{write:!0}})],ie.prototype,"origin",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"firstPyramidLevel",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"maximumPyramidLevel",void 0),(0,$._)([(0,ue.Cb)({json:{write:!0}})],ie.prototype,"pyramidResolutions",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"pyramidScalingFactor",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"pyramidBlockWidth",void 0),(0,$._)([(0,ue.Cb)({type:Number,json:{write:!0}})],ie.prototype,"pyramidBlockHeight",void 0),(0,$._)([(0,ue.Cb)({type:Boolean,json:{write:!0}})],ie.prototype,"isVirtualTileInfo",void 0),(0,$._)([(0,ue.Cb)({json:{write:!0}})],ie.prototype,"tileInfo",void 0),(0,$._)([(0,ue.Cb)()],ie.prototype,"transposeInfo",void 0),(0,$._)([(0,ue.Cb)()],ie.prototype,"blockBoundary",void 0),ie=(0,$._)([(0,q.j)("esri.layers.support.RasterStorageInfo")],ie);const de=ie},15365:(Te,ge,z)=>{function $(he,ue){let se=0,pe="",ae=0,q=0;const i=he.length;for(;se<i;)q=he[se++],ae=q>>4,ae<8?ae=1:15===ae?(ae=4,q=(7&q)<<18|(63&he[se++])<<12|(63&he[se++])<<6|63&he[se++]):14===ae?(ae=3,q=(15&q)<<12|(63&he[se++])<<6|63&he[se++]):(ae=2,q=(31&q)<<6|63&he[se++]),(0!==q||ue)&&(pe+=String.fromCharCode(q));return pe}z.d(ge,{f:()=>$})},68786:(Te,ge,z)=>{z.d(ge,{Jx:()=>Z,zD:()=>pe});var $=z(54346);const he=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,128]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let ue=null,se=null;function pe(){return ue||(ue=z.e(2045).then(z.bind(z,72045)).then(te=>te.l).then(({default:te})=>te({locateFile:M=>(0,$.V)(`esri/layers/support/rasterFormats/${M}`)})).then(te=>{(function de(te){const{_malloc:M,_free:N,_lerc_getBlobInfo:Y,_lerc_getDataRanges:U,_lerc_decode_4D:re,asm:O}=te;let b;const R=Object.values(O).find(u=>u&&"buffer"in u&&u.buffer===te.HEAPU8.buffer),a=u=>{const m=u.map(n=>function i(te){return 16+(te>>3<<3)}(n)),r=m.reduce((n,h)=>n+h),t=M(r);b=new Uint8Array(R.buffer);let s=m[0];m[0]=t;for(let n=1;n<m.length;n++){const h=m[n];m[n]=m[n-1]+s,s=h}return m};q.getBlobInfo=u=>{const t=new Uint8Array(48),s=new Uint8Array(24),[n,h,y]=a([u.length,t.length,s.length]);b.set(u,n),b.set(t,h),b.set(s,y);let P=Y(n,u.length,h,y,12,3);if(P)throw N(n),`lerc-getBlobInfo: error code is ${P}`;b=new Uint8Array(R.buffer),ie(b,h,t),ie(b,y,s);const A=new Uint32Array(t.buffer),v=new Float64Array(s.buffer),[k,F,G,B,S,W,x,e,o,,l]=A,d={version:k,dimCount:G,width:B,height:S,validPixelCount:x,bandCount:W,blobSize:e,maskCount:o,dataType:F,minValue:v[0],maxValue:v[1],maxZerror:v[2],statistics:[],bandCountWithNoData:l};if(l)return d;if(1===G&&1===W)return N(n),d.statistics.push({minValue:v[0],maxValue:v[1]}),d;const c=G*W*8,D=new Uint8Array(c),_=new Uint8Array(c);let w=n,f=0,C=0,T=!1;if(b.byteLength<n+2*c?(N(n),T=!0,[w,f,C]=a([u.length,c,c]),b.set(u,w)):[f,C]=a([c,c]),b.set(D,f),b.set(_,C),P=U(w,u.length,G,W,f,C),P)throw N(w),T||N(f),`lerc-getDataRanges: error code is ${P}`;b=new Uint8Array(R.buffer),ie(b,f,D),ie(b,C,_);const g=new Float64Array(D.buffer),I=new Float64Array(_.buffer),p=d.statistics;for(let E=0;E<W;E++)if(G>1){const L=g.slice(E*G,(E+1)*G),j=I.slice(E*G,(E+1)*G),K=Math.min.apply(null,L),J=Math.max.apply(null,j);p.push({minValue:K,maxValue:J,dimStats:{minValues:L,maxValues:j}})}else p.push({minValue:g[E],maxValue:I[E]});return N(w),T||N(f),d},q.decode=(u,m)=>{const{maskCount:r,dimCount:t,bandCount:s,width:n,height:h,dataType:y,bandCountWithNoData:P}=m,A=he[y],v=n*h,k=new Uint8Array(v*s),G=new Uint8Array(v*t*s*A.size),B=new Uint8Array(s),S=new Uint8Array(8*s),[W,x,e,o,l]=a([u.length,k.length,G.length,B.length,S.length]);b.set(u,W),b.set(k,x),b.set(G,e),b.set(B,o),b.set(S,l);const d=re(W,u.length,r,x,t,n,h,s,y,e,o,l);if(d)throw N(W),`lerc-decode: error code is ${d}`;b=new Uint8Array(R.buffer),ie(b,e,G),ie(b,x,k);let c=null;if(P){ie(b,o,B),ie(b,l,S),c=[];const D=new Float64Array(S.buffer);for(let _=0;_<B.length;_++)c.push(B[_]?D[_]:null)}return N(W),{data:G,maskData:k,noDataValues:c}}})(te),se=!0}),ue)}const q={getBlobInfo:null,decode:null};function ie(te,M,N){N.set(te.slice(M,M+N.length))}function ce(te,M,N,Y,U){if(N<2)return te;const re=new Y(M*N);if(U)for(let O=0,b=0;O<M;O++)for(let R=0,a=O;R<N;R++,a+=M)re[a]=te[b++];else for(let O=0,b=0;O<M;O++)for(let R=0,a=O;R<N;R++,a+=M)re[b++]=te[a];return re}function Z(te,M={}){var B;const N=null!=(B=M.inputOffset)?B:0,Y=te instanceof Uint8Array?te.subarray(N):new Uint8Array(te,N),U=q.getBlobInfo(Y),{data:re,maskData:O}=q.decode(Y,U),{width:b,height:R,bandCount:a,dimCount:u,dataType:m,maskCount:r,statistics:t}=U,s=he[m],n=new s.ctor(re.buffer),h=[],y=[],P=b*R,A=P*u;for(let S=0;S<a;S++){const W=n.subarray(S*A,(S+1)*A);if(M.returnPixelInterleavedDims)h.push(W);else{const x=ce(W,P,u,s.ctor,!0);h.push(x)}y.push(O.subarray(S*A,(S+1)*A))}const v=0===r?null:1===r?y[0]:new Uint8Array(P);if(r>1){v.set(y[0]);for(let S=1;S<y.length;S++){const W=y[S];for(let x=0;x<P;x++)v[x]=v[x]&W[x]}}const{noDataValue:k}=M;if(r>0&&null!=k&&s.range[0]<=k&&s.range[1]>=k)for(let S=0;S<a;S++){const W=h[S],x=y[S]||v;for(let e=0;e<P;e++)0===x[e]&&(W[e]=k)}return{width:b,height:R,bandCount:a,pixelType:M.pixelType&&0===U.version?M.pixelType:s.pixelType,dimCount:u,statistics:t,pixels:h,mask:v,bandMasks:r===a&&a>1?y:null}}},94194:(Te,ge,z)=>{function he(){const ae=[];for(let q=0;q<=257;q++)ae[q]=[q];return ae}function ue(ae,q){for(let i=0;i<q.length;i++)ae.push(q[i])}z.d(ge,{J:()=>pe});const se=new Set;function pe(ae,q,i,ie=!0){const de=function $(ae,q,i,ie=!0){if(q%4!=0||i%4!=0){const de=new ArrayBuffer(4*Math.ceil(i/4)),ce=new Uint8Array(de),Z=new Uint8Array(ae,q,i);if(ie)for(let ne=0;ne<ce.length;ne+=4)ce[ne]=Z[ne+3],ce[ne+1]=Z[ne+2],ce[ne+2]=Z[ne+1],ce[ne+3]=Z[ne];else ce.set(Z);return new Uint32Array(ce.buffer)}if(ie){const de=new Uint8Array(ae,q,i),ce=new Uint8Array(de.length);for(let Z=0;Z<ce.length;Z+=4)ce[Z]=de[Z+3],ce[Z+1]=de[Z+2],ce[Z+2]=de[Z+1],ce[Z+3]=de[Z];return new Uint32Array(ce.buffer)}return new Uint32Array(ae,q,i/4)}(ae,q,i,ie);let ce=9,Z=he(),ne=32,te=Z.length,M=[],N=1,Y=de[0],U=0;const re=de.length,O=8*(4*re-i),b=[];for(;null!=Y;){if(ne>=ce)ne-=ce,U=Y>>>32-ce,Y<<=ce;else{U=Y>>>32-ne,Y=de[N++];const a=ce-ne;ne=32-a,U=(U<<a)+(Y>>>ne),Y<<=a}if(257===U)break;if(256===U){ce=9,Z=he(),te=Z.length,M=[];continue}const R=Z[U];if(null==R){if(U>Z.length)throw"data integrity issue: code does not exist on code page";M.push(M[0]),Z[te++]=M.slice(),ue(b,M)}else ue(b,R),M.push(R[0]),M.length>1&&(Z[te++]=M.slice()),M=R.slice();if(se.has(te)&&ce++,0===ne&&(Y=de[N++],ne=32),N>re||N===re&&ne<=O)break}return new Uint8Array(b)}se.add(511),se.add(1023),se.add(2047),se.add(4095),se.add(8191)},8614:(Te,ge,z)=>{z.d(ge,{J:()=>S,y:()=>B});var $=z(15861),he=z(26584),ue=z(60295),se=z(10699),pe=z(34022);class ae{constructor(e){e&&(this.canvas=e.canvas,this.ctx=e.ctx||e.canvas&&e.canvas.getContext("2d"))}decode(e,o,l){if(!e||e.byteLength<10)throw new he.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:d,height:c,format:D}=o;const{applyJpegMask:_}=o;if(_&&(!d||!c))throw new he.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((w,f)=>{let C=null;"jpg"===D&&_&&(C=ae._getMask(e,{width:d,height:c}));const T=new Blob([new Uint8Array(e)],{type:"image/"+D=="jpg"?"jpeg":D}),g=URL.createObjectURL(T),I=new Image;let p;I.src=g,I.onload=()=>{if(URL.revokeObjectURL(g),(0,se.Hc)(l))return void f((0,se.zE)());d=I.width,c=I.height,this.canvas?(this.canvas.width===d&&this.canvas.height===c||(this.canvas.width=d,this.canvas.height=c),this.ctx.clearRect(0,0,d,c)):(this.canvas=document.createElement("canvas"),this.canvas.width=d,this.canvas.height=c,this.ctx=this.canvas.getContext("2d")),this.ctx.drawImage(I,0,0);const E=this.ctx.getImageData(0,0,d,c);let L;if(p=E.data,o.renderOnCanvas){if(C)for(L=0;L<C.length;L++)p[4*L+3]=C[L]?255:0;return this.ctx.putImageData(E,0,0),void w(null)}const j=d*c,K=new Uint8Array(j),J=new Uint8Array(j),H=new Uint8Array(j);if(C)for(L=0;L<j;L++)K[L]=p[4*L],J[L]=p[4*L+1],H[L]=p[4*L+2];else for(C=new Uint8Array(j),L=0;L<j;L++)K[L]=p[4*L],J[L]=p[4*L+1],H[L]=p[4*L+2],C[L]=p[4*L+3];w({width:d,height:c,pixels:[K,J,H],mask:C,pixelType:"u8"})},I.onerror=()=>{URL.revokeObjectURL(g),f("cannot load image")}})}static _getMask(e,o){let l=null;try{const d=new Uint8Array(e),c=Math.ceil(d.length/2);let D=0;const _=d.length-2;for(D=c;D<_&&(255!==d[D]||217!==d[D+1]);D++);if(D+=2,D<d.length-1){const w=new pe.Z(d.subarray(D)).getBytes();l=new Uint8Array(o.width*o.height);let f=0;for(let C=0;C<w.length;C++)for(let T=7;T>=0;T--)l[f++]=w[C]>>T&1}}catch(d){}return l}}var q=z(3579),ie=z(68786),de=z(94194);const ce=(x,e)=>Math.floor(x.byteLength/(e.width*e.height*Z(e.pixelType))),Z=x=>{let e=1;switch(x){case Uint8Array:case Int8Array:e=1;break;case Uint16Array:case Int16Array:e=2;break;case Uint32Array:case Int32Array:case Float32Array:e=4;break;case Float64Array:e=8}return e};var M=z(93122),N=z(44853),Y=function(x){var d,c,D;function _(w){var f,T,g,I,p,E,L,j,K,J,H,ee;for(this.data=w,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},I=null;;){switch(f=this.readUInt32(),L=function(){var Q,oe;for(oe=[],Q=0;Q<4;++Q)oe.push(String.fromCharCode(this.data[this.pos++]));return oe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(f);break;case"fcTL":I&&this.animation.frames.push(I),this.pos+=4,I={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),T=this.readUInt16()||100,I.delay=1e3*g/T,I.disposeOp=this.data[this.pos++],I.blendOp=this.data[this.pos++],I.data=[];break;case"IDAT":case"fdAT":for("fdAT"===L&&(this.pos+=4,f-=4),w=(null!=I?I.data:void 0)||this.imgData,J=0;0<=f?J<f:J>f;0<=f?++J:--J)w.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(f),(j=255-this.transparency.indexed.length)>0)for(H=0;0<=j?H<j:H>j;0<=j?++H:--H)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(f)[0];break;case 2:this.transparency.rgb=this.read(f)}break;case"tEXt":p=(K=this.read(f)).indexOf(0),E=String.fromCharCode.apply(String,K.slice(0,p)),this.text[E]=String.fromCharCode.apply(String,K.slice(p+1));break;case"IEND":return I&&this.animation.frames.push(I),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ee=this.colorType)||6===ee,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=f}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return _.load=function(w,f,C){var T;return"function"==typeof f&&(C=f),(T=new XMLHttpRequest).open("GET",w,!0),T.responseType="arraybuffer",T.onload=function(){var g;return g=new _(new Uint8Array(T.response||T.mozResponseArrayBuffer)),"function"==typeof(null!=f?f.getContext:void 0)&&g.render(f),"function"==typeof C?C(g):void 0},T.send(null)},_.prototype.read=function(w){var f,C;for(C=[],f=0;0<=w?f<w:f>w;0<=w?++f:--f)C.push(this.data[this.pos++]);return C},_.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.decodePixels=function(w){var f,C,T,g,I,p,E,L,K,J,H,ee,Q,oe,V,X,fe,le,me,be,ye,Ce;if(null==w&&(w=this.imgData),0===w.length)return new Uint8Array(0);for(w=(w=new pe.Z(w)).getBytes(),V=(H=this.pixelBitlength/8)*this.width,ee=new Uint8Array(V*this.height),p=w.length,oe=0,Q=0,C=0;Q<p;){switch(w[Q++]){case 0:for(g=le=0;le<V;g=le+=1)ee[C++]=w[Q++];break;case 1:for(g=me=0;me<V;g=me+=1)f=w[Q++],I=g<H?0:ee[C-H],ee[C++]=(f+I)%256;break;case 2:for(g=be=0;be<V;g=be+=1)f=w[Q++],T=(g-g%H)/H,ee[C++]=((X=oe&&ee[(oe-1)*V+T*H+g%H])+f)%256;break;case 3:for(g=ye=0;ye<V;g=ye+=1)f=w[Q++],T=(g-g%H)/H,I=g<H?0:ee[C-H],X=oe&&ee[(oe-1)*V+T*H+g%H],ee[C++]=(f+Math.floor((I+X)/2))%256;break;case 4:for(g=Ce=0;Ce<V;g=Ce+=1)f=w[Q++],T=(g-g%H)/H,0===oe?X=fe=0:(X=ee[(oe-1)*V+T*H+g%H],fe=T&&ee[(oe-1)*V+(T-1)*H+g%H]),E=(I=g<H?0:ee[C-H])+X-fe,L=Math.abs(E-I),K=Math.abs(E-X),J=Math.abs(E-fe),ee[C++]=(f+(L<=K&&L<=J?I:K<=J?X:fe))%256;break;default:throw new Error("Invalid filter algorithm: "+w[Q-1])}oe++}return ee},_.prototype.decodePalette=function(){var w,f,C,T,g,I,p,E,L;for(C=this.palette,I=this.transparency.indexed||[],g=new Uint8Array((I.length||0)+C.length),T=0,w=0,f=p=0,E=C.length;p<E;f=p+=3)g[T++]=C[f],g[T++]=C[f+1],g[T++]=C[f+2],g[T++]=null!=(L=I[w++])?L:255;return g},_.prototype.copyToImageData=function(w,f){var C,T,g,I,p,E,L,j,K,J,H;if(T=this.colors,K=null,C=this.hasAlphaChannel,this.palette.length&&(K=null!=(H=this._decodedPalette)?H:this._decodedPalette=this.decodePalette(),T=4,C=!0),j=(g=w.data||w).length,p=K||f,I=E=0,1===T)for(;I<j;)L=K?4*f[I/4]:E,J=p[L++],g[I++]=J,g[I++]=J,g[I++]=J,g[I++]=C?p[L++]:this.transparency.grayscale&&this.transparency.grayscale===J?0:255,E=L;else for(;I<j;)L=K?4*f[I/4]:E,g[I++]=p[L++],g[I++]=p[L++],g[I++]=p[L++],g[I++]=C?p[L++]:this.transparency.rgb&&this.transparency.rgb[1]===p[L-3]&&this.transparency.rgb[3]===p[L-2]&&this.transparency.rgb[5]===p[L-1]?0:255,E=L},_.prototype.decode=function(){var w;return w=new Uint8Array(this.width*this.height*4),this.copyToImageData(w,this.decodePixels()),w},c=x.document&&x.document.createElement("canvas"),D=c&&c.getContext("2d"),d=function(w){var f;return D.width=w.width,D.height=w.height,D.clearRect(0,0,w.width,w.height),D.putImageData(w,0,0),(f=new Image).src=c.toDataURL(),f},_.prototype.decodeFrames=function(w){var f,C,T,g,I,p,E,L;if(this.animation){for(L=[],C=I=0,p=(E=this.animation.frames).length;I<p;C=++I)T=w.createImageData((f=E[C]).width,f.height),g=this.decodePixels(new Uint8Array(f.data)),this.copyToImageData(T,g),f.imageData=T,L.push(f.image=d(T));return L}},_.prototype.renderFrame=function(w,f){var C,T,g;return C=(T=this.animation.frames)[f],g=T[f-1],0===f&&w.clearRect(0,0,this.width,this.height),1===(null!=g?g.disposeOp:void 0)?w.clearRect(g.xOffset,g.yOffset,g.width,g.height):2===(null!=g?g.disposeOp:void 0)&&w.putImageData(g.imageData,g.xOffset,g.yOffset),0===C.blendOp&&w.clearRect(C.xOffset,C.yOffset,C.width,C.height),w.drawImage(C.image,C.xOffset,C.yOffset)},_.prototype.animate=function(w){var f,C,T,g,I,p,E=this;return C=0,g=(p=this.animation).numFrames,T=p.frames,I=p.numPlays,(f=function(){var L,j;if(L=C++%g,j=T[L],E.renderFrame(w,L),g>1&&C/g<I)return E.animation._timeout=setTimeout(f,j.delay)})()},_.prototype.stopAnimation=function(){var w;return clearTimeout(null!=(w=this.animation)?w._timeout:void 0)},_.prototype.render=function(w){var f,C;return w._png&&w._png.stopAnimation(),w._png=this,w.width=this.width,w.height=this.height,f=w.getContext("2d"),this.animation?(this.decodeFrames(f),this.animate(f)):(C=f.createImageData(this.width,this.height),this.copyToImageData(C,this.decodePixels()),f.putImageData(C,0,0))},_}(self);const U=new Set(["jpg","png","bmp","gif"]),re=new Set(["S8","U8","S16","U16","S32","U32","F32","F64"]);function O(x,e){return b.apply(this,arguments)}function b(){return(b=(0,$.Z)(function*(x,e){var T;if(!N.f)throw new he.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,ie.zD)();const{offset:o,noDataValue:l}=e;let d=null==(T=e.pixelType)?void 0:T.toUpperCase();d&&!re.has(d)&&(d=null);const{width:c,height:D,pixelType:_,statistics:w,pixels:f,mask:C}=(0,ie.Jx)(x,{inputOffset:o,noDataValue:l,pixelType:d,returnPixelInterleavedDims:e.returnPixelInterleavedDims});return new ue.Z({width:c,height:D,pixelType:_.toLowerCase(),pixels:f,mask:C,statistics:w})})).apply(this,arguments)}function R(x,e){return a.apply(this,arguments)}function a(){return(a=(0,$.Z)(function*(x,e){const o=yield(0,M.Jx)(x,e),l=new ue.Z({width:o.width,height:o.height,pixels:o.pixels,pixelType:o.pixelType.toLowerCase(),mask:o.mask,statistics:null});return l.updateStatistics(),l})).apply(this,arguments)}function u(x,e){return m.apply(this,arguments)}function m(){return(m=(0,$.Z)(function*(x,e){const o=yield(0,M.Uw)(x,e.customOptions),l=new ue.Z({width:o.width,height:o.height,pixels:o.pixels,pixelType:o.pixelType.toLowerCase(),mask:o.mask,statistics:null});return l.updateStatistics(),l})).apply(this,arguments)}function r(x,e){const o=e.pixelType||"u8",l=ue.Z.getPixelArrayConstructor(o),d="u8"===o?x:new l(x.buffer),c=[],D=e.planes||1;if(1===D)c.push(d);else for(let w=0;w<D;w++){const f=(e.width||1)*(e.height||x.length),C=new l(f);for(let T=0;T<f;T++)C[T]=d[T*D+w];c.push(C)}const _=new ue.Z({width:e.width||1,height:e.height||x.length,pixels:c,pixelType:o,statistics:null});return _.updateStatistics(),_}function t(x,e){return r(new pe.Z(new Uint8Array(x)).getBytes(),e)}function s(x,e){return r((0,de.J)(x,e.offset,e.eof,!e.isInputBigEndian),e)}function h(x,e){const o=class i{static decode(e,o=!1){const l=new Uint8Array(e),d=new q.J;d.parse(l);const{width:c,height:D,numComponents:_,eof:w}=d,f=d.getData(c,D,!0);let C;const T=c*D;let g=0,I=0,p=0;if(!o&&w<l.length-1)try{const j=new pe.Z(l.subarray(w)).getBytes();C=new Uint8Array(T);let K=0;for(g=0;g<j.length;g++)for(p=7;p>=0;p--)C[K++]=j[g]>>p&1}catch(j){}let E,L=null;if(1===_&&f.length===c*D)L=[f,f,f];else{for(L=[],g=0;g<3;g++)E=new Uint8Array(T),L.push(E);for(p=0,I=0;I<T;I++)for(g=0;g<3;g++)L[g][I]=f[p++]}return{width:c,height:D,pixels:L,mask:C}}}.decode(x,e.hasNoZlibMask),l=new ue.Z({width:o.width,height:o.height,pixels:o.pixels,pixelType:"U8",mask:o.mask,statistics:null});return l.updateStatistics(),l}function y(x,e){const o=new Uint8Array(x),l=new Y(o),{width:d,height:c}=e,D=d*c,_=l.decode();let w,f=0,C=0;const T=new Uint8Array(D);for(f=0;f<D;f++)T[f]=_[4*f+3];const g=new ue.Z({width:d,height:c,pixels:[],pixelType:"U8",mask:T,statistics:[]});for(f=0;f<3;f++){for(w=new Uint8Array(D),C=0;C<D;C++)w[C]=_[4*C+f];g.addData({pixels:w})}return g.updateStatistics(),g}function P(x,e,o,l){return A.apply(this,arguments)}function A(){return(A=(0,$.Z)(function*(x,e,o,l){const d=new ae,c=_e({applyJpegMask:!1,format:e},o),D=yield d.decode(x,c,l),_=new ue.Z(D);return _.updateStatistics(),_})).apply(this,arguments)}function v(x){if(null==x)throw new he.Z("rasterCodec:decode","parameter encodeddata is required.");const e=new Uint8Array(x,0,10);let o="";return 255===e[0]&&216===e[1]?o="jpg":137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]?o="png":67===e[0]&&110===e[1]&&116===e[2]&&90===e[3]&&73===e[4]&&109===e[5]&&97===e[6]&&103===e[7]&&101===e[8]&&32===e[9]?o="lerc":76===e[0]&&101===e[1]&&114===e[2]&&99===e[3]&&50===e[4]&&32===e[5]?o="lerc2":73===e[0]&&73===e[1]&&42===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&42===e[3]||73===e[0]&&73===e[1]&&43===e[2]&&0===e[3]||77===e[0]&&77===e[1]&&0===e[2]&&43===e[3]?o="tiff":71===e[0]&&73===e[1]&&70===e[2]?o="gif":66===e[0]&&77===e[1]?o="bmp":String.fromCharCode.apply(null,e).toLowerCase().includes("error")&&(o="error"),o}function k(x){let e=null;switch(x){case"lerc":case"lerc2":e=O;break;case"jpg":e=h;break;case"png":e=y;break;case"bsq":case"bip":e=(o,l)=>function n(x,e,o){const{pixelTypeCtor:l}=function F(x){let e=null,o=null;switch(x?x.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":o=255,e=Uint8Array;break;case"u16":o=o||65535,e=Uint16Array;break;case"u32":o=o||2**32-1,e=Uint32Array;break;case"s8":o=o||-128,e=Int8Array;break;case"s16":o=o||-32768,e=Int16Array;break;case"s32":o=o||0-2**31,e=Int32Array;break;default:e=Float32Array}return{pixelTypeCtor:e,noDataValue:o}}(e.pixelType),d=(0,class te{static decode(e,o){const l=o.pixelType,d=[],c=o.width*o.height,D=ce(e,o),{bandIds:_,format:w}=o,f=_&&_.length||ce(e,o),C=e.byteLength-e.byteLength%(c*Z(l)),T=new l(e,0,c*D);let g,I,p,E,L;if("bip"===w)for(g=0;g<f;g++){for(E=new l(c),L=_?_[g]:g,I=0;I<c;I++)E[I]=T[I*D+L];d.push(E)}else if("bsq"===w)for(g=0;g<f;g++)L=_?_[g]:g,d.push(T.subarray(L*c,(L+1)*c));return C<e.byteLength-1&&(p=((x,e)=>{if(8*x.byteLength<e)return null;const o=new Uint8Array(x,0,Math.ceil(e/8)),l=new Uint8Array(e);let d=0,c=0,D=0,_=0;for(D=0;D<o.length-1;D++)for(c=o[D],_=7;_>=0;_--)l[d++]=c>>_&1;for(_=7;d<e-1;)c=o[o.length-1],l[d++]=c>>_&1,_--;return l})(e.slice(C),c)),{pixels:d,mask:p}}}.decode)(x,{width:e.width,height:e.height,pixelType:l,format:o}),c=new ue.Z({width:e.width,height:e.height,pixels:d.pixels,pixelType:e.pixelType,mask:d.mask,statistics:null});return c.updateStatistics(),c}(o,l,x);break;case"tiff":e=R;break;case"deflate":e=t;break;case"lzw":e=s;break;case"error":e=()=>{throw new he.Z("rasterCodec:decode","input data contains error")};break;default:e=()=>{throw new he.Z("rasterCodec:decode","unsupported raster format")}}return e}function G(x,e=1){if(!x)return;const{pixels:o,width:l,height:d,mask:c}=x;if(!o||0===o.length)return;const D=o.length,_=l-1,w=d-1,f=[];let C,T,g,I,p,E,L;const j=ue.Z.getPixelArrayConstructor(x.pixelType);if(0===e){for(C=0;C<D;C++){for(p=o[C],E=new j(_*w),T=0;T<w;T++)for(I=T*l,g=0;g<_;g++)E[T*_+g]=p[I+g];f.push(E)}if(c)for(L=new Uint8Array(_*w),T=0;T<w;T++)for(I=T*l,g=0;g<_;g++)L[T*_+g]=c[I+g]}else{for(C=0;C<D;C++){for(p=o[C],E=new j(_*w),T=0;T<w;T++)for(I=T*l,g=0;g<_;g++)E[T*_+g]=(p[I+g]+p[I+g+1]+p[I+l+g]+p[I+l+g+1])/4;f.push(E)}if(c)for(L=new Uint8Array(_*w),T=0;T<w;T++)for(I=T*l,g=0;g<_;g++)L[T*_+g]=Math.min.apply(null,[c[I+g],c[I+g+1],c[I+l+g],c[I+l+g+1]])}x.width=_,x.height=w,x.mask=L,x.pixels=f}function B(x){let e=v(x);return"lerc2"===e?e="lerc":"error"===e&&(e=""),e}function S(x){return W.apply(this,arguments)}function W(){return(W=(0,$.Z)(function*(x,e={},o){if(null==x)throw new he.Z("rasterCodec:decode","missing encodeddata parameter.");let l,d,c=e.format&&e.format.toLowerCase();if(!("bsq"!==c&&"bip"!==c||null!=e.width&&null!=e.height))throw new he.Z("rasterCodec:decode","requires width and height in options parameter.");return"tiff"===c&&e.customOptions?u(x,e):((!c||"bsq"!==c&&"bip"!==c&&"deflate"!==c&&"lzw"!==c)&&(c=v(x)),e.useCanvas&&U.has(c)?d=yield P(x,c,e,o):(l=k(c),e.isPoint&&((e=_e({},e)).width++,e.height++),d=yield l(x,e),e.isPoint&&G(d)),d)})).apply(this,arguments)}},93122:(Te,ge,z)=>{z.d(ge,{Dq:()=>s,FI:()=>n,If:()=>h,Jx:()=>W,Uw:()=>B,cK:()=>k,vr:()=>F});var $=z(15861),he=z(15365),ue=z(3579),se=z(68786),pe=z(94194),ae=z(635),q=z(44853),i=z(34022);const ie=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],de=4294967296,ce=new Set([1,5,6,7,8,34712,34887]);function Z(e,o){let l="unknown";return 3===e?l="f32":1===e?1===o?l="u1":2===o?l="u2":4===o?l="u4":o<=8?l="u8":o<=16?l="u16":o<=32&&(l="u32"):2===e&&(o<=8?l="s8":o<=16?l="s16":o<=32&&(l="s32")),l}function ne(e){let o=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":o=Uint8Array;break;case"u16":o=Uint16Array;break;case"u32":o=Uint32Array;break;case"s8":o=Int8Array;break;case"s16":o=Int16Array;break;case"s32":o=Int32Array;break;default:o=Float32Array}return o}function te(e,o){return{x:o[0]*e.x+o[1]*e.y+o[2],y:o[3]*e.x+o[4]*e.y+o[5]}}function M(e,o){var l;return null==(l=e.get(o))?void 0:l.values}function N(e,o){var l;return null==(l=e.get(o))?void 0:l.values}function Y(e,o){var l;return null==(l=e.get(o))?void 0:l.values[0]}function U(e,o){var l;return null==(l=e.get(o))?void 0:l.values[0]}function re(e,o,l,d=0,c=ae.Z.TIFF_TAGS,D=4){const _=8===D,w=_?P(new DataView(e,l,8),0,o):new DataView(e,l,2).getUint16(0,o),f=4+2*D,C=_?8:2,T=C+w*f;if(l+T>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:T};const g=l+T+4<=e.byteLength?v(new DataView(e,l+T,8===D?8:4),0,o,8===D):null,I=l+C,p=new Map;let E,L,j,K,J,H,ee;for(let Q=0;Q<w;Q++){L=new DataView(e,I+f*Q,f),j=L.getUint16(0,o),J=L.getUint16(2,o),K=ae.Z.getTagName(j,c);const oe=[];2===D?(H=L.getUint16(4,o),ee=L.getUint16(6,o)):4===D?(H=L.getUint32(4,o),ee=L.getUint32(8,o)):8===D&&(H=v(L,4,o,!0),ee=v(L,12,o,!0),oe.push(L.getUint32(12,o)),oe.push(L.getUint32(16,o))),E={id:j,type:J,valueCount:H,valueOffset:ee,valueOffsets:oe,values:null},s(e,o,E,d,!1,D),p.set(K,E)}return{success:!0,ifd:p,nextIFD:g,requiredBufferSize:T}}const O=(e,o)=>(0,se.Jx)(e,{inputOffset:o}).pixels[0];function b(e,o,l,d,c){return R.apply(this,arguments)}function R(){return(R=(0,$.Z)(function*(e,o,l,d,c){var K,J;const D=q.f===o,_=U(l,"BITSPERSAMPLE"),w=Z(null!=(K=U(l,"SAMPLEFORMAT"))?K:1,_),f=null!=(J=U(l,"COMPRESSION"))?J:1,C=ne(w);let T,g,I,p,E,L,j;if(34887===f)return yield(0,se.zD)(),O(e,d);if(1===f)I=e.slice(d,d+c),p=new Uint8Array(I);else if(8===f||32946===f)p=new Uint8Array(e,d,c),L=new i.Z(p),j=L.getBytes(),I=new ArrayBuffer(j.length),p=new Uint8Array(I),p.set(j);else if(6===f){p=new Uint8Array(e,d,c);const H=new ue.J;H.parse(p);const ee=H.getData(H.width,H.height,!0);I=new ArrayBuffer(ee.length),p=new Uint8Array(I),p.set(ee)}else if(7===f){const H=l.get("JPEGTABLES").values,ee=H.length-2;p=new Uint8Array(ee+c-2);for(let X=0;X<ee;X++)p[X]=H[X];const Q=new Uint8Array(e,d+2,c-2);for(let X=0;X<Q.length;X++)p[ee+X]=Q[X];const oe=new ue.J;oe.parse(p);const V=oe.getData(oe.width,oe.height,!0);I=new ArrayBuffer(V.length),p=new Uint8Array(I),p.set(V)}else 5===f&&(p=(0,pe.J)(e,d,c,o),I=p.buffer);if("u8"===w||"s8"===w||D)g=new C(I);else{switch(I=new ArrayBuffer(p.length),E=new Uint8Array(I),w){case"u16":case"s16":for(T=0;T<p.length;T+=2)E[T]=p[T+1],E[T+1]=p[T];break;case"u32":case"s32":case"f32":for(T=0;T<p.length;T+=4)E[T]=p[T+3],E[T+1]=p[T+2],E[T+2]=p[T+1],E[T+3]=p[T]}g=new C(I)}return g})).apply(this,arguments)}function a(e,o,l){return u.apply(this,arguments)}function u(){return(u=(0,$.Z)(function*(e,o,l){var Ie;const d=N(l,"TILEOFFSETS");if(void 0===d)return null;const c=N(l,"TILEBYTECOUNTS"),{width:D,height:_,pixelType:w,tileWidth:f,tileHeight:C}=n([l]),T=h(l,o),g=o.planes,I=D*_,p=U(l,"BITSPERSAMPLE"),E=34887===(null!=(Ie=U(l,"COMPRESSION"))?Ie:1),L=ne(w),j=[];for(let Ee=0;Ee<g;Ee++)j.push(new L(I));let K,J,H,ee,Q,oe,V,X,fe,le,me,be,ye;const Ce=Math.ceil(D/f);if(p%8==0)if(E&&T&&g>1){const Ee=Math.round(d.length/g);for(K=0;K<Ee;K++){oe=Math.floor(K/Ce)*C,V=K%Ce*f,X=oe*D+V;for(let Ae=0;Ae<g;Ae++){const De=K*g+Ae;if(0!==c[De])for(H=yield b(e,o.littleEndian,l,d[De],c[De]),le=0,fe=X,be=Math.min(f,D-V),me=Math.min(C,_-oe),ye=j[Ae],ee=0;ee<me;ee++)for(fe=X+ee*D,le=ee*f,Q=0;Q<be;Q++,fe++,le++)ye[fe]=H[le]}}}else for(K=0;K<d.length;K++)if(0!==c[K])for(oe=Math.floor(K/Ce)*C,V=K%Ce*f,X=oe*D+V,H=yield b(e,o.littleEndian,l,d[K],c[K]),le=0,fe=X,be=Math.min(f,D-V),me=Math.min(C,_-oe),J=0;J<g;J++)if(ye=j[J],T||E)for(ee=0;ee<me;ee++)for(fe=X+ee*D,le=f*C*J+ee*f,Q=0;Q<be;Q++,fe++,le++)ye[fe]=H[le];else for(ee=0;ee<me;ee++)for(fe=X+ee*D,le=ee*f*g+J,Q=0;Q<be;Q++,fe++,le+=g)ye[fe]=H[le];return{width:D,height:_,pixelType:w,pixels:j}})).apply(this,arguments)}const m=(e,o,l)=>{var ye;const d=q.f===o.littleEndian,c=N(l,"STRIPOFFSETS");if(void 0===c)return null;const{width:D,height:_,pixelType:w}=n([l]),f=o.planes,C=D*_,T=U(l,"BITSPERSAMPLE"),g=ne(w),I=new g(C*f),p=N(l,"STRIPBYTECOUNTS"),E=U(l,"ROWSPERSTRIP"),L=null!=(ye=U(l,"COMPRESSION"))?ye:1;let j,K,J,H,ee,Q,oe,V,X,fe,le,me=E;if(T%8==0)for(j=0;j<c.length;j++){if(ee=j*(E*D)*f,me=(j+1)*E>_?_-j*E:E,"u8"===w||"s8"===w||d){if(8===L||32946===L)oe=new Uint8Array(e,c[j],p[j]),fe=new i.Z(oe),le=fe.getBytes(),Q=new ArrayBuffer(le.length),oe=new Uint8Array(Q),oe.set(le),oe.length!==me*D*f*T/8&&console.log("strip byte counts is different than expected");else if(6===L){oe=new Uint8Array(e,c[j],p[j]);const Ce=new ue.J;Ce.parse(oe);const Ie=Ce.getData(Ce.width,Ce.height,!0);Q=new ArrayBuffer(Ie.length),oe=new Uint8Array(Q),oe.set(Ie)}else 5===L?(oe=(0,pe.J)(e,c[j],p[j],o.littleEndian),Q=oe.buffer):1===L&&(p[j]!==me*D*f*T/8&&console.log("strip byte counts is different than expected"),Q=e.slice(c[j],c[j]+p[j]));H=new g(Q)}else{switch(6===L||8===L||32946===L?(oe=new Uint8Array(e,c[j],p[j]),fe=new i.Z(oe),oe=fe.getBytes(),Q=new ArrayBuffer(oe.length),V=new Uint8Array(Q),oe.length!==me*D*f*T/8&&console.log("strip byte counts is different than expected")):1===L&&(p[j]!==me*D*f*T/8&&console.log("strip byte counts is different than expected"),Q=new ArrayBuffer(p[j]),oe=new Uint8Array(e,c[j],p[j]),V=new Uint8Array(Q)),w){case"u16":case"s16":for(J=0;J<oe.length;J+=2)V[J]=oe[J+1],V[J+1]=oe[J];break;case"u32":case"s32":case"f32":for(J=0;J<oe.length;J+=4)V[J]=oe[J+3],V[J+1]=oe[J+2],V[J+2]=oe[J+1],V[J+3]=oe[J]}H=new g(Q)}I.set(H,ee)}const be=[];if(1===f)be.push(I);else for(j=0;j<f;j++){for(X=new g(C),K=0;K<C;K++)X[K]=I[K*f+j];be.push(X)}return{width:D,height:_,pixelType:w,pixels:be}},r=(e,o,l)=>{if(!(e&&e.length>0&&o&&l))return null;let d,c,D;const _=e[0].length,w=e.length,f=new Uint8Array(_);for(let C=0;C<w;C++)if(d=e[C],c=o[C],D=l[C],0===C)for(let T=0;T<_;T++)f[T]=d[T]<c||d[T]>D?0:1;else for(let T=0;T<_;T++)f[T]&&(f[T]=d[T]<c||d[T]>D?0:1);return f};function s(e,o,l,d=0,c=!1,D=4){if(l.values)return!0;const _=l.type,w=l.valueCount;let f=l.valueOffset,C=[];const T=ie[_],g=8*T,I=w*T,p=w*ie[_]*8;let E,L;const j=8===D?64:32,K=l.valueOffsets;if(p>j&&I>(c?e.byteLength:e?e.byteLength-f+d:0))return l.offlineOffsetSize=[f,I],l.values=null,!1;if(p<=j){if(!o)if(j<=32)f>>>=32-p;else{const J=(null==K?void 0:K.length)?K[0]:f>>>0,H=(null==K?void 0:K.length)?K[1]:Math.round((f-J)/de);p<=32?(f=J>>>32-p,K[0]=f):(f=J*2**(32-p)+(H>>>32-p),K[0]=J,K[1]=H>>>32-p)}if(1===w&&g===j)C=[f];else if(64===j){const J=(null==K?void 0:K.length)?K[0]:f>>>0,H=(null==K?void 0:K.length)?K[1]:Math.round((f-J)/de);let ee=J,Q=32;for(L=1;L<=w;L++){const oe=32-g*L%32;if(Q<g){const V=ee<<oe>>>32-Q;ee=H,C.push(V+(H<<32-Q>>>32-Q)*2**(g-Q)),Q-=32-(g-Q)}else C.push(ee<<oe>>>32-g),Q-=g;0===Q&&(Q=32,ee=H)}}else for(L=1;L<=w;L++)C.push(f<<32-g*L>>>32-g)}else{f-=d,c&&(f=0);for(let J=f;J<f+I;J+=T){switch(_){case 1:case 2:case 7:E=new DataView(e,J,1).getUint8(0);break;case 3:E=new DataView(e,J,2).getUint16(0,o);break;case 4:case 13:E=new DataView(e,J,4).getUint32(0,o);break;case 5:E=new DataView(e,J,4).getUint32(0,o)/new DataView(e,J+4,4).getUint32(0,o);break;case 6:E=new DataView(e,J,1).getInt8(0);break;case 8:E=new DataView(e,J,2).getInt16(0,o);break;case 9:E=new DataView(e,J,4).getInt32(0,o);break;case 10:E=new DataView(e,J,4).getInt32(0,o)/new DataView(e,J+4,4).getInt32(0,o);break;case 11:E=new DataView(e,J,4).getFloat32(0,o);break;case 12:E=new DataView(e,J,8).getFloat64(0,o);break;case 16:case 18:E=P(new DataView(e,J,8),0,o);break;case 17:E=A(new DataView(e,J,8),0,o);break;default:E=null}C.push(E)}}if(2===_){let J="";const H=C;for(C=[],L=0;L<H.length;L++)0===H[L]&&""!==J?(C.push(J),J=""):J+=String.fromCharCode(H[L]);""===J&&0!==C.length||C.push(J)}return l.values=C,!0}function n(e){var De,Le;const o=e[0],l=U(o,"TILEWIDTH"),d=U(o,"TILELENGTH"),c=U(o,"IMAGEWIDTH"),D=U(o,"IMAGELENGTH"),_=U(o,"BITSPERSAMPLE"),w=U(o,"SAMPLESPERPIXEL"),f=null!=(De=U(o,"SAMPLEFORMAT"))?De:1,C=Z(f,_),T=h(o),g=M(o,"GDAL_NODATA");let I;(null==g?void 0:g.length)&&(I=g.map(ve=>parseFloat(ve)),I.some(ve=>isNaN(ve))&&(I=null));const p=null!=(Le=U(o,"COMPRESSION"))?Le:1;let E;switch(p){case 1:E="NONE";break;case 2:case 3:case 4:case 32771:E="CCITT";break;case 5:E="LZW";break;case 6:case 7:E="JPEG";break;case 32773:E="PACKBITS";break;case 8:case 32946:E="DEFLATE";break;case 34712:E="JPEG2000";break;case 34887:E="LERC";break;default:E=String(p)}let L=!0,j="";ce.has(p)||(L=!1,j+="unsupported tag compression "+p),f>3&&(L=!1,j+="unsupported tag sampleFormat "+f),_%8!=0&&(L=!1,j+="unsupported tag bitsPerSample "+_);const K=Y(o,"GEOASCIIPARAMS");let J;if(K){const ve=K.split("|").find(Pe=>Pe.includes("ESRI PE String = ")),we=ve?ve.replace("ESRI PE String = ",""):"";J=we.startsWith("COMPD_CS")||we.startsWith("PROJCS")||we.startsWith("GEOGCS")?{wkid:null,wkt:we}:null}const H=N(o,"GEOTIEPOINTS"),ee=N(o,"GEOPIXELSCALE"),Q=N(o,"GEOTRANSMATRIX"),oe=o.has("GEOKEYDIRECTORY")?o.get("GEOKEYDIRECTORY").data:null;let V,X,fe=!1;if(oe){fe=2===U(oe,"GTRasterTypeGeoKey");const ve=U(oe,"GTModelTypeGeoKey");if(2===ve){const we=U(oe,"GeographicTypeGeoKey");we>=1024&&we<=32766&&(J={wkid:we})}else if(1===ve){const we=U(oe,"ProjectedCSTypeGeoKey");we>=1024&&we<=32766&&(J={wkid:we})}}if(ee&&H&&H.length>=6?(V=[ee[0],0,H[3]-H[0]*ee[0],0,-Math.abs(ee[1]),H[4]-H[1]*ee[1]],fe&&(V[2]-=.5*V[0]+.5*V[1],V[5]-=.5*V[3]+.5*V[4])):Q&&16===Q.length&&(V=fe?[Q[0],Q[1],Q[3]-.5*Q[0],Q[4],Q[5],Q[7]-.5*Q[5]]:[Q[0],Q[1],Q[3],Q[4],Q[5],Q[7]]),V){const ve=[{x:0,y:D},{x:0,y:0},{x:c,y:D},{x:c,y:0}];let we,Pe=Number.POSITIVE_INFINITY,ke=Number.POSITIVE_INFINITY,xe=Number.NEGATIVE_INFINITY,Re=Number.NEGATIVE_INFINITY;for(let Oe=0;Oe<ve.length;Oe++)we=te(ve[Oe],V),Pe=we.x>Pe?Pe:we.x,xe=we.x<xe?xe:we.x,ke=we.y>ke?ke:we.y,Re=we.y<Re?Re:we.y;X={xmin:Pe,xmax:xe,ymin:ke,ymax:Re,spatialReference:J}}else X={xmin:-.5,ymin:.5-D,xmax:c-.5,ymax:.5,spatialReference:J};const le=e.filter(ve=>1===Y(ve,"NEWSUBFILETYPE"));let me,be,ye,Ce,Ie;if(le.length>0){me=Math.round(Math.log(c/U(le[0],"IMAGEWIDTH"))/Math.LN2);const ve=le[le.length-1];be=Math.round(Math.log(c/U(ve,"IMAGEWIDTH"))/Math.LN2),ye=U(ve,"TILEWIDTH"),Ce=U(ve,"TILELENGTH")}ye=be>0?ye||l:null,Ce=be>0?Ce||d:null,l&&(Ie=[{maxCol:Math.ceil(c/l)-1,maxRow:Math.ceil(D/d)-1,minRow:0,minCol:0}],le.forEach(ve=>{Ie.push({maxCol:Math.ceil(U(ve,"IMAGEWIDTH")/U(ve,"TILEWIDTH"))-1,maxRow:Math.ceil(U(ve,"IMAGELENGTH")/U(ve,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Ae=(e=>{if(!e)return null;const o=e.match(/<Item(.*?)Item>/gi);if(!o||0===o.length)return null;const l=new Map;let d,c,D,_,w;for(let K=0;K<o.length;K++)d=o[K],c=d.slice(6,d.indexOf(">")),_=d.indexOf("sample="),_>-1&&(w=d.slice(_+8,d.indexOf('"',_+8))),_=d.indexOf("name="),_>-1&&(c=d.slice(_+6,d.indexOf('"',_+6))),c&&(D=d.slice(d.indexOf(">")+1,d.indexOf("</Item>")).trim(),null!=w?l.has(c)?l.get(c)[w]=D:l.set(c,[D]):l.set(c,D)),w=null;const f=l.get("STATISTICS_MINIMUM"),C=l.get("STATISTICS_MAXIMUM"),T=l.get("STATISTICS_MEAN"),g=l.get("STATISTICS_STDDEV");let I=null;if(f&&C){I=[];for(let K=0;K<f.length;K++)I.push({min:parseFloat(f[K]),max:parseFloat(C[K]),avg:T&&parseFloat(T[K]),stddev:g&&parseFloat(g[K])})}const p=l.get("BandName"),E=l.get("WavelengthMin"),L=l.get("WavelengthMax");let j=null;if(p){j=[];for(let K=0;K<p.length;K++)j.push({BandName:p[K],WavelengthMin:E&&parseFloat(E[K]),WavelengthMax:L&&parseFloat(L[K])})}return{statistics:I,bandProperties:j,dataType:l.get("DataType"),rawMetadata:l}})(Y(e[0],"GDAL_METADATA"));return j+=" "+G({width:c,height:D,tileWidth:l,tileHeight:d,planes:w,ifds:e}),{width:c,height:D,tileWidth:l,tileHeight:d,planes:w,isBSQ:T,pixelType:C,compression:E,noData:I,isSupported:L,message:j,extent:X,affine:ee?null:V,firstPyramidLevel:me,maximumPyramidLevel:be,pyramidBlockWidth:ye,pyramidBlockHeight:Ce,tileBoundary:Ie,metadata:Ae}}function h(e,o){const l=M(e,"PLANARCONFIGURATION");return l?2===l[0]:!!o&&o.isBSQ}function y(e){const{littleEndian:o,isBigTiff:l,firstIFD:d}=k(e);let c=d;const D=[];do{const _=F(e,o,c,0,ae.Z.TIFF_TAGS,l?8:4);if(!_.success)break;D.push(_.ifd),c=_.nextIFD}while(c>0);return Se(_e({},n(D)),{littleEndian:o,isBigTiff:l,ifds:D})}function P(e,o,l){const d=e.getUint32(o,l),c=e.getUint32(o+4,l);return l?c*de+d:d*de+c}function A(e,o,l){let d=l?e.getInt32(o,l):e.getUint32(o,l),c=l?e.getUint32(o+4,l):e.getInt32(o+4,l);const D=(l?d:c)>=0?1:-1;return l?d*=D:c*=D,D*(l?c*de+d:d*de+c)}function v(e,o,l,d){return d?P(e,o,l):e.getUint32(o,l)}function k(e){const o=new DataView(e,0,16),l=o.getUint16(0,!1);let d=null;if(18761===l)d=!0;else{if(19789!==l)throw"unexpected endianess byte";d=!1}const c=o.getUint16(2,d);if(42!==c&&43!==c)throw"unexpected tiff identifier";let D=4;const _=43===c;if(_){const w=o.getUint16(D,d);if(D+=2,8!==w||0!==o.getUint16(D,d))throw"unsupported bigtiff version";D+=2}return{littleEndian:d,isBigTiff:_,firstIFD:v(o,D,d,_)}}function F(e,o,l,d=0,c=ae.Z.TIFF_TAGS,D=4){const _=re(e,o,l,d,c,D);let w;const f=_.ifd;if(f){if(ae.Z.ifdTags.forEach((C,T)=>{f.has(T)&&(w=f.get(T),w.data=re(e,o,w.valueOffset-d,d,C).ifd)}),f.has("GEOKEYDIRECTORY")){w=f.get("GEOKEYDIRECTORY");const C=w.values;if(C&&C.length>4){const T=C[0]+"."+C[1]+"."+C[2];w.data=re(e,o,w.valueOffset+6-d,d,ae.Z.GEO_KEYS,2).ifd,w.data&&w.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[T]})}}if(f.has("XMP")){w=f.get("XMP");const C=w.values;"number"==typeof C[0]&&7===w.type&&(w.values=[(0,he.f)(new Uint8Array(C))])}}return _}function G(e){const{width:o,height:l,tileHeight:d,tileWidth:c}=e,D=e.planes,_=c?c*d:o*l,w=U(e.ifds[0],"BITSPERSAMPLE");let f="";return _*D>2**30/(w>8?w/8:1)&&(f=c?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),f}function B(e,o){return S.apply(this,arguments)}function S(){return(S=(0,$.Z)(function*(e,o){var fe;const{headerInfo:l,ifd:d,offsets:c,sizes:D}=o,_=[];for(let le=0;le<c.length;le++){const me=yield b(e,l.littleEndian,d,c[le],D[le]||e.byteLength);_.push(me)}const w=h(d,l),{pixelType:f,planes:C}=l,T=ne(f),g=U(d,"TILEWIDTH"),I=U(d,"TILELENGTH"),p=null!=(fe=U(d,"COMPRESSION"))?fe:1,E=g*I;let L;const j=[];let K=_[0];const J=34887===p;for(let le=0;le<C;le++){if(L=new T(E),w&&J){if(K=_[le],K.length)for(let me=0;me<E;me++)L[me]=K[le][me+le]}else if(K.length)if(w||J&&!w)L=K.slice(E*le,E*(le+1));else for(let me=0;me<E;me++)L[me]=K[me*C+le];j.push(L)}const H=l.noData?l.noData[0]:o.noDataValue,ee=l.metadata?l.metadata.statistics:null,Q=ee?ee.map(le=>le.min):null,oe=ee?ee.map(le=>le.max):null;let V,X;if(null!=H)if(V=new Uint8Array(E),Math.abs(H)>1e24)for(X=0;X<E;X++)V[X]=Math.abs((j[0][X]-H)/H)<1e-6?0:1;else for(X=0;X<E;X++)V[X]=j[0][X]===H?0:1;else Q&&oe&&o.applyMinMaxConstraint&&(V=r(j,Q,oe));return{pixelType:f,width:g,height:I,pixels:j,mask:V,noDataValue:H}})).apply(this,arguments)}function W(e){return x.apply(this,arguments)}function x(){return(x=(0,$.Z)(function*(e,o={}){const l=o.pyramidLevel||0,d=o.headerInfo||y(e),{ifds:c,noData:D}=d;if(0===c.length)throw"no valid image file directory";const _=G(d);if(_)throw _;let w,f;const C=-1===l?c[c.length-1]:c[l],T=D?D[0]:o.noDataValue;if(f=d.tileWidth?yield a(e,d,C):yield m(e,d,C),null!==T){if(f.mask=new Uint8Array(f.width*f.height),Math.abs(T)>1e24)for(w=0;w<f.width*f.height;w++)f.mask[w]=Math.abs((f.pixels[0][w]-T)/T)<1e-6?0:1;else for(w=0;w<f.width*f.height;w++)f.mask[w]=f.pixels[0][w]===T?0:1;f.noDataValue=T}return f})).apply(this,arguments)}},635:(Te,ge,z)=>{z.d(ge,{Z:()=>q});const $=(()=>{const i=[];return i[254]="NEWSUBFILETYPE",i[255]="SUBFILETYPE",i[256]="IMAGEWIDTH",i[257]="IMAGELENGTH",i[258]="BITSPERSAMPLE",i[259]="COMPRESSION",i[262]="PHOTOMETRICINTERPRETATION",i[263]="THRESHHOLDING",i[264]="CELLWIDTH",i[265]="CELLLENGTH",i[266]="FILLORDER",i[269]="DOCUMENTNAME",i[270]="IMAGEDESCRIPTION",i[271]="MAKE",i[272]="MODEL",i[273]="STRIPOFFSETS",i[274]="ORIENTATION",i[277]="SAMPLESPERPIXEL",i[278]="ROWSPERSTRIP",i[279]="STRIPBYTECOUNTS",i[280]="MINSAMPLEVALUE",i[281]="MAXSAMPLEVALUE",i[282]="XRESOLUTION",i[283]="YRESOLUTION",i[284]="PLANARCONFIGURATION",i[285]="PAGENAME",i[286]="XPOSITION",i[287]="YPOSITION",i[288]="FREEOFFSETS",i[289]="FREEBYTECOUNTS",i[290]="GRAYRESPONSEUNIT",i[291]="GRAYRESPONSECURVE",i[292]="T4OPTIONS",i[293]="T6OPTIONS",i[296]="RESOLUTIONUNIT",i[297]="PAGENUMBER",i[300]="COLORRESPONSEUNIT",i[301]="TRANSFERFUNCTION",i[305]="SOFTWARE",i[306]="DATETIME",i[315]="ARTIST",i[316]="HOSTCOMPUTER",i[317]="PREDICTOR",i[318]="WHITEPOINT",i[319]="PRIMARYCHROMATICITIES",i[320]="COLORMAP",i[321]="HALFTONEHINTS",i[322]="TILEWIDTH",i[323]="TILELENGTH",i[324]="TILEOFFSETS",i[325]="TILEBYTECOUNTS",i[326]="BADFAXLINES",i[327]="CLEANFAXDATA",i[328]="CONSECUTIVEBADFAXLINES",i[330]="SUBIFD",i[332]="INKSET",i[333]="INKNAMES",i[334]="NUMBEROFINKS",i[336]="DOTRANGE",i[337]="TARGETPRINTER",i[338]="EXTRASAMPLES",i[339]="SAMPLEFORMAT",i[340]="SMINSAMPLEVALUE",i[341]="SMAXSAMPLEVALUE",i[342]="TRANSFERRANGE",i[347]="JPEGTABLES",i[512]="JPEGPROC",i[513]="JPEGIFOFFSET",i[514]="JPEGIFBYTECOUNT",i[515]="JPEGRESTARTINTERVAL",i[517]="JPEGLOSSLESSPREDICTORS",i[518]="JPEGPOINTTRANSFORM",i[519]="JPEGQTABLES",i[520]="JPEGDCTABLES",i[521]="JPEGACTABLES",i[529]="YCBCRCOEFFICIENTS",i[530]="YCBCRSUBSAMPLING",i[531]="YCBCRPOSITIONING",i[532]="REFERENCEBLACKWHITE",i[700]="XMP",i[33550]="GEOPIXELSCALE",i[33922]="GEOTIEPOINTS",i[33432]="COPYRIGHT",i[42112]="GDAL_METADATA",i[42113]="GDAL_NODATA",i[50844]="RPCCOEFFICIENT",i[34264]="GEOTRANSMATRIX",i[34735]="GEOKEYDIRECTORY",i[34736]="GEODOUBLEPARAMS",i[34737]="GEOASCIIPARAMS",i[34665]="EXIFIFD",i[34853]="GPSIFD",i[40965]="INTEROPERABILITYIFD",i})(),he=(()=>{const i=[].concat($);return i[36864]="ExifVersion",i[40960]="FlashpixVersion",i[40961]="ColorSpace",i[42240]="Gamma",i[37121]="ComponentsConfiguration",i[37122]="CompressedBitsPerPixel",i[40962]="PixelXDimension",i[40963]="PixelYDimension",i[37500]="MakerNote",i[37510]="UserComment",i[40964]="RelatedSoundFile",i[36867]="DateTimeOriginal",i[36868]="DateTimeDigitized",i[36880]="OffsetTime",i[36881]="OffsetTimeOriginal",i[36882]="OffsetTimeDigitized",i[37520]="SubSecTime",i[37521]="SubSecTimeOriginal",i[37522]="SubSecTimeDigitized",i[37888]="Temperature",i[37889]="Humidity",i[37890]="Pressure",i[37891]="WaterDepth",i[37892]="Acceleration",i[37893]="CameraElevationAngle",i[42016]="ImageUniqueID",i[42032]="CameraOwnerName",i[42033]="BodySerialNumber",i[42034]="LensSpecification",i[42035]="LensMake",i[42036]="LensModel",i[42037]="LensSerialNumber",i[33434]="ExposureTime",i[33437]="FNumber",i[34850]="ExposureProgram",i[34852]="SpectralSensitivity",i[34855]="PhotographicSensitivity",i[34856]="OECF",i[34864]="SensitivityType",i[34865]="StandardOutputSensitivity",i[34866]="RecommendedExposureIndex",i[34867]="ISOSpeed",i[34868]="ISOSpeedLatitudeyyy",i[34869]="ISOSpeedLatitudezzz",i[37377]="ShutterSpeedValue",i[37378]="ApertureValue",i[37379]="BrightnessValue",i[37380]="ExposureBiasValue",i[37381]="MaxApertureValue",i[37382]="SubjectDistance",i[37383]="MeteringMode",i[37384]="LightSource",i[37385]="Flash",i[37386]="FocalLength",i[37396]="SubjectArea",i[41483]="FlashEnergy",i[41484]="SpatialFrequencyResponse",i[41486]="FocalPlaneXResolution",i[41487]="FocalPlaneYResolution",i[41488]="FocalPlaneResolutionUnit",i[41492]="SubjectLocation",i[41493]="ExposureIndex",i[41495]="SensingMethod",i[41728]="FileSource",i[41729]="SceneType",i[41730]="CFAPattern",i[41985]="CustomRendered",i[41986]="ExposureMode",i[41987]="WhiteBalance",i[41988]="DigitalZoomRatio",i[41989]="FocalLengthIn35mmFilm",i[41990]="SceneCaptureType",i[41991]="GainControl",i[41992]="Contrast",i[41993]="Saturation",i[41994]="Sharpness",i[41995]="DeviceSettingDescription",i[41996]="SubjectDistanceRange",i})(),se=(()=>{const i=[];return i[1024]="GTModelTypeGeoKey",i[1025]="GTRasterTypeGeoKey",i[1026]="GTCitationGeoKey",i[2048]="GeographicTypeGeoKey",i[2049]="GeogCitationGeoKey",i[2050]="GeogGeodeticDatumGeoKey",i[2051]="GeogPrimeMeridianGeoKey",i[2052]="GeogLinearUnitsGeoKey",i[2053]="GeogLinearUnitSizeGeoKey",i[2054]="GeogAngularUnitsGeoKey",i[2055]="GeogAngularUnitSizeGeoKey",i[2056]="GeogEllipsoidGeoKey",i[2057]="GeogSemiMajorAxisGeoKey",i[2058]="GeogSemiMinorAxisGeoKey",i[2059]="GeogInvFlatteningGeoKey",i[2061]="GeogPrimeMeridianLongGeoKey",i[2060]="GeogAzimuthUnitsGeoKey",i[3072]="ProjectedCSTypeGeoKey",i[3073]="PCSCitationGeoKey",i[3074]="ProjectionGeoKey",i[3075]="ProjCoordTransGeoKey",i[3076]="ProjLinearUnitsGeoKey",i[3077]="ProjLinearUnitSizeGeoKey",i[3078]="ProjStdParallel1GeoKey",i[3079]="ProjStdParallel2GeoKey",i[3080]="ProjNatOriginLongGeoKey",i[3081]="ProjNatOriginLatGeoKey",i[3082]="ProjFalseEastingGeoKey",i[3083]="ProjFalseNorthingGeoKey",i[3084]="ProjFalseOriginLongGeoKey",i[3085]="ProjFalseOriginLatGeoKey",i[3086]="ProjFalseOriginEastingGeoKey",i[3087]="ProjFalseOriginNorthingGeoKey",i[3088]="ProjCenterLongGeoKey",i[3090]="ProjCenterEastingGeoKey",i[3091]="ProjCenterNorthingGeoKey",i[3092]="ProjScaleAtNatOriginGeoKey",i[3093]="ProjScaleAtCenterGeoKey",i[3094]="ProjAzimuthAngleGeoKey",i[3095]="ProjStraightVertPoleLongGeoKey",i[4096]="VerticalCSTypeGeoKey",i[4097]="VerticalCitationGeoKey",i[4098]="VerticalDatumGeoKey",i[4099]="VerticalUnitsGeoKey",i})(),ae=new Map;ae.set("EXIFIFD",he),ae.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const q={TIFF_TAGS:$,ifdTags:ae,GEO_KEYS:se,getTagName:(i,ie)=>{let de=(ie||$)[i];return void 0===de&&(de="unknown"+String(i)),de}}},44853:(Te,ge,z)=>{z.d(ge,{f:()=>$});const $=(()=>{const he=new ArrayBuffer(4),ue=new Uint8Array(he);return new Uint32Array(he)[0]=1,1===ue[0]})()},17057:(Te,ge,z)=>{z.d(ge,{AV:()=>Z,Hv:()=>de,Oh:()=>ce,ZF:()=>i,dy:()=>te,hE:()=>ae,oc:()=>pe});var $=z(62208);const he={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},se=[.299,.587,.114];function pe(M,N=256){N=Math.min(N,256);const{size:Y,counts:U}=M,re=new Uint8Array(Y),O=U.reduce((m,r)=>m+r/N,0);let b=0,R=0,a=0,u=O;for(let m=0;m<Y;m++)if(a+=U[m],!(m<Y-1&&a+U[m+1]<u)){for(;b<N-1&&u<a;)b++,u+=O;for(let r=R;r<=m;r++)re[r]=b;R=m+1}for(let m=R;m<Y;m++)re[m]=N-1;return re}function ae(M){const{minCutOff:N,maxCutOff:Y,gamma:U,pixelType:re}=M,O=M.outMin||0,b=M.outMax||255;if(!["u8","u16","s8","s16"].includes(re))return null;const R=N.length;let a,u,m=0;"s8"===re?m=-127:"s16"===re&&(m=-32767);let r=256;["u16","s16"].includes(re)&&(r=65536);const t=[],s=b-O;for(a=0;a<R;a++)t[a]=Y[a]-N[a];const n=U&&U.length>=R,h=[];if(n)for(a=0;a<R;a++)h[a]=U[a]>1?U[a]>2?6.5+(U[a]-2)**2.5:6.5+100*(2-U[a])**4:1;let y;const P=[];let A,v,k;if(n)for(a=0;a<R;a++){for(k=[],u=0;u<r;u++)A=u+m,y=(A-N[a])/t[a],v=1,U[a]>1&&(v-=(1/s)**(y*h[a])),k[u]=A<Y[a]&&A>N[a]?Math.floor(v*s*y**(1/U[a]))+O:A>=Y[a]?b:O;P[a]=k}else for(a=0;a<R;a++){for(k=[],u=0;u<r;u++)A=u+m,k[u]=A<=N[a]?O:A>=Y[a]?b:Math.floor((A-N[a])/t[a]*s)+O;P[a]=k}if(null!=M.contrastOffset){const F=function q(M,N){const Y=Math.min(Math.max(M,-100),100),U=Math.min(Math.max(N,-100),100),re=255;let b,R;const a=new Uint8Array(256);for(b=0;b<256;b++)Y>0&&Y<100?R=(200*b-25500+510*U)/(2*(100-Y))+128:Y<=0&&Y>-100?R=(200*b-25500+510*U)*(100+Y)/2e4+128:100===Y?(R=200*b-25500+256*(100-Y)+510*U,R=R>0?re:0):-100===Y&&(R=128),a[b]=R>re?re:R<0?0:R;return a}(M.contrastOffset,M.brightnessOffset);for(a=0;a<R;a++)for(k=P[a],u=0;u<r;u++)k[u]=F[k[u]]}return{lut:P,offset:m}}function i(M,N,Y){const U=[];for(let re=0;re<N.length;re++){let O=0,b=0,R=0;"min"in N[re]?({min:O,max:b,avg:R}=N[re]):[O,b,R]=N[re];let a=R;"u8"!==M&&(a=255*(a-O)/(b-O)),Y&&(a*=se[re]),U.push(ie(a))}return U}function ie(M){if(M<=0||M>=255)return 1;let N=0;150!==M&&(N=M<=150?45*Math.cos(.01047*M):17*Math.sin(.021*M));const U=M+N,re=Math.log(M/255),O=Math.log(U/255);if(0===O)return 1;const b=re/O;return isNaN(b)?1:Math.min(9.9,Math.max(.01,b))}function de(M){var W;if((0,$.Wi)(M)||!(null==(W=M.pixels)?void 0:W.length))return null;M.statistics||M.updateStatistics();const{pixels:N,mask:Y,pixelType:U,statistics:re}=M,O=M.width*M.height,b=N.length;let R,a,u,m,r;const t=[],s=[];let n,h,y,P,A,v,k,F,G,B;const S=256;for(m=0;m<b;m++){if(n=new Uint32Array(S),y=N[m],"u8"===U)if(R=-.5,a=255.5,Y)for(r=0;r<O;r++)Y[r]&&n[y[r]]++;else for(r=0;r<O;r++)n[y[r]]++;else{if(R=re[m].minValue,a=re[m].maxValue,u=(a-R)/S,h=new Uint32Array(257),Y)for(r=0;r<O;r++)Y[r]&&h[Math.floor((y[r]-R)/u)]++;else for(r=0;r<O;r++)h[Math.floor((y[r]-R)/u)]++;for(r=0;r<255;r++)n[r]=h[r];n[255]=h[255]+h[256]}for(t.push({min:R,max:a,size:S,counts:n}),P=0,A=0,F=0,r=0;r<S;r++)P+=n[r],A+=r*n[r];for(G=A/P,r=0;r<S;r++)F+=n[r]*(r-G)**2;B=Math.sqrt(F/(P-1)),u=(a-R)/S,v=(G+.5)*u+R,k=B*u,s.push({min:R,max:a,avg:v,stddev:k})}return{statistics:s,histograms:t}}function ce(M){const N=[];for(let Y=0;Y<M.length;Y++){const{min:U,max:re,size:O,counts:b}=M[Y];let R=0,a=0;for(let n=0;n<O;n++)R+=b[n],a+=n*b[n];const u=a/R;let m=0;for(let n=0;n<O;n++)m+=b[n]*(n-u)**2;const r=(re-U)/O,t=(u+.5)*r+U,s=Math.sqrt(m/(R-1))*r;N.push({min:U,max:re,avg:t,stddev:s})}return N}function Z(M,N){var S;const{pixelBlock:Y,bandIds:U,returnHistogramLut:re,rasterInfo:O}=N;let b,R,a=M.stretchType;if(M.dra)if("minMax"===a&&(0,$.pC)(Y)&&Y.statistics)b=Y.statistics.map(W=>[W.minValue,W.maxValue,0,0]);else{const W=de(Y);b=(0,$.pC)(W)?W.statistics:null,R=(0,$.pC)(W)?W.histograms:null}else b=(null==(S=M.statistics)?void 0:S.length)>0?M.statistics:(0,$.Wg)(O.statistics),R=M.histograms||(0,$.Wg)(O.histograms);"percentClip"!==a&&"histogramEqualization"!==a||(null==R?void 0:R.length)||(a="minMax");const u=(null==b?void 0:b.length)||(null==R?void 0:R.length)||O.bandCount,m=[],r=[];let t,s,n,h,y,P,A,v,k,F,G,B;switch(b&&!Array.isArray(b[0])&&(b=b.map(W=>[W.min,W.max,W.avg,W.stddev])),a){case"none":{const W=he[O.pixelType]||he.f32;for(v=0;v<u;v++)m[v]=W[0],r[v]=W[1]}break;case"minMax":for(v=0;v<u;v++)m[v]=b[v][0],r[v]=b[v][1];break;case"standardDeviation":for(v=0;v<u;v++)m[v]=b[v][2]-M.numberOfStandardDeviations*b[v][3],r[v]=b[v][2]+M.numberOfStandardDeviations*b[v][3],m[v]<b[v][0]&&(m[v]=b[v][0]),r[v]>b[v][1]&&(r[v]=b[v][1]);break;case"histogramEqualization":for(v=0;v<u;v++)m[v]=R[v].min,r[v]=R[v].max;break;case"percentClip":for(v=0;v<R.length;v++){for(t=R[v],y=new Uint32Array(t.size),h=[...t.counts],h.length>=20&&(h[0]=h[1]=h[2]=h[h.length-1]=h[h.length-2]=0),n=0,s=(t.max-t.min)/t.size,A=-.5===t.min&&1===s?.5:0,k=0;k<t.size;k++)n+=h[k],y[k]=n;for(P=(M.minPercent||0)*n/100,k=0;k<t.size;k++)if(y[k]>P){m[v]=t.min+s*(k+A);break}for(P=(1-(M.maxPercent||0)/100)*n,k=t.size-2;k>=0;k--)if(y[k]<P){r[v]=t.min+s*(k+2-A);break}}break;default:for(v=0;v<u;v++)m[v]=b[v][0],r[v]=b[v][1]}return"histogramEqualization"===a?(G=R[0].size||256,F=0,re&&(B=R.map(W=>pe(W)))):(G=M.max||255,F=M.min||0),function ne(M,N){if(null==N||0===N.length)return M;const Y=Math.max.apply(null,N),{minCutOff:U,maxCutOff:re,outMin:O,outMax:b,histogramLut:R}=M;return U.length===N.length||U.length<=Y?M:{minCutOff:N.map(a=>U[a]),maxCutOff:N.map(a=>re[a]),histogramLut:R?N.map(a=>R[a]):null,outMin:O,outMax:b}}({minCutOff:m,maxCutOff:r,outMax:G,outMin:F,histogramLut:B},U)}function te(M,N){var F;if((0,$.Wi)(M)||!(null==(F=M.pixels)?void 0:F.length))return M;const Y=M.clone(),{pixels:U,mask:re}=Y,{minCutOff:O,maxCutOff:b,gamma:R}=N,a=N.outMin||0,u=N.outMax||255,m=Y.width*Y.height,r=U.length;let t,s,n,h,y;const P=u-a,A=[];for(t=0;t<r;t++)A[t]=b[t]-O[t];const v=R&&R.length>=r,k=[];if(v)for(t=0;t<r;t++)k[t]=R[t]>1?R[t]>2?6.5+(R[t]-2)**2.5:6.5+100*(2-R[t])**4:1;if(v)if(null!=re){for(s=0;s<m;s++)if(re[s])for(t=0;t<r;t++)n=U[t][s],y=(n-O[t])/A[t],h=1,R[t]>1&&(h-=(1/P)**(y*k[t])),U[t][s]=n<b[t]&&n>O[t]?Math.floor(h*P*y**(1/R[t]))+a:n>=b[t]?u:a}else for(s=0;s<m;s++)for(t=0;t<r;t++)n=U[t][s],y=(n-O[t])/A[t],h=1,R[t]>1&&(h-=(1/P)**(y*k[t])),U[t][s]=n<b[t]&&n>O[t]?Math.floor(h*P*y**(1/R[t]))+a:n>=b[t]?u:a;else if(null!=re){for(s=0;s<m;s++)if(re[s])for(t=0;t<r;t++)n=U[t][s],U[t][s]=n<b[t]&&n>O[t]?Math.floor((n-O[t])/A[t]*P)+a:n>=b[t]?u:a}else for(s=0;s<m;s++)for(t=0;t<r;t++)n=U[t][s],U[t][s]=n<b[t]&&n>O[t]?Math.floor((n-O[t])/A[t]*P)+a:n>=b[t]?u:a;return Y.pixelType="u8",Y.updateStatistics(),Y}},54805:(Te,ge,z)=>{z.d(ge,{Z:()=>m});var $=z(17626),he=z(78260),ue=z(86810),se=z(63290),pe=z(62208),ae=z(77712),de=(z(85931),z(8314),z(90912),z(76898)),ce=z(79645),Z=z(79751),ne=z(17057),te=z(60295);function M(r){let{altitude:t,azimuth:s}=r;const{hillshadeType:n,pixelSizePower:h,pixelSizeFactor:y,scalingType:P,isGCS:A,resolution:v}=r,k="multi-directional"===n?2*r.zFactor:r.zFactor,{x:F,y:G}=v;let B=k/(8*F),S=k/(8*G);if(A&&k>.001&&(B/=111e3,S/=111e3),"adjusted"===P)if(A){const I=111e3*F,p=111e3*G;B=(k+I**h*y)/(8*I),S=(k+p**h*y)/(8*p)}else B=(k+F**h*y)/(8*F),S=(k+G**h*y)/(8*G);let W=(90-t)*Math.PI/180,x=Math.cos(W),e=(360-s+90)*Math.PI/180,o=Math.sin(W)*Math.cos(e),l=Math.sin(W)*Math.sin(e);const d=[315,270,225,360,180,0],c=[60,60,60,60,60,90],D=new Float32Array([3,5,3,2,1,4]),_=D.reduce((I,p)=>I+p),w=D.map(I=>I/_),f="multi-directional"===n?d.length:1,C=new Float32Array(6),T=new Float32Array(6),g=new Float32Array(6);if("multi-directional"===n)for(let I=0;I<f;I++)t=c[I],s=d[I],W=(90-t)*Math.PI/180,x=Math.cos(W),e=(360-s+90)*Math.PI/180,o=Math.sin(W)*Math.cos(e),l=Math.sin(W)*Math.sin(e),C[I]=x,T[I]=o,g[I]=l;else C.fill(x),T.fill(o),g.fill(l);return{resolution:v,factor:[B,S],sinZcosA:o,sinZsinA:l,cosZ:x,sinZcosAs:T,sinZsinAs:g,cosZs:C,weights:w,hillshadeType:["traditional","multi-directional"].indexOf(n)}}var U=z(70208);const re=se.Z.getLogger("esri.renderers.support.RasterSymbolizer");let a=class extends ue.wq{constructor(r){super(r)}bind(){const{rendererJSON:r}=this;if(!r)return{success:!1};let t;switch(this.lookup={rendererJSON:{}},r.type){case"uniqueValue":t=this._updateUVRenderer(r);break;case"rasterColormap":t=this._updateColormapRenderer(r);break;case"rasterStretch":t=this._updateStretchRenderer(r);break;case"classBreaks":t=this._updateClassBreaksRenderer(r);break;case"rasterShadedRelief":t=this._updateShadedReliefRenderer(r);break;case"vectorField":t=this._updateVectorFieldRenderer();break;case"flowRenderer":t=this._updateFlowRenderer()}return t}symbolize(r){let t=r&&r.pixelBlock;if(!u(t))return t;if(r.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(t,r.simpleStretchParams);try{let s;switch(t.pixels.length>3&&(t=(0,Z.qF)(t,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":s=this._symbolizeColormap(t);break;case"classBreaks":s=this._symbolizeClassBreaks(t);break;case"rasterStretch":s=this._symbolizeStretch(t,r.bandIds);break;case"rasterShadedRelief":{const{extent:n}=r;s=this._symbolizeShadedRelief(t,{isGCS:n.spatialReference.isGeographic,resolution:{x:(n.xmax-n.xmin)/t.width,y:(n.ymax-n.ymin)/t.height}});break}}return s}catch(s){return re.error("symbolize",s.message),t}}simpleStretch(r,t){if(!u(r))return r;try{return r.pixels.length>3&&(r=(0,Z.qF)(r,[0,1,2])),(0,ne.dy)(r,t)}catch(s){return re.error("symbolize",s.message),r}}generateWebGLParameters(r){var P;if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:A,offset:v}=(null==(P=this.lookup)?void 0:P.colormapLut)||{};return{colormap:A,colormapOffset:v,type:"lut"}}const{pixelBlock:t,isGCS:s,resolution:n,bandIds:h}=r,{rendererJSON:y}=this;return"rasterStretch"===y.type?this._generateStretchWebGLParams(t,y,h):"rasterShadedRelief"===y.type?this._generateShadedReliefWebGLParams(y,s,n):"vectorField"===y.type?this._generateVectorFieldWebGLParams(y):null}_isLUTChanged(r){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const t=this.rendererJSON.colorRamp;return r?JSON.stringify(t)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(r){return this._isLUTChanged()&&!this.bind().success?r:(0,Z.SJ)(r,this.lookup.colormapLut)}_symbolizeClassBreaks(r){const{canUseIndexedLUT:t}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?r:t?(0,Z.SJ)(r,this.lookup.colormapLut):(0,Z.zp)(r,this.lookup.remapLut)}_symbolizeStretch(r,t){var G;const{rasterInfo:s}=this,{pixelType:n,bandCount:h}=s,y=this.rendererJSON,P=["u8","u16","s8","s16"].includes(n);let A,v;const{dra:k}=y,{gamma:F}=this.lookup;if("histogramEqualization"===y.stretchType){const B=k?null:this.lookup.histogramLut,S=(0,ne.AV)(y,{rasterInfo:s,pixelBlock:r,bandIds:t,returnHistogramLut:!B}),W=(0,ne.dy)(r,Se(_e({},S),{gamma:F}));v=(0,Z.XV)(W,{lut:k?S.histogramLut:B,offset:0})}else if(P){if(k){const B=(0,ne.AV)(y,{rasterInfo:s,pixelBlock:r,bandIds:t});A=(0,ne.hE)(Se(_e({pixelType:n},B),{gamma:F}))}else if(this._isLUTChanged()){if(!this.bind().success)return r;A=this.lookup?this.lookup.stretchLut:null}else A=this.lookup?this.lookup.stretchLut:null;if(!A)return r;h>1&&(null==t?void 0:t.length)===(null==(G=(0,pe.Wg)(r))?void 0:G.pixels.length)&&(null==A?void 0:A.lut.length)===h&&(A={lut:t.map(B=>A.lut[B]),offset:A.offset}),v=(0,Z.XV)(r,A)}else{const B=(0,ne.AV)(y,{rasterInfo:s,pixelBlock:r,bandIds:t});v=(0,ne.dy)(r,Se(_e({},B),{gamma:F}))}if(y.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return r;v=(0,Z.SJ)(v,this.lookup.colormapLut)}return v}_symbolizeShadedRelief(r,t){var A,v;const s=this.rendererJSON,h=function N(r,t){if(!(0,Z.nk)(r))return r;const{width:s,height:n,mask:h}=r,y=new Uint8Array(s*n);h&&y.set(h);const{factor:P,sinZcosA:A,sinZsinA:v,cosZ:k,sinZcosAs:F,sinZsinAs:G,cosZs:B,weights:S}=M(t),[W,x]=P,{hillshadeType:e}=t,o=r.pixels[0],l=new Uint8Array(s*n);let d,c,D,_,w,f,C,T;for(let I=1;I<n-1;I++){const p=I*s;for(let E=1;E<s-1;E++){if(h&&!h[p+E]){l[p+E]=0;continue}let L=8;if(h&&(L=h[p-s+E-1]+h[p-s+E]+h[p-s+E+1]+h[p+E-1]+h[p+E+1]+h[p+s+E-1]+h[p+s+E]+h[p+s+E+1],L<7)){l[p+E]=0,y[p+E]=0;continue}7===L?(d=h[p-s+E-1]?o[p-s+E-1]:o[p+E],c=h[p-s+E]?o[p-s+E]:o[p+E],D=h[p-s+E+1]?o[p-s+E+1]:o[p+E],_=h[p+E-1]?o[p+E-1]:o[p+E],w=h[p+E+1]?o[p+E+1]:o[p+E],f=h[p+s+E-1]?o[p+s+E-1]:o[p+E],C=h[p+s+E]?o[p+s+E]:o[p+E],T=h[p+s+E+1]?o[p+s+E+1]:o[p+E]):(d=o[p-s+E-1],c=o[p-s+E],D=o[p-s+E+1],_=o[p+E-1],w=o[p+E+1],f=o[p+s+E-1],C=o[p+s+E],T=o[p+s+E+1]);const j=(D+w+w+T-(d+_+_+f))*W,K=(f+C+C+T-(d+c+c+D))*x,J=Math.sqrt(1+j*j+K*K);let H=0;if("traditional"===e){let ee=255*(k+v*K-A*j)/J;ee<0&&(ee=0),H=ee}else{const ee=G.length;for(let Q=0;Q<ee;Q++){let oe=255*(B[Q]+G[Q]*K-F[Q]*j)/J;oe<0&&(oe=0),H+=oe*S[Q]}}l[p+E]=255&H}}for(let I=0;I<n;I++)l[I*s]=l[I*s+1],l[(I+1)*s-1]=l[(I+1)*s-2];for(let I=1;I<s-1;I++)l[I]=l[I+s],l[I+(n-1)*s]=l[I+(n-2)*s];return new te.Z({width:s,height:n,pixels:[l],mask:h?y:null,pixelType:"u8",validPixelCount:r.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}(r,_e(_e({},s),t));if(!s.colorRamp)return h;let y;if(this._isLUTChanged(!0)){if(!this.bind().success)return h;y=this.lookup?this.lookup.hsvMap:null}else y=this.lookup?this.lookup.hsvMap:null;return y?(function Y(r,t,s,n){if(!(0,Z.nk)(r)||!(0,Z.nk)(t))return;const{min:h,max:y}=n,P=r.pixels[0],{pixels:A,mask:v}=t,k=A[0],F=255.00001/(y-h),G=new Uint8ClampedArray(k.length),B=new Uint8ClampedArray(k.length),S=new Uint8ClampedArray(k.length),W=s.length-1;for(let x=0;x<k.length;x++){if(v&&0===v[x])continue;const e=Math.floor((k[x]-h)*F),[o,l]=s[e<0?0:e>W?W:e],d=P[x],c=d*l,D=c*(1-Math.abs(o%2-1)),_=d-c;switch(Math.floor(o)){case 0:G[x]=c+_,B[x]=D+_,S[x]=_;break;case 1:G[x]=D+_,B[x]=c+_,S[x]=_;break;case 2:G[x]=_,B[x]=c+_,S[x]=D+_;break;case 3:G[x]=_,B[x]=D+_,S[x]=c+_;break;case 4:G[x]=D+_,B[x]=_,S[x]=c+_;break;case 5:case 6:G[x]=c+_,B[x]=_,S[x]=D+_}}r.pixels=[G,B,S],r.updateStatistics()}(h,r,y,null!=(v=null==(A=(0,pe.Wg)(this.rasterInfo.statistics))?void 0:A[0])?v:{min:0,max:8e3}),h):h}_isVectorFieldData(){const{bandCount:r,dataType:t}=this.rasterInfo;return 2===r&&("vector-magdir"===t||"vector-uv"===t)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(r){const{bandCount:t,attributeTable:s,pixelType:n}=this.rasterInfo,h=r.field1;if(!h)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const y=r.defaultSymbol,P=1===t&&["u8","s8"].includes(n);if(!function O(r,t){const{attributeTable:s,bandCount:n}=r;return!((0,pe.Wi)(s)||n>1||t&&null==s.fields.find(h=>h.name.toLowerCase()===t.toLowerCase()))}(this.rasterInfo,h)&&!P)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const A=[];if(s){const k=s.fields.find(F=>"value"===F.name.toLowerCase());if(!k)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};s.features.forEach(F=>{var B,S;const G=null==(S=null==(B=r.uniqueValueInfos.find(W=>String(W.value)===String(F.attributes[h])))?void 0:B.symbol)?void 0:S.color;G?A.push([F.attributes[k.name]].concat(G)):y&&A.push([F.attributes[k.name]].concat(y.color))})}else{if("value"!==h.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};r.uniqueValueInfos.forEach(k=>{var G;const F=null==(G=null==k?void 0:k.symbol)?void 0:G.color;F?A.push([parseInt(""+k.value,10)].concat(F)):y&&A.push([parseInt(""+k.value,10)].concat(y.color))})}if(0===A.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const v=(0,Z.Pz)({colormap:A});return this.lookup={rendererJSON:r,colormapLut:v},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(r){if(!function R(r){const{bandCount:t,colormap:s}=r;return(0,pe.pC)(s)&&s.length&&1===t}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const t=r.colormapInfos.map(n=>[n.value].concat(n.color)).sort((n,h)=>n[0]-h[0]);if(!t||0===t.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const s=(0,Z.Pz)({colormap:t});return this.lookup={rendererJSON:r,colormapLut:s},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(r){if(!function b(r){const{bandCount:t,dataType:s,pixelType:n}=r;return"elevation"===s||"generic"===s&&1===t&&("s16"===n||"f32"===n||"f64"===n)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(r.colorRamp){const t=(0,U.Jw)(r.colorRamp,256,!0),s=(0,Z.Pz)({colormap:t}),n=[],h=s.indexedColormap;for(let y=0;y<h.length;y+=4){const P=(0,he._Y)({r:h[y],g:h[y+1],b:h[y+2]});n.push([P.h/60,P.s/100,255*P.v/100])}this.lookup={rendererJSON:r,colormapLut:s,hsvMap:n}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(r){const{attributeTable:t,pixelType:s}=this.rasterInfo,n=(0,pe.pC)(t)?t.fields.find(P=>"value"===P.name.toLowerCase()):null,h=(0,pe.pC)(t)?t.fields.find(P=>P.name.toLowerCase()===r.field.toLowerCase()):null,y=null!=n&&null!==h;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(s)||y,tableValueField:n,tableBreakField:h}}_updateClassBreaksRenderer(r){var G;const{attributeTable:t}=this.rasterInfo,{canUseIndexedLUT:s,tableValueField:n,tableBreakField:h}=this._analyzeClassBreaks(r),y=r.classBreakInfos;if(!(null==y?void 0:y.length))return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const P=y.sort((B,S)=>B.classMaxValue-S.classMaxValue),A=P[P.length-1];let v=r.minValue;if(!s){const B=[];for(let S=0;S<P.length;S++)B.push({value:null!=(G=P[S].classMinValue)?G:v,mappedColor:P[S].symbol.color}),v=P[S].classMaxValue;return B.push({value:A.classMaxValue,mappedColor:A.symbol.color}),this.lookup={rendererJSON:r,remapLut:B},this.canRenderInWebGL=!1,{success:!0}}const k=[];if(null!=n&&null!==h&&n!==h){const B=n.name,S=h.name,W=P[P.length-1],{classMaxValue:x}=W;v=r.minValue;for(const e of t.features){const o=e.attributes[B],l=e.attributes[S],d=l===x?W:l<v?null:P.find(({classMaxValue:c})=>c>l);d&&k.push([o].concat(d.symbol.color))}}else{v=Math.floor(r.minValue);for(let B=0;B<P.length;B++){const S=P[B];for(let W=v;W<S.classMaxValue;W++)k.push([W].concat(S.symbol.color));v=Math.ceil(S.classMaxValue)}A.classMaxValue===v&&k.push([A.classMaxValue].concat(A.symbol.color))}const F=(0,Z.Pz)({colormap:k,fillUnspecified:!1});return this.lookup={rendererJSON:r,colormapLut:F},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(r){return"percentClip"===r||"histogramEqualization"===r}_isValidRasterStatistics(r){return(0,pe.pC)(r)&&r.length>0&&null!=r[0].min&&null!=r[0].max}_updateStretchRenderer(r){var F,G;let{stretchType:t,dra:s}=r;if(!("none"===t||(null==(F=r.statistics)?void 0:F.length)||this._isValidRasterStatistics(this.rasterInfo.statistics)||s))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const n=(0,pe.Wg)(r.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(r.stretchType)||(null==n?void 0:n.length)||s||(t="minMax");const{computeGamma:h,useGamma:y,colorRamp:P}=r;let{gamma:A}=r;if(y&&h&&!(null==A?void 0:A.length)){const B=(null==(G=r.statistics)?void 0:G.length)?r.statistics:(0,pe.Wg)(this.rasterInfo.statistics);A=(0,ne.ZF)(this.rasterInfo.pixelType,B)}const v=this.rasterInfo.pixelType,k=!s&&["u8","u16","s8","s16"].includes(v);if("histogramEqualization"===t){const B=n.map(S=>(0,ne.oc)(S));this.lookup={rendererJSON:r,histogramLut:B}}else if(k){const B=(0,ne.AV)(r,{rasterInfo:this.rasterInfo}),S=(0,ne.hE)(Se(_e({pixelType:v},B),{gamma:y?A:null}));this.lookup={rendererJSON:r,stretchLut:S}}if(P){const B=(0,U.Jw)(P,256,!0);this.lookup||(this.lookup={rendererJSON:r}),this.lookup.colormapLut=(0,Z.Pz)({colormap:B}),this.lookup.rendererJSON=r}return this.lookup.gamma=y&&(null==A?void 0:A.length)?A:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(r,t,s){let n=null,h=null;const y=this.lookup&&this.lookup.colormapLut;t.colorRamp&&y&&(n=y.indexedColormap,h=y.offset),"histogramEqualization"===t.stretchType&&(t=Se(_e({},t),{stretchType:"minMax"}));const{gamma:P}=this.lookup,A=!!(t.useGamma&&P&&P.some(l=>1!==l)),{minCutOff:v,maxCutOff:k,outMin:F,outMax:G}=(0,ne.AV)(t,{rasterInfo:this.rasterInfo,pixelBlock:r,bandIds:s});let B=0;(0,pe.pC)(r)&&(B=r.getPlaneCount(),2===B&&((r=r.clone()).statistics=[r.statistics[0]],r.pixels=[r.pixels[0]]));const S=Math.min(3,(null==s?void 0:s.length)||B||this.rasterInfo.bandCount),W=new Float32Array(S),x=n||A?1:255;let e;for(e=0;e<S;e++)W[e]=(G-F)/(k[e]-v[e])/x;const o=new Float32Array(S);if(A)for(e=0;e<S;e++)o[e]=P[e]>1?P[e]>2?6.5+(P[e]-2)**2.5:6.5+100*(2-P[e])**4:1;return{bandCount:S,outMin:F/x,outMax:G/x,minCutOff:v,maxCutOff:k,factor:W,useGamma:A,gamma:A?P:[1,1,1],gammaCorrection:A?o:[1,1,1],colormap:n,colormapOffset:h,stretchType:t.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(r,t,s){var k,F,G;let n=null,h=null;const y=this.lookup&&this.lookup.colormapLut;r.colorRamp&&y&&(n=y.indexedColormap,h=y.offset);const A=M(Se(_e({},r),{isGCS:t,resolution:s})),v=null==(k=(0,pe.Wg)(this.rasterInfo.statistics))?void 0:k[0];return Se(_e({},A),{minValue:null!=(F=null==v?void 0:v.min)?F:0,maxValue:null!=(G=null==v?void 0:v.max)?G:8e3,hillshadeType:"traditional"===r.hillshadeType?0:1,type:"hillshade",colormap:n,colormapOffset:h})}_generateVectorFieldWebGLParams(r){var o,l,d,c,D,_,w,f;const{style:t,inputUnit:s,outputUnit:n,visualVariables:h,symbolTileSize:y,flowRepresentation:P}=r;let A;const v=null!=(l=null==(o=this.rasterInfo.statistics)?void 0:o[0].min)?l:0,k=null!=(c=null==(d=this.rasterInfo.statistics)?void 0:d[0].max)?c:50,F=null!=(D=null==h?void 0:h.find(C=>"sizeInfo"===C.type))?D:{type:"sizeInfo",field:"Magnitude",maxDataValue:k,maxSize:.8*y,minDataValue:v,minSize:.2*y},G=null!=(_=F.minDataValue)?_:v,B=null!=(w=F.maxDataValue)?w:k,S=(0,pe.pC)(F.maxSize)&&(0,pe.pC)(F.minSize)?[F.minSize/y,F.maxSize/y]:[.2,.8];"wind_speed"===t&&(S[0]=S[1]=(S[0]+S[1])/2);const W=(0,pe.pC)(G)&&(0,pe.pC)(B)?[G,B]:null;if("classified_arrow"===t)if((0,pe.pC)(G)&&(0,pe.pC)(B)&&(0,pe.pC)(F)){A=[];const C=(F.maxDataValue-F.minDataValue)/5;for(let T=0;T<6;T++)A.push(F.minDataValue+C*T)}else A=[0,1e-6,3.5,7,10.5,14];const x="flow_to"===P==("ocean_current_kn"===t||"ocean_current_m"===t)?0:Math.PI,e=null==h?void 0:h.find(C=>"rotationInfo"===C.type);return{breakValues:A,dataRange:W,inputUnit:s,outputUnit:n,symbolTileSize:y,symbolPercentRange:S,style:t||"single_arrow",rotation:x,rotationType:(null==(f=this.rasterInfo.storageInfo)?void 0:f.tileInfo)&&"vector-uv"===this.rasterInfo.dataType?"geographic":(null==e?void 0:e.rotationType)||r.rotationType,type:"vectorField"}}};function u(r){return(0,Z.nk)(r)&&0!==r.validPixelCount}(0,$._)([(0,ae.Cb)({json:{write:!0}})],a.prototype,"rendererJSON",void 0),(0,$._)([(0,ae.Cb)({type:ce.Z,json:{write:!0}})],a.prototype,"rasterInfo",void 0),(0,$._)([(0,ae.Cb)({json:{write:!0}})],a.prototype,"lookup",void 0),(0,$._)([(0,ae.Cb)()],a.prototype,"canRenderInWebGL",void 0),a=(0,$._)([(0,de.j)("esri.renderers.support.RasterSymbolizer")],a);const m=a},70208:(Te,ge,z)=>{z.d(ge,{Jw:()=>M,Ms:()=>ue,Uh:()=>q,io:()=>re,pM:()=>N});var $=z(91558),he=z(78260);const ue=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],se={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function pe(O,b){if(!O||!b||O.length!==b.length)return!1;for(let R=0;R<O.length;R++)if(O[R]>b[R]+2||O[R]<b[R]-2)return!1;return!0}function q(O){const b=function ae(O,b){if(!O)return;const R=b||ue;let a,u=null;return"algorithmic"===O.type?R.some(m=>{if(pe(O.fromColor.toRgb(),m.fromColor)&&pe(O.toColor.toRgb(),m.toColor))return u=m.id,!0}):"multipart"===O.type&&R.some(m=>{if(O.colorRamps&&m.colorRamps&&O.colorRamps.length===m.colorRamps.length&&(a=O.colorRamps,!m.colorRamps.some((r,t)=>{if(!pe(a[t].fromColor.toRgb(),new $.Z(r.fromColor).toRgb())||!pe(a[t].toColor.toRgb(),new $.Z(r.toColor).toRgb()))return!0}))){if(u)return!0;u=m.id}}),u}(O);return b?se[b]:null}function i(O){const b=(O=O||{}).numColors||256,R=O.distanceOffset||0,a=null!=O.isCustomInterval?O.isCustomInterval:null!==O.distanceInterval&&O.distanceInterval!==1/(b-1),u=O.distanceInterval||1/(b-1);return Se(_e({},O),{numColors:b,distanceOffset:R,interpolateAlpha:!!O.interpolateAlpha,distanceInterval:u,isCustomInterval:a,weights:O.weights})}function Z(O,b){var k,F;let{fromColor:R,toColor:a}=O;3===R.length&&(R=R.concat([255])),3===a.length&&(a=a.concat([255]));const u=O.algorithm||"esriCIELabAlgorithm",{numColors:m,distanceOffset:r,isCustomInterval:t,interpolateAlpha:s}=i(b);if(1===m&&0===r)return[R];if(2===m&&0===r&&!t)return[R,a];const n={r:R[0],g:R[1],b:R[2]},h={r:a[0],g:a[1],b:a[2]},y="esriCIELabAlgorithm"===u?function de(O,b,R){const{numColors:a,distanceOffset:u,distanceInterval:m,isCustomInterval:r}=i(R);let{l:t,a:s,b:n}=O;const h=(b.l-t)*m,y=(b.a-s)*m,P=(b.b-n)*m,A=[];if(u){const v=u/m;t+=v*h,s+=v*y,n+=v*P}for(let v=0;v<a-1;v++)A.push({l:t,a:s,b:n}),t+=h,s+=y,n+=P;return A.push(r?{l:t,a:s,b:n}:b),A}((0,he.Y3)(n),(0,he.Y3)(h),b):"esriHSVAlgorithm"===u?function ie(O,b,R){const{numColors:a,distanceOffset:u,distanceInterval:m,isCustomInterval:r}=i(R),t=0===O.s,s=0===b.s;let n=O.h,h=b.h;t&&!s?n=h:s&&!t&&(b=Se(_e({},b),{h:n}),h=n);let y,P=Math.abs(h-n);const A=360;P<180?y=(h-n)*m:(P=A-P,y=n>h?P*m:-P*m);const v=(b.s-O.s)*m,k=(b.v-O.v)*m;let{s:F,v:G}=O,B=n;if(u){const W=u/m;B=(B+W*y+A)%A,F+=W*v,G+=W*k}const S=[];for(let W=0;W<a-1;W++)S.push({h:B,s:F,v:G}),B=(B+y+A)%A,F+=v,G+=k;return S.push(r?{h:B,s:F,v:G}:b),S}((0,he._Y)(n),(0,he._Y)(h),b):function ce(O,b,R){const{numColors:a,distanceOffset:u,distanceInterval:m,isCustomInterval:r}=i(R),t=O.h,s=b.h,n=2*Math.PI;let h;if(t<=s){const B=s-t,S=s-t-n;h=Math.abs(S)<Math.abs(B)?S:B}else{const B=s+n-t,S=s-t;h=Math.abs(S)<Math.abs(B)?S:B}const y=h*m,P=(b.l-O.l)*m,A=(b.c-O.c)*m;let{l:v,c:k,h:F}=O;if(u){const B=u/m;v+=B*P,k+=B*A,F=(F+B*y+n)%n}const G=[];for(let B=0;B<a-1;B++)G.push({l:v,c:k,h:F}),v+=P,k+=A,F=(F+y+n)%n;return G.push(r?{l:v,c:k,h:F}:b),G}((0,he.sJ)(n),(0,he.sJ)(h),b),P=[],A=null!=(k=R[3])?k:255,v=((null!=(F=a[3])?F:255)-A)/(m-1);for(let G=0;G<m;G++){const{r:B,g:S,b:W}=(0,he.xr)(y[G]),x=s?Math.round(A+v*G):255;P.push([B,S,W,x])}return P}function M(O,b=256,R=!1){const a=function te(O,b=256,R=!1){const a="toJSON"in O?O.toJSON():O,u={numColors:b,interpolateAlpha:R};return"multipart"===a.type?function ne(O,b){const{numColors:R,interpolateAlpha:a}=i(b);let u=null==b?void 0:b.weights;const{colorRamps:m}=O;if(u){const P=u.reduce((A,v)=>A+v);u=u.map(A=>A/P)}else{u=[];for(let P=0;P<m.length;P++)u[P]=1/m.length}const r=[];let t=0,s=0;const n=1/(R-1);let h=!1;for(let P=0;P<m.length;P++){let A=h?0:t*n-s,v=P===m.length-1?R-1-t:(u[P]-A)/n;if(h=Math.ceil(v)===v,v=Math.ceil(v),0===v)continue;A/=u[P];const k=Z(m[P],{numColors:v,interpolateAlpha:a,distanceOffset:A,distanceInterval:n/u[P]});t+=k.length,r.push(...k),s+=u[P]}const y=[...m[m.length-1].toColor];return 3===y.length&&y.push(255),r.push(y),r}(a,u):Z(a,u)}(O,b,R);return a.forEach((u,m)=>{u.unshift(m),R||u.pop()}),a}function N(O){const b=q(O);if(O){if("algorithmic"===O.type)return Se(_e({},Y(O)),{Name:b});if(O.colorRamps){const R=O.colorRamps.map(Y);return{type:"MultiPartColorRamp",NumColorRamps:R.length,ArrayOfColorRamp:R,Name:b}}}}function Y(O){var b;if(O)return{Algorithm:(null==(b=O.toJSON())?void 0:b.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:U(O.fromColor),ToColor:U(O.toColor)}}function U(O){const b=(0,he._Y)(O);return{type:"HsvColor",Hue:b.h,Saturation:b.s,Value:b.v,AlphaValue:255}}function re(O){const b=O.reverse().map(R=>{const a=R.toString(16);return a.length<2?"0"+a:a});return 4294967295&Number.parseInt(b.join(""),16)}}}]);