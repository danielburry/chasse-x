"use strict";var f=Object.defineProperty,b=Object.defineProperties,v=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,d=(_,t,e)=>t in _?f(_,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):_[t]=e,y=(_,t)=>{for(var e in t||(t={}))j.call(t,e)&&d(_,e,t[e]);if(E)for(var e of E(t))I.call(t,e)&&d(_,e,t[e]);return _},h=(_,t)=>b(_,v(t));(self.webpackChunkchasse_pwa_front=self.webpackChunkchasse_pwa_front||[]).push([[5876],{65876:(_,t,e)=>{e.r(t),e.d(t,{default:()=>C});var c=e(17626),p=e(62208),u=e(32917),D=(e(63290),e(90912),e(85931),e(8314),e(82255),e(76898)),O=e(98624),P=e(1607);let n=class extends P.default{initialize(){this.handles.add([(0,u.YP)(()=>{var s;return null==(s=this.view)?void 0:s.viewpoint},()=>this._update(),u.nn)])}_injectOverrides(s){let r=super._injectOverrides(s);const i=this.view.scale,l=this.layer.sublayers.filter(o=>function M(s,r){return!s.visible||0!==s.minScale&&r>s.minScale||0!==s.maxScale&&r<s.maxScale}(o,i)).map(o=>o.subtypeCode);if(!l.length)return r;r=(0,p.pC)(r)?r:(new O.Z).toJSON();const a=`NOT ${this.layer.subtypeField} IN (${l.join(",")})`;return r.where=r.where?`(${r.where}) AND (${a})`:a,r}_setLayersForFeature(s){const r=this.layer.fieldsIndex.get(this.layer.subtypeField),i=s.attributes[r.name],l=this.layer.sublayers.find(a=>a.subtypeCode===i);s.layer=l,s.sourceLayer=this.layer}_createSchemaConfig(){const s={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(a=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:a.labelingInfo,labelsVisible:a.labelsVisible,renderer:a.renderer,subtypeCode:a.subtypeCode,orderBy:null}))},r=this.layer.sublayers.map(a=>a.subtypeCode).join(",");let l=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return l+=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${r})`:"1=2",h(y(y({},super._createSchemaConfig()),s),{definitionExpression:l})}};n=(0,c._)([(0,D.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],n);const C=n}}]);